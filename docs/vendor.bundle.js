!function(e){function t(e){delete installedChunks[e]}function l(e){var t=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.charset="utf-8",l.src=s.p+""+e+"."+y+".hot-update.js",t.appendChild(l)}function a(e){return e=e||1e4,new Promise(function(t,l){if("undefined"==typeof XMLHttpRequest)return l(new Error("No browser support"));try{var a=new XMLHttpRequest,n=s.p+""+y+".hot-update.json";a.open("GET",n,!0),a.timeout=e,a.send(null)}catch(e){return l(e)}a.onreadystatechange=function(){if(4===a.readyState)if(0===a.status)l(new Error("Manifest request to "+n+" timed out."));else if(404===a.status)t();else if(200!==a.status&&304!==a.status)l(new Error("Manifest request to "+n+" failed."));else{try{var e=JSON.parse(a.responseText)}catch(e){return void l(e)}t(e)}}})}function n(e){var t=J[e];if(!t)return s;var l=function(l){return t.hot.active?(J[l]?J[l].parents.indexOf(e)<0&&J[l].parents.push(e):(R=[e],u=l),t.children.indexOf(l)<0&&t.children.push(l)):(console.warn("[HMR] unexpected require("+l+") from disposed module "+e),R=[]),s(l)};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&"e"!==a&&Object.defineProperty(l,a,function(e){return{configurable:!0,enumerable:!0,get:function(){return s[e]},set:function(t){s[e]=t}}}(a));return l.e=function(e){function t(){F--,"prepare"===x&&(f[e]||r(e),0===F&&0===B&&o())}return"ready"===x&&c("prepare"),F++,s.e(e).then(t,function(e){throw t(),e})},l}function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:u!==e,active:!0,accept:function(e,l){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var a=0;a<e.length;a++)t._acceptedDependencies[e[a]]=l||function(){};else t._acceptedDependencies[e]=l||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var l=0;l<e.length;l++)t._declinedDependencies[e[l]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var l=t._disposeHandlers.indexOf(e);l>=0&&t._disposeHandlers.splice(l,1)},check:Z,apply:b,status:function(e){if(!e)return x;v.push(e)},addStatusHandler:function(e){v.push(e)},removeStatusHandler:function(e){var t=v.indexOf(e);t>=0&&v.splice(t,1)},data:g[e]};return u=void 0,t}function c(e){x=e;for(var t=0;t<v.length;t++)v[t].call(null,e)}function i(e){return+e+""===e?+e:e}function Z(e){if("idle"!==x)throw new Error("check() is only allowed in idle status");return p=e,c("check"),a(V).then(function(e){if(!e)return c("idle"),null;I={},f={},N=e.c,W=e.h,c("prepare");var t=new Promise(function(e,t){G={resolve:e,reject:t}});return X={},r(1),"prepare"===x&&0===F&&0===B&&o(),t})}function m(e,t){if(N[e]&&I[e]){I[e]=!1;for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(X[l]=t[l]);0==--B&&0===F&&o()}}function r(e){N[e]?(I[e]=!0,B++,l(e)):f[e]=!0}function o(){c("ready");var e=G;if(G=null,e)if(p)b(p).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var l in X)Object.prototype.hasOwnProperty.call(X,l)&&t.push(i(l));e.resolve(t)}}function b(l){function a(e,t){for(var l=0;l<t.length;l++){var a=t[l];e.indexOf(a)<0&&e.push(a)}}if("ready"!==x)throw new Error("apply() is only allowed in ready status");l=l||{};var n,d,Z,m,r,o={},b=[],h={},u=function(){console.warn("[HMR] unexpected require("+p.moduleId+") to disposed module")};for(var G in X)if(Object.prototype.hasOwnProperty.call(X,G)){r=i(G);var p;p=X[G]?function(e){for(var t=[e],l={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var d=n.pop(),c=d.id,i=d.chain;if((m=J[c])&&!m.hot._selfAccepted){if(m.hot._selfDeclined)return{type:"self-declined",chain:i,moduleId:c};if(m.hot._main)return{type:"unaccepted",chain:i,moduleId:c};for(var Z=0;Z<m.parents.length;Z++){var r=m.parents[Z],o=J[r];if(o){if(o.hot._declinedDependencies[c])return{type:"declined",chain:i.concat([r]),moduleId:c,parentId:r};t.indexOf(r)>=0||(o.hot._acceptedDependencies[c]?(l[r]||(l[r]=[]),a(l[r],[c])):(delete l[r],t.push(r),n.push({chain:i.concat([r]),id:r})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:l}}(r):{type:"disposed",moduleId:G};var V=!1,Y=!1,v=!1,B="";switch(p.chain&&(B="\nUpdate propagation: "+p.chain.join(" -> ")),p.type){case"self-declined":l.onDeclined&&l.onDeclined(p),l.ignoreDeclined||(V=new Error("Aborted because of self decline: "+p.moduleId+B));break;case"declined":l.onDeclined&&l.onDeclined(p),l.ignoreDeclined||(V=new Error("Aborted because of declined dependency: "+p.moduleId+" in "+p.parentId+B));break;case"unaccepted":l.onUnaccepted&&l.onUnaccepted(p),l.ignoreUnaccepted||(V=new Error("Aborted because "+r+" is not accepted"+B));break;case"accepted":l.onAccepted&&l.onAccepted(p),Y=!0;break;case"disposed":l.onDisposed&&l.onDisposed(p),v=!0;break;default:throw new Error("Unexception type "+p.type)}if(V)return c("abort"),Promise.reject(V);if(Y){h[r]=X[r],a(b,p.outdatedModules);for(r in p.outdatedDependencies)Object.prototype.hasOwnProperty.call(p.outdatedDependencies,r)&&(o[r]||(o[r]=[]),a(o[r],p.outdatedDependencies[r]))}v&&(a(b,[p.moduleId]),h[r]=u)}var F=[];for(d=0;d<b.length;d++)r=b[d],J[r]&&J[r].hot._selfAccepted&&F.push({module:r,errorHandler:J[r].hot._selfAccepted});c("dispose"),Object.keys(N).forEach(function(e){!1===N[e]&&t(e)});for(var f,I=b.slice();I.length>0;)if(r=I.pop(),m=J[r]){var H={},T=m.hot._disposeHandlers;for(Z=0;Z<T.length;Z++)(n=T[Z])(H);for(g[r]=H,m.hot.active=!1,delete J[r],Z=0;Z<m.children.length;Z++){var k=J[m.children[Z]];k&&(f=k.parents.indexOf(r))>=0&&k.parents.splice(f,1)}}var L,C;for(r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&(m=J[r]))for(C=o[r],Z=0;Z<C.length;Z++)L=C[Z],(f=m.children.indexOf(L))>=0&&m.children.splice(f,1);c("apply"),y=W;for(r in h)Object.prototype.hasOwnProperty.call(h,r)&&(e[r]=h[r]);var U=null;for(r in o)if(Object.prototype.hasOwnProperty.call(o,r)){m=J[r],C=o[r];var S=[];for(d=0;d<C.length;d++)L=C[d],n=m.hot._acceptedDependencies[L],S.indexOf(n)>=0||S.push(n);for(d=0;d<S.length;d++){n=S[d];try{n(C)}catch(e){l.onErrored&&l.onErrored({type:"accept-errored",moduleId:r,dependencyId:C[d],error:e}),l.ignoreErrored||U||(U=e)}}}for(d=0;d<F.length;d++){var w=F[d];r=w.module,R=[r];try{s(r)}catch(e){if("function"==typeof w.errorHandler)try{w.errorHandler(e)}catch(t){l.onErrored&&l.onErrored({type:"self-accept-error-handler-errored",moduleId:r,error:t,orginalError:e}),l.ignoreErrored||U||(U=t),U||(U=e)}else l.onErrored&&l.onErrored({type:"self-accept-errored",moduleId:r,error:e}),l.ignoreErrored||U||(U=e)}}return U?(c("fail"),Promise.reject(U)):(c("idle"),new Promise(function(e){e(b)}))}function s(t){if(J[t])return J[t].exports;var l=J[t]={i:t,l:!1,exports:{},hot:d(t),parents:(Y=R,R=[],Y),children:[]};return e[t].call(l.exports,l,l.exports,n(t)),l.l=!0,l.exports}var h=this.webpackHotUpdate;this.webpackHotUpdate=function(e,t){m(e,t),h&&h(e,t)};var u,G,X,W,p=!0,y="5d8c3d097c5a237e7821",V=1e4,g={},R=[],Y=[],v=[],x="idle",B=0,F=0,f={},I={},N={},J={};s.m=e,s.c=J,s.d=function(e,t,l){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:l})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.h=function(){return y},n(0)(s.s=0)}([function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};(function webpackUniversalModuleDefinition(root,factory){if(( false?'undefined':_typeof(exports))==='object'&&( false?'undefined':_typeof(module))==='object')module.exports=factory();else if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object')exports[\"Phaser\"]=factory();else root[\"Phaser\"]=factory();})(undefined,function(){return(/******/function(modules){// webpackBootstrap\n/******/// The module cache\n/******/var installedModules={};/******//******/// The require function\n/******/function __webpack_require__(moduleId){/******//******/// Check if module is in cache\n/******/if(installedModules[moduleId]){/******/return installedModules[moduleId].exports;/******/}/******/// Create a new module (and put it into the cache)\n/******/var module=installedModules[moduleId]={/******/i:moduleId,/******/l:false,/******/exports:{}/******/};/******//******/// Execute the module function\n/******/modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);/******//******/// Flag the module as loaded\n/******/module.l=true;/******//******/// Return the exports of the module\n/******/return module.exports;/******/}/******//******//******/// expose the modules object (__webpack_modules__)\n/******/__webpack_require__.m=modules;/******//******/// expose the module cache\n/******/__webpack_require__.c=installedModules;/******//******/// define getter function for harmony exports\n/******/__webpack_require__.d=function(exports,name,getter){/******/if(!__webpack_require__.o(exports,name)){/******/Object.defineProperty(exports,name,{/******/configurable:false,/******/enumerable:true,/******/get:getter/******/});/******/}/******/};/******//******/// getDefaultExport function for compatibility with non-harmony modules\n/******/__webpack_require__.n=function(module){/******/var getter=module&&module.__esModule?/******/function getDefault(){return module['default'];}:/******/function getModuleExports(){return module;};/******/__webpack_require__.d(getter,'a',getter);/******/return getter;/******/};/******//******/// Object.prototype.hasOwnProperty.call\n/******/__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};/******//******/// __webpack_public_path__\n/******/__webpack_require__.p=\"\";/******//******/// Load entry module and return exports\n/******/return __webpack_require__(__webpack_require__.s=217);/******/}(/************************************************************************//******/[/* 0 *//***/function(module,exports){//  Taken from klasse by mattdesl https://github.com/mattdesl/klasse\nfunction hasGetterOrSetter(def){return!!def.get&&typeof def.get==='function'||!!def.set&&typeof def.set==='function';}function getProperty(definition,k,isClassDescriptor){//  This may be a lightweight object, OR it might be a property that was defined previously.\n//  For simple class descriptors we can just assume its NOT previously defined.\nvar def=isClassDescriptor?definition[k]:Object.getOwnPropertyDescriptor(definition,k);if(!isClassDescriptor&&def.value&&_typeof(def.value)==='object'){def=def.value;}//  This might be a regular property, or it may be a getter/setter the user defined in a class.\nif(def&&hasGetterOrSetter(def)){if(typeof def.enumerable==='undefined'){def.enumerable=true;}if(typeof def.configurable==='undefined'){def.configurable=true;}return def;}else{return false;}}function hasNonConfigurable(obj,k){var prop=Object.getOwnPropertyDescriptor(obj,k);if(!prop){return false;}if(prop.value&&_typeof(prop.value)==='object'){prop=prop.value;}if(prop.configurable===false){return true;}return false;}function extend(ctor,definition,isClassDescriptor,extend){for(var k in definition){if(!definition.hasOwnProperty(k)){continue;}var def=getProperty(definition,k,isClassDescriptor);if(def!==false){//  If Extends is used, we will check its prototype to see if the final variable exists.\nvar parent=extend||ctor;if(hasNonConfigurable(parent.prototype,k)){//  Just skip the final property\nif(Class.ignoreFinals){continue;}//  We cannot re-define a property that is configurable=false.\n//  So we will consider them final and throw an error. This is by\n//  default so it is clear to the developer what is happening.\n//  You can set ignoreFinals to true if you need to extend a class\n//  which has configurable=false; it will simply not re-define final properties.\nthrow new Error('cannot override final property \\''+k+'\\', set Class.ignoreFinals = true to skip');}Object.defineProperty(ctor.prototype,k,def);}else{ctor.prototype[k]=definition[k];}}}function mixin(myClass,mixins){if(!mixins){return;}if(!Array.isArray(mixins)){mixins=[mixins];}for(var i=0;i<mixins.length;i++){extend(myClass,mixins[i].prototype||mixins[i]);}}/**\n * Creates a new class with the given descriptor.\n * The constructor, defined by the name `initialize`,\n * is an optional function. If unspecified, an anonymous\n * function will be used which calls the parent class (if\n * one exists).\n *\n * You can also use `Extends` and `Mixins` to provide subclassing\n * and inheritance.\n *\n * @class  Class\n * @constructor\n * @param {Object} definition a dictionary of functions for the class\n * @example\n *\n *      var MyClass = new Phaser.Class({\n *      \n *          initialize: function() {\n *              this.foo = 2.0;\n *          },\n *\n *          bar: function() {\n *              return this.foo + 5;\n *          }\n *      });\n */function Class(definition){if(!definition){definition={};}//  The variable name here dictates what we see in Chrome debugger\nvar initialize;var Extends;if(definition.initialize){if(typeof definition.initialize!=='function'){throw new Error('initialize must be a function');}initialize=definition.initialize;//  Usually we should avoid 'delete' in V8 at all costs.\n//  However, its unlikely to make any performance difference\n//  here since we only call this on class creation (i.e. not object creation).\ndelete definition.initialize;}else{if(definition.Extends){var base=definition.Extends;initialize=function initialize(){base.apply(this,arguments);};}else{initialize=function initialize(){};}}if(definition.Extends){initialize.prototype=Object.create(definition.Extends.prototype);initialize.prototype.constructor=initialize;//  For getOwnPropertyDescriptor to work, we need to act directly on the Extends (or Mixin)\nExtends=definition.Extends;delete definition.Extends;}else{initialize.prototype.constructor=initialize;}//  Grab the mixins, if they are specified...\nvar mixins=null;if(definition.Mixins){mixins=definition.Mixins;delete definition.Mixins;}//  First, mixin if we can.\nmixin(initialize,mixins);//  Now we grab the actual definition which defines the overrides.\nextend(initialize,definition,true,Extends);return initialize;}Class.extend=extend;Class.mixin=mixin;Class.ignoreFinals=false;module.exports=Class;/***/},/* 1 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=new Class({initialize:function Event(type){this.type=type;//  The element that initiated the event.\nthis.target;this._propagate=true;},reset:function reset(target){this.target=target;this._propagate=true;},stopPropagation:function stopPropagation(){this._propagate=false;}});module.exports=Event;/***/},/* 2 *//***/function(module,exports){//  Source object\n//  The key as a string, or an array of keys, i.e. 'banner', or 'banner.hideBanner'\n//  The default value to use if the key doesn't exist\nvar GetValue=function GetValue(source,key,defaultValue){if(!source||typeof source==='number'){return defaultValue;}else if(source.hasOwnProperty(key)){return source[key];}else if(key.indexOf('.')){var keys=key.split('.');var parent=source;var value=defaultValue;//  Use for loop here so we can break early\nfor(var i=0;i<keys.length;i++){if(parent.hasOwnProperty(keys[i])){//  Yes it has a key property, let's carry on down\nvalue=parent[keys[i]];parent=parent[keys[i]];}else{//  Can't go any further, so reset to default\nvalue=defaultValue;break;}}return value;}else{return defaultValue;}};module.exports=GetValue;/***/},/* 3 *//***/function(module,exports,__webpack_require__){//  Phaser.GameObjects.Components\nmodule.exports={Alpha:__webpack_require__(233),Animation:__webpack_require__(234),BlendMode:__webpack_require__(256),ComputedSize:__webpack_require__(257),Flip:__webpack_require__(258),GetBounds:__webpack_require__(259),Origin:__webpack_require__(260),RenderTarget:__webpack_require__(261),ScaleMode:__webpack_require__(262),ScrollFactor:__webpack_require__(263),Size:__webpack_require__(264),Texture:__webpack_require__(265),Tint:__webpack_require__(266),ToJSON:__webpack_require__(267),Transform:__webpack_require__(268),TransformMatrix:__webpack_require__(13),Visible:__webpack_require__(269)};/***/},/* 4 *//***/function(module,exports,__webpack_require__){var CONST={VERSION:'3.0.0',BlendModes:__webpack_require__(31),ScaleModes:__webpack_require__(26),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};module.exports=CONST;/***/},/* 5 *//***/function(module,exports,__webpack_require__){var MATH=__webpack_require__(66);var GetValue=__webpack_require__(2);//  Allowed types:\n//  Implicit\n//  {\n//      x: 4\n//  }\n//\n//  From function\n//  {\n//      x: function ()\n//  }\n//\n//  Randomly pick one element from the array\n//  {\n//      x: [a, b, c, d, e, f]\n//  }\n//\n//  Random integer between min and max:\n//  {\n//      x: { randInt: [min, max] }\n//  }\n//\n//  Random float between min and max:\n//  {\n//      x: { randFloat: [min, max] }\n//  }\nvar GetAdvancedValue=function GetAdvancedValue(source,key,defaultValue){var value=GetValue(source,key,null);if(value===null){return defaultValue;}else if(Array.isArray(value)){return MATH.RND.pick(value);}else if((typeof value==='undefined'?'undefined':_typeof(value))==='object'){if(value.hasOwnProperty('randInt')){return MATH.RND.integerInRange(value.randInt[0],value.randInt[1]);}else if(value.hasOwnProperty('randFloat')){return MATH.RND.realInRange(value.randFloat[0],value.randFloat[1]);}}else if(typeof value==='function'){return value(key);}return value;};module.exports=GetAdvancedValue;/***/},/* 6 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Components=__webpack_require__(3);var GameObject=new Class({initialize:function GameObject(scene,type){this.scene=scene;this.type=type;this.name='';this.active=true;this.tabIndex=-1;this.parent;//  0001 | 0010 | 0100 | 1000\n//  Will Render bitmask flags for the components Visible, Alpha, Transform and Texture respectively\nthis.renderMask=15;this.renderFlags=15;this.input=null;//  Trigger a scene z-depth sort\nthis.scene.sys.sortChildrenFlag=true;},//  For GameObject Pooling and item selection\nsetActive:function setActive(value){this.active=value;return this;},setName:function setName(value){this.name=value;return this;},setInteractive:function setInteractive(shape,callback){this.scene.sys.inputManager.enable(this,shape,callback);return this;},//  To be overridden by custom GameObjects. Allows base objects to be used in a Pool.\nupdate:function update(){},//  Can be overridden by custom Game Objects, but provides default export functionality\ntoJSON:function toJSON(){return Components.ToJSON(this);},willRender:function willRender(){return this.renderMask===this.renderFlags;},destroy:function destroy(){if(this.parent){this.parent.remove(this);}if(this.input){this.scene.sys.inputManager.clear(this);}this.active=false;this.scene=undefined;}});module.exports=GameObject;/***/},/* 7 *//***/function(module,exports){//  Source object\n//  The key as a string, can only be 1 level deep (no periods), must exist at the top level of the source object\n//  The default value to use if the key doesn't exist\nvar GetFastValue=function GetFastValue(source,key,defaultValue){var t=typeof source==='undefined'?'undefined':_typeof(source);if(!source||t==='number'||t==='string'){return defaultValue;}else if(source.hasOwnProperty(key)){return source[key];}else{return defaultValue;}};module.exports=GetFastValue;/***/},/* 8 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Point=new Class({initialize:function Point(x,y){if(x===undefined){x=0;}if(y===undefined){y=x;}this.x=x;this.y=y;},setTo:function setTo(x,y){if(x===undefined){x=0;}if(y===undefined){y=x;}this.x=x;this.y=y;return this;}});module.exports=Point;/***/},/* 9 *//***/function(module,exports,__webpack_require__){var GetAdvancedValue=__webpack_require__(5);var ScaleModes=__webpack_require__(26);var BlendModes=__webpack_require__(31);var BuildGameObject=function BuildGameObject(scene,gameObject,config){//  Position\ngameObject.x=GetAdvancedValue(config,'x',0);gameObject.y=GetAdvancedValue(config,'y',0);gameObject.z=GetAdvancedValue(config,'z',0);//  Flip\ngameObject.flipX=GetAdvancedValue(config,'flipX',false);gameObject.flipY=GetAdvancedValue(config,'flipY',false);//  Scale\n//  Either: { scale: 2 } or { scale: { x: 2, y: 2 }}\nvar scale=GetAdvancedValue(config,'scale',null);if(typeof scale==='number'){gameObject.setScale(scale);}else if(scale!==null){gameObject.scaleX=GetAdvancedValue(scale,'x',1);gameObject.scaleY=GetAdvancedValue(scale,'y',1);}//  ScrollFactor\n//  Either: { scrollFactor: 2 } or { scrollFactor: { x: 2, y: 2 }}\nvar scrollFactor=GetAdvancedValue(config,'scrollFactor',null);if(typeof scrollFactor==='number'){gameObject.setScrollFactor(scrollFactor);}else if(scrollFactor!==null){gameObject.scrollFactorX=GetAdvancedValue(scrollFactor,'x',1);gameObject.scrollFactorY=GetAdvancedValue(scrollFactor,'y',1);}//  Rotation\ngameObject.rotation=GetAdvancedValue(config,'rotation',0);var angle=GetAdvancedValue(config,'angle',null);if(angle!==null){gameObject.angle=angle;}//  Alpha\ngameObject.alpha=GetAdvancedValue(config,'alpha',1);//  Origin\n//  Either: { origin: 0.5 } or { origin: { x: 0.5, y: 0.5 }}\nvar origin=GetAdvancedValue(config,'origin',null);if(typeof origin==='number'){gameObject.setOrigin(origin);}else if(origin!==null){var ox=GetAdvancedValue(config,'x',0.5);var oy=GetAdvancedValue(config,'y',0.5);gameObject.setOrigin(ox,oy);}//  ScaleMode\ngameObject.scaleMode=GetAdvancedValue(config,'scaleMode',ScaleModes.DEFAULT);//  BlendMode\ngameObject.blendMode=GetAdvancedValue(config,'blendMode',BlendModes.NORMAL);//  Visible\ngameObject.visible=GetAdvancedValue(config,'visible',true);//  Add to Scene\nvar add=GetAdvancedValue(config,'add',true);if(add){scene.sys.displayList.add(gameObject);}return gameObject;};module.exports=BuildGameObject;/***/},/* 10 *//***/function(module,exports){var MATH_CONST={PI2:Math.PI*2,TAU:Math.PI*0.5,EPSILON:1.0e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI};module.exports=MATH_CONST;/***/},/* 11 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(4);var Smoothing=__webpack_require__(64);// The pool into which the canvas elements are placed.\nvar pool=[];//  Automatically apply smoothing(false) to created Canvas elements\nvar _disableContextSmoothing=false;//  This singleton is instantiated as soon as Phaser loads,\n//  before a Phaser.Game instance has even been created.\n//  Which means all instances of Phaser Games on the same page\n//  can share the one single pool\n// The CanvasPool is a global static object, that allows Phaser to recycle and pool Canvas DOM elements.\nvar CanvasPool=function CanvasPool(){// Creates a new Canvas DOM element, or pulls one from the pool if free.\nvar create=function create(parent,width,height,type){if(width===undefined){width=1;}if(height===undefined){height=1;}if(type===undefined){type=CONST.CANVAS;}var canvas;var container=first(type);if(container===null){container={parent:parent,canvas:document.createElement('canvas'),type:type};pool.push(container);canvas=container.canvas;}else{container.parent=parent;canvas=container.canvas;}canvas.width=width;canvas.height=height;if(_disableContextSmoothing&&type===CONST.CANVAS){Smoothing.disable(canvas.getContext('2d'));}return canvas;};var create2D=function create2D(parent,width,height){return create(parent,width,height,CONST.CANVAS);};var createWebGL=function createWebGL(parent,width,height){return create(parent,width,height,CONST.WEBGL);};// Gets the first free canvas index from the pool.\nvar first=function first(type){if(type===undefined){type=CONST.CANVAS;}pool.forEach(function(container){if(!container.parent&&container.type===type){return container;}});return null;};//  Looks up a canvas based on its parent, and if found puts it back in the pool, freeing it up for re-use.\n//  The canvas has its width and height set to 1, and its parent attribute nulled.\nvar remove=function remove(parent){//  Check to see if the parent is a canvas object\nvar isCanvas=parent instanceof HTMLCanvasElement;pool.forEach(function(container){if(isCanvas&&container.canvas===parent||!isCanvas&&container.parent===parent){// console.log('CanvasPool.remove found and removed');\ncontainer.parent=null;container.canvas.width=1;container.canvas.height=1;}});};//  Gets the total number of used canvas elements in the pool.\nvar total=function total(){var c=0;pool.forEach(function(container){if(container.parent){c++;}});return c;};//  Gets the total number of free canvas elements in the pool.\nvar free=function free(){return pool.length-total();};//  Disable context smoothing on any new Canvas element created\nvar disableSmoothing=function disableSmoothing(){_disableContextSmoothing=true;};//  Enable context smoothing on any new Canvas element created\nvar enableSmoothing=function enableSmoothing(){_disableContextSmoothing=false;};return{create2D:create2D,create:create,createWebGL:createWebGL,disableSmoothing:disableSmoothing,enableSmoothing:enableSmoothing,first:first,free:free,pool:pool,remove:remove,total:total};};//  If we export the called function here, it'll only be invoked once (not every time it's required).\nmodule.exports=CanvasPool();/***/},/* 12 *//***/function(module,exports){var FILE_CONST={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_DESTROYED:4,FILE_PENDING:5,// file is in the load queue but not yet started\nFILE_LOADING:6,// file has been started to load by the loader (onLoad called)\nFILE_LOADED:7,// file has loaded successfully, awaiting processing\nFILE_FAILED:8,// file failed to load\nFILE_PROCESSING:9,// file is being processed (onProcess callback)\nFILE_WAITING_LINKFILE:10,// file is being processed (onProcess callback)\nFILE_ERRORED:11,// file is being processed (onProcess callback)\nFILE_COMPLETE:12,// file has finished processing\nFILE_DESTROYED:13,// file has been destroyed\nTEXTURE_ATLAS_JSON_ARRAY:20,TEXTURE_ATLAS_JSON_HASH:21};module.exports=FILE_CONST;/***/},/* 13 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var TransformMatrix=new Class({initialize:function TransformMatrix(a,b,c,d,tx,ty){if(a===undefined){a=1;}if(b===undefined){b=0;}if(c===undefined){c=0;}if(d===undefined){d=1;}if(tx===undefined){tx=0;}if(ty===undefined){ty=0;}this.matrix=new Float32Array([a,b,c,d,tx,ty,0,0,1]);this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0};},loadIdentity:function loadIdentity(){var matrix=this.matrix;matrix[0]=1;matrix[1]=0;matrix[2]=0;matrix[3]=1;matrix[4]=0;matrix[5]=0;return this;},translate:function translate(x,y){var matrix=this.matrix;matrix[4]=matrix[0]*x+matrix[2]*y+matrix[4];matrix[5]=matrix[1]*x+matrix[3]*y+matrix[5];return this;},scale:function scale(x,y){var matrix=this.matrix;matrix[0]*=x;matrix[1]*=x;matrix[2]*=y;matrix[3]*=y;return this;},rotate:function rotate(radian){var radianSin=Math.sin(radian);var radianCos=Math.cos(radian);return this.transform(radianCos,-radianSin,radianSin,radianCos,0,0);},multiply:function multiply(otherMatrix){var matrix=this.matrix;var a0=matrix[0];var b0=matrix[1];var c0=matrix[2];var d0=matrix[3];var tx0=matrix[4];var ty0=matrix[5];var a1=otherMatrix[0];var b1=otherMatrix[1];var c1=otherMatrix[2];var d1=otherMatrix[3];var tx1=otherMatrix[4];var ty1=otherMatrix[5];matrix[0]=a1*a0+b1*c0;matrix[1]=a1*b0+b1*d0;matrix[2]=c1*a0+d1*c0;matrix[3]=c1*b0+d1*d0;matrix[4]=tx1*a0+ty1*c0+tx0;matrix[5]=tx1*b0+ty1*d0+ty0;return this;},transform:function transform(a,b,c,d,tx,ty){var matrix=this.matrix;var a0=matrix[0];var b0=matrix[1];var c0=matrix[2];var d0=matrix[3];var tx0=matrix[4];var ty0=matrix[5];matrix[0]=a*a0+b*c0;matrix[1]=a*b0+b*d0;matrix[2]=c*a0+d*c0;matrix[3]=c*b0+d*d0;matrix[4]=tx*a0+ty*c0+tx0;matrix[5]=tx*b0+ty*d0+ty0;return this;},transformPoint:function transformPoint(x,y,point){if(point===undefined){point={x:0,y:0};}var matrix=this.matrix;var a=matrix[0];var b=matrix[1];var c=matrix[2];var d=matrix[3];var tx=matrix[4];var ty=matrix[5];point.x=x*a+y*c+tx;point.y=x*b+y*d+ty;return point;},invert:function invert(){var matrix=this.matrix;var a=matrix[0];var b=matrix[1];var c=matrix[2];var d=matrix[3];var tx=matrix[4];var ty=matrix[5];var n=a*d-b*c;matrix[0]=d/n;matrix[1]=-b/n;matrix[2]=-c/n;matrix[3]=a/n;matrix[4]=(c*ty-d*tx)/n;matrix[5]=-(a*ty-b*tx)/n;return this;},setTransform:function setTransform(a,b,c,d,tx,ty){var matrix=this.matrix;matrix[0]=a;matrix[1]=b;matrix[2]=c;matrix[3]=d;matrix[4]=tx;matrix[5]=ty;return this;},decomposeMatrix:function decomposeMatrix(){var decomposedMatrix=this.decomposedMatrix;var matrix=this.matrix;var a=matrix[0];var b=matrix[1];var c=matrix[2];var d=matrix[3];var a2=a*a;var b2=b*b;var c2=c*c;var d2=d*d;var sx=Math.sqrt(a2+c2);var sy=Math.sqrt(b2+d2);decomposedMatrix.translateX=matrix[4];decomposedMatrix.translateY=matrix[5];decomposedMatrix.scaleX=sx;decomposedMatrix.scaleY=sy;decomposedMatrix.rotation=Math.acos(a/sx)*(Math.atan(-c/a)<0?-1:1);return decomposedMatrix;},/* identity + translate + rotate + scale */applyITRS:function applyITRS(x,y,rotation,scaleX,scaleY){var matrix=this.matrix;var sr=Math.sin(rotation);var cr=Math.cos(rotation);// Translate\nmatrix[4]=x;matrix[5]=y;// Rotate and Scale\nmatrix[0]=cr*scaleX;matrix[1]=-sr*scaleX;matrix[2]=sr*scaleY;matrix[3]=cr*scaleY;return this;}});module.exports=TransformMatrix;/***/},/* 14 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);//  Encapsulates a 2D rectangle defined by its corner point in the top-left\n//  and its extends in x (width) and y (height)\nvar Rectangle=new Class({initialize:function Rectangle(x,y,width,height){if(x===undefined){x=0;}if(y===undefined){y=0;}if(width===undefined){width=0;}if(height===undefined){height=0;}this.x=x;this.y=y;this.width=width;this.height=height;},setTo:function setTo(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;return this;},setEmpty:function setEmpty(){return this.setTo(0,0,0,0);},setPosition:function setPosition(x,y){if(y===undefined){y=x;}this.x=x;this.y=y;return this;},setSize:function setSize(width,height){if(height===undefined){height=width;}this.width=width;this.height=height;return this;},isEmpty:function isEmpty(){return this.width<=0||this.height<=0;},//  TOP\ngetLineA:function getLineA(){return{x1:this.x,y1:this.y,x2:this.right,y2:this.y};},//  RIGHT\ngetLineB:function getLineB(){return{x1:this.right,y1:this.y,x2:this.right,y2:this.bottom};},//  BOTTOM\ngetLineC:function getLineC(){return{x1:this.right,y1:this.bottom,x2:this.x,y2:this.bottom};},//  LEFT\ngetLineD:function getLineD(){return{x1:this.x,y1:this.bottom,x2:this.x,y2:this.y};},left:{get:function get(){return this.x;},set:function set(value){if(value>=this.right){this.width=0;}else{this.width=this.right-value;}this.x=value;}},right:{get:function get(){return this.x+this.width;},set:function set(value){if(value<=this.x){this.width=0;}else{this.width=value-this.x;}}},top:{get:function get(){return this.y;},set:function set(value){if(value>=this.bottom){this.height=0;this.y=value;}else{this.height=this.bottom-value;}}},bottom:{get:function get(){return this.y+this.height;},set:function set(value){if(value<=this.y){this.height=0;}else{this.height=value-this.y;}}},centerX:{get:function get(){return this.x+this.width/2;},set:function set(value){this.x=value-this.width/2;}},centerY:{get:function get(){return this.y+this.height/2;},set:function set(value){this.y=value-this.height/2;}}});module.exports=Rectangle;/***/},/* 15 *//***/function(module,exports){/**\n* The left coordinate of the Game Object.\n* This is the same as `x - offsetX`.\n*\n* @property {number} left\n*/var GetBottom=function GetBottom(gameObject){return gameObject.y+gameObject.height-gameObject.height*gameObject.originY;};module.exports=GetBottom;/***/},/* 16 *//***/function(module,exports){/**\n* The left coordinate of the Game Object.\n* This is the same as `x - offsetX`.\n*\n* @property {number} left\n*/var SetBottom=function SetBottom(gameObject,value){gameObject.y=value-gameObject.height+gameObject.height*gameObject.originY;return gameObject;};module.exports=SetBottom;/***/},/* 17 *//***/function(module,exports){/**\n* The left coordinate of the Game Object.\n* This is the same as `x - offsetX`.\n*\n* @property {number} left\n*/var GetLeft=function GetLeft(gameObject){return gameObject.x-gameObject.width*gameObject.originX;};module.exports=GetLeft;/***/},/* 18 *//***/function(module,exports){/**\n* The left coordinate of the Game Object.\n* This is the same as `x - offsetX`.\n*\n* @property {number} left\n*/var SetLeft=function SetLeft(gameObject,value){gameObject.x=value+gameObject.width*gameObject.originX;return gameObject;};module.exports=SetLeft;/***/},/* 19 *//***/function(module,exports){/**\n* The left coordinate of the Game Object.\n* This is the same as `x - offsetX`.\n*\n* @property {number} left\n*/var GetRight=function GetRight(gameObject){return gameObject.x+gameObject.width-gameObject.width*gameObject.originX;};module.exports=GetRight;/***/},/* 20 *//***/function(module,exports){/**\n* The left coordinate of the Game Object.\n* This is the same as `x - offsetX`.\n*\n* @property {number} left\n*/var SetRight=function SetRight(gameObject,value){gameObject.x=value-gameObject.width+gameObject.width*gameObject.originX;return gameObject;};module.exports=SetRight;/***/},/* 21 *//***/function(module,exports){/**\n* The y coordinate of the Game Object.\n* This is the same as `y - offsetY`.\n*\n* @property {number} top\n*/var GetTop=function GetTop(gameObject){return gameObject.y-gameObject.height*gameObject.originY;};module.exports=GetTop;/***/},/* 22 *//***/function(module,exports){/**\n* The y coordinate of the Game Object.\n* This is the same as `y - offsetY`.\n*\n* @property {number} top\n*/var SetTop=function SetTop(gameObject,value){gameObject.y=value+gameObject.height*gameObject.originY;return gameObject;};module.exports=SetTop;/***/},/* 23 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetFastValue=__webpack_require__(7);var CONST=__webpack_require__(12);var GetURL=__webpack_require__(655);var MergeXHRSettings=__webpack_require__(181);var XHRLoader=__webpack_require__(656);var XHRSettings=__webpack_require__(87);//  Phaser.Loader.File\nvar File=new Class({initialize:// old signature: type, key, url, responseType, xhrSettings, config\nfunction File(fileConfig){//  file type (image, json, etc) for sorting within the Loader\nthis.type=GetFastValue(fileConfig,'type',false);//  unique cache key (unique within its file type)\nthis.key=GetFastValue(fileConfig,'key',false);if(!this.type||!this.key){throw new Error('Error calling \\'Loader.'+this.type+'\\' invalid key provided.');}//  The URL of the file, not including baseURL\nthis.url=GetFastValue(fileConfig,'url');if(this.url===undefined){this.url=GetFastValue(fileConfig,'path','')+this.key+'.'+GetFastValue(fileConfig,'extension','');}else{this.url=GetFastValue(fileConfig,'path','').concat(this.url);}//  Set when the Loader calls 'load' on this file\nthis.src='';this.xhrSettings=XHRSettings(GetFastValue(fileConfig,'responseType',undefined));if(GetFastValue(fileConfig,'xhrSettings',false)){this.xhrSettings=MergeXHRSettings(this.xhrSettings,GetFastValue(fileConfig,'xhrSettings',{}));}this.xhrLoader=null;this.state=CONST.FILE_PENDING;//  Set by onProgress (only if loading via XHR)\nthis.bytesTotal=0;this.bytesLoaded=-1;this.percentComplete=-1;//  For CORs based loading.\n//  If this is undefined then the File will check BaseLoader.crossOrigin and use that (if set)\nthis.crossOrigin=undefined;//  The actual processed file data\nthis.data=undefined;//  A config object that can be used by file types to store transitional data\nthis.config=GetFastValue(fileConfig,'config',{});//  Multipart file? (i.e. an atlas and its json together)\nthis.linkFile=undefined;this.linkType='';this.callback=null;},resetXHR:function resetXHR(){this.xhrLoader.onload=undefined;this.xhrLoader.onerror=undefined;this.xhrLoader.onprogress=undefined;},//  Called when the Image loads\n//  ProgressEvent\nonLoad:function onLoad(event){this.resetXHR();this.callback(this,true);},onError:function onError(event){this.resetXHR();this.callback(this,false);},onProgress:function onProgress(event){if(event.lengthComputable){this.bytesLoaded=event.loaded;this.bytesTotal=event.total;this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1);}// console.log(this.percentComplete + '% (' + this.bytesLoaded + ' bytes)');\n},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.onComplete();callback(this);},onComplete:function onComplete(){if(this.linkFile){if(this.linkFile.state===CONST.FILE_WAITING_LINKFILE){//  The linkfile has finished processing, and is waiting for this file, so let's do them both\nthis.state=CONST.FILE_COMPLETE;this.linkFile.state=CONST.FILE_COMPLETE;}else{//  The linkfile still hasn't finished loading and/or processing yet\nthis.state=CONST.FILE_WAITING_LINKFILE;}}else{this.state=CONST.FILE_COMPLETE;}},//  Called by the Loader, starts the actual file downloading\nload:function load(callback,baseURL,globalXHR){if(baseURL===undefined){baseURL='';}this.callback=callback;this.src=GetURL(this,baseURL);if(this.src.indexOf('data:')===0){console.log('Local data URI');}else{this.xhrLoader=XHRLoader(this,globalXHR);}}});module.exports=File;/***/},/* 24 *//***/function(module,exports){var TWEEN_CONST={//  TweenData:\nCREATED:0,INIT:1,DELAY:2,PENDING_RENDER:3,PLAYING_FORWARD:4,PLAYING_BACKWARD:5,HOLD_DELAY:6,REPEAT_DELAY:7,COMPLETE:8,//  Tween specific (starts from 20 to cleanly allow extra TweenData consts in the future)\nPENDING_ADD:20,PAUSED:21,LOOP_DELAY:22,ACTIVE:23,COMPLETE_DELAY:24,PENDING_REMOVE:25,REMOVED:26};module.exports=TWEEN_CONST;/***/},/* 25 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var EventBinding=__webpack_require__(378);var EventDispatcher=new Class({initialize:function EventDispatcher(){this.bindings={};this.filters=[];this.hasFilters=false;},getBinding:function getBinding(type){if(this.bindings.hasOwnProperty(type)){return this.bindings[type];}},createBinding:function createBinding(type){if(!this.getBinding(type)){this.bindings[type]=new EventBinding(this,type);}return this.bindings[type];},on:function on(type,listener,priority){if(priority===undefined){priority=0;}var binding=this.createBinding(type);if(binding){binding.add(listener,priority,false);}return this;},once:function once(type,listener,priority){if(priority===undefined){priority=0;}var binding=this.createBinding(type);if(binding){binding.add(listener,priority,true);}return this;},//  Add a callback that is notified every time this EventDispatcher dispatches an event\n//  no matter what the event type is. Filters are invoked first, before any bindings,\n//  and can stop events if they wish (in which case they'll never reach the bindings)\nfilter:function filter(callback){var i=this.filters.indexOf(callback);if(i===-1){//  Add the filter\nthis.filters.push(callback);}else{//  Remove the filter\nthis.filters.splice(i,1);}this.hasFilters=this.filters.length>0;return this;},has:function has(type,listener){var binding=this.getBinding(type);if(binding){return binding.has(listener);}else{return false;}},total:function total(type){var binding=this.getBinding(type);if(binding){return binding.total();}},//  Removes an event listener.\n//  If there is no matching listener registered with the EventDispatcher, a call to this method has no effect.\noff:function off(type,listener){var binding=this.getBinding(type);if(binding){binding.remove(listener);}return this;},_dispatchHandler:function _dispatchHandler(event){event.reset(this);//  Pass the event through the filters first\nif(this.hasFilters){for(var i=0;i<this.filters.length;i++){this.filters[i].call(this,event);//  Did the filter kill the event? If so, we can abort now\nif(!event._propagate){return;}}}var binding=this.getBinding(event.type);if(binding){binding.dispatch(event);}},dispatch:function dispatch(event){if(Array.isArray(event)){for(var i=0;i<event.length;i++){this._dispatchHandler(event[i]);}}else{this._dispatchHandler(event);}},//  Removes all listeners, but retains the event type entries\nremoveAll:function removeAll(type){var binding=this.getBinding(type);if(binding){binding.removeAll();}return this;},removeAllFilters:function removeAllFilters(){this.filters.length=0;this.hasFilters=false;return this;},delete:function _delete(type){var binding=this.getBinding(type);if(binding){binding.destroy();delete this.bindings[type];}return this;},deleteAll:function deleteAll(){for(var binding in this.bindings){binding.destroy();}this.bindings={};},destroy:function destroy(){this.deleteAll();this.removeAllFilters();}});module.exports=EventDispatcher;/***/},/* 26 *//***/function(module,exports){module.exports={DEFAULT:0,LINEAR:0,NEAREST:1};/***/},/* 27 *//***/function(module,exports){var Contains=function Contains(rect,x,y){if(rect.width<=0||rect.height<=0){return false;}return rect.x<=x&&rect.x+rect.width>=x&&rect.y<=y&&rect.y+rect.height>=y;};module.exports=Contains;/***/},/* 28 *//***/function(module,exports){var NOOP=function NOOP(){//  NOOP (No Operation) Callback\n};module.exports=NOOP;/***/},/* 29 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetColor=__webpack_require__(69);var GetColor32=__webpack_require__(149);var Color=new Class({initialize:function Color(red,green,blue,alpha){if(red===undefined){red=0;}if(green===undefined){green=0;}if(blue===undefined){blue=0;}if(alpha===undefined){alpha=255;}//  All private\nthis.r=0;this.g=0;this.b=0;this.a=255;this.gl=[0.0,0.0,0.0,1.0];this._color=0;this._color32=0;this._rgba='';this.setTo(red,green,blue,alpha);},transparent:function transparent(){this.red=0;this.green=0;this.blue=0;this.alpha=0;return this.update();},//  Values are in the range 0 to 255\nsetTo:function setTo(red,green,blue,alpha){if(alpha===undefined){alpha=255;}this.red=red;this.green=green;this.blue=blue;this.alpha=alpha;return this.update();},//  Values are in the range 0 to 1\nsetGLTo:function setGLTo(red,green,blue,alpha){if(alpha===undefined){alpha=1;}this.redGL=red;this.greenGL=green;this.blueGL=blue;this.alphaGL=alpha;return this.update();},setFromRGB:function setFromRGB(color){this.red=color.r;this.green=color.g;this.blue=color.b;if(color.hasOwnProperty('a')){this.alpha=color.a;}return this.update();},update:function update(){this._color=GetColor(this.r,this.g,this.b);this._color32=GetColor32(this.r,this.g,this.b,this.a);this._rgba='rgba('+this.r+','+this.g+','+this.b+','+this.a/255+')';return this;},//  Same as setRGB but performs safety checks on all the values given\nclone:function clone(){return new Color(this.r,this.g,this.b,this.a);},color:{get:function get(){return this._color;}},color32:{get:function get(){return this._color32;}},rgba:{get:function get(){return this._rgba;}},//  Gets and sets the red value, normalized to the 0 to 1 range\nredGL:{get:function get(){return this.gl[0];},set:function set(value){this.gl[0]=Math.min(Math.abs(value),1);this.r=Math.floor(this.gl[0]*255);this.update();}},greenGL:{get:function get(){return this.gl[1];},set:function set(value){this.gl[1]=Math.min(Math.abs(value),1);this.g=Math.floor(this.gl[1]*255);this.update();}},blueGL:{get:function get(){return this.gl[2];},set:function set(value){this.gl[2]=Math.min(Math.abs(value),1);this.b=Math.floor(this.gl[2]*255);this.update();}},alphaGL:{get:function get(){return this.gl[3];},set:function set(value){this.gl[3]=Math.min(Math.abs(value),1);this.a=Math.floor(this.gl[3]*255);this.update();}},//  Gets and sets the red value, normalized to the 0 to 255 range\nred:{get:function get(){return this.r;},set:function set(value){value=Math.floor(Math.abs(value));this.r=Math.min(value,255);this.gl[0]=value/255;this.update();}},green:{get:function get(){return this.g;},set:function set(value){value=Math.floor(Math.abs(value));this.g=Math.min(value,255);this.gl[1]=value/255;this.update();}},blue:{get:function get(){return this.b;},set:function set(value){value=Math.floor(Math.abs(value));this.b=Math.min(value,255);this.gl[2]=value/255;this.update();}},alpha:{get:function get(){return this.a;},set:function set(value){value=Math.floor(Math.abs(value));this.a=Math.min(value,255);this.gl[3]=value/255;this.update();}}});module.exports=Color;/***/},/* 30 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var DataBuffer32=new Class({initialize:function DataBuffer32(byteSize){this.dwordLength=0;this.dwordCapacity=byteSize/4;this.buffer=new ArrayBuffer(byteSize);this.floatView=new Float32Array(this.buffer);this.intView=new Int32Array(this.buffer);this.uintView=new Uint32Array(this.buffer);},clear:function clear(){this.dwordLength=0;},getByteLength:function getByteLength(){return this.dwordLength*4;},getByteCapacity:function getByteCapacity(){return this.buffer.byteLength;},allocate:function allocate(dwordSize){var currentLength=this.dwordLength;this.dwordLength+=dwordSize;return currentLength;},getUsedBufferAsFloat:function getUsedBufferAsFloat(){return this.floatView.subarray(0,this.dwordLength);},getUsedBufferAsInt:function getUsedBufferAsInt(){return this.intView.subarray(0,this.dwordLength);},getUsedBufferAsUint:function getUsedBufferAsUint(){return this.uintView.subarray(0,this.dwordLength);}});module.exports=DataBuffer32;/***/},/* 31 *//***/function(module,exports){//  Phaser.BlendModes\nmodule.exports={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16};/***/},/* 32 *//***/function(module,exports){/**\n* The center x coordinate of the Game Object.\n* This is the same as `(x - offsetX) + (width / 2)`.\n*\n* @property {number} centerX\n*/var GetCenterX=function GetCenterX(gameObject){return gameObject.x-gameObject.width*gameObject.originX+gameObject.width*0.5;};module.exports=GetCenterX;/***/},/* 33 *//***/function(module,exports){/**\n* The center x coordinate of the Game Object.\n* This is the same as `(x - offsetX) + (width / 2)`.\n*\n* @property {number} centerX\n*///  Phaser.Utils.Bounds.GetCenterX(bob)\n//  Phaser.Utils.Bounds.CenterOn(bob, x, y)\n//  Phaser.Utils.Bounds.CenterX(bob, x)\n//  Phaser.Utils.Bounds.CenterY(bob, x)\nvar SetCenterX=function SetCenterX(gameObject,x){var offsetX=gameObject.width*gameObject.originX;gameObject.x=x+offsetX-gameObject.width*0.5;return gameObject;};module.exports=SetCenterX;/***/},/* 34 *//***/function(module,exports){/**\n* The center x coordinate of the Game Object.\n* This is the same as `(x - offsetX) + (width / 2)`.\n*\n* @property {number} centerX\n*/var GetCenterY=function GetCenterY(gameObject){return gameObject.y-gameObject.height*gameObject.originY+gameObject.height*0.5;};module.exports=GetCenterY;/***/},/* 35 *//***/function(module,exports){/**\n* The center x coordinate of the Game Object.\n* This is the same as `(x - offsetX) + (width / 2)`.\n*\n* @property {number} centerX\n*///  Phaser.Utils.Bounds.GetCenterX(bob)\n//  Phaser.Utils.Bounds.CenterOn(bob, x, y)\n//  Phaser.Utils.Bounds.CenterX(bob, x)\n//  Phaser.Utils.Bounds.CenterY(bob, x)\nvar SetCenterY=function SetCenterY(gameObject,y){var offsetY=gameObject.height*gameObject.originY;gameObject.y=y+offsetY-gameObject.height*0.5;return gameObject;};module.exports=SetCenterY;/***/},/* 36 *//***/function(module,exports){var Contains=function Contains(circle,x,y){//  Check if x/y are within the bounds first\nif(circle.radius>0&&x>=circle.left&&x<=circle.right&&y>=circle.top&&y<=circle.bottom){var dx=(circle.x-x)*(circle.x-x);var dy=(circle.y-y)*(circle.y-y);return dx+dy<=circle.radius*circle.radius;}else{return false;}};module.exports=Contains;/***/},/* 37 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var DataBuffer16=new Class({initialize:function DataBuffer16(byteSize){this.wordLength=0;this.wordCapacity=byteSize/2;this.buffer=new ArrayBuffer(byteSize);this.intView=new Int16Array(this.buffer);this.uintView=new Uint16Array(this.buffer);},clear:function clear(){this.wordLength=0;},getByteLength:function getByteLength(){return this.wordLength*2;},getByteCapacity:function getByteCapacity(){return this.buffer.byteLength;},allocate:function allocate(wordSize){var currentLength=this.wordLength;this.wordLength+=wordSize;return currentLength;},getUsedBufferAsShort:function getUsedBufferAsShort(){return this.intView.subarray(0,this.wordLength);},getUsedBufferAsWord:function getUsedBufferAsWord(){return this.uintView.subarray(0,this.wordLength);}});module.exports=DataBuffer16;/***/},/* 38 *//***/function(module,exports){module.exports={vert:['uniform mat4 u_view_matrix;','attribute vec2 a_position;','attribute vec2 a_tex_coord;','attribute vec3 a_color;','attribute float a_alpha;','varying vec2 v_tex_coord;','varying vec3 v_color;','varying float v_alpha;','void main () {','   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);','   v_tex_coord = a_tex_coord;','   v_color = a_color;','   v_alpha = a_alpha;','}'].join('\\n'),frag:['precision mediump float;','uniform sampler2D u_sampler2D;','varying vec2 v_tex_coord;','varying vec3 v_color;','varying float v_alpha;','void main() {','   gl_FragColor = texture2D(u_sampler2D, v_tex_coord) * vec4(v_color, v_alpha);','}'].join('\\n')};/***/},/* 39 *//***/function(module,exports,__webpack_require__){//  Phaser.Input.Events\nmodule.exports={DRAG:__webpack_require__(596),DRAG_END:__webpack_require__(597),DRAG_ENTER:__webpack_require__(598),DRAG_LEAVE:__webpack_require__(599),DRAG_OVER:__webpack_require__(600),DRAG_START:__webpack_require__(601),DROP:__webpack_require__(602),GAME_OBJECT_DOWN:__webpack_require__(603),GAME_OBJECT_MOVE:__webpack_require__(604),GAME_OBJECT_OUT:__webpack_require__(605),GAME_OBJECT_OVER:__webpack_require__(606),GAME_OBJECT_UP:__webpack_require__(607),POINTER_DOWN:__webpack_require__(608),POINTER_MOVE:__webpack_require__(609),POINTER_OUT:__webpack_require__(610),POINTER_OVER:__webpack_require__(611),POINTER_UP:__webpack_require__(612)};/***/},/* 40 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);// A triangle is a plane created by connecting three points.\n// The first two arguments specify the first point, the middle two arguments\n// specify the second point, and the last two arguments specify the third point.\nvar Triangle=new Class({initialize:function Triangle(x1,y1,x2,y2,x3,y3){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.x3=0;this.y3=0;this.setTo(x1,y1,x2,y2,x3,y3);},setTo:function setTo(x1,y1,x2,y2,x3,y3){if(x1===undefined){x1=0;}if(y1===undefined){y1=0;}if(x2===undefined){x2=0;}if(y2===undefined){y2=0;}if(x3===undefined){x3=0;}if(y3===undefined){y3=0;}this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;this.x3=x3;this.y3=y3;return this;},getLineA:function getLineA(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2};},getLineB:function getLineB(){return{x1:this.x2,y1:this.y2,x2:this.x3,y2:this.y3};},getLineC:function getLineC(){return{x1:this.x3,y1:this.y3,x2:this.x1,y2:this.y1};},left:{get:function get(){return Math.min(this.x1,this.x2,this.x3);},set:function set(value){var diff=0;if(this.x1<=this.x2&&this.x1<=this.x3){diff=this.x1-value;}else if(this.x2<=this.x1&&this.x2<=this.x3){diff=this.x2-value;}else{diff=this.x3-value;}this.x1-=diff;this.x2-=diff;this.x3-=diff;}},right:{get:function get(){return Math.max(this.x1,this.x2,this.x3);},set:function set(value){var diff=0;if(this.x1>=this.x2&&this.x1>=this.x3){diff=this.x1-value;}else if(this.x2>=this.x1&&this.x2>=this.x3){diff=this.x2-value;}else{diff=this.x3-value;}this.x1-=diff;this.x2-=diff;this.x3-=diff;}},top:{get:function get(){return Math.min(this.y1,this.y2,this.y3);},set:function set(value){var diff=0;if(this.y1<=this.y2&&this.y1<=this.y3){diff=this.y1-value;}else if(this.y2<=this.y1&&this.y2<=this.y3){diff=this.y2-value;}else{diff=this.y3-value;}this.y1-=diff;this.y2-=diff;this.y3-=diff;}},bottom:{get:function get(){return Math.max(this.y1,this.y2,this.y3);},set:function set(value){var diff=0;if(this.y1>=this.y2&&this.y1>=this.y3){diff=this.y1-value;}else if(this.y2>=this.y1&&this.y2>=this.y3){diff=this.y2-value;}else{diff=this.y3-value;}this.y1-=diff;this.y2-=diff;this.y3-=diff;}}});module.exports=Triangle;/***/},/* 41 *//***/function(module,exports){var Angle=function Angle(line){return Math.atan2(line.y2-line.y1,line.x2-line.x1);};module.exports=Angle;/***/},/* 42 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(process){var OS={//  @property {boolean} desktop - Is running on a desktop?\ndesktop:false,//  @property {boolean} webApp - Set to true if running as a WebApp, i.e. within a WebView\nwebApp:false,//  @property {boolean} iOS - Is running on iOS?\niOS:false,//  @property {number} iOSVersion - If running in iOS this will contain the major version number.\niOSVersion:0,//  @property {boolean} iPhone - Is running on iPhone?\niPhone:false,//  @property {boolean} iPad - Is running on iPad?\niPad:false,//  @property {boolean} cocoonJS - Is the game running under CocoonJS?\ncocoonJS:false,//  @property {boolean} cocoonJSApp - Is this game running with CocoonJS.App?\ncocoonJSApp:false,//  @property {boolean} cordova - Is the game running under Apache Cordova?\ncordova:false,//  @property {boolean} node - Is the game running under Node.js?\nnode:false,//  @property {boolean} nodeWebkit - Is the game running under Node-Webkit?\nnodeWebkit:false,//  @property {boolean} electron - Is the game running under GitHub Electron?\nelectron:false,//  @property {boolean} ejecta - Is the game running under Ejecta?\nejecta:false,//  @property {boolean} crosswalk - Is the game running under the Intel Crosswalk XDK?\ncrosswalk:false,//  @property {boolean} android - Is running on android?\nandroid:false,//  @property {boolean} chromeOS - Is running on chromeOS?\nchromeOS:false,//  @property {boolean} linux - Is running on linux?\nlinux:false,//  @property {boolean} macOS - Is running on macOS?\nmacOS:false,//  @property {boolean} windows - Is running on windows?\nwindows:false,//  @property {boolean} windowsPhone - Is running on a Windows Phone?\nwindowsPhone:false,//  @property {boolean} vita - Is running on a PlayStation Vita?\nvita:false,//  @property {boolean} kindle - Is running on an Amazon Kindle?\nkindle:false,//  @property {number} pixelRatio - PixelRatio of the host device?\npixelRatio:1};function init(){var ua=navigator.userAgent;if(/Windows/.test(ua)){OS.windows=true;}else if(/Mac OS/.test(ua)){OS.macOS=true;}else if(/Linux/.test(ua)){OS.linux=true;}else if(/Android/.test(ua)){OS.android=true;}else if(/iP[ao]d|iPhone/i.test(ua)){OS.iOS=true;navigator.appVersion.match(/OS (\\d+)/);OS.iOSVersion=parseInt(RegExp.$1,10);}else if(/Kindle/.test(ua)||/\\bKF[A-Z][A-Z]+/.test(ua)||/Silk.*Mobile Safari/.test(ua)){OS.kindle=true;// This will NOT detect early generations of Kindle Fire, I think there is no reliable way...\n// E.g. \"Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_3; en-us; Silk/1.1.0-80) AppleWebKit/533.16 (KHTML, like Gecko) Version/5.0 Safari/533.16 Silk-Accelerated=true\"\n}else if(/CrOS/.test(ua)){OS.chromeOS=true;}else if(/Playstation Vita/.test(ua)){OS.vita=true;}if(/Windows Phone/i.test(ua)||/IEMobile/i.test(ua)){OS.android=false;OS.iOS=false;OS.macOS=false;OS.windows=true;OS.windowsPhone=true;}var silk=/Silk/.test(ua);if(OS.windows||OS.macOS||OS.linux&&!silk||OS.chromeOS){OS.desktop=true;}//  Windows Phone / Table reset\nif(OS.windowsPhone||/Windows NT/i.test(ua)&&/Touch/i.test(ua)){OS.desktop=false;}//  WebApp mode in iOS\nif(navigator.standalone){OS.webApp=true;}if(window.cordova!==undefined){OS.cordova=true;}if(typeof process!=='undefined'&&typeof process.versions.node!=='undefined'){OS.node=true;}if(OS.node&&_typeof(process.versions)==='object'){OS.nodeWebkit=!!process.versions['node-webkit'];OS.electron=!!process.versions.electron;}if(navigator.isCocoonJS){OS.cocoonJS=true;try{OS.cocoonJSApp=typeof CocoonJS!=='undefined';}catch(error){OS.cocoonJSApp=false;}}if(window.ejecta!==undefined){OS.ejecta=true;}if(/Crosswalk/.test(ua)){OS.crosswalk=true;}OS.iPhone=ua.toLowerCase().indexOf('iphone')!==-1;OS.iPad=ua.toLowerCase().indexOf('ipad')!==-1;OS.pixelRatio=window['devicePixelRatio']||1;return OS;}module.exports=init();/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(317));/***/},/* 43 *//***/function(module,exports,__webpack_require__){module.exports={ADD_ANIMATION_EVENT:__webpack_require__(384),PAUSE_ALL_ANIMATION_EVENT:__webpack_require__(385),REMOVE_ANIMATION_EVENT:__webpack_require__(386),RESUME_ALL_ANIMATION_EVENT:__webpack_require__(387)};/***/},/* 44 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Systems=__webpack_require__(170);var Scene=new Class({initialize:function Scene(config){//  The Scene Systems. You must never overwrite this property, or all hell will break lose.\nthis.sys=new Systems(this,config);},//  Should be overridden by your own Scenes\nupdate:function update(){},//  Should be overridden by your own Scenes\nrender:function render(){}});module.exports=Scene;/***/},/* 45 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var SpriteRender=__webpack_require__(530);var Sprite=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.ScrollFactor,Components.Size,Components.Texture,Components.Tint,Components.Transform,Components.Visible,SpriteRender],initialize:function Sprite(scene,x,y,texture,frame){GameObject.call(this,scene,'Sprite');this.anims=new Components.Animation(this);this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOrigin();},preUpdate:function preUpdate(time,delta){this.anims.update(time,delta);},play:function play(key,startFrame){return this.anims.play(key,startFrame);},toJSON:function toJSON(){var data=Components.ToJSON(this);//  Extra Sprite data is added here\nreturn data;}});module.exports=Sprite;/***/},/* 46 *//***/function(module,exports){//  http://www.blackpawn.com/texts/pointinpoly/\nvar Contains=function Contains(triangle,x,y){var v0x=triangle.x3-triangle.x1;var v0y=triangle.y3-triangle.y1;var v1x=triangle.x2-triangle.x1;var v1y=triangle.y2-triangle.y1;var v2x=x-triangle.x1;var v2y=y-triangle.y1;var dot00=v0x*v0x+v0y*v0y;var dot01=v0x*v1x+v0y*v1y;var dot02=v0x*v2x+v0y*v2y;var dot11=v1x*v1x+v1y*v1y;var dot12=v1x*v2x+v1y*v2y;// Compute barycentric coordinates\nvar b=dot00*dot11-dot01*dot01;var inv=b===0?0:1/b;var u=(dot11*dot02-dot01*dot12)*inv;var v=(dot00*dot12-dot01*dot02)*inv;return u>=0&&v>=0&&u+v<1;};module.exports=Contains;/***/},/* 47 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.ImageFile\nvar ImageFile=new Class({Extends:File,initialize:// this.load.image('pic', 'assets/pics/taikodrummaster.jpg');\n// this.load.image({ key: 'pic', file: 'assets/pics/taikodrummaster.jpg' });\n// this.load.image({\n//     key: 'bunny',\n//     file: 'assets/sprites/bunny.png',\n//     xhr: {\n//         user: 'root',\n//         password: 'th3G1bs0n',\n//         timeout: 30,\n//         header: 'Content-Type',\n//         headerValue: 'text/xml'\n//     }\n// });\n// this.load.image({ key: 'bunny' });\n// this.load.image({ key: 'bunny', extension: 'jpg' });\nfunction ImageFile(key,url,path,xhrSettings,config){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'image',extension:GetFastValue(key,'extension','png'),responseType:'blob',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings),config:GetFastValue(key,'config',config)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=new Image();this.data.crossOrigin=this.crossOrigin;var _this=this;this.data.onload=function(){URL.revokeObjectURL(_this.data.src);_this.onComplete();callback(_this);};this.data.onerror=function(){URL.revokeObjectURL(_this.data.src);_this.state=CONST.FILE_ERRORED;callback(_this);};this.data.src=URL.createObjectURL(this.xhrLoader.response);}});ImageFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new ImageFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new ImageFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=ImageFile;/***/},/* 48 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Circle=new Class({initialize:function Circle(x,y,radius){if(x===undefined){x=0;}if(y===undefined){y=0;}if(radius===undefined){radius=0;}this.x=x;this.y=y;this._radius=radius;this._diameter=radius*2;},setTo:function setTo(x,y,radius){this.x=x;this.y=y;this._radius=radius;this._diameter=radius*2;return this;},setEmpty:function setEmpty(){return this.setTo(0,0,0);},setPosition:function setPosition(x,y){if(y===undefined){y=x;}this.x=x;this.y=y;return this;},isEmpty:function isEmpty(){return this._radius<=0;},radius:{get:function get(){return this._radius;},set:function set(value){this._radius=value;this._diameter=value*2;}},diameter:{get:function get(){return this._diameter;},set:function set(value){this._diameter=value;this._radius=value*0.5;}},left:{get:function get(){return this.x-this._radius;},set:function set(value){this.x=value+this._radius;}},right:{get:function get(){return this.x+this._radius;},set:function set(value){this.x=value-this._radius;}},top:{get:function get(){return this.y-this._radius;},set:function set(value){this.y=value+this._radius;}},bottom:{get:function get(){return this.y+this._radius;},set:function set(value){this.y=value-this._radius;}}});module.exports=Circle;/***/},/* 49 *//***/function(module,exports){/**\n* Force a value within the boundaries by clamping it to the range `min`, `max`.\n*\n* @method Phaser.Math#clamp\n* @param {float} v - The value to be clamped.\n* @param {float} min - The minimum bounds.\n* @param {float} max - The maximum bounds.\n* @return {number} The clamped value.\n*/var Clamp=function Clamp(v,min,max){if(v<min){return min;}else if(max<v){return max;}else{return v;}};module.exports=Clamp;/***/},/* 50 *//***/function(module,exports){var Wrap=function Wrap(value,min,max){var range=max-min;return min+((value-min)%range+range)%range;};module.exports=Wrap;/***/},/* 51 *//***/function(module,exports){var DistanceBetween=function DistanceBetween(x1,y1,x2,y2){var dx=x1-x2;var dy=y1-y2;return Math.sqrt(dx*dx+dy*dy);};module.exports=DistanceBetween;/***/},/* 52 *//***/function(module,exports,__webpack_require__){var RGBStringToColor=__webpack_require__(148);var HexStringToColor=__webpack_require__(150);var IntegerToColor=__webpack_require__(151);var ValueToColor=function ValueToColor(input){if(typeof input==='string'){if(input.substr(0,3).toLowerCase()==='rgb'){return RGBStringToColor(input);}else{return HexStringToColor(input);}}else if(typeof input==='number'){return IntegerToColor(input);}};module.exports=ValueToColor;/***/},/* 53 *//***/function(module,exports,__webpack_require__){var OS=__webpack_require__(42);var Browser={//  @property {boolean} arora - Set to true if running in Arora.\narora:false,//  @property {boolean} chrome - Set to true if running in Chrome.\nchrome:false,//  @property {number} chromeVersion - If running in Chrome this will contain the major version number.\nchromeVersion:0,//  @property {boolean} epiphany - Set to true if running in Epiphany.\nepiphany:false,//  @property {boolean} firefox - Set to true if running in Firefox.\nfirefox:false,//  @property {number} firefoxVersion - If running in Firefox this will contain the major version number.\nfirefoxVersion:0,//  @property {boolean} mobileSafari - Set to true if running in Mobile Safari.\nmobileSafari:false,//  @property {boolean} ie - Set to true if running in Internet Explorer.\nie:false,//  @property {number} ieVersion - If running in Internet Explorer this will contain the major version number. Beyond IE10 you should use Device.trident and Device.tridentVersion.\nieVersion:0,//  @property {boolean} midori - Set to true if running in Midori.\nmidori:false,//  @property {boolean} opera - Set to true if running in Opera.\nopera:false,//  @property {boolean} safari - Set to true if running in Safari.\nsafari:false,//  @property {number} safariVersion - If running in Safari this will contain the major version number.\nsafariVersion:0,//  @property {boolean} trident - Set to true if running a Trident version of Internet Explorer (IE11+)\ntrident:false,//  @property {number} tridentVersion - If running in Internet Explorer 11 this will contain the major version number. See {@link http://msdn.microsoft.com/en-us/library/ie/ms537503(v=vs.85).aspx}\ntridentVersion:0,//  @property {boolean} edge - Set to true if running in Microsoft Edge browser.\nedge:false,//  @property {boolean} silk - Set to true if running in the Silk browser (as used on the Amazon Kindle)\nsilk:false};function init(){var ua=navigator.userAgent;if(/Arora/.test(ua)){Browser.arora=true;}else if(/Edge\\/\\d+/.test(ua)){Browser.edge=true;}else if(/Chrome\\/(\\d+)/.test(ua)&&!OS.windowsPhone){Browser.chrome=true;Browser.chromeVersion=parseInt(RegExp.$1,10);}else if(/Epiphany/.test(ua)){Browser.epiphany=true;}else if(/Firefox\\D+(\\d+)/.test(ua)){Browser.firefox=true;Browser.firefoxVersion=parseInt(RegExp.$1,10);}else if(/AppleWebKit/.test(ua)&&OS.iOS){Browser.mobileSafari=true;}else if(/MSIE (\\d+\\.\\d+);/.test(ua)){Browser.ie=true;Browser.ieVersion=parseInt(RegExp.$1,10);}else if(/Midori/.test(ua)){Browser.midori=true;}else if(/Opera/.test(ua)){Browser.opera=true;}else if(/Safari/.test(ua)&&!OS.windowsPhone){Browser.safari=true;}else if(/Trident\\/(\\d+\\.\\d+)(.*)rv:(\\d+\\.\\d+)/.test(ua)){Browser.ie=true;Browser.trident=true;Browser.tridentVersion=parseInt(RegExp.$1,10);Browser.ieVersion=parseInt(RegExp.$3,10);}//  Silk gets its own if clause because its ua also contains 'Safari'\nif(/Silk/.test(ua)){Browser.silk=true;}return Browser;}module.exports=init();/***/},/* 54 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);// A Set is a collection of unique elements.\nvar Set=new Class({initialize:function Set(elements){this.entries=[];if(Array.isArray(elements)){for(var i=0;i<elements.length;i++){this.set(elements[i]);}}},set:function set(value){if(this.entries.indexOf(value)===-1){this.entries.push(value);}return this;},get:function get(property,value){for(var i=0;i<this.entries.length;i++){var entry=this.entries[i];if(entry[property]===value){return entry;}}},getArray:function getArray(){return this.entries.slice(0);},delete:function _delete(value){var index=this.entries.indexOf(value);if(index>-1){this.entries.splice(index,1);}return this;},dump:function dump(){console.group('Set');for(var i=0;i<this.entries.length;i++){var entry=this.entries[i];console.log(entry);}console.groupEnd();},//  For when you know this Set will be modified during the iteration\neach:function each(callback){var temp=this.entries.slice();for(var i=0;i<temp.length;i++){if(callback(temp[i])===false){break;}}return this;},//  For when you absolutely know this Set won't be modified during the iteration\niterate:function iterate(callback){for(var i=0;i<this.entries.length;i++){if(callback(this.entries[i],i)===false){break;}}return this;},clear:function clear(){this.entries.length=0;return this;},contains:function contains(value){return this.entries.indexOf(value)>-1;},union:function union(set){var newSet=new Set();set.values.forEach(function(value){newSet.add(value);});this.entries.forEach(function(value){newSet.add(value);});return newSet;},intersect:function intersect(set){var newSet=new Set();this.entries.forEach(function(value){if(set.contains(value)){newSet.add(value);}});return newSet;},difference:function difference(set){var newSet=new Set();this.entries.forEach(function(value){if(!set.contains(value)){newSet.add(value);}});return newSet;},size:{get:function get(){return this.entries.length;},set:function set(value){return this.entries.length=value;}}});module.exports=Set;/***/},/* 55 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var MeshRender=__webpack_require__(538);var Mesh=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,MeshRender],initialize:function Mesh(scene,x,y,vertices,uv,indices,colors,alphas,texture,frame){GameObject.call(this,scene,'Mesh');this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOrigin();if(vertices.length!==uv.length){throw new Error('Phaser: Vertex count must match UV count');}var verticesUB=vertices.length/2|0;if(colors.length>0&&colors.length<verticesUB){throw new Error('Phaser: Color count must match Vertex count');}if(alphas.length>0&&alphas.length<verticesUB){throw new Error('Phaser: Alpha count must match Vertex count');}var i;if(colors.length===0){for(i=0;i<verticesUB;++i){colors[i]=0xFFFFFF;}}if(alphas.length===0){for(i=0;i<verticesUB;++i){alphas[i]=1.0;}}this.vertices=new Float32Array(vertices);this.uv=new Float32Array(uv);this.indices=new Uint16Array(indices);this.colors=new Uint32Array(colors);this.alphas=new Float32Array(alphas);}});module.exports=Mesh;/***/},/* 56 *//***/function(module,exports){var Contains=function Contains(ellipse,x,y){if(ellipse.width<=0||ellipse.height<=0){return false;}//  Normalize the coords to an ellipse with center 0,0 and a radius of 0.5\nvar normx=(x-ellipse.x)/ellipse.width-0.5;var normy=(y-ellipse.y)/ellipse.height-0.5;normx*=normx;normy*=normy;return normx+normy<0.25;};module.exports=Contains;/***/},/* 57 *//***/function(module,exports){var SortScenes=function SortScenes(sceneA,sceneB){// console.log('sortScenes', sceneA.scene.sys.settings.key, sceneA.index, sceneB.scene.sys.settings.key, sceneB.index);\n//  Sort descending\nif(sceneA.index<sceneB.index){return-1;}else if(sceneA.index>sceneB.index){return 1;}else{return 0;}};module.exports=SortScenes;/***/},/* 58 *//***/function(module,exports){//  This is based off an explanation and expanded math presented by Paul Bourke:\n//  See http:'local.wasp.uwa.edu.au/~pbourke/geometry/lineline2d/\nvar LineToLine=function LineToLine(line1,line2,out){if(out===undefined){out={x:0,y:0};}var x1=line1.x1;var y1=line1.y1;var x2=line1.x2;var y2=line1.y2;var x3=line2.x1;var y3=line2.y1;var x4=line2.x2;var y4=line2.y2;var numA=(x4-x3)*(y1-y3)-(y4-y3)*(x1-x3);var numB=(x2-x1)*(y1-y3)-(y2-y1)*(x1-x3);var deNom=(y4-y3)*(x2-x1)-(x4-x3)*(y2-y1);//  Make sure there is not a division by zero - this also indicates that the lines are parallel.\n//  If numA and numB were both equal to zero the lines would be on top of each other (coincidental).\n//  This check is not done because it is not necessary for this implementation (the parallel check accounts for this).\nif(deNom===0){return false;}//  Calculate the intermediate fractional point that the lines potentially intersect.\nvar uA=numA/deNom;var uB=numB/deNom;//  The fractional point will be between 0 and 1 inclusive if the lines intersect.\n//  If the fractional calculation is larger than 1 or smaller than 0 the lines would need to be longer to intersect.\nif(uA>=0&&uA<=1&&uB>=0&&uB<=1){out.x=x1+uA*(x2-x1);out.y=y1+uA*(y2-y1);return true;}return false;};module.exports=LineToLine;/***/},/* 59 *//***/function(module,exports){// Collision Types - Determine if and how entities collide with each other\n// In ACTIVE vs. LITE or FIXED vs. ANY collisions, only the \"weak\" entity moves,\n// while the other one stays fixed. In ACTIVE vs. ACTIVE and ACTIVE vs. PASSIVE\n// collisions, both entities are moved. LITE or PASSIVE entities don't collide\n// with other LITE or PASSIVE entities at all. The behaiviour for FIXED vs.\n// FIXED collisions is undefined.\nmodule.exports={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};/***/},/* 60 *//***/function(module,exports,__webpack_require__){var IsPlainObject=__webpack_require__(98);/**\n* This is a slightly modified version of http://api.jquery.com/jQuery.extend/\n* \n* @method Phaser.Utils.extend\n* @param {boolean} deep - Perform a deep copy?\n* @param {object} target - The target object to copy to.\n* @return {object} The extended object.\n*/var Extend=function Extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;// Handle a deep copy situation\nif(typeof target===\"boolean\"){deep=target;target=arguments[1]||{};// skip the boolean and the target\ni=2;}// extend Phaser if only one argument is passed\nif(length===i){target=this;--i;}for(;i<length;i++){// Only deal with non-null/undefined values\nif((options=arguments[i])!=null){// Extend the base object\nfor(name in options){src=target[name];copy=options[name];// Prevent never-ending loop\nif(target===copy){continue;}// Recurse if we're merging plain objects or arrays\nif(deep&&copy&&(IsPlainObject(copy)||(copyIsArray=Array.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&Array.isArray(src)?src:[];}else{clone=src&&IsPlainObject(src)?src:{};}// Never move original objects, clone them\ntarget[name]=Extend(deep,clone,copy);// Don't bring in undefined values\n}else if(copy!==undefined){target[name]=copy;}}}}// Return the modified object\nreturn target;};module.exports=Extend;/***/},/* 61 *//***/function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(31);var Circle=__webpack_require__(48);var CircleContains=__webpack_require__(36);var Class=__webpack_require__(0);var Components=__webpack_require__(3);var GameObject=__webpack_require__(6);var Rectangle=__webpack_require__(14);var RectangleContains=__webpack_require__(27);//  A Zone is a non-rendering Game Object that has a position and size.\n//  It has no texture and never renders, but does live on the display list and\n//  can be moved, scaled and rotated like any other Game Object.\n//  The default origin is 0.5, the center of the Zone, the same as with Game Objects.\n//  It's useful for linking to drop zones and input hit areas and has a couple of helper methods specifically for this.\n//  Also useful for object overlap checks, or as a base for your own non-displaying objects.\nvar Zone=new Class({Extends:GameObject,Mixins:[Components.GetBounds,Components.Origin,Components.ScaleMode,Components.Size,Components.Transform,Components.ScrollFactor,Components.Visible],initialize:function Zone(scene,x,y,width,height){if(width===undefined){width=1;}if(height===undefined){height=width;}GameObject.call(this,scene,'Zone');this.setPosition(x,y);this.setSize(width,height);this.blendMode=BlendModes.NORMAL;},//  Centered on the Zones x/y\nsetCircleDropZone:function setCircleDropZone(radius){return this.setDropZone(new Circle(0,0,radius),CircleContains);},//  Centered on the Zones x/y position\nsetRectangleDropZone:function setRectangleDropZone(width,height){var x=-(width/2);var y=-(height/2);return this.setDropZone(new Rectangle(x,y,width,height),RectangleContains);},//  Define your own shape as the drop zone\nsetDropZone:function setDropZone(shape,callback){if(shape===undefined){this.setRectangleDropZone(this.width,this.height);}else{if(!this.input){this.setInteractive(shape,callback);}this.input.dropZone=true;}return this;},renderCanvas:function renderCanvas(){return;},renderWebGL:function renderWebGL(){return;}});module.exports=Zone;/***/},/* 62 *//***/function(module,exports){/**\n* Using Bresenham's line algorithm this will return an array of all coordinates on this line.\n* The start and end points are rounded before this runs as the algorithm works on integers.\n*/var GetPointsOnLine=function GetPointsOnLine(line,stepRate,results){if(stepRate===undefined){stepRate=1;}if(results===undefined){results=[];}var x1=Math.round(line.x1);var y1=Math.round(line.y1);var x2=Math.round(line.x2);var y2=Math.round(line.y2);var dx=Math.abs(x2-x1);var dy=Math.abs(y2-y1);var sx=x1<x2?1:-1;var sy=y1<y2?1:-1;var err=dx-dy;results.push([x1,y1]);var i=1;while(!(x1===x2&&y1===y2)){var e2=err<<1;if(e2>-dy){err-=dy;x1+=sx;}if(e2<dx){err+=dx;y1+=sy;}if(i%stepRate===0){results.push([x1,y1]);}i++;}return results;};module.exports=GetPointsOnLine;/***/},/* 63 *//***/function(module,exports){//  p = Point or any object with public x/y properties, the item to be rotated\n//  x/y = the coordinate to rotate around\n//  angle = radians\n//  distance = in px\nvar RotateAroundDistance=function RotateAroundDistance(point,x,y,angle,distance){var t=angle+Math.atan2(point.y-y,point.x-x);point.x=x+distance*Math.cos(t);point.y=y+distance*Math.sin(t);return point;};module.exports=RotateAroundDistance;/***/},/* 64 *//***/function(module,exports){//  Browser specific prefix, so not going to change between contexts, only between browsers\nvar prefix='';var Smoothing=function Smoothing(){// Gets the Smoothing Enabled vendor prefix being used on the given context, or null if not set.\nvar getPrefix=function getPrefix(context){var vendors=['i','webkitI','msI','mozI','oI'];for(var i=0;i<vendors.length;i++){var s=vendors[i]+'mageSmoothingEnabled';if(s in context){return s;}}return null;};/**\n    * Sets the Image Smoothing property on the given context. Set to false to disable image smoothing.\n    * By default browsers have image smoothing enabled, which isn't always what you visually want, especially\n    * when using pixel art in a game. Note that this sets the property on the context itself, so that any image\n    * drawn to the context will be affected. This sets the property across all current browsers but support is\n    * patchy on earlier browsers, especially on mobile.\n    */var enable=function enable(context){if(prefix===''){prefix=getPrefix(context);}if(prefix){context[prefix]=true;}return context;};/**\n    * Sets the Image Smoothing property on the given context. Set to false to disable image smoothing.\n    * By default browsers have image smoothing enabled, which isn't always what you visually want, especially\n    * when using pixel art in a game. Note that this sets the property on the context itself, so that any image\n    * drawn to the context will be affected. This sets the property across all current browsers but support is\n    * patchy on earlier browsers, especially on mobile.\n    */var disable=function disable(context){if(prefix===''){prefix=getPrefix(context);}if(prefix){context[prefix]=false;}return context;};/**\n     * Returns `true` if the given context has image smoothing enabled, otherwise returns `false`.\n     * Returns null if no smoothing prefix is available.\n     */var isEnabled=function isEnabled(context){return prefix!==null?context[prefix]:null;};return{disable:disable,enable:enable,getPrefix:getPrefix,isEnabled:isEnabled};};module.exports=Smoothing();/***/},/* 65 *//***/function(module,exports){var CanvasInterpolation={//  Sets the CSS image-rendering property on the given canvas to be 'crisp' (aka 'optimize contrast' on webkit).\n//  Note that if this doesn't given the desired result then see the setSmoothingEnabled.\nsetCrisp:function setCrisp(canvas){var types=['optimizeSpeed','crisp-edges','-moz-crisp-edges','-webkit-optimize-contrast','optimize-contrast','pixelated'];types.forEach(function(type){canvas.style['image-rendering']=type;});canvas.style.msInterpolationMode='nearest-neighbor';return canvas;},//  Sets the CSS image-rendering property on the given canvas to be 'bicubic' (aka 'auto').\n//  Note that if this doesn't given the desired result then see the CanvasUtils.setSmoothingEnabled method.\nsetBicubic:function setBicubic(canvas){canvas.style['image-rendering']='auto';canvas.style.msInterpolationMode='bicubic';return canvas;}};module.exports=CanvasInterpolation;/***/},/* 66 *//***/function(module,exports,__webpack_require__){var RND=__webpack_require__(324);module.exports={//  CONSTs (makes them visible under Phaser.Math)\nPI2:Math.PI*2,TAU:Math.PI*0.5,EPSILON:1.0e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,//  Collections of functions\nAngle:__webpack_require__(325),Distance:__webpack_require__(333),Easing:__webpack_require__(336),Fuzzy:__webpack_require__(337),Interpolation:__webpack_require__(343),Pow2:__webpack_require__(346),Snap:__webpack_require__(349),//  Random Data Generator\nRND:new RND(),//  Single functions\nAverage:__webpack_require__(353),Bernstein:__webpack_require__(142),Between:__webpack_require__(68),CatmullRom:__webpack_require__(144),CeilTo:__webpack_require__(354),Clamp:__webpack_require__(49),DegToRad:__webpack_require__(355),Difference:__webpack_require__(356),Factorial:__webpack_require__(143),FloatBetween:__webpack_require__(357),FloorTo:__webpack_require__(358),GetSpeed:__webpack_require__(359),IsEven:__webpack_require__(360),IsEvenStrict:__webpack_require__(361),Linear:__webpack_require__(146),MaxAdd:__webpack_require__(362),MinSub:__webpack_require__(363),Percent:__webpack_require__(364),RadToDeg:__webpack_require__(365),Rotate:__webpack_require__(366),RotateAround:__webpack_require__(367),RotateAroundDistance:__webpack_require__(63),RoundAwayFromZero:__webpack_require__(147),RoundTo:__webpack_require__(368),SinCosTableGenerator:__webpack_require__(369),SmootherStep:__webpack_require__(122),SmoothStep:__webpack_require__(123),Within:__webpack_require__(370),Wrap:__webpack_require__(50)};/***/},/* 67 *//***/function(module,exports){/**\n* Checks if the given dimensions make a power of two texture.\n* \n* @param {number} width - The width to check.\n* @param {number} height - The height to check.\n* @return {boolean} True if the width and height are a power of two.\n*/var IsSizePowerOfTwo=function IsSizePowerOfTwo(width,height){return width>0&&(width&width-1)===0&&height>0&&(height&height-1)===0;};module.exports=IsSizePowerOfTwo;/***/},/* 68 *//***/function(module,exports){var Between=function Between(min,max){return Math.floor(Math.random()*(max-min+1)+min);};module.exports=Between;/***/},/* 69 *//***/function(module,exports){/**\n * Given 3 color values this will return an integer representation of it.\n */var GetColor=function GetColor(red,green,blue){return red<<16|green<<8|blue;};module.exports=GetColor;/***/},/* 70 *//***/function(module,exports){/**\n* This will return the local coordinates of the specified displayObject based on the given Pointer.\n*/var GetTransformedPoint=function GetTransformedPoint(matrix,gameObject,x,y,output){if(output===undefined){output={x:0,y:0};}matrix.applyITRS(gameObject.x,gameObject.y,-gameObject.rotation,gameObject.scaleX,gameObject.scaleY);matrix.invert();return matrix.transformPoint(x,y,output);};module.exports=GetTransformedPoint;/***/},/* 71 *//***/function(module,exports){module.exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWAD_SLASH:191,BACK_SLASH:220,QUOTES:222};/***/},/* 72 *//***/function(module,exports,__webpack_require__){var BlitterRender=__webpack_require__(508);var Bob=__webpack_require__(511);var Class=__webpack_require__(0);var Components=__webpack_require__(3);var DisplayList=__webpack_require__(172);var GameObject=__webpack_require__(6);/**\n* A Blitter Game Object.\n*\n* The Blitter Game Object is a special type of Container, that contains Blitter.Bob objects.\n* These objects can be thought of as just texture frames with a position and nothing more.\n* Bobs don't have any update methods, or the ability to have children, or any kind of special effects.\n* They are essentially just super-fast texture frame renderers, and the Blitter object creates and manages them.\n*/var Blitter=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.RenderTarget,Components.ScaleMode,Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,BlitterRender],initialize:function Blitter(scene,x,y,texture,frame){GameObject.call(this,scene,'Blitter');this.setTexture(texture,frame);this.setPosition(x,y);this.children=new DisplayList(this);this.renderList=[];this.dirty=false;},//  frame MUST be part of the Blitter texture\ncreate:function create(x,y,frame,visible,index){if(frame===undefined){frame=this.frame;}if(visible===undefined){visible=true;}if(index===undefined){index=this.children.length;}if(typeof frame==='string'){frame=this.texture.get(frame);}var bob=new Bob(x,y,frame,visible);this.children.addAt(bob,index,false);this.dirty=true;return bob;},//  frame MUST be part of the Blitter texture\ncreateFromCallback:function createFromCallback(callback,quantity,frame,visible){var bobs=this.createMultiple(quantity,frame,visible);for(var i=0;i<bobs.length;i++){var bob=bobs[i];callback.call(this,bob,i);}return bobs;},//  frame MUST be part of the Blitter texture\ncreateMultiple:function createMultiple(quantity,frame,visible){if(frame===undefined){frame=this.frame;}if(visible===undefined){visible=true;}if(!Array.isArray(frame)){frame=[frame];}var bobs=[];var _this=this;frame.forEach(function(singleFrame){for(var i=0;i<quantity;i++){bobs.push(_this.create(0,0,singleFrame,visible));}});return bobs;},childCanRender:function childCanRender(child){return child.visible&&child.alpha>0;},getRenderList:function getRenderList(){if(this.dirty){this.renderList=this.children.list.filter(this.childCanRender,this);this.dirty=false;}return this.renderList;},clear:function clear(){this.children.removeAll();this.dirty=true;}});module.exports=Blitter;/***/},/* 73 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var Render=__webpack_require__(513);var GetBitmapTextSize=__webpack_require__(173);var DynamicBitmapText=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Origin,Components.RenderTarget,Components.Texture,Components.Tint,Components.Transform,Components.Visible,Components.ScrollFactor,Render],initialize:function DynamicBitmapText(scene,x,y,font,text,size){if(text===undefined){text='';}GameObject.call(this,scene,'DynamicBitmapText');this.font=font;var entry=this.scene.sys.cache.bitmapFont.get(font);this.fontData=entry.data;this.text=Array.isArray(text)?text.join('\\n'):text;this.fontSize=size||this.fontData.size;this.setTexture(entry.texture,entry.frame);this.setPosition(x,y);this.setOrigin(0,0);this._bounds=this.getTextBounds();this.scrollX=0;this.scrollY=0;this.width=0;this.height=0;this.displayCallback;},setSize:function setSize(width,height){this.width=width;this.height=height;return this;},setDisplayCallback:function setDisplayCallback(callback){this.displayCallback=callback;return this;},setFontSize:function setFontSize(size){this.fontSize=size;return this;},setText:function setText(text){this.text=text;return this;},setScrollX:function setScrollX(value){this.scrollX=value;return this;},setScrollY:function setScrollY(value){this.scrollY=value;return this;},// {\n//     local: {\n//         x,\n//         y,\n//         width,\n//         height\n//     },\n//     global: {\n//         x,\n//         y,\n//         width,\n//         height\n//     }\n// }\ngetTextBounds:function getTextBounds(){//  local = the BitmapText based on fontSize and 0x0 coords\n//  global = the BitmapText, taking into account scale and world position\nreturn GetBitmapTextSize(this);}});module.exports=DynamicBitmapText;/***/},/* 74 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var TilemapRender=__webpack_require__(517);var Tile=__webpack_require__(520);var Tilemap=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,TilemapRender],initialize:function Tilemap(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame){GameObject.call(this,scene,'Tilemap');this.mapData=mapData!==null?new Uint32Array(mapData):new Uint32Array(mapWidth*mapHeight);this.tileWidth=tileWidth;this.tileHeight=tileHeight;this.mapWidth=mapWidth;this.mapHeight=mapHeight;this.tileArray=[];this.culledTiles=[];this.tileBorder=tileBorder;this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOrigin();this.setSize(tileWidth*mapWidth,tileHeight*mapHeight);this.buildTilemap();},getTotalTileCount:function getTotalTileCount(){return this.tileArray.length;},getVisibleTileCount:function getVisibleTileCount(camera){return this.cull(camera).length;},buildTilemap:function buildTilemap(){var tileArray=this.tileArray;var mapData=this.mapData;var border=this.tileBorder;var tileWidth=this.tileWidth;var tileHeight=this.tileHeight;var tileWidthBorder=tileWidth+border*2;var tileHeightBorder=tileHeight+border*2;var width=this.texture.source[0].width;var height=this.texture.source[0].height;var mapWidth=this.mapWidth;var mapHeight=this.mapHeight;var setWidth=width/tileWidth;tileArray.length=0;for(var y=0;y<mapHeight;++y){for(var x=0;x<mapWidth;++x){var tileId=mapData[y*mapWidth+x];var halfTileWidth=tileWidthBorder*0.5;var halfTileHeight=tileHeightBorder*0.5;var rectx=(tileId%setWidth|0)*tileWidthBorder+halfTileWidth;var recty=(tileId/setWidth|0)*tileHeightBorder+halfTileHeight;var tx=x*tileWidth;var ty=y*tileHeight;tileArray.push(new Tile({index:x+y,id:tileId,x:tx,y:ty,width:tileWidth,height:tileHeight,frameX:rectx,frameY:recty,frameWidth:tileWidth,frameHeight:tileHeight,textureWidth:width,textureHeight:height,border:border}));}}},cull:function cull(camera){var culledTiles=this.culledTiles;var tiles=this.tileArray;var length=tiles.length;var scrollX=camera.scrollX*this.scrollFactorX;var scrollY=camera.scrollY*this.scrollFactorY;var cameraW=camera.width;var cameraH=camera.height;culledTiles.length=0;for(var index=0;index<length;++index){var tile=tiles[index];var tileX=tile.x-scrollX;var tileY=tile.y-scrollY;var tileW=tile.width;var tileH=tile.height;var cullW=cameraW+tileW;var cullH=cameraH+tileH;if(tile.visible&&tileX>-tileW&&tileY>-tileH&&tileX<cullW&&tileY<cullH){culledTiles.push(tile);}}return culledTiles;},forEach:function forEach(callback){this.tileArray.forEach(callback);},//  Returns Object containing:\n//  {\n//      alpha\n//      frameWidth,\n//      frameHeight,\n//      frameX\n//      frameY\n//      id\n//      index = the tile in the tilset to render\n//      textureWidth = tileset texture size\n//      textureHeight\n//      tint\n//      visible\n//      width\n//      x\n//      y\n//  }\ngetTileAt:function getTileAt(x,y){var ix=x|0;var iy=y|0;var tiles=this.tileArray;var index=iy*this.mapWidth+ix;if(index<tiles.length){return tiles[index];}return null;},getTileAtIndex:function getTileAtIndex(index){var tiles=this.tileArray;if(index<tiles.length){return tiles[index];}return null;}});module.exports=Tilemap;/***/},/* 75 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var Render=__webpack_require__(522);var TexturedAndNormalizedTintedShader=__webpack_require__(38);//  EffectLayer renders all elements on the layer to an offscreen render target\n//  and then when rendering the color buffer of that render target to the main screen\n//  it applies the effect layer shader.\nvar EffectLayer=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.Size,Components.Transform,Components.Visible,Components.ScrollFactor,Render],initialize:function EffectLayer(scene,x,y,width,height,effectName,fragmentShader){GameObject.call(this,scene,'EffectLayer');var pot=(width&width-1)==0&&(height&height-1)==0;var resourceManager=scene.game.renderer.resourceManager;var wrap;var gl;this.dstRenderTarget=null;this.renderTexture=null;this.dstShader=null;this.uniforms={};if(resourceManager!==undefined){gl=scene.game.renderer.gl;wrap=pot?gl.REPEAT:gl.CLAMP_TO_EDGE;this.dstShader=resourceManager.createShader(effectName,{vert:TexturedAndNormalizedTintedShader.vert,frag:fragmentShader});this.renderTexture=resourceManager.createTexture(0,gl.LINEAR,gl.LINEAR,wrap,wrap,gl.RGBA,null,width,height);this.dstRenderTarget=resourceManager.createRenderTarget(width,height,this.renderTexture,null);scene.game.renderer.currentTexture[0]=null;// force rebinding of prev texture\n}this.flipY=true;this.setPosition(x,y);this.setSize(width,height);this.setOrigin(0,0);},setClearAlpha:function setClearAlpha(alpha){if(this.dstRenderTarget){this.dstRenderTarget.clearAlpha=alpha;}},renderOffScreen:function renderOffScreen(){this.renderTarget=this.dstRenderTarget;},renderOnScreen:function renderOnScreen(){this.renderTarget=null;},add:function add(gameObject){if(gameObject.renderTarget!==undefined){gameObject.renderTarget=this.dstRenderTarget;}},remove:function remove(gameObject){if(gameObject.renderTarget!==undefined){gameObject.renderTarget=null;}},getUniformLocation:function getUniformLocation(uniformName){var dstShader=this.dstShader;var uniforms=this.uniforms;var location;if(uniformName in uniforms){location=uniforms[uniformName];}else{location=dstShader.getUniformLocation(uniformName);uniforms[uniformName]=location;}return location;},setFloat:function setFloat(uniformName,x){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantFloat1(this.getUniformLocation(uniformName),x);},setFloat2:function setFloat2(uniformName,x,y){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantFloat2(this.getUniformLocation(uniformName),x,y);},setFloat3:function setFloat3(uniformName,x,y,z){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantFloat3(this.getUniformLocation(uniformName),x,y,z);},setFloat4:function setFloat4(uniformName,x,y,z,w){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantFloat4(this.getUniformLocation(uniformName),x,y,z,w);},setInt:function setInt(uniformName,x){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantInt1(this.getUniformLocation(uniformName),x);},setInt2:function setInt2(uniformName,x,y){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantInt2(this.getUniformLocation(uniformName),x,y);},setInt3:function setInt3(uniformName,x,y,z){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantInt3(this.getUniformLocation(uniformName),x,y,z);},setInt4:function setInt4(uniformName,x,y,z,w){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantInt4(this.getUniformLocation(uniformName),x,y,z,w);},setMatrix2x2:function setMatrix2x2(uniformName,matrix){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantMatrix2x2(this.getUniformLocation(uniformName),matrix);},setMatrix3x3:function setMatrix3x3(uniformName,matrix){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantMatrix3x3(this.getUniformLocation(uniformName),matrix);},setMatrix4x4:function setMatrix4x4(uniformName,matrix){var dstShader=this.dstShader;if(dstShader===null){return;}dstShader.setConstantMatrix4x4(this.getUniformLocation(uniformName),matrix);}});module.exports=EffectLayer;/***/},/* 76 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var Render=__webpack_require__(526);var Commands=__webpack_require__(77);var MATH_CONST=__webpack_require__(10);var GetValue=__webpack_require__(2);var CanvasPool=__webpack_require__(11);var Camera=__webpack_require__(171);var Graphics=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Transform,Components.RenderTarget,Components.Visible,Components.ScrollFactor,Render],initialize:function Graphics(scene,options){var x=GetValue(options,'x',0);var y=GetValue(options,'y',0);GameObject.call(this,scene,'Graphics');this.setPosition(x,y);this.commandBuffer=[];this.defaultFillColor=-1;this.defaultFillAlpha=1;this.defaultStrokeWidth=1;this.defaultStrokeColor=-1;this.defaultStrokeAlpha=1;this.setDefaultStyles(options);var resourceManager=scene.game.renderer.resourceManager;if(resourceManager!==undefined){this.resourceManager=resourceManager;this.gl=scene.game.renderer.gl;}},//  STYLES\nsetDefaultStyles:function setDefaultStyles(options){if(GetValue(options,'lineStyle',null)){this.defaultStrokeWidth=GetValue(options,'lineStyle.width',1);this.defaultStrokeColor=GetValue(options,'lineStyle.color',0xffffff);this.defaultStrokeAlpha=GetValue(options,'lineStyle.alpha',1);this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha);}if(GetValue(options,'fillStyle',null)){this.defaultFillColor=GetValue(options,'fillStyle.color',0xffffff);this.defaultFillAlpha=GetValue(options,'fillStyle.alpha',1);this.fillStyle(this.defaultFillColor,this.defaultFillAlpha);}return this;},lineStyle:function lineStyle(lineWidth,color,alpha){if(alpha===undefined){alpha=1;}this.commandBuffer.push(Commands.LINE_STYLE,lineWidth,color,alpha);return this;},fillStyle:function fillStyle(color,alpha){if(alpha===undefined){alpha=1;}this.commandBuffer.push(Commands.FILL_STYLE,color,alpha);return this;},//  PATH\nbeginPath:function beginPath(){this.commandBuffer.push(Commands.BEGIN_PATH);return this;},closePath:function closePath(){this.commandBuffer.push(Commands.CLOSE_PATH);return this;},fillPath:function fillPath(){this.commandBuffer.push(Commands.FILL_PATH);return this;},strokePath:function strokePath(){this.commandBuffer.push(Commands.STROKE_PATH);return this;},//  CIRCLE\nfillCircleShape:function fillCircleShape(circle){return this.fillCircle(circle.x,circle.y,circle.radius);},strokeCircleShape:function strokeCircleShape(circle){return this.strokeCircle(circle.x,circle.y,circle.radius);},fillCircle:function fillCircle(x,y,radius){this.beginPath();this.arc(x,y,radius,0,MATH_CONST.PI2);this.fillPath();this.closePath();return this;},strokeCircle:function strokeCircle(x,y,radius){this.beginPath();this.arc(x,y,radius,0,MATH_CONST.PI2);this.closePath();this.strokePath();return this;},//  RECTANGLE\nfillRectShape:function fillRectShape(rect){return this.fillRect(rect.x,rect.y,rect.width,rect.height);},strokeRectShape:function strokeRectShape(rect){return this.strokeRect(rect.x,rect.y,rect.width,rect.height);},fillRect:function fillRect(x,y,width,height){this.commandBuffer.push(Commands.FILL_RECT,x,y,width,height);return this;},strokeRect:function strokeRect(x,y,width,height){this.beginPath();this.moveTo(x,y);this.lineTo(x+width,y);this.lineTo(x+width,y+height);this.lineTo(x,y+height);this.lineTo(x,y);this.strokePath();this.closePath();return this;},//  POINT\nfillPointShape:function fillPointShape(point,size){return this.fillPoint(point.x,point.y,size);},fillPoint:function fillPoint(x,y,size){this.commandBuffer.push(Commands.FILL_RECT,x,y,size,size);return this;},//  TRIANGLE\nfillTriangleShape:function fillTriangleShape(triangle){return this.fillTriangle(triangle.x1,triangle.y1,triangle.x2,triangle.y2,triangle.x3,triangle.y3);},strokeTriangleShape:function strokeTriangleShape(triangle){return this.strokeTriangle(triangle.x1,triangle.y1,triangle.x2,triangle.y2,triangle.x3,triangle.y3);},fillTriangle:function fillTriangle(x0,y0,x1,y1,x2,y2){this.commandBuffer.push(Commands.FILL_TRIANGLE,x0,y0,x1,y1,x2,y2);return this;},strokeTriangle:function strokeTriangle(x0,y0,x1,y1,x2,y2){this.commandBuffer.push(Commands.STROKE_TRIANGLE,x0,y0,x1,y1,x2,y2);return this;},//  LINE\nstrokeLineShape:function strokeLineShape(line){return this.lineBetween(line.x1,line.y1,line.x2,line.y2);},lineBetween:function lineBetween(x1,y1,x2,y2){this.beginPath();this.moveTo(x1,y1);this.lineTo(x2,y2);this.strokePath();this.closePath();return this;},lineTo:function lineTo(x,y){this.commandBuffer.push(Commands.LINE_TO,x,y);return this;},moveTo:function moveTo(x,y){this.commandBuffer.push(Commands.MOVE_TO,x,y);return this;},lineFxTo:function lineFxTo(x,y,width,rgb){this.commandBuffer.push(Commands.LINE_FX_TO,x,y,width,rgb,1);return this;},moveFxTo:function moveFxTo(x,y,width,rgb){this.commandBuffer.push(Commands.MOVE_FX_TO,x,y,width,rgb,1);return this;},//  ARC\narc:function arc(x,y,radius,startAngle,endAngle,anticlockwise){this.commandBuffer.push(Commands.ARC,x,y,radius,startAngle,endAngle,anticlockwise);return this;},save:function save(){this.commandBuffer.push(Commands.SAVE);return this;},restore:function restore(){this.commandBuffer.push(Commands.RESTORE);return this;},translate:function translate(x,y){this.commandBuffer.push(Commands.TRANSLATE,x,y);return this;},scale:function scale(x,y){this.commandBuffer.push(Commands.SCALE,x,y);return this;},rotate:function rotate(radian){this.commandBuffer.push(Commands.ROTATE,radian);return this;},clear:function clear(){this.commandBuffer.length=0;if(this.defaultFillColor>-1){this.fillStyle(this.defaultFillColor,this.defaultFillAlpha);}if(this.defaultStrokeColor>-1){this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha);}return this;},generateTexture:function generateTexture(key,width,height){var screenWidth=this.scene.game.config.width;var screenHeight=this.scene.game.config.height;width=typeof width==='number'?width:screenWidth;height=typeof height==='number'?height:screenHeight;Graphics.TargetCamera.setViewport(0,0,width,height);Graphics.TargetCamera.scrollX=this.x;Graphics.TargetCamera.scrollY=this.y;var texture=this.scene.game.textures.createCanvas(key,width,height);var ctx=texture.source[0].image.getContext('2d');texture.add('__BASE',0,0,0,width,height);this.renderCanvas(this.scene.game.renderer,this,0,Graphics.TargetCamera,ctx);if(this.gl){this.scene.game.renderer.uploadCanvasToGPU(ctx.canvas,texture.source[0].glTexture,true);}}});Graphics.TargetCamera=new Camera(0,0,0,0);module.exports=Graphics;/***/},/* 77 *//***/function(module,exports){module.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,LINE_FX_TO:12,MOVE_FX_TO:13,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18};/***/},/* 78 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Set=__webpack_require__(54);var GetValue=__webpack_require__(2);var Range=__webpack_require__(174);var Actions=__webpack_require__(99);var Sprite=__webpack_require__(45);var Group=new Class({initialize:function Group(scene,children,config){this.scene=scene;this.children=new Set(children);this.classType=Sprite;if(config){this.createMultiple(config);}},update:function update(time,delta){//  Because a Group child may mess with the length of the Group during its update\nvar temp=this.children.entries.slice();for(var i=0;i<temp.length;i++){if(temp[i].update(time,delta)===false){break;}}},//  Group management methods:\nadd:function add(child){this.children.set(child);return this;},addMultiple:function addMultiple(children){if(Array.isArray(children)){for(var i=0;i<children.length;i++){this.children.set(children[i]);}}return this;},create:function create(x,y,key,frame,visible){if(visible===undefined){visible=true;}var child=new this.classType(this.scene,x,y,key,frame);this.scene.sys.displayList.add(child);if(child.preUpdate){this.scene.sys.updateList.add(child);}child.visible=visible;this.children.set(child);return child;},createFromConfig:function createFromConfig(options){this.classType=GetValue(options,'classType',this.classType);var key=GetValue(options,'key',undefined);var frame=GetValue(options,'frame',null);var visible=GetValue(options,'visible',true);var entries=[];//  Can't do anything without at least a key\nif(key===undefined){return entries;}else{if(!Array.isArray(key)){key=[key];}if(!Array.isArray(frame)){frame=[frame];}}//  Build an array of key frame pairs to loop through\nvar repeat=GetValue(options,'repeat',0);var randomKey=GetValue(options,'randomKey',false);var randomFrame=GetValue(options,'randomFrame',false);var yoyo=GetValue(options,'yoyo',false);var quantity=GetValue(options,'frameQuantity',1);var max=GetValue(options,'max',0);var range=Range(key,frame,{max:max,qty:quantity,random:randomKey,randomB:randomFrame,repeat:repeat,yoyo:yoyo});for(var c=0;c<range.length;c++){entries.push(this.create(0,0,range[c].a,range[c].b,visible));}//  Post-creation options (applied only to those items created in this call):\nvar x=GetValue(options,'setXY.x',0);var y=GetValue(options,'setXY.y',0);var stepX=GetValue(options,'setXY.stepX',0);var stepY=GetValue(options,'setXY.stepY',0);Actions.SetXY(entries,x,y,stepX,stepY);var rotation=GetValue(options,'setRotation.value',0);var stepRotation=GetValue(options,'setRotation.step',0);Actions.SetRotation(entries,rotation,stepRotation);var scaleX=GetValue(options,'setScale.x',1);var scaleY=GetValue(options,'setScale.y',scaleX);var stepScaleX=GetValue(options,'setScale.stepX',0);var stepScaleY=GetValue(options,'setScale.stepY',0);Actions.SetScale(entries,scaleX,scaleY,stepScaleX,stepScaleY);var alpha=GetValue(options,'setAlpha.value',1);var stepAlpha=GetValue(options,'setAlpha.step',0);Actions.SetAlpha(entries,alpha,stepAlpha);var hitArea=GetValue(options,'hitArea',null);var hitAreaCallback=GetValue(options,'hitAreaCallback',null);if(hitArea){Actions.SetHitArea(entries,hitArea,hitAreaCallback);}var grid=GetValue(options,'gridAlign',false);if(grid){Actions.GridAlign(entries,grid);}return entries;},createMultiple:function createMultiple(config){if(!Array.isArray(config)){config=[config];}var output=[];for(var i=0;i<config.length;i++){var entries=this.createFromConfig(config[i]);output=output.concat(entries);}return output;},remove:function remove(child){this.children.delete(child);return this;},clear:function clear(){this.children.clear();return this;},getChildren:function getChildren(){return this.children.entries;},getLength:function getLength(){return this.children.size;},getFirst:function getFirst(compare,index){if(index===undefined){index=0;}return Actions.GetFirst(this.children.entries,compare,index);},destroy:function destroy(){this.children.clear();this.scene=undefined;this.children=undefined;},//  Child related methods\nangle:function angle(value){Actions.Angle(this.children.entries,value);return this;},gridAlign:function gridAlign(options){Actions.GridAlign(this.children.entries,options);return this;},incAlpha:function incAlpha(value,step){Actions.IncAlpha(this.children.entries,value,step);return this;},incX:function incX(value){Actions.IncX(this.children.entries,value);return this;},incXY:function incXY(x,y){Actions.IncXY(this.children.entries,x,y);return this;},incY:function incY(value){Actions.IncY(this.children.entries,value);return this;},placeOnCircle:function placeOnCircle(circle,startAngle,endAngle){Actions.PlaceOnCircle(this.children.entries,circle,startAngle,endAngle);return this;},placeOnEllipse:function placeOnEllipse(ellipse,startAngle,endAngle){Actions.PlaceOnEllipse(this.children.entries,ellipse,startAngle,endAngle);return this;},placeOnLine:function placeOnLine(line){Actions.PlaceOnLine(this.children.entries,line);return this;},placeOnRectangle:function placeOnRectangle(rect,shift){Actions.PlaceOnRectangle(this.children.entries,rect,shift);return this;},placeOnTriangle:function placeOnTriangle(triangle,stepRate){Actions.PlaceOnTriangle(this.children.entries,triangle,stepRate);return this;},playAnimation:function playAnimation(key,startFrame){Actions.PlayAnimation(this.children.entries,key,startFrame);return this;},randomCircle:function randomCircle(circle){Actions.RandomCircle(this.children.entries,circle);return this;},randomEllipse:function randomEllipse(ellipse){Actions.RandomEllipse(this.children.entries,ellipse);return this;},randomLine:function randomLine(line){Actions.RandomLine(this.children.entries,line);return this;},randomRectangle:function randomRectangle(rect){Actions.RandomRectangle(this.children.entries,rect);return this;},randomTriangle:function randomTriangle(triangle){Actions.RandomTriangle(this.children.entries,triangle);return this;},rotate:function rotate(value,step){Actions.Rotate(this.children.entries,value,step);return this;},rotateAround:function rotateAround(point,angle){Actions.RotateAround(this.children.entries,point,angle);return this;},rotateAroundDistance:function rotateAroundDistance(point,angle,distance){Actions.RotateAroundDistance(this.children.entries,point,angle,distance);return this;},setAlpha:function setAlpha(value,step){Actions.SetAlpha(this.children.entries,value,step);return this;},setOrigin:function setOrigin(x,y){Actions.SetOrigin(this.children.entries,x,y);return this;},scaleX:function scaleX(value){Actions.ScaleX(this.children.entries,value);return this;},scaleXY:function scaleXY(x,y){Actions.ScaleXY(this.children.entries,x,y);return this;},scaleY:function scaleY(value){Actions.ScaleY(this.children.entries,value);return this;},setRotation:function setRotation(value,step){Actions.SetRotation(this.children.entries,value,step);return this;},setScale:function setScale(x,y,stepX,stepY){Actions.SetScale(this.children.entries,x,y,stepX,stepY);return this;},setScaleX:function setScaleX(value,step){Actions.SetScaleX(this.children.entries,value,step);return this;},setScaleY:function setScaleY(value,step){Actions.SetScaleY(this.children.entries,value,step);return this;},setVisible:function setVisible(value){Actions.SetVisible(this.children.entries,value);return this;},setX:function setX(value,step){Actions.SetX(this.children.entries,value,step);return this;},setXY:function setXY(x,y,stepX,stepY){Actions.SetXY(this.children.entries,x,y,stepX,stepY);return this;},setY:function setY(value,step){Actions.SetY(this.children.entries,value,step);return this;},setZ:function setZ(value,step){Actions.SetZ(this.children.entries,value,step);return this;},shiftPosition:function shiftPosition(x,y,direction,output){Actions.ShiftPosition(this.children.entries,x,y,direction,output);return this;},smootherStep:function smootherStep(property,min,max,inc){Actions.SmootherStep(this.children.entries,property,min,max,inc);return this;},smoothStep:function smoothStep(property,min,max,inc){Actions.SmoothStep(this.children.entries,property,min,max,inc);return this;},spread:function spread(property,min,max,inc){Actions.Spread(this.children.entries,property,min,max,inc);return this;},toggleVisible:function toggleVisible(){Actions.ToggleVisible(this.children.entries);return this;}});module.exports=Group;/***/},/* 79 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var ImageRender=__webpack_require__(534);var Image=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.ScrollFactor,Components.Size,Components.Texture,Components.Tint,Components.Transform,Components.Visible,ImageRender],initialize:function Image(scene,x,y,texture,frame){GameObject.call(this,scene,'Image');this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOrigin();}});module.exports=Image;/***/},/* 80 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Mesh=__webpack_require__(55);var Quad=new Class({Extends:Mesh,initialize:function Quad(scene,x,y,texture,frame){//  0----3\n//  |\\  B|\n//  | \\  |\n//  |  \\ |\n//  | A \\|\n//  |    \\\n//  1----2\n//  Array sequence: tl, bl, br, tr\nvar vertices=[0,0,0,0,0,0,0,0];var uv=[0,0,0,1,1,1,1,0];var indices=[0,1,2,0,2,3];var colors=[0xffffff,0xffffff,0xffffff,0xffffff];var alphas=[1,1,1,1];Mesh.call(this,scene,x,y,vertices,uv,indices,colors,alphas,texture,frame);this.resetPosition();},topLeftX:{get:function get(){return this.x+this.vertices[0];},set:function set(value){this.vertices[0]=value-this.x;}},topLeftY:{get:function get(){return this.y+this.vertices[1];},set:function set(value){this.vertices[1]=value-this.y;}},topRightX:{get:function get(){return this.x+this.vertices[6];},set:function set(value){this.vertices[6]=value-this.x;}},topRightY:{get:function get(){return this.y+this.vertices[7];},set:function set(value){this.vertices[7]=value-this.y;}},bottomLeftX:{get:function get(){return this.x+this.vertices[2];},set:function set(value){this.vertices[2]=value-this.x;}},bottomLeftY:{get:function get(){return this.y+this.vertices[3];},set:function set(value){this.vertices[3]=value-this.y;}},bottomRightX:{get:function get(){return this.x+this.vertices[4];},set:function set(value){this.vertices[4]=value-this.x;}},bottomRightY:{get:function get(){return this.y+this.vertices[5];},set:function set(value){this.vertices[5]=value-this.y;}},//  tl, bl, br, tr\ntopLeftAlpha:{get:function get(){return this.alphas[0];},set:function set(value){this.alphas[0]=value;}},topRightAlpha:{get:function get(){return this.alphas[3];},set:function set(value){this.alphas[3]=value;}},bottomLeftAlpha:{get:function get(){return this.alphas[1];},set:function set(value){this.alphas[1]=value;}},bottomRightAlpha:{get:function get(){return this.alphas[2];},set:function set(value){this.alphas[2]=value;}},topLeftColor:{get:function get(){return this.colors[0];},set:function set(value){this.colors[0]=value;}},topRightColor:{get:function get(){return this.colors[3];},set:function set(value){this.colors[3]=value;}},bottomLeftColor:{get:function get(){return this.colors[1];},set:function set(value){this.colors[1]=value;}},bottomRightColor:{get:function get(){return this.colors[2];},set:function set(value){this.colors[2]=value;}},setTopLeft:function setTopLeft(x,y){this.topLeftX=x;this.topLeftY=y;return this;},setTopRight:function setTopRight(x,y){this.topRightX=x;this.topRightY=y;return this;},setBottomLeft:function setBottomLeft(x,y){this.bottomLeftX=x;this.bottomLeftY=y;return this;},setBottomRight:function setBottomRight(x,y){this.bottomRightX=x;this.bottomRightY=y;return this;},resetPosition:function resetPosition(){var x=this.x;var y=this.y;var halfWidth=Math.floor(this.width/2);var halfHeight=Math.floor(this.height/2);this.setTopLeft(x-halfWidth,y-halfHeight);this.setTopRight(x+halfWidth,y-halfHeight);this.setBottomLeft(x-halfWidth,y+halfHeight);this.setBottomRight(x+halfWidth,y+halfHeight);return this;},resetAlpha:function resetAlpha(){var alphas=this.alphas;alphas[0]=1;alphas[1]=1;alphas[2]=1;alphas[3]=1;return this;},resetColors:function resetColors(){var colors=this.colors;colors[0]=0xffffff;colors[1]=0xffffff;colors[2]=0xffffff;colors[3]=0xffffff;return this;},reset:function reset(){this.resetPosition();this.resetAlpha();this.resetColors();}});module.exports=Quad;/***/},/* 81 *//***/function(module,exports,__webpack_require__){// RenderPass Will only work with Sprite and Image GameObjects.\nvar Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var Render=__webpack_require__(543);var TexturedAndNormalizedTintedShader=__webpack_require__(38);//   RenderPass - the user has a higher control on the rendering since you explicitly\n//   indicate what is rendered. RenderPass also has a render target but the difference\n//   is that when explicitly rendering an object to the render pass the shader from that\n//   render pass is applied. This is useful for additive passes and specific object effects.\nvar RenderPass=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.ScrollFactor,Components.Size,Components.Tint,Components.Transform,Components.Visible,Render],initialize:function RenderPass(scene,x,y,width,height,shaderName,fragmentShader){GameObject.call(this,scene,'RenderPass');var resourceManager=scene.game.renderer.resourceManager;var pot=(width&width-1)==0&&(height&height-1)==0;var gl;var wrap;this.renderer=scene.game.renderer;this.passRenderTarget=null;this.renderTexture=null;this.passShader=null;this.uniforms={};this.textures={};if(resourceManager!==undefined){gl=scene.game.renderer.gl;wrap=pot?gl.REPEAT:gl.CLAMP_TO_EDGE;this.passShader=resourceManager.createShader(shaderName,{vert:TexturedAndNormalizedTintedShader.vert,frag:fragmentShader});this.renderTexture=resourceManager.createTexture(0,gl.LINEAR,gl.LINEAR,wrap,wrap,gl.RGBA,null,width,height);this.passRenderTarget=resourceManager.createRenderTarget(width,height,this.renderTexture,null);scene.game.renderer.currentTexture[0]=null;// force rebinding of prev texture\n}this.flipY=true;this.setPosition(x,y);this.setSize(width,height);this.setOrigin(0,0);},clearColorBuffer:function clearColorBuffer(r,g,b,a){var gl=this.renderer.gl;if(gl){gl.bindFramebuffer(gl.FRAMEBUFFER,this.passRenderTarget.framebufferObject);gl.clearColor(r,g,b,a);gl.clear(gl.COLOR_BUFFER_BIT);gl.bindFramebuffer(gl.FRAMEBUFFER,null);}},clearDepthStencilBuffers:function clearDepthStencilBuffers(depth,stencil){var gl=this.renderer.gl;if(gl){gl.bindFramebuffer(gl.FRAMEBUFFER,this.passRenderTarget.framebufferObject);gl.clearDepth(depth);gl.clearStencil(stencil);gl.clear(gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT);gl.bindFramebuffer(gl.FRAMEBUFFER,null);}},clearAllBuffers:function clearAllBuffers(r,g,b,a,depth,stencil){var gl=this.renderer.gl;if(gl){gl.bindFramebuffer(gl.FRAMEBUFFER,this.passRenderTarget.framebufferObject);gl.clearColor(r,g,b,a);gl.clearDepth(depth);gl.clearStencil(stencil);gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT);gl.bindFramebuffer(gl.FRAMEBUFFER,null);}},render:function render(gameObject,camera){var gl=this.renderer.gl;if(gl){this.renderer.setRenderer(this.renderer.spriteBatch,null,null);this.renderer.spriteBatch.addSprite(gameObject,camera);for(var key in this.textures){var textureData=this.textures[key];this.setInt(key,textureData.unit);gl.activeTexture(gl.TEXTURE0+textureData.unit);gl.bindTexture(gl.TEXTURE_2D,textureData.texture);gl.activeTexture(gl.TEXTURE0);}this.renderer.spriteBatch.flush(this.passShader,this.passRenderTarget.framebufferObject);}},renderRect:function renderRect(x,y,width,height,camera){var gl=this.renderer.gl;if(gl){this.renderer.setRenderer(this.renderer.spriteBatch,null,null);this.renderer.spriteBatch.addTileTextureRect(null,x,y,width,height,1.0,0xFFFFFFFF,this.scrollFactorX,this.scrollFactorY,width,height,0,0,width,height,camera,null);for(var key in this.textures){var textureData=this.textures[key];this.setInt(key,textureData.unit);gl.activeTexture(gl.TEXTURE0+textureData.unit);gl.bindTexture(gl.TEXTURE_2D,textureData.texture);gl.activeTexture(gl.TEXTURE0);}this.renderer.spriteBatch.flush(this.passShader,this.passRenderTarget.framebufferObject);}},setRenderTextureAt:function setRenderTextureAt(renderTexture,samplerName,unit){var gl=this.renderer.gl;if(gl){/* Texture 1 is reserved for Phasers Main Renderer */unit=unit>0?unit:1;this.textures[samplerName]={texture:renderTexture.texture,unit:unit};//this.setInt(samplerName, unit);\n//gl.activeTexture(gl.TEXTURE0 + unit);\n//gl.bindTexture(gl.TEXTURE_2D, renderTexture.texture);\n//gl.activeTexture(gl.TEXTURE0);\n}},getUniformLocation:function getUniformLocation(uniformName){var passShader=this.passShader;var uniforms=this.uniforms;var location;if(uniformName in uniforms){location=uniforms[uniformName];}else{location=passShader.getUniformLocation(uniformName);uniforms[uniformName]=location;}return location;},setFloat:function setFloat(uniformName,x){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantFloat1(this.getUniformLocation(uniformName),x);},setFloat2:function setFloat2(uniformName,x,y){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantFloat2(this.getUniformLocation(uniformName),x,y);},setFloat3:function setFloat3(uniformName,x,y,z){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantFloat3(this.getUniformLocation(uniformName),x,y,z);},setFloat4:function setFloat4(uniformName,x,y,z,w){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantFloat4(this.getUniformLocation(uniformName),x,y,z,w);},setInt:function setInt(uniformName,x){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantInt1(this.getUniformLocation(uniformName),x);},setInt2:function setInt2(uniformName,x,y){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantInt2(this.getUniformLocation(uniformName),x,y);},setInt3:function setInt3(uniformName,x,y,z){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantInt3(this.getUniformLocation(uniformName),x,y,z);},setInt4:function setInt4(uniformName,x,y,z,w){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantInt4(this.getUniformLocation(uniformName),x,y,z,w);},setMatrix2x2:function setMatrix2x2(uniformName,matrix){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantMatrix2x2(this.getUniformLocation(uniformName),matrix);},setMatrix3x3:function setMatrix3x3(uniformName,matrix){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantMatrix3x3(this.getUniformLocation(uniformName),matrix);},setMatrix4x4:function setMatrix4x4(uniformName,matrix){var passShader=this.passShader;if(passShader===null){return;}passShader.setConstantMatrix4x4(this.getUniformLocation(uniformName),matrix);}});module.exports=RenderPass;/***/},/* 82 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Components=__webpack_require__(3);var GameObject=__webpack_require__(6);var GetBitmapTextSize=__webpack_require__(173);var ParseFromAtlas=__webpack_require__(549);var ParseRetroFont=__webpack_require__(550);var Render=__webpack_require__(551);var BitmapText=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.Texture,Components.Tint,Components.Transform,Components.Visible,Components.ScrollFactor,Render],initialize:function BitmapText(scene,x,y,font,text,size){if(text===undefined){text='';}GameObject.call(this,scene,'BitmapText');this.font=font;var entry=this.scene.sys.cache.bitmapFont.get(font);this.fontData=entry.data;this.text=Array.isArray(text)?text.join('\\n'):text;this.fontSize=size||this.fontData.size;this.setTexture(entry.texture,entry.frame);this.setPosition(x,y);this.setOrigin(0,0);this._bounds=this.getTextBounds();},setFontSize:function setFontSize(size){this.fontSize=size;return this;},setText:function setText(text){this.text=text;return this;},// {\n//     local: {\n//         x,\n//         y,\n//         width,\n//         height\n//     },\n//     global: {\n//         x,\n//         y,\n//         width,\n//         height\n//     }\n// }\ngetTextBounds:function getTextBounds(round){//  local = the BitmapText based on fontSize and 0x0 coords\n//  global = the BitmapText, taking into account scale and world position\nthis._bounds=GetBitmapTextSize(this,round);return this._bounds;},width:{get:function get(){this.getTextBounds(false);return this._bounds.global.width;}},height:{get:function get(){this.getTextBounds(false);return this._bounds.global.height;}},toJSON:function toJSON(){var out=Components.ToJSON(this);//  Extra data is added here\nvar data={font:this.font,text:this.text,fontSize:this.fontSize};out.data=data;return out;}});BitmapText.ParseRetroFont=ParseRetroFont;BitmapText.ParseFromAtlas=ParseFromAtlas;module.exports=BitmapText;/***/},/* 83 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var StaticTilemapRender=__webpack_require__(555);var CONST=__webpack_require__(162);var StaticTilemap=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.Size,Components.Texture,Components.Transform,Components.Visible,Components.ScrollFactor,StaticTilemapRender],initialize:function StaticTilemap(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame){GameObject.call(this,scene,'StaticTilemap');this.vbo=null;this.gl=scene.game.renderer.gl?scene.game.renderer.gl:null;this.tilemapRenderer=scene.game.renderer.tilemapRenderer?scene.game.renderer.tilemapRenderer:null;this.resourceManager=this.gl?scene.game.renderer.resourceManager:null;this.bufferData=null;this.mapData=mapData;this.tileWidth=tileWidth;this.tileHeight=tileHeight;this.mapWidth=mapWidth;this.mapHeight=mapHeight;this.dirty=true;this.vertexCount=0;this.cullStart=0;this.cullEnd=0;this.tileBorder=tileBorder;this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOrigin();this.setSize(tileWidth*mapWidth,tileHeight*mapHeight);},upload:function upload(camera){if(this.gl){if(this.dirty){var gl=this.gl;var vbo=this.vbo;var mapWidth=this.mapWidth;var mapHeight=this.mapHeight;var border=this.tileBorder;var tileWidth=this.tileWidth;var tileHeight=this.tileHeight;var tileWidthBorder=tileWidth+border*2;var tileHeightBorder=tileHeight+border*2;var bufferData=this.bufferData;var bufferF32,bufferU32;var voffset=0;var vertexCount=0;var width=this.texture.source[0].width;var height=this.texture.source[0].height;var setWidth=width/tileWidth;var mapData=this.mapData;if(this.vbo===null){vbo=this.resourceManager.createBuffer(gl.ARRAY_BUFFER,4*6*(mapWidth*mapHeight)*4,gl.STATIC_DRAW);vbo.addAttribute(this.tilemapRenderer.shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vbo.addAttribute(this.tilemapRenderer.shader.getAttribLocation('a_tex_coord'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,8);bufferData=this.bufferData=new ArrayBuffer(4*6*(mapWidth*mapHeight)*4);this.vbo=vbo;}bufferF32=new Float32Array(bufferData);for(var y=0;y<mapHeight;++y){for(var x=0;x<mapWidth;++x){var tileId=mapData[y*mapWidth+x];var halfTileWidth=tileWidthBorder*0.5;var halfTileHeight=tileHeightBorder*0.5;var rectx=(tileId%setWidth|0)*tileWidthBorder+halfTileWidth;var recty=(tileId/setWidth|0)*tileHeightBorder+halfTileHeight;var tx=x*tileWidth;var ty=y*tileHeight;var txw=tx+tileWidth;var tyh=ty+tileHeight;var u0=(rectx-(halfTileWidth-0.5))/width;var v0=(recty-(halfTileHeight-0.5))/height;var u1=(rectx+(halfTileWidth-0.5))/width;var v1=(recty+(halfTileHeight-0.5))/height;var tx0=tx;var ty0=ty;var tx1=tx;var ty1=tyh;var tx2=txw;var ty2=tyh;var tx3=txw;var ty3=ty;bufferF32[voffset+0]=tx0;bufferF32[voffset+1]=ty0;bufferF32[voffset+2]=u0;bufferF32[voffset+3]=v0;bufferF32[voffset+4]=tx1;bufferF32[voffset+5]=ty1;bufferF32[voffset+6]=u0;bufferF32[voffset+7]=v1;bufferF32[voffset+8]=tx2;bufferF32[voffset+9]=ty2;bufferF32[voffset+10]=u1;bufferF32[voffset+11]=v1;bufferF32[voffset+12]=tx0;bufferF32[voffset+13]=ty0;bufferF32[voffset+14]=u0;bufferF32[voffset+15]=v0;bufferF32[voffset+16]=tx2;bufferF32[voffset+17]=ty2;bufferF32[voffset+18]=u1;bufferF32[voffset+19]=v1;bufferF32[voffset+20]=tx3;bufferF32[voffset+21]=ty3;bufferF32[voffset+22]=u1;bufferF32[voffset+23]=v0;voffset+=24;vertexCount+=6;}}this.vertexCount=vertexCount;vbo.updateResource(bufferData,0);this.dirty=false;}this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.scrollLocation,-camera.scrollX,-camera.scrollY);this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.scrollFactorLocation,this.scrollFactorX,this.scrollFactorY);this.tilemapRenderer.shader.setConstantFloat2(this.tilemapRenderer.tilemapPositionLocation,this.x,this.y);}},getTotalTileCount:function getTotalTileCount(){return this.mapData.length;},getVisibleTileCount:function getVisibleTileCount(camera){this.cull(camera);return(this.cullEnd-this.cullStart)/6;},cull:function cull(camera){this.cullStart=0;this.cullEnd=0;var tileWidth=this.tileWidth;var tileHeight=this.tileHeight;var pixelX=this.x-camera.scrollX*this.scrollFactorX;var pixelY=this.y-camera.scrollY*this.scrollFactorY;var pixelWidth=this.mapWidth*tileWidth;var pixelHeight=this.mapHeight*tileHeight;if(pixelX<camera.x+camera.width+tileWidth*2&&pixelX+pixelWidth>camera.x+-(tileWidth*2)&&pixelY<camera.y+camera.height+tileHeight*2&&pixelY+pixelHeight>camera.y+-(tileHeight*2)){var interX=Math.max(pixelX,camera.x+-(tileWidth*2));var interY=Math.max(pixelY,camera.y+-(tileHeight*2));var interWidth=Math.min(pixelX+pixelWidth,camera.x+camera.width+tileWidth*2)-interX;var interHeight=Math.min(pixelY+pixelHeight,camera.y+camera.height+tileHeight*2)-interY;interX=(interX+camera.scrollX*this.scrollFactorX)/tileWidth|0;interY=(interY+camera.scrollY*this.scrollFactorY)/tileHeight|0;interWidth=interWidth/tileWidth|0;interHeight=interHeight/tileHeight|0;this.cullStart=(interY*this.mapWidth+interX)*6;this.cullEnd=((interY+interHeight)*this.mapWidth+interX)*6;}}});module.exports=StaticTilemap;/***/},/* 84 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var CanvasPool=__webpack_require__(11);var TextRender=__webpack_require__(559);var TextStyle=__webpack_require__(562);var GetTextSize=__webpack_require__(564);var Text=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.ScrollFactor,Components.Tint,Components.Transform,Components.Visible,TextRender],initialize:function Text(scene,x,y,text,style){if(x===undefined){x=0;}if(y===undefined){y=0;}if(text===undefined){text='';}GameObject.call(this,scene,'Text');this.setPosition(x,y);this.setOrigin(0,0);/**\n         * @property {HTMLCanvasElement} canvas - The canvas element that the text is rendered.\n         */this.canvas=CanvasPool.create(this);/**\n         * @property {HTMLCanvasElement} context - The context of the canvas element that the text is rendered to.\n         */this.context=this.canvas.getContext('2d');this.style=new TextStyle(this,style);this.autoRound=true;/**\n         * The Regular Expression that is used to split the text up into lines, in\n         * multi-line text. By default this is `/(?:\\r\\n|\\r|\\n)/`.\n         * You can change this RegExp to be anything else that you may need.\n         * @property {Object} splitRegExp\n         */this.splitRegExp=/(?:\\r\\n|\\r|\\n)/;this.text=Array.isArray(text)?text.join('\\n'):text;this.resolution=1;/**\n        * Specify a padding value which is added to the line width and height when calculating the Text size.\n        * Allows you to add extra spacing if Phaser is unable to accurately determine the true font dimensions.\n        * @property {Phaser.Point} padding\n        */this.padding={x:0,y:0};this.width=1;this.height=1;this.canvasTexture=null;this.dirty=false;if(text!==''){this.updateText();}},setText:function setText(value){if(Array.isArray(value)){value=value.join('\\n');}if(value!==this.text){this.text=value.toString();this.updateText();}return this;},setStyle:function setStyle(style){return this.style.setStyle(style);},setFont:function setFont(font){return this.style.setFont(font);},setFixedSize:function setFixedSize(width,height){return this.style.setFixedSize(width,height);},setBackgroundColor:function setBackgroundColor(color){return this.style.setBackgroundColor(color);},setFill:function setFill(color){return this.style.setFill(color);},setStroke:function setStroke(color,thickness){return this.style.setStroke(color,thickness);},setShadow:function setShadow(x,y,color,blur,shadowStroke,shadowFill){return this.style.setShadow(x,y,color,blur,shadowStroke,shadowFill);},setShadowOffset:function setShadowOffset(x,y){return this.style.setShadowOffset(x,y);},setShadowColor:function setShadowColor(color){return this.style.setShadowColor(color);},setShadowBlur:function setShadowBlur(blur){return this.style.setShadowBlur(blur);},setShadowStroke:function setShadowStroke(enabled){return this.style.setShadowStroke(enabled);},setShadowFill:function setShadowFill(enabled){return this.style.setShadowFill(enabled);},setAlign:function setAlign(align){return this.style.setAlign(align);},setMaxLines:function setMaxLines(max){return this.style.setMaxLines(max);},updateText:function updateText(){var canvas=this.canvas;var context=this.context;var style=this.style;var size=style.metrics;var outputText=this.text;// if (style.wordWrap)\n// {\n//     outputText = this.runWordWrap(this.text);\n// }\n//  Split text into lines\nvar lines=outputText.split(this.splitRegExp);var textSize=GetTextSize(this,size,lines);if(!style.fixedWidth){this.width=textSize.width;}if(!style.fixedHeight){this.height=textSize.height;}this.updateOrigin();var padding=this.padding;var w=(textSize.width+padding.x*2)*this.resolution;var h=(textSize.height+padding.y*2)*this.resolution;if(canvas.width!==w||canvas.height!==h){canvas.width=w;canvas.height=h;}else{context.clearRect(0,0,w,h);}if(style.backgroundColor){context.fillStyle=style.backgroundColor;context.fillRect(0,0,w,h);}style.syncFont(canvas,context);context.textBaseline='alphabetic';//  Apply padding\ncontext.translate(padding.x,padding.y);var linePositionX;var linePositionY;//  Draw text line by line\nfor(var i=0;i<textSize.lines;i++){linePositionX=style.strokeThickness/2;linePositionY=style.strokeThickness/2+i*textSize.lineHeight+size.ascent;if(i>0){linePositionY+=textSize.lineSpacing*i;}if(style.align==='right'){linePositionX+=textSize.width-textSize.lineWidths[i];}else if(style.align==='center'){linePositionX+=(textSize.width-textSize.lineWidths[i])/2;}if(this.autoRound){linePositionX=Math.round(linePositionX);linePositionY=Math.round(linePositionY);}if(style.strokeThickness){this.style.syncShadow(context,style.shadowStroke);context.strokeText(lines[i],linePositionX,linePositionY);}if(style.fill){this.style.syncShadow(context,style.shadowFill);context.fillText(lines[i],linePositionX,linePositionY);}}this.dirty=true;return this;},getTextMetrics:function getTextMetrics(){return this.style.getTextMetrics();},toJSON:function toJSON(){var out=Components.ToJSON(this);//  Extra Text data is added here\nvar data={autoRound:this.autoRound,text:this.text,style:this.style.toJSON(),resolution:this.resolution,padding:{x:this.padding.x,y:this.padding.y}};out.data=data;return out;}});module.exports=Text;/***/},/* 85 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var TileSpriteRender=__webpack_require__(566);var CanvasPool=__webpack_require__(11);var TileSprite=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Flip,Components.GetBounds,Components.Origin,Components.RenderTarget,Components.ScaleMode,Components.ScrollFactor,Components.Size,Components.Texture,Components.Tint,Components.Transform,Components.Visible,TileSpriteRender],initialize:function TileSprite(scene,x,y,width,height,texture,frame){var resourceManager=scene.game.renderer.resourceManager;GameObject.call(this,scene,'TileSprite');this.tilePositionX=0;this.tilePositionY=0;this.dirty=true;this.tileTexture=null;this.renderer=null;this.setTexture(texture,frame);this.setPosition(x,y);this.setSizeToFrame();this.setOrigin();this.setSize(width,height);this.potWidth=this.frame.width;this.potHeight=this.frame.height;this.canvasPattern=null;if(resourceManager){this.potWidth--;this.potWidth|=this.potWidth>>1;this.potWidth|=this.potWidth>>2;this.potWidth|=this.potWidth>>4;this.potWidth|=this.potWidth>>8;this.potWidth|=this.potWidth>>16;this.potWidth++;this.potHeight--;this.potHeight|=this.potHeight>>1;this.potHeight|=this.potHeight>>2;this.potHeight|=this.potHeight>>4;this.potHeight|=this.potHeight>>8;this.potHeight|=this.potHeight>>16;this.potHeight++;this.renderer=scene.game.renderer;var gl=scene.game.renderer.gl;this.tileTexture=resourceManager.createTexture(0,gl.LINEAR,gl.LINEAR,gl.REPEAT,gl.REPEAT,gl.RGBA,this.canvasBuffer,this.potWidth,this.potHeight);}this.canvasBuffer=CanvasPool.create2D(null,this.potWidth,this.potHeight);this.canvasBufferCtx=this.canvasBuffer.getContext('2d');this.updateTileTexture();},updateTileTexture:function updateTileTexture(){if(!this.dirty){return;}this.canvasBuffer.width=this.canvasBuffer.width;this.canvasBufferCtx.drawImage(this.frame.source.image,this.frame.cutX,this.frame.cutY,this.frame.cutWidth,this.frame.cutHeight,0,0,this.potWidth,this.potHeight);if(this.renderer){this.renderer.uploadCanvasToGPU(this.canvasBuffer,this.tileTexture,true);}else{this.canvasPattern=this.canvasBufferCtx.createPattern(this.canvasBuffer,'repeat');}this.dirty=false;},destroy:function destroy(){if(this.renderer){this.renderer.gl.deleteTexture(this.tileTexture);}CanvasPool.remove(this.canvasBuffer);this.canvasPattern=null;this.canvasBufferCtx=null;this.canvasBuffer=null;this.renderer=null;this.visible=false;}});module.exports=TileSprite;/***/},/* 86 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Ellipse=new Class({initialize:function Ellipse(x,y,width,height){if(x===undefined){x=0;}if(y===undefined){y=0;}if(width===undefined){width=0;}if(height===undefined){height=0;}this.x=x;this.y=y;this.width=width;this.height=height;},setTo:function setTo(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;return this;},setEmpty:function setEmpty(){return this.setTo(0,0,0,0);},setPosition:function setPosition(x,y){if(y===undefined){y=x;}this.x=x;this.y=y;return this;},setSize:function setSize(width,height){if(height===undefined){height=width;}this.width=width;this.height=height;return this;},isEmpty:function isEmpty(){return this.width<=0||this.height<=0;},//  AKA Semi Minor Axis\ngetMinorRadius:function getMinorRadius(){return Math.min(this.width,this.height)/2;},//  AKA Semi Major Axis\ngetMajorRadius:function getMajorRadius(){return Math.max(this.width,this.height)/2;},left:{get:function get(){return this.x;},set:function set(value){if(value>=this.right){this.width=0;}else{this.width=this.right-value;}this.x=value;}},right:{get:function get(){return this.x+this.width;},set:function set(value){if(value<=this.x){this.width=0;}else{this.width=value-this.x;}}},top:{get:function get(){return this.y;},set:function set(value){if(value>=this.bottom){this.height=0;this.y=value;}else{this.height=this.bottom-value;}}},bottom:{get:function get(){return this.y+this.height;},set:function set(value){if(value<=this.y){this.height=0;}else{this.height=value-this.y;}}}});module.exports=Ellipse;/***/},/* 87 *//***/function(module,exports){//  Creates an XHRSettings Object with default values\nvar XHRSettings=function XHRSettings(responseType,async,user,password,timeout){if(responseType===undefined){responseType='';}if(async===undefined){async=true;}if(user===undefined){user='';}if(password===undefined){password='';}if(timeout===undefined){timeout=0;}// Before sending a request, set the xhr.responseType to \"text\", \n// \"arraybuffer\", \"blob\", or \"document\", depending on your data needs. \n// Note, setting xhr.responseType = '' (or omitting) will default the response to \"text\".\nreturn{//  Ignored by the Loader, only used by File.\nresponseType:responseType,async:async,//  credentials\nuser:user,password:password,//  timeout in ms (0 = no timeout)\ntimeout:timeout,//  setRequestHeader\nheader:undefined,headerValue:undefined,//  overrideMimeType\noverrideMimeType:undefined};};module.exports=XHRSettings;/***/},/* 88 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.JSONFile\nvar JSONFile=new Class({Extends:File,initialize:function JSONFile(key,url,path,xhrSettings){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'json',extension:GetFastValue(key,'extension','json'),responseType:'text',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=JSON.parse(this.xhrLoader.responseText);this.onComplete();callback(this);}});JSONFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new JSONFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new JSONFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=JSONFile;/***/},/* 89 *//***/function(module,exports,__webpack_require__){//  Phaser.GameObjects.ObjectPool\nvar Class=__webpack_require__(0);//  An Object Pool\nvar ObjectPool=new Class({initialize:function ObjectPool(manager,classType,maxSize,createCallback,callbackScope){if(maxSize===undefined){maxSize=-1;}if(createCallback===undefined){createCallback=this.makeGameObject;}if(callbackScope===undefined){callbackScope=this;}this.manager=manager;this.scene=manager.scene;this.displayList=this.scene.sys.displayList;this.updateList=this.scene.sys.updateList;this.createCallback=createCallback;this.callbackScope=callbackScope;this.maxSize=maxSize;this.classType=classType;this._list=[];},makeGameObject:function makeGameObject(){var gameObject=new this.classType(this.scene);this.displayList.add(gameObject);gameObject.setActive(false);gameObject.setVisible(false);return gameObject;},//  Add an existing GameObject, or Array or Group of GameObjects into this Pool\nadd:function add(child){var children;if(Array.isArray(child)){children=child;}else if(child.hasOwnProperty('children')){children=child.children.getArray();}else{children=[child];}var len=children.length;if(this.maxSize>-1){var free=this.maxSize-this._list.length;if(len>free){len=free;}}for(var i=0;i<len;i++){this._list.push(children[i]);}return this;},//  Create X new GameObjects in this Pool if there is capacity to do so\ncreate:function create(quantity){for(var i=0;i<quantity;i++){if(!this.isFull()){this._list.push(this.createCallback.call(this.callbackScope));}}return this;},//  Proxy method for sub-classes to override\nget:function get(){return this.getFreeGameObject();},getFreeGameObject:function getFreeGameObject(){var gameObject;for(var i=0;i<this._list.length;i++){gameObject=this._list[i];if(!gameObject.active){gameObject.setActive(true);gameObject.setVisible(true);return gameObject;}}if(!this.isFull()){gameObject=this.createCallback.call(this.callbackScope);gameObject.setActive(true);gameObject.setVisible(true);this._list.push(gameObject);return gameObject;}return null;},kill:function kill(gameObject){if(this._list.indexOf(gameObject)>-1){gameObject.setActive(false);}},killAndHide:function killAndHide(gameObject){if(this._list.indexOf(gameObject)>-1){gameObject.setActive(false);gameObject.setVisible(false);}},purge:function purge(destroyChildren){if(destroyChildren===undefined){destroyChildren=true;}if(destroyChildren){for(var i=0;i<this._list.length;i++){this._list[i].destroy();}}this._list.length=0;},isFull:function isFull(){if(this.maxSize===-1){return false;}else{return this._list.length===this.maxSize;}},update:function update(time,delta){for(var i=0;i<this._list.length;i++){var gameObject=this._list[i];if(gameObject.active){gameObject.update(time,delta);}}},getTotalUsed:function getTotalUsed(){var total=0;for(var i=0;i<this._list.length;i++){if(this._list[i].active){total++;}}return total;},getTotalFree:function getTotalFree(){var used=this.getTotalUsed();var capacity=this.maxSize===-1?999999999999:this.maxSize;return capacity-used;},destroy:function destroy(){this.manager=undefined;this.scene=undefined;this.displayList=undefined;this.updateList=undefined;this.createCallback=undefined;this.callbackScope=undefined;this._list.length=0;}});module.exports=ObjectPool;/***/},/* 90 *//***/function(module,exports){//  http://www.blackpawn.com/texts/pointinpoly/\n//  points is an array of Point-like objects with public x/y properties\n//  returns an array containing all points that are within the triangle, or an empty array if none\n//  if 'returnFirst' is true it will return after the first point within the triangle is found\nvar ContainsArray=function ContainsArray(triangle,points,returnFirst,out){if(returnFirst===undefined){returnFirst=false;}if(out===undefined){out=[];}var v0x=triangle.x3-triangle.x1;var v0y=triangle.y3-triangle.y1;var v1x=triangle.x2-triangle.x1;var v1y=triangle.y2-triangle.y1;var dot00=v0x*v0x+v0y*v0y;var dot01=v0x*v1x+v0y*v1y;var dot11=v1x*v1x+v1y*v1y;// Compute barycentric coordinates\nvar b=dot00*dot11-dot01*dot01;var inv=b===0?0:1/b;var u;var v;var v2x;var v2y;var dot02;var dot12;var x1=triangle.x1;var y1=triangle.y1;for(var i=0;i<points.length;i++){v2x=points[i].x-x1;v2y=points[i].y-y1;dot02=v0x*v2x+v0y*v2y;dot12=v1x*v2x+v1y*v2y;u=(dot11*dot02-dot01*dot12)*inv;v=(dot00*dot12-dot01*dot02)*inv;if(u>=0&&v>=0&&u+v<1){out.push({x:points[i].x,y:points[i].y});if(returnFirst){break;}}}return out;};module.exports=ContainsArray;/***/},/* 91 *//***/function(module,exports){var RotateAroundXY=function RotateAroundXY(line,x,y,angle){var c=Math.cos(angle);var s=Math.sin(angle);var tx=line.x1-x;var ty=line.y1-y;line.x1=tx*c-ty*s+x;line.y1=tx*s+ty*c+y;tx=line.x2-x;ty=line.y2-y;line.x2=tx*c-ty*s+x;line.y2=tx*s+ty*c+y;return line;};module.exports=RotateAroundXY;/***/},/* 92 *//***/function(module,exports){var Dot=function Dot(pointA,pointB){return pointA.x*pointB.x+pointA.y*pointB.y;};module.exports=Dot;/***/},/* 93 *//***/function(module,exports){var GetAspectRatio=function GetAspectRatio(rect){return rect.height===0?NaN:rect.width/rect.height;};module.exports=GetAspectRatio;/***/},/* 94 *//***/function(module,exports){var RotateAroundXY=function RotateAroundXY(triangle,x,y,angle){var c=Math.cos(angle);var s=Math.sin(angle);var tx=triangle.x1-x;var ty=triangle.y1-y;triangle.x1=tx*c-ty*s+x;triangle.y1=tx*s+ty*c+y;tx=triangle.x2-x;ty=triangle.y2-y;triangle.x2=tx*c-ty*s+x;triangle.y2=tx*s+ty*c+y;tx=triangle.x3-x;ty=triangle.y3-y;triangle.x3=tx*c-ty*s+x;triangle.y3=tx*s+ty*c+y;return triangle;};module.exports=RotateAroundXY;/***/},/* 95 *//***/function(module,exports){// Collision Types - Determine if and how entities collide with each other\n// In ACTIVE vs. LITE or FIXED vs. ANY collisions, only the \"weak\" entity moves,\n// while the other one stays fixed. In ACTIVE vs. ACTIVE and ACTIVE vs. PASSIVE\n// collisions, both entities are moved. LITE or PASSIVE entities don't collide\n// with other LITE or PASSIVE entities at all. The behavior for FIXED vs.\n// FIXED collisions is undefined.\nmodule.exports={NONE:0,A:1,B:2,BOTH:3};/***/},/* 96 *//***/function(module,exports){//  Shallow Object Clone. Will not clone nested objects.\nvar Clone=function Clone(obj){var clone={};for(var key in obj){if(Array.isArray(obj[key])){clone[key]=obj[key].slice(0);}else{clone[key]=obj[key];}}return clone;};module.exports=Clone;/***/},/* 97 *//***/function(module,exports){var g;// This works in non-strict mode\ng=function(){return this;}();try{// This works if eval is allowed (see CSP)\ng=g||Function(\"return this\")()||(1,eval)(\"this\");}catch(e){// This works if the window reference is available\nif((typeof window==='undefined'?'undefined':_typeof(window))===\"object\")g=window;}// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\nmodule.exports=g;/***/},/* 98 *//***/function(module,exports){/**\n* This is a slightly modified version of jQuery.isPlainObject.\n* A plain object is an object whose internal class property is [object Object].\n* @method Phaser.Utils.isPlainObject\n* @param {object} obj - The object to inspect.\n* @return {boolean} - true if the object is plain, otherwise false.\n*/var IsPlainObject=function IsPlainObject(obj){// Not plain objects:\n// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n// - DOM nodes\n// - window\nif((typeof obj==='undefined'?'undefined':_typeof(obj))!=='object'||obj.nodeType||obj===obj.window){return false;}// Support: Firefox <20\n// The try/catch suppresses exceptions thrown when attempting to access\n// the \"constructor\" property of certain host objects, ie. |window.location|\n// https://bugzilla.mozilla.org/show_bug.cgi?id=814622\ntry{if(obj.constructor&&!{}.hasOwnProperty.call(obj.constructor.prototype,'isPrototypeOf')){return false;}}catch(e){return false;}// If the function hasn't returned already, we're confident that\n// |obj| is a plain object, created by {} or constructed with new Object\nreturn true;};module.exports=IsPlainObject;/***/},/* 99 *//***/function(module,exports,__webpack_require__){//  Phaser.Actions\nmodule.exports={Angle:__webpack_require__(228),Call:__webpack_require__(229),GetFirst:__webpack_require__(230),GridAlign:__webpack_require__(231),IncAlpha:__webpack_require__(270),IncX:__webpack_require__(271),IncXY:__webpack_require__(272),IncY:__webpack_require__(273),PlaceOnCircle:__webpack_require__(274),PlaceOnEllipse:__webpack_require__(275),PlaceOnLine:__webpack_require__(276),PlaceOnRectangle:__webpack_require__(277),PlaceOnTriangle:__webpack_require__(278),PlayAnimation:__webpack_require__(279),RandomCircle:__webpack_require__(280),RandomEllipse:__webpack_require__(281),RandomLine:__webpack_require__(282),RandomRectangle:__webpack_require__(283),RandomTriangle:__webpack_require__(284),Rotate:__webpack_require__(285),RotateAround:__webpack_require__(286),RotateAroundDistance:__webpack_require__(287),ScaleX:__webpack_require__(288),ScaleXY:__webpack_require__(289),ScaleY:__webpack_require__(290),SetAlpha:__webpack_require__(291),SetHitArea:__webpack_require__(292),SetOrigin:__webpack_require__(293),SetRotation:__webpack_require__(294),SetScale:__webpack_require__(295),SetScaleX:__webpack_require__(296),SetScaleY:__webpack_require__(297),SetVisible:__webpack_require__(298),SetX:__webpack_require__(299),SetXY:__webpack_require__(300),SetY:__webpack_require__(301),SetZ:__webpack_require__(302),ShiftPosition:__webpack_require__(303),SmootherStep:__webpack_require__(304),SmoothStep:__webpack_require__(305),Spread:__webpack_require__(306),ToggleVisible:__webpack_require__(307)};/***/},/* 100 *//***/function(module,exports){var CONST={/**\n    * A constant representing a top-left alignment or position.\n    * @constant\n    * @type {integer}\n    */TOP_LEFT:0,/**\n    * A constant representing a top-center alignment or position.\n    * @constant\n    * @type {integer}\n    */TOP_CENTER:1,/**\n    * A constant representing a top-right alignment or position.\n    * @constant\n    * @type {integer}\n    */TOP_RIGHT:2,/**\n    * A constant representing a left-top alignment or position.\n    * @constant\n    * @type {integer}\n    */LEFT_TOP:3,/**\n    * A constant representing a left-center alignment or position.\n    * @constant\n    * @type {integer}\n    */LEFT_CENTER:4,/**\n    * A constant representing a left-bottom alignment or position.\n    * @constant\n    * @type {integer}\n    */LEFT_BOTTOM:5,/**\n    * A constant representing a center alignment or position.\n    * @constant\n    * @type {integer}\n    */CENTER:6,/**\n    * A constant representing a right-top alignment or position.\n    * @constant\n    * @type {integer}\n    */RIGHT_TOP:7,/**\n    * A constant representing a right-center alignment or position.\n    * @constant\n    * @type {integer}\n    */RIGHT_CENTER:8,/**\n    * A constant representing a right-bottom alignment or position.\n    * @constant\n    * @type {integer}\n    */RIGHT_BOTTOM:9,/**\n    * A constant representing a bottom-left alignment or position.\n    * @constant\n    * @type {integer}\n    */BOTTOM_LEFT:10,/**\n    * A constant representing a bottom-center alignment or position.\n    * @constant\n    * @type {integer}\n    */BOTTOM_CENTER:11,/**\n    * A constant representing a bottom-right alignment or position.\n    * @constant\n    * @type {integer}\n    */BOTTOM_RIGHT:12};module.exports=CONST;/***/},/* 101 *//***/function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(32);var GetBottom=__webpack_require__(15);var SetCenterX=__webpack_require__(33);var SetBottom=__webpack_require__(16);var InBottomCenter=function InBottomCenter(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetCenterX(gameObject,GetCenterX(container)+offsetX);SetBottom(gameObject,GetBottom(container)+offsetY);return gameObject;};module.exports=InBottomCenter;/***/},/* 102 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetBottom=__webpack_require__(15);var SetLeft=__webpack_require__(18);var SetBottom=__webpack_require__(16);var InBottomLeft=function InBottomLeft(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetLeft(container)-offsetX);SetBottom(gameObject,GetBottom(container)+offsetY);return gameObject;};module.exports=InBottomLeft;/***/},/* 103 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetBottom=__webpack_require__(15);var SetRight=__webpack_require__(20);var SetBottom=__webpack_require__(16);var InBottomRight=function InBottomRight(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetRight(container)+offsetX);SetBottom(gameObject,GetBottom(container)+offsetY);return gameObject;};module.exports=InBottomRight;/***/},/* 104 *//***/function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(32);var GetCenterY=__webpack_require__(34);var CenterOn=__webpack_require__(105);var InCenter=function InCenter(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}CenterOn(gameObject,GetCenterX(container)+offsetX,GetCenterY(container)+offsetY);return gameObject;};module.exports=InCenter;/***/},/* 105 *//***/function(module,exports,__webpack_require__){var SetCenterX=__webpack_require__(33);var SetCenterY=__webpack_require__(35);/**\n* The center x coordinate of the Game Object.\n* This is the same as `(x - offsetX) + (width / 2)`.\n*\n* @property {number} centerX\n*/var CenterOn=function CenterOn(gameObject,x,y){SetCenterX(gameObject,x);return SetCenterY(gameObject,y);};module.exports=CenterOn;/***/},/* 106 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetCenterY=__webpack_require__(34);var SetLeft=__webpack_require__(18);var SetCenterY=__webpack_require__(35);var InLeftCenter=function InLeftCenter(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetLeft(container)-offsetX);SetCenterY(gameObject,GetCenterY(container)+offsetY);return gameObject;};module.exports=InLeftCenter;/***/},/* 107 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetCenterY=__webpack_require__(34);var SetRight=__webpack_require__(20);var SetCenterY=__webpack_require__(35);var InRightCenter=function InRightCenter(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetRight(container)+offsetX);SetCenterY(gameObject,GetCenterY(container)+offsetY);return gameObject;};module.exports=InRightCenter;/***/},/* 108 *//***/function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(32);var GetTop=__webpack_require__(21);var SetCenterX=__webpack_require__(33);var SetTop=__webpack_require__(22);var InTopCenter=function InTopCenter(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetCenterX(gameObject,GetCenterX(container)+offsetX);SetTop(gameObject,GetTop(container)-offsetY);return gameObject;};module.exports=InTopCenter;/***/},/* 109 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetTop=__webpack_require__(21);var SetLeft=__webpack_require__(18);var SetTop=__webpack_require__(22);var InTopLeft=function InTopLeft(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetLeft(container)-offsetX);SetTop(gameObject,GetTop(container)-offsetY);return gameObject;};module.exports=InTopLeft;/***/},/* 110 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetTop=__webpack_require__(21);var SetRight=__webpack_require__(20);var SetTop=__webpack_require__(22);var InTopRight=function InTopRight(gameObject,container,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetRight(container)+offsetX);SetTop(gameObject,GetTop(container)-offsetY);return gameObject;};module.exports=InTopRight;/***/},/* 111 *//***/function(module,exports,__webpack_require__){var MathWrap=__webpack_require__(50);var Wrap=function Wrap(angle){return MathWrap(angle,-Math.PI,Math.PI);};module.exports=Wrap;/***/},/* 112 *//***/function(module,exports,__webpack_require__){var Wrap=__webpack_require__(50);var WrapDegrees=function WrapDegrees(angle){return Wrap(angle,-180,180);};module.exports=WrapDegrees;/***/},/* 113 *//***/function(module,exports,__webpack_require__){var Perimeter=__webpack_require__(114);//  Return an array of points from the perimeter of the rectangle\n//  each spaced out based on the quantity or step required\nvar MarchingAnts=function MarchingAnts(rect,step,quantity,out){if(out===undefined){out=[];}if(!step&&!quantity){//  Bail out\nreturn out;}//  If step is a falsey value (false, null, 0, undefined, etc) then we calculate\n//  it based on the quantity instead, otherwise we always use the step value\nif(!step){step=Perimeter(rect)/quantity;}else{quantity=Math.round(Perimeter(rect)/step);}var x=rect.x;var y=rect.y;var face=0;//  Loop across each face of the rectangle\nfor(var i=0;i<quantity;i++){out.push({x:x,y:y});switch(face){//  Top face\ncase 0:x+=step;if(x>=rect.right){face=1;y+=x-rect.right;x=rect.right;}break;//  Right face\ncase 1:y+=step;if(y>=rect.bottom){face=2;x-=y-rect.bottom;y=rect.bottom;}break;//  Bottom face\ncase 2:x-=step;if(x<=rect.left){face=3;y-=rect.left-x;x=rect.left;}break;//  Left face\ncase 3:y-=step;if(y<=rect.top){face=0;y=rect.top;}break;}}return out;};module.exports=MarchingAnts;/***/},/* 114 *//***/function(module,exports){var Perimeter=function Perimeter(rect){return 2*(rect.width+rect.height);};module.exports=Perimeter;/***/},/* 115 *//***/function(module,exports){/**\n* Moves the element at the start of the array to the end, shifting all items in the process.\n* The \"rotation\" happens to the left.\n*\n* @method Phaser.ArrayUtils.rotate\n* @param {any[]} array - The array to shift/rotate. The array is modified.\n* @param {integer} [total=1] - The number of times to shift the array. Only the most recently shifted element is returned.\n* @return {any} The shifted value.\n*/var RotateLeft=function RotateLeft(array,total){if(total===undefined){total=1;}var element=null;for(var i=0;i<total;i++){element=array.shift();array.push(element);}return element;};module.exports=RotateLeft;/***/},/* 116 *//***/function(module,exports){/**\n* Moves the element at the end of the array to the start, shifting all items in the process.\n* The \"rotation\" happens to the right.\n*\n* @param {any[]} array - The array to shift/rotate. The array is modified.\n* @param {integer} [total=1] - The number of times to shift the array. Only the most recently shifted element is returned.\n* @return {any} The shifted value.\n*/var RotateRight=function RotateRight(array,total){if(total===undefined){total=1;}var element=null;for(var i=0;i<total;i++){element=array.pop();array.unshift(element);}return element;};module.exports=RotateRight;/***/},/* 117 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);/**\n* Returns a uniformly distributed random point from anywhere within this Circle.\n*/var Random=function Random(circle,out){if(out===undefined){out=new Point();}var t=2*Math.PI*Math.random();var u=Math.random()+Math.random();var r=u>1?2-u:u;var x=r*Math.cos(t);var y=r*Math.sin(t);out.x=circle.x+x*circle.radius;out.y=circle.y+y*circle.radius;return out;};module.exports=Random;/***/},/* 118 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var Random=function Random(ellipse,out){if(out===undefined){out=new Point();}var p=Math.random()*Math.PI*2;var s=Math.sqrt(Math.random());out.x=ellipse.x+s*Math.cos(p)*ellipse.width/2;out.y=ellipse.y+s*Math.sin(p)*ellipse.height/2;return out;};module.exports=Random;/***/},/* 119 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var Random=function Random(line,out){if(out===undefined){out=new Point();}var t=Math.random();out.x=line.x1+t*(line.x2-line.x1);out.y=line.y1+t*(line.y2-line.y1);return out;};module.exports=Random;/***/},/* 120 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var Random=function Random(rect,out){if(out===undefined){out=new Point();}out.x=rect.x+Math.random()*rect.width;out.y=rect.y+Math.random()*rect.height;return out;};module.exports=Random;/***/},/* 121 *//***/function(module,exports){var Random=function Random(triangle,out){if(out===undefined){out={x:0,y:0};}//  Basis vectors\nvar ux=triangle.x2-triangle.x1;var uy=triangle.y2-triangle.y1;var vx=triangle.x3-triangle.x1;var vy=triangle.y3-triangle.y1;//  Random point within the unit square\nvar r=Math.random();var s=Math.random();//  Point outside the triangle? Remap it.\nif(r+s>=1){r=1-r;s=1-s;}out.x=triangle.x1+(ux*r+vx*s);out.y=triangle.y1+(uy*r+vy*s);return out;};module.exports=Random;/***/},/* 122 *//***/function(module,exports){var SmootherStep=function SmootherStep(x,min,max){x=Math.max(0,Math.min(1,(x-min)/(max-min)));return x*x*x*(x*(x*6-15)+10);};module.exports=SmootherStep;/***/},/* 123 *//***/function(module,exports){var SmoothStep=function SmoothStep(x,min,max){x=Math.max(0,Math.min(1,(x-min)/(max-min)));return x*x*(3-2*x);};module.exports=SmoothStep;/***/},/* 124 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var Arne16=__webpack_require__(125);var CanvasPool=__webpack_require__(11);var GenerateTexture=function GenerateTexture(config){var data=GetValue(config,'data',[]);var canvas=GetValue(config,'canvas',null);var palette=GetValue(config,'palette',Arne16);var pixelWidth=GetValue(config,'pixelWidth',1);var pixelHeight=GetValue(config,'pixelHeight',pixelWidth);var resizeCanvas=GetValue(config,'resizeCanvas',true);var clearCanvas=GetValue(config,'clearCanvas',true);var preRender=GetValue(config,'preRender',null);var postRender=GetValue(config,'postRender',null);var width=Math.floor(Math.abs(data[0].length*pixelWidth));var height=Math.floor(Math.abs(data.length*pixelHeight));if(!canvas){canvas=CanvasPool.create2D(this,width,height);resizeCanvas=false;clearCanvas=false;}if(resizeCanvas){canvas.width=width;canvas.height=height;}var ctx=canvas.getContext('2d');if(clearCanvas){ctx.clearRect(0,0,width,height);}//  preRender Callback?\nif(preRender){preRender(canvas,ctx);}//  Draw it\nfor(var y=0;y<data.length;y++){var row=data[y];for(var x=0;x<row.length;x++){var d=row[x];if(d!=='.'&&d!==' '){ctx.fillStyle=palette[d];ctx.fillRect(x*pixelWidth,y*pixelHeight,pixelWidth,pixelHeight);}}}//  postRender Callback?\nif(postRender){postRender(canvas,ctx);}return canvas;};module.exports=GenerateTexture;/***/},/* 125 *//***/function(module,exports){// A 16 color palette by [Arne](http://androidarts.com/palette/16pal.htm)\nmodule.exports={0:'#000',1:'#9D9D9D',2:'#FFF',3:'#BE2633',4:'#E06F8B',5:'#493C2B',6:'#A46422',7:'#EB8931',8:'#F7E26B',9:'#2F484E',A:'#44891A',B:'#A3CE27',C:'#1B2632',D:'#005784',E:'#31A2F2',F:'#B2DCEF'};/***/},/* 126 *//***/function(module,exports){var AddToDOM=function AddToDOM(element,parent,overflowHidden){if(overflowHidden===undefined){overflowHidden=true;}var target;if(parent){if(typeof parent==='string'){//  Hopefully an element ID\ntarget=document.getElementById(parent);}else if((typeof parent==='undefined'?'undefined':_typeof(parent))==='object'&&parent.nodeType===1){//  Quick test for a HTMLelement\ntarget=parent;}}//  Fallback, covers an invalid ID and a non HTMLelement object\nif(!target){target=document.body;}if(overflowHidden&&target.style){target.style.overflow='hidden';}target.appendChild(element);return element;};module.exports=AddToDOM;/***/},/* 127 *//***/function(module,exports,__webpack_require__){var OS=__webpack_require__(42);var isBooted=false;var DOMContentLoaded=function DOMContentLoaded(callback){if(isBooted){return;}if(document.readyState==='complete'||document.readyState==='interactive'){isBooted=true;callback();return;}var check=function check(){isBooted=true;document.removeEventListener('deviceready',check,true);document.removeEventListener('DOMContentLoaded',check,true);window.removeEventListener('load',check,true);callback();};if(!document.body){window.setTimeout(check,20);}else if(OS.cordova&&!OS.cocoonJS){//  Ref. http://docs.phonegap.com/en/3.5.0/cordova_events_events.md.html#deviceready\ndocument.addEventListener('deviceready',check,false);}else{document.addEventListener('DOMContentLoaded',check,true);window.addEventListener('load',check,true);}};module.exports=DOMContentLoaded;/***/},/* 128 *//***/function(module,exports){var ParseXML=function ParseXML(data){var xml='';try{if(window['DOMParser']){var domparser=new DOMParser();xml=domparser.parseFromString(data,'text/xml');}else{xml=new ActiveXObject('Microsoft.XMLDOM');xml.loadXML(data);}}catch(e){xml=null;}if(!xml||!xml.documentElement||xml.getElementsByTagName('parsererror').length){return null;}else{return xml;}};module.exports=ParseXML;/***/},/* 129 *//***/function(module,exports,__webpack_require__){var NOOP=__webpack_require__(28);// Abstracts away the use of RAF or setTimeOut for the core game update loop.\nvar RequestAnimationFrame=function RequestAnimationFrame(){// @property {boolean} isRunning - true if RequestAnimationFrame is running, otherwise false.\nthis.isRunning=false;this.callback=NOOP;this.tick=0;// @property {boolean} isSetTimeOut  - True if the browser is using setTimeout instead of rAf.\nthis.isSetTimeOut=false;// @property {number} timeOutID - The callback setTimeout or rAf callback ID used when calling cancel.\nthis.timeOutID=null;var _this=this;//  timestamp = DOMHighResTimeStamp\nvar step=function step(timestamp){_this.tick=timestamp;_this.callback(timestamp);_this.timeOutID=window.requestAnimationFrame(step);};var stepTimeout=function stepTimeout(){var d=Date.now();_this.tick=d;_this.callback(d);_this.timeOutID=window.setTimeout(stepTimeout,_this.timeToCall);};this.step=step;this.stepTimeout=stepTimeout;};RequestAnimationFrame.prototype.constructor=RequestAnimationFrame;RequestAnimationFrame.prototype={// Starts the requestAnimationFrame running or setTimeout if unavailable in browser\nstart:function start(callback,forceSetTimeOut){this.callback=callback;this.isSetTimeOut=forceSetTimeOut;this.isRunning=true;var _this=this;this.timeOutID=forceSetTimeOut?window.setTimeout(_this.stepTimeout,0):window.requestAnimationFrame(_this.step);},// Stops the requestAnimationFrame from running.\nstop:function stop(){this.isRunning=false;if(this.isSetTimeOut){clearTimeout(this.timeOutID);}else{window.cancelAnimationFrame(this.timeOutID);}},destroy:function destroy(){this.stop();this.callback=NOOP;}};module.exports=RequestAnimationFrame;/***/},/* 130 *//***/function(module,exports){var Normalize=function Normalize(angle){angle=angle%(2*Math.PI);if(angle>=0){return angle;}else{return angle+2*Math.PI;}};module.exports=Normalize;/***/},/* 131 *//***/function(module,exports){function In(v,overshoot){if(overshoot===undefined){overshoot=1.70158;}return v*v*((overshoot+1)*v-overshoot);}function Out(v,overshoot){if(overshoot===undefined){overshoot=1.70158;}return--v*v*((overshoot+1)*v+overshoot)+1;}function InOut(v,overshoot){if(overshoot===undefined){overshoot=1.70158;}var s=overshoot*1.525;if((v*=2)<1){return 0.5*(v*v*((s+1)*v-s));}else{return 0.5*((v-=2)*v*((s+1)*v+s)+2);}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 132 *//***/function(module,exports){function In(v){v=1-v;if(v<1/2.75){return 1-7.5625*v*v;}else if(v<2/2.75){return 1-(7.5625*(v-=1.5/2.75)*v+0.75);}else if(v<2.5/2.75){return 1-(7.5625*(v-=2.25/2.75)*v+0.9375);}else{return 1-(7.5625*(v-=2.625/2.75)*v+0.984375);}}function Out(v){if(v<1/2.75){return 7.5625*v*v;}else if(v<2/2.75){return 7.5625*(v-=1.5/2.75)*v+0.75;}else if(v<2.5/2.75){return 7.5625*(v-=2.25/2.75)*v+0.9375;}else{return 7.5625*(v-=2.625/2.75)*v+0.984375;}}function InOut(v){var reverse=false;if(v<0.5){v=1-v*2;reverse=true;}else{v=v*2-1;}if(v<1/2.75){v=7.5625*v*v;}else if(v<2/2.75){v=7.5625*(v-=1.5/2.75)*v+0.75;}else if(v<2.5/2.75){v=7.5625*(v-=2.25/2.75)*v+0.9375;}else{v=7.5625*(v-=2.625/2.75)*v+0.984375;}if(reverse){return(1-v)*0.5;}else{return v*0.5+0.5;}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 133 *//***/function(module,exports){function In(v){return 1-Math.sqrt(1-v*v);}function Out(v){return Math.sqrt(1- --v*v);}function InOut(v){if((v*=2)<1){return-0.5*(Math.sqrt(1-v*v)-1);}else{return 0.5*(Math.sqrt(1-(v-=2)*v)+1);}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 134 *//***/function(module,exports){function In(v){return v*v*v;}function Out(v){return--v*v*v+1;}function InOut(v){if((v*=2)<1){return 0.5*v*v*v;}else{return 0.5*((v-=2)*v*v+2);}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 135 *//***/function(module,exports){function In(v,amplitude,period){if(amplitude===undefined){amplitude=0.1;}if(period===undefined){period=0.1;}if(v===0){return 0;}else if(v===1){return 1;}else{var s=period/4;if(amplitude<1){amplitude=1;}else{s=period*Math.asin(1/amplitude)/(2*Math.PI);}return-(amplitude*Math.pow(2,10*(v-=1))*Math.sin((v-s)*(2*Math.PI)/period));}}function Out(v,amplitude,period){if(amplitude===undefined){amplitude=0.1;}if(period===undefined){period=0.1;}if(v===0){return 0;}else if(v===1){return 1;}else{var s=period/4;if(amplitude<1){amplitude=1;}else{s=period*Math.asin(1/amplitude)/(2*Math.PI);}return amplitude*Math.pow(2,-10*v)*Math.sin((v-s)*(2*Math.PI)/period)+1;}}function InOut(v,amplitude,period){if(amplitude===undefined){amplitude=0.1;}if(period===undefined){period=0.1;}if(v===0){return 0;}else if(v===1){return 1;}else{var s=period/4;if(amplitude<1){amplitude=1;}else{s=period*Math.asin(1/amplitude)/(2*Math.PI);}if((v*=2)<1){return-0.5*(amplitude*Math.pow(2,10*(v-=1))*Math.sin((v-s)*(2*Math.PI)/period));}else{return amplitude*Math.pow(2,-10*(v-=1))*Math.sin((v-s)*(2*Math.PI)/period)*0.5+1;}}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 136 *//***/function(module,exports){function In(v){return Math.pow(2,10*(v-1))-0.001;}function Out(v){return 1-Math.pow(2,-10*v);}function InOut(v){if((v*=2)<1){return 0.5*Math.pow(2,10*(v-1));}else{return 0.5*(2-Math.pow(2,-10*(v-1)));}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 137 *//***/function(module,exports){/**\n* Linear Easing (no variation).\n*\n* @method Lazer.Easing.Linear#None\n* @param {number} v - The value to be tweened.\n* @returns {number} v.\n*/var Linear=function Linear(v){return v;};module.exports=Linear;/***/},/* 138 *//***/function(module,exports){function In(v){return v*v;}function Out(v){return v*(2-v);}function InOut(v){if((v*=2)<1){return 0.5*v*v;}else{return-0.5*(--v*(v-2)-1);}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 139 *//***/function(module,exports){function In(v){return v*v*v*v;}function Out(v){return 1- --v*v*v*v;}function InOut(v){if((v*=2)<1){return 0.5*v*v*v*v;}else{return-0.5*((v-=2)*v*v*v-2);}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 140 *//***/function(module,exports){function In(v){return v*v*v*v*v;}function Out(v){return--v*v*v*v*v+1;}function InOut(v){if((v*=2)<1){return 0.5*v*v*v*v*v;}else{return 0.5*((v-=2)*v*v*v*v+2);}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 141 *//***/function(module,exports){function In(v){if(v===0){return 0;}else if(v===1){return 1;}else{return 1-Math.cos(v*Math.PI/2);}}function Out(v){if(v===0){return 0;}else if(v===1){return 1;}else{return Math.sin(v*Math.PI/2);}}function InOut(v){if(v===0){return 0;}else if(v===1){return 1;}else{return 0.5*(1-Math.cos(Math.PI*v));}}module.exports={In:In,Out:Out,InOut:InOut};/***/},/* 142 *//***/function(module,exports,__webpack_require__){var Factorial=__webpack_require__(143);var Bernstein=function Bernstein(n,i){return Factorial(n)/Factorial(i)/Factorial(n-i);};module.exports=Bernstein;/***/},/* 143 *//***/function(module,exports){var Factorial=function Factorial(value){if(value===0){return 1;}var res=value;while(--value){res*=value;}return res;};module.exports=Factorial;/***/},/* 144 *//***/function(module,exports){var CatmullRom=function CatmullRom(p0,p1,p2,p3,t){var v0=(p2-p0)*0.5,v1=(p3-p1)*0.5,t2=t*t,t3=t*t2;return(2*p1-2*p2+v0+v1)*t3+(-3*p1+3*p2-2*v0-v1)*t2+v0*t+p1;};module.exports=CatmullRom;/***/},/* 145 *//***/function(module,exports,__webpack_require__){var Linear=__webpack_require__(146);var LinearInterpolation=function LinearInterpolation(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);if(k<0){return Linear(v[0],v[1],f);}if(k>1){return Linear(v[m],v[m-1],m-f);}return Linear(v[i],v[i+1>m?m:i+1],f-i);};module.exports=LinearInterpolation;/***/},/* 146 *//***/function(module,exports){var Linear=function Linear(p0,p1,t){return(p1-p0)*t+p0;};module.exports=Linear;/***/},/* 147 *//***/function(module,exports){var RoundAwayFromZero=function RoundAwayFromZero(value){// \"Opposite\" of truncate.\nreturn value>0?Math.ceil(value):Math.floor(value);};module.exports=RoundAwayFromZero;/***/},/* 148 *//***/function(module,exports,__webpack_require__){var Color=__webpack_require__(29);/**\n* Converts a CSS 'web' string into a Phaser Color object.\n*\n* The web string can be in the format `'rgb(r,g,b)'` or `'rgba(r,g,b,a)'` where r/g/b are in the range [0..255] and a is in the range [0..1].\n*/var RGBStringToColor=function RGBStringToColor(rgb){var color=new Color();var result=/^rgba?\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d+(?:\\.\\d+)?))?\\s*\\)$/.exec(rgb.toLowerCase());if(result){var r=parseInt(result[1],10);var g=parseInt(result[2],10);var b=parseInt(result[3],10);var a=result[4]!==undefined?parseFloat(result[4]):1;color.setTo(r,g,b,a*255);}return color;};module.exports=RGBStringToColor;/***/},/* 149 *//***/function(module,exports){/**\n * Given an alpha and 3 color values this will return an integer representation of it.\n */var GetColor32=function GetColor32(red,green,blue,alpha){return alpha<<24|red<<16|green<<8|blue;};module.exports=GetColor32;/***/},/* 150 *//***/function(module,exports,__webpack_require__){var Color=__webpack_require__(29);/**\n* Converts a hex string into a Phaser Color object.\n*\n* The hex string can supplied as `'#0033ff'` or the short-hand format of `'#03f'`; it can begin with an optional \"#\" or \"0x\", or be unprefixed.    \n*\n* An alpha channel is _not_ supported.\n*/var HexStringToColor=function HexStringToColor(hex){var color=new Color();// Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\nhex=hex.replace(/^(?:#|0x)?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(m,r,g,b){return r+r+g+g+b+b;});var result=/^(?:#|0x)?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);if(result){var r=parseInt(result[1],16);var g=parseInt(result[2],16);var b=parseInt(result[3],16);color.setTo(r,g,b);}return color;};module.exports=HexStringToColor;/***/},/* 151 *//***/function(module,exports,__webpack_require__){var Color=__webpack_require__(29);var IntegerToRGB=__webpack_require__(152);var IntegerToColor=function IntegerToColor(input){var rgb=IntegerToRGB(input);return new Color(rgb.r,rgb.g,rgb.b,rgb.a);};module.exports=IntegerToColor;/***/},/* 152 *//***/function(module,exports){/**\n* Return the component parts of a color as an Object with the properties alpha, red, green, blue.\n*\n* Alpha will only be set if it exists in the given color (0xAARRGGBB)\n*/var IntegerToRGB=function IntegerToRGB(color){if(color>16777215){//  The color value has an alpha component\nreturn{a:color>>>24,r:color>>16&0xFF,g:color>>8&0xFF,b:color&0xFF};}else{return{a:255,r:color>>16&0xFF,g:color>>8&0xFF,b:color&0xFF};}};module.exports=IntegerToRGB;/***/},/* 153 *//***/function(module,exports,__webpack_require__){var OS=__webpack_require__(42);var Browser=__webpack_require__(53);var CanvasPool=__webpack_require__(11);var Features={//  @property {boolean} canvas - Is canvas available?\ncanvas:false,//  @property {?boolean} canvasBitBltShift - True if canvas supports a 'copy' bitblt onto itself when the source and destination regions overlap.\ncanvasBitBltShift:null,//  @property {boolean} webGL - Is webGL available?\nwebGL:false,//  @property {boolean} file - Is file available?\nfile:false,//  @property {boolean} fileSystem - Is fileSystem available?\nfileSystem:false,//  @property {boolean} localStorage - Is localStorage available?\nlocalStorage:false,//  @property {boolean} worker - Is worker available?\nworker:false,//  @property {boolean} pointerLock - Is Pointer Lock available?\npointerLock:false,//  @property {boolean} vibration - Does the device support the Vibration API?\nvibration:false,//  @property {boolean} getUserMedia - Does the device support the getUserMedia API?\ngetUserMedia:true,//  @property {boolean} littleEndian - Is the device big or little endian? (only detected if the browser supports TypedArrays)\nlittleEndian:false,//  @property {boolean} support32bit - Does the device context support 32bit pixel manipulation using array buffer views?\nsupport32bit:false};// Check Little or Big Endian system.\n// @author Matt DesLauriers (@mattdesl)\nfunction checkIsLittleEndian(){var a=new ArrayBuffer(4);var b=new Uint8Array(a);var c=new Uint32Array(a);b[0]=0xa1;b[1]=0xb2;b[2]=0xc3;b[3]=0xd4;if(c[0]===0xd4c3b2a1){return true;}if(c[0]===0xa1b2c3d4){return false;}else{//  Could not determine endianness\nreturn null;}}function init(){Features.canvas=!!window['CanvasRenderingContext2D']||OS.cocoonJS;try{Features.localStorage=!!localStorage.getItem;}catch(error){Features.localStorage=false;}Features.file=!!window['File']&&!!window['FileReader']&&!!window['FileList']&&!!window['Blob'];Features.fileSystem=!!window['requestFileSystem'];var isUint8=false;var testWebGL=function testWebGL(){if(window['WebGLRenderingContext']){try{var canvas=CanvasPool.createWebGL(this);if(OS.cocoonJS){canvas.screencanvas=false;}var ctx=canvas.getContext('webgl')||canvas.getContext('experimental-webgl');var canvas2D=CanvasPool.create2D(this);var ctx2D=canvas2D.getContext('2d');//  Can't be done on a webgl context\nvar image=ctx2D.createImageData(1,1);/**\n                * Test to see if ImageData uses CanvasPixelArray or Uint8ClampedArray.\n                *\n                * @author Matt DesLauriers (@mattdesl)\n                */isUint8=image.data instanceof Uint8ClampedArray;CanvasPool.remove(canvas);CanvasPool.remove(canvas2D);return ctx!==null;}catch(e){return false;}}return false;};Features.webGL=true;//testWebGL();\nFeatures.worker=!!window['Worker'];Features.pointerLock='pointerLockElement'in document||'mozPointerLockElement'in document||'webkitPointerLockElement'in document;navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL;Features.getUserMedia=Features.getUserMedia&&!!navigator.getUserMedia&&!!window.URL;// Older versions of firefox (< 21) apparently claim support but user media does not actually work\nif(Browser.firefox&&Browser.firefoxVersion<21){Features.getUserMedia=false;}// Excludes iOS versions as they generally wrap UIWebView (eg. Safari WebKit) and it\n// is safer to not try and use the fast copy-over method.\nif(!OS.iOS&&(Browser.ie||Browser.firefox||Browser.chrome)){Features.canvasBitBltShift=true;}// Known not to work\nif(Browser.safari||Browser.mobileSafari){Features.canvasBitBltShift=false;}navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;if(navigator.vibrate){Features.vibration=true;}if(typeof ArrayBuffer!=='undefined'&&typeof Uint8Array!=='undefined'&&typeof Uint32Array!=='undefined'){Features.littleEndian=checkIsLittleEndian();}Features.support32bit=typeof ArrayBuffer!=='undefined'&&typeof Uint8ClampedArray!=='undefined'&&typeof Int32Array!=='undefined'&&Features.littleEndian!==null&&isUint8;return Features;}module.exports=init();/***/},/* 154 *//***/function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(11);var CanvasFeatures={supportNewBlendModes:false,supportInverseAlpha:false};function checkBlendMode(){var pngHead='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/';var pngEnd='AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==';var magenta=new Image();magenta.onload=function(){var yellow=new Image();yellow.onload=function(){var canvas=CanvasPool.create(yellow,6,1);var context=canvas.getContext('2d');context.globalCompositeOperation='multiply';context.drawImage(magenta,0,0);context.drawImage(yellow,2,0);if(!context.getImageData(2,0,1,1)){return false;}var data=context.getImageData(2,0,1,1).data;CanvasPool.remove(yellow);CanvasFeatures.supportNewBlendModes=data[0]===255&&data[1]===0&&data[2]===0;};yellow.src=pngHead+'/wCKxvRF'+pngEnd;};magenta.src=pngHead+'AP804Oa6'+pngEnd;return false;}function checkInverseAlpha(){var canvas=CanvasPool.create(this,2,1);var context=canvas.getContext('2d');context.fillStyle='rgba(10, 20, 30, 0.5)';//  Draw a single pixel\ncontext.fillRect(0,0,1,1);//  Get the color values\nvar s1=context.getImageData(0,0,1,1);if(s1===null){return false;}//  Plot them to x2\ncontext.putImageData(s1,1,0);//  Get those values\nvar s2=context.getImageData(1,0,1,1);//  Compare and return\nreturn s2.data[0]===s1.data[0]&&s2.data[1]===s1.data[1]&&s2.data[2]===s1.data[2]&&s2.data[3]===s1.data[3];}function init(){if(document!==undefined){CanvasFeatures.supportNewBlendModes=checkBlendMode();CanvasFeatures.supportInverseAlpha=checkInverseAlpha();}return CanvasFeatures;}module.exports=init();/***/},/* 155 *//***/function(module,exports){var EVENT_CONST={DISPATCHER_IDLE:0,DISPATCHER_DISPATCHING:1,DISPATCHER_REMOVING:2,DISPATCHER_DESTROYED:3,LISTENER_PENDING:4,LISTENER_ACTIVE:5,LISTENER_REMOVING:6};module.exports=EVENT_CONST;/***/},/* 156 *//***/function(module,exports,__webpack_require__){var Frame=__webpack_require__(390);var GetValue=__webpack_require__(2);var GetFrames=function GetFrames(textureManager,frames){//      frames: [\n//          { key: textureKey, frame: textureFrame },\n//          { key: textureKey, frame: textureFrame, duration: float },\n//          { key: textureKey, frame: textureFrame, onUpdate: function }\n//          { key: textureKey, frame: textureFrame, visible: boolean }\n//      ],\nvar out=[];var prev;var animationFrame;var index=1;var i;var textureKey;//  if frames is a string, we'll get all the frames from the texture manager as if it's a sprite sheet\nif(typeof frames==='string'){textureKey=frames;var texture=textureManager.get(textureKey);var frameKeys=texture.getFrameNames();frames=[];frameKeys.forEach(function(idx,value){frames.push({key:textureKey,frame:value});});}// console.table(frames);\nif(!Array.isArray(frames)||frames.length===0){return out;}for(i=0;i<frames.length;i++){var item=frames[i];var key=GetValue(item,'key',null);if(!key){continue;}var frame=GetValue(item,'frame',0);var textureFrame=textureManager.getFrame(key,frame);animationFrame=new Frame(key,frame,index,textureFrame);animationFrame.duration=GetValue(item,'duration',0);animationFrame.onUpdate=GetValue(item,'onUpdate',null);var visible=GetValue(item,'visible',null);if(visible!==null){animationFrame.setVisible=true;animationFrame.visible=visible;}animationFrame.isFirst=!prev;//  The previously created animationFrame\nif(prev){prev.nextFrame=animationFrame;animationFrame.prevFrame=prev;}out.push(animationFrame);prev=animationFrame;index++;}if(out.length>0){animationFrame.isLast=true;//  Link them end-to-end, so they loop\nanimationFrame.nextFrame=out[0];out[0].prevFrame=animationFrame;//  Generate the progress data\nvar slice=1/(out.length-1);for(i=0;i<out.length;i++){out[i].progress=i*slice;}}return out;};module.exports=GetFrames;/***/},/* 157 *//***/function(module,exports){/**\n* Takes the given string and pads it out, to the length required, using the character\n* specified. For example if you need a string to be 6 characters long, you can call:\n*\n* `pad('bob', 6, '-', 2)`\n*\n* This would return: `bob---` as it has padded it out to 6 characters, using the `-` on the right.\n*\n* You can also use it to pad numbers (they are always returned as strings):\n* \n* `pad(512, 6, '0', 1)`\n*\n* Would return: `000512` with the string padded to the left.\n*\n* If you don't specify a direction it'll pad to both sides:\n* \n* `pad('c64', 7, '*')`\n*\n* Would return: `**c64**`\n*\n* @method Phaser.Utils.pad\n* @param {string} str - The target string. `toString()` will be called on the string, which means you can also pass in common data types like numbers.\n* @param {integer} [len=0] - The number of characters to be added.\n* @param {string} [pad=\" \"] - The string to pad it out with (defaults to a space).\n* @param {integer} [dir=3] - The direction dir = 1 (left), 2 (right), 3 (both).\n* @return {string} The padded string.\n*/var Pad=function Pad(str,len,pad,dir){if(len===undefined){len=0;}if(pad===undefined){pad=' ';}if(dir===undefined){dir=3;}str=str.toString();var padlen=0;if(len+1>=str.length){switch(dir){case 1:str=new Array(len+1-str.length).join(pad)+str;break;case 3:var right=Math.ceil((padlen=len-str.length)/2);var left=padlen-right;str=new Array(left+1).join(pad)+str+new Array(right+1).join(pad);break;default:str=str+new Array(len+1-str.length).join(pad);break;}}return str;};module.exports=Pad;/***/},/* 158 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);// The keys of a Map can be arbitrary values.\n/*\nvar map = new Map([\n    [ 1, 'one' ],\n    [ 2, 'two' ],\n    [ 3, 'three' ]\n]);\n*/var Map=new Class({initialize:function Map(elements){this.entries={};this.size=0;if(Array.isArray(elements)){for(var i=0;i<elements.length;i++){this.set(elements[i][0],elements[i][1]);}}},set:function set(key,value){if(!this.has(key)){this.entries[key]=value;this.size++;}return this;},get:function get(key){if(this.has(key)){return this.entries[key];}},getArray:function getArray(){var output=[];var entries=this.entries;for(var key in entries){output.push(entries[key]);}return output;},has:function has(key){return this.entries.hasOwnProperty(key);},delete:function _delete(key){if(this.has(key)){delete this.entries[key];this.size--;}return this;},clear:function clear(){Object.keys(this.entries).forEach(function(prop){delete this.entries[prop];});this.size=0;return this;},keys:function keys(){return Object.keys(this.entries);},values:function values(){var output=[];var entries=this.entries;for(var key in entries){output.push(entries[key]);}return output;},dump:function dump(){var entries=this.entries;console.group('Map');for(var key in entries){console.log(key,entries[key]);}console.groupEnd();},each:function each(callback){var entries=this.entries;for(var key in entries){if(callback(key,entries[key])===false){break;}}return this;},contains:function contains(value){var entries=this.entries;for(var key in entries){if(entries[key]===value){return true;}}return false;},//  Merges all new keys from the given Map into this one\n//  If it encounters a key that already exists it will be skipped\n//  unless override = true\nmerge:function merge(map,override){if(override===undefined){override=false;}var local=this.entries;var source=map.entries;for(var key in source){if(local.hasOwnProperty(key)&&override){local[key]=source[key];}else{this.set(key,source[key]);}}return this;}});module.exports=Map;/***/},/* 159 *//***/function(module,exports){var GetContext=function GetContext(canvas,options){return canvas.getContext('2d',options)||null;};module.exports=GetContext;/***/},/* 160 *//***/function(module,exports,__webpack_require__){module.exports={IndexBuffer:__webpack_require__(434),RenderTarget:__webpack_require__(435),Shader:__webpack_require__(436),Texture:__webpack_require__(437),VertexBuffer:__webpack_require__(438)};/***/},/* 161 *//***/function(module,exports,__webpack_require__){\"use strict\";//  2.1.1 (Mar 17, 2016)\n/*\nISC License\n\nCopyright (c) 2016, Mapbox\n\nPermission to use, copy, modify, and/or distribute this software for any purpose\nwith or without fee is hereby granted, provided that the above copyright notice\nand this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND\nFITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS\nOF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER\nTORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF\nTHIS SOFTWARE.\n */module.exports=earcut;/*\nvertices is a flat array of vertice coordinates like [x0,y0, x1,y1, x2,y2, ...].\nholes is an array of hole indices if any (e.g. [5, 8] for a 12-vertice input would mean one hole with vertices 5–7 and another with 8–11).\ndimensions is the number of coordinates per vertice in the input array (2 by default).\nEach group of three vertice indices in the resulting array forms a triangle.\n */function earcut(data,holeIndices,dim){dim=dim||2;var hasHoles=holeIndices&&holeIndices.length,outerLen=hasHoles?holeIndices[0]*dim:data.length,outerNode=linkedList(data,0,outerLen,dim,true),triangles=[];if(!outerNode)return triangles;var minX,minY,maxX,maxY,x,y,size;if(hasHoles)outerNode=eliminateHoles(data,holeIndices,outerNode,dim);// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\nif(data.length>80*dim){minX=maxX=data[0];minY=maxY=data[1];for(var i=dim;i<outerLen;i+=dim){x=data[i];y=data[i+1];if(x<minX)minX=x;if(y<minY)minY=y;if(x>maxX)maxX=x;if(y>maxY)maxY=y;}// minX, minY and size are later used to transform coords into integers for z-order calculation\nsize=Math.max(maxX-minX,maxY-minY);}earcutLinked(outerNode,triangles,dim,minX,minY,size);return triangles;}// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data,start,end,dim,clockwise){var i,last;if(clockwise===signedArea(data,start,end,dim)>0){for(i=start;i<end;i+=dim){last=insertNode(i,data[i],data[i+1],last);}}else{for(i=end-dim;i>=start;i-=dim){last=insertNode(i,data[i],data[i+1],last);}}if(last&&equals(last,last.next)){removeNode(last);last=last.next;}return last;}// eliminate colinear or duplicate points\nfunction filterPoints(start,end){if(!start)return start;if(!end)end=start;var p=start,again;do{again=false;if(!p.steiner&&(equals(p,p.next)||area(p.prev,p,p.next)===0)){removeNode(p);p=end=p.prev;if(p===p.next)return null;again=true;}else{p=p.next;}}while(again||p!==end);return end;}// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear,triangles,dim,minX,minY,size,pass){if(!ear)return;// interlink polygon nodes in z-order\nif(!pass&&size)indexCurve(ear,minX,minY,size);var stop=ear,prev,next;// iterate through ears, slicing them one by one\nwhile(ear.prev!==ear.next){prev=ear.prev;next=ear.next;if(size?isEarHashed(ear,minX,minY,size):isEar(ear)){// cut off the triangle\ntriangles.push(prev.i/dim);triangles.push(ear.i/dim);triangles.push(next.i/dim);removeNode(ear);// skipping the next vertice leads to less sliver triangles\near=next.next;stop=next.next;continue;}ear=next;// if we looped through the whole remaining polygon and can't find any more ears\nif(ear===stop){// try filtering points and slicing again\nif(!pass){earcutLinked(filterPoints(ear),triangles,dim,minX,minY,size,1);// if this didn't work, try curing all small self-intersections locally\n}else if(pass===1){ear=cureLocalIntersections(ear,triangles,dim);earcutLinked(ear,triangles,dim,minX,minY,size,2);// as a last resort, try splitting the remaining polygon into two\n}else if(pass===2){splitEarcut(ear,triangles,dim,minX,minY,size);}break;}}}// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return false;// reflex, can't be an ear\n// now make sure we don't have other points inside the potential ear\nvar p=ear.next.next;while(p!==ear.prev){if(pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.next;}return true;}function isEarHashed(ear,minX,minY,size){var a=ear.prev,b=ear,c=ear.next;if(area(a,b,c)>=0)return false;// reflex, can't be an ear\n// triangle bbox; min & max are calculated like this for speed\nvar minTX=a.x<b.x?a.x<c.x?a.x:c.x:b.x<c.x?b.x:c.x,minTY=a.y<b.y?a.y<c.y?a.y:c.y:b.y<c.y?b.y:c.y,maxTX=a.x>b.x?a.x>c.x?a.x:c.x:b.x>c.x?b.x:c.x,maxTY=a.y>b.y?a.y>c.y?a.y:c.y:b.y>c.y?b.y:c.y;// z-order range for the current triangle bbox;\nvar minZ=zOrder(minTX,minTY,minX,minY,size),maxZ=zOrder(maxTX,maxTY,minX,minY,size);// first look for points inside the triangle in increasing z-order\nvar p=ear.nextZ;while(p&&p.z<=maxZ){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.nextZ;}// then look for points in decreasing z-order\np=ear.prevZ;while(p&&p.z>=minZ){if(p!==ear.prev&&p!==ear.next&&pointInTriangle(a.x,a.y,b.x,b.y,c.x,c.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return false;p=p.prevZ;}return true;}// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start,triangles,dim){var p=start;do{var a=p.prev,b=p.next.next;if(!equals(a,b)&&intersects(a,p,p.next,b)&&locallyInside(a,b)&&locallyInside(b,a)){triangles.push(a.i/dim);triangles.push(p.i/dim);triangles.push(b.i/dim);// remove two nodes involved\nremoveNode(p);removeNode(p.next);p=start=b;}p=p.next;}while(p!==start);return p;}// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start,triangles,dim,minX,minY,size){// look for a valid diagonal that divides the polygon into two\nvar a=start;do{var b=a.next.next;while(b!==a.prev){if(a.i!==b.i&&isValidDiagonal(a,b)){// split the polygon in two by the diagonal\nvar c=splitPolygon(a,b);// filter colinear points around the cuts\na=filterPoints(a,a.next);c=filterPoints(c,c.next);// run earcut on each half\nearcutLinked(a,triangles,dim,minX,minY,size);earcutLinked(c,triangles,dim,minX,minY,size);return;}b=b.next;}a=a.next;}while(a!==start);}// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data,holeIndices,outerNode,dim){var queue=[],i,len,start,end,list;for(i=0,len=holeIndices.length;i<len;i++){start=holeIndices[i]*dim;end=i<len-1?holeIndices[i+1]*dim:data.length;list=linkedList(data,start,end,dim,false);if(list===list.next)list.steiner=true;queue.push(getLeftmost(list));}queue.sort(compareX);// process holes from left to right\nfor(i=0;i<queue.length;i++){eliminateHole(queue[i],outerNode);outerNode=filterPoints(outerNode,outerNode.next);}return outerNode;}function compareX(a,b){return a.x-b.x;}// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole,outerNode){outerNode=findHoleBridge(hole,outerNode);if(outerNode){var b=splitPolygon(outerNode,hole);filterPoints(b,b.next);}}// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole,outerNode){var p=outerNode,hx=hole.x,hy=hole.y,qx=-Infinity,m;// find a segment intersected by a ray from the hole's leftmost point to the left;\n// segment's endpoint with lesser x will be potential connection point\ndo{if(hy<=p.y&&hy>=p.next.y&&p.next.y!==p.y){var x=p.x+(hy-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(x<=hx&&x>qx){qx=x;if(x===hx){if(hy===p.y)return p;if(hy===p.next.y)return p.next;}m=p.x<p.next.x?p:p.next;}}p=p.next;}while(p!==outerNode);if(!m)return null;if(hx===qx)return m.prev;// hole touches outer segment; pick lower endpoint\n// look for points inside the triangle of hole point, segment intersection and endpoint;\n// if there are no points found, we have a valid connection;\n// otherwise choose the point of the minimum angle with the ray as connection point\nvar stop=m,mx=m.x,my=m.y,tanMin=Infinity,tan;p=m.next;while(p!==stop){if(hx>=p.x&&p.x>=mx&&hx!==p.x&&pointInTriangle(hy<my?hx:qx,hy,mx,my,hy<my?qx:hx,hy,p.x,p.y)){tan=Math.abs(hy-p.y)/(hx-p.x);// tangential\nif((tan<tanMin||tan===tanMin&&p.x>m.x)&&locallyInside(p,hole)){m=p;tanMin=tan;}}p=p.next;}return m;}// interlink polygon nodes in z-order\nfunction indexCurve(start,minX,minY,size){var p=start;do{if(p.z===null)p.z=zOrder(p.x,p.y,minX,minY,size);p.prevZ=p.prev;p.nextZ=p.next;p=p.next;}while(p!==start);p.prevZ.nextZ=null;p.prevZ=null;sortLinked(p);}// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list){var i,p,q,e,tail,numMerges,pSize,qSize,inSize=1;do{p=list;list=null;tail=null;numMerges=0;while(p){numMerges++;q=p;pSize=0;for(i=0;i<inSize;i++){pSize++;q=q.nextZ;if(!q)break;}qSize=inSize;while(pSize>0||qSize>0&&q){if(pSize!==0&&(qSize===0||!q||p.z<=q.z)){e=p;p=p.nextZ;pSize--;}else{e=q;q=q.nextZ;qSize--;}if(tail)tail.nextZ=e;else list=e;e.prevZ=tail;tail=e;}p=q;}tail.nextZ=null;inSize*=2;}while(numMerges>1);return list;}// z-order of a point given coords and size of the data bounding box\nfunction zOrder(x,y,minX,minY,size){// coords are transformed into non-negative 15-bit integer range\nx=32767*(x-minX)/size;y=32767*(y-minY)/size;x=(x|x<<8)&0x00FF00FF;x=(x|x<<4)&0x0F0F0F0F;x=(x|x<<2)&0x33333333;x=(x|x<<1)&0x55555555;y=(y|y<<8)&0x00FF00FF;y=(y|y<<4)&0x0F0F0F0F;y=(y|y<<2)&0x33333333;y=(y|y<<1)&0x55555555;return x|y<<1;}// find the leftmost node of a polygon ring\nfunction getLeftmost(start){var p=start,leftmost=start;do{if(p.x<leftmost.x)leftmost=p;p=p.next;}while(p!==start);return leftmost;}// check if a point lies within a convex triangle\nfunction pointInTriangle(ax,ay,bx,by,cx,cy,px,py){return(cx-px)*(ay-py)-(ax-px)*(cy-py)>=0&&(ax-px)*(by-py)-(bx-px)*(ay-py)>=0&&(bx-px)*(cy-py)-(cx-px)*(by-py)>=0;}// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!intersectsPolygon(a,b)&&locallyInside(a,b)&&locallyInside(b,a)&&middleInside(a,b);}// signed area of a triangle\nfunction area(p,q,r){return(q.y-p.y)*(r.x-q.x)-(q.x-p.x)*(r.y-q.y);}// check if two points are equal\nfunction equals(p1,p2){return p1.x===p2.x&&p1.y===p2.y;}// check if two segments intersect\nfunction intersects(p1,q1,p2,q2){if(equals(p1,q1)&&equals(p2,q2)||equals(p1,q2)&&equals(p2,q1))return true;return area(p1,q1,p2)>0!==area(p1,q1,q2)>0&&area(p2,q2,p1)>0!==area(p2,q2,q1)>0;}// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a,b){var p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&intersects(p,p.next,a,b))return true;p=p.next;}while(p!==a);return false;}// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0;}// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a,b){var p=a,inside=false,px=(a.x+b.x)/2,py=(a.y+b.y)/2;do{if(p.y>py!==p.next.y>py&&p.next.y!==p.y&&px<(p.next.x-p.x)*(py-p.y)/(p.next.y-p.y)+p.x)inside=!inside;p=p.next;}while(p!==a);return inside;}// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a,b){var a2=new Node(a.i,a.x,a.y),b2=new Node(b.i,b.x,b.y),an=a.next,bp=b.prev;a.next=b;b.prev=a;a2.next=an;an.prev=a2;b2.next=a2;a2.prev=b2;bp.next=b2;b2.prev=bp;return b2;}// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i,x,y,last){var p=new Node(i,x,y);if(!last){p.prev=p;p.next=p;}else{p.next=last.next;p.prev=last;last.next.prev=p;last.next=p;}return p;}function removeNode(p){p.next.prev=p.prev;p.prev.next=p.next;if(p.prevZ)p.prevZ.nextZ=p.nextZ;if(p.nextZ)p.nextZ.prevZ=p.prevZ;}function Node(i,x,y){// vertice index in coordinates array\nthis.i=i;// vertex coordinates\nthis.x=x;this.y=y;// previous and next vertice nodes in a polygon ring\nthis.prev=null;this.next=null;// z-order curve value\nthis.z=null;// previous and next nodes in z-order\nthis.prevZ=null;this.nextZ=null;// indicates whether this is a steiner point\nthis.steiner=false;}// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation=function(data,holeIndices,dim,triangles){var hasHoles=holeIndices&&holeIndices.length;var outerLen=hasHoles?holeIndices[0]*dim:data.length;var polygonArea=Math.abs(signedArea(data,0,outerLen,dim));if(hasHoles){for(var i=0,len=holeIndices.length;i<len;i++){var start=holeIndices[i]*dim;var end=i<len-1?holeIndices[i+1]*dim:data.length;polygonArea-=Math.abs(signedArea(data,start,end,dim));}}var trianglesArea=0;for(i=0;i<triangles.length;i+=3){var a=triangles[i]*dim;var b=triangles[i+1]*dim;var c=triangles[i+2]*dim;trianglesArea+=Math.abs((data[a]-data[c])*(data[b+1]-data[a+1])-(data[a]-data[b])*(data[c+1]-data[a+1]));}return polygonArea===0&&trianglesArea===0?0:Math.abs((trianglesArea-polygonArea)/polygonArea);};function signedArea(data,start,end,dim){var sum=0;for(var i=start,j=end-dim;i<end;i+=dim){sum+=(data[j]-data[i])*(data[i+1]+data[j+1]);j=i;}return sum;}// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten=function(data){var dim=data[0][0].length,result={vertices:[],holes:[],dimensions:dim},holeIndex=0;for(var i=0;i<data.length;i++){for(var j=0;j<data[i].length;j++){for(var d=0;d<dim;d++){result.vertices.push(data[i][j][d]);}}if(i>0){holeIndex+=data[i-1].length;result.holes.push(holeIndex);}}return result;};/***/},/* 162 *//***/function(module,exports){var CONST={// VERTEX_SIZE = sizeof(vec2) + sizeof(vec2)\nVERTEX_SIZE:16,INDEX_SIZE:2,TILEMAP_VERTEX_COUNT:4,TILEMAP_INDEX_COUNT:6,// How many 32-bit components does the vertex have.\nTILEMAP_VERTEX_COMPONENT_COUNT:4,MAX_TILEMAP:2000};module.exports=CONST;/***/},/* 163 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var EventDispatcher=__webpack_require__(25);/**\n* The Data Component features a means to store pieces of data specific to a Game Object,\n* search it, query it, and retrieve it.\n*/var Data=new Class({initialize:function Data(parent){this.parent=parent;this.events=new EventDispatcher();this.list={};this._beforeCallbacks={};this._afterCallbacks={};this._frozen=false;},//  Retrieves the value for the given key, or undefined if it doesn't exist.\nget:function get(key){return this.list[key];},getAll:function getAll(){var results={};for(var key in this.list){results[key]=this.list[key];}return results;},query:function query(search){var results={};for(var key in this.list){if(key.match(search)){results[key]=this.list[key];}}return results;},set:function set(key,data){if(this._frozen){return this;}var listener;var result;//  If there is a 'before' callback, then check it for a result\n//  This means a property can only ever have 1 callback, which isn't right - we may need more\n//  Dispatch event instead?\nif(this._beforeCallbacks.hasOwnProperty(key)){listener=this._beforeCallbacks[key];result=listener.callback.call(listener.scope,this.parent,key,data);if(result!==undefined){data=result;}}// this.events.dispatch(new Event.LOADER_START_EVENT(this));\nthis.list[key]=data;//  If there is a 'after' callback, then check it for a result\nif(this._afterCallbacks.hasOwnProperty(key)){listener=this._afterCallbacks[key];result=listener.callback.call(listener.scope,this.parent,key,data);if(result!==undefined){this.list[key]=result;}}return this;},before:function before(key,callback,scope){if(callback===undefined){//  Remove entry\ndelete this._beforeCallbacks[key];}else{this._beforeCallbacks[key]={callback:callback,scope:scope};}},after:function after(key,callback,scope){if(callback===undefined){//  Remove entry\ndelete this._afterCallbacks[key];}else{this._afterCallbacks[key]={callback:callback,scope:scope};}},/**\n    * Passes all data entries to the given callback. Stores the result of the callback.\n    *\n    * @method each\n    * @param {function} callback - The function to call.\n    * @param {object} [scope] - Value to use as `this` when executing callback.\n    * @param {...*} [arguments] - Additional arguments that will be passed to the callback, after the game object, key, and data.\n    */each:function each(callback,scope){var args=[this.parent,null,undefined];for(var i=1;i<arguments.length;i++){args.push(arguments[i]);}for(var key in this.list){args[1]=key;args[2]=this.list[key];callback.apply(scope,args);}},merge:function merge(data,overwrite){if(overwrite===undefined){overwrite=true;}//  Merge data from another component into this one\nfor(var key in data){if(overwrite||!overwrite&&!this.has(key)){this.list[key]=data;}}},remove:function remove(key){if(!this._frozen&&this.has(key)){delete this.list[key];this.removeListeners(key);}},removeListeners:function removeListeners(key){if(this._beforeCallbacks.hasOwnProperty(key)){delete this._beforeCallbacks[key];}if(this._afterCallbacks.hasOwnProperty(key)){delete this._afterCallbacks[key];}},//  Gets the data associated with the given 'key', deletes it from this Data store, then returns it.\npop:function pop(key){var data=undefined;if(!this._frozen&&this.has(key)){data=this.list[key];delete this.list[key];this.removeListeners(key);}return data;},has:function has(key){return this.list.hasOwnProperty(key);},reset:function reset(){for(var key in this.list){delete this.list[key];}for(key in this._beforeCallbacks){delete this._beforeCallbacks[key];}for(key in this._afterCallbacks){delete this._afterCallbacks[key];}this._frozen=false;},/**\n    * Freeze this Data component, so no changes can be written to it.\n    *\n    * @name freeze\n    * @property {boolean} freeze\n    */freeze:{get:function get(){return this._frozen;},set:function set(value){this._frozen=value?true:false;}},count:{get:function get(){var i=0;for(var key in this.list){if(this.list[key]!==undefined){i++;}}return i;}}});module.exports=Data;/***/},/* 164 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(455);var Key=__webpack_require__(165);var KeyCodes=__webpack_require__(71);var KeyCombo=__webpack_require__(166);var ProcessKeyCombo=__webpack_require__(167);var ProcessKeyDown=__webpack_require__(461);var ProcessKeyUp=__webpack_require__(462);/**\n* The Keyboard class monitors keyboard input and dispatches keyboard events.\n*\n* _Note_: many keyboards are unable to process certain combinations of keys due to hardware limitations known as ghosting.\n* See http://www.html5gamedevs.com/topic/4876-impossible-to-use-more-than-2-keyboard-input-buttons-at-the-same-time/ for more details.\n*\n* Also please be aware that certain browser extensions can disable or override Phaser keyboard handling.\n* For example the Chrome extension vimium is known to disable Phaser from using the D key. And there are others.\n* So please check your extensions before opening Phaser issues.\n*/var KeyboardManager=new Class({initialize:function KeyboardManager(inputManager){this.manager=inputManager;this.enabled=false;this.target;this.keys=[];this.combos=[];this.captures=[];//   Standard FIFO queue\nthis.queue=[];this.handler;},/**\n    * The Boot handler is called by Phaser.Game when it first starts up.\n    * The renderer is available by now.\n    */boot:function boot(){var config=this.manager.config;this.enabled=config.inputKeyboard;this.target=config.inputKeyboardEventTarget;if(this.enabled){this.startListeners();}},startListeners:function startListeners(){var queue=this.queue;var captures=this.captures;var handler=function handler(event){if(event.preventDefaulted){// Do nothing if event already handled\nreturn;}queue.push(event);if(captures[event.keyCode]){event.preventDefault();}};this.handler=handler;this.target.addEventListener('keydown',handler,false);this.target.addEventListener('keyup',handler,false);},stopListeners:function stopListeners(){this.target.removeEventListener('keydown',this.handler);this.target.removeEventListener('keyup',this.handler);},/**\n    * Creates and returns an object containing 4 hotkeys for Up, Down, Left and Right.\n    */createCursorKeys:function createCursorKeys(){return this.addKeys({up:KeyCodes.UP,down:KeyCodes.DOWN,left:KeyCodes.LEFT,right:KeyCodes.RIGHT});},/**\n    * A practical way to create an object containing user selected hotkeys.\n    *\n    * For example,\n    *\n    *     addKeys( { 'up': Phaser.KeyCode.W, 'down': Phaser.KeyCode.S, 'left': Phaser.KeyCode.A, 'right': Phaser.KeyCode.D } );\n    *\n    * would return an object containing properties (`up`, `down`, `left` and `right`) referring to {@link Phaser.Key} object.\n    */addKeys:function addKeys(keys){var output={};for(var key in keys){output[key]=this.addKey(keys[key]);}return output;},/**\n    * If you need more fine-grained control over a Key you can create a new Phaser.Key object via this method.\n    * The Key object can then be polled, have events attached to it, etc.\n    */addKey:function addKey(keyCode){var keys=this.keys;if(!keys[keyCode]){keys[keyCode]=new Key(keyCode);this.captures[keyCode]=true;}return keys[keyCode];},/**\n    * Removes a Key object from the Keyboard manager.\n    */removeKey:function removeKey(keyCode){if(this.keys[keyCode]){this.keys[keyCode]=undefined;this.captures[keyCode]=false;}},addKeyCapture:function addKeyCapture(keyCodes){if(!Array.isArray(keyCodes)){keyCodes=[keyCodes];}for(var i=0;i<keyCodes.length;i++){this.captures[keyCodes[i]]=true;}},removeKeyCapture:function removeKeyCapture(keyCodes){if(!Array.isArray(keyCodes)){keyCodes=[keyCodes];}for(var i=0;i<keyCodes.length;i++){this.captures[keyCodes[i]]=false;}},createCombo:function createCombo(keys,config){return new KeyCombo(this,keys,config);},//  https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/KeyboardEvent\n//  type = 'keydown', 'keyup'\n//  keyCode = integer\nupdate:function update(){var len=this.queue.length;if(!this.enabled||len===0){return;}//  Clears the queue array, and also means we don't work on array data that could potentially\n//  be modified during the processing phase\nvar queue=this.queue.splice(0,len);var keys=this.keys;var singleKey;//  Process the event queue, dispatching all of the events that have stored up\nfor(var i=0;i<len;i++){var event=queue[i];if(event.type==='keydown'){this.manager.events.dispatch(new Event.KEY_DOWN_EVENT(event));singleKey=Event._DOWN[event.keyCode];if(singleKey){this.manager.events.dispatch(new singleKey(event));}if(keys[event.keyCode]){ProcessKeyDown(keys[event.keyCode],event);}}else{this.manager.events.dispatch(new Event.KEY_UP_EVENT(event));singleKey=Event._UP[event.keyCode];if(singleKey){this.manager.events.dispatch(new singleKey(event));}if(keys[event.keyCode]){ProcessKeyUp(keys[event.keyCode],event);}}}}});module.exports=KeyboardManager;/***/},/* 165 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);//  Phaser.Input.Keyboard.Key\n//  A generic Key object which can be passed to the Process functions (and so on)\n//  keycode must be an integer\nvar Key=new Class({initialize:function Key(keyCode){//  @property {integer} keyCode - The keycode of this key.\nthis.keyCode=keyCode;//  @property {KeyboardEvent} originalEvent - The original DOM event.\nthis.originalEvent=undefined;//  @property {boolean} preventDefault - Should this Key prevent event propagation?\n//  @default\nthis.preventDefault=true;//  @property {boolean} enabled - Can this Key be processed?\n//  @default\nthis.enabled=true;//  @property {boolean} isDown - The \"down\" state of the key. This will remain `true` for as long as the keyboard thinks this key is held down.\n//  @default\nthis.isDown=false;//  @property {boolean} isUp - The \"up\" state of the key. This will remain `true` for as long as the keyboard thinks this key is up.\n//  @default\nthis.isUp=true;//  @property {boolean} altKey - The down state of the ALT key, if pressed at the same time as this key.\n//  @default\nthis.altKey=false;//  @property {boolean} ctrlKey - The down state of the CTRL key, if pressed at the same time as this key.\n//  @default\nthis.ctrlKey=false;//  @property {boolean} shiftKey - The down state of the SHIFT key, if pressed at the same time as this key.\n//  @default\nthis.shiftKey=false;//  @property {integer} location - The location of the modifier key. 0 for standard (or unknown), 1 for left, 2 for right, 3 for numpad.\n//  @default\nthis.location=0;//  @property {number} timeDown - The timestamp when the key was last pressed down. This is based on Game.time.now.\nthis.timeDown=0;//  If the key is down this value holds the duration of that key press and is constantly updated.\n//  If the key is up it holds the duration of the previous down session.\n//  @property {number} duration - The number of milliseconds this key has been held down for.\n//  @default\nthis.duration=0;//  @property {number} timeUp - The timestamp when the key was last released. This is based on Game.time.now.\n//  @default\nthis.timeUp=0;//  @property {number} repeats - If a key is held down this holds down the number of times the key has 'repeated'.\n//  @default\nthis.repeats=0;// @property {boolean} _justDown - True if the key has just been pressed (NOTE: requires to be reset, see justDown getter)\n// @private\nthis._justDown=false;// @property {boolean} _justUp - True if the key has just been pressed (NOTE: requires to be reset, see justDown getter)\n// @private\nthis._justUp=false;}});module.exports=Key;/***/},/* 166 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetFastValue=__webpack_require__(7);var KeyComboMatchEvent=__webpack_require__(458);var ProcessKeyCombo=__webpack_require__(167);var ResetKeyCombo=__webpack_require__(460);//  Keys can be either:\n//\n//  A string (ATARI)\n//  An array of either integers (key codes) or strings, or a mixture of both\n//  An array of objects (such as Key objects) with a public 'keyCode' property\nvar KeyCombo=new Class({initialize:function KeyCombo(keyboardManager,keys,config){if(config===undefined){config={};}//  Can't have a zero or single length combo (string or array based)\nif(keys.length<2){return false;}this.manager=keyboardManager;this.enabled=true;this.keyCodes=[];//  if 'keys' is a string we need to get the keycode of each character in it\nfor(var i=0;i<keys.length;i++){var char=keys[i];if(typeof char==='string'){this.keyCodes.push(char.toUpperCase().charCodeAt(0));}else if(typeof char==='number'){this.keyCodes.push(char);}else if(char.hasOwnProperty('keyCode')){this.keyCodes.push(char.keyCode);}}//  The current keyCode the combo is waiting for\nthis.current=this.keyCodes[0];//  The current index of the key being waited for in the 'keys' string\nthis.index=0;//  The length of this combo (in keycodes)\nthis.size=this.keyCodes.length;//  The time the previous key in the combo was matched\nthis.timeLastMatched=0;//  Has this Key Combo been matched yet?\nthis.matched=false;//  The time the entire combo was matched\nthis.timeMatched=0;//  Custom options ...\n//  If they press the wrong key do we reset the combo?\nthis.resetOnWrongKey=GetFastValue(config,'resetOnWrongKey',true);//  The max delay in ms between each key press. Above this the combo is reset. 0 means disabled.\nthis.maxKeyDelay=GetFastValue(config,'maxKeyDelay',0);//  If previously matched and they press Key 1 again, will it reset?\nthis.resetOnMatch=GetFastValue(config,'resetOnMatch',false);//  If the combo matches, will it delete itself?\nthis.deleteOnMatch=GetFastValue(config,'deleteOnMatch',false);var _this=this;var onKeyDownHandler=function onKeyDownHandler(event){if(_this.matched||!_this.enabled){return;}var matched=ProcessKeyCombo(event.data,_this);if(matched){_this.manager.events.dispatch(new KeyComboMatchEvent(_this,event));if(_this.resetOnMatch){ResetKeyCombo(_this);}else if(_this.deleteOnMatch){_this.destroy();}}};this.onKeyDown=onKeyDownHandler;this.manager.events.on('KEY_DOWN_EVENT',onKeyDownHandler);},progress:{//  How far complete is this combo? A value between 0 and 1.\nget:function get(){return this.index/this.size;}},destroy:function destroy(){this.enabled=false;this.keyCodes=[];this.manager.events.off('KEY_DOWN',this.onKeyDown);this.manager=undefined;}});module.exports=KeyCombo;/***/},/* 167 *//***/function(module,exports,__webpack_require__){var AdvanceKeyCombo=__webpack_require__(459);var ProcessKeyCombo=function ProcessKeyCombo(event,combo){if(combo.matched){return true;}var comboMatched=false;var keyMatched=false;if(event.keyCode===combo.current){//  Key was correct\nif(combo.index>0&&combo.maxKeyDelay>0){//  We have to check to see if the delay between\n//  the new key and the old one was too long (if enabled)\nvar timeLimit=combo.timeLastMatched+combo.maxKeyDelay;//  Check if they pressed it in time or not\nif(event.timeStamp<=timeLimit){keyMatched=true;comboMatched=AdvanceKeyCombo(event,combo);}}else{keyMatched=true;//  We don't check the time for the first key pressed, so just advance it\ncomboMatched=AdvanceKeyCombo(event,combo);}}if(!keyMatched&&combo.resetOnWrongKey){//  Wrong key was pressed\ncombo.index=0;combo.current=combo.keyCodes[0];}if(comboMatched){combo.timeLastMatched=event.timeStamp;combo.matched=true;combo.timeMatched=event.timeStamp;}return comboMatched;};module.exports=ProcessKeyCombo;/***/},/* 168 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);//  https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent\n//  https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\nvar MouseManager=new Class({initialize:function MouseManager(inputManager){this.manager=inputManager;// @property {boolean} capture - If true the DOM mouse events will have event.preventDefault applied to them, if false they will propagate fully.\nthis.capture=false;this.enabled=false;this.target;this.handler;},boot:function boot(){var config=this.manager.config;this.enabled=config.inputMouse;this.target=config.inputMouseEventTarget;if(!this.target){this.target=this.manager.game.canvas;}if(config.disableContextMenu){this.disableContextMenu();}if(this.enabled){this.startListeners();}},disableContextMenu:function disableContextMenu(){document.body.addEventListener('contextmenu',function(event){event.preventDefault();return false;});return this;},startListeners:function startListeners(){var queue=this.manager.queue;var _this=this;var handler=function handler(event){if(event.preventDefaulted){// Do nothing if event already handled\nreturn;}queue.push(event);if(_this.capture){event.preventDefault();}};this.handler=handler;this.target.addEventListener('mousemove',handler,false);this.target.addEventListener('mousedown',handler,false);this.target.addEventListener('mouseup',handler,false);},stopListeners:function stopListeners(){this.target.removeEventListener('mousemove',this.handler);this.target.removeEventListener('mousedown',this.handler);this.target.removeEventListener('mouseup',this.handler);}});module.exports=MouseManager;/***/},/* 169 *//***/function(module,exports){//  x/y MUST be translated before being passed to this function, unless the gameObject is guarnateed to\n//  be not rotated or scaled in any way\nvar PointWithinGameObject=function PointWithinGameObject(gameObject,x,y){if(!gameObject.hitArea){return false;}//  Normalize the origin\nx+=gameObject.displayOriginX;y+=gameObject.displayOriginY;return gameObject.hitAreaCallback(gameObject.hitArea,x,y);};module.exports=PointWithinGameObject;/***/},/* 170 *//***/function(module,exports,__webpack_require__){var CameraManager=__webpack_require__(475);var Class=__webpack_require__(0);var Clock=__webpack_require__(504);var Data=__webpack_require__(163);var DisplayList=__webpack_require__(172);var EventDispatcher=__webpack_require__(25);var GameObjectCreator=__webpack_require__(506);var GameObjectFactory=__webpack_require__(569);var InputManager=__webpack_require__(595);var Loader=__webpack_require__(649);var PoolManager=__webpack_require__(666);var Settings=__webpack_require__(668);var StableSort=__webpack_require__(671);var SceneManager=__webpack_require__(672);var TweenManager=__webpack_require__(673);var UpdateList=__webpack_require__(692);var Systems=new Class({initialize:function Systems(scene,config){this.scene=scene;this.config=config;this.settings=Settings.create(config);this.sortChildrenFlag=false;//  Set by the GlobalSceneManager\nthis.mask=null;this.canvas;this.context;//  CORE (GLOBAL) SYSTEMS / PROPERTIES\nthis.game;this.anims;this.cache;this.registry;this.textures;//  Reference to Scene specific managers (Factory, Tweens, Loader, Physics, etc)\nthis.add;this.cameras;this.events;this.inputManager;this.load;this.make;this.pool;this.sceneManager;this.time;this.tweens;//  Scene properties\nthis.updateList;this.displayList;this.data;},init:function init(game){var scene=this.scene;this.game=game;//  Game (Global) level managers\nthis.anims=game.anims;this.cache=game.cache;this.registry=game.registry;this.textures=game.textures;//  Scene specific properties (transform, data, children, etc)\nthis.inputManager=new InputManager(scene,game);this.updateList=new UpdateList(scene);this.displayList=new DisplayList(scene);this.data=new Data(scene);//  Scene specific managers (Factory, Tweens, Loader, Physics, etc)\nthis.add=new GameObjectFactory(scene);this.cameras=new CameraManager(scene);this.events=new EventDispatcher();this.load=new Loader(scene);this.make=new GameObjectCreator(scene);this.pool=new PoolManager(scene);this.sceneManager=new SceneManager(scene,game);this.time=new Clock(scene);this.tweens=new TweenManager(scene);//  Sometimes the managers need access to a system created after them\nthis.inputManager.boot();this.inject();},inject:function inject(){var map=this.settings.map;for(var key in map){if(key==='sys'){continue;}this.scene[map[key]]=this[key];}},step:function step(time,delta){//  Are there any pending SceneManager actions?\nthis.sceneManager.update();if(!this.settings.active){return;}this.pool.begin(time);this.updateList.begin(time);this.time.begin(time);this.tweens.begin(time);this.inputManager.begin(time);this.pool.update(time,delta);this.updateList.update(time,delta);this.time.update(time,delta);this.tweens.update(time,delta);this.cameras.update(time,delta);this.inputManager.update(time,delta);this.scene.update.call(this.scene,time,delta);},render:function render(interpolation,renderer){if(!this.settings.visible){return;}this.depthSort();this.cameras.render(renderer,this.displayList,interpolation);},//  Force a sort of the display list on the next render\nqueueDepthSort:function queueDepthSort(){this.sortChildrenFlag=true;},//  Immediately sorts the display list if the flag is set\ndepthSort:function depthSort(){if(this.sortChildrenFlag){StableSort.inplace(this.displayList.list,this.sortZ);this.sortChildrenFlag=false;}},sortZ:function sortZ(childA,childB){return childA._z-childB._z;},//  A paused Scene still renders, it just doesn't run ANY of its update handlers or systems\npause:function pause(){//  Was paused by the GlobalSceneManager\nthis.settings.active=false;if(this.scene.pause){this.scene.pause.call(this.scene);}},resume:function resume(){//  Was resumed by the GlobalSceneManager\nthis.settings.active=true;if(this.scene.resume){this.scene.resume.call(this.scene);}},sleep:function sleep(){//  Was sent to sleep by the GlobalSceneManager\nthis.settings.active=false;this.settings.visible=false;if(this.scene.sleep){this.scene.sleep.call(this.scene);}},wake:function wake(){//  Was woken up by the GlobalSceneManager\nthis.settings.active=true;this.settings.visible=true;if(this.scene.wake){this.scene.wake.call(this.scene);}},start:function start(data){//  Was started by the GlobalSceneManager\nthis.settings.data=data;this.settings.active=true;this.settings.visible=true;},shutdown:function shutdown(){//  Was stopped by the GlobalSceneManager\nthis.settings.active=false;this.settings.visible=false;this.pool.shutdown();this.displayList.shutdown();this.updateList.shutdown();this.time.shutdown();this.tweens.shutdown();if(this.scene.shutdown){this.scene.shutdown.call(this.scene);}},//  Game level nuke\ndestroy:function destroy(){//  TODO\nthis.pool.destroy();this.time.destroy();this.tweens.destroy();//  etc\nif(this.scene.destroy){this.scene.destroy.call(this.scene);}}});module.exports=Systems;/***/},/* 171 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Rectangle=__webpack_require__(14);var TransformMatrix=__webpack_require__(13);var ValueToColor=__webpack_require__(52);var Camera=new Class({initialize:function Camera(x,y,width,height){this.scene;this.name='';this.x=x;this.y=y;this.width=width;this.height=height;this.roundPixels=false;//  Bounds\nthis.useBounds=false;this._bounds=new Rectangle();this.inputEnabled=true;this.scrollX=0.0;this.scrollY=0.0;this.zoom=1.0;this.rotation=0.0;this.matrix=new TransformMatrix(1,0,0,1,0,0);this.transparent=true;this.clearBeforeRender=true;this.backgroundColor=ValueToColor('rgba(0,0,0,0)');this.disableCull=false;this.culledObjects=[];//  Shake\nthis._shakeDuration=0;this._shakeIntensity=0;this._shakeOffsetX=0;this._shakeOffsetY=0;//  Fade\nthis._fadeDuration=0;this._fadeRed=0;this._fadeGreen=0;this._fadeBlue=0;this._fadeAlpha=0;//  Flash\nthis._flashDuration=0;this._flashRed=1;this._flashGreen=1;this._flashBlue=1;this._flashAlpha=0;//  Follow\nthis._follow=null;},cameraToScreen:__webpack_require__(476),centerToBounds:__webpack_require__(477),centerToSize:__webpack_require__(478),cull:__webpack_require__(479),cullHitTest:__webpack_require__(480),destroy:__webpack_require__(481),fade:__webpack_require__(482),flash:__webpack_require__(483),preRender:__webpack_require__(484),removeBounds:__webpack_require__(485),setBackgroundColor:__webpack_require__(486),setBounds:__webpack_require__(487),setName:__webpack_require__(488),setPosition:__webpack_require__(489),setRotation:__webpack_require__(490),setRoundPixels:__webpack_require__(491),setScene:__webpack_require__(492),setScroll:__webpack_require__(493),setSize:__webpack_require__(494),setViewport:__webpack_require__(495),setZoom:__webpack_require__(496),shake:__webpack_require__(497),startFollow:__webpack_require__(498),stopFollow:__webpack_require__(499),toJSON:__webpack_require__(500),update:__webpack_require__(501)});module.exports=Camera;/***/},/* 172 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var DisplayList=new Class({initialize:function DisplayList(scene){//  The Scene that owns this plugin\nthis.scene=scene;//  The objects that belong to this collection.\n//  The equivalent of the old `Sprite.children` array.\nthis.list=[];this.position=0;},add:function add(child){if(child.parent===this.scene){return child;}else if(child.parent){child.parent.children.remove(child);}child.parent=this.scene;this.list.push(child);return child;},addAt:function addAt(child,index){if(index===undefined){index=0;}if(this.list.length===0){return this.add(child);}if(index>=0&&index<=this.list.length){if(child.parent){child.parent.children.remove(child);}child.parent=this.scene;this.list.splice(index,0,child);}return child;},addMultiple:function addMultiple(children){if(Array.isArray(children)){for(var i=0;i<children.length;i++){this.add(children[i]);}}return children;},getAt:function getAt(index){return this.list[index];},getIndex:function getIndex(child){//  Return -1 if given child isn't a child of this parent\nreturn this.list.indexOf(child);},//  Given an array of Game Objects, sort the array and return it,\n//  so that the objects are in index order with the lowest at the bottom.\nsortGameObjects:function sortGameObjects(gameObjects){if(gameObjects===undefined){gameObjects=this.list;}this.scene.sys.depthSort();return gameObjects.sort(this.sortIndexHandler.bind(this));},//  Note that the given array is sorted in place, even though it isn't returned directly it will still be updated.\ngetTopGameObject:function getTopGameObject(gameObjects){this.sortGameObjects(gameObjects);return gameObjects[gameObjects.length-1];},//  Return the child lowest down the display list (with the smallest index)\nsortIndexHandler:function sortIndexHandler(childA,childB){//  The lower the index, the lower down the display list they are\nvar indexA=this.getIndex(childA);var indexB=this.getIndex(childB);if(indexA<indexB){return-1;}else if(indexA>indexB){return 1;}//  Technically this shouldn't happen, but if the GO wasn't part of this display list then it'll\n//  have an index of -1, so in some cases it can\nreturn 0;},/**\n    * Gets the first item from the set based on the property strictly equaling the value given.\n    * Returns null if not found.\n    *\n    * @method Phaser.ArraySet#getByKey\n    * @param {string} property - The property to check against the value.\n    * @param {any} value - The value to check if the property strictly equals.\n    * @return {any} The item that was found, or null if nothing matched.\n    */getByKey:function getByKey(property,value){for(var i=0;i<this.list.length;i++){if(this.list[i][property]===value){return this.list[i];}}return null;},/**\n    * Searches the Group for the first instance of a child with the `name`\n    * property matching the given argument. Should more than one child have\n    * the same name only the first instance is returned.\n    *\n    * @method Phaser.Group#getByName\n    * @param {string} name - The name to search for.\n    * @return {any} The first child with a matching name, or null if none were found.\n    */getByName:function getByName(name){return this.getByKey('name',name);},/**\n    * Returns a random child from the group.\n    *\n    * @method Phaser.Group#getRandom\n    * @param {integer} [startIndex=0] - Offset from the front of the group (lowest child).\n    * @param {integer} [length=(to top)] - Restriction on the number of values you want to randomly select from.\n    * @return {any} A random child of this Group.\n    */getRandom:function getRandom(startIndex,length){if(startIndex===undefined){startIndex=0;}if(length===undefined){length=this.list.length;}if(length===0||length>this.list.length){return null;}var randomIndex=startIndex+Math.floor(Math.random()*length);return this.list[randomIndex];},getFirst:function getFirst(property,value,startIndex,endIndex){if(startIndex===undefined){startIndex=0;}if(endIndex===undefined){endIndex=this.list.length;}for(var i=startIndex;i<endIndex;i++){var child=this.list[i];if(child[property]===value){return child;}}return null;},/**\n    * Returns all children in this Group.\n    *\n    * You can optionally specify a matching criteria using the `property` and `value` arguments.\n    *\n    * For example: `getAll('exists', true)` would return only children that have their exists property set.\n    *\n    * Optionally you can specify a start and end index. For example if this Group had 100 children,\n    * and you set `startIndex` to 0 and `endIndex` to 50, it would return matches from only\n    * the first 50 children in the Group.\n    *\n    * @method Phaser.Group#getAll\n    * @param {string} [property] - An optional property to test against the value argument.\n    * @param {any} [value] - If property is set then Child.property must strictly equal this value to be included in the results.\n    * @param {integer} [startIndex=0] - The first child index to start the search from.\n    * @param {integer} [endIndex] - The last child index to search up until.\n    * @return {any} A random existing child of this Group.\n    */getAll:function getAll(property,value,startIndex,endIndex){if(startIndex===undefined){startIndex=0;}if(endIndex===undefined){endIndex=this.list.length;}var output=[];for(var i=startIndex;i<endIndex;i++){var child=this.list[i];if(property){if(child[property]===value){output.push(child);}}else{output.push(child);}}return output;},swap:function swap(child1,child2){if(child1===child2){return;}var index1=this.getIndex(child1);var index2=this.getIndex(child2);if(index1<0||index2<0){throw new Error('DisplayList.swap: Supplied objects must be children of the same list');}this.list[index1]=child2;this.list[index2]=child1;},//   was setIndex\nmoveTo:function moveTo(child,index){var currentIndex=this.getIndex(child);if(currentIndex===-1||index<0||index>=this.list.length){throw new Error('DisplayList.moveTo: The supplied index is out of bounds');}//  Remove\nthis.list.splice(currentIndex,1);//  Add in new location\nthis.list.splice(index,0,child);return child;},remove:function remove(child){var index=this.list.indexOf(child);if(index!==-1){child.parent=undefined;this.list.splice(index,1);}return child;},removeAt:function removeAt(index){var child=this.list[index];if(child){child.parent=undefined;this.children.splice(index,1);}return child;},removeBetween:function removeBetween(beginIndex,endIndex){if(beginIndex===undefined){beginIndex=0;}if(endIndex===undefined){endIndex=this.list.length;}var range=endIndex-beginIndex;if(range>0&&range<=endIndex){var removed=this.list.splice(beginIndex,range);for(var i=0;i<removed.length;i++){removed[i].parent=undefined;}return removed;}else if(range===0&&this.list.length===0){return[];}else{throw new Error('DisplayList.removeBetween: Range Error, numeric values are outside the acceptable range');}},/**\n    * Removes all the items.\n    *\n    * @method Phaser.ArraySet#removeAll\n    */removeAll:function removeAll(){var i=this.list.length;while(i--){this.remove(this.list[i]);}return this;},shutdown:function shutdown(){this.removeAll();},//  Check to see if the given child is a child of this object, at any depth (recursively scans up the tree)\ncontains:function contains(child){if(!child){return false;}else if(child.parent===this.scene){return true;}else{return this.contains(child.parent);}},/**\n    * Brings the given child to the top of this group so it renders above all other children.\n    *\n    * @method Phaser.Group#bringToTop\n    * @param {any} child - The child to bring to the top of this group.\n    * @return {any} The child that was moved.\n    */bringToTop:function bringToTop(child){if(child.parent===this.scene&&this.getIndex(child)<this.list.length){this.remove(child);this.add(child);}return child;},/**\n    * Sends the given child to the bottom of this group so it renders below all other children.\n    *\n    * @method Phaser.Group#sendToBack\n    * @param {any} child - The child to send to the bottom of this group.\n    * @return {any} The child that was moved.\n    */sendToBack:function sendToBack(child){if(child.parent===this.scene&&this.getIndex(child)>0){this.remove(child);this.addAt(child,0);}return child;},/**\n    * Moves the given child up one place in this group unless it's already at the top.\n    *\n    * @method Phaser.Group#moveUp\n    * @param {any} child - The child to move up in the group.\n    * @return {any} The child that was moved.\n    */moveUp:function moveUp(child){var a=this.getIndex(child);if(a!==-1&&a<this.list.length-1){var b=this.getAt(a+1);if(b){this.swap(child,b);}}return child;},/**\n    * Moves the given child down one place in this group unless it's already at the bottom.\n    *\n    * @method Phaser.Group#moveDown\n    * @param {any} child - The child to move down in the group.\n    * @return {any} The child that was moved.\n    */moveDown:function moveDown(child){var a=this.getIndex(child);if(a>0){var b=this.getAt(a-1);if(b){this.swap(child,b);}}return child;},/**\n    * Reverses all children in this group.\n    *\n    * This operation applies only to immediate children and does not propagate to subgroups.\n    *\n    * @method Phaser.Group#reverse\n    */reverse:function reverse(){this.list.reverse();return this;},shuffle:function shuffle(){for(var i=this.list.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=this.list[i];this.list[i]=this.list[j];this.list[j]=temp;}return this;},/**\n    * Replaces a child of this Group with the given newChild. The newChild cannot be a member of this Group.\n    *\n    * If `Group.enableBody` is set, then a physics body will be created on the object, so long as one does not already exist.\n    *\n    * If `Group.inputEnableChildren` is set, then an Input Handler will be created on the object, so long as one does not already exist.\n    *\n    * @method Phaser.Group#replace\n    * @param {any} oldChild - The child in this group that will be replaced.\n    * @param {any} newChild - The child to be inserted into this group.\n    * @return {any} Returns the oldChild that was replaced within this group.\n    */replace:function replace(oldChild,newChild){var index=this.getIndex(oldChild);if(index!==-1){if(newChild.parent){newChild.parent.remove(newChild);}this.remove(oldChild);this.addAt(newChild,index);return oldChild;}},//  Swaps a child from another parent, with one from this parent.\n//  child1 = the child of THIS parent\n//  child2 = the child of the OTHER parent\nexchange:function exchange(child1,child2){if(child1===child2||child1.parent===child2.parent){return;}var parentChildren=child2.parent.children;var index1=this.getIndex(child1);var index2=parentChildren.getIndex(child2);if(index1<0||index2<0){throw new Error('Children.swap: Supplied objects must be children of parents');}this.remove(child1);parentChildren.remove(child2);this.addAt(child2,index1);parentChildren.addAt(child1,index2);},/**\n    * Checks for the item within this list.\n    *\n    * @method Phaser.ArraySet#exists\n    * @param {any} item - The element to get the list index for.\n    * @return {boolean} True if the item is found in the list, otherwise false.\n    */exists:function exists(child){return this.list.indexOf(child)>-1;},/**\n    * Sets the property `key` to the given value on all members of this list.\n    *\n    * @method Phaser.ArraySet#setAll\n    * @param {any} key - The property of the item to set.\n    * @param {any} value - The value to set the property to.\n    */setAll:function setAll(key,value){for(var i=0;i<this.list.length;i++){if(this.list[i]){this.list[i][key]=value;}}},/**\n    * Passes all children to the given callback.\n    *\n    * @method each\n    * @param {function} callback - The function to call.\n    * @param {object} [thisArg] - Value to use as `this` when executing callback.\n    * @param {...*} [arguments] - Additional arguments that will be passed to the callback, after the child.\n    */each:function each(callback,thisArg){var args=[null];for(var i=1;i<arguments.length;i++){args.push(arguments[i]);}for(i=0;i<this.list.length;i++){args[0]=this.list[i];callback.apply(thisArg,args);}},/**\n    * Moves all children from this Group to the Group given.\n    *\n    * @method Phaser.Group#moveAll\n    * @param {Phaser.Group} group - The new Group to which the children will be moved to.\n    * @param {boolean} [silent=false] - If true the children will not dispatch the `onAddedToGroup` event for the new Group.\n    * @return {Phaser.Group} The Group to which all the children were moved.\n    */reparent:function reparent(newParent){if(newParent!==this.scene){for(var i=0;i<this.list.length;i++){var child=this.remove(this.list[i]);newParent.add(child);}}return newParent;},length:{get:function get(){return this.list.length;}},first:{get:function get(){this.position=0;if(this.list.length>0){return this.list[0];}else{return null;}}},last:{get:function get(){if(this.list.length>0){this.position=this.list.length-1;return this.list[this.position];}else{return null;}}},next:{get:function get(){if(this.position<this.list.length){this.position++;return this.list[this.position];}else{return null;}}},previous:{get:function get(){if(this.position>0){this.position--;return this.list[this.position];}else{return null;}}}});module.exports=DisplayList;/***/},/* 173 *//***/function(module,exports){var GetBitmapTextSize=function GetBitmapTextSize(src,round){var text=src.text;var textLength=text.length;var bx=Number.MAX_VALUE;var by=Number.MAX_VALUE;var bw=0;var bh=0;var chars=src.fontData.chars;var lineHeight=src.fontData.lineHeight;var xAdvance=0;var yAdvance=0;var indexCount=0;var charCode=0;var glyph=null;var glyphW=0;var glyphH=0;var x=0;var y=0;var lastGlyph=null;var lastCharCode=0;for(var index=0;index<textLength;++index){charCode=text.charCodeAt(index);if(charCode===10){xAdvance=0;indexCount=0;yAdvance+=lineHeight;lastGlyph=null;continue;}glyph=chars[charCode];if(!glyph){continue;}glyphW=glyph.width;glyphH=glyph.height;x=indexCount+glyph.xOffset+xAdvance;y=glyph.yOffset+yAdvance;if(lastGlyph!==null){var kerningOffset=glyph.kerning[lastCharCode];x+=kerningOffset!==undefined?kerningOffset:0;}if(bx>x){bx=x;}if(by>y){by=y;}var gw=x+glyphW-bx;var gh=y+glyphH-by;if(bw<gw){bw=gw;}if(bh<gh){bh=gh;}xAdvance+=glyph.xAdvance;indexCount+=1;lastGlyph=glyph;lastCharCode=charCode;}var scale=src.fontSize/src.fontData.size;var sx=scale*src.scaleX;var sy=scale*src.scaleY;var out={local:{x:bx*scale,y:by*scale,width:bw*scale,height:bh*scale},global:{x:src.x+bx*sx,y:src.y+by*sy,width:bw*sx,height:bh*sy}};if(round){out.local.x=Math.round(out.local.x);out.local.y=Math.round(out.local.y);out.local.width=Math.round(out.local.width);out.local.height=Math.round(out.local.height);out.global.x=Math.round(out.global.x);out.global.y=Math.round(out.global.y);out.global.width=Math.round(out.global.width);out.global.height=Math.round(out.global.height);}return out;};module.exports=GetBitmapTextSize;/***/},/* 174 *//***/function(module,exports,__webpack_require__){var Shuffle=__webpack_require__(175);var GetValue=__webpack_require__(2);var BuildChunk=function BuildChunk(a,b,qty){var out=[];for(var aIndex=0;aIndex<a.length;aIndex++){for(var bIndex=0;bIndex<b.length;bIndex++){for(var i=0;i<qty;i++){out.push({a:a[aIndex],b:b[bIndex]});}}}return out;};//  options = repeat, random, randomB, yoyo, max, qty\n//  Range ([a,b,c], [1,2,3]) =\n//  a1, a2, a3, b1, b2, b3, c1, c2, c3\n//  Range ([a,b], [1,2,3], qty = 3) =\n//  a1, a1, a1, a2, a2, a2, a3, a3, a3, b1, b1, b1, b2, b2, b2, b3, b3, b3\n//  Range ([a,b,c], [1,2,3], repeat x1) =\n//  a1, a2, a3, b1, b2, b3, c1, c2, c3, a1, a2, a3, b1, b2, b3, c1, c2, c3\n//  Range ([a,b], [1,2], repeat -1 = endless, max = 14) =\n//  Maybe if max is set then repeat goes to -1 automatically?\n//  a1, a2, b1, b2, a1, a2, b1, b2, a1, a2, b1, b2, a1, a2 (capped at 14 elements)\n//  Range ([a], [1,2,3,4,5], random = true) =\n//  a4, a1, a5, a2, a3\n//  Range ([a, b], [1,2,3], random = true) =\n//  b3, a2, a1, b1, a3, b2\n//  Range ([a, b, c], [1,2,3], randomB = true) =\n//  a3, a1, a2, b2, b3, b1, c1, c3, c2\n//  Range ([a], [1,2,3,4,5], yoyo = true) =\n//  a1, a2, a3, a4, a5, a5, a4, a3, a2, a1\n//  Range ([a, b], [1,2,3], yoyo = true) =\n//  a1, a2, a3, b1, b2, b3, b3, b2, b1, a3, a2, a1\nvar Range=function Range(a,b,options){var max=GetValue(options,'max',0);var qty=GetValue(options,'qty',1);var random=GetValue(options,'random',false);var randomB=GetValue(options,'randomB',false);var repeat=GetValue(options,'repeat',0);var yoyo=GetValue(options,'yoyo',false);var out=[];if(randomB){Shuffle(b);}//  Endless repeat, so limit by max\nif(repeat===-1){if(max===0){repeat=0;}else{//  Work out how many repeats we need\nvar total=a.length*b.length*qty;if(yoyo){total*=2;}repeat=Math.ceil(max/total);}}for(var i=0;i<=repeat;i++){var chunk=BuildChunk(a,b,qty);if(random){Shuffle(chunk);}out=out.concat(chunk);if(yoyo){chunk.reverse();out=out.concat(chunk);}}if(max){out.splice(max);}return out;};module.exports=Range;/***/},/* 175 *//***/function(module,exports){/**\n* A standard Fisher-Yates Array shuffle implementation which modifies the array in place.\n*\n* @method\n* @param {any[]} array - The array to shuffle.\n* @return {any[]} The original array, now shuffled.\n*/var Shuffle=function Shuffle(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=array[i];array[i]=array[j];array[j]=temp;}return array;};module.exports=Shuffle;/***/},/* 176 *//***/function(module,exports){function getValue(node,attribute){return parseInt(node.getAttribute(attribute),10);}var ParseXMLBitmapFont=function ParseXMLBitmapFont(xml,xSpacing,ySpacing,frame){if(xSpacing===undefined){xSpacing=0;}if(ySpacing===undefined){ySpacing=0;}var data={};var info=xml.getElementsByTagName('info')[0];var common=xml.getElementsByTagName('common')[0];data.font=info.getAttribute('face');data.size=getValue(info,'size');data.lineHeight=getValue(common,'lineHeight')+ySpacing;data.chars={};var letters=xml.getElementsByTagName('char');var x=0;var y=0;var cx=0;var cy=0;var adjustForTrim=frame!==undefined&&frame.trimmed;if(adjustForTrim){var top=frame.height;var left=frame.width;}var diff=0;for(var i=0;i<letters.length;i++){var node=letters[i];var charCode=getValue(node,'id');var gx=getValue(node,'x');var gy=getValue(node,'y');var gw=getValue(node,'width');var gh=getValue(node,'height');//  Handle frame trim issues\nif(adjustForTrim){// if (gx + gw > frame.width)\n// {\n//     diff = frame.width - (gx + gw);\n// gw -= diff;\n// }\n// if (gy + gh > frame.height)\n// {\n//     diff = frame.height - (gy + gh);\n// gh -= diff;\n// }\nif(gx<left){left=gx;}if(gy<top){top=gy;}}data.chars[charCode]={x:gx,y:gy,width:gw,height:gh,centerX:Math.floor(gw/2),centerY:Math.floor(gh/2),xOffset:getValue(node,'xoffset'),yOffset:getValue(node,'yoffset'),xAdvance:getValue(node,'xadvance')+xSpacing,data:{},kerning:{}};}if(adjustForTrim&&top!==0&&left!==0){// console.log('top and left', top, left, frame.x, frame.y);\n//  Now we know the top and left coordinates of the glyphs in the original data\n//  so we can work out how much to adjust the glyphs by\nfor(var code in data.chars){var glyph=data.chars[code];glyph.x-=frame.x;glyph.y-=frame.y;}}var kernings=xml.getElementsByTagName('kerning');for(i=0;i<kernings.length;i++){var kern=kernings[i];var first=getValue(kern,'first');var second=getValue(kern,'second');var amount=getValue(kern,'amount');data.chars[second].kerning[first]=amount;}return data;};module.exports=ParseXMLBitmapFont;/***/},/* 177 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GameObject=__webpack_require__(6);var Components=__webpack_require__(3);var Render=__webpack_require__(587);var Light=__webpack_require__(592);var SpriteNormalPair=__webpack_require__(593);var WebGLSupportedExtensions=__webpack_require__(178);var TexturedAndNormalizedTintedShader=__webpack_require__(38);var Const=__webpack_require__(594);var Matrix=__webpack_require__(13);var TempMatrix=new Matrix();// http://cpetry.github.io/NormalMap-Online/\nvar LightLayer=new Class({Extends:GameObject,Mixins:[Components.Alpha,Components.BlendMode,Components.Origin,Components.RenderTarget,Components.ScrollFactor,Components.Visible,Render],initialize:function LightLayer(scene){GameObject.call(this,scene,'LightLayer');var resourceManager=scene.game.renderer.resourceManager;this.renderer=scene.game.renderer;this.passShader=null;this.gl=null;this.deferred=WebGLSupportedExtensions.has('WEBGL_draw_buffers');this.ambientLightColorR=0.0;this.ambientLightColorG=0.0;this.ambientLightColorB=0.0;this.lightPool=[];this.spritePool=[];this.lights=[];this.sprites=[];this.lightsLocations=[];this._z=0;if(resourceManager!==undefined&&!this.deferred){this.gl=scene.game.renderer.gl;this.passShader=resourceManager.createShader('Phong2DShaderForward',{vert:TexturedAndNormalizedTintedShader.vert,frag:'\\n                precision mediump float;\\n\\n                struct Light\\n                {\\n                    vec3 position;\\n                    vec3 color;\\n                    float attenuation;\\n                };\\n\\n                uniform vec2 uResolution;\\n                uniform sampler2D uMainTexture;\\n                uniform sampler2D uNormTexture;\\n                uniform vec3 uAmbientLightColor;\\n                uniform Light uLights['+Const.MAX_LIGHTS+'];\\n\\n                varying vec2 v_tex_coord;\\n                varying vec3 v_color;\\n                varying float v_alpha;\\n                \\n                void main()\\n                {\\n                    vec3 finalColor = vec3(0.0, 0.0, 0.0);\\n                    vec4 spriteColor = texture2D(uMainTexture, v_tex_coord) * vec4(v_color, v_alpha);\\n                    vec3 spriteNormal = texture2D(uNormTexture, v_tex_coord).rgb;\\n                    vec3 normal = normalize(vec3(spriteNormal * 2.0 - 1.0));\\n\\n                    for (int index = 0; index < '+Const.MAX_LIGHTS+'; ++index)\\n                    {\\n                        Light light = uLights[index];\\n                        float lightY = uResolution.y - light.position.y;\\n                        vec3 lightDir = vec3((vec2(light.position.x, lightY) / uResolution) - (gl_FragCoord.xy / uResolution), light.position.z); \\n                        vec3 lightNormal = normalize(lightDir);\\n                        float distToSurf = length(lightDir);\\n                        float diffuseFactor = max(dot(normal, lightNormal), 0.0);\\n                        float attenuation = 1.0 / (1.0 + light.attenuation * (distToSurf * distToSurf));\\n                        vec3 diffuse = light.color * spriteColor.rgb * diffuseFactor;\\n                        finalColor += attenuation * diffuse;\\n                    }\\n\\n                    gl_FragColor = vec4(uAmbientLightColor + finalColor, spriteColor.a);\\n                }                \\n            '});this.ambientLightColorLoc=this.passShader.getUniformLocation('uAmbientLightColor');this.uMainTextureLoc=this.passShader.getUniformLocation('uMainTexture');this.uNormTextureLoc=this.passShader.getUniformLocation('uNormTexture');this.uResolutionLoc=this.passShader.getUniformLocation('uResolution');this.passShader.setConstantInt1(this.uMainTextureLoc,0);this.passShader.setConstantInt1(this.uNormTextureLoc,1);for(var index=0;index<Const.MAX_LIGHTS;++index){this.lightsLocations[index]={position:this.passShader.getUniformLocation('uLights['+index+'].position'),color:this.passShader.getUniformLocation('uLights['+index+'].color'),attenuation:this.passShader.getUniformLocation('uLights['+index+'].attenuation')};}}this.setOrigin(0,0);},get z(){return this._z;},set z(newZ){this._z=newZ;},setAmbientLightColor:function setAmbientLightColor(r,g,b){this.ambientLightColorR=r;this.ambientLightColorG=g;this.ambientLightColorB=b;},getMaxLights:function getMaxLights(){return Const.MAX_LIGHTS;},/* This will probably be removed later */addSprite:function addSprite(sprite,normalTexture){var spriteNormalPair;if(this.spritePool.length>0){spriteNormalPair=this.spritePool.pop();spriteNormalPair.set(sprite,normalTexture);}else{spriteNormalPair=new SpriteNormalPair(sprite,normalTexture);}this.scene.sys.displayList.remove(sprite);this.sprites.push(spriteNormalPair);},removeSprite:function removeSprite(sprite){var length=this.sprites.length;for(var index=0;index<length;++index){if(this.sprites[index].spriteRef===sprite){this.spritePool.push(this.sprites[index]);this.sprites.splice(index,1);break;}}return sprite;},addLight:function addLight(x,y,z,r,g,b,attenuation){if(this.lights.length<Const.MAX_LIGHTS){var light=null;if(this.lightPool.length>0){light=this.lightPool.pop();light.set(x,y,z,r,g,b,attenuation);}else{light=new Light(x,y,z,r,g,b,attenuation);}this.lights.push(light);return light;}return null;},removeLight:function removeLight(light){var index=this.lights.indexOf(light);if(index>=0){this.lightPool.push(light);this.lights.splice(index,1);}},updateLights:function updateLights(renderer,camera){if(this.gl!==null){var locations=this.lightsLocations;var lights=this.lights;var length=lights.length;var gl=this.gl;var passShader=this.passShader;var point={x:0,y:0};passShader.setConstantFloat2(this.uResolutionLoc,renderer.width,renderer.height);passShader.setConstantFloat3(this.ambientLightColorLoc,this.ambientLightColorR,this.ambientLightColorG,this.ambientLightColorB);TempMatrix.applyITRS(camera.x,camera.y,camera.rotation,camera.zoom,camera.zoom);for(var index=0;index<length;++index){var light=lights[index];TempMatrix.transformPoint(light.x,light.y,point);passShader.setConstantFloat3(locations[index].position,point.x-camera.scrollX*light.scrollFactorX,point.y-camera.scrollY*light.scrollFactorY,light.z);passShader.setConstantFloat3(locations[index].color,light.r,light.g,light.b);passShader.setConstantFloat1(locations[index].attenuation,light.attenuation);}}}});module.exports=LightLayer;/***/},/* 178 *//***/function(module,exports){var WebGLSupportedExtensions=function(){var gl=document.createElement('canvas').getContext('webgl');var extensionList=gl?gl.getSupportedExtensions():[];return{has:function has(name){return false;//extensionList.indexOf(name) >= 0;\n}};}();module.exports=WebGLSupportedExtensions;/***/},/* 179 *//***/function(module,exports,__webpack_require__){var NOOP=__webpack_require__(28);//  Phaser.Input.InteractiveObject\nvar InteractiveObject=function InteractiveObject(gameObject,hitArea,hitAreaCallback){return{gameObject:gameObject,enabled:true,draggable:false,dropZone:false,target:null,camera:null,hitArea:hitArea,hitAreaCallback:hitAreaCallback,localX:0,localY:0,//  0 = Not being dragged\n//  1 = Being checked for dragging\n//  2 = Being dragged\ndragState:0,dragStartX:0,dragStartY:0,dragX:0,dragY:0,//  Callbacks\ncallbackContext:gameObject,//  gameObject, pointer, x, y\nonUp:NOOP,//  gameObject, pointer, x, y\nonDown:NOOP,//  gameObject, pointer, x, y\nonOver:NOOP,//  gameObject, pointer\nonOut:NOOP,//  gameObject, pointer, x, y\nonMove:NOOP,onDragStart:NOOP,onDrag:NOOP,onDragEnd:NOOP};};module.exports=InteractiveObject;/***/},/* 180 *//***/function(module,exports){/**\n* Create an array representing the range of numbers (usually integers), between, and inclusive of,\n* the given `start` and `end` arguments. For example:\n*\n* `var array = numberArray(2, 4); // array = [2, 3, 4]`\n* `var array = numberArray(0, 9); // array = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]`\n* \n* This is equivalent to `numberArrayStep(start, end, 1)`.\n* \n* You can optionally provide a prefix and / or suffix string. If given the array will contain\n* strings, not integers. For example:\n* \n* `var array = numberArray(1, 4, 'Level '); // array = [\"Level 1\", \"Level 2\", \"Level 3\", \"Level 4\"]`\n* `var array = numberArray(5, 7, 'HD-', '.png'); // array = [\"HD-5.png\", \"HD-6.png\", \"HD-7.png\"]`\n*\n* @method Phaser.ArrayUtils#numberArray\n* @param {number} start - The minimum value the array starts with.\n* @param {number} end - The maximum value the array contains.\n* @param {string} [prefix] - Optional prefix to place before the number. If provided the array will contain strings, not integers.\n* @param {string} [suffix] - Optional suffix to place after the number. If provided the array will contain strings, not integers.\n* @return {number[]|string[]} The array of number values, or strings if a prefix or suffix was provided.\n*/var NumberArray=function NumberArray(start,end,prefix,suffix){var result=[];for(var i=start;i<=end;i++){if(prefix||suffix){var key=prefix?prefix+i.toString():i.toString();if(suffix){key=key.concat(suffix);}result.push(key);}else{result.push(i);}}return result;};module.exports=NumberArray;/***/},/* 181 *//***/function(module,exports,__webpack_require__){var XHRSettings=__webpack_require__(87);//  Takes two XHR Objects and creates a new object\n//  The new object is based on global initially, but any setting in\n//  local overrides the global value.\nvar MergeXHRSettings=function MergeXHRSettings(global,local){var output=global===undefined?XHRSettings():Object.assign(global);if(local){for(var setting in local){if(local[setting]!==undefined){output[setting]=local[setting];}}}return output;};module.exports=MergeXHRSettings;/***/},/* 182 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);var ParseXML=__webpack_require__(128);//  Phaser.Loader.FileTypes.XMLFile\nvar XMLFile=new Class({Extends:File,initialize:function XMLFile(key,url,path,xhrSettings){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'xml',extension:GetFastValue(key,'extension','xml'),responseType:'text',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=ParseXML(this.xhrLoader.responseText);if(this.data===null){throw new Error('XMLFile: Invalid XML');}this.onComplete();callback(this);}});XMLFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new XMLFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new XMLFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=XMLFile;/***/},/* 183 *//***/function(module,exports){var RectangleToRectangle=function RectangleToRectangle(rectA,rectB){if(rectA.width<=0||rectA.height<=0||rectB.width<=0||rectB.height<=0){return false;}return!(rectA.right<rectB.x||rectA.bottom<rectB.y||rectA.x>rectB.right||rectA.y>rectB.bottom);};module.exports=RectangleToRectangle;/***/},/* 184 *//***/function(module,exports,__webpack_require__){//  Based on code by Matt DesLauriers\n//  https://github.com/mattdesl/line-circle-collision/blob/master/LICENSE.md\nvar Contains=__webpack_require__(36);var tmp={x:0,y:0};var LineToCircle=function LineToCircle(line,circle,nearest){if(nearest===undefined){nearest=tmp;}if(Contains(circle,line.x1,line.y1)){nearest.x=line.x1;nearest.y=line.y1;return true;}if(Contains(circle,line.x2,line.y2)){nearest.x=line.x2;nearest.y=line.y2;return true;}var dx=line.x2-line.x1;var dy=line.y2-line.y1;var lcx=circle.x-line.x1;var lcy=circle.y-line.y1;//  project lc onto d, resulting in vector p\nvar dLen2=dx*dx+dy*dy;var px=dx;var py=dy;if(dLen2>0){var dp=(lcx*dx+lcy*dy)/dLen2;px*=dp;py*=dp;}nearest.x=line.x1+px;nearest.y=line.y1+py;//  len2 of p\nvar pLen2=px*px+py*py;return pLen2<=dLen2&&px*dx+py*dy>=0&&Contains(circle,nearest.x,nearest.y);};module.exports=LineToCircle;/***/},/* 185 *//***/function(module,exports){var PointToLine=function PointToLine(point,line){return(point.x-line.x1)*(line.y2-line.y1)===(line.x2-line.x1)*(point.y-line.y1);};module.exports=PointToLine;/***/},/* 186 *//***/function(module,exports){var Decompose=function Decompose(rect,out){if(out===undefined){out=[];}out.push({x:rect.x,y:rect.y});out.push({x:rect.right,y:rect.y});out.push({x:rect.right,y:rect.bottom});out.push({x:rect.x,y:rect.bottom});return out;};module.exports=Decompose;/***/},/* 187 *//***/function(module,exports){var Decompose=function Decompose(triangle,out){if(out===undefined){out=[];}out.push({x:triangle.x1,y:triangle.y1});out.push({x:triangle.x2,y:triangle.y2});out.push({x:triangle.x3,y:triangle.y3});return out;};module.exports=Decompose;/***/},/* 188 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);//  Defines a Line segment, a part of a line between two endpoints\nvar Line=new Class({initialize:function Line(x1,y1,x2,y2){this.x1=0;this.y1=0;this.x2=0;this.y2=0;this.setTo(x1,y1,x2,y2);},setTo:function setTo(x1,y1,x2,y2){if(x1===undefined){x1=0;}if(y1===undefined){y1=0;}if(x2===undefined){x2=0;}if(y2===undefined){y2=0;}this.x1=x1;this.y1=y1;this.x2=x2;this.y2=y2;return this;},getPointA:function getPointA(){return{x1:this.x1,y1:this.y1};},getPointB:function getPointB(){return{x1:this.x2,y1:this.y2};},left:{get:function get(){return Math.min(this.x1,this.x2);},set:function set(value){if(this.x1<=this.x2){this.x1=value;}else{this.x2=value;}}},right:{get:function get(){return Math.max(this.x1,this.x2);},set:function set(value){if(this.x1>this.x2){this.x1=value;}else{this.x2=value;}}},top:{get:function get(){return Math.min(this.y1,this.y2);},set:function set(value){if(this.y1<=this.y2){this.y1=value;}else{this.y2=value;}}},bottom:{get:function get(){return Math.max(this.y1,this.y2);},set:function set(value){if(this.y1>this.y2){this.y1=value;}else{this.y2=value;}}}});module.exports=Line;/***/},/* 189 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);var Wrap=__webpack_require__(50);var Angle=__webpack_require__(41);var NormalAngle=function NormalAngle(line){var angle=Angle(line)-MATH_CONST.TAU;return Wrap(angle,-Math.PI,Math.PI);};module.exports=NormalAngle;/***/},/* 190 *//***/function(module,exports){var GetMagnitude=function GetMagnitude(point){return Math.sqrt(point.x*point.x+point.y*point.y);};module.exports=GetMagnitude;/***/},/* 191 *//***/function(module,exports){var GetMagnitudeSq=function GetMagnitudeSq(point){return point.x*point.x+point.y*point.y;};module.exports=GetMagnitudeSq;/***/},/* 192 *//***/function(module,exports){var Multiply=function Multiply(point,x,y){point.x*=x;point.y*=y;return point;};module.exports=Multiply;/***/},/* 193 *//***/function(module,exports,__webpack_require__){var GetMagnitude=__webpack_require__(190);var Normalize=function Normalize(point){if(point.x!==0&&point.y!==0){var m=GetMagnitude(point);point.x/=m;point.y/=m;}return point;};module.exports=Normalize;/***/},/* 194 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Polygon=new Class({initialize:function Polygon(points){// @property {number} area - The area of this Polygon.\nthis.area=0;// @property {array} points - An array of number pair objects that make up this polygon. I.e. [ {x,y}, {x,y}, {x,y} ]\nthis.points=[];if(points){this.setTo(points);}},/**\n     * Sets this Polygon to the given points.\n     *\n     * The points can be set from a variety of formats:\n     *\n     * - An array of Point objects: `[new Phaser.Point(x1, y1), ...]`\n     * - An array of objects with public x/y properties: `[obj1, obj2, ...]`\n     * - An array of paired numbers that represent point coordinates: `[x1,y1, x2,y2, ...]`\n     * - An array of arrays with two elements representing x/y coordinates: `[[x1, y1], [x2, y2], ...]`\n     *\n     * `setTo` may also be called without any arguments to remove all points.\n     */setTo:function setTo(points){this.area=0;this.points=[];if(!Array.isArray(points)){return this;}var entry;var y0=Number.MAX_VALUE;var p;//  The points argument is an array, so iterate through it\nfor(var i=0;i<points.length;i++){p={x:0,y:0};if(typeof points[i]==='number'){p.x=points[i];p.y=points[i+1];i++;}else if(Array.isArray(entry)){//  An array of arrays?\np.x=points[i][0];p.y=points[i][1];}else{p.x=points[i].x;p.y=points[i].y;}this.points.push(p);//  Lowest boundary\nif(p.y<y0){y0=p.y;}}this.calculateArea(y0);return this;},/**\n     * Calculates the area of the Polygon. This is available in the property Polygon.area\n     */calculateArea:function calculateArea(y0){if(this.points.length<3){this.area=0;return this.area;}var sum=0;var p1;var p2;for(var i=0;i<this.points.length-1;i++){p1=this.points[i];p2=this.points[i+1];sum+=(p2.x-p1.x)*(p1.y+p2.y);}p1=this.points[0];p2=this.points[this.points.length-1];sum+=(p1.x-p2.x)*(p2.y+p1.y);this.area=-sum*0.5;// var p1;\n// var p2;\n// var avgHeight;\n// var width;\n// for (var i = 0, len = this.points.length; i < len; i++)\n// {\n//     p1 = this.points[i];\n//     if (i === len - 1)\n//     {\n//         p2 = this.points[0];\n//     }\n//     else\n//     {\n//         p2 = this.points[i + 1];\n//     }\n//     avgHeight = ((p1.y - y0) + (p2.y - y0)) / 2;\n//     width = p1.x - p2.x;\n//     this.area += avgHeight * width;\n// }\nreturn this.area;}});module.exports=Polygon;/***/},/* 195 *//***/function(module,exports){/**\n* Checks whether the x and y coordinates are contained within this polygon.\n*/var Contains=function Contains(polygon,x,y){//  Adapted from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html by Jonas Raoni Soares Silva\nvar inside=false;for(var i=-1,j=polygon.points.length-1;++i<polygon.points.length;j=i){var ix=polygon.points[i].x;var iy=polygon.points[i].y;var jx=polygon.points[j].x;var jy=polygon.points[j].y;if((iy<=y&&y<jy||jy<=y&&y<iy)&&x<(jx-ix)*(y-iy)/(jy-iy)+ix){inside=!inside;}}return inside;};module.exports=Contains;/***/},/* 196 *//***/function(module,exports){//  The three medians (the lines drawn from the vertices to the bisectors of the opposite sides)\n//  meet in the centroid or center of mass (center of gravity).\n//  The centroid divides each median in a ratio of 2:1\nvar Centroid=function Centroid(triangle,out){if(out===undefined){out={x:0,y:0};}out.x=(triangle.x1+triangle.x2+triangle.x3)/3;out.y=(triangle.y1+triangle.y2+triangle.y3)/3;return out;};module.exports=Centroid;/***/},/* 197 *//***/function(module,exports){var Offset=function Offset(triangle,x,y){triangle.x1+=x;triangle.y1+=y;triangle.x2+=x;triangle.y2+=y;triangle.x3+=x;triangle.y3+=y;return triangle;};module.exports=Offset;/***/},/* 198 *//***/function(module,exports){// The three angle bisectors of a triangle meet in one point called the incenter.\n// It is the center of the incircle, the circle inscribed in the triangle.\nfunction getLength(x1,y1,x2,y2){var x=x1-x2;var y=y1-y2;var magnitude=x*x+y*y;return Math.sqrt(magnitude);}var InCenter=function InCenter(triangle,out){if(out===undefined){out={x:0,y:0};}var x1=triangle.x1;var y1=triangle.y1;var x2=triangle.x2;var y2=triangle.y2;var x3=triangle.x3;var y3=triangle.y3;var d1=getLength(x3,y3,x2,y2);var d2=getLength(x1,y1,x3,y3);var d3=getLength(x2,y2,x1,y1);var p=d1+d2+d3;out.x=(x1*d1+x2*d2+x3*d3)/p;out.y=(y1*d1+y2*d2+y3*d3)/p;return out;};module.exports=InCenter;/***/},/* 199 *//***/function(module,exports){/**\n* Adds the source and backdrop colors together and returns the value, up to a maximum of 255.\n*/var Add=function Add(a,b){return Math.min(255,a+b);};module.exports=Add;/***/},/* 200 *//***/function(module,exports){/**\n* Darkens the backdrop color to reflect the source color.\n* Painting with white produces no change. \n*/var ColorBurn=function ColorBurn(a,b){return b===0?b:Math.max(0,255-(255-a<<8)/b);};module.exports=ColorBurn;/***/},/* 201 *//***/function(module,exports){/**\n* Brightens the backdrop color to reflect the source color. \n* Painting with black produces no change.\n*/var ColorDodge=function ColorDodge(a,b){return b===255?b:Math.min(255,(a<<8)/(255-b));};module.exports=ColorDodge;/***/},/* 202 *//***/function(module,exports){/**\n* Selects the darker of the backdrop and source colors.\n*/var Darken=function Darken(a,b){return b>a?a:b;};module.exports=Darken;/***/},/* 203 *//***/function(module,exports){/**\n* Reflect blend mode. This mode is useful when adding shining objects or light zones to images. \n*/var Reflect=function Reflect(a,b){return b===255?b:Math.min(255,a*a/(255-b));};module.exports=Reflect;/***/},/* 204 *//***/function(module,exports){/**\n* Multiplies or screens the colors, depending on the backdrop color.\n* Source colors overlay the backdrop while preserving its highlights and shadows. \n* The backdrop color is not replaced, but is mixed with the source color to reflect the lightness or darkness of the backdrop.\n*/var Overlay=function Overlay(a,b){return b<128?2*a*b/255:255-2*(255-a)*(255-b)/255;};module.exports=Overlay;/***/},/* 205 *//***/function(module,exports,__webpack_require__){var ColorBurn=__webpack_require__(200);var ColorDodge=__webpack_require__(201);/**\n* This blend mode combines Color Dodge and Color Burn (rescaled so that neutral colors become middle gray).\n* Dodge applies when values in the top layer are lighter than middle gray, and burn to darker values.\n* The middle gray is the neutral color. When color is lighter than this, this effectively moves the white point of the bottom \n* layer down by twice the difference; when it is darker, the black point is moved up by twice the difference. The perceived contrast increases.\n*/var VividLight=function VividLight(a,b){return b<128?ColorBurn(a,2*b):ColorDodge(a,2*(b-128));};module.exports=VividLight;/***/},/* 206 *//***/function(module,exports){/**\n* Selects the lighter of the backdrop and source colors.\n*/var Lighten=function Lighten(a,b){return b>a?b:a;};module.exports=Lighten;/***/},/* 207 *//***/function(module,exports,__webpack_require__){var Subtract=__webpack_require__(208);/**\n* An alias for blendSubtract, it simply sums the values of the two colors and subtracts 255.\n*/var LinearBurn=function LinearBurn(a,b){return Subtract(a,b);};module.exports=LinearBurn;/***/},/* 208 *//***/function(module,exports){/**\n* Combines the source and backdrop colors and returns their value minus 255.\n*/var Subtract=function Subtract(a,b){return Math.max(0,a+b-255);};module.exports=Subtract;/***/},/* 209 *//***/function(module,exports,__webpack_require__){var Add=__webpack_require__(199);/**\n* An alias for blendAdd, it simply sums the values of the two colors.\n*/var LinearDodge=function LinearDodge(a,b){return Add(a,b);};module.exports=LinearDodge;/***/},/* 210 *//***/function(module,exports){//  Return a string containing a hex representation of the given color component.\n//  @param {integer} color - The color channel to get the hex value for, must be a value between 0 and 255.\n//  @return {string} A string of length 2 characters, i.e. 255 = ff, 100 = 64.\nvar ComponentToHex=function ComponentToHex(color){var hex=color.toString(16);return hex.length===1?'0'+hex:hex;};module.exports=ComponentToHex;/***/},/* 211 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(module){/**\n* Converts a hue to an RGB color.\n* Based on code by Michael Jackson (https://github.com/mjijackson)\n*/var HueToComponent=function HueToComponent(p,q,t){if(t<0){t+=1;}if(t>1){t-=1;}if(t<1/6){return p+(q-p)*6*t;}if(t<1/2){return q;}if(t<2/3){return p+(q-p)*(2/3-t)*6;}return p;};module.export=HueToComponent;/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(879)(module));/***/},/* 212 *//***/function(module,exports,__webpack_require__){var GetColor=__webpack_require__(69);/**\n * Converts an HSV (hue, saturation and value) color value to RGB.\n * Conversion formula from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes HSV values are contained in the set [0, 1] and returns r, g and b values in the set [0, 255].\n * Based on code by Michael Jackson (https://github.com/mjijackson)\n */var HSVToRGB=function HSVToRGB(h,s,v){if(s===undefined){s=1;}if(v===undefined){v=1;}var i=Math.floor(h*6);var f=h*6-i;var p=Math.floor(v*(1-s)*255);var q=Math.floor(v*(1-f*s)*255);var t=Math.floor(v*(1-(1-f)*s)*255);v=Math.floor(v*=255);var output={r:v,g:v,b:v,color:0};var r=i%6;if(r===0){output.g=t;output.b=p;}else if(r===1){output.r=q;output.b=p;}else if(r===2){output.r=p;output.b=t;}else if(r===3){output.r=p;output.g=q;}else if(r===4){output.r=t;output.g=p;}else if(r===5){output.g=p;output.b=q;}output.color=GetColor(output.r,output.g,output.b);return output;};module.exports=HSVToRGB;/***/},/* 213 *//***/function(module,exports){//  This is from the quickselect npm package: https://www.npmjs.com/package/quickselect\n//  Coded by https://www.npmjs.com/~mourner (Vladimir Agafonkin)\n// https://en.wikipedia.org/wiki/Floyd%E2%80%93Rivest_algorithm\n// Floyd-Rivest selection algorithm:\n// Rearrange items so that all items in the [left, k] range are smaller than all items in (k, right];\n// The k-th element will have the (k - left + 1)th smallest value in [left, right]\nvar QuickSelect=function QuickSelect(arr,k,left,right,compare){left=left||0;right=right||arr.length-1;compare=compare||defaultCompare;while(right>left){if(right-left>600){var n=right-left+1;var m=k-left+1;var z=Math.log(n);var s=0.5*Math.exp(2*z/3);var sd=0.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);var newLeft=Math.max(left,Math.floor(k-m*s/n+sd));var newRight=Math.min(right,Math.floor(k+(n-m)*s/n+sd));QuickSelect(arr,k,newLeft,newRight,compare);}var t=arr[k];var i=left;var j=right;swap(arr,left,k);if(compare(arr[right],t)>0){swap(arr,left,right);}while(i<j){swap(arr,i,j);i++;j--;while(compare(arr[i],t)<0){i++;}while(compare(arr[j],t)>0){j--;}}if(compare(arr[left],t)===0){swap(arr,left,j);}else{j++;swap(arr,j,right);}if(j<=k){left=j+1;}if(k<=j){right=j-1;}}};function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp;}function defaultCompare(a,b){return a<b?-1:a>b?1:0;}module.exports=QuickSelect;/***/},/* 214 *//***/function(module,exports,__webpack_require__){//  Phaser.Physics.Impact.Body\nvar Class=__webpack_require__(0);var GetVelocity=__webpack_require__(900);var UpdateMotion=__webpack_require__(901);var COLLIDES=__webpack_require__(59);var TYPE=__webpack_require__(95);/**\n* An Impact.js compatible physics body.\n* This re-creates the properties you'd get on an Entity and the math needed to update them.\n*/var Body=new Class({initialize:function Body(world,x,y,sx,sy){if(sx===undefined){sx=16;}if(sy===undefined){sy=16;}this.world=world;this.enabled=true;this.parent;this.name='';this.size={x:sx,y:sy};this.pos={x:x,y:y};this.last={x:x,y:y};this.vel={x:0,y:0};this.accel={x:0,y:0};this.friction={x:0,y:0};this.maxVel={x:100,y:100};this.gravityFactor=1;this.standing=false;this.bounciness=0;this.minBounceVelocity=40;this.accelGround=0;this.accelAir=0;this.jumpSpeed=0;this.type=TYPE.NONE;this.checkAgainst=TYPE.NONE;this.collides=COLLIDES.NEVER;//  min 44 deg, max 136 deg\nthis.slopeStanding={min:0.767944870877505,max:2.3736477827122884};},reset:function reset(){//  TODO\n},update:function update(delta){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=this.world.gravity*delta*this.gravityFactor;this.vel.x=GetVelocity(delta,this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=GetVelocity(delta,this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);if(window.dumpit){console.log('');console.log('UPDATE: pos',this.pos.x,this.pos.y,'vel',this.vel.x,this.vel.y);}var mx=this.vel.x*delta;var my=this.vel.y*delta;var res=this.world.collisionMap.trace(this.pos.x,this.pos.y,mx,my,this.size.x,this.size.y);if(this.handleMovementTrace(res)){UpdateMotion(this,res);}if(window.dumpit){console.log('END res',res.pos.x,res.pos.y);}},handleMovementTrace:function handleMovementTrace(res){return true;},skipHash:function skipHash(){return!this.enabled||this.type===0&&this.checkAgainst===0&&this.collides===0;},touches:function touches(other){return!(this.pos.x>=other.pos.x+other.size.x||this.pos.x+this.size.x<=other.pos.x||this.pos.y>=other.pos.y+other.size.y||this.pos.y+this.size.y<=other.pos.y);},setBounce:function setBounce(value){this.bounciness=value;return this;},setVelocityX:function setVelocityX(x){this.vel.x=x;return this;},setVelocityY:function setVelocityY(y){this.vel.y=y;return this;},setVelocity:function setVelocity(x,y){this.vel.x=x;this.vel.y=y;return this;},setMaxVelocity:function setMaxVelocity(x,y){if(y===undefined){y=x;}this.maxVel.x=x;this.maxVel.y=y;return this;},setAccelerationX:function setAccelerationX(x){this.accel.x=x;return this;},setAccelerationY:function setAccelerationY(y){this.accel.y=y;return this;},setAcceleration:function setAcceleration(x,y){this.accel.x=x;this.accel.y=y;return this;},setTypeNone:function setTypeNone(){this.type=TYPE.NONE;return this;},setTypeA:function setTypeA(){this.type=TYPE.A;return this;},setTypeB:function setTypeB(){this.type=TYPE.B;return this;},setCheckAgainstNone:function setCheckAgainstNone(){this.checkAgainst=TYPE.NONE;return this;},setCheckAgainstA:function setCheckAgainstA(){this.checkAgainst=TYPE.A;return this;},setCheckAgainstB:function setCheckAgainstB(){this.checkAgainst=TYPE.B;return this;},setCollidesNever:function setCollidesNever(){this.collides=COLLIDES.NEVER;return this;},setLite:function setLite(){this.collides=COLLIDES.LITE;return this;},setPassive:function setPassive(){this.collides=COLLIDES.PASSIVE;return this;},setActive:function setActive(){this.collides=COLLIDES.ACTIVE;return this;},setFixed:function setFixed(){this.collides=COLLIDES.FIXED;return this;},check:function check(other){//  Overridden by user code\n},collideWith:function collideWith(other,axis){//  Overridden by user code\n}});module.exports=Body;/***/},/* 215 *//***/function(module,exports,__webpack_require__){//  Phaser.Physics.Impact.CollisionMap\nvar Class=__webpack_require__(0);var DefaultDefs=__webpack_require__(902);var CollisionMap=new Class({initialize:function CollisionMap(tilesize,data){this.tilesize=tilesize;this.data=data;this.width=Array.isArray(data)?data[0].length:0;this.height=Array.isArray(data)?data.length:0;this.lastSlope=55;this.tiledef=DefaultDefs;},trace:function trace(x,y,vx,vy,objectWidth,objectHeight){// Set up the trace-result\nvar res={collision:{x:false,y:false,slope:false},pos:{x:x,y:y},tile:{x:0,y:0}};if(!this.data){res.pos.x+=vx;res.pos.y+=vy;return res;}var steps=Math.ceil(Math.max(Math.abs(vx),Math.abs(vy))/this.tilesize);if(steps>1){var sx=vx/steps;var sy=vy/steps;for(var i=0;i<steps&&(sx||sy);i++){this.step(res,x,y,sx,sy,objectWidth,objectHeight,vx,vy,i);x=res.pos.x;y=res.pos.y;if(res.collision.x){sx=0;vx=0;}if(res.collision.y){sy=0;vy=0;}if(res.collision.slope){break;}}}else{this.step(res,x,y,vx,vy,objectWidth,objectHeight,vx,vy,0);}return res;},step:function step(res,x,y,vx,vy,width,height,rvx,rvy,_step){res.pos.x+=vx;res.pos.y+=vy;if(window.dumpit){console.log('STEP',res.pos.x,res.pos.y,'VX',vx,'VY',vy,'step',_step);}var t=0;var tilesize=this.tilesize;var mapWidth=this.width;var mapHeight=this.height;//  Horizontal\nif(vx){var pxOffsetX=vx>0?width:0;var tileOffsetX=vx<0?tilesize:0;var firstTileY=Math.max(Math.floor(y/tilesize),0);var lastTileY=Math.min(Math.ceil((y+height)/tilesize),mapHeight);var tileX=Math.floor((res.pos.x+pxOffsetX)/tilesize);var prevTileX=Math.floor((x+pxOffsetX)/tilesize);if(_step>0||tileX===prevTileX||prevTileX<0||prevTileX>=mapWidth){prevTileX=-1;}if(window.debugslopes){console.group('VX');console.log('pxOffsetX',pxOffsetX);console.log('tileOffsetX',tileOffsetX);console.log('firstTileY',firstTileY);console.log('lastTileY',lastTileY);console.log('tileX',tileX);console.log('prevTileX',prevTileX);}if(tileX>=0&&tileX<mapWidth){// console.log('X:', tileX);\nfor(var tileY=firstTileY;tileY<lastTileY;tileY++){// console.log('Y:', tileY);\nif(prevTileX!==-1){t=this.data[tileY][prevTileX];// console.log('t1', t);\nif(t>1&&t<=this.lastSlope&&this.checkDef(res,t,x,y,rvx,rvy,width,height,prevTileX,tileY)){// console.log('t1 break');\nbreak;}}t=this.data[tileY][tileX];if(window.debugslopes){console.log('Tile at',tileX,'x',tileY,'=',t);}if(t===1||t>this.lastSlope||t>1&&this.checkDef(res,t,x,y,rvx,rvy,width,height,tileX,tileY)){if(t>1&&t<=this.lastSlope&&res.collision.slope){// console.log('t2 break');\nbreak;}res.collision.x=true;res.tile.x=t;res.pos.x=tileX*tilesize-pxOffsetX+tileOffsetX;x=res.pos.x;rvx=0;if(window.debugslopes){console.log('>>> Hit solid tile <<<');console.log('tileX',tileX);console.log('tilesize',tilesize);console.log('pxOffsetX',pxOffsetX);console.log('tileOffsetX',tileOffsetX);console.log('=',res.pos.x);}//  9 * 32 = 288\n//  - 16 = 272\n//  + 0 = 272\n//  Where does the 16 come from?\nbreak;}}}if(window.debugslopes){console.groupEnd();}}//  Vertical\nif(vy){var pxOffsetY=vy>0?height:0;var tileOffsetY=vy<0?tilesize:0;var firstTileX=Math.max(Math.floor(res.pos.x/tilesize),0);var lastTileX=Math.min(Math.ceil((res.pos.x+width)/tilesize),mapWidth);var tileY=Math.floor((res.pos.y+pxOffsetY)/tilesize);var prevTileY=Math.floor((y+pxOffsetY)/tilesize);if(_step>0||tileY===prevTileY||prevTileY<0||prevTileY>=mapHeight){prevTileY=-1;}if(tileY>=0&&tileY<mapHeight){for(var tileX=firstTileX;tileX<lastTileX;tileX++){if(prevTileY!==-1){t=this.data[prevTileY][tileX];if(t>1&&t<=this.lastSlope&&this.checkDef(res,t,x,y,rvx,rvy,width,height,tileX,prevTileY)){break;}}t=this.data[tileY][tileX];if(t===1||t>this.lastSlope||t>1&&this.checkDef(res,t,x,y,rvx,rvy,width,height,tileX,tileY)){if(t>1&&t<=this.lastSlope&&res.collision.slope){break;}res.collision.y=true;res.tile.y=t;res.pos.y=tileY*tilesize-pxOffsetY+tileOffsetY;break;}}}}},checkDef:function checkDef(res,t,x,y,vx,vy,width,height,tileX,tileY){var def=this.tiledef[t];if(!def){return false;}var tilesize=this.tilesize;var lx=(tileX+def[0])*tilesize;var ly=(tileY+def[1])*tilesize;var lvx=(def[2]-def[0])*tilesize;var lvy=(def[3]-def[1])*tilesize;var solid=def[4];var tx=x+vx+(lvy<0?width:0)-lx;var ty=y+vy+(lvx>0?height:0)-ly;if(lvx*ty-lvy*tx>0){if(vx*-lvy+vy*lvx<0){return solid;}var length=Math.sqrt(lvx*lvx+lvy*lvy);var nx=lvy/length;var ny=-lvx/length;var proj=tx*nx+ty*ny;var px=nx*proj;var py=ny*proj;if(px*px+py*py>=vx*vx+vy*vy){return solid||lvx*(ty-vy)-lvy*(tx-vx)<0.5;}res.pos.x=x+vx-px;res.pos.y=y+vy-py;res.collision.slope={x:lvx,y:lvy,nx:nx,ny:ny};return true;}return false;}});module.exports=CollisionMap;/***/},/* 216 *//***/function(module,exports){//  Removes a single item from an array and returns it\n//  without creating gc (like the native splice does)\n//  Based on code by Mike Reinstein\nvar SpliceOne=function SpliceOne(array,index){if(index>=array.length){return;}var len=array.length-1;var item=array[index];for(var i=index;i<len;i++){array[i]=array[i+1];}array.length=len;return item;};module.exports=SpliceOne;/***/},/* 217 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(global){__webpack_require__(218);var CONST=__webpack_require__(4);var Extend=__webpack_require__(60);//  This object is exported globally\nvar Phaser={Actions:__webpack_require__(99),Create:__webpack_require__(308),DOM:__webpack_require__(315),Game:__webpack_require__(322),Event:__webpack_require__(1),EventDispatcher:__webpack_require__(25),Math:__webpack_require__(66),Geom:__webpack_require__(739),Graphics:__webpack_require__(859),Input:__webpack_require__(885),GameObjects:__webpack_require__(892),Scene:__webpack_require__(44),Loader:{ImageFile:__webpack_require__(47)},Sound:__webpack_require__(893),Structs:__webpack_require__(896),Physics:__webpack_require__(898),Class:__webpack_require__(0),Utils:__webpack_require__(908)};//   Merge in the consts\nPhaser=Extend(false,Phaser,CONST);//  Export it\nmodule.exports=Phaser;global.Phaser=Phaser;/*\n * \"Documentation is like sex:  when it is good, it is very, very good;\n * and when it is bad, it is better than nothing.\"\n *  -- Dick Brandon\n *//*\n * \"Sometimes, the elegant implementation is just a function.\n * Not a method. Not a class. Not a framework. Just a function.\"\n *  -- John Carmack\n *//* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(97));/***/},/* 218 *//***/function(module,exports,__webpack_require__){__webpack_require__(219);__webpack_require__(220);__webpack_require__(221);__webpack_require__(222);__webpack_require__(223);__webpack_require__(224);__webpack_require__(225);__webpack_require__(226);__webpack_require__(227);/***/},/* 219 *//***/function(module,exports){/**\n* A polyfill for Array.forEach\n* https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\n*/if(!Array.prototype.forEach){Array.prototype.forEach=function(fun/*, thisArg */){'use strict';if(this===void 0||this===null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(typeof fun!=='function'){throw new TypeError();}var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t){fun.call(thisArg,t[i],i,t);}}};}/***/},/* 220 *//***/function(module,exports){/**\n* A polyfill for Array.isArray\n*/if(!Array.isArray){Array.isArray=function(arg){return Object.prototype.toString.call(arg)==='[object Array]';};}/***/},/* 221 *//***/function(module,exports){/* Copyright 2013 Chris Wilson\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n*//*\n\nThis monkeypatch library is intended to be included in projects that are\nwritten to the proper AudioContext spec (instead of webkitAudioContext),\nand that use the new naming and proper bits of the Web Audio API (e.g.\nusing BufferSourceNode.start() instead of BufferSourceNode.noteOn()), but may\nhave to run on systems that only support the deprecated bits.\n\nThis library should be harmless to include if the browser supports\nunprefixed \"AudioContext\", and/or if it supports the new names.\n\nThe patches this library handles:\nif window.AudioContext is unsupported, it will be aliased to webkitAudioContext().\nif AudioBufferSourceNode.start() is unimplemented, it will be routed to noteOn() or\nnoteGrainOn(), depending on parameters.\n\nThe following aliases only take effect if the new names are not already in place:\n\nAudioBufferSourceNode.stop() is aliased to noteOff()\nAudioContext.createGain() is aliased to createGainNode()\nAudioContext.createDelay() is aliased to createDelayNode()\nAudioContext.createScriptProcessor() is aliased to createJavaScriptNode()\nAudioContext.createPeriodicWave() is aliased to createWaveTable()\nOscillatorNode.start() is aliased to noteOn()\nOscillatorNode.stop() is aliased to noteOff()\nOscillatorNode.setPeriodicWave() is aliased to setWaveTable()\nAudioParam.setTargetAtTime() is aliased to setTargetValueAtTime()\n\nThis library does NOT patch the enumerated type changes, as it is\nrecommended in the specification that implementations support both integer\nand string types for AudioPannerNode.panningModel, AudioPannerNode.distanceModel\nBiquadFilterNode.type and OscillatorNode.type.\n\n*/(function(global,exports,perf){'use strict';function fixSetTarget(param){if(!param)// if NYI, just return\nreturn;if(!param.setTargetAtTime)param.setTargetAtTime=param.setTargetValueAtTime;}if(window.hasOwnProperty('webkitAudioContext')&&!window.hasOwnProperty('AudioContext')){window.AudioContext=webkitAudioContext;if(!AudioContext.prototype.hasOwnProperty('createGain'))AudioContext.prototype.createGain=AudioContext.prototype.createGainNode;if(!AudioContext.prototype.hasOwnProperty('createDelay'))AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode;if(!AudioContext.prototype.hasOwnProperty('createScriptProcessor'))AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode;if(!AudioContext.prototype.hasOwnProperty('createPeriodicWave'))AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable;AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain;AudioContext.prototype.createGain=function(){var node=this.internal_createGain();fixSetTarget(node.gain);return node;};AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay;AudioContext.prototype.createDelay=function(maxDelayTime){var node=maxDelayTime?this.internal_createDelay(maxDelayTime):this.internal_createDelay();fixSetTarget(node.delayTime);return node;};AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource;AudioContext.prototype.createBufferSource=function(){var node=this.internal_createBufferSource();if(!node.start){node.start=function(when,offset,duration){if(offset||duration)this.noteGrainOn(when||0,offset,duration);else this.noteOn(when||0);};}else{node.internal_start=node.start;node.start=function(when,offset,duration){if(typeof duration!=='undefined')node.internal_start(when||0,offset,duration);else node.internal_start(when||0,offset||0);};}if(!node.stop){node.stop=function(when){this.noteOff(when||0);};}else{node.internal_stop=node.stop;node.stop=function(when){node.internal_stop(when||0);};}fixSetTarget(node.playbackRate);return node;};AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor;AudioContext.prototype.createDynamicsCompressor=function(){var node=this.internal_createDynamicsCompressor();fixSetTarget(node.threshold);fixSetTarget(node.knee);fixSetTarget(node.ratio);fixSetTarget(node.reduction);fixSetTarget(node.attack);fixSetTarget(node.release);return node;};AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter;AudioContext.prototype.createBiquadFilter=function(){var node=this.internal_createBiquadFilter();fixSetTarget(node.frequency);fixSetTarget(node.detune);fixSetTarget(node.Q);fixSetTarget(node.gain);return node;};if(AudioContext.prototype.hasOwnProperty('createOscillator')){AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator;AudioContext.prototype.createOscillator=function(){var node=this.internal_createOscillator();if(!node.start){node.start=function(when){this.noteOn(when||0);};}else{node.internal_start=node.start;node.start=function(when){node.internal_start(when||0);};}if(!node.stop){node.stop=function(when){this.noteOff(when||0);};}else{node.internal_stop=node.stop;node.stop=function(when){node.internal_stop(when||0);};}if(!node.setPeriodicWave)node.setPeriodicWave=node.setWaveTable;fixSetTarget(node.frequency);fixSetTarget(node.detune);return node;};}}if(window.hasOwnProperty('webkitOfflineAudioContext')&&!window.hasOwnProperty('OfflineAudioContext')){window.OfflineAudioContext=webkitOfflineAudioContext;}})(window);/***/},/* 222 *//***/function(module,exports){/**\n * Also fix for the absent console in IE9\n */if(!window.console){window.console={};window.console.log=window.console.assert=function(){};window.console.warn=window.console.assert=function(){};}/***/},/* 223 *//***/function(module,exports){/**\n* A polyfill for Function.prototype.bind\n*/if(!Function.prototype.bind){/* jshint freeze: false */Function.prototype.bind=function(){var slice=Array.prototype.slice;return function(thisArg){var target=this,boundArgs=slice.call(arguments,1);if(typeof target!=='function'){throw new TypeError();}function bound(){var args=boundArgs.concat(slice.call(arguments));target.apply(this instanceof bound?this:thisArg,args);}bound.prototype=function F(proto){if(proto){F.prototype=proto;}if(!(this instanceof F)){/* jshint supernew: true */return new F();}}(target.prototype);return bound;};}();}/***/},/* 224 *//***/function(module,exports){// ES6 Math.trunc - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc\nif(!Math.trunc){Math.trunc=function trunc(x){return x<0?Math.ceil(x):Math.floor(x);};}/***/},/* 225 *//***/function(module,exports){/**\n * performance.now\n */(function(){if('performance'in window===false){window.performance={};}//  Thanks IE8\nDate.now=Date.now||function(){return new Date().getTime();};if('now'in window.performance===false){var nowOffset=Date.now();if(performance.timing&&performance.timing.navigationStart){nowOffset=performance.timing.navigationStart;}window.performance.now=function now(){return Date.now()-nowOffset;};}})();/***/},/* 226 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(global){// References:\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// https://gist.github.com/1579671\n// http://updates.html5rocks.com/2012/05/requestAnimationFrame-API-now-with-sub-millisecond-precision\n// https://gist.github.com/timhall/4078614\n// https://github.com/Financial-Times/polyfill-service/tree/master/polyfills/requestAnimationFrame\n// Expected to be used with Browserfiy\n// Browserify automatically detects the use of `global` and passes the\n// correct reference of `global`, `self`, and finally `window`\n// Date.now\nif(!(Date.now&&Date.prototype.getTime)){Date.now=function now(){return new Date().getTime();};}// performance.now\nif(!(global.performance&&global.performance.now)){var startTime=Date.now();if(!global.performance){global.performance={};}global.performance.now=function(){return Date.now()-startTime;};}// requestAnimationFrame\nvar lastTime=Date.now();var vendors=['ms','moz','webkit','o'];for(var x=0;x<vendors.length&&!global.requestAnimationFrame;++x){global.requestAnimationFrame=global[vendors[x]+'RequestAnimationFrame'];global.cancelAnimationFrame=global[vendors[x]+'CancelAnimationFrame']||global[vendors[x]+'CancelRequestAnimationFrame'];}if(!global.requestAnimationFrame){global.requestAnimationFrame=function(callback){if(typeof callback!=='function'){throw new TypeError(callback+'is not a function');}var currentTime=Date.now(),delay=16+lastTime-currentTime;if(delay<0){delay=0;}lastTime=currentTime;return setTimeout(function(){lastTime=Date.now();callback(performance.now());},delay);};}if(!global.cancelAnimationFrame){global.cancelAnimationFrame=function(id){clearTimeout(id);};}/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(97));/***/},/* 227 *//***/function(module,exports){/**\n* Low-budget Float32Array knock-off, suitable for use with P2.js in IE9\n* Source: http://www.html5gamedevs.com/topic/5988-phaser-12-ie9/\n* Cameron Foale (http://www.kibibu.com)\n*/if(typeof window.Uint32Array!==\"function\"&&_typeof(window.Uint32Array)!==\"object\"){var CheapArray=function CheapArray(type){var proto=new Array();// jshint ignore:line\nwindow[type]=function(arg){if(typeof arg===\"number\"){Array.call(this,arg);this.length=arg;for(var i=0;i<this.length;i++){this[i]=0;}}else{Array.call(this,arg.length);this.length=arg.length;for(var i=0;i<this.length;i++){this[i]=arg[i];}}};window[type].prototype=proto;window[type].constructor=window[type];};CheapArray('Float32Array');// jshint ignore:line\nCheapArray('Uint32Array');// jshint ignore:line\nCheapArray('Uint16Array');// jshint ignore:line\nCheapArray('Int16Array');// jshint ignore:line\nCheapArray('ArrayBuffer');// jshint ignore:line\n}/***/},/* 228 *//***/function(module,exports){var Angle=function Angle(items,value){for(var i=0;i<items.length;i++){items[i].angle+=value;}return items;};module.exports=Angle;/***/},/* 229 *//***/function(module,exports){var Call=function Call(items,callback,thisArg){for(var i=0;i<items.length;i++){var item=items[i];callback.call(thisArg,item);}return items;};module.exports=Call;/***/},/* 230 *//***/function(module,exports){//  compare = Object:\n//  {\n//      scaleX: 0.5,\n//      scaleY: 1\n//  }\nvar GetFirst=function GetFirst(items,compare,index){for(var i=index;i<items.length;i++){var item=items[i];var match=true;for(var property in compare){if(item[property]!==compare[property]){match=false;}}if(match){return item;}}return null;};module.exports=GetFirst;/***/},/* 231 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(100);var AlignIn=__webpack_require__(232);var Zone=__webpack_require__(61);var GetValue=__webpack_require__(2);var tempZone=new Zone({sys:{sortChildrenFlag:false}},0,0,1,1);var GridAlign=function GridAlign(items,options){var width=GetValue(options,'width',-1);var height=GetValue(options,'height',-1);var cellWidth=GetValue(options,'cellWidth',1);var cellHeight=GetValue(options,'cellHeight',cellWidth);var position=GetValue(options,'position',CONST.TOP_LEFT);var x=GetValue(options,'x',0);var y=GetValue(options,'y',0);// var centerX = GetValue(options, 'centerX', null);\n// var centerY = GetValue(options, 'centerY', null);\nvar cx=0;var cy=0;var w=width*cellWidth;var h=height*cellHeight;//  If the Grid is centered on a position then we need to calculate it now\n// if (centerX !== null && centerY !== null)\n// {\n// \n// }\ntempZone.setPosition(x,y);tempZone.setSize(cellWidth,cellHeight);for(var i=0;i<items.length;i++){AlignIn(items[i],tempZone,position);if(width===-1){//  We keep laying them out horizontally until we've done them all\ncy+=cellHeight;tempZone.y+=cellHeight;if(cy===h){cy=0;tempZone.x+=cellWidth;tempZone.y=y;}}else if(height===-1){//  We keep laying them out vertically until we've done them all\ncx+=cellWidth;tempZone.x+=cellWidth;if(cx===w){cx=0;tempZone.x=x;tempZone.y+=cellHeight;}}else{//  We keep laying them out until we hit the column limit\ncx+=cellWidth;tempZone.x+=cellWidth;if(cx===w){cx=0;cy+=cellHeight;tempZone.x=x;tempZone.y+=cellHeight;if(cy===h){//  We've hit the column limit, so return, even if there are items left\nbreak;}}}}return items;};module.exports=GridAlign;/***/},/* 232 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(100);var AlignInMap=[];AlignInMap[CONST.BOTTOM_CENTER]=__webpack_require__(101);AlignInMap[CONST.BOTTOM_LEFT]=__webpack_require__(102);AlignInMap[CONST.BOTTOM_RIGHT]=__webpack_require__(103);AlignInMap[CONST.CENTER]=__webpack_require__(104);AlignInMap[CONST.LEFT_CENTER]=__webpack_require__(106);AlignInMap[CONST.RIGHT_CENTER]=__webpack_require__(107);AlignInMap[CONST.TOP_CENTER]=__webpack_require__(108);AlignInMap[CONST.TOP_LEFT]=__webpack_require__(109);AlignInMap[CONST.TOP_RIGHT]=__webpack_require__(110);var AlignIn=function AlignIn(child,container,position,offsetX,offsetY){return AlignInMap[position](child,container,offsetX,offsetY);};module.exports=AlignIn;/***/},/* 233 *//***/function(module,exports,__webpack_require__){var Clamp=__webpack_require__(49);//  Alpha Component\n//  bitmask flag for GameObject.renderMask\nvar _FLAG=2;// 0010\nvar Alpha={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function clearAlpha(){return this.setAlpha(1);},setAlpha:function setAlpha(topLeft,topRight,bottomLeft,bottomRight){if(topLeft===undefined){topLeft=1;}//  Treat as if there is only one alpha value for the whole Game Object\nif(topRight===undefined){this.alpha=topLeft;}else{this._alphaTL=Clamp(topLeft,0,1);this._alphaTR=Clamp(topRight,0,1);this._alphaBL=Clamp(bottomLeft,0,1);this._alphaBR=Clamp(bottomRight,0,1);}return this;},//  Global Alpha value. If changed this adjusts all alpha properties (topLeft, topRight, etc)\nalpha:{get:function get(){return this._alpha;},set:function set(value){var v=Clamp(value,0,1);this._alpha=v;this._alphaTL=v;this._alphaTR=v;this._alphaBL=v;this._alphaBR=v;if(v===0){this.renderFlags&=~_FLAG;}else{this.renderFlags|=_FLAG;}}},//  Adjusts the alpha value of the top-left vertex (WebGL only)\nalphaTopLeft:{get:function get(){return this._alphaTL;},set:function set(value){var v=Clamp(value,0,1);this._alphaTL=v;if(v!==0){this.renderFlags|=_FLAG;}}},alphaTopRight:{get:function get(){return this._alphaTR;},set:function set(value){var v=Clamp(value,0,1);this._alphaTR=v;if(v!==0){this.renderFlags|=_FLAG;}}},alphaBottomLeft:{get:function get(){return this._alphaBL;},set:function set(value){var v=Clamp(value,0,1);this._alphaBL=v;if(v!==0){this.renderFlags|=_FLAG;}}},alphaBottomRight:{get:function get(){return this._alphaBR;},set:function set(value){var v=Clamp(value,0,1);this._alphaBR=v;if(v!==0){this.renderFlags|=_FLAG;}}}};module.exports=Alpha;/***/},/* 234 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Components=__webpack_require__(235);//  Game Object Animation Controller\nvar Animation=new Class({initialize:function Animation(parent){//  Sprite / Game Object\nthis.parent=parent;this.animationManager=parent.scene.sys.anims;this.animationManager.events.once('REMOVE_ANIMATION_EVENT',this.remove.bind(this));this.isPlaying=false;//  Reference to the Phaser.Animation object\nthis.currentAnim=null;//  Reference to the Phaser.AnimationFrame object\nthis.currentFrame=null;//  Animation specific values\n//  -------------------------\n//  Scale the time (make it go faster / slower)\n//  Factor that's used to scale time where 1 = normal speed (the default), 0.5 = half speed, 2 = double speed, etc.\nthis._timeScale=1;//  The frame rate of playback in frames per second (default 24 if duration is null)\nthis.frameRate=0;//  How long the animation should play for. If frameRate is set it overrides this value\n//  otherwise frameRate is derived from duration\nthis.duration=0;//  ms per frame (without including frame specific modifiers)\nthis.msPerFrame=0;//  Skip frames if the time lags, or always advanced anyway?\nthis.skipMissedFrames=true;//  Delay before starting playback (in seconds)\nthis._delay=0;//  Number of times to repeat the animation (-1 for infinity)\nthis._repeat=0;//  Delay before the repeat starts (in seconds)\nthis._repeatDelay=0;//  Should the animation yoyo? (reverse back down to the start) before repeating?\nthis._yoyo=false;//  Playhead values\n//  ---------------\n//  Move the playhead forward (true) or in reverse (false)\nthis.forward=true;this.accumulator=0;this.nextTick=0;this.repeatCounter=0;this.pendingRepeat=false;this._paused=false;this._wasPlaying=false;this._callbackArgs=[parent,null];this._updateParams=[];},destroy:function destroy(){},delay:Components.Delay,delayedPlay:Components.DelayedPlay,getCurrentKey:Components.GetCurrentKey,load:Components.Load,pause:Components.Pause,paused:Components.Paused,play:Components.Play,progress:Components.Progress,remove:Components.Remove,repeat:Components.Repeat,repeatDelay:Components.RepeatDelay,restart:Components.Restart,resume:Components.Resume,stop:Components.Stop,timeScale:Components.TimeScale,totalFrames:Components.TotalFrames,totalProgress:Components.TotalProgress,update:Components.Update,updateFrame:Components.UpdateFrame,yoyo:Components.Yoyo});module.exports=Animation;/***/},/* 235 *//***/function(module,exports,__webpack_require__){//  Phaser.Animation.Frame.Components\n//  Used by the GameObject Animation Controller, not the Animation itself\nmodule.exports={Delay:__webpack_require__(236),DelayedPlay:__webpack_require__(237),GetCurrentKey:__webpack_require__(238),Load:__webpack_require__(239),Pause:__webpack_require__(240),Paused:__webpack_require__(241),Play:__webpack_require__(242),Progress:__webpack_require__(243),Remove:__webpack_require__(244),Repeat:__webpack_require__(245),RepeatDelay:__webpack_require__(246),Restart:__webpack_require__(247),Resume:__webpack_require__(248),Stop:__webpack_require__(249),TimeScale:__webpack_require__(250),TotalFrames:__webpack_require__(251),TotalProgress:__webpack_require__(252),Update:__webpack_require__(253),UpdateFrame:__webpack_require__(254),Yoyo:__webpack_require__(255)};/***/},/* 236 *//***/function(module,exports){//  Gets or sets the amount of time in seconds between repeats.\n//  For example, if repeat is 2 and repeatDelay is 1, the animation will play initially,\n//  then wait for 1 second before it repeats, then play again, then wait 1 second again\n//  before doing its final repeat.\nvar Delay=function Delay(value){if(value===undefined){return this._delay;}else{this._delay=value;return this;}};module.exports=Delay;/***/},/* 237 *//***/function(module,exports){var DelayedPlay=function DelayedPlay(delay,key,startFrame){this.play(key,startFrame);this.nextTick+=delay*1000;return this;};module.exports=DelayedPlay;/***/},/* 238 *//***/function(module,exports){var GetCurrentKey=function GetCurrentKey(){if(this.currentAnim){return this.currentAnim.key;}};module.exports=GetCurrentKey;/***/},/* 239 *//***/function(module,exports){var Load=function Load(key,startFrame){if(startFrame===undefined){startFrame=0;}if(this.isPlaying){this.stop();}//  Load the new animation in\nthis.animationManager.load(this,key,startFrame);return this;};module.exports=Load;/***/},/* 240 *//***/function(module,exports){var Pause=function Pause(atFrame){if(!this._paused){this._paused=true;this._wasPlaying=this.isPlaying;this.isPlaying=false;}if(atFrame!==undefined){this.updateFrame(atFrame);}return this;};module.exports=Pause;/***/},/* 241 *//***/function(module,exports){var Paused=function Paused(value){if(value!==undefined){//  Setter\nif(value){return this.pause();}else{return this.resume();}}else{return this._paused;}};module.exports=Paused;/***/},/* 242 *//***/function(module,exports){var Play=function Play(key,ignoreIfPlaying,startFrame){if(ignoreIfPlaying===undefined){ignoreIfPlaying=false;}if(startFrame===undefined){startFrame=0;}if(ignoreIfPlaying&&this.isPlaying&&this.currentAnim.key===key){return this;}this.load(key,startFrame);var anim=this.currentAnim;//  Should give us 9,007,199,254,740,991 safe repeats\nthis.repeatCounter=this._repeat===-1?Number.MAX_SAFE_INTEGER:this._repeat;anim.getFirstTick(this);this.forward=true;this.isPlaying=true;this.pendingRepeat=false;if(anim.showOnStart){this.parent.visible=true;}if(anim.onStart){anim.onStart.apply(anim.callbackScope,this._callbackArgs.concat(anim.onStartParams));}return this;};module.exports=Play;/***/},/* 243 *//***/function(module,exports){//  Value between 0 and 1. How far this animation is through, ignoring repeats and yoyos.\n//  If the animation has a non-zero repeat defined, progress and totalProgress will be different\n//  because progress doesn't include any repeats or repeatDelays whereas totalProgress does.\nvar Progress=function Progress(value){if(value===undefined){var p=this.currentFrame.progress;if(!this.forward){p=1-p;}return p;}else{//  TODO: Set progress\nreturn this;}};module.exports=Progress;/***/},/* 244 *//***/function(module,exports){var Remove=function Remove(event){if(event===undefined){event=this.currentAnim;}if(this.isPlaying&&event.key===this.currentAnim.key){this.stop();var sprite=this.parent;var frame=this.currentAnim.frames[0];this.currentFrame=frame;sprite.texture=frame.frame.texture;sprite.frame=frame.frame;}};module.exports=Remove;/***/},/* 245 *//***/function(module,exports){//  Gets or sets the number of times that the animation should repeat\n//  after its first iteration. For example, if repeat is 1, the animation will\n//  play a total of twice (the initial play plus 1 repeat).\n//  To repeat indefinitely, use -1. repeat should always be an integer.\nvar Repeat=function Repeat(value){if(value===undefined){return this._repeat;}else{this._repeat=value;this.repeatCounter=0;return this;}};module.exports=Repeat;/***/},/* 246 *//***/function(module,exports){//  Gets or sets the amount of time in seconds between repeats.\n//  For example, if repeat is 2 and repeatDelay is 1, the animation will play initially,\n//  then wait for 1 second before it repeats, then play again, then wait 1 second again\n//  before doing its final repeat.\nvar RepeatDelay=function RepeatDelay(value){if(value===undefined){return this._repeatDelay;}else{this._repeatDelay=value;return this;}};module.exports=RepeatDelay;/***/},/* 247 *//***/function(module,exports){var Restart=function Restart(includeDelay){if(includeDelay===undefined){includeDelay=false;}this.currentAnim.getFirstTick(this,includeDelay);this.forward=true;this.isPlaying=true;this.pendingRepeat=false;//  Set frame\nthis.updateFrame(this.currentAnim.frames[0]);return this;};module.exports=Restart;/***/},/* 248 *//***/function(module,exports){var Resume=function Resume(fromFrame){if(this._paused){this._paused=false;this.isPlaying=this._wasPlaying;}if(fromFrame!==undefined){this.updateFrame(fromFrame);}return this;};module.exports=Resume;/***/},/* 249 *//***/function(module,exports){var Stop=function Stop(dispatchCallbacks){if(dispatchCallbacks===undefined){dispatchCallbacks=false;}this.isPlaying=false;var anim=this.currentAnim;if(dispatchCallbacks&&anim.onComplete){anim.onComplete.apply(anim.callbackScope,this._callbackArgs.concat(anim.onCompleteParams));}return this;};module.exports=Stop;/***/},/* 250 *//***/function(module,exports){var TimeScale=function TimeScale(value){if(value===undefined){return this._timeScale;}else{this._timeScale=value;return this;}};module.exports=TimeScale;/***/},/* 251 *//***/function(module,exports){var TotalFrames=function TotalFrames(){return this.currentAnim.frames.length;};module.exports=TotalFrames;/***/},/* 252 *//***/function(module,exports){//  Value between 0 and 1. How far this animation is through, including things like delays\n//  repeats, custom frame durations, etc. If the animation is set to repeat -1 it can never\n//  have a duration, therefore this will return -1.\nvar TotalProgres=function TotalProgres(){};module.exports=TotalProgres;/***/},/* 253 *//***/function(module,exports){var Update=function Update(timestamp,delta){if(!this.isPlaying||this.currentAnim.paused){return;}this.accumulator+=delta*this._timeScale;if(this.accumulator>=this.nextTick){this.currentAnim.setFrame(this);}};module.exports=Update;/***/},/* 254 *//***/function(module,exports){var UpdateFrame=function UpdateFrame(animationFrame){var sprite=this.parent;this.currentFrame=animationFrame;sprite.texture=animationFrame.frame.texture;sprite.frame=animationFrame.frame;if(this.isPlaying){if(animationFrame.setAlpha){sprite.alpha=animationFrame.alpha;}var anim=this.currentAnim;if(anim.onUpdate){anim.onUpdate.apply(anim.callbackScope,this._updateParams);}if(animationFrame.onUpdate){animationFrame.onUpdate(sprite,animationFrame);}}};module.exports=UpdateFrame;/***/},/* 255 *//***/function(module,exports){var Yoyo=function Yoyo(value){if(value===undefined){return this._yoyo;}else{this._yoyo=value;return this;}};module.exports=Yoyo;/***/},/* 256 *//***/function(module,exports,__webpack_require__){var BlendModes=__webpack_require__(31);//  BlendMode Component\nvar BlendMode={_blendMode:BlendModes.NORMAL,blendMode:{get:function get(){return this._blendMode;},set:function set(value){value|0;if(value>=0){this._blendMode=value;}}},setBlendMode:function setBlendMode(value){this.blendMode=value;return this;}};module.exports=BlendMode;/***/},/* 257 *//***/function(module,exports){var ComputedSize={width:0,height:0,displayWidth:{get:function get(){return this.scaleX*this.width;},set:function set(value){this.scaleX=value/this.width;}},displayHeight:{get:function get(){return this.scaleY*this.height;},set:function set(value){this.scaleY=value/this.height;}}};module.exports=ComputedSize;/***/},/* 258 *//***/function(module,exports){var Flip={flipX:false,flipY:false,setFlipX:function setFlipX(value){this.flipX=value;return this;},setFlipY:function setFlipY(value){this.flipX=value;return this;},setFlip:function setFlip(x,y){this.flipX=x;this.flipY=y;return this;},resetFlip:function resetFlip(){this.flipX=false;this.flipY=false;}};module.exports=Flip;/***/},/* 259 *//***/function(module,exports){var GetBounds={getBounds:function getBounds(output){if(output===undefined){output={x:0,y:0,width:0,height:0};}var x=this.x;var y=this.y;var w=this.displayWidth;var h=this.displayHeight;var r=this.rotation;var wct=w*Math.cos(r);var hct=h*Math.cos(r);var wst=w*Math.sin(r);var hst=h*Math.sin(r);var xMin=x;var xMax=x;var yMin=y;var yMax=y;if(r>0){if(r<1.5707963267948966){// 0 < theta < 90\nyMax=y+hct+wst;xMin=x-hst;xMax=x+wct;}else{// 90 <= theta <= 180\nyMin=y+hct;yMax=y+wst;xMin=x-hst+wct;}}else if(r>-1.5707963267948966){// -90 < theta <= 0\nyMin=y+wst;yMax=y+hct;xMax=x+wct-hst;}else{// -180 <= theta <= -90\nyMin=y+wst+hct;xMin=x+wct;xMax=x-hst;}output.x=xMin;output.y=yMin;output.width=xMax-xMin;output.height=yMax-yMin;return output;}};module.exports=GetBounds;/***/},/* 260 *//***/function(module,exports){//  Origin Component\n//  Values are normalized, given in the range 0 to 1.\n//  Display values contain the calculated pixel values.\nvar Origin={originX:0.5,originY:0.5,//  READ ONLY\ndisplayOriginX:0,displayOriginY:0,setOrigin:function setOrigin(x,y){if(x===undefined){x=0.5;}if(y===undefined){y=x;}this.originX=x;this.originY=y;return this.updateOrigin();},setDisplayOrigin:function setDisplayOrigin(x,y){if(x===undefined){x=0;}if(y===undefined){y=x;}this.displayOriginX=x;this.displayOriginY=y;this.originX=this.width/x;this.originY=this.height/y;return this;},updateOrigin:function updateOrigin(){this.displayOriginX=Math.round(this.originX*this.width);this.displayOriginY=Math.round(this.originY*this.height);return this;}};module.exports=Origin;/***/},/* 261 *//***/function(module,exports){var RenderTarget={renderTarget:null};module.exports=RenderTarget;/***/},/* 262 *//***/function(module,exports,__webpack_require__){var ScaleModes=__webpack_require__(26);//  ScaleMode Component\nvar ScaleMode={_scaleMode:ScaleModes.DEFAULT,scaleMode:{get:function get(){return this._scaleMode;},set:function set(value){if(value===ScaleModes.LINEAR||value===ScaleModes.NEAREST){this._scaleMode=value;}}},setScaleMode:function setScaleMode(value){this.scaleMode=value;return this;}};module.exports=ScaleMode;/***/},/* 263 *//***/function(module,exports){var ScrollFactor={scrollFactorX:1.0,scrollFactorY:1.0,setScrollFactor:function setScrollFactor(x,y){if(y===undefined){y=x;}this.scrollFactorX=x;this.scrollFactorY=y;return this;}};module.exports=ScrollFactor;/***/},/* 264 *//***/function(module,exports){var Size={width:0,height:0,displayWidth:{get:function get(){return this.scaleX*this.frame.realWidth;},set:function set(value){this.scaleX=value/this.frame.realWidth;}},displayHeight:{get:function get(){return this.scaleY*this.frame.realHeight;},set:function set(value){this.scaleY=value/this.frame.realHeight;}},setSizeToFrame:function setSizeToFrame(frame){if(frame===undefined){frame=this.frame;}this.width=frame.realWidth;this.height=frame.realHeight;return this;},setSize:function setSize(width,height){this.width=width;this.height=height;return this;}};module.exports=Size;/***/},/* 265 *//***/function(module,exports){//  Texture Component\n//  bitmask flag for GameObject.renderMask\nvar _FLAG=8;// 1000\nvar Texture={texture:null,frame:null,setTexture:function setTexture(key,frame){this.texture=this.scene.sys.textures.get(key);this.frame=this.texture.get(frame);if(!this.frame.cutWidth||!this.frame.cutHeight){this.renderFlags&=~_FLAG;}else{this.renderFlags|=_FLAG;}return this;}};module.exports=Texture;/***/},/* 266 *//***/function(module,exports){var GetColor=function GetColor(value){return(value>>16)+(value&0xff00)+((value&0xff)<<16);};var Tint={//  0: topLeft, 1: topRight, 2: bottomLeft, 3: bottomRight\n_tintTL:16777215,_tintTR:16777215,_tintBL:16777215,_tintBR:16777215,clearTint:function clearTint(){this.setTint(0xffffff);return this;},setTint:function setTint(topLeft,topRight,bottomLeft,bottomRight){if(topLeft===undefined){topLeft=0xffffff;}if(topRight===undefined){topRight=topLeft;bottomLeft=topLeft;bottomRight=topLeft;}this._tintTL=GetColor(topLeft);this._tintTR=GetColor(topRight);this._tintBL=GetColor(bottomLeft);this._tintBR=GetColor(bottomRight);return this;},tintTopLeft:{get:function get(){return this._tintTL;},set:function set(value){this._tintTL=GetColor(value);}},tintTopRight:{get:function get(){return this._tintTR;},set:function set(value){this._tintTR=GetColor(value);}},tintBottomLeft:{get:function get(){return this._tintBL;},set:function set(value){this._tintBL=GetColor(value);}},tintBottomRight:{get:function get(){return this._tintBR;},set:function set(value){this._tintBR=GetColor(value);}},tint:{set:function set(value){this.setTint(value,value,value,value);}}};module.exports=Tint;/***/},/* 267 *//***/function(module,exports){//  Default Game Object JSON export\n//  Is extended further by Game Object specific implementations\nvar ToJSON=function ToJSON(gameObject){var out={name:gameObject.name,type:gameObject.type,x:gameObject.x,y:gameObject.y,z:gameObject.z,scale:{x:gameObject.scaleX,y:gameObject.scaleY},origin:{x:gameObject.originX,y:gameObject.originY},flipX:gameObject.flipX,flipY:gameObject.flipY,rotation:gameObject.rotation,alpha:gameObject.alpha,visible:gameObject.visible,scaleMode:gameObject.scaleMode,blendMode:gameObject.blendMode,textureKey:'',frameKey:'',data:{}};if(gameObject.texture){out.textureKey=gameObject.texture.key;out.frameKey=gameObject.frame.name;}return out;};module.exports=ToJSON;/***/},/* 268 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);var WrapAngle=__webpack_require__(111);var WrapAngleDegrees=__webpack_require__(112);//  global bitmask flag for GameObject.renderMask (used by Scale)\nvar _FLAG=4;// 0100\n//  Transform Component\nvar Transform={//  \"private\" properties\n_scaleX:1,_scaleY:1,_rotation:0,_z:0,//  public properties / methods\nx:0,y:0,z:{get:function get(){return this._z;},set:function set(value){this.scene.sys.sortChildrenFlag=true;this._z=value;}},scaleX:{get:function get(){return this._scaleX;},set:function set(value){this._scaleX=value;if(this._scaleX===0){this.renderFlags&=~_FLAG;}else{this.renderFlags|=_FLAG;}}},scaleY:{get:function get(){return this._scaleY;},set:function set(value){this._scaleY=value;if(this._scaleY===0){this.renderFlags&=~_FLAG;}else{this.renderFlags|=_FLAG;}}},angle:{get:function get(){return WrapAngleDegrees(this._rotation*MATH_CONST.RAD_TO_DEG);},set:function set(value){//  value is in degrees\nthis.rotation=WrapAngleDegrees(value)*MATH_CONST.DEG_TO_RAD;}},rotation:{get:function get(){return this._rotation;},set:function set(value){//  value is in radians\nthis._rotation=WrapAngle(value);}},setPosition:function setPosition(x,y){if(x===undefined){x=0;}if(y===undefined){y=x;}this.x=x;this.y=y;return this;},setRotation:function setRotation(radians){if(radians===undefined){radians=0;}this.rotation=radians;return this;},setAngle:function setAngle(degrees){if(degrees===undefined){degrees=0;}this.angle=degrees;return this;},setScale:function setScale(x,y){if(x===undefined){x=1;}if(y===undefined){y=x;}this.scaleX=x;this.scaleY=y;return this;},setZ:function setZ(value){if(value===undefined){value=0;}this.z=value;return this;}};module.exports=Transform;/***/},/* 269 *//***/function(module,exports){//  Visible Component\n//  bitmask flag for GameObject.renderMask\nvar _FLAG=1;// 0001\nvar Visible={_visible:true,visible:{get:function get(){return this._visible;},set:function set(value){if(value){this._visible=true;this.renderFlags|=_FLAG;}else{this._visible=false;this.renderFlags&=~_FLAG;}}},setVisible:function setVisible(value){this.visible=value;return this;}};module.exports=Visible;/***/},/* 270 *//***/function(module,exports){var IncAlpha=function IncAlpha(items,value){for(var i=0;i<items.length;i++){items[i].alpha+=value;}return items;};module.exports=IncAlpha;/***/},/* 271 *//***/function(module,exports){var IncX=function IncX(items,value){for(var i=0;i<items.length;i++){items[i].x+=value;}return items;};module.exports=IncX;/***/},/* 272 *//***/function(module,exports){var IncXY=function IncXY(items,x,y){for(var i=0;i<items.length;i++){items[i].x+=x;items[i].y+=y;}return items;};module.exports=IncXY;/***/},/* 273 *//***/function(module,exports){var IncY=function IncY(items,value){for(var i=0;i<items.length;i++){items[i].y+=value;}return items;};module.exports=IncY;/***/},/* 274 *//***/function(module,exports){var PlaceOnCircle=function PlaceOnCircle(items,circle,startAngle,endAngle){if(startAngle===undefined){startAngle=0;}if(endAngle===undefined){endAngle=6.28;}var angle=startAngle;var angleStep=(endAngle-startAngle)/items.length;for(var i=0;i<items.length;i++){items[i].x=circle.x+circle.radius*Math.cos(angle);items[i].y=circle.y+circle.radius*Math.sin(angle);angle+=angleStep;}return items;};module.exports=PlaceOnCircle;/***/},/* 275 *//***/function(module,exports){var PlaceOnEllipse=function PlaceOnEllipse(items,ellipse,startAngle,endAngle){if(startAngle===undefined){startAngle=0;}if(endAngle===undefined){endAngle=6.28;}var angle=startAngle;var angleStep=(endAngle-startAngle)/items.length;var a=ellipse.width/2;var b=ellipse.height/2;for(var i=0;i<items.length;i++){items[i].x=ellipse.x+a*Math.cos(angle);items[i].y=ellipse.y+b*Math.sin(angle);angle+=angleStep;}return items;};module.exports=PlaceOnEllipse;/***/},/* 276 *//***/function(module,exports,__webpack_require__){var GetPointsOnLine=__webpack_require__(62);var PlaceOnLine=function PlaceOnLine(items,line){var points=GetPointsOnLine(line);var step=points.length/items.length;var p=0;for(var i=0;i<items.length;i++){var item=items[i];var point=points[Math.floor(p)];item.x=point[0];item.y=point[1];p+=step;}return items;};module.exports=PlaceOnLine;/***/},/* 277 *//***/function(module,exports,__webpack_require__){var MarchingAnts=__webpack_require__(113);var RotateLeft=__webpack_require__(115);var RotateRight=__webpack_require__(116);//  Place the items in the array around the perimeter of the given rectangle.\n//  Placement starts from the top-left of the rectangle, and proceeds in a\n//  clockwise direction. If the shift parameter is given you can offset where\n//  placement begins.\nvar PlaceOnRectangle=function PlaceOnRectangle(items,rect,shift){if(shift===undefined){shift=0;}var points=MarchingAnts(rect,false,items.length);if(shift>0){RotateLeft(points,shift);}else if(shift<0){RotateRight(points,Math.abs(shift));}for(var i=0;i<items.length;i++){items[i].x=points[i].x;items[i].y=points[i].y;}return items;};module.exports=PlaceOnRectangle;/***/},/* 278 *//***/function(module,exports,__webpack_require__){var GetPointsOnLine=__webpack_require__(62);var PlaceOnTriangle=function PlaceOnTriangle(items,triangle,stepRate){var p1=GetPointsOnLine({x1:triangle.x1,y1:triangle.y1,x2:triangle.x2,y2:triangle.y2},stepRate);var p2=GetPointsOnLine({x1:triangle.x2,y1:triangle.y2,x2:triangle.x3,y2:triangle.y3},stepRate);var p3=GetPointsOnLine({x1:triangle.x3,y1:triangle.y3,x2:triangle.x1,y2:triangle.y1},stepRate);//  Remove overlaps\np1.pop();p2.pop();p3.pop();p1=p1.concat(p2,p3);var step=p1.length/items.length;var p=0;for(var i=0;i<items.length;i++){var item=items[i];var point=p1[Math.floor(p)];item.x=point[0];item.y=point[1];p+=step;}return items;};module.exports=PlaceOnTriangle;/***/},/* 279 *//***/function(module,exports){var PlayAnimation=function PlayAnimation(items,key,startFrame){for(var i=0;i<items.length;i++){items[i].anims.play(key,startFrame);}return items;};module.exports=PlayAnimation;/***/},/* 280 *//***/function(module,exports,__webpack_require__){var Random=__webpack_require__(117);var RandomCircle=function RandomCircle(items,circle){for(var i=0;i<items.length;i++){Random(circle,items[i]);}return items;};module.exports=RandomCircle;/***/},/* 281 *//***/function(module,exports,__webpack_require__){var Random=__webpack_require__(118);var RandomEllipse=function RandomEllipse(items,ellipse){for(var i=0;i<items.length;i++){Random(ellipse,items[i]);}return items;};module.exports=RandomEllipse;/***/},/* 282 *//***/function(module,exports,__webpack_require__){var Random=__webpack_require__(119);var RandomLine=function RandomLine(items,line){for(var i=0;i<items.length;i++){Random(line,items[i]);}return items;};module.exports=RandomLine;/***/},/* 283 *//***/function(module,exports,__webpack_require__){var Random=__webpack_require__(120);var RandomRectangle=function RandomRectangle(items,rect){for(var i=0;i<items.length;i++){Random(rect,items[i]);}return items;};module.exports=RandomRectangle;/***/},/* 284 *//***/function(module,exports,__webpack_require__){var Random=__webpack_require__(121);var RandomTriangle=function RandomTriangle(items,triangle){for(var i=0;i<items.length;i++){Random(triangle,items[i]);}return items;};module.exports=RandomTriangle;/***/},/* 285 *//***/function(module,exports){var Rotate=function Rotate(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].rotation+=value+i*step;}return items;};module.exports=Rotate;/***/},/* 286 *//***/function(module,exports,__webpack_require__){var RotateAroundDistance=__webpack_require__(63);var DistanceBetween=__webpack_require__(51);//  point = any object with public x/y properties\nvar RotateAround=function RotateAround(items,point,angle){var x=point.x;var y=point.y;for(var i=0;i<items.length;i++){var item=items[i];RotateAroundDistance(item,x,y,angle,Math.max(1,DistanceBetween(item.x,item.y,x,y)));}return items;};module.exports=RotateAround;/***/},/* 287 *//***/function(module,exports,__webpack_require__){var MathRotateAroundDistance=__webpack_require__(63);//  point = any object with public x/y properties\n//  angle = radians\n//  distance = px\nvar RotateAroundDistance=function RotateAroundDistance(items,point,angle,distance){var x=point.x;var y=point.y;for(var i=0;i<items.length;i++){MathRotateAroundDistance(items[i],x,y,angle,distance);}return items;};module.exports=RotateAroundDistance;/***/},/* 288 *//***/function(module,exports){var ScaleX=function ScaleX(items,value){for(var i=0;i<items.length;i++){items[i].scaleX+=value;}return items;};module.exports=ScaleX;/***/},/* 289 *//***/function(module,exports){var ScaleXY=function ScaleXY(items,x,y){for(var i=0;i<items.length;i++){items[i].scaleX+=x;items[i].scaleY+=y;}return items;};module.exports=ScaleXY;/***/},/* 290 *//***/function(module,exports){var ScaleY=function ScaleY(items,value){for(var i=0;i<items.length;i++){items[i].scaleY+=value;}return items;};module.exports=ScaleY;/***/},/* 291 *//***/function(module,exports){var SetAlpha=function SetAlpha(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].alpha=value+i*step;}return items;};module.exports=SetAlpha;/***/},/* 292 *//***/function(module,exports){var SetHitArea=function SetHitArea(items,hitArea,hitAreaCallback){for(var i=0;i<items.length;i++){items[i].setHitArea(hitArea,hitAreaCallback);}return items;};module.exports=SetHitArea;/***/},/* 293 *//***/function(module,exports){var SetOrigin=function SetOrigin(items,x,y){for(var i=0;i<items.length;i++){items[i].setOrigin(x,y);}return items;};module.exports=SetOrigin;/***/},/* 294 *//***/function(module,exports){var SetRotation=function SetRotation(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].rotation=value+i*step;}return items;};module.exports=SetRotation;/***/},/* 295 *//***/function(module,exports){var SetScale=function SetScale(items,x,y,stepX,stepY){if(stepX===undefined){stepX=0;}if(stepY===undefined){stepY=0;}for(var i=0;i<items.length;i++){items[i].setScale(x+i*stepX,y+i*stepY);}return items;};module.exports=SetScale;/***/},/* 296 *//***/function(module,exports){var SetScaleX=function SetScaleX(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].scaleX=value+i*step;}return items;};module.exports=SetScaleX;/***/},/* 297 *//***/function(module,exports){var SetScaleY=function SetScaleY(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].scaleY=value+i*step;}return items;};module.exports=SetScaleY;/***/},/* 298 *//***/function(module,exports){var SetVisible=function SetVisible(items,value){for(var i=0;i<items.length;i++){items[i].visible=value;}return items;};module.exports=SetVisible;/***/},/* 299 *//***/function(module,exports){var SetX=function SetX(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].x=value+i*step;}return items;};module.exports=SetX;/***/},/* 300 *//***/function(module,exports){var SetXY=function SetXY(items,x,y,stepX,stepY){if(stepX===undefined){stepX=0;}if(stepY===undefined){stepY=0;}for(var i=0;i<items.length;i++){items[i].x=x+i*stepX;items[i].y=y+i*stepY;}return items;};module.exports=SetXY;/***/},/* 301 *//***/function(module,exports){var SetY=function SetY(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].y=value+i*step;}return items;};module.exports=SetY;/***/},/* 302 *//***/function(module,exports){var SetZ=function SetZ(items,value,step){if(step===undefined){step=0;}for(var i=0;i<items.length;i++){items[i].z=value+i*step;}return items;};module.exports=SetZ;/***/},/* 303 *//***/function(module,exports){//  Iterate through items changing the position of each element to\n//  be that of the element that came before it in the array (or after it if direction = 1)\n//  The first items position is set to x/y.\n//  The final x/y coords are returned\nvar ShiftPosition=function ShiftPosition(items,x,y,direction,output){if(direction===undefined){direction=0;}if(output===undefined){output={x:0,y:0};}var px;var py;if(items.length>1){var i;var cx;var cy;var cur;if(direction===0){//  Bottom to Top\nvar len=items.length-1;px=items[len].x;py=items[len].y;for(i=len-1;i>=0;i--){//  Current item\ncur=items[i];//  Get current item x/y, to be passed to the next item in the list\ncx=cur.x;cy=cur.y;//  Set current item to the previous items x/y\ncur.x=px;cur.y=py;//  Set current as previous\npx=cx;py=cy;}//  Update the head item to the new x/y coordinates\nitems[len].x=x;items[len].y=y;}else{//  Top to Bottom\npx=items[0].x;py=items[0].y;for(i=1;i<items.length;i++){//  Current item\ncur=items[i];//  Get current item x/y, to be passed to the next item in the list\ncx=cur.x;cy=cur.y;//  Set current item to the previous items x/y\ncur.x=px;cur.y=py;//  Set current as previous\npx=cx;py=cy;}//  Update the head item to the new x/y coordinates\nitems[0].x=x;items[0].y=y;}}else{px=items[0].x;py=items[0].y;items[0].x=x;items[0].y=y;}//  Return the final set of coordinates as they're effectively lost from the shift and may be needed\noutput.x=px;output.y=py;return output;};module.exports=ShiftPosition;/***/},/* 304 *//***/function(module,exports,__webpack_require__){var MathSmootherStep=__webpack_require__(122);var SmootherStep=function SmootherStep(items,property,min,max,inc){if(inc===undefined){inc=false;}var step=Math.abs(max-min)/items.length;var i;if(inc){for(i=0;i<items.length;i++){items[i][property]+=MathSmootherStep(i*step,min,max);}}else{for(i=0;i<items.length;i++){items[i][property]=MathSmootherStep(i*step,min,max);}}return items;};module.exports=SmootherStep;/***/},/* 305 *//***/function(module,exports,__webpack_require__){var MathSmoothStep=__webpack_require__(123);var SmoothStep=function SmoothStep(items,property,min,max,inc){if(inc===undefined){inc=false;}var step=Math.abs(max-min)/items.length;var i;if(inc){for(i=0;i<items.length;i++){items[i][property]+=MathSmoothStep(i*step,min,max);}}else{for(i=0;i<items.length;i++){items[i][property]=MathSmoothStep(i*step,min,max);}}return items;};module.exports=SmoothStep;/***/},/* 306 *//***/function(module,exports){var Spread=function Spread(items,property,min,max,inc){if(inc===undefined){inc=false;}var step=Math.abs(max-min)/items.length;var i;if(inc){for(i=0;i<items.length;i++){items[i][property]+=i*step;}}else{for(i=0;i<items.length;i++){items[i][property]=i*step;}}return items;};module.exports=Spread;/***/},/* 307 *//***/function(module,exports){var ToggleVisible=function ToggleVisible(items){for(var i=0;i<items.length;i++){items[i].visible=!items[i].visible;}return items;};module.exports=ToggleVisible;/***/},/* 308 *//***/function(module,exports,__webpack_require__){//  Phaser.Create\nmodule.exports={GenerateTexture:__webpack_require__(124),Grid:__webpack_require__(309),Palettes:__webpack_require__(310)};/***/},/* 309 *//***/function(module,exports){/*\nimport Canvas from 'canvas/Canvas.js';\nimport GetContext from 'canvas/GetContext.js';\n\nexport default function Grid  (\n        {\n            canvas = undefined,\n            width = 256,\n            height = width,\n            cellWidth = 32,\n            cellHeight = cellWidth,\n            color1 = '#fff',\n            color2 = '#000',\n            drawLines = false,\n            lineColor = '#ff0000',\n            alternate = true,\n            resizeCanvas = true,\n            clear = true,\n            preRender = undefined,\n            postRender = undefined\n        } = {}\n    ) {\n\n    if (!canvas)\n    {\n        canvas = Canvas(width, height);\n        resizeCanvas = false;\n        clear = false;\n    }\n    else\n    {\n        //  They provided own canvas, so we use its dimensions\n        if (!resizeCanvas)\n        {\n            width = canvas.width;\n            height = canvas.height;\n        }\n    }\n\n    let ctx = GetContext(canvas);\n\n    if (resizeCanvas)\n    {\n        Resize(canvas, width, height);\n    }\n\n    if (clear)\n    {\n        ctx.clearRect(0, 0, width, height);\n    }\n\n    if (drawLines)\n    {\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = lineColor;\n    }\n\n    //  preRender Callback?\n    if (preRender)\n    {\n        preRender(canvas, ctx);\n    }\n\n    //  Draw the grid cells first (the lines go on top)\n\n    let cx = Math.ceil(width / cellWidth);\n    let cy = Math.ceil(height / cellHeight);\n    let c = 0;\n    let color = color1;\n\n    for (let y = 0; y < cy; y++)\n    {\n        for (let x = 0; x < cx; x++)\n        {\n            if (c === 0)\n            {\n                color = color1;\n                c = 1;\n            }\n            else\n            {\n                color = color2;\n                c = 0;\n            }\n\n            if (color)\n            {\n                ctx.fillStyle = color;\n                ctx.fillRect(x * cellWidth, y * cellHeight, cellWidth, cellHeight);\n            }\n\n            if (drawLines)\n            {\n                //  +- 0.5 because we're using stroke, and will get anti-aliased line strokes without\n                let ox = 0.5;\n                let oy = 0.5;\n\n                if (x === cx - 1)\n                {\n                    ox = -0.5;\n                }\n\n                if (y === cy - 1)\n                {\n                    oy = -0.5;\n                }\n\n                ctx.strokeRect((x * cellWidth) + ox, (y * cellHeight) + oy, cellWidth, cellHeight);\n            }\n        }\n\n        if (alternate)\n        {\n            if (c === 0)\n            {\n                c = 1;\n            }\n            else\n            {\n                c = 0;\n            }\n        }\n\n    }\n\n    //  postRender Callback?\n    if (postRender)\n    {\n        postRender(canvas, ctx);\n    }\n\n    return canvas;\n\n}\n*//***/},/* 310 *//***/function(module,exports,__webpack_require__){module.exports={ARNE16:__webpack_require__(125),C64:__webpack_require__(311),CGA:__webpack_require__(312),JMP:__webpack_require__(313),MSX:__webpack_require__(314)};/***/},/* 311 *//***/function(module,exports){// A 16 color C64 inspired palette.\nmodule.exports={0:'#000',1:'#fff',2:'#8b4131',3:'#7bbdc5',4:'#8b41ac',5:'#6aac41',6:'#3931a4',7:'#d5de73',8:'#945a20',9:'#5a4100',A:'#bd736a',B:'#525252',C:'#838383',D:'#acee8b',E:'#7b73de',F:'#acacac'};/***/},/* 312 *//***/function(module,exports){// A 16 color CGA inspired palette by [Arne](http://androidarts.com/palette/16pal.htm)\nmodule.exports={0:'#000',1:'#2234d1',2:'#0c7e45',3:'#44aacc',4:'#8a3622',5:'#5c2e78',6:'#aa5c3d',7:'#b5b5b5',8:'#5e606e',9:'#4c81fb',A:'#6cd947',B:'#7be2f9',C:'#eb8a60',D:'#e23d69',E:'#ffd93f',F:'#fff'};/***/},/* 313 *//***/function(module,exports){// A 16 color JMP palette by [Arne](http://androidarts.com/palette/16pal.htm)\nmodule.exports={0:'#000',1:'#191028',2:'#46af45',3:'#a1d685',4:'#453e78',5:'#7664fe',6:'#833129',7:'#9ec2e8',8:'#dc534b',9:'#e18d79',A:'#d6b97b',B:'#e9d8a1',C:'#216c4b',D:'#d365c8',E:'#afaab9',F:'#f5f4eb'};/***/},/* 314 *//***/function(module,exports){// A 16 color palette inspired by Japanese computers like the MSX.\nmodule.exports={0:'#000',1:'#191028',2:'#46af45',3:'#a1d685',4:'#453e78',5:'#7664fe',6:'#833129',7:'#9ec2e8',8:'#dc534b',9:'#e18d79',A:'#d6b97b',B:'#e9d8a1',C:'#216c4b',D:'#d365c8',E:'#afaab9',F:'#fff'};/***/},/* 315 *//***/function(module,exports,__webpack_require__){//  Phaser.DOM\nmodule.exports={AddEventListener:__webpack_require__(316),AddToDOM:__webpack_require__(126),CanvasInterpolation:__webpack_require__(65),CanvasPool:__webpack_require__(11),DOMContentLoaded:__webpack_require__(127),ParseXML:__webpack_require__(128),RemoveEventListener:__webpack_require__(318),RemoveFromDOM:__webpack_require__(319),RequestAnimationFrame:__webpack_require__(129),Smoothing:__webpack_require__(64),TouchAction:__webpack_require__(320),UserSelect:__webpack_require__(321)};/***/},/* 316 *//***/function(module,exports){var AddEventListener=function AddEventListener(target,event,listener,useCapture){if(useCapture===undefined){useCapture=false;}target.addEventListener(event,listener,useCapture);};module.exports=AddEventListener;/***/},/* 317 *//***/function(module,exports){// shim for using process in browser\nvar process=module.exports={};// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\nvar cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error('setTimeout has not been defined');}function defaultClearTimeout(){throw new Error('clearTimeout has not been defined');}(function(){try{if(typeof setTimeout==='function'){cachedSetTimeout=setTimeout;}else{cachedSetTimeout=defaultSetTimout;}}catch(e){cachedSetTimeout=defaultSetTimout;}try{if(typeof clearTimeout==='function'){cachedClearTimeout=clearTimeout;}else{cachedClearTimeout=defaultClearTimeout;}}catch(e){cachedClearTimeout=defaultClearTimeout;}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){//normal enviroments in sane situations\nreturn setTimeout(fun,0);}// if setTimeout wasn't available but was latter defined\nif((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0);}try{// when when somebody has screwed with setTimeout but no I.E. maddness\nreturn cachedSetTimeout(fun,0);}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\nreturn cachedSetTimeout.call(null,fun,0);}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\nreturn cachedSetTimeout.call(this,fun,0);}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){//normal enviroments in sane situations\nreturn clearTimeout(marker);}// if clearTimeout wasn't available but was latter defined\nif((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker);}try{// when when somebody has screwed with setTimeout but no I.E. maddness\nreturn cachedClearTimeout(marker);}catch(e){try{// When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\nreturn cachedClearTimeout.call(null,marker);}catch(e){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n// Some versions of I.E. have different rules for clearTimeout vs setTimeout\nreturn cachedClearTimeout.call(this,marker);}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return;}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}if(queue.length){drainQueue();}}function drainQueue(){if(draining){return;}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}queueIndex=-1;len=queue.length;}currentQueue=null;draining=false;runClearTimeout(timeout);}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue);}};// v8 likes predictible objects\nfunction Item(fun,array){this.fun=fun;this.array=array;}Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';// empty string to avoid regexp issues\nprocess.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[];};process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/';};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};/***/},/* 318 *//***/function(module,exports){var RemoveEventListener=function RemoveEventListener(target,event,listener){target.removeEventListener(event,listener);};module.exports=RemoveEventListener;/***/},/* 319 *//***/function(module,exports){var RemoveFromDOM=function RemoveFromDOM(element){if(element.parentNode){element.parentNode.removeChild(element);}};module.exports=RemoveFromDOM;/***/},/* 320 *//***/function(module,exports){/**\n* Sets the touch-action property on the canvas style. Can be used to disable default browser touch actions.\n*/var TouchAction=function TouchAction(canvas,value){if(value===undefined){value='none';}canvas.style['msTouchAction']=value;canvas.style['ms-touch-action']=value;canvas.style['touch-action']=value;return canvas;};module.exports=TouchAction;/***/},/* 321 *//***/function(module,exports){/**\n* Sets the user-select property on the canvas style. Can be used to disable default browser selection actions.\n*/var UserSelect=function UserSelect(canvas,value){if(value===undefined){value='none';}var vendors=['-webkit-','-khtml-','-moz-','-ms-',''];vendors.forEach(function(vendor){canvas.style[vendor+'user-select']=value;});canvas.style['-webkit-touch-callout']=value;canvas.style['-webkit-tap-highlight-color']='rgba(0, 0, 0, 0)';return canvas;};module.exports=UserSelect;/***/},/* 322 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Config=__webpack_require__(323);var DebugHeader=__webpack_require__(371);var Device=__webpack_require__(373);var NOOP=__webpack_require__(28);var AddToDOM=__webpack_require__(126);var DOMContentLoaded=__webpack_require__(127);var EventDispatcher=__webpack_require__(25);var VisibilityHandler=__webpack_require__(380);var AnimationManager=__webpack_require__(381);var CreateRenderer=__webpack_require__(418);var Data=__webpack_require__(163);var GlobalCache=__webpack_require__(449);var GlobalInputManager=__webpack_require__(454);var GlobalSceneManager=__webpack_require__(472);var TextureManager=__webpack_require__(725);var TimeStep=__webpack_require__(738);var Game=new Class({initialize:function Game(config){this.config=new Config(config);this.renderer=null;this.canvas=null;this.context=null;this.isBooted=false;this.isRunning=false;this.events=new EventDispatcher();this.anims=new AnimationManager(this);this.textures=new TextureManager(this);this.cache=new GlobalCache(this);this.registry=new Data(this);this.input=new GlobalInputManager(this,this.config);this.scene=new GlobalSceneManager(this,this.config.sceneConfig);this.device=Device;this.loop=new TimeStep(this,this.config.fps);this.onStepCallback=NOOP;//  Wait for the DOM Ready event, then call boot.\nDOMContentLoaded(this.boot.bind(this));//  For debugging only\nwindow.game=this;},boot:function boot(){this.isBooted=true;this.config.preBoot();DebugHeader(this);CreateRenderer(this);AddToDOM(this.canvas,this.config.parent);this.anims.boot(this.textures);this.scene.boot();this.input.boot();this.isRunning=true;this.config.postBoot();this.loop.start(this.step.bind(this));VisibilityHandler(this.events);this.events.on('HIDDEN',this.onHidden.bind(this));this.events.on('VISIBLE',this.onVisible.bind(this));this.events.on('ON_BLUR',this.onBlur.bind(this));this.events.on('ON_FOCUS',this.onFocus.bind(this));},step:function step(time,delta){var active=this.scene.active;var renderer=this.renderer;//  Global Managers (Time, Input, etc)\nthis.input.update(time,delta);//  Scenes\nthis.onStepCallback();for(var i=0;i<active.length;i++){active[i].scene.sys.step(time,delta);}//  Render\n// var interpolation = this.frameDelta / this.timestep;\nrenderer.preRender();//  This uses active.length, in case scene.update removed the scene from the active list\nfor(i=0;i<active.length;i++){active[i].scene.sys.render(0,renderer);}renderer.postRender();},onHidden:function onHidden(){this.loop.pause();// var active = this.scene.active;\n// for (var i = 0; i < active.length; i++)\n// {\n//     active[i].scene.sys.pause();\n// }\n},onVisible:function onVisible(){this.loop.resume();// var active = this.scene.active;\n// for (var i = 0; i < active.length; i++)\n// {\n//     active[i].scene.sys.resume();\n// }\n},onBlur:function onBlur(){this.loop.blur();},onFocus:function onFocus(){this.loop.focus();}});module.exports=Game;/***/},/* 323 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(4);var GetValue=__webpack_require__(2);var MATH=__webpack_require__(66);var NOOP=__webpack_require__(28);var ValueToColor=__webpack_require__(52);var Config=new Class({initialize:function Config(config){if(config===undefined){config={};}var defaultBannerColor=['#ff0000','#ffff00','#00ff00','#00ffff','#000000'];var defaultBannerTextColor='#ffffff';this.width=GetValue(config,'width',1024);this.height=GetValue(config,'height',768);this.zoom=GetValue(config,'zoom',1);this.resolution=GetValue(config,'resolution',1);this.renderType=GetValue(config,'type',CONST.AUTO);this.parent=GetValue(config,'parent',null);this.canvas=GetValue(config,'canvas',null);this.canvasStyle=GetValue(config,'canvasStyle',null);this.sceneConfig=GetValue(config,'scene',null);this.seed=GetValue(config,'seed',[(Date.now()*Math.random()).toString()]);MATH.RND.init(this.seed);this.gameTitle=GetValue(config,'title','');this.gameURL=GetValue(config,'url','http://phaser.io');this.gameVersion=GetValue(config,'version','');//  Input\nthis.inputKeyboard=GetValue(config,'input.keyboard',true);this.inputKeyboardEventTarget=GetValue(config,'input.keyboard.target',window);this.inputMouse=GetValue(config,'input.mouse',true);this.inputMouseEventTarget=GetValue(config,'input.mouse.target',null);this.inputTouch=GetValue(config,'input.touch',true);this.inputTouchEventTarget=GetValue(config,'input.touch.target',null);this.disableContextMenu=GetValue(config,'disableContextMenu',false);//  If you do: { banner: false } it won't display any banner at all\nthis.hideBanner=GetValue(config,'banner',null)===false;this.hidePhaser=GetValue(config,'banner.hidePhaser',false);this.bannerTextColor=GetValue(config,'banner.text',defaultBannerTextColor);this.bannerBackgroundColor=GetValue(config,'banner.background',defaultBannerColor);//  Frame Rate config\n//      fps: {\n//          min: 10,\n//          target: 60,\n//          max: 120\n//          forceSetTimeOut: false,\n//          deltaHistory: 10\n//     }\nthis.fps=GetValue(config,'fps',null);this.pixelArt=GetValue(config,'pixelArt',false);this.transparent=GetValue(config,'transparent',false);this.clearBeforeRender=GetValue(config,'clearBeforeRender',true);this.backgroundColor=ValueToColor(GetValue(config,'backgroundColor',0));this.preserveDrawingBuffer=ValueToColor(GetValue(config,'preserveDrawingBuffer',false));//  Callbacks\nthis.preBoot=GetValue(config,'callbacks.preBoot',NOOP);this.postBoot=GetValue(config,'callbacks.postBoot',NOOP);this.useTicker=GetValue(config,'useTicker',false);//  Default / Missing Images\nvar pngPrefix='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg';this.defaultImage=GetValue(config,'images.default',pngPrefix+'AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==');this.missingImage=GetValue(config,'images.missing',pngPrefix+'CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==');}});module.exports=Config;/***/},/* 324 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var RandomDataGenerator=new Class({initialize:function RandomDataGenerator(seeds){/**\n        * @property {number} c - Internal var.\n        * @private\n        */this.c=1;/**\n        * @property {number} s0 - Internal var.\n        * @private\n        */this.s0=0;/**\n        * @property {number} s1 - Internal var.\n        * @private\n        */this.s1=0;/**\n        * @property {number} s2 - Internal var.\n        * @private\n        */this.s2=0;/**\n        * @property {Array} sign - Internal var.\n        * @private\n        */this.sign=[-1,1];if(seeds){this.init(seeds);}},/**\n    * Private random helper.\n    *\n    * @method Phaser.RandomDataGenerator#rnd\n    * @private\n    * @return {number}\n    */rnd:function rnd(){var t=2091639*this.s0+this.c*2.3283064365386963e-10;// 2^-32\nthis.c=t|0;this.s0=this.s1;this.s1=this.s2;this.s2=t-this.c;return this.s2;},/**\n    * Internal method that creates a seed hash.\n    *\n    * @method Phaser.RandomDataGenerator#hash\n    * @private\n    * @param {any} data\n    * @return {number} hashed value.\n    */hash:function hash(data){var h;var n=0xefc8249d;data=data.toString();for(var i=0;i<data.length;i++){n+=data.charCodeAt(i);h=0.02519603282416938*n;n=h>>>0;h-=n;h*=n;n=h>>>0;h-=n;n+=h*0x100000000;// 2^32\n}return(n>>>0)*2.3283064365386963e-10;// 2^-32\n},init:function init(seeds){if(typeof seeds==='string'){this.state(seeds);}else{this.sow(seeds);}},/**\n    * Reset the seed of the random data generator.\n    *\n    * _Note_: the seed array is only processed up to the first `undefined` (or `null`) value, should such be present.\n    *\n    * @method Phaser.RandomDataGenerator#sow\n    * @param {any[]} seeds - The array of seeds: the `toString()` of each value is used.\n    */sow:function sow(seeds){// Always reset to default seed\nthis.s0=this.hash(' ');this.s1=this.hash(this.s0);this.s2=this.hash(this.s1);this.c=1;if(!seeds){return;}// Apply any seeds\nfor(var i=0;i<seeds.length&&seeds[i]!=null;i++){var seed=seeds[i];this.s0-=this.hash(seed);this.s0+=~~(this.s0<0);this.s1-=this.hash(seed);this.s1+=~~(this.s1<0);this.s2-=this.hash(seed);this.s2+=~~(this.s2<0);}},/**\n    * Returns a random integer between 0 and 2^32.\n    *\n    * @method Phaser.RandomDataGenerator#integer\n    * @return {number} A random integer between 0 and 2^32.\n    */integer:function integer(){// 2^32\nreturn this.rnd()*0x100000000;},/**\n    * Returns a random real number between 0 and 1.\n    *\n    * @method Phaser.RandomDataGenerator#frac\n    * @return {number} A random real number between 0 and 1.\n    */frac:function frac(){// 2^-53\nreturn this.rnd()+(this.rnd()*0x200000|0)*1.1102230246251565e-16;},/**\n    * Returns a random real number between 0 and 2^32.\n    *\n    * @method Phaser.RandomDataGenerator#real\n    * @return {number} A random real number between 0 and 2^32.\n    */real:function real(){return this.integer()+this.frac();},/**\n    * Returns a random integer between and including min and max.\n    *\n    * @method Phaser.RandomDataGenerator#integerInRange\n    * @param {number} min - The minimum value in the range.\n    * @param {number} max - The maximum value in the range.\n    * @return {number} A random number between min and max.\n    */integerInRange:function integerInRange(min,max){return Math.floor(this.realInRange(0,max-min+1)+min);},/**\n    * Returns a random integer between and including min and max.\n    * This method is an alias for RandomDataGenerator.integerInRange.\n    *\n    * @method Phaser.RandomDataGenerator#between\n    * @param {number} min - The minimum value in the range.\n    * @param {number} max - The maximum value in the range.\n    * @return {number} A random number between min and max.\n    */between:function between(min,max){return this.integerInRange(min,max);},/**\n    * Returns a random real number between min and max.\n    *\n    * @method Phaser.RandomDataGenerator#realInRange\n    * @param {number} min - The minimum value in the range.\n    * @param {number} max - The maximum value in the range.\n    * @return {number} A random number between min and max.\n    */realInRange:function realInRange(min,max){return this.frac()*(max-min)+min;},/**\n    * Returns a random real number between -1 and 1.\n    *\n    * @method Phaser.RandomDataGenerator#normal\n    * @return {number} A random real number between -1 and 1.\n    */normal:function normal(){return 1-2*this.frac();},/**\n    * Returns a valid RFC4122 version4 ID hex string from https://gist.github.com/1308368\n    *\n    * @method Phaser.RandomDataGenerator#uuid\n    * @return {string} A valid RFC4122 version4 ID hex string\n    */uuid:function uuid(){var a='';var b='';for(b=a='';a++<36;b+=~a%5|a*3&4?(a^15?8^this.frac()*(a^20?16:4):4).toString(16):'-'){}return b;},/**\n    * Returns a random member of `array`.\n    *\n    * @method Phaser.RandomDataGenerator#pick\n    * @param {Array} array - An Array to pick a random member of.\n    * @return {any} A random member of the array.\n    */pick:function pick(array){return array[this.integerInRange(0,array.length-1)];},/**\n    * Returns a sign to be used with multiplication operator.\n    *\n    * @method Phaser.RandomDataGenerator#sign\n    * @return {number} -1 or +1.\n    */sign:function sign(){return this.pick(this.sign);},/**\n    * Returns a random member of `array`, favoring the earlier entries.\n    *\n    * @method Phaser.RandomDataGenerator#weightedPick\n    * @param {Array} array - An Array to pick a random member of.\n    * @return {any} A random member of the array.\n    */weightedPick:function weightedPick(array){return array[~~(Math.pow(this.frac(),2)*(array.length-1)+0.5)];},/**\n    * Returns a random timestamp between min and max, or between the beginning of 2000 and the end of 2020 if min and max aren't specified.\n    *\n    * @method Phaser.RandomDataGenerator#timestamp\n    * @param {number} min - The minimum value in the range.\n    * @param {number} max - The maximum value in the range.\n    * @return {number} A random timestamp between min and max.\n    */timestamp:function timestamp(min,max){return this.realInRange(min||946684800000,max||1577862000000);},/**\n    * Returns a random angle between -180 and 180.\n    *\n    * @method Phaser.RandomDataGenerator#angle\n    * @return {number} A random number between -180 and 180.\n    */angle:function angle(){return this.integerInRange(-180,180);},/**\n    * Returns a random rotation in radians, between -3.141 and 3.141\n    *\n    * @method Phaser.RandomDataGenerator#rotation\n    * @return {number} A random number between -3.141 and 3.141\n    */rotation:function rotation(){return this.realInRange(-3.141592653589793,3.141592653589793);},/**\n    * Gets or Sets the state of the generator. This allows you to retain the values\n    * that the generator is using between games, i.e. in a game save file.\n    *\n    * To seed this generator with a previously saved state you can pass it as the\n    * `seed` value in your game config, or call this method directly after Phaser has booted.\n    *\n    * Call this method with no parameters to return the current state.\n    *\n    * If providing a state it should match the same format that this method\n    * returns, which is a string with a header `!rnd` followed by the `c`,\n    * `s0`, `s1` and `s2` values respectively, each comma-delimited.\n    *\n    * @method Phaser.RandomDataGenerator#state\n    * @param {string} [state] - Generator state to be set.\n    * @return {string} The current state of the generator.\n    */state:function state(_state){if(typeof _state==='string'&&_state.match(/^!rnd/)){_state=_state.split(',');this.c=parseFloat(_state[1]);this.s0=parseFloat(_state[2]);this.s1=parseFloat(_state[3]);this.s2=parseFloat(_state[4]);}return['!rnd',this.c,this.s0,this.s1,this.s2].join(',');}});module.exports=RandomDataGenerator;/***/},/* 325 *//***/function(module,exports,__webpack_require__){module.exports={Between:__webpack_require__(326),BetweenY:__webpack_require__(327),BetweenPoints:__webpack_require__(328),BetweenPointsY:__webpack_require__(329),Reverse:__webpack_require__(330),RotateTo:__webpack_require__(331),ShortestBetween:__webpack_require__(332),Normalize:__webpack_require__(130),Wrap:__webpack_require__(111),WrapDegrees:__webpack_require__(112)};/***/},/* 326 *//***/function(module,exports){var Between=function Between(x1,y1,x2,y2){return Math.atan2(y2-y1,x2-x1);};module.exports=Between;/***/},/* 327 *//***/function(module,exports){var BetweenY=function BetweenY(x1,y1,x2,y2){return Math.atan2(x2-x1,y2-y1);};module.exports=BetweenY;/***/},/* 328 *//***/function(module,exports){var BetweenPoints=function BetweenPoints(point1,point2){return Math.atan2(point2.y-point1.y,point2.x-point1.x);};module.exports=BetweenPoints;/***/},/* 329 *//***/function(module,exports){var BetweenPointsY=function BetweenPointsY(point1,point2){return Math.atan2(point2.x-point1.x,point2.y-point1.y);};module.exports=BetweenPointsY;/***/},/* 330 *//***/function(module,exports,__webpack_require__){var Normalize=__webpack_require__(130);var Reverse=function Reverse(angle){return Normalize(angle+Math.PI);};module.exports=Reverse;/***/},/* 331 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);/**\n* Rotates currentAngle towards targetAngle, taking the shortest rotation distance.\n* The lerp argument is the amount to rotate by in this call.\n* \n* @param {number} currentAngle - The current angle, in radians.\n* @param {number} targetAngle - The target angle to rotate to, in radians.\n* @param {number} [lerp=0.05] - The lerp value to add to the current angle.\n* @return {number} The adjusted angle.\n*/var RotateTo=function RotateTo(currentAngle,targetAngle,lerp){if(lerp===undefined){lerp=0.05;}if(currentAngle===targetAngle){return currentAngle;}if(Math.abs(targetAngle-currentAngle)<=lerp||Math.abs(targetAngle-currentAngle)>=MATH_CONST.PI2-lerp){currentAngle=targetAngle;}else{if(Math.abs(targetAngle-currentAngle)>Math.PI){if(targetAngle<currentAngle){targetAngle+=MATH_CONST.PI2;}else{targetAngle-=MATH_CONST.PI2;}}if(targetAngle>currentAngle){currentAngle+=lerp;}else if(targetAngle<currentAngle){currentAngle-=lerp;}}return currentAngle;};module.exports=RotateTo;/***/},/* 332 *//***/function(module,exports){/**\n* Gets the shortest angle between `angle1` and `angle2`.\n* Both angles must be in the range -180 to 180, which is the same clamped\n* range that `sprite.angle` uses, so you can pass in two sprite angles to\n* this method, and get the shortest angle back between the two of them.\n*\n* The angle returned will be in the same range. If the returned angle is\n* greater than 0 then it's a counter-clockwise rotation, if < 0 then it's\n* a clockwise rotation.\n* \n* @param {number} angle1 - The first angle. In the range -180 to 180.\n* @param {number} angle2 - The second angle. In the range -180 to 180.\n* @return {number} The shortest angle, in degrees. If greater than zero it's a counter-clockwise rotation.\n*/var ShortestBetween=function ShortestBetween(angle1,angle2){var difference=angle2-angle1;if(difference===0){return 0;}var times=Math.floor((difference- -180)/360);return difference-times*360;};module.exports=ShortestBetween;/***/},/* 333 *//***/function(module,exports,__webpack_require__){module.exports={Between:__webpack_require__(51),Power:__webpack_require__(334),Squared:__webpack_require__(335)};/***/},/* 334 *//***/function(module,exports){var DistancePower=function DistancePower(x1,y1,x2,y2,pow){if(pow===undefined){pow=2;}return Math.sqrt(Math.pow(x2-x1,pow)+Math.pow(y2-y1,pow));};module.exports=DistancePower;/***/},/* 335 *//***/function(module,exports){var DistanceSquared=function DistanceSquared(x1,y1,x2,y2){var dx=x1-x2;var dy=y1-y2;return dx*dx+dy*dy;};module.exports=DistanceSquared;/***/},/* 336 *//***/function(module,exports,__webpack_require__){module.exports={Back:__webpack_require__(131),Bounce:__webpack_require__(132),Circular:__webpack_require__(133),Cubic:__webpack_require__(134),Elastic:__webpack_require__(135),Expo:__webpack_require__(136),Linear:__webpack_require__(137),Quadratic:__webpack_require__(138),Quartic:__webpack_require__(139),Quintic:__webpack_require__(140),Sine:__webpack_require__(141)};/***/},/* 337 *//***/function(module,exports,__webpack_require__){module.exports={Ceil:__webpack_require__(338),Equal:__webpack_require__(339),Floor:__webpack_require__(340),GreaterThan:__webpack_require__(341),LessThan:__webpack_require__(342)};/***/},/* 338 *//***/function(module,exports){var Ceil=function Ceil(value,epsilon){if(epsilon===undefined){epsilon=0.0001;}return Math.ceil(value-epsilon);};module.exports=Ceil;/***/},/* 339 *//***/function(module,exports){var Equal=function Equal(a,b,epsilon){if(epsilon===undefined){epsilon=0.0001;}return Math.abs(a-b)<epsilon;};module.exports=Equal;/***/},/* 340 *//***/function(module,exports){var Floor=function Floor(a,b,epsilon){if(epsilon===undefined){epsilon=0.0001;}return Math.floor(value+epsilon);};module.exports=Floor;/***/},/* 341 *//***/function(module,exports){var GreaterThan=function GreaterThan(a,b,epsilon){if(epsilon===undefined){epsilon=0.0001;}return a>b-epsilon;};module.exports=GreaterThan;/***/},/* 342 *//***/function(module,exports){var LessThan=function LessThan(a,b,epsilon){if(epsilon===undefined){epsilon=0.0001;}return a<b+epsilon;};module.exports=LessThan;/***/},/* 343 *//***/function(module,exports,__webpack_require__){module.exports={Bezier:__webpack_require__(344),CatmullRom:__webpack_require__(345),Linear:__webpack_require__(145)};/***/},/* 344 *//***/function(module,exports,__webpack_require__){var Bernstein=__webpack_require__(142);var BezierInterpolation=function BezierInterpolation(v,k){var b=0;var n=v.length-1;for(var i=0;i<=n;i++){b+=Math.pow(1-k,n-i)*Math.pow(k,i)*v[i]*Bernstein(n,i);}return b;};module.exports=BezierInterpolation;/***/},/* 345 *//***/function(module,exports,__webpack_require__){var CatmullRom=__webpack_require__(144);var CatmullRomInterpolation=function CatmullRomInterpolation(v,k){var m=v.length-1;var f=m*k;var i=Math.floor(f);if(v[0]===v[m]){if(k<0){i=Math.floor(f=m*(1+k));}return CatmullRom(v[(i-1+m)%m],v[i],v[(i+1)%m],v[(i+2)%m],f-i);}else{if(k<0){return v[0]-(CatmullRom(v[0],v[0],v[1],v[1],-f)-v[0]);}if(k>1){return v[m]-(CatmullRom(v[m],v[m],v[m-1],v[m-1],f-m)-v[m]);}return CatmullRom(v[i?i-1:0],v[i],v[m<i+1?m:i+1],v[m<i+2?m:i+2],f-i);}};module.exports=CatmullRomInterpolation;/***/},/* 346 *//***/function(module,exports,__webpack_require__){module.exports={GetNext:__webpack_require__(347),IsSize:__webpack_require__(67),IsValue:__webpack_require__(348)};/***/},/* 347 *//***/function(module,exports){//  Takes value and returns the nearest power of 2\nvar GetPowerOfTwo=function GetPowerOfTwo(value){//  Math.log(2)\nvar index=Math.log(value)/0.6931471805599453;return 1<<Math.ceil(index);};module.exports=GetPowerOfTwo;/***/},/* 348 *//***/function(module,exports){//  Is value a power of 2?\nvar IsValuePowerOfTwo=function IsValuePowerOfTwo(value){return value>0&&(value&value-1)===0;};module.exports=IsValuePowerOfTwo;/***/},/* 349 *//***/function(module,exports,__webpack_require__){module.exports={Ceil:__webpack_require__(350),Floor:__webpack_require__(351),To:__webpack_require__(352)};/***/},/* 350 *//***/function(module,exports){var SnapCeil=function SnapCeil(value,gap,start){if(start===undefined){start=0;}if(gap===0){return value;}value-=start;value=gap*Math.ceil(value/gap);return start+value;};module.exports=SnapCeil;/***/},/* 351 *//***/function(module,exports){var SnapFloor=function SnapFloor(value,gap,start){if(start===undefined){start=0;}if(gap===0){return value;}value-=start;value=gap*Math.floor(value/gap);return start+value;};module.exports=SnapFloor;/***/},/* 352 *//***/function(module,exports){var SnapTo=function SnapTo(value,gap,start){if(start===undefined){start=0;}if(gap===0){return value;}value-=start;value=gap*Math.round(value/gap);return start+value;};module.exports=SnapTo;/***/},/* 353 *//***/function(module,exports){var Average=function Average(values){var sum=0;for(var i=0;i<values.length;i++){sum+=+values[i];}return sum/values.length;};module.exports=Average;/***/},/* 354 *//***/function(module,exports){var CeilTo=function CeilTo(value,place,base){if(place===undefined){place=0;}if(base===undefined){base=10;}var p=Math.pow(base,-place);return Math.ceil(value*p)/p;};module.exports=CeilTo;/***/},/* 355 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(10);var DegToRad=function DegToRad(degrees){return degrees*CONST.DEG_TO_RAD;};module.exports=DegToRad;/***/},/* 356 *//***/function(module,exports){var Difference=function Difference(a,b){return Math.abs(a-b);};module.exports=Difference;/***/},/* 357 *//***/function(module,exports){var FloatBetween=function FloatBetween(min,max){return Math.random()*(max-min)+min;};module.exports=FloatBetween;/***/},/* 358 *//***/function(module,exports){var FloorTo=function FloorTo(value,place,base){if(place===undefined){place=0;}if(base===undefined){base=10;}var p=Math.pow(base,-place);return Math.floor(value*p)/p;};module.exports=FloorTo;/***/},/* 359 *//***/function(module,exports){//  distance - usually in pixels\n//  time - how long should it take to cover the distance? In seconds\n//  Returns the amount you will need to increment by each step to cover the distance in the time given\nvar GetSpeed=function GetSpeed(distance,time){return distance/time/1000;};module.exports=GetSpeed;/***/},/* 360 *//***/function(module,exports){var IsEven=function IsEven(value){// Use abstract equality == for \"is number\" test\nreturn value==parseFloat(value)?!(value%2):void 0;};module.exports=IsEven;/***/},/* 361 *//***/function(module,exports){var IsEvenStrict=function IsEvenStrict(value){// Use strict equality === for \"is number\" test\nreturn value===parseFloat(value)?!(value%2):void 0;};module.exports=IsEvenStrict;/***/},/* 362 *//***/function(module,exports){var MaxAdd=function MaxAdd(value,amount,max){return Math.min(value+amount,max);};module.exports=MaxAdd;/***/},/* 363 *//***/function(module,exports){var MinSub=function MinSub(value,amount,min){return Math.max(value-amount,min);};module.exports=MinSub;/***/},/* 364 *//***/function(module,exports){var Percent=function Percent(a,b,base){if(base===undefined){base=0;}if(a>b||base>b){return 1;}else if(a<base||base>a){return 0;}else{return(a-base)/b;}};module.exports=Percent;/***/},/* 365 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(10);var RadToDeg=function RadToDeg(radians){return radians*CONST.RAD_TO_DEG;};module.exports=RadToDeg;/***/},/* 366 *//***/function(module,exports){//  p = Point or any object with public x/y properties\nvar Rotate=function Rotate(point,angle){var x=point.x;var y=point.y;point.x=x*Math.cos(angle)-y*Math.sin(angle);point.y=x*Math.sin(angle)+y*Math.cos(angle);return point;};module.exports=Rotate;/***/},/* 367 *//***/function(module,exports){//  p = Point or any object with public x/y properties\nvar RotateAround=function RotateAround(point,x,y,angle){var c=Math.cos(angle);var s=Math.sin(angle);var tx=point.x-x;var ty=point.y-y;point.x=tx*c-ty*s+x;point.y=tx*s+ty*c+y;return point;};module.exports=RotateAround;/***/},/* 368 *//***/function(module,exports){var RoundTo=function RoundTo(value,place,base){if(place===undefined){place=0;}if(base===undefined){base=10;}var p=Math.pow(base,-place);return Math.round(value*p)/p;};module.exports=RoundTo;/***/},/* 369 *//***/function(module,exports){var SinCosTableGenerator=function SinCosTableGenerator(length,sinAmp,cosAmp,frequency){if(sinAmp===undefined){sinAmp=1;}if(cosAmp===undefined){cosAmp=1;}if(frequency===undefined){frequency=1;}frequency*=Math.PI/length;var cos=[];var sin=[];for(var c=0;c<length;c++){cosAmp-=sinAmp*frequency;sinAmp+=cosAmp*frequency;cos[c]=cosAmp;sin[c]=sinAmp;}return{sin:sin,cos:cos,length:length};};module.exports=SinCosTableGenerator;/***/},/* 370 *//***/function(module,exports){/**\n* Checks if two values are within the given tolerance of each other.\n*\n* @param {number} a - The first number to check\n* @param {number} b - The second number to check\n* @param {number} tolerance - The tolerance. Anything equal to or less than this is considered within the range.\n* @return {boolean} True if a is <= tolerance of b.\n*/var Within=function Within(a,b,tolerance){return Math.abs(a-b)<=tolerance;};module.exports=Within;/***/},/* 371 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(4);var CHECKSUM=__webpack_require__(372);var DebugHeader=function DebugHeader(game){var config=game.config;if(config.hideBanner){return;}var renderType=config.renderType===CONST.CANVAS?'Canvas':'WebGL';var ie=false;if(!ie){var c='';var args=[c];if(Array.isArray(config.bannerBackgroundColor)){var lastColor;config.bannerBackgroundColor.forEach(function(color){c=c.concat('%c ');args.push('background: '+color);lastColor=color;});//  inject the text color\nargs[args.length-1]='color: '+config.bannerTextColor+'; background: '+lastColor;}else{c=c.concat('%c ');args.push('color: '+config.bannerTextColor+'; background: '+config.bannerBackgroundColor);}//  URL link background color (always white)\nargs.push('background: #fff');if(config.gameTitle){c=c.concat(config.gameTitle);if(config.gameVersion){c=c.concat(' v'+config.gameVersion);}if(!config.hidePhaser){c=c.concat(' / ');}}if(!config.hidePhaser){c=c.concat('Phaser v'+CONST.VERSION+' ('+renderType+')');}c=c.concat(' %c '+config.gameURL);//  Inject the new string back into the args array\nargs[0]=c;console.log.apply(console,args);}else if(window['console']){console.log('Phaser v'+CONST.VERSION+' / http://phaser.io');}// Keep this during dev build only\nconsole.log(CHECKSUM.build);};module.exports=DebugHeader;/***/},/* 372 *//***/function(module,exports){var CHECKSUM={build:'bf926110-7bc3-11e7-864c-5732be209b66'};module.exports=CHECKSUM;/***/},/* 373 *//***/function(module,exports,__webpack_require__){//  This singleton is instantiated as soon as Phaser loads,\n//  before a Phaser.Game instance has even been created.\n//  Which means all instances of Phaser Games can share it,\n//  without having to re-poll the device all over again\nvar OS=__webpack_require__(42);var Browser=__webpack_require__(53);var Features=__webpack_require__(153);var Input=__webpack_require__(374);var Audio=__webpack_require__(375);var Video=__webpack_require__(376);var Fullscreen=__webpack_require__(377);var CanvasFeatures=__webpack_require__(154);//  Phaser.Device\nmodule.exports={OS:OS,Browser:Browser,Features:Features,Input:Input,Audio:Audio,Video:Video,Fullscreen:Fullscreen,CanvasFeatures:CanvasFeatures};/***/},/* 374 *//***/function(module,exports,__webpack_require__){var OS=__webpack_require__(42);var Browser=__webpack_require__(53);var Input={// @property {boolean} touch - Is touch available?\ntouch:false,// @property {boolean} mspointer - Is mspointer available?\nmspointer:false,// @property {?string} wheelType - The newest type of Wheel/Scroll event supported: 'wheel', 'mousewheel', 'DOMMouseScroll'\nwheelEvent:null};function init(){if('ontouchstart'in document.documentElement||window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>=1){Input.touch=true;}if(window.navigator.msPointerEnabled||window.navigator.pointerEnabled){Input.mspointer=true;}if(!OS.cocoonJS){// See https://developer.mozilla.org/en-US/docs/Web/Events/wheel\nif('onwheel'in window||Browser.ie&&'WheelEvent'in window){// DOM3 Wheel Event: FF 17+, IE 9+, Chrome 31+, Safari 7+\nInput.wheelEvent='wheel';}else if('onmousewheel'in window){// Non-FF legacy: IE 6-9, Chrome 1-31, Safari 5-7.\nInput.wheelEvent='mousewheel';}else if(Browser.firefox&&'MouseScrollEvent'in window){// FF prior to 17. This should probably be scrubbed.\nInput.wheelEvent='DOMMouseScroll';}}return Input;}module.exports=init();/***/},/* 375 *//***/function(module,exports,__webpack_require__){var Browser=__webpack_require__(53);var Audio={// @property {boolean} audioData - Are Audio tags available?\naudioData:false,// @property {boolean} webAudio - Is the WebAudio API available?\nwebAudio:false,// @property {boolean} ogg - Can this device play ogg files?\nogg:false,// @property {boolean} opus - Can this device play opus files?\nopus:false,// @property {boolean} mp3 - Can this device play mp3 files?\nmp3:false,// @property {boolean} wav - Can this device play wav files?\nwav:false,// Can this device play m4a files?\n// @property {boolean} m4a - True if this device can play m4a files.\nm4a:false,// @property {boolean} webm - Can this device play webm files?\nwebm:false,// @property {boolean} dolby - Can this device play EC-3 Dolby Digital Plus files?\ndolby:false};function init(){Audio.audioData=!!window['Audio'];Audio.webAudio=!!(window['AudioContext']||window['webkitAudioContext']);var audioElement=document.createElement('audio');var result=!!audioElement.canPlayType;try{if(result){if(audioElement.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,'')){Audio.ogg=true;}if(audioElement.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,'')||audioElement.canPlayType('audio/opus;').replace(/^no$/,'')){Audio.opus=true;}if(audioElement.canPlayType('audio/mpeg;').replace(/^no$/,'')){Audio.mp3=true;}//  Mimetypes accepted:\n//  developer.mozilla.org/En/Media_formats_supported_by_the_audio_and_video_elements\n//  bit.ly/iphoneoscodecs\nif(audioElement.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,'')){Audio.wav=true;}if(audioElement.canPlayType('audio/x-m4a;')||audioElement.canPlayType('audio/aac;').replace(/^no$/,'')){Audio.m4a=true;}if(audioElement.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,'')){Audio.webm=true;}if(audioElement.canPlayType('audio/mp4;codecs=\"ec-3\"')!==''){if(Browser.edge){Audio.dolby=true;}else if(Browser.safari&&Browser.safariVersion>=9){if(/Mac OS X (\\d+)_(\\d+)/.test(navigator.userAgent)){var major=parseInt(RegExp.$1,10);var minor=parseInt(RegExp.$2,10);if(major===10&&minor>=11||major>10){Audio.dolby=true;}}}}}}catch(e){//  Nothing to do here\n}return Audio;}module.exports=init();/***/},/* 376 *//***/function(module,exports){var Video={//  @property {boolean} oggVideo - Can this device play ogg video files?\noggVideo:false,//  @property {boolean} h264Video - Can this device play h264 mp4 video files?\nh264Video:false,//  @property {boolean} mp4Video - Can this device play h264 mp4 video files?\nmp4Video:false,//  @property {boolean} webmVideo - Can this device play webm video files?\nwebmVideo:false,//  @property {boolean} vp9Video - Can this device play vp9 video files?\nvp9Video:false,//  @property {boolean} hlsVideo - Can this device play hls video files?\nhlsVideo:false};function init(){var videoElement=document.createElement('video');var result=!!videoElement.canPlayType;try{if(result){if(videoElement.canPlayType('video/ogg; codecs=\"theora\"').replace(/^no$/,'')){Video.oggVideo=true;}if(videoElement.canPlayType('video/mp4; codecs=\"avc1.42E01E\"').replace(/^no$/,'')){// Without QuickTime, this value will be `undefined`. github.com/Modernizr/Modernizr/issues/546\nVideo.h264Video=true;Video.mp4Video=true;}if(videoElement.canPlayType('video/webm; codecs=\"vp8, vorbis\"').replace(/^no$/,'')){Video.webmVideo=true;}if(videoElement.canPlayType('video/webm; codecs=\"vp9\"').replace(/^no$/,'')){Video.vp9Video=true;}if(videoElement.canPlayType('application/x-mpegURL; codecs=\"avc1.42E01E\"').replace(/^no$/,'')){Video.hlsVideo=true;}}}catch(e){//  Nothing to do\n}return Video;}module.exports=init();/***/},/* 377 *//***/function(module,exports){var Fullscreen={//  @property {boolean} available - Does the browser support the Full Screen API?\navailable:false,//  @property {string} request - If the browser supports the Full Screen API this holds the call you need to use to activate it.\nrequest:'',//  @property {string} cancel - If the browser supports the Full Screen API this holds the call you need to use to cancel it.\ncancel:'',//  @property {boolean} keyboard - Does the browser support access to the Keyboard during Full Screen mode?\nkeyboard:false};/**\n* Checks for support of the Full Screen API.\n*/function init(){var i;var fs=['requestFullscreen','requestFullScreen','webkitRequestFullscreen','webkitRequestFullScreen','msRequestFullscreen','msRequestFullScreen','mozRequestFullScreen','mozRequestFullscreen'];var element=document.createElement('div');for(i=0;i<fs.length;i++){if(element[fs[i]]){Fullscreen.available=true;Fullscreen.request=fs[i];break;}}var cfs=['cancelFullScreen','exitFullscreen','webkitCancelFullScreen','webkitExitFullscreen','msCancelFullScreen','msExitFullscreen','mozCancelFullScreen','mozExitFullscreen'];if(Fullscreen.available){for(i=0;i<cfs.length;i++){if(document[cfs[i]]){Fullscreen.cancel=cfs[i];break;}}}//  Keyboard Input?\nif(window['Element']&&Element['ALLOW_KEYBOARD_INPUT']){Fullscreen.keyboard=true;}return Fullscreen;}module.exports=init();/***/},/* 378 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(155);var EventListener=__webpack_require__(379);var EventBinding=new Class({initialize:function EventBinding(dispatcher,type){this.dispatcher=dispatcher;this.type=type;this.state=CONST.DISPATCHER_IDLE;this.active=[];},total:function total(){var total=0;for(var i=0;i<this.active.length;i++){if(this.active[i].state!==CONST.LISTENER_REMOVING){total++;}}return total;},get:function get(callback){for(var i=0;i<this.active.length;i++){if(this.active[i].callback===callback){return this.active[i];}}},getIndex:function getIndex(callback){for(var i=0;i<this.active.length;i++){if(this.active[i].callback===callback){return i;}}return null;},has:function has(callback){return this.get(callback);},add:function add(callback,priority,once){var listener=this.get(callback);if(!listener){//  The listener doesn't exist, so create one\nlistener=EventListener(this.type,callback,priority,once);}else{//  Listener already exists, abort\nreturn;}if(this.state===CONST.DISPATCHER_IDLE){//  The Dispatcher isn't doing anything, so we don't need a pending state\nlistener.state=CONST.LISTENER_ACTIVE;this.active.push(listener);this.active.sort(this.sortHandler);}else if(this.state===CONST.DISPATCHER_DISPATCHING){//  Add it to the list, but keep the state as pending.\n//  The call to 'tidy' will sort it out at the end of the dispatch.\nthis.active.push(listener);}},sortHandler:function sortHandler(listenerA,listenerB){if(listenerB.priority<listenerA.priority){return-1;}else if(listenerB.priority>listenerA.priority){return 1;}else{return 0;}},remove:function remove(callback){if(this.state===CONST.DISPATCHER_IDLE){//  The Dispatcher isn't doing anything, so we can remove right away\nvar i=this.getIndex(callback);if(i!==null){this.active.splice(i,1);}}else if(this.state===CONST.DISPATCHER_DISPATCHING){//  The Dispatcher is working, so we flag the listener for removal at the end\nvar listener=this.get(callback);if(listener){listener.state=CONST.LISTENER_REMOVING;}}},dispatch:function dispatch(event){if(this.state!==CONST.DISPATCHER_IDLE){throw new Error('Error: Failed to execute \\'EventDispatcher.dispatch\\' on \\''+this.type+'\\': The event is already being dispatched.');}else if(this.active.length===0){//  This was a valid dispatch call, we just had nothing to do ...\nreturn;}this.state=CONST.DISPATCHER_DISPATCHING;var listener;for(var i=0;i<this.active.length;i++){listener=this.active[i];if(listener.state!==CONST.LISTENER_ACTIVE){continue;}listener.callback.call(this.dispatcher,event);//  Has the callback changed the state of this binding?\nif(this.state!==CONST.DISPATCHER_DISPATCHING){//  Yup! Let's break out\nbreak;}//  Was it a 'once' listener?\nif(listener.once){listener.state=CONST.LISTENER_REMOVING;}//  Has the event been halted by the callback?\nif(!event._propagate){//  Break out, a listener has called Event.stopPropagation\nbreak;}}//  Dispatch over, or aborted\nif(this.state===CONST.DISPATCHER_REMOVING){this.removeAll();//  All done, tidy the list in case there were any pending events added\nthis.tidy();}else if(this.state===CONST.DISPATCHER_DESTROYED){this.dispatcher.delete(this.type);}else{//  All done, just purge the list\nthis.tidy();this.state=CONST.DISPATCHER_IDLE;}},//  Removes all listeners\n//  If this is currently being dispatched then don't remove 'pending' listeners\n//  (i.e. ones that were added during the dispatch), only active ones\nremoveAll:function removeAll(){if(this.state===CONST.DISPATCHER_IDLE){this.active.length=0;}else{for(var i=this.active.length-1;i>=0;i--){if(this.active[i].state!==CONST.LISTENER_PENDING){this.active.pop();}}this.state=CONST.DISPATCHER_IDLE;}},tidy:function tidy(){//  Nothing to do ...\nif(this.active.length===0){return;}var added=0;var i=this.active.length-1;do{if(this.active[i].state===CONST.LISTENER_REMOVING){this.active.splice(i,1);}else if(this.active[i].state===CONST.LISTENER_PENDING){this.active[i].state===CONST.LISTENER_ACTIVE;added++;}i--;}while(i>=0);if(added>0){this.active.sort(this.sortHandler);}},destroy:function destroy(){this.active.length=0;this.dispatcher=undefined;this.type='';this.state=CONST.DISPATCHER_DESTROYED;}});module.exports=EventBinding;/***/},/* 379 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(155);var EventListener=function EventListener(type,callback,priority,once){return{type:type,callback:callback,priority:priority,once:once,state:CONST.LISTENER_PENDING};};module.exports=EventListener;/***/},/* 380 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(1);var VisibilityHandler=function VisibilityHandler(eventDispatcher){var hiddenVar;if(document.hidden!==undefined){hiddenVar='visibilitychange';}else{var vendors=['webkit','moz','ms'];vendors.forEach(function(prefix){if(document[prefix+'Hidden']!==undefined){document.hidden=function(){return document[prefix+'Hidden'];};hiddenVar=prefix+'visibilitychange';}});}var onChange=function onChange(event){if(document.hidden||event.type==='pause'){eventDispatcher.dispatch(new Event('HIDDEN'));}else{eventDispatcher.dispatch(new Event('VISIBLE'));}};//  Does browser support it?\n//  If not (like in IE9 or old Android) we need to fall back to blur / focus\nif(hiddenVar){document.addEventListener(hiddenVar,onChange,false);}else{console.log('Fallback TODO');}window.onblur=function(){eventDispatcher.dispatch(new Event('ON_BLUR'));};window.onfocus=function(){eventDispatcher.dispatch(new Event('ON_FOCUS'));};};module.exports=VisibilityHandler;/***/},/* 381 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Components=__webpack_require__(382);var EventDispatcher=__webpack_require__(25);var Map=__webpack_require__(158);// Animations are managed by the global AnimationManager. This is a singleton class that is\n// responsible for creating and delivering animations and their corresponding data to Game Objects.\n// Sprites and other Game Objects get the data they need from the AnimationManager.\n// Access it via `scene.anims`.\nvar AnimationManager=new Class({initialize:function AnimationManager(game){this.game=game;this.textureManager=null;this.events=new EventDispatcher();this.globalTimeScale=1;this.anims=new Map();this.paused=false;},boot:function boot(textureManager){this.textureManager=textureManager;},add:Components.AddAnimation,create:Components.CreateFrameAnimation,fromJSON:Components.FromJSON,generateFrameNames:Components.GenerateFrameNames,generateFrameNumbers:Components.GenerateFrameNumbers,get:Components.GetAnimation,load:Components.LoadAnimationToGameObject,play:Components.PlayAnimation,pauseAll:Components.PauseAll,remove:Components.RemoveAnimation,resumeAll:Components.ResumeAll,staggerPlay:Components.StaggerPlayAnimation,toJSON:Components.ToJSON,destroy:function destroy(){//  TODO\n}});module.exports=AnimationManager;/***/},/* 382 *//***/function(module,exports,__webpack_require__){module.exports={AddAnimation:__webpack_require__(383),CreateFrameAnimation:__webpack_require__(388),FromJSON:__webpack_require__(407),GenerateFrameNames:__webpack_require__(408),GenerateFrameNumbers:__webpack_require__(409),GetAnimation:__webpack_require__(410),LoadAnimationToGameObject:__webpack_require__(411),PlayAnimation:__webpack_require__(412),PauseAll:__webpack_require__(413),ResumeAll:__webpack_require__(414),RemoveAnimation:__webpack_require__(415),StaggerPlayAnimation:__webpack_require__(416),ToJSON:__webpack_require__(417)};/***/},/* 383 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(43);var AddAnimation=function AddAnimation(key,animation){if(this.anims.has(key)){console.error('Animation with key',key,'already exists');return;}animation.key=key;this.anims.set(key,animation);this.events.dispatch(new Event.ADD_ANIMATION_EVENT(key,animation));return this;};module.exports=AddAnimation;/***/},/* 384 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var AddAnimationEvent=new Class({Extends:Event,initialize:function AddAnimationEvent(key,animation){Event.call(this,'ADD_ANIMATION_EVENT');this.key=key;this.animation=animation;}});module.exports=AddAnimationEvent;/***/},/* 385 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var PauseAllAnimationEvent=new Class({Extends:Event,initialize:function PauseAllAnimationEvent(){Event.call(this,'PAUSE_ALL_ANIMATION_EVENT');}});module.exports=PauseAllAnimationEvent;/***/},/* 386 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var RemoveAnimationEvent=new Class({Extends:Event,initialize:function RemoveAnimationEvent(key,animation){Event.call(this,'REMOVE_ANIMATION_EVENT');this.key=key;this.animation=animation;}});module.exports=RemoveAnimationEvent;/***/},/* 387 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var ResumeAllAnimationEvent=new Class({Extends:Event,initialize:function ResumeAllAnimationEvent(){Event.call(this,'RESUME_ALL_ANIMATION_EVENT');}});module.exports=ResumeAllAnimationEvent;/***/},/* 388 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(43);var Animation=__webpack_require__(389);var CreateFrameAnimation=function CreateFrameAnimation(config){var key=config.key;if(!key||this.anims.has(key)){console.warn('Invalid Animation Key, or Key already in use: '+key);return;}var anim=new Animation(this,key,config);this.anims.set(key,anim);this.events.dispatch(new Event.ADD_ANIMATION_EVENT(key,anim));return anim;};module.exports=CreateFrameAnimation;/***/},/* 389 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetValue=__webpack_require__(2);var GetFrames=__webpack_require__(156);//  A Frame based Animation\n//  This consists of a key, some default values (like the frame rate) and a bunch of Frame objects.\n//  The Animation Manager creates these\n//  Game Objects don't own an instance of these directly\n//  Game Objects have the Animation Component, which are like playheads to global Animations (these objects)\n//  So multiple Game Objects can have playheads all pointing to this one Animation instance\nvar Animation=new Class({initialize:function Animation(manager,key,config){this.manager=manager;this.key=key;//  A frame based animation (as opposed to a bone based animation)\nthis.type='frame';//  Extract all the frame data into the frames array\nthis.frames=GetFrames(manager.textureManager,GetValue(config,'frames',[]));//  The frame rate of playback in frames per second (default 24 if duration is null)\nthis.frameRate=GetValue(config,'frameRate',null);//  How long the animation should play for. If frameRate is set it overrides this value\n//  otherwise frameRate is derived from duration\nthis.duration=GetValue(config,'duration',null);if(this.duration===null&&this.frameRate===null){//  No duration or frameRate given, use default frameRate of 24fps\nthis.frameRate=24;this.duration=this.frameRate/this.frames.length;}else if(this.duration&&this.frameRate===null){//  Duration given but no frameRate, so set the frameRate based on duration\n//  I.e. 12 frames in the animation, duration = 4 (4000 ms)\n//  So frameRate is 12 / 4 = 3 fps\nthis.frameRate=this.frames.length/this.duration;}else{//  frameRate given, derive duration from it (even if duration also specified)\n//  I.e. 15 frames in the animation, frameRate = 30 fps\n//  So duration is 15 / 30 = 0.5 (half a second)\nthis.duration=this.frames.length/this.frameRate;}//  ms per frame (without including frame specific modifiers)\nthis.msPerFrame=1000/this.frameRate;//  Skip frames if the time lags, or always advanced anyway?\nthis.skipMissedFrames=GetValue(config,'skipMissedFrames',true);//  Delay before starting playback (in seconds)\nthis.delay=GetValue(config,'delay',0);//  Number of times to repeat the animation (-1 for infinity)\nthis.repeat=GetValue(config,'repeat',0);//  Delay before the repeat starts (in seconds)\nthis.repeatDelay=GetValue(config,'repeatDelay',0);//  Should the animation yoyo? (reverse back down to the start) before repeating?\nthis.yoyo=GetValue(config,'yoyo',false);//  Should sprite.visible = true when the animation starts to play?\nthis.showOnStart=GetValue(config,'showOnStart',false);//  Should sprite.visible = false when the animation finishes?\nthis.hideOnComplete=GetValue(config,'hideOnComplete',false);//  Callbacks\nthis.callbackScope=GetValue(config,'callbackScope',this);this.onStart=GetValue(config,'onStart',false);this.onStartParams=GetValue(config,'onStartParams',[]);this.onRepeat=GetValue(config,'onRepeat',false);this.onRepeatParams=GetValue(config,'onRepeatParams',[]);//  Called for EVERY frame of the animation.\n//  See AnimationFrame.onUpdate for a frame specific callback.\nthis.onUpdate=GetValue(config,'onUpdate',false);this.onUpdateParams=GetValue(config,'onUpdateParams',[]);this.onComplete=GetValue(config,'onComplete',false);this.onCompleteParams=GetValue(config,'onCompleteParams',[]);//  Global pause, effects all Game Objects using this Animation instance\nthis.paused=false;this.manager.events.on('PAUSE_ALL_ANIMATION_EVENT',this.pause.bind(this));this.manager.events.on('RESUME_ALL_ANIMATION_EVENT',this.resume.bind(this));},addFrame:__webpack_require__(391),addFrameAt:__webpack_require__(392),checkFrame:__webpack_require__(393),completeAnimation:__webpack_require__(394),getFirstTick:__webpack_require__(395),getFrameAt:__webpack_require__(396),getNextTick:__webpack_require__(397),load:__webpack_require__(398),nextFrame:__webpack_require__(399),previousFrame:__webpack_require__(400),removeFrame:__webpack_require__(401),removeFrameAt:__webpack_require__(402),repeatAnimation:__webpack_require__(403),setFrame:__webpack_require__(404),toJSON:__webpack_require__(405),updateFrameSequence:__webpack_require__(406),pause:function pause(){this.paused=true;},resume:function resume(){this.paused=false;},destroy:function destroy(){}});module.exports=Animation;/***/},/* 390 *//***/function(module,exports){var Frame=function Frame(textureKey,textureFrame,index,frame){//  The keys into the Texture Manager of the texture + frame this uses\nthis.textureKey=textureKey;this.textureFrame=textureFrame;//  The index of this frame within the Animation.frames array\nthis.index=index;//  Texture Frame\nthis.frame=frame;//  Read-only\nthis.isFirst=false;//  Read-only\nthis.isLast=false;//  The frame that comes before this one in the animation (if any)\n//  Read-only\nthis.prevFrame=null;//  The frame that comes after this one in the animation (if any)\n//  Read-only\nthis.nextFrame=null;//   Additional time (in ms) this frame should appear for - added onto the msPerFrame\nthis.duration=0;//   What % through the animation progress is this frame?\n//  Read-only\nthis.progress=0;//  Callback if this frame gets displayed\nthis.onUpdate=null;//  When this frame hits, set sprite.visible to this\nthis.setVisible=false;this.visible=false;};Frame.prototype.constructor=Frame;Frame.prototype={toJSON:function toJSON(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,visible:this.visible};},destroy:function destroy(){this.frame=undefined;this.onUpdate=undefined;}};module.exports=Frame;/***/},/* 391 *//***/function(module,exports){//  config = Array of Animation config objects, like:\n//  [\n//      { key: 'gems', frame: 'diamond0001', [duration], [visible], [onUpdate] }\n//  ]\n//  Add frames to the end of the animation\nvar AddFrame=function AddFrame(config){return this.addFrameAt(this.frames.length,config);};module.exports=AddFrame;/***/},/* 392 *//***/function(module,exports,__webpack_require__){var GetFrames=__webpack_require__(156);//  config = Array of Animation config objects, like:\n//  [\n//      { key: 'gems', frame: 'diamond0001', [duration], [visible], [onUpdate] }\n//  ]\n//  Add frame/s into the animation\nvar AddFrameAt=function AddFrameAt(index,config){if(index===undefined){index=0;}var newFrames=GetFrames(this.manager.textureManager,config);if(newFrames.length>0){if(index===0){this.frames=newFrames.concat(this.frames);}else if(index===this.frames.length){this.frames=this.frames.concat(newFrames);}else{var pre=this.frames.slice(0,index);var post=this.frames.slice(index);this.frames=pre.concat(newFrames,post);}this.updateFrameSequence();}return this;};module.exports=AddFrameAt;/***/},/* 393 *//***/function(module,exports){var CheckFrame=function CheckFrame(index){return index<this.frames.length;};module.exports=CheckFrame;/***/},/* 394 *//***/function(module,exports){var CompleteAnimation=function CompleteAnimation(component){if(this.hideOnComplete){component.parent.visible=false;}component.stop(true);};module.exports=CompleteAnimation;/***/},/* 395 *//***/function(module,exports){var GetFirstTick=function GetFirstTick(component,includeDelay){if(includeDelay===undefined){includeDelay=true;}//  When is the first update due?\ncomponent.accumulator=0;component.nextTick=component.msPerFrame+component.currentFrame.duration;if(includeDelay){component.nextTick+=component._delay*1000;}};module.exports=GetFirstTick;/***/},/* 396 *//***/function(module,exports){var GetFrameAt=function GetFrameAt(index){return this.frames[index];};module.exports=GetFrameAt;/***/},/* 397 *//***/function(module,exports){var GetNextTick=function GetNextTick(component){// accumulator += delta * _timeScale\n// after a large delta surge (perf issue for example) we need to adjust for it here\n//  When is the next update due?\ncomponent.accumulator-=component.nextTick;component.nextTick=component.msPerFrame+component.currentFrame.duration;};module.exports=GetNextTick;/***/},/* 398 *//***/function(module,exports){var Load=function Load(component,startFrame){if(startFrame>=this.frames.length){startFrame=0;}if(component.currentAnim!==this){component.currentAnim=this;component._timeScale=1;component.frameRate=this.frameRate;component.duration=this.duration;component.msPerFrame=this.msPerFrame;component.skipMissedFrames=this.skipMissedFrames;component._delay=this.delay;component._repeat=this.repeat;component._repeatDelay=this.repeatDelay;component._yoyo=this.yoyo;component._callbackArgs[1]=this;component._updateParams=component._callbackArgs.concat(this.onUpdateParams);}component.updateFrame(this.frames[startFrame]);};module.exports=Load;/***/},/* 399 *//***/function(module,exports){var NextFrame=function NextFrame(component){var frame=component.currentFrame;//  TODO: Add frame skip support\nif(frame.isLast){//  We're at the end of the animation\n//  Yoyo? (happens before repeat)\nif(this.yoyo){component.forward=false;component.updateFrame(frame.prevFrame);//  Delay for the current frame\nthis.getNextTick(component);}else if(component.repeatCounter>0){//  Repeat (happens before complete)\nthis.repeatAnimation(component);}else{this.completeAnimation(component);}}else{component.updateFrame(frame.nextFrame);this.getNextTick(component);}};module.exports=NextFrame;/***/},/* 400 *//***/function(module,exports){var PreviousFrame=function PreviousFrame(component){var frame=component.currentFrame;//  TODO: Add frame skip support\nif(frame.isFirst){//  We're at the start of the animation\nif(component.repeatCounter>0){//  Repeat (happens before complete)\nthis.repeatAnimation(component);}else{this.completeAnimation(component);}}else{component.updateFrame(frame.prevFrame);this.getNextTick(component);}};module.exports=PreviousFrame;/***/},/* 401 *//***/function(module,exports){//  Remove frame if it matches the given frame\nvar RemoveFrame=function RemoveFrame(frame){var index=this.frames.indexOf(frame);if(index!==-1){this.removeFrameAt(index);}return this;};module.exports=RemoveFrame;/***/},/* 402 *//***/function(module,exports){var RemoveFrameAt=function RemoveFrameAt(index){this.frames.splice(index,1);this.updateFrameSequence();return this;};module.exports=RemoveFrameAt;/***/},/* 403 *//***/function(module,exports){var RepeatAnimation=function RepeatAnimation(component){if(component._repeatDelay>0&&component.pendingRepeat===false){component.pendingRepeat=true;component.accumulator-=component.nextTick;component.nextTick+=component._repeatDelay*1000;}else{component.repeatCounter--;component.forward=true;component.updateFrame(component.currentFrame.nextFrame);this.getNextTick(component);component.pendingRepeat=false;if(this.onRepeat){this.onRepeat.apply(this.callbackScope,component._callbackArgs.concat(this.onRepeatParams));}}};module.exports=RepeatAnimation;/***/},/* 404 *//***/function(module,exports){var SetFrame=function SetFrame(component){//  Work out which frame should be set next on the child, and set it\nif(component.forward){this.nextFrame(component);}else{this.previousFrame(component);}};module.exports=SetFrame;/***/},/* 405 *//***/function(module,exports){var ToJSON=function ToJSON(){var output={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showOnStart:this.showOnStart,hideOnComplete:this.hideOnComplete};this.frames.forEach(function(frame){output.frames.push(frame.toJSON());});return output;};module.exports=ToJSON;/***/},/* 406 *//***/function(module,exports){var UpdateFrameSequence=function UpdateFrameSequence(){var len=this.frames.length;var slice=1/(len-1);for(var i=0;i<len;i++){var frame=this.frames[i];frame.index=i+1;frame.isFirst=false;frame.isLast=false;frame.progress=i*slice;if(i===0){frame.isFirst=true;frame.isLast=len===1;frame.prevFrame=this.frames[len-1];frame.nextFrame=this.frames[i+1];}else if(i===len-1){frame.isLast=true;frame.prevFrame=this.frames[len-2];frame.nextFrame=this.frames[0];}else if(len>1){frame.prevFrame=this.frames[i-1];frame.nextFrame=this.frames[i+1];}}return this;};module.exports=UpdateFrameSequence;/***/},/* 407 *//***/function(module,exports){var FromJSON=function FromJSON(data,clearCurrentAnimations){if(clearCurrentAnimations===undefined){clearCurrentAnimations=false;}if(clearCurrentAnimations){this.anims.clear();}//  Do we have a String (i.e. from JSON, or an Object?)\nif(typeof data==='string'){data=JSON.parse(data);}var output=[];//  Array of animations, or a single animation?\nif(data.hasOwnProperty('anims')&&Array.isArray(data.anims)){for(var i=0;i<data.anims.length;i++){output.push(this.create(data.anims[i]));}if(data.hasOwnProperty('globalTimeScale')){this.globalTimeScale=data.globalTimeScale;}}else if(data.hasOwnProperty('key')&&data.type==='frame'){output.push(this.create(data));}return output;};module.exports=FromJSON;/***/},/* 408 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var Pad=__webpack_require__(157);var GenerateFrameNames=function GenerateFrameNames(key,config){var prefix=GetValue(config,'prefix','');var start=GetValue(config,'start',0);var end=GetValue(config,'end',0);var suffix=GetValue(config,'suffix','');var zeroPad=GetValue(config,'zeroPad',0);var out=GetValue(config,'outputArray',[]);var frames=GetValue(config,'frames',false);var texture=this.textureManager.get(key);if(!texture){return out;}var diff=start<end?1:-1;//  Adjust because we use i !== end in the for loop\nend+=diff;var i;var frame;//  Have they provided their own custom frame sequence array?\nif(Array.isArray(frames)){for(i=0;i<frames.length;i++){frame=prefix+Pad(frames[i],zeroPad,'0',1)+suffix;if(texture.has(frame)){out.push({key:key,frame:frame});}}}else{for(i=start;i!==end;i+=diff){frame=prefix+Pad(i,zeroPad,'0',1)+suffix;if(texture.has(frame)){out.push({key:key,frame:frame});}}}return out;};module.exports=GenerateFrameNames;/***/},/* 409 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var GenerateFrameNumbers=function GenerateFrameNumbers(key,config){var startFrame=GetValue(config,'start',0);var endFrame=GetValue(config,'end',-1);var firstFrame=GetValue(config,'first',false);var out=GetValue(config,'outputArray',[]);var frames=GetValue(config,'frames',false);var texture=this.textureManager.get(key);if(!texture){return out;}if(firstFrame&&texture.has(firstFrame)){out.push({key:key,frame:firstFrame});}var i;//  Have they provided their own custom frame sequence array?\nif(Array.isArray(frames)){for(i=0;i<frames.length;i++){if(texture.has(frames[i])){out.push({key:key,frame:frames[i]});}}}else{//  No endFrame then see if we can get it\nif(endFrame===-1){endFrame=texture.frameTotal;}for(i=startFrame;i<=endFrame;i++){if(texture.has(i)){out.push({key:key,frame:i});}}}return out;};module.exports=GenerateFrameNumbers;/***/},/* 410 *//***/function(module,exports){var GetAnimation=function GetAnimation(key){return this.anims.get(key);};module.exports=GetAnimation;/***/},/* 411 *//***/function(module,exports){//  Load an Animation into a Game Objects Animation Component\nvar LoadAnimationToGameObject=function LoadAnimationToGameObject(child,key,startFrame){var anim=this.get(key);if(anim){anim.load(child,startFrame);}return child;};module.exports=LoadAnimationToGameObject;/***/},/* 412 *//***/function(module,exports){var PlayAnimation=function PlayAnimation(key,child){if(!Array.isArray(child)){child=[child];}var anim=this.get(key);if(!anim){return;}for(var i=0;i<child.length;i++){child[i].anims.play(key);}return this;};module.exports=PlayAnimation;/***/},/* 413 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(43);var PauseAll=function PauseAll(){if(!this.paused){this.paused=true;this.events.dispatch(new Event.PAUSE_ALL_ANIMATION_EVENT());}return this;};module.exports=PauseAll;/***/},/* 414 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(43);var ResumeAll=function ResumeAll(){if(this.paused){this.paused=false;this.events.dispatch(new Event.RESUME_ALL_ANIMATION_EVENT());}return this;};module.exports=ResumeAll;/***/},/* 415 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(43);var RemoveAnimation=function RemoveAnimation(key){var anim=this.get(key);if(anim){this.events.dispatch(new Event.REMOVE_ANIMATION_EVENT(key,anim));this.anims.delete(key);}return anim;};module.exports=RemoveAnimation;/***/},/* 416 *//***/function(module,exports){var StaggerPlayAnimation=function StaggerPlayAnimation(key,child,stagger){if(stagger===undefined){stagger=0;}if(!Array.isArray(child)){child=[child];}var anim=this.get(key);if(!anim){return;}for(var i=0;i<child.length;i++){child[i].anims.delayedPlay(stagger*i,key);}return this;};module.exports=StaggerPlayAnimation;/***/},/* 417 *//***/function(module,exports){var ToJSON=function ToJSON(key){if(key!==undefined&&key!==''){return this.anims.get(key).toJSON();}else{var output={anims:[],globalTimeScale:this.globalTimeScale};this.anims.each(function(animationKey,animation){output.anims.push(animation.toJSON());});return output;}};module.exports=ToJSON;/***/},/* 418 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(4);var CanvasPool=__webpack_require__(11);var Features=__webpack_require__(153);var CanvasRenderer=__webpack_require__(419);var WebGLRenderer=__webpack_require__(424);var CanvasInterpolation=__webpack_require__(65);var CreateRenderer=function CreateRenderer(game){var config=game.config;//  Game either requested Canvas,\n//  or requested AUTO or WEBGL but the browser doesn't support it, so fall back to Canvas\nif(config.renderType===CONST.CANVAS||config.renderType!==CONST.CANVAS&&!Features.webGL){if(Features.canvas){//  They requested Canvas and their browser supports it\nconfig.renderType=CONST.CANVAS;}else{throw new Error('Cannot create Canvas or WebGL context, aborting.');}}else{//  Game requested WebGL and browser says it supports it\nconfig.renderType=CONST.WEBGL;}//  Pixel Art mode?\nif(config.pixelArt){CanvasPool.disableSmoothing();}//  Does the game config provide its own canvas element to use?\nif(config.canvas){game.canvas=config.canvas;}else{game.canvas=CanvasPool.create(game,config.width,config.height,config.renderType);}//  Does the game config provide some canvas css styles to use?\nif(config.canvasStyle){game.canvas.style=config.canvasStyle;}//  Pixel Art mode?\nif(config.pixelArt){CanvasInterpolation.setCrisp(game.canvas);}//  Zoomed?\nif(config.zoom!==1){game.canvas.style.width=(config.width*config.zoom).toString()+'px';game.canvas.style.height=(config.height*config.zoom).toString()+'px';}//  Create the renderer\nif(config.renderType===CONST.WEBGL){game.renderer=new WebGLRenderer(game);game.context=null;}else{game.renderer=new CanvasRenderer(game);game.context=game.renderer.gameContext;//  debug\ngame.canvas.id='game';}};module.exports=CreateRenderer;/***/},/* 419 *//***/function(module,exports,__webpack_require__){var BlitImage=__webpack_require__(420);var CanvasSnapshot=__webpack_require__(421);var Class=__webpack_require__(0);var CONST=__webpack_require__(4);var DrawImage=__webpack_require__(422);var GetBlendModes=__webpack_require__(423);var GetContext=__webpack_require__(159);var ScaleModes=__webpack_require__(26);var Smoothing=__webpack_require__(64);var CanvasRenderer=new Class({initialize:function CanvasRenderer(game){/**\n        * @property {Phaser.Game} game - A reference to the currently running Game.\n        */this.game=game;//  Needed?\nthis.type=CONST.CANVAS;this.drawCount=0;//  Read all the following from game config (or Scene config?)\n// this.clearBeforeRender = true;\n// this.transparent = false;\n// this.autoResize = false;\n// this.roundPixels = false;\nthis.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.resolution=game.config.resolution;this.scaleMode=game.config.pixelArt?ScaleModes.NEAREST:ScaleModes.LINEAR;this.gameCanvas=game.canvas;/**\n         * The canvas 2d context that everything is drawn with\n         * @property context\n         * @type CanvasRenderingContext2D\n         */this.gameContext=GetContext(this.gameCanvas);this.gameConfig=game.config;this.currentContext=this.gameContext;//  Map to the required function\nthis.drawImage=DrawImage;this.blitImage=BlitImage;this.blendModes=GetBlendModes();this.currentAlpha=1;this.currentBlendMode=0;this.currentScaleMode=0;// this.tintMethod = this.tintWithPerPixel;\nthis.init();},init:function init(){this.resize(this.width,this.height);},//  Resize the main game canvas\nresize:function resize(width,height){var res=this.game.config.resolution;this.width=width*res;this.height=height*res;this.gameCanvas.width=this.width;this.gameCanvas.height=this.height;if(this.autoResize){this.gameCanvas.style.width=this.width/res+'px';this.gameCanvas.style.height=this.height/res+'px';}//  Resizing a canvas will reset imageSmoothingEnabled (and probably other properties)\nif(this.scaleMode===ScaleModes.NEAREST){Smoothing.disable(this.gameContext);}},resetTransform:function resetTransform(){this.currentContext.setTransform(1,0,0,1,0,0);},setBlendMode:function setBlendMode(blendMode){if(this.currentBlendMode!==blendMode){this.currentContext.globalCompositeOperation=blendMode;this.currentBlendMode=blendMode;}return this.currentBlendMode;},setAlpha:function setAlpha(alpha){if(this.currentAlpha!==alpha){this.currentContext.globalAlpha=alpha;this.currentAlpha=alpha;}return this.currentAlpha;},//  Call at the start of the render loop\npreRender:function preRender(){// console.log('%c render start ', 'color: #ffffff; background: #00ff00;');\nvar ctx=this.gameContext;var config=this.gameConfig;var width=this.width;var height=this.height;if(config.clearBeforeRender){ctx.clearRect(0,0,width,height);}if(!config.transparent){ctx.fillStyle=config.backgroundColor.rgba;ctx.fillRect(0,0,width,height);}//  Add Pre-render hook\nthis.drawCount=0;},/**\n     * Renders the Scene.\n     *\n     * @method render\n     * @param {Phaser.Scene} scene - The Scene to be rendered.\n     * @param {number} interpolationPercentage - The cumulative amount of time that hasn't been simulated yet, divided\n     *   by the amount of time that will be simulated the next time update()\n     *   runs. Useful for interpolating frames.\n     */render:function render(scene,children,interpolationPercentage,camera){// var w = scene.sys.width;\n// var h = scene.sys.height;\nvar ctx=scene.sys.context;var settings=scene.sys.settings;var scissor=camera.x!==0||camera.y!==0||camera.width!==ctx.canvas.width||camera.height!==ctx.canvas.height;var list=children.list;this.currentContext=ctx;//  If the alpha or blend mode didn't change since the last render, then don't set them again (saves 2 ops)\nif(!camera.transparent){ctx.fillStyle=camera.backgroundColor.rgba;ctx.fillRect(0,0,camera.width,camera.height);}if(this.currentAlpha!==1){ctx.globalAlpha=1;this.currentAlpha=1;}if(this.currentBlendMode!==0){ctx.globalCompositeOperation='source-over';this.currentBlendMode=0;}this.currentScaleMode=0;this.drawCount+=list.length;if(scissor){ctx.save();ctx.beginPath();ctx.rect(camera.x,camera.y,camera.width,camera.height);ctx.clip();ctx.closePath();}var matrix=camera.matrix.matrix;ctx.setTransform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]);for(var c=0;c<list.length;c++){var child=list[c];child.renderCanvas(this,child,interpolationPercentage,camera);}//  Call the Scene.render function\nscene.render.call(scene,ctx,interpolationPercentage);ctx.setTransform(1,0,0,1,0,0);if(camera._fadeAlpha>0||camera._flashAlpha>0){// fade rendering\nctx.fillStyle='rgb('+camera._fadeRed*255+','+camera._fadeGreen*255+','+camera._fadeBlue*255+')';ctx.globalAlpha=camera._fadeAlpha;ctx.fillRect(camera.x,camera.y,camera.width,camera.height);// flash rendering\nctx.fillStyle='rgb('+camera._flashRed*255+','+camera._flashGreen*255+','+camera._flashBlue*255+')';ctx.globalAlpha=camera._flashAlpha;ctx.fillRect(camera.x,camera.y,camera.width,camera.height);ctx.globalAlpha=1.0;}//  Reset the camera scissor\nif(scissor){ctx.restore();}//  Blast it to the Game Canvas (if needed)\n// if (settings.renderToTexture)\n// {\n// this.gameContext.drawImage(scene.sys.canvas, 0, 0, w, h, settings.x, settings.y, w, h);\n// }\n},postRender:function postRender(){// console.log('%c render end ', 'color: #ffffff; background: #ff0000;');\nvar ctx=this.gameContext;ctx.globalAlpha=1;ctx.globalCompositeOperation='source-over';this.currentAlpha=1;this.currentBlendMode=0;if(this.snapshotCallback){this.snapshotCallback(CanvasSnapshot(this.gameCanvas));this.snapshotCallback=null;}//  Add Post-render hook\n},snapshot:function snapshot(callback){this.snapshotCallback=callback;},/**\n     * Removes everything from the renderer and optionally removes the Canvas DOM element.\n     *\n     * @method destroy\n     * @param [removegameCanvas=true] {boolean} Removes the Canvas element from the DOM.\n     */destroy:function destroy(){//  CanvasPool\nthis.gameCanvas=null;this.gameContext=null;}});module.exports=CanvasRenderer;/***/},/* 420 *//***/function(module,exports){//  No scaling, anchor, rotation or effects, literally draws the frame directly to the canvas\nvar BlitImage=function BlitImage(dx,dy,frame,camera){var ctx=this.currentContext;var cd=frame.canvasData;ctx.drawImage(frame.source.image,cd.sx,cd.sy,cd.sWidth,cd.sHeight,dx-camera.scrollX,dy-camera.scrollY,cd.dWidth,cd.dHeight);};module.exports=BlitImage;/***/},/* 421 *//***/function(module,exports){var CanvasSnapshot=function CanvasSnapshot(canvas){var src=canvas.toDataURL();var image=new Image();image.src=src;return image;};module.exports=CanvasSnapshot;/***/},/* 422 *//***/function(module,exports){var DrawImage=function DrawImage(src,camera){var ctx=this.currentContext;var frame=src.frame;var cd=frame.canvasData;//  Blend Mode\nif(this.currentBlendMode!==src.blendMode){this.currentBlendMode=src.blendMode;ctx.globalCompositeOperation=this.blendModes[src.blendMode];}//  Alpha\nif(this.currentAlpha!==src.alpha){this.currentAlpha=src.alpha;ctx.globalAlpha=src.alpha;}//  Smoothing\nif(this.currentScaleMode!==src.scaleMode){this.currentScaleMode=src.scaleMode;// ctx[this.smoothProperty] = (source.scaleMode === ScaleModes.LINEAR);\n}var dx=frame.x-src.displayOriginX;var dy=frame.y-src.displayOriginY;ctx.save();ctx.translate(src.x-camera.scrollX,src.y-camera.scrollY);ctx.rotate(src.rotation);ctx.scale(src.scaleX,src.scaleY);ctx.scale(src.flipX?-1:1,src.flipY?-1:1);ctx.translate(src.dWidth*(src.flipX?1:0),src.dHeight*(src.flipY?1:0));ctx.drawImage(frame.source.image,cd.sx,cd.sy,cd.sWidth,cd.sHeight,dx,dy,cd.dWidth,cd.dHeight);ctx.restore();};module.exports=DrawImage;/***/},/* 423 *//***/function(module,exports,__webpack_require__){var modes=__webpack_require__(31);var CanvasFeatures=__webpack_require__(154);var GetBlendModes=function GetBlendModes(){var output=[];var useNew=CanvasFeatures.supportNewBlendModes;output[modes.NORMAL]='source-over';output[modes.ADD]='lighter';output[modes.MULTIPLY]=useNew?'multiply':'source-over';output[modes.SCREEN]=useNew?'screen':'source-over';output[modes.OVERLAY]=useNew?'overlay':'source-over';output[modes.DARKEN]=useNew?'darken':'source-over';output[modes.LIGHTEN]=useNew?'lighten':'source-over';output[modes.COLOR_DODGE]=useNew?'color-dodge':'source-over';output[modes.COLOR_BURN]=useNew?'color-burn':'source-over';output[modes.HARD_LIGHT]=useNew?'hard-light':'source-over';output[modes.SOFT_LIGHT]=useNew?'soft-light':'source-over';output[modes.DIFFERENCE]=useNew?'difference':'source-over';output[modes.EXCLUSION]=useNew?'exclusion':'source-over';output[modes.HUE]=useNew?'hue':'source-over';output[modes.SATURATION]=useNew?'saturation':'source-over';output[modes.COLOR]=useNew?'color':'source-over';output[modes.LUMINOSITY]=useNew?'luminosity':'source-over';return output;};module.exports=GetBlendModes;/***/},/* 424 *//***/function(module,exports,__webpack_require__){/**\n* @author       Richard Davey (@photonstorm)\n* @author       Felipe Alfonso (@bitnenfer)\n* @copyright    2017 Photon Storm Ltd.\n* @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}\n*/var BlendModes=__webpack_require__(31);var BlitterBatch=__webpack_require__(425);var Class=__webpack_require__(0);var CONST=__webpack_require__(4);var EffectRenderer=__webpack_require__(428);var IsSizePowerOfTwo=__webpack_require__(67);var QuadBatch=__webpack_require__(430);var ResourceManager=__webpack_require__(433);var Resources=__webpack_require__(160);var ScaleModes=__webpack_require__(26);var ShapeBatch=__webpack_require__(439);var SpriteBatch=__webpack_require__(442);var TileBatch=__webpack_require__(444);var TilemapRenderer=__webpack_require__(446);var WebGLSnapshot=__webpack_require__(448);var WebGLRenderer=new Class({initialize:function WebGLRenderer(game){this.game=game;this.type=CONST.WEBGL;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.resolution=game.config.resolution;this.view=game.canvas;//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.contextLost=false;this.maxTextures=1;this.multiTexture=false;this.blendModes=[];this.gl=null;this.extensions=null;this.rendererArray=[];this.blitterBatch=null;this.aaQuadBatch=null;this.spriteBatch=null;this.shapeBatch=null;this.effectRenderer=null;this.currentRenderer=null;this.currentTexture=[];this.shaderCache={};this.currentShader=null;this.resourceManager=null;this.currentRenderTarget=null;this.snapshotCallback=null;this.scissor={enabled:false,x:0,y:0,width:0,height:0};this.init();},init:function init(){this.gl=this.view.getContext('webgl',this.config.WebGLContextOptions)||this.view.getContext('experimental-webgl',this.config.WebGLContextOptions);if(!this.gl){this.contextLost=true;throw new Error('This browser does not support WebGL. Try using the Canvas renderer.');}var gl=this.gl;var color=this.game.config.backgroundColor;this.resourceManager=new ResourceManager(gl);gl.disable(gl.DEPTH_TEST);gl.disable(gl.CULL_FACE);gl.enable(gl.BLEND);gl.clearColor(color.redGL,color.greenGL,color.blueGL,color.alphaGL);//  Map Blend Modes\nthis.blendModes=[];for(var i=0;i<=16;i++){this.blendModes.push({func:[gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA,gl.ONE,gl.ONE_MINUS_SRC_ALPHA],equation:gl.FUNC_ADD});}//  Add\nthis.blendModes[1].func=[gl.SRC_ALPHA,gl.DST_ALPHA];//  Multiply\nthis.blendModes[2].func=[gl.DST_COLOR,gl.ONE_MINUS_SRC_ALPHA];//  Screen\nthis.blendModes[3].func=[gl.SRC_ALPHA,gl.ONE];this.blendMode=-1;this.extensions=gl.getSupportedExtensions();this.blitterBatch=this.addRenderer(new BlitterBatch(this.game,gl,this));this.quadBatch=this.addRenderer(new QuadBatch(this.game,gl,this));this.spriteBatch=this.addRenderer(new SpriteBatch(this.game,gl,this));this.shapeBatch=this.addRenderer(new ShapeBatch(this.game,gl,this));this.effectRenderer=this.addRenderer(new EffectRenderer(this.game,gl,this));this.tileBatch=this.addRenderer(new TileBatch(this.game,gl,this));this.tilemapRenderer=this.addRenderer(new TilemapRenderer(this.game,gl,this));this.currentRenderer=this.spriteBatch;this.setBlendMode(0);this.resize(this.width,this.height);},// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendFunc\n// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendFuncSeparate\n// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquation\n// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendEquationSeparate\n// https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/blendColor\naddBlendMode:function addBlendMode(func,equation){var index=this.blendModes.push({func:func,equation:equation});return index-1;},updateBlendMode:function updateBlendMode(index,func,equation){if(this.blendModes[index]){this.blendModes[index].func=func;if(equation){this.blendModes[index].equation=equation;}}return this;},removeBlendMode:function removeBlendMode(index){if(index>16&&this.blendModes[index]){this.blendModes.splice(index,1);}return this;},createTexture:function createTexture(source,width,height){width=source?source.width:width;height=source?source.height:height;var gl=this.gl;var filter=gl.NEAREST;var wrap=IsSizePowerOfTwo(width,height)?gl.REPEAT:gl.CLAMP_TO_EDGE;if(!source.glTexture){if(source.scaleMode===ScaleModes.LINEAR){filter=gl.LINEAR;}else if(source.scaleMode===ScaleModes.NEAREST||this.game.config.pixelArt){filter=gl.NEAREST;}if(!source&&typeof width==='number'&&typeof height==='number'){source.glTexture=this.resourceManager.createTexture(0,filter,filter,wrap,wrap,gl.RGBA,null,width,height);}else{source.glTexture=this.resourceManager.createTexture(0,filter,filter,wrap,wrap,gl.RGBA,source.image);}}this.currentTexture[0]=null;},setTexture:function setTexture(texture,unit){unit=unit||0;if(this.currentTexture[unit]!==texture){var gl=this.gl;this.currentRenderer.flush();gl.activeTexture(gl.TEXTURE0+unit);if(texture!==null){gl.bindTexture(gl.TEXTURE_2D,texture.texture);}else{gl.bindTexture(gl.TEXTURE_2D,null);}this.currentTexture[unit]=texture;}},setRenderer:function setRenderer(renderer,texture,renderTarget){this.setTexture(texture);this.setRenderTarget(renderTarget);if(this.currentRenderer!==renderer||this.currentRenderer.shouldFlush()){this.currentRenderer.flush();this.currentRenderer=renderer;}},setRenderTarget:function setRenderTarget(renderTarget){var gl=this.gl;if(this.currentRenderTarget!==renderTarget){this.currentRenderer.flush();if(renderTarget!==null){gl.bindFramebuffer(gl.FRAMEBUFFER,renderTarget.framebufferObject);if(renderTarget.shouldClear){gl.clearColor(0,0,0,renderTarget.clearAlpha);gl.clear(gl.COLOR_BUFFER_BIT);renderTarget.shouldClear=false;}}else{gl.bindFramebuffer(gl.FRAMEBUFFER,null);gl.viewport(0,0,this.width,this.height);}this.currentRenderTarget=renderTarget;}},resize:function resize(width,height){var resolution=this.game.config.resolution;this.width=width*resolution;this.height=height*resolution;this.view.width=this.width;this.view.height=this.height;if(this.autoResize){this.view.style.width=this.width/resolution+'px';this.view.style.height=this.height/resolution+'px';}this.gl.viewport(0,0,this.width,this.height);for(var i=0,l=this.rendererArray.length;i<l;++i){this.rendererArray[i].bind();this.rendererArray[i].resize(width,height,resolution);}this.currentRenderer.bind();},//  Call at the start of the render loop\npreRender:function preRender(){this.setRenderTarget(null);//  No point rendering if our context has been blown up!\nif(this.contextLost){return;}//  Add Pre-render hook\nvar gl=this.gl;var color=this.game.config.backgroundColor;gl.clearColor(color.redGL,color.greenGL,color.blueGL,color.alphaGL);// Some drivers require to call glClear\ngl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT|gl.STENCIL_BUFFER_BIT);this.setBlendMode(BlendModes.NORMAL);},/**\n     * Renders a single Scene.\n     *\n     * @method render\n     * @param {Phaser.Scene} scene - The Scene to be rendered.\n     * @param {number} interpolationPercentage - The cumulative amount of time that hasn't been simulated yet, divided\n     *   by the amount of time that will be simulated the next time update()\n     *   runs. Useful for interpolating frames.\n     */render:function render(scene,children,interpolationPercentage,camera){var gl=this.gl;var quadBatch=this.quadBatch;this.scissor.enabled=camera.x!==0||camera.y!==0||camera.width!==gl.canvas.width||camera.height!==gl.canvas.height;this.setRenderTarget(null);if(this.scissor.enabled){gl.enable(gl.SCISSOR_TEST);this.scissor.x=camera.x;this.scissor.y=gl.drawingBufferHeight-camera.y-camera.height;this.scissor.width=camera.width;this.scissor.height=camera.height;gl.scissor(this.scissor.x,this.scissor.y,this.scissor.width,this.scissor.height);}if(camera.backgroundColor.alphaGL>0){var color=camera.backgroundColor;quadBatch.bind();quadBatch.add(camera.x,camera.y,camera.width,camera.height,color.redGL,color.greenGL,color.blueGL,color.alphaGL);quadBatch.flush();this.currentRenderer.bind();}var list=children.list;var length=list.length;for(var index=0;index<length;++index){var child=list[index];// Setting blend mode if needed\nvar renderer=this.currentRenderer;var newBlendMode=child.blendMode;if(this.blendMode!==newBlendMode){if(renderer){renderer.flush();}var blend=this.blendModes[newBlendMode].func;gl.enable(gl.BLEND);gl.blendEquation(this.blendModes[newBlendMode].equation);if(blend.length>2){gl.blendFuncSeparate(blend[0],blend[1],blend[2],blend[3]);}else{gl.blendFunc(blend[0],blend[1]);}this.blendMode=newBlendMode;}// drawing child\nchild.renderWebGL(this,child,interpolationPercentage,camera);renderer=this.currentRenderer;if(renderer.isFull()||renderer.shouldFlush()){renderer.flush();}}this.currentRenderer.flush();if(camera._fadeAlpha>0||camera._flashAlpha>0){this.setRenderTarget(null);quadBatch.bind();// fade rendering\nquadBatch.add(camera.x,camera.y,camera.width,camera.height,camera._fadeRed,camera._fadeGreen,camera._fadeBlue,camera._fadeAlpha);// flash rendering\nquadBatch.add(camera.x,camera.y,camera.width,camera.height,camera._flashRed,camera._flashGreen,camera._flashBlue,camera._flashAlpha);quadBatch.flush();this.currentRenderer.bind();}if(this.scissor.enabled){gl.disable(gl.SCISSOR_TEST);}},//  Called at the end of the render loop (tidy things up, etc)\npostRender:function postRender(){this.currentRenderer.flush();if(this.snapshotCallback){this.snapshotCallback(WebGLSnapshot(this.view));this.snapshotCallback=null;}//  Add Post-render hook\n// console.log('%c render end ', 'color: #ffffff; background: #ff0000;');\n},snapshot:function snapshot(callback){this.snapshotCallback=callback;},createFBO:function createFBO(){},setBlendMode:function setBlendMode(newBlendMode){var gl=this.gl;var renderer=this.currentRenderer;if(this.blendMode!==newBlendMode){if(renderer){renderer.flush();}var blend=this.blendModes[newBlendMode].func;gl.enable(gl.BLEND);gl.blendEquation(this.blendModes[newBlendMode].equation);if(blend.length>2){gl.blendFuncSeparate(blend[0],blend[1],blend[2],blend[3]);}else{gl.blendFunc(blend[0],blend[1]);}this.blendMode=newBlendMode;}},addRenderer:function addRenderer(rendererInstance){var index=this.rendererArray.indexOf(rendererInstance);if(index<0){this.rendererArray.push(rendererInstance);return rendererInstance;}return null;},setTextureFilterMode:function setTextureFilterMode(texture,filterMode){var gl=this.gl;var glFilter=[gl.LINEAR,gl.NEAREST][filterMode];gl.bindTexture(gl.TEXTURE_2D,texture.texture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,glFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,glFilter);if(this.currentTexture[0]!==null){gl.bindTexture(gl.TEXTURE_2D,this.currentTexture[0].texture);}else{gl.bindTexture(gl.TEXTURE_2D,null);}return texture;},uploadCanvasToGPU:function uploadCanvasToGPU(srcCanvas,dstTexture,shouldReallocate){var gl=this.gl;if(!dstTexture){dstTexture=new Resources.Texture(null,0,0);//  Only call this once\ndstTexture.texture=gl.createTexture();}if(dstTexture!=this.currentTexture[0]){this.currentRenderer.flush();}gl.activeTexture(gl.TEXTURE0);if(!shouldReallocate){//  Update resource\ngl.bindTexture(gl.TEXTURE_2D,dstTexture.texture);gl.texSubImage2D(gl.TEXTURE_2D,0,0,0,gl.RGBA,gl.UNSIGNED_BYTE,srcCanvas);}else{//  Allocate or Reallocate resource\ngl.bindTexture(gl.TEXTURE_2D,dstTexture.texture);gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,srcCanvas);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);dstTexture.width=srcCanvas.width;dstTexture.height=srcCanvas.height;}//  We must rebind old texture\nif(dstTexture!=this.currentTexture[0]&&this.currentTexture[0]!==null){gl.bindTexture(gl.TEXTURE_2D,this.currentTexture[0].texture);}return dstTexture;},destroy:function destroy(){this.gl=null;}});module.exports=WebGLRenderer;/***/},/* 425 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(426);var DataBuffer16=__webpack_require__(37);var DataBuffer32=__webpack_require__(30);var PHASER_CONST=__webpack_require__(4);var TexturedAndAlphaShader=__webpack_require__(427);var BlitterBatch=new Class({initialize:function BlitterBatch(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.maxParticles=null;this.shader=null;this.vertexBufferObject=null;this.indexBufferObject=null;this.vertexDataBuffer=null;this.indexDataBuffer=null;this.elementCount=0;this.currentTexture2D=null;this.viewMatrixLocation=null;//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.init(this.glContext);},init:function init(gl){var vertexDataBuffer=new DataBuffer32(CONST.VERTEX_SIZE*CONST.PARTICLE_VERTEX_COUNT*CONST.MAX_PARTICLES);var indexDataBuffer=new DataBuffer16(CONST.INDEX_SIZE*CONST.PARTICLE_INDEX_COUNT*CONST.MAX_PARTICLES);var shader=this.manager.resourceManager.createShader('TexturedAndAlphaShader',TexturedAndAlphaShader);var indexBufferObject=this.manager.resourceManager.createBuffer(gl.ELEMENT_ARRAY_BUFFER,indexDataBuffer.getByteCapacity(),gl.STATIC_DRAW);var vertexBufferObject=this.manager.resourceManager.createBuffer(gl.ARRAY_BUFFER,vertexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var indexBuffer=indexDataBuffer.uintView;var max=CONST.MAX_PARTICLES*CONST.PARTICLE_INDEX_COUNT;vertexBufferObject.addAttribute(shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vertexBufferObject.addAttribute(shader.getAttribLocation('a_tex_coord'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,8);vertexBufferObject.addAttribute(shader.getAttribLocation('a_alpha'),1,gl.FLOAT,false,CONST.VERTEX_SIZE,16);this.vertexDataBuffer=vertexDataBuffer;this.indexDataBuffer=indexDataBuffer;this.shader=shader;this.indexBufferObject=indexBufferObject;this.vertexBufferObject=vertexBufferObject;this.viewMatrixLocation=viewMatrixLocation;this.maxParticles=max;// Populate the index buffer only once\nfor(var indexA=0,indexB=0;indexA<max;indexA+=CONST.PARTICLE_INDEX_COUNT,indexB+=CONST.PARTICLE_VERTEX_COUNT){indexBuffer[indexA+0]=indexB+0;indexBuffer[indexA+1]=indexB+1;indexBuffer[indexA+2]=indexB+2;indexBuffer[indexA+3]=indexB+0;indexBuffer[indexA+4]=indexB+2;indexBuffer[indexA+5]=indexB+3;}indexBufferObject.updateResource(indexBuffer,0);this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){return false;},isFull:function isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity();},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}this.indexBufferObject.bind();this.vertexBufferObject.bind();},flush:function flush(shader){var gl=this.glContext;var vertexDataBuffer=this.vertexDataBuffer;if(this.elementCount===0){return;}this.bind(shader);this.vertexBufferObject.updateResource(vertexDataBuffer.getUsedBufferAsFloat(),0);gl.drawElements(gl.TRIANGLES,this.elementCount,gl.UNSIGNED_SHORT,0);vertexDataBuffer.clear();this.elementCount=0;},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;this.width=width*resolution;this.height=height*resolution;activeShader.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.manager.resourceManager.deleteBuffer(this.indexBufferObject);this.manager.resourceManager.deleteBuffer(this.vertexBufferObject);this.shader=null;this.indexBufferObject=null;this.vertexBufferObject=null;}});module.exports=BlitterBatch;/***/},/* 426 *//***/function(module,exports){var CONST={// VERTEX_SIZE = sizeof(vec2) + sizeof(vec2) + sizeof(float)\nVERTEX_SIZE:20,INDEX_SIZE:2,PARTICLE_VERTEX_COUNT:4,PARTICLE_INDEX_COUNT:6,// How many 32-bit components does the vertex have.\nPARTICLE_VERTEX_COMPONENT_COUNT:5,// Can't be bigger than 10,000 since index are 16-bit\nMAX_PARTICLES:2000};module.exports=CONST;/***/},/* 427 *//***/function(module,exports){module.exports={vert:['uniform mat4 u_view_matrix;','attribute vec2 a_position;','attribute vec2 a_tex_coord;','attribute float a_alpha;','varying vec2 v_tex_coord;','varying float v_alpha;','void main () {','   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);','   v_tex_coord = a_tex_coord;','   v_alpha = a_alpha;','}'].join('\\n'),frag:['precision mediump float;','uniform sampler2D u_sampler2D;','varying vec2 v_tex_coord;','varying float v_alpha;','void main() {','   gl_FragColor = texture2D(u_sampler2D, v_tex_coord) * vec4(1.0, 1.0, 1.0, v_alpha);','}'].join('\\n')};/***/},/* 428 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(429);var DataBuffer16=__webpack_require__(37);var DataBuffer32=__webpack_require__(30);var PHASER_CONST=__webpack_require__(4);var TexturedAndNormalizedTintedShader=__webpack_require__(38);var TransformMatrix=__webpack_require__(13);var EffectRenderer=new Class({initialize:function EffectRenderer(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.maxSprites=null;this.shader=null;this.vertexBufferObject=null;this.indexBufferObject=null;this.vertexDataBuffer=null;this.indexDataBuffer=null;this.elementCount=0;this.currentTexture2D=null;this.viewMatrixLocation=null;this.tempMatrix=new TransformMatrix();//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.init(this.glContext);},init:function init(gl){var vertexDataBuffer=new DataBuffer32(CONST.VERTEX_SIZE*CONST.QUAD_VERTEX_COUNT*CONST.MAX_QUADS);var indexDataBuffer=new DataBuffer16(CONST.INDEX_SIZE*CONST.QUAD_INDEX_COUNT*CONST.MAX_QUADS);var shader=this.manager.resourceManager.createShader('TexturedAndNormalizedTintedShader',TexturedAndNormalizedTintedShader);var indexBufferObject=this.manager.resourceManager.createBuffer(gl.ELEMENT_ARRAY_BUFFER,indexDataBuffer.getByteCapacity(),gl.STATIC_DRAW);var vertexBufferObject=this.manager.resourceManager.createBuffer(gl.ARRAY_BUFFER,vertexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var indexBuffer=indexDataBuffer.uintView;var max=CONST.MAX_QUADS*CONST.QUAD_INDEX_COUNT;this.vertexDataBuffer=vertexDataBuffer;this.indexDataBuffer=indexDataBuffer;this.shader=shader;this.indexBufferObject=indexBufferObject;this.vertexBufferObject=vertexBufferObject;this.viewMatrixLocation=viewMatrixLocation;vertexBufferObject.addAttribute(shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vertexBufferObject.addAttribute(shader.getAttribLocation('a_tex_coord'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,8);vertexBufferObject.addAttribute(shader.getAttribLocation('a_color'),3,gl.UNSIGNED_BYTE,true,CONST.VERTEX_SIZE,16);vertexBufferObject.addAttribute(shader.getAttribLocation('a_alpha'),1,gl.FLOAT,false,CONST.VERTEX_SIZE,20);// Populate the index buffer only once\nfor(var indexA=0,indexB=0;indexA<max;indexA+=CONST.QUAD_INDEX_COUNT,indexB+=CONST.QUAD_VERTEX_COUNT){indexBuffer[indexA+0]=indexB+0;indexBuffer[indexA+1]=indexB+1;indexBuffer[indexA+2]=indexB+2;indexBuffer[indexA+3]=indexB+0;indexBuffer[indexA+4]=indexB+2;indexBuffer[indexA+5]=indexB+3;}indexBufferObject.updateResource(indexBuffer,0);this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){return false;},isFull:function isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity();},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}this.indexBufferObject.bind();this.vertexBufferObject.bind();},flush:function flush(shader){var gl=this.glContext;var vertexDataBuffer=this.vertexDataBuffer;if(this.elementCount===0){return;}this.bind(shader);this.vertexBufferObject.updateResource(vertexDataBuffer.getUsedBufferAsFloat(),0);gl.drawElements(gl.TRIANGLES,this.elementCount,gl.UNSIGNED_SHORT,0);vertexDataBuffer.clear();this.elementCount=0;},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;this.width=width*resolution;this.height=height*resolution;activeShader.setConstantMatrix4x4(activeShader.getUniformLocation('u_view_matrix'),new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},renderEffect:function renderEffect(gameObject,camera,texture,textureWidth,textureHeight){var tempMatrix=this.tempMatrix;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var width=textureWidth*(gameObject.flipX?-1:1);var height=textureHeight*(gameObject.flipY?-1:1);var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var x=-gameObject.displayOriginX+textureWidth*(gameObject.flipX?1:0.0);var y=-gameObject.displayOriginY+textureHeight*(gameObject.flipY?1:0.0);var xw=x+width;var yh=y+height;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var alpha=gameObject.alpha;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;this.manager.setRenderer(this,texture,gameObject.renderTarget);vertexOffset=vertexDataBuffer.allocate(24);this.elementCount+=6;//  Top Left\nvertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectU32[vertexOffset++]=tintTL;vertexBufferObjectF32[vertexOffset++]=alpha;//  Bottom Left\nvertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectU32[vertexOffset++]=tintBL;vertexBufferObjectF32[vertexOffset++]=alpha;//  Bottom Right\nvertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectU32[vertexOffset++]=tintBR;vertexBufferObjectF32[vertexOffset++]=alpha;//  Top Right\nvertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectU32[vertexOffset++]=tintTR;vertexBufferObjectF32[vertexOffset++]=alpha;this.flush(gameObject.dstShader);gameObject.dstRenderTarget.shouldClear=true;},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.manager.resourceManager.deleteBuffer(this.indexBufferObject);this.manager.resourceManager.deleteBuffer(this.vertexBufferObject);this.shader=null;this.indexBufferObject=null;this.vertexBufferObject=null;}});module.exports=EffectRenderer;/***/},/* 429 *//***/function(module,exports){var CONST={// VERTEX_SIZE = (sizeof(vec2) * 4) + (sizeof(float) + sizeof(uint32))\nVERTEX_SIZE:24,INDEX_SIZE:2,QUAD_VERTEX_COUNT:4,QUAD_INDEX_COUNT:6,// How many 32-bit components does the vertex have.\nQUAD_VERTEX_COMPONENT_COUNT:6,// Can't be bigger since index are 16-bit\nMAX_QUADS:2};module.exports=CONST;/***/},/* 430 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(431);var DataBuffer16=__webpack_require__(37);var DataBuffer32=__webpack_require__(30);var PHASER_CONST=__webpack_require__(4);var UntexturedAndTintedShader=__webpack_require__(432);var QuadBatch=new Class({initialize:function QuadBatch(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.maxQuads=null;this.shader=null;this.vertexBufferObject=null;this.indexBufferObject=null;this.vertexDataBuffer=null;this.indexDataBuffer=null;this.elementCount=0;this.viewMatrixLocation=null;//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.init(this.glContext);},init:function init(gl){var vertexDataBuffer=new DataBuffer32(CONST.VERTEX_SIZE*CONST.AAQUAD_VERTEX_COUNT*CONST.MAX_AAQUAD);var indexDataBuffer=new DataBuffer16(CONST.INDEX_SIZE*CONST.AAQUAD_INDEX_COUNT*CONST.MAX_AAQUAD);var shader=this.manager.resourceManager.createShader('UntexturedAndTintedShader',UntexturedAndTintedShader);var indexBufferObject=this.manager.resourceManager.createBuffer(gl.ELEMENT_ARRAY_BUFFER,indexDataBuffer.getByteCapacity(),gl.STATIC_DRAW);var vertexBufferObject=this.manager.resourceManager.createBuffer(gl.ARRAY_BUFFER,vertexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var indexBuffer=indexDataBuffer.uintView;var max=CONST.MAX_AAQUAD*CONST.AAQUAD_INDEX_COUNT;vertexBufferObject.addAttribute(shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vertexBufferObject.addAttribute(shader.getAttribLocation('a_color'),4,gl.FLOAT,false,CONST.VERTEX_SIZE,8);this.vertexDataBuffer=vertexDataBuffer;this.indexDataBuffer=indexDataBuffer;this.shader=shader;this.indexBufferObject=indexBufferObject;this.vertexBufferObject=vertexBufferObject;this.viewMatrixLocation=viewMatrixLocation;// Populate the index buffer only once\nfor(var indexA=0,indexB=0;indexA<max;indexA+=CONST.AAQUAD_INDEX_COUNT,indexB+=CONST.AAQUAD_VERTEX_COUNT){indexBuffer[indexA+0]=indexB+0;indexBuffer[indexA+1]=indexB+1;indexBuffer[indexA+2]=indexB+2;indexBuffer[indexA+3]=indexB+0;indexBuffer[indexA+4]=indexB+2;indexBuffer[indexA+5]=indexB+3;}indexBufferObject.updateResource(indexBuffer,0);this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){return false;},isFull:function isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity();},add:function add(x,y,width,height,red,green,blue,alpha){// The user must check if the buffers are full before flushing\n// this is to give freedom of when should the renderer flush. var vertexDataBuffer = this.vertexDataBuffer;\nvar vertexDataBuffer=this.vertexDataBuffer;var floatBuffer=vertexDataBuffer.floatView;var vertexOffset=vertexDataBuffer.allocate(CONST.AAQUAD_VERTEX_COMPONENT_COUNT*CONST.AAQUAD_VERTEX_COUNT);floatBuffer[vertexOffset++]=x;floatBuffer[vertexOffset++]=y;floatBuffer[vertexOffset++]=red;floatBuffer[vertexOffset++]=green;floatBuffer[vertexOffset++]=blue;floatBuffer[vertexOffset++]=alpha;floatBuffer[vertexOffset++]=x;floatBuffer[vertexOffset++]=y+height;floatBuffer[vertexOffset++]=red;floatBuffer[vertexOffset++]=green;floatBuffer[vertexOffset++]=blue;floatBuffer[vertexOffset++]=alpha;floatBuffer[vertexOffset++]=x+width;floatBuffer[vertexOffset++]=y+height;floatBuffer[vertexOffset++]=red;floatBuffer[vertexOffset++]=green;floatBuffer[vertexOffset++]=blue;floatBuffer[vertexOffset++]=alpha;floatBuffer[vertexOffset++]=x+width;floatBuffer[vertexOffset++]=y;floatBuffer[vertexOffset++]=red;floatBuffer[vertexOffset++]=green;floatBuffer[vertexOffset++]=blue;floatBuffer[vertexOffset++]=alpha;this.elementCount+=CONST.AAQUAD_INDEX_COUNT;},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}this.indexBufferObject.bind();this.vertexBufferObject.bind();},flush:function flush(shader){var gl=this.glContext;var vertexDataBuffer=this.vertexDataBuffer;if(this.elementCount===0){return;}this.bind(shader);this.vertexBufferObject.updateResource(vertexDataBuffer.getUsedBufferAsFloat(),0);gl.drawElements(gl.TRIANGLES,this.elementCount,gl.UNSIGNED_SHORT,0);vertexDataBuffer.clear();this.elementCount=0;},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;this.width=width*resolution;this.height=height*resolution;activeShader.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.manager.resourceManager.deleteBuffer(this.indexBufferObject);this.manager.resourceManager.deleteBuffer(this.vertexBufferObject);this.shader=null;this.indexBufferObject=null;this.vertexBufferObject=null;}});module.exports=QuadBatch;/***/},/* 431 *//***/function(module,exports){var CONST={// VERTEX_SIZE = sizeof(vec2) + sizeof(vec4)\nVERTEX_SIZE:24,INDEX_SIZE:2,AAQUAD_VERTEX_COUNT:4,AAQUAD_INDEX_COUNT:6,// How many 32-bit components does the vertex have.\nAAQUAD_VERTEX_COMPONENT_COUNT:6,MAX_AAQUAD:2000};module.exports=CONST;/***/},/* 432 *//***/function(module,exports){module.exports={vert:['uniform mat4 u_view_matrix;','attribute vec2 a_position;','attribute vec4 a_color;','varying vec4 v_color;','void main () {','   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);','   v_color = a_color;','}'].join('\\n'),frag:['precision lowp float;','varying vec4 v_color;','void main() {','   gl_FragColor = v_color;','}'].join('\\n')};/***/},/* 433 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Resources=__webpack_require__(160);var ResourceManager=new Class({initialize:function ResourceManager(gl){this.gl=gl;//  Maybe add pooling here?\nthis.shaderCache={};this.shaderCount=0;},createRenderTarget:function createRenderTarget(width,height,colorBuffer,depthStencilBuffer){var gl=this.gl;var framebufferObject=gl.createFramebuffer();var depthStencilRenderbufferObject=null;var colorRenderbufferObject=null;var complete=0;gl.bindFramebuffer(gl.FRAMEBUFFER,framebufferObject);if(depthStencilBuffer!==undefined&&depthStencilBuffer!==null){depthStencilBuffer.isRenderTexture=true;gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.TEXTURE_2D,depthStencilBuffer.texture,depthStencilBuffer.mipLevel);}else{depthStencilRenderbufferObject=gl.createRenderbuffer();gl.bindRenderbuffer(gl.RENDERBUFFER,depthStencilRenderbufferObject);gl.renderbufferStorage(gl.RENDERBUFFER,gl.DEPTH_STENCIL,width,height);gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.DEPTH_STENCIL_ATTACHMENT,gl.RENDERBUFFER,depthStencilRenderbufferObject);}if(colorBuffer!==undefined&&colorBuffer!==null){colorBuffer.isRenderTexture=true;gl.framebufferTexture2D(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.TEXTURE_2D,colorBuffer.texture,colorBuffer.mipLevel);}else{colorRenderbufferObject=gl.createRenderbuffer();gl.bindRenderbuffer(gl.RENDERBUFFER,colorRenderbufferObject);gl.renderbufferStorage(gl.RENDERBUFFER,gl.RGBA4,width,height);gl.framebufferRenderbuffer(gl.FRAMEBUFFER,gl.COLOR_ATTACHMENT0,gl.RENDERBUFFER,colorRenderbufferObject);}complete=gl.checkFramebufferStatus(gl.FRAMEBUFFER);if(complete!==gl.FRAMEBUFFER_COMPLETE){var errors={36054:'Incomplete Attachment',36055:'Missing Attachment',36057:'Incomplete Dimensions',36061:'Framebuffer Unsupported'};throw new Error('Framebuffer incomplete. Framebuffer status: '+errors[complete]);}gl.bindFramebuffer(gl.FRAMEBUFFER,null);return new Resources.RenderTarget(framebufferObject,width,height,colorBuffer===undefined?null:colorBuffer,depthStencilBuffer===undefined?null:depthStencilBuffer);},createBuffer:function createBuffer(target,initialDataOrSize,bufferUsage){var gl=this.gl;var bufferObject=gl.createBuffer();gl.bindBuffer(target,bufferObject);gl.bufferData(target,initialDataOrSize,bufferUsage);switch(target){case gl.ARRAY_BUFFER:return new Resources.VertexBuffer(gl,bufferObject);case gl.ELEMENT_ARRAY_BUFFER:return new Resources.IndexBuffer(gl,bufferObject);default:throw new Error('Invalid Buffer Target');}},createTexture:function createTexture(mipLevel,minFilter,magFilter,wrapT,wrapS,format,pixels,width,height){var gl=this.gl;var texture=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,texture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,minFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,magFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,wrapS);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,wrapT);if(pixels===null||pixels===undefined){gl.texImage2D(gl.TEXTURE_2D,mipLevel,format,width,height,0,format,gl.UNSIGNED_BYTE,null);}else{gl.texImage2D(gl.TEXTURE_2D,mipLevel,format,format,gl.UNSIGNED_BYTE,pixels);width=pixels.width;height=pixels.height;}gl.bindTexture(gl.TEXTURE_2D,null);return new Resources.Texture(texture,width,height);},createShader:function createShader(shaderName,shaderSources){if(shaderName===null||shaderName===undefined){shaderName+='Shader'+this.shaderCount;this.shaderCount+=1;}if(!(shaderName in this.shaderCache)){var gl=this.gl;var program;var vertShader;var fragShader;var status;var error;var shader;vertShader=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(vertShader,shaderSources.vert);gl.compileShader(vertShader);error=gl.getShaderInfoLog(vertShader);status=gl.getShaderParameter(vertShader,gl.COMPILE_STATUS);if(!status&&error&&error.length>0){throw new Error('Vertex Shader Compilation Error. Shader name: '+shaderName+'.\\n'+error+'\\n\\n Shader source:\\n'+shaderSources.vert);}else if(error&&error.length>0){console.warn('Vertex Shader Compilation Warning. Shader name: '+shaderName+'.\\n'+error+'\\n\\n Shader source:\\n'+shaderSources.vert);}fragShader=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(fragShader,shaderSources.frag);gl.compileShader(fragShader);error=gl.getShaderInfoLog(fragShader);status=gl.getShaderParameter(fragShader,gl.COMPILE_STATUS);if(!status&&error&&error.length>0){throw new Error('Fragment Shader Compilation Error. Shader name: '+shaderName+'.\\n'+error+'\\n\\n Shader source:\\n'+shaderSources.frag);}else if(error&&error.length>0){console.warn('Fragment Shader Compilation Warning. Shader name: '+shaderName+'.\\n'+error+'\\n\\n Shader source:\\n'+shaderSources.frag);}program=gl.createProgram();gl.attachShader(program,vertShader);gl.attachShader(program,fragShader);gl.linkProgram(program);gl.validateProgram(program);error=gl.getProgramParameter(program,gl.LINK_STATUS);if(error===0){error=gl.getProgramInfoLog(program);throw new Error('Program Linking Error. Shader name: '+shaderName+'.\\n'+error);}error=gl.getProgramParameter(program,gl.VALIDATE_STATUS);if(error===0){error=gl.getProgramInfoLog(program);throw new Error('Program Validation Error. Shader name: '+shaderName+'.\\n'+error);}shader=new Resources.Shader(shaderName,gl,program,vertShader,fragShader);this.shaderCache[shaderName]=shader;return shader;}else{return this.shaderCache[shaderName];}},deleteShader:function deleteShader(shader){var storedShader=this.shaderCache[shader.name];var gl=this.gl;if(storedShader!==undefined){delete this.shaderCache;}gl.deleteShader(shader.vertexShader);gl.deleteShader(shader.fragmentShader);gl.deleteProgram(shader.program);shader.vertexShader=null;shader.fragmentShader=null;shader.program=null;shader.name=null;},deleteBuffer:function deleteBuffer(buffer){var gl=this.gl;gl.deleteBuffer(buffer.bufferObject);}});module.exports=ResourceManager;/***/},/* 434 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var IndexBuffer=new Class({initialize:function IndexBuffer(gl,bufferObject){this.gl=gl;this.bufferTarget=gl.ELEMENT_ARRAY_BUFFER;this.bufferObject=bufferObject;},bind:function bind(){var gl=this.gl;gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.bufferObject);return this;},updateResource:function updateResource(bufferData,offset){var gl=this.gl;gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this.bufferObject);gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER,offset,bufferData);return this;}});module.exports=IndexBuffer;/***/},/* 435 *//***/function(module,exports){var RenderTarget=function RenderTarget(framebufferObject,width,height,colorBuffer,depthStencilBuffer){this.framebufferObject=framebufferObject;this.width=width;this.height=height;this.colorBuffer=colorBuffer;this.depthStencilBuffer=depthStencilBuffer;this.shouldClear=false;this.clearAlpha=0.0;};module.exports=RenderTarget;/***/},/* 436 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Shader=new Class({initialize:function Shader(name,gl,program,vertexShader,fragmentShader){this.gl=gl;this.program=program;this.vertexShader=vertexShader;this.fragmentShader=fragmentShader;this.name=name;},getUniformLocation:function getUniformLocation(name){return this.gl.getUniformLocation(this.program,name);},getAttribLocation:function getAttribLocation(name){return this.gl.getAttribLocation(this.program,name);},setConstantFloat1:function setConstantFloat1(location,x){this.gl.useProgram(this.program);this.gl.uniform1f(location,x);return this;},setConstantFloat2:function setConstantFloat2(location,x,y){this.gl.useProgram(this.program);this.gl.uniform2f(location,x,y);return this;},setConstantFloat3:function setConstantFloat3(location,x,y,z){this.gl.useProgram(this.program);this.gl.uniform3f(location,x,y,z);return this;},setConstantFloat4:function setConstantFloat4(location,x,y,z,w){this.gl.useProgram(this.program);this.gl.uniform4f(location,x,y,z,w);return this;},setConstantInt1:function setConstantInt1(location,x){this.gl.useProgram(this.program);this.gl.uniform1i(location,x);return this;},setConstantInt2:function setConstantInt2(location,x,y){this.gl.useProgram(this.program);this.gl.uniform2i(location,x,y);return this;},setConstantInt3:function setConstantInt3(location,x,y,z){this.gl.useProgram(this.program);this.gl.uniform3i(location,x,y,z);return this;},setConstantInt4:function setConstantInt4(location,x,y,z,w){this.gl.useProgram(this.program);this.gl.uniform4i(location,x,y,z,w);return this;},setConstantMatrix2x2:function setConstantMatrix2x2(location,floatArray){this.gl.useProgram(this.program);this.gl.uniformMatrix2fv(location,false,floatArray);return this;},setConstantMatrix3x3:function setConstantMatrix3x3(location,floatArray){this.gl.useProgram(this.program);this.gl.uniformMatrix3fv(location,false,floatArray);return this;},setConstantMatrix4x4:function setConstantMatrix4x4(location,floatArray){this.gl.useProgram(this.program);this.gl.uniformMatrix4fv(location,false,floatArray);return this;},bind:function bind(){this.gl.useProgram(this.program);return this;}});module.exports=Shader;/***/},/* 437 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Texture=new Class({initialize:function Texture(texture,width,height){this.texture=texture;this.width=width;this.height=height;this.isRenderTexture=false;}});module.exports=Texture;/***/},/* 438 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var VertexBuffer=new Class({initialize:function VertexBuffer(gl,bufferObject){this.gl=gl;this.bufferTarget=gl.ARRAY_BUFFER;this.bufferObject=bufferObject;this.attributes=[];},addAttribute:function addAttribute(index,size,type,normalized,stride,offset){this.attributes.push({index:index,size:size,type:type,normalized:normalized,stride:stride,offset:offset});return this;},updateResource:function updateResource(bufferData,offset){var gl=this.gl;gl.bindBuffer(gl.ARRAY_BUFFER,this.bufferObject);gl.bufferSubData(gl.ARRAY_BUFFER,offset,bufferData);return this;},bind:function bind(){var gl=this.gl;var bufferObject=this.bufferObject;var attributes=this.attributes;var attributesLength=attributes.length;gl.bindBuffer(gl.ARRAY_BUFFER,bufferObject);for(var index=0;index<attributesLength;++index){var element=attributes[index];if(element!==undefined&&element!==null){gl.enableVertexAttribArray(element.index);gl.vertexAttribPointer(element.index,element.size,element.type,element.normalized,element.stride,element.offset);}}return this;}});module.exports=VertexBuffer;/***/},/* 439 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(440);var DataBuffer32=__webpack_require__(30);var Earcut=__webpack_require__(161);var PHASER_CONST=__webpack_require__(4);var UntexturedAndNormalizedTintedShader=__webpack_require__(441);var ShapeBatch=new Class({initialize:function ShapeBatch(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.maxVertices=null;this.shader=null;this.vertexBufferObject=null;this.vertexDataBuffer=null;this.vertexCount=0;this.viewMatrixLocation=null;this.tempTriangle=[{x:0,y:0,width:0,rgb:0xFFFFFF,alpha:1.0},{x:0,y:0,width:0,rgb:0xFFFFFF,alpha:1.0},{x:0,y:0,width:0,rgb:0xFFFFFF,alpha:1.0},{x:0,y:0,width:0,rgb:0xFFFFFF,alpha:1.0}];//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.context=null;this.init(this.glContext);},init:function init(gl){var vertexDataBuffer=new DataBuffer32(CONST.VERTEX_SIZE*CONST.MAX_VERTICES);var shader=this.manager.resourceManager.createShader('UntexturedAndNormalizedTintedShader',UntexturedAndNormalizedTintedShader);var vertexBufferObject=this.manager.resourceManager.createBuffer(gl.ARRAY_BUFFER,vertexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var max=CONST.MAX_VERTICES;vertexBufferObject.addAttribute(shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vertexBufferObject.addAttribute(shader.getAttribLocation('a_color'),4,gl.UNSIGNED_BYTE,true,CONST.VERTEX_SIZE,8);vertexBufferObject.addAttribute(shader.getAttribLocation('a_alpha'),1,gl.FLOAT,false,CONST.VERTEX_SIZE,12);this.vertexDataBuffer=vertexDataBuffer;this.shader=shader;this.vertexBufferObject=vertexBufferObject;this.viewMatrixLocation=viewMatrixLocation;this.maxVertices=max;this.polygonCache=[];this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){return false;},isFull:function isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity();},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}this.vertexBufferObject.bind();},flush:function flush(shader){var gl=this.glContext;var vertexDataBuffer=this.vertexDataBuffer;if(this.vertexCount===0){return;}this.bind(shader);this.vertexBufferObject.updateResource(vertexDataBuffer.getUsedBufferAsFloat(),0);gl.drawArrays(gl.TRIANGLES,0,this.vertexCount);vertexDataBuffer.clear();this.vertexCount=0;},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;this.width=width*resolution;this.height=height*resolution;activeShader.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},// Graphics Game Object properties\n// srcX, srcY, srcScaleX, srcScaleY, srcRotation,\n// line properties\n// ax, ay, bx, by, aLineWidth, bLineWidth, aLineColor, bLineColor, lineAlpha,\n// transform\n// a1, b1, c1, d1, e1, f1,\n// currentMatrix\naddLine:function addLine(srcX,srcY,srcScaleX,srcScaleY,srcRotation,ax,ay,bx,by,aLineWidth,bLineWidth,aLineColor,bLineColor,lineAlpha,a1,b1,c1,d1,e1,f1,currentMatrix){if(this.vertexCount+6>this.maxVertices){this.flush();}this.vertexCount+=6;var a0=currentMatrix.matrix[0];var b0=currentMatrix.matrix[1];var c0=currentMatrix.matrix[2];var d0=currentMatrix.matrix[3];var e0=currentMatrix.matrix[4];var f0=currentMatrix.matrix[5];var a=a1*a0+b1*c0;var b=a1*b0+b1*d0;var c=c1*a0+d1*c0;var d=c1*b0+d1*d0;var e=e1*a0+f1*c0+e0;var f=e1*b0+f1*d0+f0;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferF32=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var dx=bx-ax;var dy=by-ay;var len=Math.sqrt(dx*dx+dy*dy);var al0=aLineWidth*(by-ay)/len;var al1=aLineWidth*(ax-bx)/len;var bl0=bLineWidth*(by-ay)/len;var bl1=bLineWidth*(ax-bx)/len;var lx0=bx-bl0;var ly0=by-bl1;var lx1=ax-al0;var ly1=ay-al1;var lx2=bx+bl0;var ly2=by+bl1;var lx3=ax+al0;var ly3=ay+al1;var x0=lx0*a+ly0*c+e;var y0=lx0*b+ly0*d+f;var x1=lx1*a+ly1*c+e;var y1=lx1*b+ly1*d+f;var x2=lx2*a+ly2*c+e;var y2=lx2*b+ly2*d+f;var x3=lx3*a+ly3*c+e;var y3=lx3*b+ly3*d+f;var vertexOffset=vertexDataBuffer.allocate(24);vertexBufferF32[vertexOffset++]=x0;vertexBufferF32[vertexOffset++]=y0;vertexBufferU32[vertexOffset++]=bLineColor;vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=x1;vertexBufferF32[vertexOffset++]=y1;vertexBufferU32[vertexOffset++]=aLineColor;vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=x2;vertexBufferF32[vertexOffset++]=y2;vertexBufferU32[vertexOffset++]=bLineColor;vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=x1;vertexBufferF32[vertexOffset++]=y1;vertexBufferU32[vertexOffset++]=aLineColor;vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=x3;vertexBufferF32[vertexOffset++]=y3;vertexBufferU32[vertexOffset++]=aLineColor;vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=x2;vertexBufferF32[vertexOffset++]=y2;vertexBufferU32[vertexOffset++]=bLineColor;vertexBufferF32[vertexOffset++]=lineAlpha;return[x0,y0,bLineColor,x1,y1,aLineColor,x2,y2,bLineColor,x3,y3,aLineColor];},// Graphics Game Object properties\n// srcX, srcY, srcScaleX, srcScaleY, srcRotation,\n// Path properties\n// path, lineWidth, lineColor, lineAlpha,\n// transform\n// a, b, c, d, e, f,\n// is last connection\n// isLastPath,\n// currentMatrix\naddStrokePath:function addStrokePath(srcX,srcY,srcScaleX,srcScaleY,srcRotation,path,lineWidth,lineColor,lineAlpha,a,b,c,d,e,f,isLastPath,currentMatrix){var point0,point1;var pathLength=path.length;var polylines=this.polygonCache;var last,curr;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferF32=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var vertexOffset;var line;for(var pathIndex=0;pathIndex+1<pathLength;pathIndex+=1){point0=path[pathIndex];point1=path[pathIndex+1];line=this.addLine(srcX,srcY,srcScaleX,srcScaleY,srcRotation,point0.x,point0.y,point1.x,point1.y,point0.width/2,point1.width/2,point0.rgb,point1.rgb,lineAlpha,a,b,c,d,e,f,currentMatrix);polylines.push(line);}/* Render joints */for(var index=1,polylinesLength=polylines.length;index<polylinesLength;++index){if(this.vertexCount+6>this.maxVertices){this.flush();}last=polylines[index-1]||polylines[polylinesLength-1];curr=polylines[index];vertexOffset=vertexDataBuffer.allocate(24);vertexBufferF32[vertexOffset++]=last[3*2+0];vertexBufferF32[vertexOffset++]=last[3*2+1];vertexBufferU32[vertexOffset++]=last[3*2+2];vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=last[3*0+0];vertexBufferF32[vertexOffset++]=last[3*0+1];vertexBufferU32[vertexOffset++]=last[3*0+2];vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=curr[3*3+0];vertexBufferF32[vertexOffset++]=curr[3*3+1];vertexBufferU32[vertexOffset++]=curr[3*3+2];vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=last[3*0+0];vertexBufferF32[vertexOffset++]=last[3*0+1];vertexBufferU32[vertexOffset++]=last[3*0+2];vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=last[3*2+0];vertexBufferF32[vertexOffset++]=last[3*2+1];vertexBufferU32[vertexOffset++]=last[3*2+2];vertexBufferF32[vertexOffset++]=lineAlpha;vertexBufferF32[vertexOffset++]=curr[3*1+0];vertexBufferF32[vertexOffset++]=curr[3*1+1];vertexBufferU32[vertexOffset++]=curr[3*1+2];vertexBufferF32[vertexOffset++]=lineAlpha;this.vertexCount+=6;}polylines.length=0;},// Graphics Game Object properties\n// srcX, srcY, srcScaleX, srcScaleY, srcRotation,\n// Path properties\n// path, fillColor, fillAlpha,\n// transform\n// a1, b1, c1, d1, e1, f1,\n// currentMatrix\naddFillPath:function addFillPath(srcX,srcY,srcScaleX,srcScaleY,srcRotation,path,fillColor,fillAlpha,a1,b1,c1,d1,e1,f1,currentMatrix){var length=path.length;var polygonCache=this.polygonCache;var polygonIndexArray;var point;var v0,v1,v2;var vertexOffset;var vertexCount=this.vertexCount;var maxVertices=this.maxVertices;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferF32=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var x0,y0,x1,y1,x2,y2;var tx0,ty0,tx1,ty1,tx2,ty2;var a0=currentMatrix.matrix[0];var b0=currentMatrix.matrix[1];var c0=currentMatrix.matrix[2];var d0=currentMatrix.matrix[3];var e0=currentMatrix.matrix[4];var f0=currentMatrix.matrix[5];var a=a1*a0+b1*c0;var b=a1*b0+b1*d0;var c=c1*a0+d1*c0;var d=c1*b0+d1*d0;var e=e1*a0+f1*c0+e0;var f=e1*b0+f1*d0+f0;for(var pathIndex=0;pathIndex<length;++pathIndex){point=path[pathIndex];polygonCache.push(point.x,point.y);}polygonIndexArray=Earcut(polygonCache);length=polygonIndexArray.length;for(var index=0;index<length;index+=3){v0=polygonIndexArray[index+0]*2;v1=polygonIndexArray[index+1]*2;v2=polygonIndexArray[index+2]*2;if(vertexCount+3>maxVertices){this.vertexCount=vertexCount;this.flush();vertexCount=0;}vertexOffset=vertexDataBuffer.allocate(12);vertexCount+=3;x0=polygonCache[v0+0];y0=polygonCache[v0+1];x1=polygonCache[v1+0];y1=polygonCache[v1+1];x2=polygonCache[v2+0];y2=polygonCache[v2+1];tx0=x0*a+y0*c+e;ty0=x0*b+y0*d+f;tx1=x1*a+y1*c+e;ty1=x1*b+y1*d+f;tx2=x2*a+y2*c+e;ty2=x2*b+y2*d+f;vertexBufferF32[vertexOffset++]=tx0;vertexBufferF32[vertexOffset++]=ty0;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx1;vertexBufferF32[vertexOffset++]=ty1;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx2;vertexBufferF32[vertexOffset++]=ty2;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;}this.vertexCount=vertexCount;polygonCache.length=0;},// Graphics Game Object properties\n// srcX, srcY, srcScaleX, srcScaleY, srcRotation,\n// Rectangle properties\n// x, y, width, height, fillColor, fillAlpha,\n// transform\n// a1, b1, c1, d1, e1, f1,\n// currentMatrix\naddFillRect:function addFillRect(srcX,srcY,srcScaleX,srcScaleY,srcRotation,x,y,width,height,fillColor,fillAlpha,a1,b1,c1,d1,e1,f1,currentMatrix){if(this.vertexCount+6>this.maxVertices){this.flush();}var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferF32=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var vertexOffset=vertexDataBuffer.allocate(24);var xw=x+width;var yh=y+height;var a0=currentMatrix.matrix[0];var b0=currentMatrix.matrix[1];var c0=currentMatrix.matrix[2];var d0=currentMatrix.matrix[3];var e0=currentMatrix.matrix[4];var f0=currentMatrix.matrix[5];var a=a1*a0+b1*c0;var b=a1*b0+b1*d0;var c=c1*a0+d1*c0;var d=c1*b0+d1*d0;var e=e1*a0+f1*c0+e0;var f=e1*b0+f1*d0+f0;var tx0=x*a+y*c+e;var ty0=x*b+y*d+f;var tx1=x*a+yh*c+e;var ty1=x*b+yh*d+f;var tx2=xw*a+yh*c+e;var ty2=xw*b+yh*d+f;var tx3=xw*a+y*c+e;var ty3=xw*b+y*d+f;vertexBufferF32[vertexOffset++]=tx0;vertexBufferF32[vertexOffset++]=ty0;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx1;vertexBufferF32[vertexOffset++]=ty1;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx2;vertexBufferF32[vertexOffset++]=ty2;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx0;vertexBufferF32[vertexOffset++]=ty0;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx2;vertexBufferF32[vertexOffset++]=ty2;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx3;vertexBufferF32[vertexOffset++]=ty3;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;this.vertexCount+=6;},// Graphics Game Object properties\n// srcX, srcY, srcScaleX, srcScaleY, srcRotation,\n// Triangle properties\n// x0, y0, x1, y1, x2, y2, fillColor, fillAlpha,\n// transform\n// a1, b1, c1, d1, e1, f1,\n// currentMatrix\naddFillTriangle:function addFillTriangle(srcX,srcY,srcScaleX,srcScaleY,srcRotation,x0,y0,x1,y1,x2,y2,fillColor,fillAlpha,a1,b1,c1,d1,e1,f1,currentMatrix){if(this.vertexCount+3>this.maxVertices){this.flush();}var a0=currentMatrix.matrix[0];var b0=currentMatrix.matrix[1];var c0=currentMatrix.matrix[2];var d0=currentMatrix.matrix[3];var e0=currentMatrix.matrix[4];var f0=currentMatrix.matrix[5];var a=a1*a0+b1*c0;var b=a1*b0+b1*d0;var c=c1*a0+d1*c0;var d=c1*b0+d1*d0;var e=e1*a0+f1*c0+e0;var f=e1*b0+f1*d0+f0;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferF32=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var vertexOffset=vertexDataBuffer.allocate(12);var tx0=x0*a+y0*c+e;var ty0=x0*b+y0*d+f;var tx1=x1*a+y1*c+e;var ty1=x1*b+y1*d+f;var tx2=x2*a+y2*c+e;var ty2=x2*b+y2*d+f;vertexBufferF32[vertexOffset++]=tx0;vertexBufferF32[vertexOffset++]=ty0;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx1;vertexBufferF32[vertexOffset++]=ty1;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;vertexBufferF32[vertexOffset++]=tx2;vertexBufferF32[vertexOffset++]=ty2;vertexBufferU32[vertexOffset++]=fillColor;vertexBufferF32[vertexOffset++]=fillAlpha;this.vertexCount+=3;},// Graphics Game Object properties\n// srcX, srcY, srcScaleX, srcScaleY, srcRotation,\n// Triangle properties\n// x0, y0, x1, y1, x2, y2, lineWidth, lineColor, lineAlpha,\n// transform\n// a, b, c, d, e, f,\n// currentMatrix\naddStrokeTriangle:function addStrokeTriangle(srcX,srcY,srcScaleX,srcScaleY,srcRotation,x0,y0,x1,y1,x2,y2,lineWidth,lineColor,lineAlpha,a,b,c,d,e,f,currentMatrix){var tempTriangle=this.tempTriangle;tempTriangle[0].x=x0;tempTriangle[0].y=y0;tempTriangle[0].width=lineWidth;tempTriangle[0].rgb=lineColor;tempTriangle[0].alpha=lineAlpha;tempTriangle[1].x=x1;tempTriangle[1].y=y1;tempTriangle[1].width=lineWidth;tempTriangle[1].rgb=lineColor;tempTriangle[1].alpha=lineAlpha;tempTriangle[2].x=x2;tempTriangle[2].y=y2;tempTriangle[2].width=lineWidth;tempTriangle[2].rgb=lineColor;tempTriangle[2].alpha=lineAlpha;tempTriangle[3].x=x0;tempTriangle[3].y=y0;tempTriangle[3].width=lineWidth;tempTriangle[3].rgb=lineColor;tempTriangle[3].alpha=lineAlpha;this.addStrokePath(srcX,srcY,srcScaleX,srcScaleY,srcRotation,tempTriangle,lineWidth,lineColor,lineAlpha,a,b,c,d,e,f,false,currentMatrix);},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.manager.resourceManager.deleteBuffer(this.vertexBufferObject);this.shader=null;this.vertexBufferObject=null;}});module.exports=ShapeBatch;/***/},/* 440 *//***/function(module,exports){var CONST={VERTEX_SIZE:16,// How many 32-bit components does the vertex have.\nSHAPE_VERTEX_COMPONENT_COUNT:4,// Can't be bigger than 10,000 since index are 16-bit\nMAX_VERTICES:16000};module.exports=CONST;/***/},/* 441 *//***/function(module,exports){module.exports={vert:['precision mediump float;','uniform mat4 u_view_matrix;','attribute vec2 a_position;','attribute vec4 a_color;','attribute float a_alpha;','varying vec4 v_color;','varying float v_alpha;','void main () {','   gl_Position = u_view_matrix * vec4(a_position, 1.0, 1.0);','   v_color = a_color;','   v_alpha = a_alpha;','}'].join('\\n'),frag:['precision mediump float;','varying vec4 v_color;','varying float v_alpha;','void main() {','   gl_FragColor = vec4(v_color.bgr, v_alpha);','}'].join('\\n')};/***/},/* 442 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(443);var DataBuffer16=__webpack_require__(37);var DataBuffer32=__webpack_require__(30);var PHASER_CONST=__webpack_require__(4);var TexturedAndNormalizedTintedShader=__webpack_require__(38);var TransformMatrix=__webpack_require__(13);var SpriteBatch=new Class({initialize:function SpriteBatch(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.maxSprites=null;this.shader=null;this.vertexBufferObject=null;this.indexBufferObject=null;this.indexBufferObjectForMesh=null;this.vertexDataBuffer=null;this.indexDataBuffer=null;this.elementCount=0;this.currentTexture2D=null;this.viewMatrixLocation=null;this.tempMatrix=new TransformMatrix();//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.drawIndexed=true;this.lastDrawIndexed=true;this.lastDrawingMesh=false;this.drawingMesh=false;this.vertexCount=0;this.init(this.glContext);},init:function init(gl){var vertexDataBuffer=new DataBuffer32(CONST.VERTEX_SIZE*CONST.SPRITE_VERTEX_COUNT*CONST.MAX_SPRITES);var indexDataBuffer=new DataBuffer16(CONST.INDEX_SIZE*CONST.SPRITE_INDEX_COUNT*CONST.MAX_SPRITES);var shader=this.manager.resourceManager.createShader('TexturedAndNormalizedTintedShader',TexturedAndNormalizedTintedShader);var indexBufferObject=this.manager.resourceManager.createBuffer(gl.ELEMENT_ARRAY_BUFFER,indexDataBuffer.getByteCapacity(),gl.STATIC_DRAW);var indexBufferObjectForMesh=this.manager.resourceManager.createBuffer(gl.ELEMENT_ARRAY_BUFFER,indexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var vertexBufferObject=this.manager.resourceManager.createBuffer(gl.ARRAY_BUFFER,vertexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var indexBuffer=indexDataBuffer.uintView;var max=CONST.MAX_SPRITES*CONST.SPRITE_INDEX_COUNT;this.vertexDataBuffer=vertexDataBuffer;this.indexDataBuffer=indexDataBuffer;this.shader=shader;this.indexBufferObject=indexBufferObject;this.indexBufferObjectForMesh=indexBufferObjectForMesh;this.vertexBufferObject=vertexBufferObject;this.viewMatrixLocation=viewMatrixLocation;vertexBufferObject.addAttribute(shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vertexBufferObject.addAttribute(shader.getAttribLocation('a_tex_coord'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,8);vertexBufferObject.addAttribute(shader.getAttribLocation('a_color'),3,gl.UNSIGNED_BYTE,true,CONST.VERTEX_SIZE,16);vertexBufferObject.addAttribute(shader.getAttribLocation('a_alpha'),1,gl.FLOAT,false,CONST.VERTEX_SIZE,20);// Populate the index buffer only once\nfor(var indexA=0,indexB=0;indexA<max;indexA+=CONST.SPRITE_INDEX_COUNT,indexB+=CONST.SPRITE_VERTEX_COUNT){indexBuffer[indexA+0]=indexB+0;indexBuffer[indexA+1]=indexB+1;indexBuffer[indexA+2]=indexB+2;indexBuffer[indexA+3]=indexB+0;indexBuffer[indexA+4]=indexB+2;indexBuffer[indexA+5]=indexB+3;}indexBufferObject.updateResource(indexBuffer,0);this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){if(this.drawIndexed!==this.lastDrawIndexed||this.lastDrawingMesh!==this.drawingMesh||this.isFull()){this.lastDrawIndexed=this.drawIndexed;this.lastDrawingMesh=this.drawingMesh;return true;}return false;},isFull:function isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity();},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}this.vertexBufferObject.bind();},flush:function flush(shader,renderTarget){var gl=this.glContext;var vertexDataBuffer=this.vertexDataBuffer;if(this.elementCount===0&&this.vertexCount===0){return;}if(renderTarget){gl.bindFramebuffer(gl.FRAMEBUFFER,renderTarget);}this.bind(shader);this.vertexBufferObject.updateResource(vertexDataBuffer.getUsedBufferAsFloat(),0);if(this.drawIndexed){if(this.drawingMesh){this.indexBufferObjectForMesh.bind();this.indexBufferObjectForMesh.updateResource(this.indexDataBuffer.buffer,0);}else{this.indexBufferObject.bind();}gl.drawElements(gl.TRIANGLES,this.elementCount,gl.UNSIGNED_SHORT,0);}else{gl.drawArrays(gl.TRIANGLES,0,this.vertexCount);}vertexDataBuffer.clear();this.elementCount=0;this.vertexCount=0;if(renderTarget){gl.bindFramebuffer(gl.FRAMEBUFFER,null);}},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;var location=activeShader===this.shader?this.viewMatrixLocation:activeShader.getUniformLocation('u_view_matrix');this.width=width*resolution;this.height=height*resolution;this.setProjectionMatrix(activeShader,location);},setProjectionMatrix:function setProjectionMatrix(shader,location){shader.setConstantMatrix4x4(location,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.manager.resourceManager.deleteBuffer(this.indexBufferObject);this.manager.resourceManager.deleteBuffer(this.vertexBufferObject);this.shader=null;this.indexBufferObject=null;this.vertexBufferObject=null;},addMeshIndexed:function addMeshIndexed(gameObject,camera){var tempMatrix=this.tempMatrix;var frame=gameObject.frame;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var vertices=gameObject.vertices;var uv=gameObject.uv;var length=vertices.length;var totalVertices=length/2|0;var indexBuffer=this.indexDataBuffer.uintView;var indices=gameObject.indices;var colors=gameObject.colors;var alphas=gameObject.alphas;var indexLength=indices.length;var indexOffset=0;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;this.manager.setRenderer(this,frame.texture.source[frame.sourceIndex].glTexture,gameObject.renderTarget);indexOffset=this.vertexCount;this.drawIndexed=true;this.drawingMesh=true;this.vertexCount+=totalVertices;vertexOffset=vertexDataBuffer.allocate(totalVertices*6);var index;var index0;for(index=0,index0=0;index<length;index+=2){var x=vertices[index+0];var y=vertices[index+1];var tx=x*mva+y*mvc+mve;var ty=x*mvb+y*mvd+mvf;vertexBufferObjectF32[vertexOffset++]=tx;vertexBufferObjectF32[vertexOffset++]=ty;vertexBufferObjectF32[vertexOffset++]=uv[index+0];vertexBufferObjectF32[vertexOffset++]=uv[index+1];vertexBufferObjectU32[vertexOffset++]=colors[index0];vertexBufferObjectF32[vertexOffset++]=alphas[index0];index0+=1;}var elementCount=this.elementCount;for(index=0;index<indexLength;++index){indexBuffer[elementCount+index]=indexOffset+indices[index];}this.elementCount+=indexLength;},addMesh:function addMesh(gameObject,camera){var tempMatrix=this.tempMatrix;var frame=gameObject.frame;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var vertices=gameObject.vertices;var uv=gameObject.uv;var colors=gameObject.colors;var alphas=gameObject.alphas;var length=vertices.length;var totalVertices=length/2|0;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;this.manager.setRenderer(this,frame.texture.source[frame.sourceIndex].glTexture,gameObject.renderTarget);this.drawIndexed=false;this.drawingMesh=true;this.vertexCount+=totalVertices;vertexOffset=vertexDataBuffer.allocate(totalVertices*6);for(var index=0,index0=0;index<length;index+=2){var x=vertices[index+0];var y=vertices[index+1];var tx=x*mva+y*mvc+mve;var ty=x*mvb+y*mvd+mvf;vertexBufferObjectF32[vertexOffset++]=tx;vertexBufferObjectF32[vertexOffset++]=ty;vertexBufferObjectF32[vertexOffset++]=uv[index+0];vertexBufferObjectF32[vertexOffset++]=uv[index+1];vertexBufferObjectU32[vertexOffset++]=colors[index0];vertexBufferObjectF32[vertexOffset++]=alphas[index0];index0+=1;}},addTileTextureRect:function addTileTextureRect(texture,x,y,width,height,alpha,tint,scrollFactorX,scrollFactorY,textureWidth,textureHeight,rectX,rectY,rectW,rectH,camera,renderTarget){var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var xw=x+width;var yh=y+height;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var halfTileWidth=width*0.5;var halfTileHeight=height*0.5;var u0=(rectX-(halfTileWidth-0.5))/textureWidth;var v0=(rectY-(halfTileHeight-0.5))/textureHeight;var u1=(rectX+(halfTileWidth-0.5))/textureWidth;var v1=(rectY+(halfTileHeight-0.5))/textureHeight;var scrollX=camera.scrollX*scrollFactorX;var scrollY=camera.scrollY*scrollFactorY;mva=cameraMatrix[0];mvb=cameraMatrix[1];mvc=cameraMatrix[2];mvd=cameraMatrix[3];mve=cameraMatrix[4];mvf=cameraMatrix[5];tx0=x*mva+y*mvc+mve-scrollX;ty0=x*mvb+y*mvd+mvf-scrollY;tx1=x*mva+yh*mvc+mve-scrollX;ty1=x*mvb+yh*mvd+mvf-scrollY;tx2=xw*mva+yh*mvc+mve-scrollX;ty2=xw*mvb+yh*mvd+mvf-scrollY;tx3=xw*mva+y*mvc+mve-scrollX;ty3=xw*mvb+y*mvd+mvf-scrollY;this.manager.setRenderer(this,texture,renderTarget);this.drawIndexed=true;this.drawingMesh=false;this.elementCount+=6;vertexOffset=vertexDataBuffer.allocate(24);vertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=u0;vertexBufferObjectF32[vertexOffset++]=v0;vertexBufferObjectU32[vertexOffset++]=tint;vertexBufferObjectF32[vertexOffset++]=alpha;vertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=u0;vertexBufferObjectF32[vertexOffset++]=v1;vertexBufferObjectU32[vertexOffset++]=tint;vertexBufferObjectF32[vertexOffset++]=alpha;vertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=u1;vertexBufferObjectF32[vertexOffset++]=v1;vertexBufferObjectU32[vertexOffset++]=tint;vertexBufferObjectF32[vertexOffset++]=alpha;vertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=u1;vertexBufferObjectF32[vertexOffset++]=v0;vertexBufferObjectU32[vertexOffset++]=tint;vertexBufferObjectF32[vertexOffset++]=alpha;},addSpriteTextureRect:function addSpriteTextureRect(gameObject,camera,texture,rectX,rectY,rectWidth,rectHeight,textureWidth,textureHeight){var tempMatrix=this.tempMatrix;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var width=rectWidth*(gameObject.flipX?-1:1);var height=rectHeight*(gameObject.flipY?-1:1);var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var x=-gameObject.displayOriginX+rectWidth*(gameObject.flipX?1:0.0);var y=-gameObject.displayOriginY+rectHeight*(gameObject.flipY?1:0.0);var xw=x+rectWidth;var yh=y+rectHeight;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var alphaTL=gameObject._alphaTL;var alphaTR=gameObject._alphaTR;var alphaBL=gameObject._alphaBL;var alphaBR=gameObject._alphaBR;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;var u0=0;// rectX / textureWidth;\nvar v0=0;// rectY / textureHeight;\nvar u1=1;// u0 + (rectWidth / textureWidth);\nvar v1=1;// v0 + (rectHeight / textureHeight);\ntempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;this.manager.setRenderer(this,texture,gameObject.renderTarget);this.drawIndexed=true;this.drawingMesh=false;vertexOffset=vertexDataBuffer.allocate(24);this.elementCount+=6;//  Top Left\nvertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=u0;vertexBufferObjectF32[vertexOffset++]=v0;vertexBufferObjectU32[vertexOffset++]=tintTL;vertexBufferObjectF32[vertexOffset++]=alphaTL;//  Bottom Left\nvertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=u0;vertexBufferObjectF32[vertexOffset++]=v1;vertexBufferObjectU32[vertexOffset++]=tintBL;vertexBufferObjectF32[vertexOffset++]=alphaBL;//  Bottom Right\nvertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=u1;vertexBufferObjectF32[vertexOffset++]=v1;vertexBufferObjectU32[vertexOffset++]=tintBR;vertexBufferObjectF32[vertexOffset++]=alphaBR;//  Top Right\nvertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=u1;vertexBufferObjectF32[vertexOffset++]=v0;vertexBufferObjectU32[vertexOffset++]=tintTR;vertexBufferObjectF32[vertexOffset++]=alphaTR;},addSpriteTexture:function addSpriteTexture(gameObject,camera,texture,textureWidth,textureHeight){var tempMatrix=this.tempMatrix;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var width=textureWidth*(gameObject.flipX?-1:1);var height=textureHeight*(gameObject.flipY?-1:1);var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var x=-gameObject.displayOriginX+textureWidth*(gameObject.flipX?1:0.0);var y=-gameObject.displayOriginY+textureHeight*(gameObject.flipY?1:0.0);var xw=x+width;var yh=y+height;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var alphaTL=gameObject._alphaTL;var alphaTR=gameObject._alphaTR;var alphaBL=gameObject._alphaBL;var alphaBR=gameObject._alphaBR;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;this.manager.setRenderer(this,texture,gameObject.renderTarget);this.drawIndexed=true;this.drawingMesh=false;vertexOffset=vertexDataBuffer.allocate(24);this.elementCount+=6;//  Top Left\nvertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectU32[vertexOffset++]=tintTL;vertexBufferObjectF32[vertexOffset++]=alphaTL;//  Bottom Left\nvertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectU32[vertexOffset++]=tintBL;vertexBufferObjectF32[vertexOffset++]=alphaBL;//  Bottom Right\nvertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectU32[vertexOffset++]=tintBR;vertexBufferObjectF32[vertexOffset++]=alphaBR;//  Top Right\nvertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=1;vertexBufferObjectF32[vertexOffset++]=0;vertexBufferObjectU32[vertexOffset++]=tintTR;vertexBufferObjectF32[vertexOffset++]=alphaTR;},addSprite:function addSprite(gameObject,camera){var tempMatrix=this.tempMatrix;var frame=gameObject.frame;var forceFlipY=frame.texture.source[frame.sourceIndex].glTexture.isRenderTexture?true:false;var flipX=gameObject.flipX;var flipY=gameObject.flipY^forceFlipY;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var uvs=frame.uvs;var width=frame.width*(flipX?-1:1);var height=frame.height*(flipY?-1:1);var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var x=-gameObject.displayOriginX+frame.x+frame.width*(flipX?1:0.0);var y=-gameObject.displayOriginY+frame.y+frame.height*(flipY?1:0.0);var xw=x+width;var yh=y+height;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var alphaTL=gameObject._alphaTL;var alphaTR=gameObject._alphaTR;var alphaBL=gameObject._alphaBL;var alphaBR=gameObject._alphaBR;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;this.manager.setRenderer(this,frame.texture.source[frame.sourceIndex].glTexture,gameObject.renderTarget);this.drawIndexed=true;this.drawingMesh=false;vertexOffset=vertexDataBuffer.allocate(24);this.elementCount+=6;//  Top Left\nvertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=uvs.x0;vertexBufferObjectF32[vertexOffset++]=uvs.y0;vertexBufferObjectU32[vertexOffset++]=tintTL;vertexBufferObjectF32[vertexOffset++]=alphaTL;//  Bottom Left\nvertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=uvs.x1;vertexBufferObjectF32[vertexOffset++]=uvs.y1;vertexBufferObjectU32[vertexOffset++]=tintBL;vertexBufferObjectF32[vertexOffset++]=alphaBL;//  Bottom Right\nvertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=uvs.x2;vertexBufferObjectF32[vertexOffset++]=uvs.y2;vertexBufferObjectU32[vertexOffset++]=tintBR;vertexBufferObjectF32[vertexOffset++]=alphaBR;//  Top Right\nvertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=uvs.x3;vertexBufferObjectF32[vertexOffset++]=uvs.y3;vertexBufferObjectU32[vertexOffset++]=tintTR;vertexBufferObjectF32[vertexOffset++]=alphaTR;}});module.exports=SpriteBatch;/***/},/* 443 *//***/function(module,exports){var CONST={// VERTEX_SIZE = (sizeof(vec2) * 4) + (sizeof(float) + sizeof(uint32))\nVERTEX_SIZE:24,INDEX_SIZE:2,SPRITE_VERTEX_COUNT:4,SPRITE_INDEX_COUNT:6,// How many 32-bit components does the vertex have.\nSPRITE_VERTEX_COMPONENT_COUNT:6,// Can't be bigger since index are 16-bit\nMAX_SPRITES:2000};module.exports=CONST;/***/},/* 444 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(445);var DataBuffer16=__webpack_require__(37);var DataBuffer32=__webpack_require__(30);var PHASER_CONST=__webpack_require__(4);var TexturedAndNormalizedTintedShader=__webpack_require__(38);var TransformMatrix=__webpack_require__(13);var TileBatch=new Class({initialize:function TileBatch(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.maxSprites=null;this.shader=null;this.vertexBufferObject=null;this.indexBufferObject=null;this.vertexDataBuffer=null;this.indexDataBuffer=null;this.elementCount=0;this.currentTexture2D=null;this.viewMatrixLocation=null;this.tempMatrix=new TransformMatrix();//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.init(this.glContext);},init:function init(gl){var vertexDataBuffer=new DataBuffer32(CONST.VERTEX_SIZE*CONST.SPRITE_VERTEX_COUNT*CONST.MAX_SPRITES);var indexDataBuffer=new DataBuffer16(CONST.INDEX_SIZE*CONST.SPRITE_INDEX_COUNT*CONST.MAX_SPRITES);var shader=this.manager.resourceManager.createShader('TexturedAndNormalizedTintedShader',TexturedAndNormalizedTintedShader);var indexBufferObject=this.manager.resourceManager.createBuffer(gl.ELEMENT_ARRAY_BUFFER,indexDataBuffer.getByteCapacity(),gl.STATIC_DRAW);var vertexBufferObject=this.manager.resourceManager.createBuffer(gl.ARRAY_BUFFER,vertexDataBuffer.getByteCapacity(),gl.STREAM_DRAW);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var indexBuffer=indexDataBuffer.uintView;var max=CONST.MAX_SPRITES*CONST.SPRITE_INDEX_COUNT;this.vertexDataBuffer=vertexDataBuffer;this.indexDataBuffer=indexDataBuffer;this.shader=shader;this.indexBufferObject=indexBufferObject;this.vertexBufferObject=vertexBufferObject;this.viewMatrixLocation=viewMatrixLocation;vertexBufferObject.addAttribute(shader.getAttribLocation('a_position'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,0);vertexBufferObject.addAttribute(shader.getAttribLocation('a_tex_coord'),2,gl.FLOAT,false,CONST.VERTEX_SIZE,8);vertexBufferObject.addAttribute(shader.getAttribLocation('a_color'),3,gl.UNSIGNED_BYTE,true,CONST.VERTEX_SIZE,16);vertexBufferObject.addAttribute(shader.getAttribLocation('a_alpha'),1,gl.FLOAT,false,CONST.VERTEX_SIZE,20);// Populate the index buffer only once\nfor(var indexA=0,indexB=0;indexA<max;indexA+=CONST.SPRITE_INDEX_COUNT,indexB+=CONST.SPRITE_VERTEX_COUNT){indexBuffer[indexA+0]=indexB+0;indexBuffer[indexA+1]=indexB+1;indexBuffer[indexA+2]=indexB+2;indexBuffer[indexA+3]=indexB+0;indexBuffer[indexA+4]=indexB+2;indexBuffer[indexA+5]=indexB+3;}indexBufferObject.updateResource(indexBuffer,0);this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){return false;},isFull:function isFull(){return this.vertexDataBuffer.getByteLength()>=this.vertexDataBuffer.getByteCapacity();},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}this.indexBufferObject.bind();this.vertexBufferObject.bind();},flush:function flush(shader,renderTarget){var gl=this.glContext;var vertexDataBuffer=this.vertexDataBuffer;if(this.elementCount===0){return;}if(renderTarget){gl.bindFramebuffer(gl.FRAMEBUFFER,renderTarget);}this.bind(shader);this.vertexBufferObject.updateResource(vertexDataBuffer.getUsedBufferAsFloat(),0);gl.drawElements(gl.TRIANGLES,this.elementCount,gl.UNSIGNED_SHORT,0);vertexDataBuffer.clear();this.elementCount=0;if(renderTarget){gl.bindFramebuffer(gl.FRAMEBUFFER,null);}},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;var location=activeShader==this.shader?this.viewMatrixLocation:activeShader.getUniformLocation('u_view_matrix');this.width=width*resolution;this.height=height*resolution;this.setProjectionMatrix(activeShader,location);},setProjectionMatrix:function setProjectionMatrix(shader,location){shader.setConstantMatrix4x4(location,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.manager.resourceManager.deleteBuffer(this.indexBufferObject);this.manager.resourceManager.deleteBuffer(this.vertexBufferObject);this.shader=null;this.indexBufferObject=null;this.vertexBufferObject=null;},addTileSprite:function addTileSprite(gameObject,camera){var tempMatrix=this.tempMatrix;var vertexDataBuffer=this.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var width=gameObject.width*(gameObject.flipX?-1:1);var height=gameObject.height*(gameObject.flipY?-1:1);var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var displayOriginX=gameObject.originX*gameObject.width;var displayOriginY=gameObject.originY*gameObject.height;var x=-displayOriginX+gameObject.width*(gameObject.flipX?1:0.0);var y=-displayOriginY+gameObject.height*(gameObject.flipY?1:0.0);var xw=x+width;var yh=y+height;var u0=0;var v0=0;var u1=width/gameObject.frame.width;var v1=height/gameObject.frame.height;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var alpha=gameObject.alpha;var tilePositionX=gameObject.tilePositionX/gameObject.frame.width;var tilePositionY=gameObject.tilePositionY/gameObject.frame.height;var texture=gameObject.tileTexture;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;this.manager.setRenderer(this,texture,gameObject.renderTarget);vertexOffset=vertexDataBuffer.allocate(24);this.elementCount+=6;//  Top Left\nvertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=u0+tilePositionX;vertexBufferObjectF32[vertexOffset++]=v0+tilePositionY;vertexBufferObjectU32[vertexOffset++]=tintTL;vertexBufferObjectF32[vertexOffset++]=alpha;//  Bottom Left\nvertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=u0+tilePositionX;vertexBufferObjectF32[vertexOffset++]=v1+tilePositionY;vertexBufferObjectU32[vertexOffset++]=tintBL;vertexBufferObjectF32[vertexOffset++]=alpha;//  Bottom Right\nvertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=u1+tilePositionX;vertexBufferObjectF32[vertexOffset++]=v1+tilePositionY;vertexBufferObjectU32[vertexOffset++]=tintBR;vertexBufferObjectF32[vertexOffset++]=alpha;//  Top Right\nvertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=u1+tilePositionX;vertexBufferObjectF32[vertexOffset++]=v0+tilePositionY;vertexBufferObjectU32[vertexOffset++]=tintTR;vertexBufferObjectF32[vertexOffset++]=alpha;}});module.exports=TileBatch;/***/},/* 445 *//***/function(module,exports){var CONST={// VERTEX_SIZE = (sizeof(vec2) * 4) + (sizeof(float) + sizeof(uint32))\nVERTEX_SIZE:24,INDEX_SIZE:2,SPRITE_VERTEX_COUNT:4,SPRITE_INDEX_COUNT:6,// How many 32-bit components does the vertex have.\nSPRITE_VERTEX_COMPONENT_COUNT:6,// Can't be bigger since index are 16-bit\nMAX_SPRITES:2000};module.exports=CONST;/***/},/* 446 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(162);var DataBuffer16=__webpack_require__(37);var DataBuffer32=__webpack_require__(30);var PHASER_CONST=__webpack_require__(4);var TilemapShader=__webpack_require__(447);var TilemapRenderer=new Class({initialize:function TilemapRenderer(game,gl,manager){this.game=game;this.type=PHASER_CONST.WEBGL;this.view=game.canvas;this.resolution=game.config.resolution;this.width=game.config.width*game.config.resolution;this.height=game.config.height*game.config.resolution;this.glContext=gl;this.shader=null;this.viewMatrixLocation=null;//   All of these settings will be able to be controlled via the Game Config\nthis.config={clearBeforeRender:true,transparent:false,autoResize:false,preserveDrawingBuffer:false,WebGLContextOptions:{alpha:true,antialias:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:false}};this.manager=manager;this.dirty=false;this.init(this.glContext);},init:function init(gl){var shader=this.manager.resourceManager.createShader('TilemapShader',TilemapShader);var viewMatrixLocation=shader.getUniformLocation('u_view_matrix');var scrollLocation=shader.getUniformLocation('u_scroll');var scrollFactorLocation=shader.getUniformLocation('u_scroll_factor');var tilemapPositionLocation=shader.getUniformLocation('u_tilemap_position');this.shader=shader;this.viewMatrixLocation=viewMatrixLocation;this.scrollLocation=scrollLocation;this.scrollFactorLocation=scrollFactorLocation;this.tilemapPositionLocation=tilemapPositionLocation;this.resize(this.width,this.height,this.game.config.resolution);},shouldFlush:function shouldFlush(){return false;},isFull:function isFull(){return false;},add:function add(x,y,width,height,red,green,blue,alpha){},bind:function bind(shader){if(shader===undefined){this.shader.bind();}else{shader.bind();this.resize(this.width,this.height,this.game.config.resolution,shader);}},flush:function flush(shader){},resize:function resize(width,height,resolution,shader){var activeShader=shader!==undefined?shader:this.shader;this.width=width*resolution;this.height=height*resolution;activeShader.setConstantMatrix4x4(this.viewMatrixLocation,new Float32Array([2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,1,-1,1,0,0]));},destroy:function destroy(){this.manager.resourceManager.deleteShader(this.shader);this.shader=null;}});module.exports=TilemapRenderer;/***/},/* 447 *//***/function(module,exports){module.exports={vert:['uniform mat4 u_view_matrix;','uniform vec2 u_scroll;','uniform vec2 u_scroll_factor;','uniform vec2 u_tilemap_position;','attribute vec2 a_position;','attribute vec2 a_tex_coord;','varying vec2 v_tex_coord;','void main () {','   gl_Position = u_view_matrix * vec4(u_tilemap_position + a_position + (u_scroll * u_scroll_factor), 1.0, 1.0);','   v_tex_coord = a_tex_coord;','}'].join('\\n'),frag:['precision mediump float;','uniform sampler2D u_sampler2D;','varying vec2 v_tex_coord;','void main() {','   gl_FragColor = texture2D(u_sampler2D, v_tex_coord);','}'].join('\\n')};/***/},/* 448 *//***/function(module,exports){var WebGLSnapshot=function WebGLSnapshot(sourceCanvas){var gl=sourceCanvas.getContext('experimental-webgl');var pixels=new Uint8Array(gl.drawingBufferWidth*gl.drawingBufferHeight*4);gl.readPixels(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight,gl.RGBA,gl.UNSIGNED_BYTE,pixels);//  CanvasPool?\nvar canvas=document.createElement('canvas');var ctx=canvas.getContext('2d');var imageData;canvas.width=gl.drawingBufferWidth;canvas.height=gl.drawingBufferHeight;imageData=ctx.getImageData(0,0,canvas.width,canvas.height);var data=imageData.data;for(var y=0;y<canvas.height;y+=1){for(var x=0;x<canvas.width;x+=1){var si=((canvas.height-y)*canvas.width+x)*4;var di=(y*canvas.width+x)*4;data[di+0]=pixels[si+0];data[di+1]=pixels[si+1];data[di+2]=pixels[si+2];data[di+3]=pixels[si+3];}}ctx.putImageData(imageData,0,0);var src=canvas.toDataURL();var image=new Image();image.src=src;return image;};module.exports=WebGLSnapshot;/***/},/* 449 *//***/function(module,exports,__webpack_require__){var BaseCache=__webpack_require__(450);var Class=__webpack_require__(0);//  Phaser.Cache.GlobalCache\nvar GlobalCache=new Class({initialize:function GlobalCache(game){this.game=game;this.sound=new BaseCache();this.video=new BaseCache();this.text=new BaseCache();this.json=new BaseCache();this.xml=new BaseCache();this.physics=new BaseCache();this.tilemap=new BaseCache();this.binary=new BaseCache();this.bitmapFont=new BaseCache();this.shader=new BaseCache();this.custom={};},//  Add your own custom Cache entry, available under Cache.custom.key\naddCustom:function addCustom(key){if(!this.custom.hasOwnProperty(key)){this.custom[key]=new BaseCache();return this.custom[key];}}});module.exports=GlobalCache;/***/},/* 450 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var EventDispatcher=__webpack_require__(25);var Events=__webpack_require__(451);//  Phaser.Cache.BaseCache\nvar BaseCache=new Class({initialize:function BaseCache(){this.entries=new Map();this.events=new EventDispatcher();},add:function add(key,data){this.entries.set(key,data);this.events.dispatch(new Events.CACHE_ADD_EVENT(this,key,data));},has:function has(key){return this.entries.has(key);},get:function get(key){return this.entries.get(key);},remove:function remove(key){var entry=this.get(key);if(entry){this.entries.delete(key);this.events.dispatch(new Events.CACHE_REMOVE_EVENT(this,key,entry.data));}},destroy:function destroy(){this.entries.clear();}});module.exports=BaseCache;/***/},/* 451 *//***/function(module,exports,__webpack_require__){module.exports={CACHE_ADD_EVENT:__webpack_require__(452),CACHE_REMOVE_EVENT:__webpack_require__(453)};/***/},/* 452 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var CacheAddEvent=new Class({Extends:Event,initialize:function CacheAddEvent(cache,key,data){Event.call(this,'CACHE_ADD_EVENT');this.cache=cache;this.key=key;this.data=data;}});module.exports=CacheAddEvent;/***/},/* 453 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var CacheRemoveEvent=new Class({Extends:Event,initialize:function CacheRemoveEvent(cache,key,data){Event.call(this,'CACHE_REMOVE_EVENT');this.cache=cache;this.key=key;this.data=data;}});module.exports=CacheRemoveEvent;/***/},/* 454 *//***/function(module,exports,__webpack_require__){//  Phaser.Input.GlobalInputManager\nvar Class=__webpack_require__(0);var EventDispatcher=__webpack_require__(25);var GetTransformedPoint=__webpack_require__(70);var Keyboard=__webpack_require__(164);var Mouse=__webpack_require__(168);var MouseEvent=__webpack_require__(463);var Touch=__webpack_require__(467);var Pointer=__webpack_require__(468);var PointScreenToWorldHitTest=__webpack_require__(469);var HitTest=__webpack_require__(470);var PointWithinGameObject=__webpack_require__(169);var TransformMatrix=__webpack_require__(13);var GlobalInputManager=new Class({initialize:function GlobalInputManager(game,config){this.game=game;this.canvas;this.config=config;this.enabled=true;this.events=new EventDispatcher();//   Standard FIFO queue\nthis.queue=[];//  Listeners\nthis.keyboard=new Keyboard(this);this.mouse=new Mouse(this);this.touch=new Touch(this);this.activePointer=new Pointer(this,0);this.scale={x:1,y:1};this._tempMatrix=new TransformMatrix();this._tempPoint={x:0,y:0};this._tempHitTest=[];},/**\n    * The Boot handler is called by Phaser.Game when it first starts up.\n    * The renderer is available by now.\n    */boot:function boot(){this.canvas=this.game.canvas;this.keyboard.boot();this.mouse.boot();this.touch.boot();},update:function update(time,delta){this.keyboard.update();var len=this.queue.length;//  Currently just 1 pointer supported\nvar pointer=this.activePointer;pointer.reset();if(!this.enabled||len===0){return;}this.scale.x=this.game.config.width/this.canvas.offsetWidth;this.scale.y=this.game.config.height/this.canvas.offsetHeight;//  Clears the queue array, and also means we don't work on array data that could potentially\n//  be modified during the processing phase\nvar queue=this.queue.splice(0,len);//  Process the event queue, dispatching all of the events that have stored up\nfor(var i=0;i<len;i++){var event=queue[i];//  TODO: Move to CONSTs so we can do integer comparisons instead of strings.\n//  TODO: Remove the MouseEvent events. Devs should use Pointer events instead.\nswitch(event.type){case'mousemove':pointer.move(event,time);this.events.dispatch(new MouseEvent.MOVE(event));break;case'mousedown':pointer.down(event,time);this.events.dispatch(new MouseEvent.DOWN(event));break;case'mouseup':pointer.up(event,time);this.events.dispatch(new MouseEvent.UP(event));break;case'touchmove':pointer.touchmove(event,time);break;case'touchstart':pointer.touchstart(event,time);break;case'touchend':pointer.touchend(event,time);break;}}},getTransformedPoint:function getTransformedPoint(gameObject,x,y){return GetTransformedPoint(this._tempMatrix,gameObject,x,y,this._tempPoint);},pointWithinGameObject:function pointWithinGameObject(gameObject,x,y){return PointWithinGameObject(gameObject,x,y);},hitTest:function hitTest(gameObjects,x,y,camera){return HitTest(this._tempMatrix,x,y,gameObjects,camera,this._tempHitTest);},pointScreenToWorldHitTest:function pointScreenToWorldHitTest(gameObjects,x,y,camera){return PointScreenToWorldHitTest(this._tempMatrix,x,y,gameObjects,camera,this._tempHitTest);},transformX:function transformX(pageX){return(pageX-this.canvas.offsetLeft)*this.scale.x;},transformY:function transformY(pageY){return(pageY-this.canvas.offsetTop)*this.scale.y;},getOffsetX:function getOffsetX(){return this.canvas.offsetLeft;},getOffsetY:function getOffsetY(){return this.canvas.offsetTop;},getScaleX:function getScaleX(){return this.game.config.width/this.canvas.offsetWidth;},getScaleY:function getScaleY(){return this.game.config.height/this.canvas.offsetHeight;}});module.exports=GlobalInputManager;/***/},/* 455 *//***/function(module,exports,__webpack_require__){var Event=__webpack_require__(1);var KeyCodes=__webpack_require__(71);var events={KEY_DOWN_EVENT:__webpack_require__(456),KEY_UP_EVENT:__webpack_require__(457),_UP:[],_DOWN:[]};function createKeyEvent(type){var KeyEvent=function KeyEvent(keyboardEvent){Event.call(this,type);this.data=keyboardEvent;};KeyEvent.prototype=Object.create(Event.prototype);KeyEvent.prototype.constructor=KeyEvent;return KeyEvent;}//  Inject the KeyCode events\nfor(var code in KeyCodes){//  The Key Down Event Types\nvar downType='KEY_DOWN_'+code;var upType='KEY_UP_'+code;events._DOWN[KeyCodes[code]]=createKeyEvent(downType);events._UP[KeyCodes[code]]=createKeyEvent(upType);//  More friendly aliases to the main events\nevents[downType]=events._DOWN[KeyCodes[code]];events[upType]=events._UP[KeyCodes[code]];}module.exports=events;/***/},/* 456 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var KeyDownEvent=new Class({Extends:Event,initialize:function KeyDownEvent(keyboardEvent){Event.call(this,'KEY_DOWN_EVENT');this.data=keyboardEvent;}});module.exports=KeyDownEvent;/***/},/* 457 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var KeyUpEvent=new Class({Extends:Event,initialize:function KeyUpEvent(keyboardEvent){Event.call(this,'KEY_UP_EVENT');this.data=keyboardEvent;}});module.exports=KeyUpEvent;/***/},/* 458 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var KeyComboMatchEvent=new Class({Extends:Event,initialize:function KeyComboMatchEvent(keyCombo,keyboardEvent){Event.call(this,'KEY_COMBO_MATCH_EVENT');this.target=keyCombo;this.data=keyboardEvent;}});module.exports=KeyComboMatchEvent;/***/},/* 459 *//***/function(module,exports){//  Return boolean (true if it reached the end of the combo, false if not)\nvar AdvanceKeyCombo=function AdvanceKeyCombo(event,combo){combo.timeLastMatched=event.timeStamp;combo.index++;if(combo.index===combo.size){return true;}else{combo.current=combo.keyCodes[combo.index];return false;}};module.exports=AdvanceKeyCombo;/***/},/* 460 *//***/function(module,exports){var ResetKeyCombo=function ResetKeyCombo(combo){combo.current=combo.keyCodes[0];combo.index=0;combo.timeLastMatched=0;combo.matched=false;combo.timeMatched=0;return combo;};module.exports=ResetKeyCombo;/***/},/* 461 *//***/function(module,exports){var ProcessKeyDown=function ProcessKeyDown(key,event){key.originalEvent=event;if(key.preventDefault){event.preventDefault();}if(!key.enabled){return;}key.altKey=event.altKey;key.ctrlKey=event.ctrlKey;key.shiftKey=event.shiftKey;key.location=event.location;key.isDown=true;key.isUp=false;key.timeDown=event.timeStamp;key.duration=0;key.repeats++;key._justDown=true;key._justUp=false;return key;};module.exports=ProcessKeyDown;/***/},/* 462 *//***/function(module,exports){var ProcessKeyUp=function ProcessKeyUp(key,event){key.originalEvent=event;if(key.preventDefault){event.preventDefault();}if(!key.enabled){return;}key.isDown=false;key.isUp=true;key.timeUp=event.timeStamp;key.duration=key.timeUp-key.timeDown;key.repeats=0;key._justDown=false;key._justUp=true;return key;};module.exports=ProcessKeyUp;/***/},/* 463 *//***/function(module,exports,__webpack_require__){//  Phaser.Input.Mouse.Events\nmodule.exports={DOWN:__webpack_require__(464),UP:__webpack_require__(465),MOVE:__webpack_require__(466)};/***/},/* 464 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var MouseDownEvent=new Class({Extends:Event,initialize:function MouseDownEvent(nativeEvent){Event.call(this,'MOUSE_DOWN_EVENT');this.data=nativeEvent;this.x=nativeEvent.clientX;this.y=nativeEvent.clientY;}});module.exports=MouseDownEvent;/***/},/* 465 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var MouseUpEvent=new Class({Extends:Event,initialize:function MouseUpEvent(nativeEvent){Event.call(this,'MOUSE_UP_EVENT');this.data=nativeEvent;this.x=nativeEvent.clientX;this.y=nativeEvent.clientY;}});module.exports=MouseUpEvent;/***/},/* 466 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var MouseMoveEvent=new Class({Extends:Event,initialize:function MouseMoveEvent(nativeEvent){Event.call(this,'MOUSE_MOVE_EVENT');this.data=nativeEvent;this.x=nativeEvent.clientX;this.y=nativeEvent.clientY;}});module.exports=MouseMoveEvent;/***/},/* 467 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);// https://developer.mozilla.org/en-US/docs/Web/API/Touch_events\n// https://patrickhlauke.github.io/touch/tests/results/\n// https://www.html5rocks.com/en/mobile/touch/\nvar TouchManager=new Class({initialize:function TouchManager(inputManager){this.manager=inputManager;// @property {boolean} capture - If true the DOM events will have event.preventDefault applied to them, if false they will propagate fully.\nthis.capture=false;this.enabled=false;this.target;this.handler;},boot:function boot(){var config=this.manager.config;this.enabled=config.inputTouch;this.target=config.inputTouchEventTarget;if(!this.target){this.target=this.manager.game.canvas;}if(this.enabled){this.startListeners();}},startListeners:function startListeners(){var queue=this.manager.queue;var _this=this;var handler=function handler(event){if(event.preventDefaulted){// Do nothing if event already handled\nreturn;}// console.log(event);\nqueue.push(event);if(_this.capture){event.preventDefault();}};this.handler=handler;this.target.addEventListener('touchstart',handler,false);this.target.addEventListener('touchmove',handler,false);this.target.addEventListener('touchend',handler,false);},stopListeners:function stopListeners(){this.target.removeEventListener('touchstart',this.handler);this.target.removeEventListener('touchmove',this.handler);this.target.removeEventListener('touchend',this.handler);}});module.exports=TouchManager;/***/},/* 468 *//***/function(module,exports,__webpack_require__){//  Phaser.Input.Pointer\nvar Class=__webpack_require__(0);//  DOM event button value:\n// A number representing a given button:\n// 0: Main button pressed, usually the left button or the un-initialized state\n// 1: Auxiliary button pressed, usually the wheel button or the middle button (if present)\n// 2: Secondary button pressed, usually the right button\n// 3: Fourth button, typically the Browser Back button\n// 4: Fifth button, typically the Browser Forward button\n// For a mouse configured for left-handed use, the button actions are reversed. In this case, the values are read from right to left.\nvar Pointer=new Class({initialize:function Pointer(manager,id){this.manager=manager;this.id=id;this.event;//  The camera the Pointer interacted with during its last update\n//  A Pointer can only ever interact with 1 camera at once, which will be the top-most camera\n//  in the list should multiple cameras be positioned on-top of each other.\nthis.camera=null;// 0  : No button or un-initialized\n// 1  : Left button\n// 2  : Right button\n// 4  : Wheel button or middle button\n// 8  : 4th button (typically the \"Browser Back\" button)\n// 16 : 5th button (typically the \"Browser Forward\" button)\nthis.buttons=0;this.x=0;this.y=0;//  Coordinates and time of the pointer when Button 1 (left button), or Touch, was pressed, used for dragging objects\nthis.downX=0;this.downY=0;this.downTime=0;//  Coordinates and time of the pointer when Button 1 (left button), or Touch, was released, used for dragging objects\nthis.upX=0;this.upY=0;this.upTime=0;//  Is the primary button down? (usually button 0, the left mouse button)\nthis.primaryDown=false;//  0 = Not dragging anything\n//  1 = Being checked if dragging\n//  2 = Dragging something\nthis.dragState=0;//  Is *any* button on this pointer considered as being down?\nthis.isDown=false;this.dirty=false;this.justDown=false;this.justUp=false;this.justMoved=false;},reset:function reset(){this.buttons=0;this.dirty=false;this.isDown=false;this.justDown=false;this.justUp=false;this.justMoved=false;},touchmove:function touchmove(event,time){this.event=event;this.x=this.manager.transformX(event.changedTouches[0].pageX);this.y=this.manager.transformY(event.changedTouches[0].pageY);this.justMoved=true;this.dirty=true;},move:function move(event,time){if(event.buttons){this.buttons=event.buttons;}this.event=event;this.x=this.manager.transformX(event.pageX);this.y=this.manager.transformY(event.pageY);this.justMoved=true;this.dirty=true;},down:function down(event,time){if(event.buttons){this.buttons=event.buttons;}this.event=event;this.x=this.manager.transformX(event.pageX);this.y=this.manager.transformY(event.pageY);//  0: Main button pressed, usually the left button or the un-initialized state\nif(event.button===0){this.primaryDown=true;this.downX=this.x;this.downY=this.y;this.downTime=time;}this.justDown=true;this.isDown=true;this.dirty=true;},touchstart:function touchstart(event,time){this.buttons=1;this.event=event;this.x=this.manager.transformX(event.changedTouches[0].pageX);this.y=this.manager.transformY(event.changedTouches[0].pageY);this.primaryDown=true;this.downX=this.x;this.downY=this.y;this.downTime=time;this.justDown=true;this.isDown=true;this.dirty=true;},up:function up(event,time){if(event.buttons){this.buttons=event.buttons;}this.event=event;this.x=this.manager.transformX(event.pageX);this.y=this.manager.transformY(event.pageY);//  0: Main button pressed, usually the left button or the un-initialized state\nif(event.button===0){this.primaryDown=false;this.upX=this.x;this.upY=this.y;this.upTime=time;}this.justUp=true;this.isDown=false;this.dirty=true;},touchend:function touchend(event,time){this.buttons=0;this.event=event;this.x=this.manager.transformX(event.changedTouches[0].pageX);this.y=this.manager.transformY(event.changedTouches[0].pageY);this.primaryDown=false;this.upX=this.x;this.upY=this.y;this.upTime=time;this.justUp=true;this.isDown=false;this.dirty=true;},noButtonDown:function noButtonDown(){return this.buttons===0;},leftButtonDown:function leftButtonDown(){return this.buttons&1;},rightButtonDown:function rightButtonDown(){return this.buttons&2;},middleButtonDown:function middleButtonDown(){return this.buttons&4;},backButtonDown:function backButtonDown(){return this.buttons&8;},forwardButtonDown:function forwardButtonDown(){return this.buttons&16;}});module.exports=Pointer;/***/},/* 469 *//***/function(module,exports,__webpack_require__){var GetTransformedPoint=__webpack_require__(70);var PointWithinGameObject=__webpack_require__(169);//  Will always return an array.\n//  Array contains matching Game Objects.\n//  Array will be empty if no objects were matched.\nvar PointScreenToWorldHitTest=function PointScreenToWorldHitTest(tempMatrix,x,y,gameObjectArray,camera,output){var length=gameObjectArray.length;var scrollX=camera.scrollX;var scrollY=camera.scrollY;var cameraW=camera.width;var cameraH=camera.height;output.length=0;if(!(x>=camera.x&&y>=camera.y&&x<=camera.x+cameraW&&y<=camera.y+cameraH)){return output;}var screenPoint=camera.cameraToScreen({x:x,y:y});if(Array.isArray(gameObjectArray)){var culled=camera.cull(gameObjectArray);var culledLength=culled.length;for(var index=0;index<culledLength;++index){var object=culled[index];var tpoint=GetTransformedPoint(tempMatrix,object,screenPoint.x+scrollX*object.scrollFactorX,screenPoint.y+scrollY*object.scrollFactorY);if(PointWithinGameObject(object,tpoint.x,tpoint.y)){output.push(object);}}}else{var object=gameObjectArray;var tpoint=GetTransformedPoint(tempMatrix,object,screenPoint.x+scrollX*object.scrollFactorX,screenPoint.y+scrollY*object.scrollFactorY);if(PointWithinGameObject(object,tpoint.x,tpoint.y)){output.push(object);}}return output;};module.exports=PointScreenToWorldHitTest;/***/},/* 470 *//***/function(module,exports,__webpack_require__){var GetTransformedPoint=__webpack_require__(70);var PointWithinHitArea=__webpack_require__(471);//  Will always return an array.\n//  Array contains matching Interactive Objects.\n//  Array will be empty if no objects were matched.\nvar HitTest=function HitTest(tempMatrix,x,y,gameObjects,camera,output){var cameraW=camera.width;var cameraH=camera.height;output.length=0;if(!(x>=camera.x&&y>=camera.y&&x<=camera.x+cameraW&&y<=camera.y+cameraH)){return output;}var screenPoint=camera.cameraToScreen({x:x,y:y});var culledGameObjects=camera.cull(gameObjects);for(var i=0;i<culledGameObjects.length;i++){var gameObject=culledGameObjects[i];if(!gameObject.input.enabled||!gameObject.willRender()){continue;}var point=GetTransformedPoint(tempMatrix,gameObject,screenPoint.x+camera.scrollX*gameObject.scrollFactorX,screenPoint.y+camera.scrollY*gameObject.scrollFactorY);if(PointWithinHitArea(gameObject,point.x,point.y,camera)){output.push(gameObject);}}return output;};module.exports=HitTest;/***/},/* 471 *//***/function(module,exports){//  x/y MUST be translated before being passed to this function,\n//  unless the gameObject is guaranteed to not be rotated or scaled in any way\nvar PointWithinHitArea=function PointWithinHitArea(gameObject,x,y,camera){var input=gameObject.input;// if (!input)\n// {\n//     return false;\n// }\n//  Normalize the origin\nx+=gameObject.displayOriginX;y+=gameObject.displayOriginY;if(input.hitAreaCallback(input.hitArea,x,y,gameObject)){input.localX=x;input.localY=y;return true;}else{return false;}};module.exports=PointWithinHitArea;/***/},/* 472 *//***/function(module,exports,__webpack_require__){var Components=__webpack_require__(473);var Class=__webpack_require__(0);var GlobalSceneManager=new Class({initialize:function GlobalSceneManager(game,sceneConfig){this.game=game;//  Everything kept in here\nthis.keys={};this.scenes=[];//  Only active scenes are kept in here. They are moved here when started, and moved out when not.\n//  All scenes are stored in the scenes array, regardless of being active or not.\nthis.active=[];//  A scene pending to be added to the Scene Manager is stored in here until the manager has time to add it.\nthis._pending=[];//  An array of scenes waiting to be started once the game has booted\nthis._start=[];if(sceneConfig){if(Array.isArray(sceneConfig)){for(var i=0;i<sceneConfig.length;i++){//  The i === 0 part just starts the first Scene given\nthis._pending.push({index:i,key:'default',scene:sceneConfig[i],autoStart:i===0,data:{}});}}else{this._pending.push({index:0,key:'default',scene:sceneConfig,autoStart:true,data:{}});}}},add:Components.Add,boot:Components.Boot,bootScene:Components.BootScene,bringToTop:Components.BringToTop,create:Components.Create,createSceneDisplay:Components.CreateSceneDisplay,createSceneFromFunction:Components.CreateSceneFromFunction,createSceneFromInstance:Components.CreateSceneFromInstance,createSceneFromObject:Components.CreateSceneFromObject,getActiveScene:Components.GetActiveScene,getActiveSceneIndex:Components.GetActiveSceneIndex,getActiveSceneIndexByKey:Components.GetActiveSceneIndexByKey,getKey:Components.GetKey,getScene:Components.GetScene,getSceneAt:Components.GetSceneAt,getSceneIndex:Components.GetSceneIndex,getSceneIndexByKey:Components.GetSceneIndexByKey,isActive:Components.IsActive,isSleeping:Components.IsSleeping,loadComplete:Components.LoadComplete,moveDown:Components.MoveDown,moveUp:Components.MoveUp,pause:Components.Pause,payloadComplete:Components.PayloadComplete,resume:Components.Resume,sendToBack:Components.SendToBack,setupCallbacks:Components.SetupCallbacks,sleep:Components.Sleep,start:Components.Start,stop:Components.Stop,swap:Components.Swap,swapPosition:Components.SwapPosition,wake:Components.Wake});module.exports=GlobalSceneManager;/***/},/* 473 *//***/function(module,exports,__webpack_require__){module.exports={Add:__webpack_require__(474),Boot:__webpack_require__(693),BootScene:__webpack_require__(694),BringToTop:__webpack_require__(695),Create:__webpack_require__(696),CreateSceneDisplay:__webpack_require__(697),CreateSceneFromFunction:__webpack_require__(698),CreateSceneFromInstance:__webpack_require__(699),CreateSceneFromObject:__webpack_require__(700),GetActiveScene:__webpack_require__(701),GetActiveSceneIndex:__webpack_require__(702),GetActiveSceneIndexByKey:__webpack_require__(703),GetKey:__webpack_require__(704),GetScene:__webpack_require__(705),GetSceneAt:__webpack_require__(706),GetSceneIndex:__webpack_require__(707),GetSceneIndexByKey:__webpack_require__(708),IsActive:__webpack_require__(709),IsSleeping:__webpack_require__(710),LoadComplete:__webpack_require__(711),MoveDown:__webpack_require__(712),MoveUp:__webpack_require__(713),Pause:__webpack_require__(714),PayloadComplete:__webpack_require__(715),Resume:__webpack_require__(716),SendToBack:__webpack_require__(717),SetupCallbacks:__webpack_require__(718),Sleep:__webpack_require__(719),SortScenes:__webpack_require__(57),Start:__webpack_require__(720),Stop:__webpack_require__(721),Swap:__webpack_require__(722),SwapPosition:__webpack_require__(723),Wake:__webpack_require__(724)};/***/},/* 474 *//***/function(module,exports,__webpack_require__){var Scene=__webpack_require__(44);/**\n* Adds a new Scene into the GlobalSceneManager. You must give each Scene a unique key by which you'll identify it.\n* The Scene can be either a Phaser.Scene object (or an object that extends it), a plain JavaScript object or a function.\n* If a function is given a new scene object will be created by calling it.\n*\n* @param {string} key - A unique key you use to reference this scene, i.e. \"MainMenu\", \"Level1\".\n* @param {Phaser.Scene|object|function} scene  - The scene you want to switch to.\n* @param {boolean} [autoStart=false]  - If true the Scene will be started immediately after adding it.\n*/var Add=function Add(key,sceneConfig,autoStart){if(autoStart===undefined){autoStart=false;}//  if not booted, then put scene into a holding pattern\nif(!this.game.isBooted){this._pending.push({index:this._pending.length,key:key,scene:sceneConfig,autoStart:autoStart});// console.log('GlobalSceneManager not yet booted, adding to list', this._pending.length);\nreturn;}// var ok = key;\nkey=this.getKey(key,sceneConfig);// console.group('GlobalSceneManager.add');\n// console.log('add key:', ok);\n// console.log('config key:', key);\n// console.log('config:', sceneConfig);\n// console.log('autoStart:', autoStart);\n// console.groupEnd();\nvar newScene;if(sceneConfig instanceof Scene){// console.log('GlobalSceneManager.add from instance:', key);\nnewScene=this.createSceneFromInstance(key,sceneConfig);}else if((typeof sceneConfig==='undefined'?'undefined':_typeof(sceneConfig))==='object'){// console.log('GlobalSceneManager.add from object:', key);\nsceneConfig.key=key;newScene=this.createSceneFromObject(key,sceneConfig);}else if(typeof sceneConfig==='function'){// console.log('GlobalSceneManager.add from function:', key);\nnewScene=this.createSceneFromFunction(key,sceneConfig);}//  Replace key in case the scene changed it\nkey=newScene.sys.settings.key;// console.log('replaced key', key);\nthis.keys[key]=newScene;this.scenes.push(newScene);if(autoStart||newScene.sys.settings.active){if(this.game.isBooted){this.start(key);}else{this._start.push(key);}}return newScene;};module.exports=Add;/***/},/* 475 *//***/function(module,exports,__webpack_require__){var Camera=__webpack_require__(171);var Class=__webpack_require__(0);var GetFastValue=__webpack_require__(7);var KeyControl=__webpack_require__(502);var RectangleContains=__webpack_require__(27);var SmoothedKeyControl=__webpack_require__(503);var CameraManager=new Class({initialize:function CameraManager(scene){//  The Scene that owns this plugin\nthis.scene=scene;this.cameras=[];this.cameraPool=[];if(scene.sys.settings.cameras){//  We have cameras to create\nthis.fromJSON(scene.sys.settings.cameras);}else{//  Make one\nthis.add();}//  Set the default camera\nthis.main=this.cameras[0];},/*\n    {\n        cameras: [\n            {\n                name: string\n                x: int\n                y: int\n                width: int\n                height: int\n                zoom: float\n                rotation: float\n                roundPixels: bool\n                scrollX: float\n                scrollY: float\n                backgroundColor: string\n                bounds: {\n                    x: int\n                    y: int\n                    width: int\n                    height: int\n                }\n            }\n        ]\n    }\n    */fromJSON:function fromJSON(config){if(!Array.isArray(config)){config=[config];}var gameWidth=this.scene.sys.game.config.width;var gameHeight=this.scene.sys.game.config.height;for(var i=0;i<config.length;i++){var cameraConfig=config[i];var x=GetFastValue(cameraConfig,'x',0);var y=GetFastValue(cameraConfig,'y',0);var width=GetFastValue(cameraConfig,'width',gameWidth);var height=GetFastValue(cameraConfig,'height',gameHeight);var camera=this.add(x,y,width,height);//  Direct properties\ncamera.name=GetFastValue(cameraConfig,'name','');camera.zoom=GetFastValue(cameraConfig,'zoom',1);camera.rotation=GetFastValue(cameraConfig,'rotation',0);camera.scrollX=GetFastValue(cameraConfig,'scrollX',0);camera.scrollY=GetFastValue(cameraConfig,'scrollY',0);camera.roundPixels=GetFastValue(cameraConfig,'roundPixels',false);// Background Color\nvar backgroundColor=GetFastValue(cameraConfig,'backgroundColor',false);if(backgroundColor){camera.setBackgroundColor(backgroundColor);}//  Bounds\nvar boundsConfig=GetFastValue(cameraConfig,'bounds',null);if(boundsConfig){var bx=GetFastValue(boundsConfig,'x',0);var by=GetFastValue(boundsConfig,'y',0);var bwidth=GetFastValue(boundsConfig,'width',gameWidth);var bheight=GetFastValue(boundsConfig,'height',gameHeight);camera.setBounds(bx,by,bwidth,bheight);}}return this;},add:function add(x,y,width,height,makeMain){if(x===undefined){x=0;}if(y===undefined){y=0;}if(width===undefined){width=this.scene.sys.game.config.width;}if(height===undefined){height=this.scene.sys.game.config.height;}if(makeMain===undefined){makeMain=false;}var camera=null;if(this.cameraPool.length>0){camera=this.cameraPool.pop();camera.setViewport(x,y,width,height);}else{camera=new Camera(x,y,width,height);}camera.setScene(this.scene);this.cameras.push(camera);if(makeMain){this.main=camera;}return camera;},addKeyControl:function addKeyControl(config){return new KeyControl(config);},addSmoothedKeyControl:function addSmoothedKeyControl(config){return new SmoothedKeyControl(config);},addReference:function addReference(camera){var index=this.cameras.indexOf(camera);var poolIndex=this.cameraPool.indexOf(camera);if(index<0&&poolIndex>=0){this.cameras.push(camera);this.cameraPool.slice(poolIndex,1);return camera;}return null;},remove:function remove(camera){var cameraIndex=this.cameras.indexOf(camera);if(cameraIndex>=0&&this.cameras.length>1){this.cameraPool.push(this.cameras[cameraIndex]);this.cameras.splice(cameraIndex,1);if(this.main===camera){this.main=this.cameras[0];}}},resetAll:function resetAll(){while(this.cameras.length>0){this.cameraPool.push(this.cameras.pop());}this.main=this.add();return this.main;},update:function update(timestep,delta){for(var i=0,l=this.cameras.length;i<l;++i){this.cameras[i].update(timestep,delta);}},getCameraBelowPointer:function getCameraBelowPointer(pointer){var cameras=this.cameras;//  Start from the most recently added camera (the 'top' camera)\nfor(var i=cameras.length-1;i>=0;i--){var camera=cameras[i];if(camera.inputEnabled&&RectangleContains(camera,pointer.x,pointer.y)){return camera;}}},render:function render(renderer,children,interpolation){var cameras=this.cameras;for(var i=0,l=cameras.length;i<l;++i){var camera=cameras[i];camera.preRender();renderer.render(this.scene,children,interpolation,camera);}},destroy:function destroy(){this.main=undefined;for(var i=0;i<this.cameras.length;i++){this.cameras[i].destroy();}for(i=0;i<this.cameraPool.length;i++){this.cameraPool[i].destroy();}this.cameras=[];this.cameraPool=[];this.scene=undefined;}});module.exports=CameraManager;/***/},/* 476 *//***/function(module,exports){var CameraToScreen=function CameraToScreen(pointIn,pointOut){var cameraMatrix=this.matrix.matrix;var mva=cameraMatrix[0];var mvb=cameraMatrix[1];var mvc=cameraMatrix[2];var mvd=cameraMatrix[3];var mve=cameraMatrix[4];var mvf=cameraMatrix[5];/* First Invert Matrix */var determinant=mva*mvd-mvb*mvc;if(!determinant){return pointIn;}determinant=1/determinant;var ima=mvd*determinant;var imb=-mvb*determinant;var imc=-mvc*determinant;var imd=mva*determinant;var ime=(mvc*mvf-mvd*mve)*determinant;var imf=(mvb*mve-mva*mvf)*determinant;var x=pointIn.x;var y=pointIn.y;if(!pointOut){pointOut={x:0,y:0};}/* Apply transform to point */pointOut.x=x*ima+y*imc+ime;pointOut.y=x*imb+y*imd+imf;return pointOut;};module.exports=CameraToScreen;/***/},/* 477 *//***/function(module,exports){var CenterToBounds=function CenterToBounds(){this.scrollX=this._bounds.width*0.5-this.width*0.5;this.scrollY=this._bounds.height*0.5-this.height*0.5;return this;};module.exports=CenterToBounds;/***/},/* 478 *//***/function(module,exports){var CenterToSize=function CenterToSize(){this.scrollX=this.width*0.5;this.scrollY=this.height*0.5;return this;};module.exports=CenterToSize;/***/},/* 479 *//***/function(module,exports){var Cull=function Cull(renderableObjects){if(this.disableCull){return renderableObjects;}var cameraMatrix=this.matrix.matrix;var mva=cameraMatrix[0];var mvb=cameraMatrix[1];var mvc=cameraMatrix[2];var mvd=cameraMatrix[3];/* First Invert Matrix */var determinant=mva*mvd-mvb*mvc;if(!determinant){return renderableObjects;}var mve=cameraMatrix[4];var mvf=cameraMatrix[5];var scrollX=this.scrollX;var scrollY=this.scrollY;var cameraW=this.width;var cameraH=this.height;var culledObjects=this.culledObjects;var length=renderableObjects.length;determinant=1/determinant;culledObjects.length=0;for(var index=0;index<length;++index){var object=renderableObjects[index];if(!object.hasOwnProperty('width')){culledObjects.push(object);continue;}var objectW=object.width;var objectH=object.height;var objectX=object.x-scrollX*object.scrollFactorX-objectW*object.originX;var objectY=object.y-scrollY*object.scrollFactorY-objectH*object.originY;var tx=objectX*mva+objectY*mvc+mve;var ty=objectX*mvb+objectY*mvd+mvf;var tw=(objectX+objectW)*mva+(objectY+objectH)*mvc+mve;var th=(objectX+objectW)*mvb+(objectY+objectH)*mvd+mvf;var cullW=cameraW+objectW;var cullH=cameraH+objectH;if(tx>-objectW||ty>-objectH||tx<cullW||ty<cullH||tw>-objectW||th>-objectH||tw<cullW||th<cullH){culledObjects.push(object);}}return culledObjects;};module.exports=Cull;/***/},/* 480 *//***/function(module,exports){var CullHitTest=function CullHitTest(interactiveObjects){if(this.disableCull){return interactiveObjects;}var cameraMatrix=this.matrix.matrix;var mva=cameraMatrix[0];var mvb=cameraMatrix[1];var mvc=cameraMatrix[2];var mvd=cameraMatrix[3];/* First Invert Matrix */var determinant=mva*mvd-mvb*mvc;if(!determinant){return interactiveObjects;}var mve=cameraMatrix[4];var mvf=cameraMatrix[5];var scrollX=this.scrollX;var scrollY=this.scrollY;var cameraW=this.width;var cameraH=this.height;var length=interactiveObjects.length;determinant=1/determinant;var culledObjects=[];for(var index=0;index<length;++index){var object=interactiveObjects[index].gameObject;if(!object.hasOwnProperty('width')){culledObjects.push(interactiveObjects[index]);continue;}var objectW=object.width;var objectH=object.height;var objectX=object.x-scrollX*object.scrollFactorX-objectW*object.originX;var objectY=object.y-scrollY*object.scrollFactorY-objectH*object.originY;var tx=objectX*mva+objectY*mvc+mve;var ty=objectX*mvb+objectY*mvd+mvf;var tw=(objectX+objectW)*mva+(objectY+objectH)*mvc+mve;var th=(objectX+objectW)*mvb+(objectY+objectH)*mvd+mvf;var cullW=cameraW+objectW;var cullH=cameraH+objectH;if(tx>-objectW||ty>-objectH||tx<cullW||ty<cullH||tw>-objectW||th>-objectH||tw<cullW||th<cullH){culledObjects.push(interactiveObjects[index]);}}return culledObjects;};module.exports=CullHitTest;/***/},/* 481 *//***/function(module,exports){var Destroy=function Destroy(){this._bounds=undefined;this.matrix=undefined;this.culledObjects=[];this.scene=undefined;};module.exports=Destroy;/***/},/* 482 *//***/function(module,exports){var Fade=function Fade(duration,red,green,blue,force){if(red===undefined){red=0.0;}if(green===undefined){green=0.0;}if(blue===undefined){blue=0.0;}if(!force&&this._fadeAlpha>0.0){return;}this._fadeRed=red;this._fadeGreen=green;this._fadeBlue=blue;if(duration<=0){duration=Number.MIN_VALUE;}this._fadeDuration=duration;this._fadeAlpha=Number.MIN_VALUE;};module.exports=Fade;/***/},/* 483 *//***/function(module,exports){var Flash=function Flash(duration,red,green,blue,force){if(!force&&this._flashAlpha>0.0){return;}if(red===undefined){red=1.0;}if(green===undefined){green=1.0;}if(blue===undefined){blue=1.0;}this._flashRed=red;this._flashGreen=green;this._flashBlue=blue;if(duration<=0){duration=Number.MIN_VALUE;}this._flashDuration=duration;this._flashAlpha=1.0;};module.exports=Flash;/***/},/* 484 *//***/function(module,exports){var PreRender=function PreRender(){var width=this.width;var height=this.height;var zoom=this.zoom;var matrix=this.matrix;var originX=width/2;var originY=height/2;var follow=this._follow;if(follow!==null){originX=follow.x;originY=follow.y;this.scrollX=originX-width*0.5;this.scrollY=originY-height*0.5;}if(this.useBounds){var bounds=this._bounds;var boundsX=bounds.x;var boundsY=bounds.y;var boundsR=Math.max(bounds.right-width,width);var boundsB=Math.max(bounds.bottom-height,height);if(this.scrollX<boundsX){this.scrollX=boundsX;}if(this.scrollX>boundsR){this.scrollX=boundsR;}if(this.scrollY<boundsY){this.scrollY=boundsY;}if(this.scrollY>boundsB){this.scrollY=boundsB;}}if(this.roundPixels){this.scrollX=Math.round(this.scrollX);this.scrollY=Math.round(this.scrollY);}matrix.loadIdentity();matrix.translate(this.x+originX,this.y+originY);matrix.rotate(this.rotation);matrix.scale(zoom,zoom);matrix.translate(-originX,-originY);matrix.translate(this._shakeOffsetX,this._shakeOffsetY);};module.exports=PreRender;/***/},/* 485 *//***/function(module,exports){var RemoveBounds=function RemoveBounds(){this.useBounds=false;this._bounds.setEmpty();return this;};module.exports=RemoveBounds;/***/},/* 486 *//***/function(module,exports,__webpack_require__){var ValueToColor=__webpack_require__(52);var SetBackgroundColor=function SetBackgroundColor(color){if(color===undefined){color='rgba(0,0,0,0)';}this.backgroundColor=ValueToColor(color);this.transparent=this.backgroundColor.alpha===0;return this;};module.exports=SetBackgroundColor;/***/},/* 487 *//***/function(module,exports){var SetBounds=function SetBounds(x,y,width,height){this._bounds.setTo(x,y,width,height);this.useBounds=true;return this;};module.exports=SetBounds;/***/},/* 488 *//***/function(module,exports){var SetName=function SetName(value){if(value===undefined){value='';}this.name=value;return this;};module.exports=SetName;/***/},/* 489 *//***/function(module,exports){var SetPosition=function SetPosition(x,y){if(y===undefined){y=x;}this.x=x;this.y=y;return this;};module.exports=SetPosition;/***/},/* 490 *//***/function(module,exports){var SetRotation=function SetRotation(value){if(value===undefined){value=0;}this.rotation=value;return this;};module.exports=SetRotation;/***/},/* 491 *//***/function(module,exports){var SetRoundPixels=function SetRoundPixels(value){this.roundPixels=value;return this;};module.exports=SetRoundPixels;/***/},/* 492 *//***/function(module,exports){var SetScene=function SetScene(scene){this.scene=scene;return this;};module.exports=SetScene;/***/},/* 493 *//***/function(module,exports){var SetScroll=function SetScroll(x,y){if(y===undefined){y=x;}this.scrollX=x;this.scrollY=y;return this;};module.exports=SetScroll;/***/},/* 494 *//***/function(module,exports){var SetSize=function SetSize(width,height){if(height===undefined){height=width;}this.width=width;this.height=height;return this;};module.exports=SetSize;/***/},/* 495 *//***/function(module,exports){var SetViewport=function SetViewport(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;return this;};module.exports=SetViewport;/***/},/* 496 *//***/function(module,exports){var SetZoom=function SetZoom(value){if(value===undefined){value=1;}this.zoom=value;return this;};module.exports=SetZoom;/***/},/* 497 *//***/function(module,exports){var Shake=function Shake(duration,intensity,force){if(intensity===undefined){intensity=0.05;}if(!force&&(this._shakeOffsetX!==0.0||this._shakeOffsetY!==0.0)){return;}this._shakeDuration=duration;this._shakeIntensity=intensity;this._shakeOffsetX=0;this._shakeOffsetY=0;};module.exports=Shake;/***/},/* 498 *//***/function(module,exports){var StartFollow=function StartFollow(gameObjectOrPoint,roundPx){if(this._follow!==null){this.stopFollow();}this._follow=gameObjectOrPoint;if(roundPx!==undefined){this.roundPixels=roundPx;}return this;};module.exports=StartFollow;/***/},/* 499 *//***/function(module,exports){var StopFollow=function StopFollow(){/* do unfollow work here */this._follow=null;};module.exports=StopFollow;/***/},/* 500 *//***/function(module,exports){/*\n    camera: {\n        x: int\n        y: int\n        width: int\n        height: int\n        zoom: float\n        rotation: float\n        roundPixels: bool\n        scrollX: float\n        scrollY: float\n        backgroundColor: string\n        bounds: {\n            x: int\n            y: int\n            width: int\n            height: int\n        }\n    }\n*/var ToJSON=function ToJSON(){var output={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};if(this.useBounds){output['bounds']={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height};}return output;};module.exports=ToJSON;/***/},/* 501 *//***/function(module,exports){var Update=function Update(timestep,delta){if(this._flashAlpha>0.0){this._flashAlpha-=delta/this._flashDuration;if(this._flashAlpha<0.0){this._flashAlpha=0.0;}}if(this._fadeAlpha>0.0&&this._fadeAlpha<1.0){this._fadeAlpha+=delta/this._fadeDuration;if(this._fadeAlpha>=1.0){this._fadeAlpha=1.0;}}if(this._shakeDuration>0.0){var intensity=this._shakeIntensity;this._shakeDuration-=delta;if(this._shakeDuration<=0.0){this._shakeOffsetX=0.0;this._shakeOffsetY=0.0;}else{this._shakeOffsetX=(Math.random()*intensity*this.width*2-intensity*this.width)*this.zoom;this._shakeOffsetY=(Math.random()*intensity*this.height*2-intensity*this.height)*this.zoom;}}};module.exports=Update;/***/},/* 502 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetValue=__webpack_require__(2);//  var camControl = new CameraControl({\n//      camera: this.cameras.main,\n//      left: cursors.left,\n//      right: cursors.right,\n//      speed: float OR { x: 0, y: 0 }\n//  })\nvar KeyControl=new Class({initialize:function KeyControl(config){this.camera=GetValue(config,'camera',null);this.left=GetValue(config,'left',null);this.right=GetValue(config,'right',null);this.up=GetValue(config,'up',null);this.down=GetValue(config,'down',null);var speed=GetValue(config,'speed',null);if(typeof speed==='number'){this.speedX=speed;this.speedY=speed;}else{this.speedX=GetValue(config,'speed.x',0);this.speedY=GetValue(config,'speed.y',0);}this.active=this.camera!==null;},start:function start(){this.active=this.camera!==null;},stop:function stop(){this.active=false;},update:function update(delta){if(!this.active){return;}if(delta===undefined){delta=1;}var cam=this.camera;if(this.up&&this.up.isDown){cam.scrollY-=this.speedY*delta|0;}else if(this.down&&this.down.isDown){cam.scrollY+=this.speedY*delta|0;}if(this.left&&this.left.isDown){cam.scrollX-=this.speedX*delta|0;}else if(this.right&&this.right.isDown){cam.scrollX+=this.speedX*delta|0;}},destroy:function destroy(){this.camera=null;this.left=null;this.right=null;this.up=null;this.down=null;}});module.exports=KeyControl;/***/},/* 503 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetValue=__webpack_require__(2);//  var camControl = new SmoothedKeyControl({\n//      camera: this.cameras.main,\n//      left: cursors.left,\n//      right: cursors.right,\n//      acceleration: float || { x: 0, y: 0 }\n//      drag: float || { x: 0, y: 0 }\n//      maxSpeed: float || { x: 0, y: 0 }\n//  })\nvar SmoothedKeyControl=new Class({initialize:function SmoothedKeyControl(config){this.camera=GetValue(config,'camera',null);this.left=GetValue(config,'left',null);this.right=GetValue(config,'right',null);this.up=GetValue(config,'up',null);this.down=GetValue(config,'down',null);var accel=GetValue(config,'acceleration',null);if(typeof accel==='number'){this.accelX=accel;this.accelY=accel;}else{this.accelX=GetValue(config,'acceleration.x',0);this.accelY=GetValue(config,'acceleration.y',0);}var drag=GetValue(config,'drag',null);if(typeof drag==='number'){this.dragX=drag;this.dragY=drag;}else{this.dragX=GetValue(config,'drag.x',0);this.dragY=GetValue(config,'drag.y',0);}var maxSpeed=GetValue(config,'maxSpeed',null);if(typeof maxSpeed==='number'){this.maxSpeedX=maxSpeed;this.maxSpeedY=maxSpeed;}else{this.maxSpeedX=GetValue(config,'maxSpeed.x',0);this.maxSpeedY=GetValue(config,'maxSpeed.y',0);}this._speedX=0;this._speedY=0;this.active=this.camera!==null;},start:function start(){this.active=this.camera!==null;},stop:function stop(){this.active=false;},update:function update(delta){if(!this.active){return;}if(delta===undefined){delta=1;}var cam=this.camera;//  Apply Deceleration\nif(this._speedX>0){this._speedX-=this.dragX*delta;if(this._speedX<0){this._speedX=0;}}else if(this._speedX<0){this._speedX+=this.dragX*delta;if(this._speedX>0){this._speedX=0;}}if(this._speedY>0){this._speedY-=this.dragY*delta;if(this._speedY<0){this._speedY=0;}}else if(this._speedY<0){this._speedY+=this.dragY*delta;if(this._speedY>0){this._speedY=0;}}//  Check for keys\nif(this.up.isDown){this._speedY+=this.accelY;if(this._speedY>this.maxSpeedY){this._speedY=this.maxSpeedY;}}else if(this.down.isDown){this._speedY-=this.accelY;if(this._speedY<-this.maxSpeedY){this._speedY=-this.maxSpeedY;}}if(this.left.isDown){this._speedX+=this.accelX;if(this._speedX>this.maxSpeedX){this._speedX=this.maxSpeedX;}}else if(this.right.isDown){this._speedX-=this.accelX;if(this._speedX<-this.maxSpeedX){this._speedX=-this.maxSpeedX;}}//  Apply to Camera\nif(this._speedX!==0){cam.scrollX-=this._speedX*delta|0;}if(this._speedY!==0){cam.scrollY-=this._speedY*delta|0;}},destroy:function destroy(){this.camera=null;this.left=null;this.right=null;this.up=null;this.down=null;}});module.exports=SmoothedKeyControl;/***/},/* 504 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var TimerEvent=__webpack_require__(505);var Clock=new Class({initialize:function Clock(scene){this.scene=scene;this.now=Date.now();//  Scale the delta time coming into the Clock by this factor\n//  which then influences anything using this Clock for calculations, like TimerEvents\nthis.timeScale=1;this.paused=false;this._active=[];this._pendingInsertion=[];this._pendingRemoval=[];},addEvent:function addEvent(config){var event=new TimerEvent(config);this._pendingInsertion.push(event);return event;},delayedCall:function delayedCall(delay,callback,args,callbackScope){return this.addEvent({delay:delay,callback:callback,args:args,callbackScope:callbackScope});},clearPendingEvents:function clearPendingEvents(){this._pendingInsertion=[];},removeAllEvents:function removeAllEvents(){this._pendingRemoval=this._pendingRemoval.concat(this._active);return this;},begin:function begin(){var toRemove=this._pendingRemoval.length;var toInsert=this._pendingInsertion.length;if(toRemove===0&&toInsert===0){//  Quick bail\nreturn;}var i;var event;//  Delete old events\nfor(i=0;i<toRemove;i++){event=this._pendingRemoval[i];var index=this._active.indexOf(event);if(index>-1){this._active.splice(index,1);}//  Pool them?\nevent.destroy();}for(i=0;i<toInsert;i++){event=this._pendingInsertion[i];event.elapsed=event.startAt*event.timeScale;this._active.push(event);}//  Clear the lists\nthis._pendingRemoval.length=0;this._pendingInsertion.length=0;},update:function update(time,delta){this.now=time;if(this.paused){return;}delta*this.timeScale;for(var i=0;i<this._active.length;i++){var event=this._active[i];if(event.paused){continue;}//  Use delta time to increase elapsed.\n//  Avoids needing to adjust for pause / resume.\n//  Automatically smoothed by TimeStep class.\n//  In testing accurate to +- 1ms!\nevent.elapsed+=delta*event.timeScale;if(event.elapsed>=event.delay){var remainder=event.elapsed-event.delay;//  Limit it, in case it's checked in the callback\nevent.elapsed=event.delay;//  Process the event\nif(!event.hasDispatched&&event.callback){event.hasDispatched=true;event.callback.apply(event.callbackScope,event.args);}if(event.repeatCount>0){event.repeatCount--;event.elapsed=remainder;event.hasDispatched=false;}else{this._pendingRemoval.push(event);}}}},//  Scene that owns this Clock is shutting down\nshutdown:function shutdown(){var i;for(i=0;i<this._pendingInsertion.length;i++){this._pendingInsertion[i].destroy();}for(i=0;i<this._active.length;i++){this._active[i].destroy();}for(i=0;i<this._pendingRemoval.length;i++){this._pendingRemoval[i].destroy();}this._active.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;},//  Game level nuke\ndestroy:function destroy(){this.shutdown();this.scene=undefined;}});module.exports=Clock;/***/},/* 505 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetFastValue=__webpack_require__(7);var TimerEvent=new Class({initialize:function TimerEvent(config){/**\n        * @property {number} delay - The delay in ms at which this TimerEvent fires.\n        * @readOnly\n        */this.delay=0;/**\n        * @property {number} repeat - The total number of times this TimerEvent will repeat before finishing.\n        * @readOnly\n        */this.repeat=0;/**\n        * @property {number} repeatCount - If repeating this contains the current repeat count.\n        */this.repeatCount=0;/**\n        * @property {boolean} loop - True if this TimerEvent loops, otherwise false.\n        * @readOnly\n        */this.loop=false;/**\n        * @property {function} callback - The callback that will be called when the TimerEvent occurs.\n        */this.callback;/**\n        * @property {object} callbackContext - The context in which the callback will be called.\n        */this.callbackScope;/**\n        * @property {any[]} arguments - Additional arguments to be passed to the callback.\n        */this.args;//  Scale the time causing this TimerEvent to update\nthis.timeScale=1;//  Start this many MS into the elapsed (useful if you want a long duration with repeat, but for the first loop to fire quickly)\nthis.startAt=0;this.elapsed=0;this.paused=false;this.hasDispatched=false;this.reset(config);},reset:function reset(config){this.delay=GetFastValue(config,'delay',0);//  Can also be set to -1 for an infinite loop (same as setting loop: true)\nthis.repeat=GetFastValue(config,'repeat',0);this.loop=GetFastValue(config,'loop',false);this.callback=GetFastValue(config,'callback',undefined);this.callbackScope=GetFastValue(config,'callbackScope',this.callback);this.args=GetFastValue(config,'args',[]);this.timeScale=GetFastValue(config,'timeScale',1);this.startAt=GetFastValue(config,'startAt',0);this.paused=GetFastValue(config,'paused',false);this.elapsed=0;this.hasDispatched=false;this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat;return this;},//  Gets the progress of the current iteration, not factoring in repeats\ngetProgress:function getProgress(){return this.elapsed/this.delay;},//  Gets the progress of the timer overall, factoring in repeats.\ngetOverallProgress:function getOverallProgress(){if(this.repeat>0){var totalDuration=this.delay+this.delay*this.repeat;var totalElapsed=this.elapsed+this.delay*(this.repeat-this.repeatCount);return totalElapsed/totalDuration;}else{return this.getProgress();}},getRepeatCount:function getRepeatCount(){return this.repeatCount;},getElapsed:function getElapsed(){return this.elapsed;},getElapsedSeconds:function getElapsedSeconds(){return this.elapsed*0.001;},remove:function remove(dispatchCallback){if(dispatchCallback===undefined){dispatchCallback=false;}this.elapsed=this.delay;this.hasDispatched=!!dispatchCallback;this.repeatCount=0;},//  Called internaly, private\ndestroy:function destroy(){this.callback=undefined;this.callbackScope=undefined;this.args.length=0;}});module.exports=TimerEvent;/***/},/* 506 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var BlitterCreator=__webpack_require__(507);var DynamicBitmapTextCreator=__webpack_require__(512);var DynamicTilemapCreator=__webpack_require__(516);var EffectLayerCreator=__webpack_require__(521);var GraphicsCreator=__webpack_require__(525);var GroupCreator=__webpack_require__(529);var ImageCreator=__webpack_require__(533);var MeshCreator=__webpack_require__(537);var QuadCreator=__webpack_require__(541);var RenderPassCreator=__webpack_require__(542);var SpriteCreator=__webpack_require__(546);var StaticBitmapTextCreator=__webpack_require__(548);var StaticTilemapCreator=__webpack_require__(554);var TextCreator=__webpack_require__(558);var TileSpriteCreator=__webpack_require__(565);var GameObjectCreator=new Class({initialize:function GameObjectCreator(scene){this.scene=scene;},bitmapText:function bitmapText(config){return StaticBitmapTextCreator(this.scene,config);},dynamicBitmapText:function dynamicBitmapText(config){return DynamicBitmapTextCreator(this.scene,config);},blitter:function blitter(config){return BlitterCreator(this.scene,config);},effectLayer:function effectLayer(config){return EffectLayerCreator(this.scene,config);},graphics:function graphics(config){return GraphicsCreator(this.scene,config);},group:function group(config){return GroupCreator(this.scene,config);},mesh:function mesh(config){return MeshCreator(this.scene,config);},image:function image(config){return ImageCreator(this.scene,config);},quad:function quad(config){return QuadCreator(this.scene,config);},renderPass:function renderPass(config){return RenderPassCreator(this.scene,config);},sprite:function sprite(config){return SpriteCreator(this.scene,config);},text:function text(config){return TextCreator(this.scene,config);},tilemap:function tilemap(config){return DynamicTilemapCreator(this.scene,config);},staticTilemap:function staticTilemap(config){return StaticTilemapCreator(this.scene,config);},tileSprite:function tileSprite(config){return TileSpriteCreator(this.scene,config);}});module.exports=GameObjectCreator;/***/},/* 507 *//***/function(module,exports,__webpack_require__){var Blitter=__webpack_require__(72);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var BlitterCreator=function BlitterCreator(scene,config){var key=GetAdvancedValue(config,'key',null);var frame=GetAdvancedValue(config,'frame',null);var blitter=new Blitter(scene,0,0,key,frame);BuildGameObject(scene,blitter,config);return blitter;};module.exports=BlitterCreator;/***/},/* 508 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(509),renderWebGL:__webpack_require__(510)};/***/},/* 509 *//***/function(module,exports){var BlitterCanvasRenderer=function BlitterCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var list=src.getRenderList();renderer.setBlendMode(src.blendMode);var ca=renderer.currentAlpha;//  Render bobs\nfor(var i=0;i<list.length;i++){var bob=list[i];if(ca!==bob.alpha){ca=renderer.setAlpha(bob.alpha);}renderer.blitImage(bob.x,bob.y,bob.frame,camera);}};module.exports=BlitterCanvasRenderer;/***/},/* 510 *//***/function(module,exports){var BlitterWebGLRenderer=function BlitterWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var list=src.getRenderList();var blitterBatch=renderer.blitterBatch;var cameraMatrix=camera.matrix.matrix;var a=cameraMatrix[0];var b=cameraMatrix[1];var c=cameraMatrix[2];var d=cameraMatrix[3];var e=cameraMatrix[4];var f=cameraMatrix[5];var cameraScrollX=camera.scrollX*src.scrollFactorX;var cameraScrollY=camera.scrollY*src.scrollFactorY;var renderTarget=src.renderTarget;//  Render bobs\nfor(var i=0,l=list.length;i<l;i++){var bob=list[i];var frame=bob.frame;var alpha=bob.alpha;var vertexDataBuffer=blitterBatch.vertexDataBuffer;var vertexBuffer=vertexDataBuffer.floatView;var vertexOffset=0;var uvs=frame.uvs;var width=frame.width*(bob.flipX?-1:1);var height=frame.height*(bob.flipY?-1:1);var x=bob.x+frame.x-cameraScrollX+frame.width*(bob.flipX?1:0.0);var y=bob.y+frame.y-cameraScrollY+frame.height*(bob.flipY?1:0.0);var xw=x+width;var yh=y+height;var tx=x*a+y*c+e;var ty=x*b+y*d+f;var txw=xw*a+yh*c+e;var tyh=xw*b+yh*d+f;if(blitterBatch.elementCount>=blitterBatch.maxParticles){blitterBatch.flush();}renderer.setRenderer(blitterBatch,frame.texture.source[frame.sourceIndex].glTexture,camera,renderTarget);vertexOffset=vertexDataBuffer.allocate(20);blitterBatch.elementCount+=6;x+=frame.x;y+=frame.y;vertexBuffer[vertexOffset++]=tx;vertexBuffer[vertexOffset++]=ty;vertexBuffer[vertexOffset++]=uvs.x0;vertexBuffer[vertexOffset++]=uvs.y0;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx;vertexBuffer[vertexOffset++]=tyh;vertexBuffer[vertexOffset++]=uvs.x1;vertexBuffer[vertexOffset++]=uvs.y1;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=txw;vertexBuffer[vertexOffset++]=tyh;vertexBuffer[vertexOffset++]=uvs.x2;vertexBuffer[vertexOffset++]=uvs.y2;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=txw;vertexBuffer[vertexOffset++]=ty;vertexBuffer[vertexOffset++]=uvs.x3;vertexBuffer[vertexOffset++]=uvs.y3;vertexBuffer[vertexOffset++]=alpha;}};module.exports=BlitterWebGLRenderer;/***/},/* 511 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Bob=new Class({initialize:function Bob(x,y,frame,visible){//  Set by the DisplayList class\nthis.parent;this.x=x;this.y=y;this.frame=frame;this.data={};this._visible=visible;this._alpha=1;this.flipX-false;this.flipY=false;},resetFlip:function resetFlip(){this.flipX=false;this.flipY=false;},reset:function reset(x,y,frame){this.x=x;this.y=y;this.frame=frame;},destroy:function destroy(){this.parent=undefined;this.frame=undefined;this.data=undefined;},visible:{get:function get(){return this._visible;},set:function set(value){this._visible=value;this.parent.dirty=true;}},alpha:{get:function get(){return this._alpha;},set:function set(value){this._alpha=value;this.parent.dirty=true;}}});module.exports=Bob;/***/},/* 512 *//***/function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(73);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var DynamicBitmapTextCreator=function DynamicBitmapTextCreator(scene,config){var font=GetAdvancedValue(config,'font','');var text=GetAdvancedValue(config,'text','');var size=GetAdvancedValue(config,'size',false);var align=GetAdvancedValue(config,'align','left');var bitmapText=new BitmapText(scene,0,0,font,text,size,align);BuildGameObject(scene,bitmapText,config);return bitmapText;};module.exports=DynamicBitmapTextCreator;/***/},/* 513 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(514),renderWebGL:__webpack_require__(515)};/***/},/* 514 *//***/function(module,exports){var DynamicBitmapTextCanvasRenderer=function DynamicBitmapTextCanvasRenderer(renderer,src,interpolationPercentage,camera){var text=src.text;var textLength=text.length;if(this.renderMask!==this.renderFlags||textLength===0){return;}var textureFrame=src.frame;var displayCallback=src.displayCallback;var cameraScrollX=camera.scrollX*src.scrollFactorX;var cameraScrollY=camera.scrollY*src.scrollFactorY;var chars=src.fontData.chars;var lineHeight=src.fontData.lineHeight;var xAdvance=0;var yAdvance=0;var indexCount=0;var charCode=0;var glyph=null;var glyphX=0;var glyphY=0;var glyphW=0;var glyphH=0;var x=0;var y=0;var lastGlyph=null;var lastCharCode=0;var ctx=renderer.currentContext;var image=src.frame.source.image;var textureX=textureFrame.cutX;var textureY=textureFrame.cutY;var rotation=0;var scale=src.fontSize/src.fontData.size;//  Blend Mode\nif(renderer.currentBlendMode!==src.blendMode){renderer.currentBlendMode=src.blendMode;ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];}//  Alpha\nif(renderer.currentAlpha!==src.alpha){renderer.currentAlpha=src.alpha;ctx.globalAlpha=src.alpha;}//  Smoothing\nif(renderer.currentScaleMode!==src.scaleMode){renderer.currentScaleMode=src.scaleMode;}ctx.save();ctx.translate(src.x,src.y);ctx.rotate(src.rotation);ctx.scale(src.scaleX,src.scaleY);if(src.width>0&&src.height>0){ctx.save();ctx.beginPath();ctx.rect(0,0,src.width,src.height);ctx.clip();ctx.closePath();}for(var index=0;index<textLength;++index){//  Reset the scale (in case the callback changed it)\nscale=src.fontSize/src.fontData.size;rotation=0;charCode=text.charCodeAt(index);if(charCode===10){xAdvance=0;indexCount=0;yAdvance+=lineHeight;lastGlyph=null;continue;}glyph=chars[charCode];if(!glyph){continue;}glyphX=textureX+glyph.x;glyphY=textureY+glyph.y;glyphW=glyph.width;glyphH=glyph.height;x=indexCount+glyph.xOffset+xAdvance-src.scrollX;y=glyph.yOffset+yAdvance-src.scrollY;//  This could be optimized so that it doesn't even bother drawing it if the x/y is out of range\nif(lastGlyph!==null){var kerningOffset=glyph.kerning[lastCharCode];x+=kerningOffset!==undefined?kerningOffset:0;}if(displayCallback){var output=displayCallback({index:index,charCode:charCode,x:x,y:y,scale:scale,rotation:0,data:glyph.data});x=output.x;y=output.y;scale=output.scale;rotation=output.rotation;}x*=scale;y*=scale;x-=cameraScrollX;y-=cameraScrollY;ctx.save();ctx.translate(x,y);ctx.rotate(rotation);ctx.scale(scale,scale);// ctx.fillStyle = 'rgba(0,255,0,0.2)';\n// ctx.fillRect(0, 0, glyphW, glyphH);\nctx.drawImage(image,glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH);ctx.restore();xAdvance+=glyph.xAdvance;indexCount+=1;lastGlyph=glyph;lastCharCode=charCode;}if(src.width>0&&src.height>0){ctx.restore();}ctx.restore();};module.exports=DynamicBitmapTextCanvasRenderer;/***/},/* 515 *//***/function(module,exports,__webpack_require__){var TransformMatrix=__webpack_require__(13);var tempMatrix=new TransformMatrix();var tempMatrixChar=new TransformMatrix();var DynamicBitmapTextWebGLRenderer=function DynamicBitmapTextWebGLRenderer(renderer,gameObject,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var displayCallback=gameObject.displayCallback;var textureFrame=gameObject.frame;var cameraScrollX=camera.scrollX*gameObject.scrollFactorX;var cameraScrollY=camera.scrollY*gameObject.scrollFactorY;var text=gameObject.text;var textLength=text.length;var chars=gameObject.fontData.chars;var lineHeight=gameObject.fontData.lineHeight;var spriteBatch=renderer.spriteBatch;var alpha=gameObject.alpha;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;var vertexDataBuffer=spriteBatch.vertexDataBuffer;var vertexBuffer=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var vertexOffset=0;var textureData=gameObject.texture.source[textureFrame.sourceIndex];var textureX=textureFrame.cutX;var textureY=textureFrame.cutY;var textureWidth=textureData.width;var textureHeight=textureData.height;var texture=textureData.glTexture;var xAdvance=0;var yAdvance=0;var indexCount=0;var charCode=0;var glyph=null;var glyphX=0;var glyphY=0;var glyphW=0;var glyphH=0;var x=0;var y=0;var rotation=0;var xw=0;var yh=0;var umin=0;var umax=0;var vmin=0;var vmax=0;var lastGlyph=null;var lastCharCode=0;var tempMatrixMatrix=tempMatrix.matrix;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var scale=gameObject.fontSize/gameObject.fontData.size;var uta,utb,utc,utd,ute,utf;var tempMatrixCharMatrix=tempMatrixChar.matrix;var renderTarget=gameObject.renderTarget;tempMatrix.applyITRS(gameObject.x-cameraScrollX,gameObject.y-cameraScrollY,-gameObject.rotation,gameObject.scaleX,gameObject.scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;var gl=renderer.gl;if(gameObject.width>0&&gameObject.height>0){if(renderer.currentRenderer!==null){renderer.currentRenderer.flush();}if(!renderer.scissor.enabled){gl.enable(gl.SCISSOR_TEST);}var sw=gameObject.width*gameObject.scaleX;var sh=gameObject.height*gameObject.scaleY;gl.scissor(gameObject.x,gl.drawingBufferHeight-gameObject.y-sh,sw,sh);}for(var index=0;index<textLength;++index){charCode=text.charCodeAt(index);if(charCode===10){xAdvance=0;indexCount=0;yAdvance+=lineHeight;lastGlyph=null;continue;}glyph=chars[charCode];if(!glyph){continue;}glyphX=textureX+glyph.x;glyphY=textureY+glyph.y;glyphW=glyph.width;glyphH=glyph.height;x=(indexCount+glyph.xOffset+xAdvance)*scale;y=(glyph.yOffset+yAdvance)*scale;rotation=0;if(lastGlyph!==null){var kerningOffset=glyph.kerning[lastCharCode];x+=kerningOffset!==undefined?kerningOffset:0;}if(displayCallback){var output=displayCallback({tint:{topLeft:tintTL,topRight:tintTR,bottomLeft:tintBL,bottomRight:tintBR},index:index,charCode:charCode,x:x,y:y,scale:scale,rotation:0,data:glyph.data});x=output.x;y=output.y;scale=output.scale;rotation=output.rotation;tintTL=output.tint.topLeft;tintTR=output.tint.topRight;tintBL=output.tint.bottomLeft;tintBR=output.tint.bottomRight;}x-=gameObject.scrollX|0;y-=gameObject.scrollY|0;tempMatrixChar.applyITRS(x,y,-rotation,scale,scale);uta=tempMatrixCharMatrix[0];utb=tempMatrixCharMatrix[1];utc=tempMatrixCharMatrix[2];utd=tempMatrixCharMatrix[3];ute=tempMatrixCharMatrix[4];utf=tempMatrixCharMatrix[5];sra=uta*mva+utb*mvc;srb=uta*mvb+utb*mvd;src=utc*mva+utd*mvc;srd=utc*mvb+utd*mvd;sre=ute*mva+utf*mvc+mve;srf=ute*mvb+utf*mvd+mvf;xw=glyphW;yh=glyphH;tx0=sre;ty0=srf;tx1=yh*src+sre;ty1=yh*srd+srf;tx2=xw*sra+yh*src+sre;ty2=xw*srb+yh*srd+srf;tx3=xw*sra+sre;ty3=xw*srb+srf;umin=glyphX/textureWidth;umax=(glyphX+glyphW)/textureWidth;vmin=glyphY/textureHeight;vmax=(glyphY+glyphH)/textureHeight;if(spriteBatch.elementCount>=spriteBatch.maxParticles){spriteBatch.flush();}renderer.setRenderer(spriteBatch,texture,renderTarget);vertexOffset=vertexDataBuffer.allocate(24);spriteBatch.elementCount+=6;vertexBuffer[vertexOffset++]=tx0;vertexBuffer[vertexOffset++]=ty0;vertexBuffer[vertexOffset++]=umin;vertexBuffer[vertexOffset++]=vmin;vertexBufferU32[vertexOffset++]=tintTL;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx1;vertexBuffer[vertexOffset++]=ty1;vertexBuffer[vertexOffset++]=umin;vertexBuffer[vertexOffset++]=vmax;vertexBufferU32[vertexOffset++]=tintBL;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx2;vertexBuffer[vertexOffset++]=ty2;vertexBuffer[vertexOffset++]=umax;vertexBuffer[vertexOffset++]=vmax;vertexBufferU32[vertexOffset++]=tintBR;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx3;vertexBuffer[vertexOffset++]=ty3;vertexBuffer[vertexOffset++]=umax;vertexBuffer[vertexOffset++]=vmin;vertexBufferU32[vertexOffset++]=tintTR;vertexBuffer[vertexOffset++]=alpha;xAdvance+=glyph.xAdvance;indexCount+=1;lastGlyph=glyph;lastCharCode=charCode;}if(gameObject.width>0&&gameObject.height>0){spriteBatch.flush();if(renderer.scissor.enabled){gl.scissor(renderer.scissor.x,renderer.scissor.y,renderer.scissor.width,renderer.scissor.height);}else{gl.scissor(camera.x,gl.drawingBufferHeight-camera.y-camera.height,camera.width,camera.height);gl.disable(gl.SCISSOR_TEST);}}};module.exports=DynamicBitmapTextWebGLRenderer;/***/},/* 516 *//***/function(module,exports,__webpack_require__){var Tilemap=__webpack_require__(74);var GetValue=__webpack_require__(2);var BuildGameObject=__webpack_require__(9);var TilemapCreator=function TilemapCreator(scene,config){var mapData=GetValue(config,'map.data',null);var mapWidth=GetValue(config,'map.width',1);var mapHeight=GetValue(config,'map.height',1);var x=GetValue(config,'x',0);var y=GetValue(config,'y',0);var tileWidth=GetValue(config,'tile.width',16);var tileHeight=GetValue(config,'tile.height',16);var tileTexture=GetValue(config,'tile.texture',null);var tileFrame=GetValue(config,'tile.frame',null);var tileBorder=GetValue(config,'tile.border',0);var map=new Tilemap(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,tileTexture,tileFrame);BuildGameObject(scene,map,config);return map;};module.exports=TilemapCreator;/***/},/* 517 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(518),renderWebGL:__webpack_require__(519)};/***/},/* 518 *//***/function(module,exports){var TilemapCanvasRenderer=function TilemapCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}};module.exports=TilemapCanvasRenderer;/***/},/* 519 *//***/function(module,exports){var TilemapWebGLRenderer=function TilemapWebGLRenderer(renderer,gameObject,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}this.cull(camera);var renderTiles=gameObject.culledTiles;var length=renderTiles.length;var batch=renderer.spriteBatch;var texture=gameObject.texture.source[0].glTexture;var textureWidth=texture.width;var textureHeight=texture.height;var renderTarget=gameObject.renderTarget;var scrollFactorX=gameObject.scrollFactorX;var scrollFactorY=gameObject.scrollFactorY;var alpha=gameObject.alpha;var x=gameObject.x;var y=gameObject.y;for(var index=0;index<length;++index){var tile=renderTiles[index];batch.addTileTextureRect(texture,x+tile.x,y+tile.y,tile.width,tile.height,alpha*tile.alpha,tile.tint,scrollFactorX,scrollFactorY,textureWidth,textureHeight,tile.frameX,tile.frameY,tile.frameWidth,tile.frameHeight,camera,renderTarget);}};module.exports=TilemapWebGLRenderer;/***/},/* 520 *//***/function(module,exports){function Tile(properties){this.index=properties.index;this.id=properties.id;this.x=properties.x;this.y=properties.y;this.width=properties.width;this.height=properties.height;this.frameX=properties.frameX;this.frameY=properties.frameY;this.frameWidth=properties.frameWidth;this.frameHeight=properties.frameHeight;this.alpha=1.0;this.tint=0xFFFFFF;this.visible=true;this.textureWidth=properties.textureWidth;this.textureHeight=properties.textureHeight;this.border=properties.border;}Tile.prototype.setId=function(id){var tileId=this.id=id;var tileWidth=this.width;var tileHeight=this.height;var setWidth=this.textureWidth/tileWidth;var tileWidthBorder=tileWidth+this.border*2;var tileHeightBorder=tileHeight+this.border*2;var halfTileWidth=tileWidthBorder*0.5;var halfTileHeight=tileHeightBorder*0.5;var rectx=(tileId%setWidth|0)*tileWidthBorder+halfTileWidth;var recty=(tileId/setWidth|0)*tileHeightBorder+halfTileHeight;this.frameX=rectx;this.frameY=recty;};module.exports=Tile;/***/},/* 521 *//***/function(module,exports,__webpack_require__){var EffectLayer=__webpack_require__(75);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var EffectLayerCreator=function EffectLayerCreator(scene,config){var x=GetAdvancedValue(config,'x',0);var y=GetAdvancedValue(config,'y',0);var width=GetAdvancedValue(config,'width',512);var height=GetAdvancedValue(config,'height',512);var key=GetAdvancedValue(config,'key',null);var fragmentShader=GetAdvancedValue(config,'fragmentShader','');var layer=new EffectLayer(scene,x,y,width,height,effectName,fragmentShader);BuildGameObject(scene,layer,config);return layer;};module.exports=EffectLayerCreator;/***/},/* 522 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(523),renderWebGL:__webpack_require__(524)};/***/},/* 523 *//***/function(module,exports){var EffectLayerCanvasRenderer=function EffectLayerCanvasRenderer(renderer,src,interpolationPercentage,camera){};module.exports=EffectLayerCanvasRenderer;/***/},/* 524 *//***/function(module,exports){var EffectLayerWebGLRenderer=function EffectLayerWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}renderer.effectRenderer.renderEffect(src,camera,src.renderTexture,src.width,src.height);};module.exports=EffectLayerWebGLRenderer;/***/},/* 525 *//***/function(module,exports,__webpack_require__){var Graphics=__webpack_require__(76);var GraphicsCreator=function GraphicsCreator(scene,config){return new Graphics(scene,config);};module.exports=GraphicsCreator;/***/},/* 526 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(527),renderWebGL:__webpack_require__(528)};/***/},/* 527 *//***/function(module,exports,__webpack_require__){var Commands=__webpack_require__(77);var MATH_CONST=__webpack_require__(10);var GraphicsCanvasRenderer=function GraphicsCanvasRenderer(renderer,src,interpolationPercentage,camera,renderTargetCtx){if(this.renderMask!==this.renderFlags){return;}var cameraScrollX=camera.scrollX*src.scrollFactorX;var cameraScrollY=camera.scrollY*src.scrollFactorY;var srcX=src.x;var srcY=src.y;var srcScaleX=src.scaleX;var srcScaleY=src.scaleY;var srcRotation=src.rotation;var commandBuffer=src.commandBuffer;var ctx=renderTargetCtx||renderer.currentContext;var value;var lineAlpha=1.0;var fillAlpha=1.0;var lineColor=0;var fillColor=0;var lineWidth=1.0;var red=0;var green=0;var blue=0;//  Blend Mode\nif(renderer.currentBlendMode!==src.blendMode){renderer.currentBlendMode=src.blendMode;ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];}//  Alpha\nif(renderer.currentAlpha!==src.alpha){renderer.currentAlpha=src.alpha;ctx.globalAlpha=src.alpha;}//  Smoothing\nif(renderer.currentScaleMode!==src.scaleMode){renderer.currentScaleMode=src.scaleMode;}ctx.save();ctx.translate(srcX-cameraScrollX,srcY-cameraScrollY);ctx.rotate(srcRotation);ctx.scale(srcScaleX,srcScaleY);ctx.fillStyle='#fff';ctx.globalAlpha=src.alpha;for(var index=0,length=commandBuffer.length;index<length;++index){var commandID=commandBuffer[index];switch(commandID){case Commands.ARC:ctx.arc(commandBuffer[index+1],commandBuffer[index+2],commandBuffer[index+3],commandBuffer[index+4],commandBuffer[index+5],commandBuffer[index+6]);index+=6;break;case Commands.LINE_STYLE:lineWidth=commandBuffer[index+1];lineColor=commandBuffer[index+2];lineAlpha=commandBuffer[index+3];red=(lineColor&0xFF0000)>>>16;green=(lineColor&0xFF00)>>>8;blue=lineColor&0xFF;ctx.strokeStyle='rgba('+red+','+green+','+blue+','+lineAlpha+')';ctx.lineWidth=lineWidth;index+=3;break;case Commands.FILL_STYLE:fillColor=commandBuffer[index+1];fillAlpha=commandBuffer[index+2];red=(fillColor&0xFF0000)>>>16;green=(fillColor&0xFF00)>>>8;blue=fillColor&0xFF;ctx.fillStyle='rgba('+red+','+green+','+blue+','+fillAlpha+')';index+=2;break;case Commands.BEGIN_PATH:ctx.beginPath();break;case Commands.CLOSE_PATH:ctx.closePath();break;case Commands.FILL_PATH:ctx.fill();break;case Commands.STROKE_PATH:ctx.stroke();break;case Commands.FILL_RECT:ctx.fillRect(commandBuffer[index+1],commandBuffer[index+2],commandBuffer[index+3],commandBuffer[index+4]);index+=4;break;case Commands.FILL_TRIANGLE:ctx.beginPath();ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]);ctx.lineTo(commandBuffer[index+3],commandBuffer[index+4]);ctx.lineTo(commandBuffer[index+5],commandBuffer[index+6]);ctx.lineTo(commandBuffer[index+1],commandBuffer[index+2]);ctx.closePath();ctx.fill();index+=6;break;case Commands.STROKE_TRIANGLE:ctx.beginPath();ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]);ctx.lineTo(commandBuffer[index+3],commandBuffer[index+4]);ctx.lineTo(commandBuffer[index+5],commandBuffer[index+6]);ctx.lineTo(commandBuffer[index+1],commandBuffer[index+2]);ctx.closePath();ctx.stroke();index+=6;break;case Commands.LINE_TO:ctx.lineTo(commandBuffer[index+1],commandBuffer[index+2]);index+=2;break;case Commands.MOVE_TO:ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]);index+=2;break;case Commands.LINE_FX_TO:ctx.lineTo(commandBuffer[index+1],commandBuffer[index+2]);index+=5;break;case Commands.MOVE_FX_TO:ctx.moveTo(commandBuffer[index+1],commandBuffer[index+2]);index+=5;break;case Commands.SAVE:ctx.save();break;case Commands.RESTORE:ctx.restore();break;case Commands.TRANSLATE:ctx.translate(commandBuffer[index+1],commandBuffer[index+2]);index+=2;break;case Commands.SCALE:ctx.scale(commandBuffer[index+1],commandBuffer[index+2]);index+=2;break;case Commands.ROTATE:ctx.rotate(commandBuffer[index+1]);index+=1;break;default:console.error('Phaser: Invalid Graphics Command ID '+commandID);break;}}ctx.restore();};module.exports=GraphicsCanvasRenderer;/***/},/* 528 *//***/function(module,exports,__webpack_require__){var Commands=__webpack_require__(77);var TransformMatrix=__webpack_require__(13);var pathArray=[];var cos=Math.cos;var sin=Math.sin;var sqrt=Math.sqrt;var tempMatrix=new TransformMatrix();var matrixStack=new Float32Array(6*1000);var matrixStackLength=0;var currentMatrix=new TransformMatrix();var Point=function Point(x,y,width,rgb,alpha){this.x=x;this.y=y;this.width=width;this.rgb=rgb;this.alpha=alpha;};var Path=function Path(x,y,width,rgb,alpha){this.points=[];this.pointsLength=1;this.points[0]=new Point(x,y,width,rgb,alpha);};var GraphicsWebGLRenderer=function GraphicsWebGLRenderer(renderer,gameObject,interpolationPercentage,camera,forceRenderTarget){if(this.renderMask!==this.renderFlags){return;}var renderTarget=forceRenderTarget||gameObject.renderTarget;var shapeBatch=renderer.shapeBatch;var vertexDataBuffer=shapeBatch.vertexDataBuffer;var vertexBufferF32=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var vertexOffset=0;var cameraScrollX=camera.scrollX*gameObject.scrollFactorX;var cameraScrollY=camera.scrollY*gameObject.scrollFactorY;var srcX=gameObject.x-cameraScrollX;var srcY=gameObject.y-cameraScrollY;var srcScaleX=gameObject.scaleX;var srcScaleY=gameObject.scaleY;var srcRotation=-gameObject.rotation;var commandBuffer=gameObject.commandBuffer;var value;var lineAlpha=1.0;var fillAlpha=1.0;var lineColor=0;var fillColor=0;var lineWidth=1.0;var cameraMatrix=camera.matrix.matrix;var lastPath=null;var iteration=0;var iterStep=0.01;var tx=0;var ty=0;var ta=0;var x,y,radius,startAngle,endAngle,anticlockwise;var width,height,txw,tyh;var vertexCount=shapeBatch.vertexCount;var polygon=[];var x0,y0,x1,y1,x2,y2;var tx0,ty0,tx1,ty1,tx2,ty2;var v0,v1,v2;var polygonIndex;var path;var pathLength;var point;var maxVertices=shapeBatch.maxVertices;var translateX,translateY;var tempMatrixMatrix=tempMatrix.matrix;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var mva,mvb,mvc,mvd,mve,mvf;tempMatrix.applyITRS(srcX,srcY,srcRotation,srcScaleX,srcScaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;renderer.setRenderer(shapeBatch,null,renderTarget);for(var cmdIndex=0,cmdLength=commandBuffer.length;cmdIndex<cmdLength;++cmdIndex){var cmd=commandBuffer[cmdIndex];switch(cmd){case Commands.ARC:iteration=0;x=commandBuffer[cmdIndex+1];y=commandBuffer[cmdIndex+2];radius=commandBuffer[cmdIndex+3];startAngle=commandBuffer[cmdIndex+4];endAngle=commandBuffer[cmdIndex+5];anticlockwise=commandBuffer[cmdIndex+6];while(iteration<1){ta=(endAngle-startAngle)*iteration+startAngle;tx=x+cos(ta)*radius;ty=y+sin(ta)*radius;if(iteration===0){lastPath=new Path(tx,ty,lineWidth,lineColor,lineAlpha);pathArray.push(lastPath);}else{lastPath.points.push(new Point(tx,ty,lineWidth,lineColor,lineAlpha));}iteration+=iterStep;}cmdIndex+=6;break;case Commands.LINE_STYLE:lineWidth=commandBuffer[cmdIndex+1];lineColor=commandBuffer[cmdIndex+2];lineAlpha=commandBuffer[cmdIndex+3];cmdIndex+=3;break;case Commands.FILL_STYLE:fillColor=commandBuffer[cmdIndex+1];fillAlpha=commandBuffer[cmdIndex+2];cmdIndex+=2;break;case Commands.BEGIN_PATH:pathArray.length=0;break;case Commands.CLOSE_PATH:if(lastPath!==null&&lastPath.points.length>0){var firstPoint=lastPath.points[0];var lastPoint=lastPath.points[lastPath.points.length-1];lastPath.points.push(firstPoint);lastPath=new Path(lastPoint.x,lastPoint.y,lastPoint.width,lastPoint.rgb,lastPoint.alpha);pathArray.push(lastPath);}break;case Commands.FILL_PATH:for(var pathArrayIndex=0,pathArrayLength=pathArray.length;pathArrayIndex<pathArrayLength;++pathArrayIndex){shapeBatch.addFillPath(/* Graphics Game Object Properties */srcX,srcY,srcScaleX,srcScaleY,srcRotation,/* Rectangle properties */pathArray[pathArrayIndex].points,fillColor,fillAlpha,/* Transform */mva,mvb,mvc,mvd,mve,mvf,currentMatrix);}break;case Commands.STROKE_PATH:for(var pathArrayIndex=0,pathArrayLength=pathArray.length;pathArrayIndex<pathArrayLength;++pathArrayIndex){var path=pathArray[pathArrayIndex];shapeBatch.addStrokePath(/* Graphics Game Object Properties */srcX,srcY,srcScaleX,srcScaleY,srcRotation,/* Rectangle properties */path.points,lineWidth,lineColor,lineAlpha,/* Transform */mva,mvb,mvc,mvd,mve,mvf,path===this._lastPath,currentMatrix);}break;case Commands.FILL_RECT:shapeBatch.addFillRect(/* Graphics Game Object Properties */srcX,srcY,srcScaleX,srcScaleY,srcRotation,/* Rectangle properties */commandBuffer[cmdIndex+1]-cameraScrollX,commandBuffer[cmdIndex+2]-cameraScrollY,commandBuffer[cmdIndex+3],commandBuffer[cmdIndex+4],fillColor,fillAlpha,/* Transform */mva,mvb,mvc,mvd,mve,mvf,currentMatrix);cmdIndex+=4;break;case Commands.FILL_TRIANGLE:shapeBatch.addFillTriangle(/* Graphics Game Object Properties */srcX,srcY,srcScaleX,srcScaleY,srcRotation,/* Triangle properties */commandBuffer[cmdIndex+1]-cameraScrollX,commandBuffer[cmdIndex+2]-cameraScrollY,commandBuffer[cmdIndex+3]-cameraScrollX,commandBuffer[cmdIndex+4]-cameraScrollY,commandBuffer[cmdIndex+5]-cameraScrollX,commandBuffer[cmdIndex+6]-cameraScrollY,fillColor,fillAlpha,/* Transform */mva,mvb,mvc,mvd,mve,mvf,currentMatrix);cmdIndex+=6;break;case Commands.STROKE_TRIANGLE:shapeBatch.addStrokeTriangle(/* Graphics Game Object Properties */srcX,srcY,srcScaleX,srcScaleY,srcRotation,/* Triangle properties */commandBuffer[cmdIndex+1]-cameraScrollX,commandBuffer[cmdIndex+2]-cameraScrollY,commandBuffer[cmdIndex+3]-cameraScrollX,commandBuffer[cmdIndex+4]-cameraScrollY,commandBuffer[cmdIndex+5]-cameraScrollX,commandBuffer[cmdIndex+6]-cameraScrollY,lineWidth,lineColor,lineAlpha,/* Transform */mva,mvb,mvc,mvd,mve,mvf,currentMatrix);cmdIndex+=6;break;case Commands.LINE_TO:if(lastPath!==null){lastPath.points.push(new Point(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2],lineWidth,lineColor,lineAlpha));}else{lastPath=new Path(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2],lineWidth,lineColor,lineAlpha);pathArray.push(lastPath);}cmdIndex+=2;break;case Commands.MOVE_TO:lastPath=new Path(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2],lineWidth,lineColor,lineAlpha);pathArray.push(lastPath);cmdIndex+=2;break;case Commands.LINE_FX_TO:if(lastPath!==null){lastPath.points.push(new Point(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2],commandBuffer[cmdIndex+3],commandBuffer[cmdIndex+4],commandBuffer[cmdIndex+5]));}else{lastPath=new Path(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2],commandBuffer[cmdIndex+3],commandBuffer[cmdIndex+4],commandBuffer[cmdIndex+5]);pathArray.push(lastPath);}cmdIndex+=5;break;case Commands.MOVE_FX_TO:lastPath=new Path(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2],commandBuffer[cmdIndex+3],commandBuffer[cmdIndex+4],commandBuffer[cmdIndex+5]);pathArray.push(lastPath);cmdIndex+=5;break;case Commands.SAVE:matrixStack[matrixStackLength+0]=currentMatrix.matrix[0];matrixStack[matrixStackLength+1]=currentMatrix.matrix[1];matrixStack[matrixStackLength+2]=currentMatrix.matrix[2];matrixStack[matrixStackLength+3]=currentMatrix.matrix[3];matrixStack[matrixStackLength+4]=currentMatrix.matrix[4];matrixStack[matrixStackLength+5]=currentMatrix.matrix[5];matrixStackLength+=6;break;case Commands.RESTORE:matrixStackLength-=6;currentMatrix.matrix[0]=matrixStack[matrixStackLength+0];currentMatrix.matrix[1]=matrixStack[matrixStackLength+1];currentMatrix.matrix[2]=matrixStack[matrixStackLength+2];currentMatrix.matrix[3]=matrixStack[matrixStackLength+3];currentMatrix.matrix[4]=matrixStack[matrixStackLength+4];currentMatrix.matrix[5]=matrixStack[matrixStackLength+5];break;case Commands.TRANSLATE:currentMatrix.translate(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2]);cmdIndex+=2;break;case Commands.SCALE:currentMatrix.scale(commandBuffer[cmdIndex+1],commandBuffer[cmdIndex+2]);cmdIndex+=2;break;case Commands.ROTATE:currentMatrix.rotate(-commandBuffer[cmdIndex+1]);cmdIndex+=1;break;default:console.error('Phaser: Invalid Graphics Command ID '+cmd);break;}}currentMatrix.loadIdentity();pathArray.length=0;};module.exports=GraphicsWebGLRenderer;/***/},/* 529 *//***/function(module,exports,__webpack_require__){var Group=__webpack_require__(78);var GroupCreator=function GroupCreator(scene,config){return new Group(scene,null,config);};module.exports=GroupCreator;/***/},/* 530 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(531),renderWebGL:__webpack_require__(532)};/***/},/* 531 *//***/function(module,exports){var SpriteCanvasRenderer=function SpriteCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask===this.renderFlags){renderer.drawImage(src,camera);}};module.exports=SpriteCanvasRenderer;/***/},/* 532 *//***/function(module,exports){var SpriteWebGLRenderer=function SpriteWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}renderer.spriteBatch.addSprite(src,camera);};module.exports=SpriteWebGLRenderer;/***/},/* 533 *//***/function(module,exports,__webpack_require__){var Image=__webpack_require__(79);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var ImageCreator=function ImageCreator(scene,config){var key=GetAdvancedValue(config,'key',null);var frame=GetAdvancedValue(config,'frame',null);var image=new Image(scene,0,0,key,frame);BuildGameObject(scene,image,config);return image;};module.exports=ImageCreator;/***/},/* 534 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(535),renderWebGL:__webpack_require__(536)};/***/},/* 535 *//***/function(module,exports){var ImageCanvasRenderer=function ImageCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask===this.renderFlags){renderer.drawImage(src,camera);}};module.exports=ImageCanvasRenderer;/***/},/* 536 *//***/function(module,exports){var ImageWebGLRenderer=function ImageWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}renderer.spriteBatch.addSprite(src,camera);};module.exports=ImageWebGLRenderer;/***/},/* 537 *//***/function(module,exports,__webpack_require__){var Mesh=__webpack_require__(55);var GetAdvancedValue=__webpack_require__(5);var GetValue=__webpack_require__(2);var BuildGameObject=__webpack_require__(9);var MeshCreator=function MeshCreator(scene,config){var key=GetAdvancedValue(config,'key',null);var frame=GetAdvancedValue(config,'frame',null);var vertices=GetValue(config,'vertices',[]);var indices=GetValue(config,'indices',[]);var colors=GetValue(config,'colors',[]);var alphas=GetValue(config,'alphas',[]);var uv=GetValue(config,'uv',[]);var mesh=new Mesh(scene,0,0,vertices,uv,indices,colors,alphas,key,frame);BuildGameObject(scene,mesh,config);return mesh;};module.exports=MeshCreator;/***/},/* 538 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(539),renderWebGL:__webpack_require__(540)};/***/},/* 539 *//***/function(module,exports){var MeshCanvasRenderer=function MeshCanvasRenderer(renderer,src,interpolationPercentage,camera){};module.exports=MeshCanvasRenderer;/***/},/* 540 *//***/function(module,exports){var MeshWebGLRenderer=function MeshWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}if(src.indices.length>0){renderer.spriteBatch.addMeshIndexed(src,camera);}else{renderer.spriteBatch.addMesh(src,camera);}};module.exports=MeshWebGLRenderer;/***/},/* 541 *//***/function(module,exports,__webpack_require__){var Quad=__webpack_require__(80);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var QuadCreator=function QuadCreator(scene,config){var x=GetAdvancedValue(config,'x',0);var y=GetAdvancedValue(config,'y',0);var key=GetAdvancedValue(config,'key',null);var frame=GetAdvancedValue(config,'frame',null);var quad=new Quad(scene,x,y,key,frame);BuildGameObject(scene,quad,config);return quad;};module.exports=QuadCreator;/***/},/* 542 *//***/function(module,exports,__webpack_require__){var RenderPass=__webpack_require__(81);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var RenderPassCreator=function RenderPassCreator(scene,config){var x=GetAdvancedValue(config,'x',0);var y=GetAdvancedValue(config,'y',0);var width=GetAdvancedValue(config,'width',512);var height=GetAdvancedValue(config,'height',512);var shaderName=GetAdvancedValue(config,'shaderName','');var fragmentShader=GetAdvancedValue(config,'fragmentShader','');var pass=new RenderPass(scene,x,y,width,height,shaderName,fragmentShader);BuildGameObject(scene,pass,config);return pass;};module.exports=RenderPassCreator;/***/},/* 543 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(544),renderWebGL:__webpack_require__(545)};/***/},/* 544 *//***/function(module,exports){var RenderPassCanvasRenderer=function RenderPassCanvasRenderer(renderer,src,interpolationPercentage,camera){};module.exports=RenderPassCanvasRenderer;/***/},/* 545 *//***/function(module,exports){var RenderPassWebGLRenderer=function RenderPassWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}renderer.spriteBatch.addSpriteTexture(src,camera,src.renderTexture,src.width,src.height);};module.exports=RenderPassWebGLRenderer;/***/},/* 546 *//***/function(module,exports,__webpack_require__){var Sprite=__webpack_require__(45);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var BuildGameObjectAnimation=__webpack_require__(547);var SpriteCreator=function SpriteCreator(scene,config){var key=GetAdvancedValue(config,'key',null);var frame=GetAdvancedValue(config,'frame',null);var sprite=new Sprite(scene,0,0,key,frame);BuildGameObject(scene,sprite,config);//  Sprite specific config options:\nBuildGameObjectAnimation(sprite,config);//  Physics, Input, etc to follow ...\nreturn sprite;};module.exports=SpriteCreator;/***/},/* 547 *//***/function(module,exports,__webpack_require__){var GetAdvancedValue=__webpack_require__(5);var BuildGameObjectAnimation=function BuildGameObjectAnimation(sprite,config){var animConfig=GetAdvancedValue(config,'anims',null);if(animConfig===null){return sprite;}if(typeof animConfig==='string'){//  { anims: 'key' }\nsprite.anims.play(animConfig);}else if((typeof animConfig==='undefined'?'undefined':_typeof(animConfig))==='object'){//  { anims: {\n//              key: string\n//              startFrame: [string|integer]\n//              delay: [float]\n//              repeat: [integer]\n//              repeatDelay: [float]\n//              yoyo: [boolean]\n//              play: [boolean]\n//              delayedPlay: [boolean]\n//           }\n//  }\nvar anims=sprite.anims;var key=GetAdvancedValue(animConfig,'key',undefined);var startFrame=GetAdvancedValue(animConfig,'startFrame',undefined);anims.load(key);var delay=GetAdvancedValue(animConfig,'delay',0);var repeat=GetAdvancedValue(animConfig,'repeat',0);var repeatDelay=GetAdvancedValue(animConfig,'repeatDelay',0);var yoyo=GetAdvancedValue(animConfig,'yoyo',false);anims.delay(delay);anims.repeat(repeat);anims.repeatDelay(repeatDelay);anims.yoyo(yoyo);if(GetAdvancedValue(animConfig,'play',false)){anims.play(key,startFrame);}else{var d=GetAdvancedValue(animConfig,'delayedPlay',0);if(d>0){anims.delayedPlay(d,key,startFrame);}}}return sprite;};module.exports=BuildGameObjectAnimation;/***/},/* 548 *//***/function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(82);var BuildGameObject=__webpack_require__(9);var GetAdvancedValue=__webpack_require__(5);var GetValue=__webpack_require__(2);var BitmapTextCreator=function BitmapTextCreator(scene,config){var font=GetValue(config,'font','');var text=GetAdvancedValue(config,'text','');var size=GetAdvancedValue(config,'size',false);// var align = GetValue(config, 'align', 'left');\nvar bitmapText=new BitmapText(scene,0,0,font,text,size);BuildGameObject(scene,bitmapText,config);return bitmapText;};module.exports=BitmapTextCreator;/***/},/* 549 *//***/function(module,exports,__webpack_require__){var ParseXMLBitmapFont=__webpack_require__(176);var ParseFromAtlas=function ParseFromAtlas(scene,fontName,textureKey,frameKey,xmlKey,xSpacing,ySpacing){var frame=scene.sys.textures.getFrame(textureKey,frameKey);var xml=scene.sys.cache.xml.get(xmlKey);if(frame&&xml){var data=ParseXMLBitmapFont(xml,xSpacing,ySpacing,frame);scene.sys.cache.bitmapFont.add(fontName,{data:data,texture:textureKey,frame:frameKey});return true;}else{return false;}};module.exports=ParseFromAtlas;/***/},/* 550 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);// * @param {number} characterWidth - The width of each character in the font set.\n// * @param {number} characterHeight - The height of each character in the font set.\n// * @param {string} chars - The characters used in the font set, in display order. You can use the TEXT_SET consts for common font set arrangements.\n// * @param {number} [charsPerRow] - The number of characters per row in the font set. If not given charsPerRow will be the image width / characterWidth.\n// * @param {number} [xSpacing=0] - If the characters in the font set have horizontal spacing between them set the required amount here.\n// * @param {number} [ySpacing=0] - If the characters in the font set have vertical spacing between them set the required amount here.\n// * @param {number} [xOffset=0] - If the font set doesn't start at the top left of the given image, specify the X coordinate offset here.\n// * @param {number} [yOffset=0] - If the font set doesn't start at the top left of the given image, specify the Y coordinate offset here.\n// Phaser.GameObject.RetroFont = function (game, key, characterWidth, characterHeight, chars, charsPerRow, xSpacing, ySpacing, xOffset, yOffset)\n// {\n//      image: key,\n//      width: 32,\n//      height: 32,\n//      chars: 'string',\n//      charsPerRow: null,\n//      spacing: { x: 0, y: 0 },\n//      offset: { x: 0, y: 0 }\n// }\nvar ParseRetroFont=function ParseRetroFont(scene,config){var w=config.width;var h=config.height;var cx=Math.floor(w/2);var cy=Math.floor(h/2);var letters=config.chars;var key=GetValue(config,'image','');var offsetX=GetValue(config,'offset.x',0);var offsetY=GetValue(config,'offset.y',0);var spacingX=GetValue(config,'spacing.x',0);var spacingY=GetValue(config,'spacing.y',0);var charsPerRow=GetValue(config,'charsPerRow',null);if(charsPerRow===null){charsPerRow=scene.sys.textures.getFrame(key).width/w;if(charsPerRow>letters.length){charsPerRow=letters.length;}}var x=offsetX;var y=offsetY;var data={retroFont:true,font:key,size:w,lineHeight:h,chars:{}};var r=0;for(var i=0;i<letters.length;i++){// var node = letters[i];\nvar charCode=letters.charCodeAt(i);data.chars[charCode]={x:x,y:y,width:w,height:h,centerX:cx,centerY:cy,xOffset:0,yOffset:0,xAdvance:w,data:{},kerning:{}};r++;if(r===charsPerRow){r=0;x=offsetX;y+=h+spacingY;}else{x+=w+spacingX;}}var entry={data:data,frame:null,texture:key};return entry;};/**\n* Text Set 1 =  !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET1=\" !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\";/**\n* Text Set 2 =  !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET2=\" !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ\";/**\n* Text Set 3 = ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET3=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 \";/**\n* Text Set 4 = ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET4=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789\";/**\n* Text Set 5 = ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET5=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789\";/**\n* Text Set 6 = ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' \n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET6=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\\\"(),-.' \";/**\n* Text Set 7 = AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET7=\"AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\\\")28FLRX-'39\";/**\n* Text Set 8 = 0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET8=\"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ\";/**\n* Text Set 9 = ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET9=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\\\"?!\";/**\n* Text Set 10 = ABCDEFGHIJKLMNOPQRSTUVWXYZ\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET10=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";/**\n* Text Set 11 = ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789\n* @constant\n* @type {string}\n*/ParseRetroFont.TEXT_SET11=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\\\"-+!?()':;0123456789\";module.exports=ParseRetroFont;/***/},/* 551 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(552),renderWebGL:__webpack_require__(553)};/***/},/* 552 *//***/function(module,exports){var BitmapTextCanvasRenderer=function BitmapTextCanvasRenderer(renderer,src,interpolationPercentage,camera){var text=src.text;var textLength=text.length;if(this.renderMask!==this.renderFlags||textLength===0){return;}var textureFrame=src.frame;var cameraScrollX=camera.scrollX*src.scrollFactorX;var cameraScrollY=camera.scrollY*src.scrollFactorY;var chars=src.fontData.chars;var lineHeight=src.fontData.lineHeight;var xAdvance=0;var yAdvance=0;var indexCount=0;var charCode=0;var glyph=null;var glyphX=0;var glyphY=0;var glyphW=0;var glyphH=0;var x=0;var y=0;var lastGlyph=null;var lastCharCode=0;var ctx=renderer.currentContext;var image=src.frame.source.image;var textureX=textureFrame.cutX;var textureY=textureFrame.cutY;var rotation=0;var scale=src.fontSize/src.fontData.size;//  Blend Mode\nif(renderer.currentBlendMode!==src.blendMode){renderer.currentBlendMode=src.blendMode;ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];}//  Alpha\nif(renderer.currentAlpha!==src.alpha){renderer.currentAlpha=src.alpha;ctx.globalAlpha=src.alpha;}//  Smoothing\nif(renderer.currentScaleMode!==src.scaleMode){renderer.currentScaleMode=src.scaleMode;}ctx.save();ctx.translate(src.x-cameraScrollX+src.frame.x,src.y-cameraScrollY+src.frame.y);ctx.rotate(src.rotation);ctx.scale(src.scaleX,src.scaleY);// ctx.fillStyle = 'rgba(255,0,255,0.5)';\nfor(var index=0;index<textLength;++index){charCode=text.charCodeAt(index);if(charCode===10){xAdvance=0;indexCount=0;yAdvance+=lineHeight;lastGlyph=null;continue;}glyph=chars[charCode];if(!glyph){continue;}glyphX=textureX+glyph.x;glyphY=textureY+glyph.y;glyphW=glyph.width;glyphH=glyph.height;x=indexCount+glyph.xOffset+xAdvance;y=glyph.yOffset+yAdvance;if(lastGlyph!==null){var kerningOffset=glyph.kerning[lastCharCode];x+=kerningOffset!==undefined?kerningOffset:0;}x*=scale;y*=scale;xAdvance+=glyph.xAdvance;indexCount+=1;lastGlyph=glyph;lastCharCode=charCode;//  Nothing to render or a space? Then skip to the next glyph\nif(glyphW===0||glyphH===0||charCode===32){continue;}ctx.save();ctx.translate(x,y);ctx.scale(scale,scale);// ctx.fillRect(0, 0, glyphW, glyphH);\nctx.drawImage(image,glyphX,glyphY,glyphW,glyphH,0,0,glyphW,glyphH);ctx.restore();}ctx.restore();};module.exports=BitmapTextCanvasRenderer;/***/},/* 553 *//***/function(module,exports,__webpack_require__){var TransformMatrix=__webpack_require__(13);var tempMatrix=new TransformMatrix();var BitmapTextWebGLRenderer=function BitmapTextWebGLRenderer(renderer,gameObject,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var textureFrame=gameObject.frame;var cameraScrollX=camera.scrollX*gameObject.scrollFactorX;var cameraScrollY=camera.scrollY*gameObject.scrollFactorY;var text=gameObject.text;var textLength=text.length;var chars=gameObject.fontData.chars;var lineHeight=gameObject.fontData.lineHeight;var spriteBatch=renderer.spriteBatch;var alpha=gameObject.alpha;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;var vertexDataBuffer=spriteBatch.vertexDataBuffer;var vertexBuffer=vertexDataBuffer.floatView;var vertexBufferU32=vertexDataBuffer.uintView;var vertexOffset=0;var srcX=gameObject.x;var srcY=gameObject.y;var textureData=gameObject.texture.source[textureFrame.sourceIndex];var textureX=textureFrame.cutX;var textureY=textureFrame.cutY;var textureWidth=textureData.width;var textureHeight=textureData.height;var texture=textureData.glTexture;var xAdvance=0;var yAdvance=0;var indexCount=0;var charCode=0;var glyph=null;var glyphX=0;var glyphY=0;var glyphW=0;var glyphH=0;var x=0;var y=0;var xw=0;var yh=0;var umin=0;var umax=0;var vmin=0;var vmax=0;var lastGlyph=null;var lastCharCode=0;var tempMatrixMatrix=tempMatrix.matrix;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var scale=gameObject.fontSize/gameObject.fontData.size;var renderTarget=gameObject.renderTarget;tempMatrix.applyITRS(srcX-cameraScrollX+textureFrame.x,srcY-cameraScrollY+textureFrame.y,-gameObject.rotation,gameObject.scaleX,gameObject.scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;for(var index=0;index<textLength;++index){charCode=text.charCodeAt(index);if(charCode===10){xAdvance=0;indexCount=0;yAdvance+=lineHeight;lastGlyph=null;continue;}glyph=chars[charCode];if(!glyph){continue;}glyphX=textureX+glyph.x;glyphY=textureY+glyph.y;glyphW=glyph.width;glyphH=glyph.height;x=(indexCount+glyph.xOffset+xAdvance)*scale;y=(glyph.yOffset+yAdvance)*scale;if(lastGlyph!==null){var kerningOffset=glyph.kerning[lastCharCode];x+=kerningOffset!==undefined?kerningOffset:0;}xAdvance+=glyph.xAdvance;indexCount+=1;lastGlyph=glyph;lastCharCode=charCode;//  Nothing to render or a space? Then skip to the next glyph\nif(glyphW===0||glyphH===0||charCode===32){continue;}xw=x+glyphW*scale;yh=y+glyphH*scale;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;umin=glyphX/textureWidth;umax=(glyphX+glyphW)/textureWidth;vmin=glyphY/textureHeight;vmax=(glyphY+glyphH)/textureHeight;if(spriteBatch.elementCount>=spriteBatch.maxParticles){spriteBatch.flush();}renderer.setRenderer(spriteBatch,texture,renderTarget);vertexOffset=vertexDataBuffer.allocate(24);spriteBatch.elementCount+=6;vertexBuffer[vertexOffset++]=tx0;vertexBuffer[vertexOffset++]=ty0;vertexBuffer[vertexOffset++]=umin;vertexBuffer[vertexOffset++]=vmin;vertexBufferU32[vertexOffset++]=tintTL;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx1;vertexBuffer[vertexOffset++]=ty1;vertexBuffer[vertexOffset++]=umin;vertexBuffer[vertexOffset++]=vmax;vertexBufferU32[vertexOffset++]=tintBL;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx2;vertexBuffer[vertexOffset++]=ty2;vertexBuffer[vertexOffset++]=umax;vertexBuffer[vertexOffset++]=vmax;vertexBufferU32[vertexOffset++]=tintTR;vertexBuffer[vertexOffset++]=alpha;vertexBuffer[vertexOffset++]=tx3;vertexBuffer[vertexOffset++]=ty3;vertexBuffer[vertexOffset++]=umax;vertexBuffer[vertexOffset++]=vmin;vertexBufferU32[vertexOffset++]=tintBR;vertexBuffer[vertexOffset++]=alpha;}};module.exports=BitmapTextWebGLRenderer;/***/},/* 554 *//***/function(module,exports,__webpack_require__){var StaticTilemap=__webpack_require__(83);var GetValue=__webpack_require__(2);var BuildGameObject=__webpack_require__(9);var StaticTilemapCreator=function StaticTilemapCreator(scene,config){var mapData=GetValue(config,'map.data',null);var mapWidth=GetValue(config,'map.width',1);var mapHeight=GetValue(config,'map.height',1);var x=GetValue(config,'x',0);var y=GetValue(config,'y',0);var tileWidth=GetValue(config,'tile.width',16);var tileHeight=GetValue(config,'tile.height',16);var tileTexture=GetValue(config,'tile.texture',null);var tileFrame=GetValue(config,'tile.frame',null);var tileBorder=GetValue(config,'tile.border',0);var map=new StaticTilemap(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,tileTexture,tileFrame);BuildGameObject(scene,map,config);return map;};module.exports=StaticTilemapCreator;/***/},/* 555 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(556),renderWebGL:__webpack_require__(557)};/***/},/* 556 *//***/function(module,exports){var StaticTilemapCanvasRenderer=function StaticTilemapCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}};module.exports=StaticTilemapCanvasRenderer;/***/},/* 557 *//***/function(module,exports){var StaticTilemapWebGLRenderer=function StaticTilemapWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var gameObject=src;var frame=gameObject.frame;var gl=gameObject.gl;renderer.setRenderer(gameObject.tilemapRenderer,frame.texture.source[frame.sourceIndex].glTexture,gameObject.renderTarget);gameObject.tilemapRenderer.bind();gameObject.upload(camera);//gameObject.cull(camera);\ngameObject.vbo.bind();//var vertexCount = gameObject.cullEnd - gameObject.cullStart;\n//if (vertexCount > 0)\n//{\n//    gl.drawArrays(gl.TRIANGLES, gameObject.cullStart, vertexCount);\n//}\ngl.drawArrays(gl.TRIANGLES,0,gameObject.vertexCount);};module.exports=StaticTilemapWebGLRenderer;/***/},/* 558 *//***/function(module,exports,__webpack_require__){var Text=__webpack_require__(84);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var TextCreator=function TextCreator(scene,config){// style Object = {\n//     font: [ 'font', '16px Courier' ],\n//     backgroundColor: [ 'backgroundColor', null ],\n//     fill: [ 'fill', '#fff' ],\n//     stroke: [ 'stroke', '#fff' ],\n//     strokeThickness: [ 'strokeThickness', 0 ],\n//     shadowOffsetX: [ 'shadow.offsetX', 0 ],\n//     shadowOffsetY: [ 'shadow.offsetY', 0 ],\n//     shadowColor: [ 'shadow.color', '#000' ],\n//     shadowBlur: [ 'shadow.blur', 0 ],\n//     shadowStroke: [ 'shadow.stroke', false ],\n//     shadowFill: [ 'shadow.fill', false ],\n//     align: [ 'align', 'left' ],\n//     maxLines: [ 'maxLines', 0 ],\n//     fixedWidth: [ 'fixedWidth', false ],\n//     fixedHeight: [ 'fixedHeight', false ],\n//     rtl: [ 'rtl', false ]\n// }\nvar content=GetAdvancedValue(config,'text','');var style=GetAdvancedValue(config,'style',null);var text=new Text(scene,0,0,content,style);BuildGameObject(scene,text,config);//  Text specific config options:\ntext.autoRound=GetAdvancedValue(config,'autoRound',true);text.resolution=GetAdvancedValue(config,'resolution',1);//  Padding\n//  Either: { padding: 2 } or { padding: { x: 2, y: 2 }}\nvar padding=GetAdvancedValue(config,'padding',null);if(typeof padding==='number'){text.padding.x=padding;text.padding.y=padding;}else if(padding!==null){text.padding.x=GetAdvancedValue(padding,'x',1);text.padding.y=GetAdvancedValue(padding,'y',1);}text.updateText();return text;};module.exports=TextCreator;/***/},/* 559 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(560),renderWebGL:__webpack_require__(561)};/***/},/* 560 *//***/function(module,exports){var TextCanvasRenderer=function TextCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var ctx=renderer.currentContext;//  Blend Mode\nif(renderer.currentBlendMode!==src.blendMode){renderer.currentBlendMode=src.blendMode;ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];}//  Alpha\nif(renderer.currentAlpha!==src.alpha){renderer.currentAlpha=src.alpha;ctx.globalAlpha=src.alpha;}//  Smoothing\nif(renderer.currentScaleMode!==src.scaleMode){renderer.currentScaleMode=src.scaleMode;}var canvas=src.canvas;ctx.save();ctx.translate(src.x-camera.scrollX*src.scrollFactorX,src.y-camera.scrollY*src.scrollFactorY);ctx.rotate(src.rotation);ctx.scale(src.scaleX,src.scaleY);ctx.translate(canvas.width*(src.flipX?1:0),canvas.height*(src.flipY?1:0));ctx.scale(src.flipX?-1:1,src.flipY?-1:1);ctx.drawImage(canvas,0,0,canvas.width,canvas.height,-src.displayOriginX,-src.displayOriginY,canvas.width,canvas.height);ctx.restore();};module.exports=TextCanvasRenderer;/***/},/* 561 *//***/function(module,exports){var TextWebGLRenderer=function TextWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}if(src.dirty){src.canvasTexture=renderer.uploadCanvasToGPU(src.canvas,src.canvasTexture,true);src.dirty=false;}renderer.spriteBatch.addSpriteTexture(src,camera,src.canvasTexture,src.canvas.width,src.canvas.height);};module.exports=TextWebGLRenderer;/***/},/* 562 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetValue=__webpack_require__(2);var GetAdvancedValue=__webpack_require__(5);var MeasureText=__webpack_require__(563);//  Key: [ Object Key, Default Value ]\nvar propertyMap={font:['font','16px Courier'],backgroundColor:['backgroundColor',null],fill:['fill','#fff'],stroke:['stroke','#fff'],strokeThickness:['strokeThickness',0],shadowOffsetX:['shadow.offsetX',0],shadowOffsetY:['shadow.offsetY',0],shadowColor:['shadow.color','#000'],shadowBlur:['shadow.blur',0],shadowStroke:['shadow.stroke',false],shadowFill:['shadow.fill',false],align:['align','left'],maxLines:['maxLines',0],fixedWidth:['fixedWidth',false],fixedHeight:['fixedHeight',false],rtl:['rtl',false]};var TextStyle=new Class({initialize:function TextStyle(text,style){this.parent=text;this.font;this.backgroundColor;this.fill;this.stroke;this.strokeThickness;this.shadowOffsetX;this.shadowOffsetY;this.shadowColor;this.shadowBlur;this.shadowStroke;this.shadowFill;this.align;this.maxLines;this.fixedWidth;this.fixedHeight;this.rtl;//  Set to defaults\nthis.reset();if(style){for(var key in propertyMap){this[key]=GetAdvancedValue(style,propertyMap[key][0],this[key]);}}var metrics=GetValue(style,'metrics',false);//  Provide optional TextMetrics in the style object to avoid the canvas look-up / scanning\n//  Doing this is un-done if you then change the font of this TextStyle after creation\nif(metrics){this.metrics={ascent:GetValue(metrics,'ascent',0),descent:GetValue(metrics,'descent',0),fontSize:GetValue(metrics,'fontSize',0)};}else{this.metrics=MeasureText(this);}},reset:function reset(){for(var key in propertyMap){this[key]=propertyMap[key][1];}return this;},syncFont:function syncFont(canvas,context){if(this.rtl){canvas.dir='rtl';}context.font=this.font;context.textBaseline='alphabetic';context.fillStyle=this.fill;context.strokeStyle=this.stroke;context.lineWidth=this.strokeThickness;context.lineCap='round';context.lineJoin='round';},syncShadow:function syncShadow(context,enabled){if(enabled){context.shadowOffsetX=this.shadowOffsetX;context.shadowOffsetY=this.shadowOffsetY;context.shadowColor=this.shadowColor;context.shadowBlur=this.shadowBlur;}else{context.shadowOffsetX=0;context.shadowOffsetY=0;context.shadowColor=0;context.shadowBlur=0;}},update:function update(recalculateMetrics){if(recalculateMetrics){this.metrics=MeasureText(this);}return this.parent.updateText();},setStyle:function setStyle(style){for(var key in propertyMap){this[key]=GetAdvancedValue(style,propertyMap[key][0],this[key]);}return this.update(true);},setFont:function setFont(font){this.font=font;return this.update(true);},setFixedSize:function setFixedSize(width,height){this.fixedWidth=width;this.fixedHeight=height;if(width){this.text.width=width;}if(height){this.text.height=height;}return this.update(false);},setBackgroundColor:function setBackgroundColor(color){this.backgroundColor=color;return this.update(false);},setFill:function setFill(color){this.fill=color;return this.update(false);},setStroke:function setStroke(color,thickness){if(color===undefined){//  Reset the stroke to zero (disabling it)\nthis.strokeThickness=0;}else{if(thickness===undefined){thickness=this.strokeThickness;}this.stroke=color;this.strokeThickness=thickness;}return this.update(true);},setShadow:function setShadow(x,y,color,blur,shadowStroke,shadowFill){if(x===undefined){x=0;}if(y===undefined){y=0;}if(color===undefined){color='#000';}if(blur===undefined){blur=0;}if(shadowStroke===undefined){shadowStroke=false;}if(shadowFill===undefined){shadowFill=false;}this.shadowOffsetX=x;this.shadowOffsetY=y;this.shadowColor=color;this.shadowBlur=blur;this.shadowStroke=shadowStroke;this.shadowFill=shadowFill;return this.update(false);},setShadowOffset:function setShadowOffset(x,y){if(x===undefined){x=0;}if(y===undefined){y=x;}this.shadowOffsetX=x;this.shadowOffsetY=y;return this.update(false);},setShadowColor:function setShadowColor(color){if(color===undefined){color='#000';}this.shadowColor=color;return this.update(false);},setShadowBlur:function setShadowBlur(blur){if(blur===undefined){blur=0;}this.shadowBlur=blur;return this.update(false);},setShadowStroke:function setShadowStroke(enabled){this.shadowStroke=enabled;return this.update(false);},setShadowFill:function setShadowFill(enabled){this.shadowFill=enabled;return this.update(false);},setAlign:function setAlign(align){if(align===undefined){align='left';}this.align=align;return this.update(false);},setMaxLines:function setMaxLines(max){if(max===undefined){max=0;}this.maxLines=max;return this.update(false);},getTextMetrics:function getTextMetrics(){var metrics=this.metrics;return{ascent:metrics.ascent,descent:metrics.descent,fontSize:metrics.fontSize};},toJSON:function toJSON(){var output={};for(var key in propertyMap){output[key]=this[key];}output.metrics=this.getTextMetrics();return output;},destroy:function destroy(){this.parent=undefined;}});module.exports=TextStyle;/***/},/* 563 *//***/function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(11);/**\n* Calculates the ascent, descent and fontSize of a given font style.\n*/var MeasureText=function MeasureText(textStyle,testString){if(testString===undefined){testString='|MÉqgy';}// @property {HTMLCanvasElement} canvas - The canvas element that the text is rendered.\nvar canvas=CanvasPool.create(this);// @property {HTMLCanvasElement} context - The context of the canvas element that the text is rendered to.\nvar context=canvas.getContext('2d');textStyle.syncFont(canvas,context);var width=Math.ceil(context.measureText(testString).width*1.2);var baseline=width;var height=2*baseline;baseline=baseline*1.4|0;canvas.width=width;canvas.height=height;context.fillStyle='#f00';context.fillRect(0,0,width,height);context.font=textStyle.font;context.textBaseline='alphabetic';context.fillStyle='#000';context.fillText(testString,0,baseline);var output={ascent:0,descent:0,fontSize:0};if(!context.getImageData(0,0,width,height)){output.ascent=baseline;output.descent=baseline+6;output.fontSize=output.ascent+output.descent;CanvasPool.remove(canvas);return output;}var imagedata=context.getImageData(0,0,width,height).data;var pixels=imagedata.length;var line=width*4;var i;var j;var idx=0;var stop=false;// ascent. scan from top to bottom until we find a non red pixel\nfor(i=0;i<baseline;i++){for(j=0;j<line;j+=4){if(imagedata[idx+j]!==255){stop=true;break;}}if(!stop){idx+=line;}else{break;}}output.ascent=baseline-i;idx=pixels-line;stop=false;// descent. scan from bottom to top until we find a non red pixel\nfor(i=height;i>baseline;i--){for(j=0;j<line;j+=4){if(imagedata[idx+j]!==255){stop=true;break;}}if(!stop){idx-=line;}else{break;}}output.descent=i-baseline;output.fontSize=output.ascent+output.descent;CanvasPool.remove(canvas);return output;};module.exports=MeasureText;/***/},/* 564 *//***/function(module,exports){var GetTextSize=function GetTextSize(text,size,lines){var canvas=text.canvas;var context=text.context;var style=text.style;var lineWidths=[];var maxLineWidth=0;var drawnLines=lines.length;if(style.maxLines>0&&style.maxLines<lines.length){drawnLines=style.maxLines;}style.syncFont(canvas,context);//  Text Width\nfor(var i=0;i<drawnLines;i++){var lineWidth=style.strokeThickness;lineWidth+=context.measureText(lines[i]).width;// Adjust for wrapped text\nif(style.wordWrap){lineWidth-=context.measureText(' ').width;}lineWidths[i]=Math.ceil(lineWidth);maxLineWidth=Math.max(maxLineWidth,lineWidths[i]);}//  Text Height\nvar lineHeight=size.fontSize+style.strokeThickness;var height=lineHeight*drawnLines;var lineSpacing=text._lineSpacing||0;if(lineSpacing<0&&Math.abs(lineSpacing)>lineHeight){lineSpacing=-lineHeight;}//  Adjust for line spacing\nif(lineSpacing!==0){height+=lineSpacing>0?lineSpacing*lines.length:lineSpacing*(lines.length-1);}return{width:maxLineWidth,height:height,lines:drawnLines,lineWidths:lineWidths,lineSpacing:lineSpacing,lineHeight:lineHeight};};module.exports=GetTextSize;/***/},/* 565 *//***/function(module,exports,__webpack_require__){var TileSprite=__webpack_require__(85);var GetAdvancedValue=__webpack_require__(5);var BuildGameObject=__webpack_require__(9);var TileSpriteCreator=function TileSpriteCreator(scene,config){var x=GetAdvancedValue(config,'x',0);var y=GetAdvancedValue(config,'y',0);var width=GetAdvancedValue(config,'width',512);var height=GetAdvancedValue(config,'height',512);var key=GetAdvancedValue(config,'key','');var frame=GetAdvancedValue(config,'frame','');var tile=new TileSprite(scene,x,y,width,height,key,frame);BuildGameObject(scene,tile,config);return tile;};module.exports=TileSpriteCreator;/***/},/* 566 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(567),renderWebGL:__webpack_require__(568)};/***/},/* 567 *//***/function(module,exports){var TileSpriteCanvasRenderer=function TileSpriteCanvasRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}var ctx=renderer.currentContext;var frame=src.frame;//  Blend Mode\nif(renderer.currentBlendMode!==src.blendMode){renderer.currentBlendMode=src.blendMode;ctx.globalCompositeOperation=renderer.blendModes[src.blendMode];}//  Alpha\nif(renderer.currentAlpha!==src.alpha){renderer.currentAlpha=src.alpha;ctx.globalAlpha=src.alpha;}//  Smoothing\nif(renderer.currentScaleMode!==src.scaleMode){renderer.currentScaleMode=src.scaleMode;}var dx=frame.x-src.originX*src.width;var dy=frame.y-src.originY*src.height;ctx.save();ctx.translate(dx,dy);ctx.translate(src.x-camera.scrollX*src.scrollFactorX,src.y-camera.scrollY*src.scrollFactorY);ctx.fillStyle=src.canvasPattern;ctx.translate(-this.tilePositionX,-this.tilePositionY);ctx.fillRect(this.tilePositionX,this.tilePositionY,src.width,src.height);ctx.restore();};module.exports=TileSpriteCanvasRenderer;/***/},/* 568 *//***/function(module,exports){var TileSpriteWebGLRenderer=function TileSpriteWebGLRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}src.updateTileTexture();renderer.tileBatch.addTileSprite(src,camera);};module.exports=TileSpriteWebGLRenderer;/***/},/* 569 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var BlitterFactory=__webpack_require__(570);var DynamicBitmapTextFactory=__webpack_require__(571);var DynamicTilemapFactory=__webpack_require__(572);var EffectLayerFactory=__webpack_require__(573);var GraphicsFactory=__webpack_require__(574);var GroupFactory=__webpack_require__(575);var ImageFactory=__webpack_require__(576);var MeshFactory=__webpack_require__(577);var QuadFactory=__webpack_require__(578);var RenderPassFactory=__webpack_require__(579);var SpriteFactory=__webpack_require__(580);var StaticBitmapTextFactory=__webpack_require__(581);var StaticTilemapFactory=__webpack_require__(582);var TextFactory=__webpack_require__(583);var TileSpriteFactory=__webpack_require__(584);var ZoneFactory=__webpack_require__(585);var LightLayerFactory=__webpack_require__(586);var GameObjectFactory=new Class({initialize:function GameObjectFactory(scene){this.scene=scene;this.displayList=scene.sys.displayList;this.updateList=scene.sys.updateList;},existing:function existing(child){if(child.renderCanvas||child.renderWebGL){this.displayList.add(child);}if(child.preUpdate){this.updateList.add(child);}return child;},bitmapText:function bitmapText(x,y,font,text,size,align){return this.displayList.add(StaticBitmapTextFactory(this.scene,x,y,font,text,size,align));},dynamicBitmapText:function dynamicBitmapText(x,y,font,text,size,align){return this.displayList.add(DynamicBitmapTextFactory(this.scene,x,y,font,text,size,align));},blitter:function blitter(x,y,key,frame){return this.displayList.add(BlitterFactory(this.scene,x,y,key,frame));},effectLayer:function effectLayer(x,y,width,height,effectName,fragmentShader){return this.displayList.add(EffectLayerFactory(this.scene,x,y,width,height,effectName,fragmentShader));},graphics:function graphics(config){return this.displayList.add(GraphicsFactory(this.scene,config));},group:function group(displayList,config){return GroupFactory(this.scene,displayList,config);},image:function image(x,y,key,frame){return this.displayList.add(ImageFactory(this.scene,x,y,key,frame));},mesh:function mesh(x,y,vertices,uv,key,frame){return this.displayList.add(MeshFactory(this.scene,x,y,vertices,uv,key,frame));},quad:function quad(x,y,key,frame){return this.displayList.add(QuadFactory(this.scene,x,y,key,frame));},renderPass:function renderPass(x,y,width,height,shaderName,fragmentShader){return this.displayList.add(RenderPassFactory(this.scene,x,y,width,height,shaderName,fragmentShader));},sprite:function sprite(x,y,key,frame){var sprite=SpriteFactory(this.scene,x,y,key,frame);this.displayList.add(sprite);this.updateList.add(sprite);return sprite;},text:function text(x,y,_text,style){return this.displayList.add(TextFactory(this.scene,x,y,_text,style));},tilemap:function tilemap(mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame){return this.displayList.add(DynamicTilemapFactory(this.scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame));},staticTilemap:function staticTilemap(mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame){return this.displayList.add(StaticTilemapFactory(this.scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame));},tileSprite:function tileSprite(x,y,width,height,key,frame){return this.displayList.add(TileSpriteFactory(this.scene,x,y,width,height,key,frame));},zone:function zone(x,y,width,height){return this.displayList.add(ZoneFactory(this.scene,x,y,width,height));},lightLayer:function lightLayer(){return this.displayList.add(LightLayerFactory(this.scene));}});module.exports=GameObjectFactory;/***/},/* 570 *//***/function(module,exports,__webpack_require__){var Blitter=__webpack_require__(72);var BlitterFactory=function BlitterFactory(scene,x,y,key,frame){return new Blitter(scene,x,y,key,frame);};module.exports=BlitterFactory;/***/},/* 571 *//***/function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(73);var DynamicBitmapTextFactory=function DynamicBitmapTextFactory(scene,x,y,font,text,size){return new BitmapText(scene,x,y,font,text,size);};module.exports=DynamicBitmapTextFactory;/***/},/* 572 *//***/function(module,exports,__webpack_require__){var Tilemap=__webpack_require__(74);var TilemapFactory=function TilemapFactory(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame){return new Tilemap(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame);};module.exports=TilemapFactory;/***/},/* 573 *//***/function(module,exports,__webpack_require__){var EffectLayer=__webpack_require__(75);var EffectLayerFactory=function EffectLayerFactory(scene,x,y,width,height,effectName,fragmentShader){return new EffectLayer(scene,x,y,width,height,effectName,fragmentShader);};module.exports=EffectLayerFactory;/***/},/* 574 *//***/function(module,exports,__webpack_require__){var Graphics=__webpack_require__(76);var GraphicsFactory=function GraphicsFactory(scene,config){return new Graphics(scene,config);};module.exports=GraphicsFactory;/***/},/* 575 *//***/function(module,exports,__webpack_require__){var Group=__webpack_require__(78);var GroupFactory=function GroupFactory(scene,children,config){return new Group(scene,children,config);};module.exports=GroupFactory;/***/},/* 576 *//***/function(module,exports,__webpack_require__){var Image=__webpack_require__(79);var ImageFactory=function ImageFactory(scene,x,y,key,frame){return new Image(scene,x,y,key,frame);};module.exports=ImageFactory;/***/},/* 577 *//***/function(module,exports,__webpack_require__){var Mesh=__webpack_require__(55);var MeshFactory=function MeshFactory(scene,x,y,vertices,uv,key,frame){return new Mesh(scene,x,y,vertices,uv,key,frame);};module.exports=MeshFactory;/***/},/* 578 *//***/function(module,exports,__webpack_require__){var Quad=__webpack_require__(80);var QuadFactory=function QuadFactory(scene,x,y,key,frame){return new Quad(scene,x,y,key,frame);};module.exports=QuadFactory;/***/},/* 579 *//***/function(module,exports,__webpack_require__){var RenderPass=__webpack_require__(81);var RenderPassFactory=function RenderPassFactory(scene,x,y,width,height,shaderName,fragmentShader){return new RenderPass(scene,x,y,width,height,shaderName,fragmentShader);};module.exports=RenderPassFactory;/***/},/* 580 *//***/function(module,exports,__webpack_require__){var Sprite=__webpack_require__(45);var SpriteFactory=function SpriteFactory(scene,x,y,key,frame){return new Sprite(scene,x,y,key,frame);};module.exports=SpriteFactory;/***/},/* 581 *//***/function(module,exports,__webpack_require__){var BitmapText=__webpack_require__(82);var BitmapTextFactory=function BitmapTextFactory(scene,x,y,font,text,size){return new BitmapText(scene,x,y,font,text,size);};module.exports=BitmapTextFactory;/***/},/* 582 *//***/function(module,exports,__webpack_require__){var StaticTilemap=__webpack_require__(83);var StaticTilemapFactory=function StaticTilemapFactory(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame){return new StaticTilemap(scene,mapData,x,y,tileWidth,tileHeight,mapWidth,mapHeight,tileBorder,texture,frame);};module.exports=StaticTilemapFactory;/***/},/* 583 *//***/function(module,exports,__webpack_require__){var Text=__webpack_require__(84);var TextFactory=function TextFactory(scene,x,y,text,style){return new Text(scene,x,y,text,style);};module.exports=TextFactory;/***/},/* 584 *//***/function(module,exports,__webpack_require__){var TileSprite=__webpack_require__(85);var TileSpriteFactory=function TileSpriteFactory(scene,x,y,width,height,key,frame){return new TileSprite(scene,x,y,width,height,key,frame);};module.exports=TileSpriteFactory;/***/},/* 585 *//***/function(module,exports,__webpack_require__){var Zone=__webpack_require__(61);var ZoneFactory=function ZoneFactory(scene,x,y,width,height){return new Zone(scene,x,y,width,height);};module.exports=ZoneFactory;/***/},/* 586 *//***/function(module,exports,__webpack_require__){var LightLayer=__webpack_require__(177);var LightLayerFactory=function LightLayerFactory(scene){return new LightLayer(scene);};module.exports=LightLayerFactory;/***/},/* 587 *//***/function(module,exports,__webpack_require__){module.exports={renderCanvas:__webpack_require__(588),renderWebGL:__webpack_require__(589)};/***/},/* 588 *//***/function(module,exports){var LightLayerCanvasRenderer=function LightLayerCanvasRenderer(renderer,src,interpolationPercentage,camera){};module.exports=LightLayerCanvasRenderer;/***/},/* 589 *//***/function(module,exports,__webpack_require__){var WebGLSupportedExtensions=__webpack_require__(178);module.exports=function(){if(WebGLSupportedExtensions.has('WEBGL_draw_buffers')){return __webpack_require__(590);}else{return __webpack_require__(591);}}();/***/},/* 590 *//***/function(module,exports){var DeferredRenderer=function DeferredRenderer(renderer,src,interpolationPercentage,camera){if(this.renderMask!==this.renderFlags){return;}};module.exports=DeferredRenderer;/***/},/* 591 *//***/function(module,exports){var ForwardRenderer=function ForwardRenderer(renderer,lightLayer,interpolationPercentage,camera){var spriteList=lightLayer.sprites;var length=spriteList.length;var batch=renderer.spriteBatch;if(this.renderMask!==this.renderFlags||length===0){return;}if(renderer.currentRenderer!==null){renderer.currentRenderer.flush();}batch.bind(lightLayer.passShader);batch.indexBufferObject.bind();lightLayer.updateLights(renderer,camera);for(var index=0;index<length;++index){var spriteNormalPair=spriteList[index];var gameObject=spriteNormalPair.spriteRef;/* Inlined function of add sprite modified. */{var tempMatrix=batch.tempMatrix;var frame=gameObject.frame;var forceFlipY=frame.texture.source[frame.sourceIndex].glTexture.isRenderTexture?true:false;var flipX=gameObject.flipX;var flipY=gameObject.flipY^forceFlipY;var vertexDataBuffer=batch.vertexDataBuffer;var vertexBufferObjectF32=vertexDataBuffer.floatView;var vertexBufferObjectU32=vertexDataBuffer.uintView;var vertexOffset=0;var uvs=frame.uvs;var width=frame.width*(flipX?-1:1);var height=frame.height*(flipY?-1:1);var translateX=gameObject.x-camera.scrollX*gameObject.scrollFactorX;var translateY=gameObject.y-camera.scrollY*gameObject.scrollFactorY;var scaleX=gameObject.scaleX;var scaleY=gameObject.scaleY;var rotation=-gameObject.rotation;var tempMatrixMatrix=tempMatrix.matrix;var x=-gameObject.displayOriginX+frame.x+frame.width*(flipX?1:0.0);var y=-gameObject.displayOriginY+frame.y+frame.height*(flipY?1:0.0);var xw=x+width;var yh=y+height;var cameraMatrix=camera.matrix.matrix;var mva,mvb,mvc,mvd,mve,mvf,tx0,ty0,tx1,ty1,tx2,ty2,tx3,ty3;var sra,srb,src,srd,sre,srf,cma,cmb,cmc,cmd,cme,cmf;var alphaTL=gameObject._alphaTL;var alphaTR=gameObject._alphaTR;var alphaBL=gameObject._alphaBL;var alphaBR=gameObject._alphaBR;var tintTL=gameObject._tintTL;var tintTR=gameObject._tintTR;var tintBL=gameObject._tintBL;var tintBR=gameObject._tintBR;tempMatrix.applyITRS(translateX,translateY,rotation,scaleX,scaleY);sra=tempMatrixMatrix[0];srb=tempMatrixMatrix[1];src=tempMatrixMatrix[2];srd=tempMatrixMatrix[3];sre=tempMatrixMatrix[4];srf=tempMatrixMatrix[5];cma=cameraMatrix[0];cmb=cameraMatrix[1];cmc=cameraMatrix[2];cmd=cameraMatrix[3];cme=cameraMatrix[4];cmf=cameraMatrix[5];mva=sra*cma+srb*cmc;mvb=sra*cmb+srb*cmd;mvc=src*cma+srd*cmc;mvd=src*cmb+srd*cmd;mve=sre*cma+srf*cmc+cme;mvf=sre*cmb+srf*cmd+cmf;tx0=x*mva+y*mvc+mve;ty0=x*mvb+y*mvd+mvf;tx1=x*mva+yh*mvc+mve;ty1=x*mvb+yh*mvd+mvf;tx2=xw*mva+yh*mvc+mve;ty2=xw*mvb+yh*mvd+mvf;tx3=xw*mva+y*mvc+mve;ty3=xw*mvb+y*mvd+mvf;if(renderer.currentTexture[0]!==frame.texture.source[frame.sourceIndex].glTexture||renderer.currentTexture[1]!==spriteNormalPair.normalTextureRef.source[spriteNormalPair.spriteRef.frame.sourceIndex].glTexture){batch.flush(lightLayer.passShader,lightLayer.renderTarget);renderer.setTexture(frame.texture.source[frame.sourceIndex].glTexture,0);renderer.setTexture(spriteNormalPair.normalTextureRef.source[spriteNormalPair.spriteRef.frame.sourceIndex].glTexture,1);}batch.drawIndexed=true;batch.drawingMesh=false;vertexOffset=vertexDataBuffer.allocate(24);batch.elementCount+=6;//  Top Left\nvertexBufferObjectF32[vertexOffset++]=tx0;vertexBufferObjectF32[vertexOffset++]=ty0;vertexBufferObjectF32[vertexOffset++]=uvs.x0;vertexBufferObjectF32[vertexOffset++]=uvs.y0;vertexBufferObjectU32[vertexOffset++]=tintTL;vertexBufferObjectF32[vertexOffset++]=alphaTL;//  Bottom Left\nvertexBufferObjectF32[vertexOffset++]=tx1;vertexBufferObjectF32[vertexOffset++]=ty1;vertexBufferObjectF32[vertexOffset++]=uvs.x1;vertexBufferObjectF32[vertexOffset++]=uvs.y1;vertexBufferObjectU32[vertexOffset++]=tintBL;vertexBufferObjectF32[vertexOffset++]=alphaBL;//  Bottom Right\nvertexBufferObjectF32[vertexOffset++]=tx2;vertexBufferObjectF32[vertexOffset++]=ty2;vertexBufferObjectF32[vertexOffset++]=uvs.x2;vertexBufferObjectF32[vertexOffset++]=uvs.y2;vertexBufferObjectU32[vertexOffset++]=tintBR;vertexBufferObjectF32[vertexOffset++]=alphaBR;//  Top Right\nvertexBufferObjectF32[vertexOffset++]=tx3;vertexBufferObjectF32[vertexOffset++]=ty3;vertexBufferObjectF32[vertexOffset++]=uvs.x3;vertexBufferObjectF32[vertexOffset++]=uvs.y3;vertexBufferObjectU32[vertexOffset++]=tintTR;vertexBufferObjectF32[vertexOffset++]=alphaTR;}}batch.flush(lightLayer.passShader,lightLayer.renderTarget);};module.exports=ForwardRenderer;/***/},/* 592 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Light=new Class({initialize:function Light(x,y,z,r,g,b,attenuation){this.x=x;this.y=y;this.z=z;this.r=r;this.g=g;this.b=b;this.attenuation=attenuation;this.scrollFactorX=1.0;this.scrollFactorY=1.0;},set:function set(x,y,z,r,g,b,attenuation){this.x=x;this.y=y;this.z=z;this.r=r;this.g=g;this.b=b;this.attenuation=attenuation;this.scrollFactorX=1.0;this.scrollFactorY=1.0;}});module.exports=Light;/***/},/* 593 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var SpriteNormalPair=new Class({initialize:function SpriteNormalPair(sprite,normalTexture){this.spriteRef=sprite;this.normalTextureRef=normalTexture;},set:function set(sprite,normalTexture){this.spriteRef=sprite;this.normalTextureRef=normalTexture;}});module.exports=SpriteNormalPair;/***/},/* 594 *//***/function(module,exports){module.exports={MAX_LIGHTS:10};/***/},/* 595 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var InputEvent=__webpack_require__(39);var SceneInputManager=__webpack_require__(613);var InputManager=new Class({Extends:SceneInputManager,initialize:function InputManager(scene,game){SceneInputManager.call(this,scene,game);},pointScreenToWorldHitTest:function pointScreenToWorldHitTest(gameObjects,x,y,camera){return this.manager.pointScreenToWorldHitTest(gameObjects,x,y,camera);}});module.exports=InputManager;/***/},/* 596 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DragEvent=new Class({Extends:Event,initialize:function DragEvent(pointer,gameObject){Event.call(this,'DRAG_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=pointer.x;this.y=pointer.y;//  The local x/y coordinates of the event within the Game Object\nthis.dragX=pointer.x-gameObject.input.dragX;this.dragY=pointer.y-gameObject.input.dragY;}});module.exports=DragEvent;/***/},/* 597 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DragEndEvent=new Class({Extends:Event,initialize:function DragEndEvent(pointer,gameObject,dropped){Event.call(this,'DRAG_END_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=pointer.x;this.y=pointer.y;//  When the drag ended did it fire a successful DROP event first?\nthis.dropped=dropped;this.dragX=gameObject.input.dragX;this.dragY=gameObject.input.dragY;}});module.exports=DragEndEvent;/***/},/* 598 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DragEnterEvent=new Class({Extends:Event,initialize:function DragEnterEvent(pointer,gameObject,dropZone){Event.call(this,'DRAG_ENTER_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The drop zone the game object was dropped on\nthis.dropZone=dropZone;}});module.exports=DragEnterEvent;/***/},/* 599 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DragLeaveEvent=new Class({Extends:Event,initialize:function DragLeaveEvent(pointer,gameObject,dropZone){Event.call(this,'DRAG_LEAVE_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The drop zone the game object was dropped on\nthis.dropZone=dropZone;}});module.exports=DragLeaveEvent;/***/},/* 600 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DragOverEvent=new Class({Extends:Event,initialize:function DragOverEvent(pointer,gameObject,dropZone){Event.call(this,'DRAG_OVER_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The drop zone the game object was dropped on\nthis.dropZone=dropZone;}});module.exports=DragOverEvent;/***/},/* 601 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DragStartEvent=new Class({Extends:Event,initialize:function DragStartEvent(pointer,gameObject){Event.call(this,'DRAG_START_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=pointer.x;this.y=pointer.y;this.dragX=gameObject.input.dragX;this.dragY=gameObject.input.dragY;}});module.exports=DragStartEvent;/***/},/* 602 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var DropEvent=new Class({Extends:Event,initialize:function DropEvent(pointer,gameObject,dropZone){Event.call(this,'DROP_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The drop zone the game object was dropped on\nthis.dropZone=dropZone;}});module.exports=DropEvent;/***/},/* 603 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var GameObjectDownEvent=new Class({Extends:Event,initialize:function GameObjectDownEvent(pointer,gameObject){Event.call(this,'GAME_OBJECT_DOWN_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=gameObject.input.localX;this.y=gameObject.input.localY;}});module.exports=GameObjectDownEvent;/***/},/* 604 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var GameObjectMoveEvent=new Class({Extends:Event,initialize:function GameObjectMoveEvent(pointer,gameObject){Event.call(this,'GAME_OBJECT_MOVE_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=gameObject.input.localX;this.y=gameObject.input.localY;}});module.exports=GameObjectMoveEvent;/***/},/* 605 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var GameObjectOutEvent=new Class({Extends:Event,initialize:function GameObjectOutEvent(pointer,gameObject){Event.call(this,'GAME_OBJECT_OUT_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;}});module.exports=GameObjectOutEvent;/***/},/* 606 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var GameObjectOverEvent=new Class({Extends:Event,initialize:function GameObjectOverEvent(pointer,gameObject){Event.call(this,'GAME_OBJECT_OVER_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=gameObject.input.localX;this.y=gameObject.input.localY;}});module.exports=GameObjectOverEvent;/***/},/* 607 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var GameObjectUpEvent=new Class({Extends:Event,initialize:function GameObjectUpEvent(pointer,gameObject){Event.call(this,'GAME_OBJECT_UP_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The Game Object the event occurred on\nthis.gameObject=gameObject;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The local x/y coordinates of the event within the Game Object\nthis.x=gameObject.input.localX;this.y=gameObject.input.localY;}});module.exports=GameObjectUpEvent;/***/},/* 608 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var PointerDownEvent=new Class({Extends:Event,initialize:function PointerDownEvent(pointer,gameObjects){Event.call(this,'POINTER_DOWN_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The x/y coordinates of the event\nthis.x=pointer.x;this.y=pointer.y;//  An array of all the game objects the pointer event occurred on in display list order.\n//  Will be empty if no objects were interacted with.\n//  If populated, the bottom element (list[0]) is the highest object on the display list.\n//  If InputManager.topOnly is true this array will only contain one element.\nthis.list=gameObjects;//  A reference to the top-most object on the display list (same as event.list[0])\nthis.gameObject=gameObjects[0];}});module.exports=PointerDownEvent;/***/},/* 609 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var PointerMoveEvent=new Class({Extends:Event,initialize:function PointerMoveEvent(pointer,gameObjects){Event.call(this,'POINTER_MOVE_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The x/y coordinates of the event\nthis.x=pointer.x;this.y=pointer.y;//  An array of all the game objects the pointer event occurred on in display list order.\n//  Will be empty if no objects were interacted with.\n//  If populated, the bottom element (list[0]) is the highest object on the display list.\n//  If InputManager.topOnly is true this array will only contain one element.\nthis.list=gameObjects;//  A reference to the top-most object on the display list (also this.list[0]). Undefined if there isn't any.\nthis.gameObject=gameObjects[0];}});module.exports=PointerMoveEvent;/***/},/* 610 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var PointerOutEvent=new Class({Extends:Event,initialize:function PointerOutEvent(pointer,gameObjects){Event.call(this,'POINTER_OUT_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The x/y coordinates of the event\nthis.x=pointer.x;this.y=pointer.y;//  An array of all the game objects the pointer event occurred on in display list order.\n//  Will be undefined if no objects were interacted with.\n//  If populated, the bottom element (list[0]) is the highest object on the display list.\n//  If InputManager.topOnly is true this array will only contain one element.\nthis.list=gameObjects;//  A reference to the top-most object on the display list (also this.list[0])\nthis.gameObject=gameObjects[0];}});module.exports=PointerOutEvent;/***/},/* 611 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var PointerOverEvent=new Class({Extends:Event,initialize:function PointerOverEvent(pointer,gameObjects){Event.call(this,'POINTER_OVER_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The x/y coordinates of the event\nthis.x=pointer.x;this.y=pointer.y;//  An array of all the game objects the pointer event occurred on in display list order.\n//  Will be undefined if no objects were interacted with.\n//  If populated, the bottom element (list[0]) is the highest object on the display list.\n//  If InputManager.topOnly is true this array will only contain one element.\nthis.list=gameObjects;//  A reference to the top-most object on the display list (also this.list[0])\nthis.gameObject=gameObjects[0];}});module.exports=PointerOverEvent;/***/},/* 612 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var PointerUpEvent=new Class({Extends:Event,initialize:function PointerUpEvent(pointer,gameObjects){Event.call(this,'POINTER_UP_EVENT');//  The Pointer that triggered the event\nthis.pointer=pointer;//  The native DOM event (MouseEvent, TouchEvent, etc)\nthis.event=pointer.event;//  The camera on which the input event occurred\nthis.camera=pointer.camera;//  The x/y coordinates of the event\nthis.x=pointer.x;this.y=pointer.y;//  An array of all the game objects the pointer event occurred on in display list order.\n//  Will be empty if no objects were interacted with.\n//  If populated, the bottom element (list[0]) is the highest object on the display list.\n//  If InputManager.topOnly is true this array will only contain one element.\nthis.list=gameObjects;//  A reference to the top-most object on the display list (same as event.list[0])\nthis.gameObject=gameObjects[0];}});module.exports=PointerUpEvent;/***/},/* 613 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);//  Drag Events\n//  https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API\n//  Mouse Events\n//  https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent\nvar SceneInputManager=new Class({initialize:function SceneInputManager(scene,game){//  The Scene that owns this plugin\nthis.scene=scene;//  GlobalInputManager\nthis.manager=game.input;//  A reference to this.scene.sys.displayList (set in boot)\nthis.displayList;//  A reference to the this.scene.sys.cameras (set in boot)\nthis.cameras;//  Should use Scene event dispatcher?\nthis.events=this.manager.events;//  Proxy references available via the Scene\nthis.keyboard=this.manager.keyboard;this.mouse=this.manager.mouse;//  Only fire callbacks and events on the top-most Game Object in the display list (emulating DOM behavior)\n//  and ignore any GOs below it, or call them all?\nthis.topOnly=true;//  How often should the pointer input be checked?\n//  Time given in ms\n//  Pointer will *always* be checked if it has been moved by the user.\n//  This controls how often it will be polled if it hasn't been moved.\n//  Set to 0 to poll constantly. Set to -1 to only poll on user movement.\nthis.pollRate=-1;//  Internal counter\nthis._pollTimer=0;//  The distance, in pixels, the pointer has to move while being held down, before it thinks it is being dragged.\nthis.dragDistanceThreshold=0;//  The amount of time, in ms, the pointer has to be held down before it thinks it is dragging.\nthis.dragTimeThreshold=0;//  Used to temporarily store the results of the Hit Test\nthis._temp=[];//  list: A list of all Game Objects that have been set to be interactive\nthis._list=[];//  pendingInsertion: Objects waiting to be inserted to the list on the next call to 'begin'\nthis._pendingInsertion=[];//  pendingRemoval: Objects waiting to be removed from the list on the next call to 'begin'\nthis._pendingRemoval=[];//  draggable: A list of all Game Objects that have been enabled for dragging\nthis._draggable=[];//  drag: A list of all Interactive Objects currently considered as being 'draggable' by any pointer, indexed by pointer ID\nthis._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[]};//  over: A list of all Interactive Objects currently considered as being 'over' by any pointer, indexed by pointer ID\nthis._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[]};this._validTypes=['onDown','onUp','onOver','onOut','onMove','onDragStart','onDrag','onDragEnd','onDragEnter','onDragLeave','onDragOver','onDrop'];},//  Add option to get all IOs within a Rect or Circle\nboot:__webpack_require__(614),begin:__webpack_require__(615),clear:__webpack_require__(616),update:__webpack_require__(617),hitTestPointer:__webpack_require__(618),disable:__webpack_require__(619),enable:__webpack_require__(620),queueForInsertion:__webpack_require__(621),queueForRemoval:__webpack_require__(622),setpollRate:__webpack_require__(623),setpollAlways:__webpack_require__(624),setpollOnMove:__webpack_require__(625),setHitArea:__webpack_require__(626),setHitAreaCircle:__webpack_require__(627),setHitAreaEllipse:__webpack_require__(628),setHitAreaFromTexture:__webpack_require__(629),setHitAreaRectangle:__webpack_require__(630),setHitAreaTriangle:__webpack_require__(631),setDraggable:__webpack_require__(632),setCallback:__webpack_require__(633),setCallbacks:__webpack_require__(634),setOnDownCallback:__webpack_require__(635),setOnOutCallback:__webpack_require__(636),setOnOverCallback:__webpack_require__(637),setOnUpCallback:__webpack_require__(638),setOnMoveCallback:__webpack_require__(639),processOverOutEvents:__webpack_require__(640),processDownEvents:__webpack_require__(641),processDragEvents:__webpack_require__(642),processUpEvents:__webpack_require__(643),processMoveEvents:__webpack_require__(644),sortGameObjects:__webpack_require__(645),sortInteractiveObjects:__webpack_require__(646),sortHandlerGO:__webpack_require__(647),sortHandlerIO:__webpack_require__(648),//  Scene that owns this is shutting down\nshutdown:function shutdown(){this._temp.length=0;this._list.length=0;this._draggable.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;for(var i=0;i<10;i++){this._drag[i]=[];this._over[i]=[];}},//  Game level nuke\ndestroy:function destroy(){this.shutdown();this.scene=undefined;this.cameras=undefined;this.manager=undefined;this.events=undefined;this.keyboard=undefined;this.mouse=undefined;}});module.exports=SceneInputManager;/***/},/* 614 *//***/function(module,exports){var Boot=function Boot(){this.cameras=this.scene.sys.cameras;this.displayList=this.scene.sys.displayList;};module.exports=Boot;/***/},/* 615 *//***/function(module,exports){var Begin=function Begin(){var removeList=this._pendingRemoval;var insertList=this._pendingInsertion;var toRemove=removeList.length;var toInsert=insertList.length;if(toRemove===0&&toInsert===0){//  Quick bail\nreturn;}var current=this._list;//  Delete old gameObjects\nfor(var i=0;i<toRemove;i++){var gameObject=removeList[i];var index=current.indexOf(gameObject);if(index>-1){current.splice(index,1);//  TODO: Clear from _draggable, _drag and _over too\nthis.clear(gameObject);}}//  Clear the removal list\nremoveList.length=0;//  Move pendingInsertion to list (also clears pendingInsertion at the same time)\nthis._list=current.concat(insertList.splice(0));};module.exports=Begin;/***/},/* 616 *//***/function(module,exports){var Clear=function Clear(gameObject){var input=gameObject.input;input.gameObject=undefined;input.target=undefined;input.hitArea=undefined;input.hitAreaCallback=undefined;input.callbackContext=undefined;gameObject.input=null;return gameObject;};module.exports=Clear;/***/},/* 617 *//***/function(module,exports){var Update=function Update(time,delta){var pointer=this.manager.activePointer;var runUpdate=pointer.dirty||this.pollRate===0;if(this.pollRate>-1){this._pollTimer-=delta;if(this._pollTimer<0){runUpdate=true;//  Discard timer diff\nthis._pollTimer=this.pollRate;}}if(runUpdate){this._temp=this.hitTestPointer(pointer);this.sortGameObjects(this._temp);this.processDragEvents(pointer,time);this.processOverOutEvents(pointer);if(pointer.justDown){this.processDownEvents(pointer);}if(pointer.justUp){this.processUpEvents(pointer);}if(pointer.justMoved){this.processMoveEvents(pointer);}}};module.exports=Update;/***/},/* 618 *//***/function(module,exports){var HitTestPointer=function HitTestPointer(pointer){var camera=this.cameras.getCameraBelowPointer(pointer);if(camera){pointer.camera=camera;//  Get a list of all objects that can be seen by the camera below the pointer in the scene and store in 'output' array.\n//  All objects in this array are input enabled, as checked by the hitTest function, so we don't need to check later on as well.\nreturn this.manager.hitTest(this._list,pointer.x,pointer.y,camera);}else{return[];}};module.exports=HitTestPointer;/***/},/* 619 *//***/function(module,exports){var Disable=function Disable(gameObject){gameObject.input.enabled=false;};module.exports=Disable;/***/},/* 620 *//***/function(module,exports){var Enable=function Enable(gameObject,shape,callback){if(gameObject.input){//  If it is already has an InteractiveObject then just enable it and return\ngameObject.input.enabled=true;}else{//  Create an InteractiveObject and enable it\nthis.setHitArea(gameObject,shape,callback);}return this;};module.exports=Enable;/***/},/* 621 *//***/function(module,exports){//  Queues a Game Object for insertion into this Input Manager on the next update.\nvar QueueForInsertion=function QueueForInsertion(child){if(this._pendingInsertion.indexOf(child)===-1&&this._list.indexOf(child)===-1){this._pendingInsertion.push(child);}return this;};module.exports=QueueForInsertion;/***/},/* 622 *//***/function(module,exports){//  Queues a Game Object for removal from this Input Manager on the next update.\nvar QueueForRemoval=function QueueForRemoval(child){this._pendingRemoval.push(child);return this;};module.exports=QueueForRemoval;/***/},/* 623 *//***/function(module,exports){var SetPollRate=function SetPollRate(value){this.pollRate=value;this._pollTimer=0;return this;};module.exports=SetPollRate;/***/},/* 624 *//***/function(module,exports){var SetPollAlways=function SetPollAlways(){this.pollRate=0;this._pollTimer=0;return this;};module.exports=SetPollAlways;/***/},/* 625 *//***/function(module,exports){var SetPollOnMove=function SetPollOnMove(){this.pollRate=-1;this._pollTimer=0;return this;};module.exports=SetPollOnMove;/***/},/* 626 *//***/function(module,exports,__webpack_require__){var InteractiveObject=__webpack_require__(179);var SetHitArea=function SetHitArea(gameObjects,shape,callback){if(shape===undefined){return this.setHitAreaFromTexture(gameObjects);}if(!Array.isArray(gameObjects)){gameObjects=[gameObjects];}for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];gameObject.input=InteractiveObject(gameObject,shape,callback);this.queueForInsertion(gameObject);}return this;};module.exports=SetHitArea;/***/},/* 627 *//***/function(module,exports,__webpack_require__){var Circle=__webpack_require__(48);var CircleContains=__webpack_require__(36);var SetHitAreaCircle=function SetHitAreaCircle(gameObjects,x,y,radius,callback){if(callback===undefined){callback=CircleContains;}var shape=new Circle(x,y,radius);return this.setHitArea(gameObjects,shape,callback);};module.exports=SetHitAreaCircle;/***/},/* 628 *//***/function(module,exports,__webpack_require__){var Ellipse=__webpack_require__(86);var EllipseContains=__webpack_require__(56);var SetHitAreaEllipse=function SetHitAreaEllipse(gameObjects,x,y,width,height,callback){if(callback===undefined){callback=EllipseContains;}var shape=new Ellipse(x,y,width,height);return this.setHitArea(gameObjects,shape,callback);};module.exports=SetHitAreaEllipse;/***/},/* 629 *//***/function(module,exports,__webpack_require__){var InteractiveObject=__webpack_require__(179);var Rectangle=__webpack_require__(14);var RectangleContains=__webpack_require__(27);var SetHitAreaFromTexture=function SetHitAreaFromTexture(gameObjects,callback){if(callback===undefined){callback=RectangleContains;}if(!Array.isArray(gameObjects)){gameObjects=[gameObjects];}for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];var frame=gameObject.frame;var width=0;var height=0;if(frame){width=frame.width;height=frame.height;}else if(gameObject.width){width=gameObject.width;height=gameObject.height;}if(width!==0&&height!==0){gameObject.input=InteractiveObject(gameObject,new Rectangle(0,0,width,height),callback);this.queueForInsertion(gameObject);}}return this;};module.exports=SetHitAreaFromTexture;/***/},/* 630 *//***/function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(14);var RectangleContains=__webpack_require__(27);var SetHitAreaRectangle=function SetHitAreaRectangle(gameObjects,x,y,width,height,callback){if(callback===undefined){callback=RectangleContains;}var shape=new Rectangle(x,y,width,height);return this.setHitArea(gameObjects,shape,callback);};module.exports=SetHitAreaRectangle;/***/},/* 631 *//***/function(module,exports,__webpack_require__){var Triangle=__webpack_require__(40);var TriangleContains=__webpack_require__(46);var SetHitAreaTriangle=function SetHitAreaTriangle(gameObjects,x1,y1,x2,y2,x3,y3,callback){if(callback===undefined){callback=TriangleContains;}var shape=new Triangle(x1,y1,x2,y2,x3,y3);return this.setHitArea(gameObjects,shape,callback);};module.exports=SetHitAreaTriangle;/***/},/* 632 *//***/function(module,exports){var SetDraggable=function SetDraggable(gameObjects,value){if(value===undefined){value=true;}if(!Array.isArray(gameObjects)){gameObjects=[gameObjects];}for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];gameObject.input.draggable=value;var index=this._draggable.indexOf(gameObject);if(value&&index===-1){this._draggable.push(gameObject);}else if(!value&&index>-1){this._draggable.splice(index,1);}}return this;};module.exports=SetDraggable;/***/},/* 633 *//***/function(module,exports){var SetCallback=function SetCallback(gameObjects,type,callback,context){if(this._validTypes.indexOf(type)===-1){return this;}if(!Array.isArray(gameObjects)){gameObjects=[gameObjects];}for(var i=0;i<gameObjects.length;i++){var gameObject=gameObjects[i];if(gameObject.input){gameObject.input[type]=callback;if(context){gameObject.input.callbackContext=context;}}}return this;};module.exports=SetCallback;/***/},/* 634 *//***/function(module,exports,__webpack_require__){var GetFastValue=__webpack_require__(7);var SetCallbacks=function SetCallbacks(gameObjects,config){var onDown=GetFastValue(config,'onDown',null);var onUp=GetFastValue(config,'onUp',null);var onOver=GetFastValue(config,'onOver',null);var onOut=GetFastValue(config,'onOut',null);var onMove=GetFastValue(config,'onMove',null);var context=GetFastValue(config,'context',null);if(onDown){this.setOnDownCallback(gameObjects,onDown,context);}if(onUp){this.setOnDownCallback(gameObjects,onUp,context);}if(onOver){this.setOnDownCallback(gameObjects,onOver,context);}if(onOut){this.setOnDownCallback(gameObjects,onOut,context);}if(onMove){this.setOnMoveCallback(gameObjects,onMove,context);}return this;};module.exports=SetCallbacks;/***/},/* 635 *//***/function(module,exports){var SetOnDownCallback=function SetOnDownCallback(gameObjects,callback,context){return this.setCallback(gameObjects,'onDown',callback,context);};module.exports=SetOnDownCallback;/***/},/* 636 *//***/function(module,exports){var SetOnOutCallback=function SetOnOutCallback(gameObjects,callback,context){return this.setCallback(gameObjects,'onOut',callback,context);};module.exports=SetOnOutCallback;/***/},/* 637 *//***/function(module,exports){var SetOnOverCallback=function SetOnOverCallback(gameObjects,callback,context){return this.setCallback(gameObjects,'onOver',callback,context);};module.exports=SetOnOverCallback;/***/},/* 638 *//***/function(module,exports){var SetOnUpCallback=function SetOnUpCallback(gameObjects,callback,context){return this.setCallback(gameObjects,'onUp',callback,context);};module.exports=SetOnUpCallback;/***/},/* 639 *//***/function(module,exports){var SetOnMoveCallback=function SetOnMoveCallback(gameObjects,callback,context){return this.setCallback(gameObjects,'onMove',callback,context);};module.exports=SetOnMoveCallback;/***/},/* 640 *//***/function(module,exports,__webpack_require__){var InputEvent=__webpack_require__(39);var ProcessOverOutEvents=function ProcessOverOutEvents(pointer){var currentlyOver=this._temp;var i;var gameObject;var justOut=[];var justOver=[];var stillOver=[];var previouslyOver=this._over[pointer.id];//  Go through all objects the pointer was previously over, and see if it still is\nfor(i=0;i<previouslyOver.length;i++){gameObject=previouslyOver[i];if(currentlyOver.indexOf(gameObject)===-1){//  Not in the currentlyOver array\njustOut.push(gameObject);}else{//  In the currentlyOver array\nstillOver.push(gameObject);}}//  Go through the hit test results\nfor(i=0;i<currentlyOver.length;i++){gameObject=currentlyOver[i];//  Is this newly over?\nif(previouslyOver.indexOf(gameObject)===-1){justOver.push(gameObject);}}//  By this point the arrays are filled, so now we can process what happened...\n//  Process the Just Out objects\nvar total=justOut.length;if(total>0){this.sortGameObjects(justOut);this.events.dispatch(new InputEvent.POINTER_OUT(pointer,justOut));//  Call onOut for everything in the justOut array\nfor(i=0;i<total;i++){gameObject=justOut[i];this.events.dispatch(new InputEvent.GAME_OBJECT_OUT(pointer,gameObject));gameObject.input.onOut(gameObject,pointer);if(this.topOnly){break;}}}//  Process the Just Over objects\ntotal=justOver.length;if(total>0){this.sortGameObjects(justOver);this.events.dispatch(new InputEvent.POINTER_OVER(pointer,justOver));//  Call onOver for everything in the justOver array\nfor(i=0;i<total;i++){gameObject=justOver[i];this.events.dispatch(new InputEvent.GAME_OBJECT_OVER(pointer,gameObject));gameObject.input.onOver(gameObject,pointer,gameObject.input.localX,gameObject.input.localY);if(this.topOnly){break;}}}//  Add the contents of justOver to the previously over array\npreviouslyOver=stillOver.concat(justOver);//  Then sort it into display list order\nthis._over[pointer.id]=this.sortGameObjects(previouslyOver);};module.exports=ProcessOverOutEvents;/***/},/* 641 *//***/function(module,exports,__webpack_require__){var InputEvent=__webpack_require__(39);var ProcessDownEvents=function ProcessDownEvents(pointer){var currentlyOver=this._temp;this.events.dispatch(new InputEvent.POINTER_DOWN(pointer,currentlyOver));//  Go through all objects the pointer was over and fire their events / callbacks\nfor(var i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];this.events.dispatch(new InputEvent.GAME_OBJECT_DOWN(pointer,gameObject));gameObject.input.onDown(gameObject,pointer,gameObject.input.localX,gameObject.input.localY);if(this.topOnly){break;}}};module.exports=ProcessDownEvents;/***/},/* 642 *//***/function(module,exports,__webpack_require__){var DistanceBetween=__webpack_require__(51);var InputEvent=__webpack_require__(39);var ProcessDragEvents=function ProcessDragEvents(pointer,time){if(this._draggable.length===0){//  There are no draggable items, so let's not even bother going further\nreturn;}var i;var c;var gameObject;var list;var input;var currentlyOver=this._temp;//  0 = Not dragging anything\n//  1 = Primary button down and objects below, so collect a draglist\n//  2 = Pointer being checked if meets drag criteria\n//  3 = Pointer meets criteria, notify the draglist\n//  4 = Pointer actively dragging the draglist and has moved\n//  5 = Pointer actively dragging but has been released, notify draglist\nif(pointer.dragState===0&&pointer.primaryDown&&pointer.justDown&&currentlyOver.length>0){pointer.dragState=1;}else if(pointer.dragState>0&&!pointer.primaryDown&&pointer.justUp){pointer.dragState=5;}//  Process the various drag states\n//  1 = Primary button down and objects below, so collect a draglist\nif(pointer.dragState===1){//  Get draggable objects, sort them, pick the top (or all) and store them somewhere\nvar draglist=[];for(i=0;i<currentlyOver.length;i++){gameObject=currentlyOver[i];if(gameObject.input.draggable){draglist.push(gameObject);}}if(draglist.length===0){pointer.dragState=0;return;}else if(draglist.length>1){this.sortGameObjects(draglist);if(this.topOnly){draglist.splice(1);}}//  draglist now contains all potential candidates for dragging\nthis._drag[pointer.id]=draglist;if(this.dragDistanceThreshold===0&&this.dragTimeThreshold===0){//  No drag criteria, so snap immediately to mode 3\npointer.dragState=3;}else{//  Check the distance / time\npointer.dragState=2;}}//  2 = Pointer being checked if meets drag criteria\nif(pointer.dragState===2){//  Has it moved far enough to be considered a drag?\nif(this.dragDistanceThreshold>0&&DistanceBetween(pointer.x,pointer.y,pointer.downX,pointer.downY)>=this.dragDistanceThreshold){//  Alrighty, we've got a drag going on ...\npointer.dragState=3;}//  Held down long enough to be considered a drag?\nif(this.dragTimeThreshold>0&&time>=pointer.downTime+this.dragTimeThreshold){//  Alrighty, we've got a drag going on ...\npointer.dragState=3;}}//  3 = Pointer meets criteria and is freshly down, notify the draglist\nif(pointer.dragState===3){list=this._drag[pointer.id];for(i=0;i<list.length;i++){gameObject=list[i];input=gameObject.input;input.dragState=2;input.dragX=pointer.x-gameObject.x;input.dragY=pointer.y-gameObject.y;input.dragStartX=gameObject.x;input.dragStartY=gameObject.y;this.events.dispatch(new InputEvent.DRAG_START(pointer,gameObject));input.onDragStart(gameObject,pointer,input.dragX,input.dragY);}pointer.dragState=4;return;}//  4 = Pointer actively dragging the draglist and has moved\nif(pointer.dragState===4&&pointer.justMoved){//  Let's filter out currentlyOver for dropZones only\nvar dropZones=[];for(c=0;c<currentlyOver.length;c++){if(currentlyOver[c].input.dropZone){dropZones.push(currentlyOver[c]);}}list=this._drag[pointer.id];for(i=0;i<list.length;i++){gameObject=list[i];input=gameObject.input;//  If this GO has a target then let's check it\nif(input.target){var index=dropZones.indexOf(input.target);//  Got a target, are we still over it?\nif(index===0){//  We're still over it, and it's still the top of the display list, phew ...\nthis.events.dispatch(new InputEvent.DRAG_OVER(pointer,gameObject,input.target));}else if(index>0){//  Still over it but it's no longer top of the display list (targets must always be at the top)\nthis.events.dispatch(new InputEvent.DRAG_LEAVE(pointer,gameObject,input.target));input.target=dropZones[0];this.events.dispatch(new InputEvent.DRAG_ENTER(pointer,gameObject,input.target));}else{//  Nope, we've moved on (or the target has!), leave the old target\nthis.events.dispatch(new InputEvent.DRAG_LEAVE(pointer,gameObject,input.target));//  Anything new to replace it?\n//  Yup!\nif(dropZones[0]){input.target=dropZones[0];this.events.dispatch(new InputEvent.DRAG_ENTER(pointer,gameObject,input.target));}else{//  Nope\ninput.target=null;}}}else if(!input.target&&dropZones[0]){input.target=dropZones[0];this.events.dispatch(new InputEvent.DRAG_ENTER(pointer,gameObject,input.target));}this.events.dispatch(new InputEvent.DRAG(pointer,gameObject));input.onDrag(gameObject,pointer);}}//  5 = Pointer actively dragging but has been released, notify draglist\nif(pointer.dragState===5){list=this._drag[pointer.id];for(i=0;i<list.length;i++){gameObject=list[i];input=gameObject.input;input.dragState=0;input.dragX=input.localX-gameObject.displayOriginX;input.dragY=input.localY-gameObject.displayOriginY;var dropped=false;if(input.target){this.events.dispatch(new InputEvent.DROP(pointer,gameObject,input.target));input.target=null;dropped=true;}//  And finally the dragend event\nthis.events.dispatch(new InputEvent.DRAG_END(pointer,gameObject,dropped));input.onDragEnd(gameObject,pointer,input.dragX,input.dragY);}pointer.dragState=0;}};module.exports=ProcessDragEvents;/***/},/* 643 *//***/function(module,exports,__webpack_require__){var InputEvent=__webpack_require__(39);var ProcessUpEvents=function ProcessUpEvents(pointer){var currentlyOver=this._temp;this.events.dispatch(new InputEvent.POINTER_UP(pointer,currentlyOver));//  Go through all objects the pointer was over and fire their events / callbacks\nfor(var i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];this.events.dispatch(new InputEvent.GAME_OBJECT_UP(pointer,gameObject));gameObject.input.onUp(gameObject,pointer,gameObject.input.localX,gameObject.input.localY);if(this.topOnly){break;}}};module.exports=ProcessUpEvents;/***/},/* 644 *//***/function(module,exports,__webpack_require__){var InputEvent=__webpack_require__(39);var ProcessMoveEvents=function ProcessMoveEvents(pointer){var currentlyOver=this._temp;this.events.dispatch(new InputEvent.POINTER_MOVE(pointer,currentlyOver));//  Go through all objects the pointer was over and fire their events / callbacks\nfor(var i=0;i<currentlyOver.length;i++){var gameObject=currentlyOver[i];this.events.dispatch(new InputEvent.GAME_OBJECT_MOVE(pointer,gameObject));gameObject.input.onMove(gameObject,pointer,gameObject.input.localX,gameObject.input.localY);if(this.topOnly){break;}}};module.exports=ProcessMoveEvents;/***/},/* 645 *//***/function(module,exports){//  Given an array of Game Objects, sort the array and return it,\n//  so that the objects are in index order with the lowest at the bottom.\nvar SortGameObjects=function SortGameObjects(gameObjects){if(gameObjects.length<2){return gameObjects;}this.scene.sys.depthSort();return gameObjects.sort(this.sortHandlerGO.bind(this));};module.exports=SortGameObjects;/***/},/* 646 *//***/function(module,exports){//  Given an array of Interactive Objects, sort the array and return it,\n//  so that the objects are in index order with the lowest at the bottom.\nvar SortInteractiveObjects=function SortInteractiveObjects(interactiveObjects){if(interactiveObjects.length<2){return interactiveObjects;}this.scene.sys.depthSort();return interactiveObjects.sort(this.sortHandlerIO.bind(this));};module.exports=SortInteractiveObjects;/***/},/* 647 *//***/function(module,exports){//  Return the child lowest down the display list (with the smallest index)\nvar SortHandlerGO=function SortHandlerGO(childA,childB){//  The higher the index, the lower down the display list they are.\n//  So entry 0 will be the top-most item (visually)\nvar indexA=this.displayList.getIndex(childA);var indexB=this.displayList.getIndex(childB);if(indexA<indexB){return 1;}else if(indexA>indexB){return-1;}//  Technically this shouldn't happen, but if the GO wasn't part of this display list then it'll\n//  have an index of -1, so in some cases it can\nreturn 0;};module.exports=SortHandlerGO;/***/},/* 648 *//***/function(module,exports){//  Return the child lowest down the display list (with the smallest index)\nvar SortHandlerIO=function SortHandlerIO(childA,childB){//  The higher the index, the lower down the display list they are.\n//  So entry 0 will be the top-most item (visually)\nvar indexA=this.displayList.getIndex(childA.gameObject);var indexB=this.displayList.getIndex(childB.gameObject);if(indexA<indexB){return 1;}else if(indexA>indexB){return-1;}//  Technically this shouldn't happen, but if the GO wasn't part of this display list then it'll\n//  have an index of -1, so in some cases it can\nreturn 0;};module.exports=SortHandlerIO;/***/},/* 649 *//***/function(module,exports,__webpack_require__){var BaseLoader=__webpack_require__(650);var Class=__webpack_require__(0);var NumberArray=__webpack_require__(180);var AnimationJSONFile=__webpack_require__(654);var AtlasJSONFile=__webpack_require__(657);var BinaryFile=__webpack_require__(658);var BitmapFontFile=__webpack_require__(659);var GLSLFile=__webpack_require__(660);var HTMLFile=__webpack_require__(661);var ImageFile=__webpack_require__(47);var JSONFile=__webpack_require__(88);var ScriptFile=__webpack_require__(662);var SpriteSheet=__webpack_require__(663);var SVGFile=__webpack_require__(664);var TextFile=__webpack_require__(665);var XMLFile=__webpack_require__(182);var Loader=new Class({Extends:BaseLoader,initialize:function Loader(scene){BaseLoader.call(this,scene);this._multilist={};},//  key can be either a string, an object or an array of objects\nimage:function image(key,url,xhrSettings){return ImageFile.create(this,key,url,xhrSettings);},animation:function animation(key,url,xhrSettings){return AnimationJSONFile.create(this,key,url,xhrSettings);},json:function json(key,url,xhrSettings){return JSONFile.create(this,key,url,xhrSettings);},script:function script(key,url,xhrSettings){return ScriptFile.create(this,key,url,xhrSettings);},xml:function xml(key,url,xhrSettings){return XMLFile.create(this,key,url,xhrSettings);},binary:function binary(key,url,xhrSettings){return BinaryFile.create(this,key,url,xhrSettings);},text:function text(key,url,xhrSettings){return TextFile.create(this,key,url,xhrSettings);},glsl:function glsl(key,url,xhrSettings){return GLSLFile.create(this,key,url,xhrSettings);},html:function html(key,url,width,height,xhrSettings){return HTMLFile.create(this,key,url,width,height,xhrSettings);},svg:function svg(key,url,xhrSettings){return SVGFile.create(this,key,url,xhrSettings);},//  config can include: frameWidth, frameHeight, startFrame, endFrame, margin, spacing\nspritesheet:function spritesheet(key,url,config,xhrSettings){return SpriteSheet.create(this,key,url,config,xhrSettings);},//  ---------------------------------------------------\n//  Multi-File Loaders\n//  ---------------------------------------------------\natlas:function atlas(key,textureURL,atlasURL,textureXhrSettings,atlasXhrSettings){//  Returns an object with two properties: 'texture' and 'data'\nvar files=new AtlasJSONFile(key,textureURL,atlasURL,this.path,textureXhrSettings,atlasXhrSettings);this.addFile(files.texture);this.addFile(files.data);return this;},bitmapFont:function bitmapFont(key,textureURL,xmlURL,textureXhrSettings,xmlXhrSettings){//  Returns an object with two properties: 'texture' and 'data'\nvar files=new BitmapFontFile(key,textureURL,xmlURL,this.path,textureXhrSettings,xmlXhrSettings);this.addFile(files.texture);this.addFile(files.data);return this;},multiatlas:function multiatlas(key,textureURLs,atlasURLs,textureXhrSettings,atlasXhrSettings){if(typeof textureURLs==='number'){var total=textureURLs;var suffix=atlasURLs===undefined?'':atlasURLs;textureURLs=NumberArray(0,total,key+suffix,'.png');atlasURLs=NumberArray(0,total,key+suffix,'.json');}else{if(!Array.isArray(textureURLs)){textureURLs=[textureURLs];}if(!Array.isArray(atlasURLs)){atlasURLs=[atlasURLs];}}var file;var i=0;var multiKey;this._multilist[key]=[];for(i=0;i<textureURLs.length;i++){multiKey='_MA_IMG_'+key+'_'+i.toString();file=new ImageFile(multiKey,textureURLs[i],this.path,textureXhrSettings);this.addFile(file);this._multilist[key].push(multiKey);}for(i=0;i<atlasURLs.length;i++){multiKey='_MA_JSON_'+key+'_'+i.toString();file=new JSONFile(multiKey,atlasURLs[i],this.path,atlasXhrSettings);this.addFile(file);this._multilist[key].push(multiKey);}}/*\n    loadArray: function (files)\n    {\n        if (Array.isArray(files))\n        {\n            for (var i = 0; i < files.length; i++)\n            {\n                this.file(files[i]);\n            }\n        }\n\n        return (this.list.size > 0);\n    },\n\n    file: function (file)\n    {\n        var entry;\n\n        switch (file.type)\n        {\n            case 'spritesheet':\n                entry = this.spritesheet(file.key, file.url, file.config, file.xhrSettings);\n                break;\n\n            case 'atlas':\n                entry = this.atlas(file.key, file.textureURL, file.atlasURL, file.textureXhrSettings, file.atlasXhrSettings);\n                break;\n\n            case 'bitmapFont':\n                entry = this.bitmapFont(file.key, file.textureURL, file.xmlURL, file.textureXhrSettings, file.xmlXhrSettings);\n                break;\n\n            case 'multiatlas':\n                entry = this.multiatlas(file.key, file.textureURLs, file.atlasURLs, file.textureXhrSettings, file.atlasXhrSettings);\n                break;\n\n            //  image, json, xml, binary, text, glsl, svg\n            default:\n                entry = this[file.type](file.key, file.url, file.xhrSettings);\n                break;\n        }\n\n        return entry;\n    },\n    */});module.exports=Loader;/***/},/* 650 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(12);var Set=__webpack_require__(54);var XHRSettings=__webpack_require__(87);var Event=__webpack_require__(651);// var EventDispatcher = require('../events/EventDispatcher');\nvar Class=__webpack_require__(0);var ParseXMLBitmapFont=__webpack_require__(176);//  Phaser.Loader.BaseLoader\n//  To finish the loader ...\n//  \n//  3) Progress update\nvar BaseLoader=new Class({initialize:function BaseLoader(scene){this.scene=scene;this.events=scene.sys.events;//  Move to a 'setURL' method?\nthis.baseURL='';this.path='';//  Read from Game / Scene Config\nthis.enableParallel=true;this.maxParallelDownloads=4;//  xhr specific global settings (can be overridden on a per-file basis)\nthis.xhr=XHRSettings();this.crossOrigin=undefined;this.list=new Set();this.inflight=new Set();this.failed=new Set();this.queue=new Set();this.storage=new Set();this.state=CONST.LOADER_IDLE;},setPath:function setPath(path){if(path.substr(-1)!=='/'){path=path.concat('/');}this.path=path;return this;},addFile:function addFile(file){if(!this.isReady()){return-1;}file.path=this.path;this.list.set(file);return this;},//  Is the Loader actively loading (or processing loaded files)\nisLoading:function isLoading(){return this.state===CONST.LOADER_LOADING||this.state===CONST.LOADER_PROCESSING;},//  Is the Loader ready to start a new load?\nisReady:function isReady(){return this.state===CONST.LOADER_IDLE||this.state===CONST.LOADER_COMPLETE||this.state===CONST.LOADER_FAILED;},start:function start(){console.log(this.scene.sys.settings.key,'- BaseLoader start. Files to load:',this.list.size);if(!this.isReady()){return;}this.events.dispatch(new Event.LOADER_START_EVENT(this));if(this.list.size===0){this.finishedLoading();}else{this.state=CONST.LOADER_LOADING;this.failed.clear();this.inflight.clear();this.queue.clear();this.queue.debug=true;this.updateProgress();this.processLoadQueue();}},updateProgress:function updateProgress(){},processLoadQueue:function processLoadQueue(){// console.log('======== BaseLoader processLoadQueue');\n// console.log('List size', this.list.size);\n// console.log(this.inflight.size, 'items still in flight. Can load another', (this.maxParallelDownloads - this.inflight.size));\nvar _this=this;this.list.each(function(file){if(file.state===CONST.FILE_PENDING&&_this.inflight.size<_this.maxParallelDownloads){_this.inflight.set(file);_this.list.delete(file);_this.loadFile(file);}if(_this.inflight.size===_this.maxParallelDownloads){//  Tells the Set iterator to abort\nreturn false;}});},//  private\nloadFile:function loadFile(file){// console.log('LOADING', file.key);\n//  If the file doesn't have its own crossOrigin set,\n//  we'll use the Loaders (which is undefined by default)\nif(!file.crossOrigin){file.crossOrigin=this.crossOrigin;}file.load(this.nextFile.bind(this),this.baseURL);},nextFile:function nextFile(previousFile,success){// console.log('LOADED:', previousFile.src, success);\n//  Move the file that just loaded from the inflight list to the queue or failed Set\nif(success){this.queue.set(previousFile);}else{this.failed.set(previousFile);}this.inflight.delete(previousFile);if(this.list.size>0){// console.log('nextFile - still something in the list');\nthis.processLoadQueue();}else if(this.inflight.size===0){// console.log('nextFile calling finishedLoading');\nthis.finishedLoading();}},finishedLoading:function finishedLoading(){// console.log('---\x3e BaseLoader.finishedLoading PROCESSING', this.queue.size, 'files');\nthis.state=CONST.LOADER_PROCESSING;this.storage.clear();var _this=this;this.queue.each(function(file){// console.log('%c Calling process on ' + file.key, 'color: #000000; background: #ffff00;');\nfile.onProcess(_this.processUpdate.bind(_this));});},//  Called automatically by the File when it has finished processing\nprocessUpdate:function processUpdate(file){// console.log('-> processUpdate', file.key, file.state);\n//  This file has failed to load, so move it to the failed Set\nif(file.state===CONST.FILE_ERRORED){this.failed.set(file);if(file.linkFile){this.queue.delete(file.linkFile);}return this.removeFromQueue(file);}//  If we got here, then the file loaded\n//  Special handling for multi-part files\nif(file.linkFile){if(file.state===CONST.FILE_COMPLETE&&file.linkFile.state===CONST.FILE_COMPLETE){//  Partner has loaded, so add them both to Storage\nthis.storage.set({type:file.linkType,fileA:file,fileB:file.linkFile});this.queue.delete(file.linkFile);this.removeFromQueue(file);}}else{this.storage.set(file);this.removeFromQueue(file);}},removeFromQueue:function removeFromQueue(file){this.queue.delete(file);if(this.queue.size===0&&this.state===CONST.LOADER_PROCESSING){//  We've processed all the files we loaded\nthis.processComplete();}},processComplete:function processComplete(){console.log(this.scene.sys.settings.key,'- Loader Complete. Loaded:',this.storage.size,'Failed:',this.failed.size);this.list.clear();this.inflight.clear();this.queue.clear();this.processCallback();this.state=CONST.LOADER_COMPLETE;this.events.dispatch(new Event.LOADER_COMPLETE_EVENT(this));},//  The Loader has finished\nprocessCallback:function processCallback(){if(this.storage.size===0){return;}//  The global Texture Manager\nvar cache=this.scene.sys.cache;var textures=this.scene.sys.textures;var anims=this.scene.sys.anims;//  Process multiatlas groups first\nvar file;var fileA;var fileB;for(var key in this._multilist){var data=[];var images=[];var keys=this._multilist[key];for(var i=0;i<keys.length;i++){file=this.storage.get('key',keys[i]);if(file){if(file.type==='image'){images.push(file.data);}else if(file.type==='json'){data.push(file.data);}this.storage.delete(file);}}//  Do we have everything needed?\nif(images.length+data.length===keys.length){//  Yup, add them to the Texture Manager\n//  Is the data JSON Hash or JSON Array?\nif(Array.isArray(data[0].frames)){textures.addAtlasJSONArray(key,images,data);}else{textures.addAtlasJSONHash(key,images,data);}}}//  Process all of the files\n//  Because AnimationJSON may require images to be loaded first, we process them last\nvar animJSON=[];this.storage.each(function(file){switch(file.type){case'animationJSON':animJSON.push(file);break;case'image':case'svg':case'html':textures.addImage(file.key,file.data);break;case'atlasjson':fileA=file.fileA;fileB=file.fileB;if(fileA.type==='image'){textures.addAtlas(fileA.key,fileA.data,fileB.data);}else{textures.addAtlas(fileB.key,fileB.data,fileA.data);}break;case'bitmapfont':fileA=file.fileA;fileB=file.fileB;if(fileA.type==='image'){cache.bitmapFont.add(fileB.key,{data:ParseXMLBitmapFont(fileB.data),texture:fileA.key,frame:null});textures.addImage(fileA.key,fileA.data);}else{cache.bitmapFont.add(fileA.key,{data:ParseXMLBitmapFont(fileA.data),texture:fileB.key,frame:null});textures.addImage(fileB.key,fileB.data);}break;case'spritesheet':textures.addSpriteSheet(file.key,file.data,file.config);break;case'json':cache.json.add(file.key,file.data);break;case'xml':cache.xml.add(file.key,file.data);break;case'text':cache.text.add(file.key,file.data);break;case'binary':cache.binary.add(file.key,file.data);break;case'sound':cache.sound.add(file.key,file.data);break;case'glsl':cache.shader.add(file.key,file.data);break;}});animJSON.forEach(function(file){anims.fromJSON(file.data);});this.storage.clear();},reset:function reset(){this.list.clear();this.inflight.clear();this.failed.clear();this.queue.clear();this.storage.clear();this.events.removeAll('LOADER_START_EVENT');this.events.removeAll('LOADER_COMPLETE_EVENT');this.tag='';this.path='';this.baseURL='';this.state=CONST.LOADER_IDLE;},destroy:function destroy(){this.reset();this.state=CONST.LOADER_DESTROYED;}});module.exports=BaseLoader;/***/},/* 651 *//***/function(module,exports,__webpack_require__){module.exports={LOADER_START_EVENT:__webpack_require__(652),LOADER_COMPLETE_EVENT:__webpack_require__(653)};/***/},/* 652 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var LoaderStartEvent=new Class({Extends:Event,initialize:function LoaderStartEvent(loader){Event.call(this,'LOADER_START_EVENT');this.loader=loader;}});module.exports=LoaderStartEvent;/***/},/* 653 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Event=__webpack_require__(1);var LoaderCompleteEvent=new Class({Extends:Event,initialize:function LoaderCompleteEvent(loader){Event.call(this,'LOADER_COMPLETE_EVENT');this.loader=loader;}});module.exports=LoaderCompleteEvent;/***/},/* 654 *//***/function(module,exports,__webpack_require__){var JSONFile=__webpack_require__(88);var AnimationJSONFile=function AnimationJSONFile(key,url,path,xhrSettings){var json=new JSONFile(key,url,path,xhrSettings);//  Override the File type\njson.type='animationJSON';return json;};AnimationJSONFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new AnimationJSONFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new AnimationJSONFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=AnimationJSONFile;/***/},/* 655 *//***/function(module,exports){var GetURL=function GetURL(file,baseURL){if(!file.url){return false;}if(file.url.match(/^(?:blob:|data:|http:\\/\\/|https:\\/\\/|\\/\\/)/)){return file.url;}else{return baseURL+file.url;}};module.exports=GetURL;/***/},/* 656 *//***/function(module,exports,__webpack_require__){var MergeXHRSettings=__webpack_require__(181);var XHRLoader=function XHRLoader(file,globalXHRSettings){var config=MergeXHRSettings(globalXHRSettings,file.xhrSettings);var xhr=new XMLHttpRequest();xhr.open('GET',file.src,config.async,config.user,config.password);xhr.responseType=file.xhrSettings.responseType;xhr.timeout=config.timeout;if(config.header&&config.headerValue){xhr.setRequestHeader(config.header,config.headerValue);}if(config.overrideMimeType){xhr.overrideMimeType(config.overrideMimeType);}// After a successful request, the xhr.response property will contain the requested data as a DOMString, ArrayBuffer, Blob, or Document (depending on what was set for responseType.)\nxhr.onload=file.onLoad.bind(file);xhr.onerror=file.onError.bind(file);xhr.onprogress=file.onProgress.bind(file);//  This is the only standard method, the ones above are browser additions (maybe not universal?)\n// xhr.onreadystatechange\nxhr.send();return xhr;};module.exports=XHRLoader;/***/},/* 657 *//***/function(module,exports,__webpack_require__){var ImageFile=__webpack_require__(47);var JSONFile=__webpack_require__(88);var AtlasJSONFile=function AtlasJSONFile(key,textureURL,atlasURL,path,textureXhrSettings,atlasXhrSettings){var image=new ImageFile(key,textureURL,path,textureXhrSettings);var data=new JSONFile(key,atlasURL,path,atlasXhrSettings);//  Link them together\nimage.linkFile=data;data.linkFile=image;//  Set the type\nimage.linkType='atlasjson';data.linkType='atlasjson';return{texture:image,data:data};};module.exports=AtlasJSONFile;/***/},/* 658 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.BinaryFile\nvar BinaryFile=new Class({Extends:File,initialize:function BinaryFile(key,url,path,xhrSettings){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'binary',extension:GetFastValue(key,'extension','bin'),responseType:'arraybuffer',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=this.xhrLoader.response;this.onComplete();callback(this);}});BinaryFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new BinaryFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new BinaryFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=BinaryFile;/***/},/* 659 *//***/function(module,exports,__webpack_require__){var ImageFile=__webpack_require__(47);var XMLFile=__webpack_require__(182);var BitmapFontFile=function BitmapFontFile(key,textureURL,xmlURL,path,textureXhrSettings,xmlXhrSettings){var image=new ImageFile(key,textureURL,path,textureXhrSettings);var data=new XMLFile(key,xmlURL,path,xmlXhrSettings);//  Link them together\nimage.linkFile=data;data.linkFile=image;//  Set the type\nimage.linkType='bitmapfont';data.linkType='bitmapfont';return{texture:image,data:data};};module.exports=BitmapFontFile;/***/},/* 660 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.GLSLFile\nvar GLSLFile=new Class({Extends:File,initialize:function GLSLFile(key,url,path,xhrSettings){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'glsl',extension:GetFastValue(key,'extension','glsl'),responseType:'text',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onComplete();callback(this);}});GLSLFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new GLSLFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new GLSLFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=GLSLFile;/***/},/* 661 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.HTMLFile\nvar HTMLFile=new Class({Extends:File,initialize:function HTMLFile(key,url,width,height,path,xhrSettings){if(width===undefined){width=512;}if(height===undefined){height=512;}var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'html',extension:GetFastValue(key,'extension','html'),responseType:'text',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings),config:{width:width,height:height}};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;var w=this.config.width;var h=this.config.height;var data=[];data.push('<svg width=\"'+w+'px\" height=\"'+h+'px\" viewBox=\"0 0 '+w+' '+h+'\" xmlns=\"http://www.w3.org/2000/svg\">');data.push('<foreignObject width=\"100%\" height=\"100%\">');data.push('<body xmlns=\"http://www.w3.org/1999/xhtml\">');data.push(this.xhrLoader.responseText);data.push('</body>');data.push('</foreignObject>');data.push('</svg>');var svg=[data.join('\\n')];var _this=this;try{var blob=new window.Blob(svg,{type:'image/svg+xml;charset=utf-8'});}catch(e){_this.state=CONST.FILE_ERRORED;callback(_this);return;}this.data=new Image();this.data.crossOrigin=this.crossOrigin;this.data.onload=function(){URL.revokeObjectURL(_this.data.src);_this.onComplete();callback(_this);};this.data.onerror=function(){URL.revokeObjectURL(_this.data.src);_this.state=CONST.FILE_ERRORED;callback(_this);};this.data.src=URL.createObjectURL(blob);}});HTMLFile.create=function(loader,key,url,width,height,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new HTMLFile(key[i],url,width,height,loader.path,xhrSettings));}}else{loader.addFile(new HTMLFile(key,url,width,height,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=HTMLFile;/***/},/* 662 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.ScriptFile\nvar ScriptFile=new Class({Extends:File,initialize:function ScriptFile(key,url,path,xhrSettings){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'script',extension:GetFastValue(key,'extension','js'),responseType:'text',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=document.createElement('script');this.data.language='javascript';this.data.type='text/javascript';this.data.defer=false;this.data.text=this.xhrLoader.responseText;document.head.appendChild(this.data);this.onComplete();callback(this);}});ScriptFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new ScriptFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new ScriptFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=ScriptFile;/***/},/* 663 *//***/function(module,exports,__webpack_require__){var ImageFile=__webpack_require__(47);//  config can include: frameWidth, frameHeight, startFrame, endFrame, margin, spacing\nvar SpriteSheet=function SpriteSheet(key,url,config,path,xhrSettings){var image=new ImageFile(key,url,path,xhrSettings,config);//  Override the File type\nimage.type='spritesheet';return image;};SpriteSheet.create=function(loader,key,url,config,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new SpriteSheet(key[i],url,null,loader.path,xhrSettings));}}else{loader.addFile(new SpriteSheet(key,url,config,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=SpriteSheet;/***/},/* 664 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);var GetFastValue=__webpack_require__(7);//  Phaser.Loader.FileTypes.SVGFile\nvar SVGFile=new Class({Extends:File,initialize:function SVGFile(key,url,path,xhrSettings){var fileKey=typeof key==='string'?key:GetFastValue(key,'key','');var fileConfig={type:'svg',extension:GetFastValue(key,'extension','svg'),responseType:'text',key:fileKey,url:GetFastValue(key,'file',url),path:path,xhrSettings:GetFastValue(key,'xhr',xhrSettings)};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;var svg=[this.xhrLoader.responseText];var _this=this;try{var blob=new window.Blob(svg,{type:'image/svg+xml;charset=utf-8'});}catch(e){_this.state=CONST.FILE_ERRORED;callback(_this);return;}this.data=new Image();this.data.crossOrigin=this.crossOrigin;var retry=false;this.data.onload=function(){URL.revokeObjectURL(_this.data.src);_this.onComplete();callback(_this);};this.data.onerror=function(){URL.revokeObjectURL(_this.data.src);//  Safari 8 re-try\nif(!retry){retry=true;var url='data:image/svg+xml,'+encodeURIComponent(svg.join(''));_this.data.src=URL.createObjectURL(url);}else{_this.state=CONST.FILE_ERRORED;callback(_this);}};this.data.src=URL.createObjectURL(blob);}});SVGFile.create=function(loader,key,url,xhrSettings){if(Array.isArray(key)){for(var i=0;i<key.length;i++){//  If it's an array it has to be an array of Objects, so we get everything out of the 'key' object\nloader.addFile(new SVGFile(key[i],url,loader.path,xhrSettings));}}else{loader.addFile(new SVGFile(key,url,loader.path,xhrSettings));}//  For method chaining\nreturn loader;};module.exports=SVGFile;/***/},/* 665 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(12);var File=__webpack_require__(23);//  Phaser.Loader.FileTypes.TextFile\nvar TextFile=new Class({Extends:File,initialize:function TextFile(key,url,path,xhrSettings){var fileConfig={type:'text',extension:'txt',responseType:'text',key:key,url:url,path:path,xhrSettings:xhrSettings};File.call(this,fileConfig);},onProcess:function onProcess(callback){this.state=CONST.FILE_PROCESSING;this.data=this.xhrLoader.responseText;this.onComplete();callback(this);}});module.exports=TextFile;/***/},/* 666 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var ObjectPool=__webpack_require__(89);var SpritePool=__webpack_require__(667);var PoolManager=new Class({initialize:function PoolManager(scene){this.scene=scene;this._active=[];this._pendingInsertion=[];this._pendingRemoval=[];this.processing=false;},add:function add(pool){if(this.processing){this._pendingInsertion.push(pool);}else{this._active.push(pool);}return this;},createSpritePool:function createSpritePool(maxSize,key,frame){var pool=new SpritePool(this,maxSize,key,frame);this.add(pool);return pool;},createObjectPool:function createObjectPool(classType,maxSize){if(maxSize===undefined){maxSize=-1;}var pool=new ObjectPool(this,classType,maxSize);this.add(pool);return pool;},begin:function begin(){var toRemove=this._pendingRemoval.length;var toInsert=this._pendingInsertion.length;if(toRemove===0&&toInsert===0){//  Quick bail\nreturn;}var i;var pool;//  Delete old pools\nfor(i=0;i<toRemove;i++){pool=this._pendingRemoval[i];var index=this._active.indexOf(pool);if(index>-1){this._active.splice(index,1);}pool.destroy();}//  Move pending to active\nthis._active=this._active.concat(this._pendingInsertion.splice(0));//  Clear the lists\nthis._pendingRemoval.length=0;this._pendingInsertion.length=0;},update:function update(time,delta){this.processing=true;for(var i=0;i<this._active.length;i++){var pool=this._active[i];pool.update.call(pool,time,delta);}this.processing=false;},//  Scene that owns this Pool is shutting down\nshutdown:function shutdown(){var i;for(i=0;i<this._pendingInsertion.length;i++){this._pendingInsertion[i].destroy();}for(i=0;i<this._active.length;i++){this._active[i].destroy();}for(i=0;i<this._pendingRemoval.length;i++){this._pendingRemoval[i].destroy();}this._active.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;},//  Game level nuke\ndestroy:function destroy(){this.shutdown();this.scene=undefined;}});module.exports=PoolManager;/***/},/* 667 *//***/function(module,exports,__webpack_require__){//  Phaser.GameObjects.SpritePool\nvar Class=__webpack_require__(0);var Sprite=__webpack_require__(45);var ObjectPool=__webpack_require__(89);//  An Object Pool\nvar SpritePool=new Class({Extends:ObjectPool,initialize:function SpritePool(manager,maxSize,quantity,key,frame){ObjectPool.call(this,manager,Sprite,maxSize,this.makeSprite,this);this.defaultKey=key;this.defaultFrame=frame;},makeSprite:function makeSprite(){var gameObject=new this.classType(this.scene,0,0,this.defaultKey,this.defaultFrame);this.displayList.add(gameObject);this.updateList.add(gameObject);gameObject.setActive(false);gameObject.setVisible(false);return gameObject;},get:function get(x,y){var gameObject=this.getFreeGameObject();gameObject.setPosition(x,y);return gameObject;}});module.exports=SpritePool;/***/},/* 668 *//***/function(module,exports,__webpack_require__){var CONST=__webpack_require__(669);var ScaleModes=__webpack_require__(26);var GetValue=__webpack_require__(2);var InjectionMap=__webpack_require__(670);var Settings={create:function create(config){if(typeof config==='string'){config={key:config};}else if(config===undefined){//  Pass the 'hasOwnProperty' checks\nconfig={};}return{status:CONST.PENDING,op:CONST.BOOT,key:GetValue(config,'key',''),active:GetValue(config,'active',false),visible:GetValue(config,'visible',true),//  Loader payload array\ndata:{},files:GetValue(config,'files',false),//  Cameras\ncameras:GetValue(config,'cameras',null),//  Scene Property Injection Map\nmap:GetValue(config,'map',InjectionMap),//  Scene Render Settings (applies only to this Scene)\nscaleMode:GetValue(config,'scaleMode',ScaleModes.DEFAULT),roundPixels:GetValue(config,'roundPixels',false),dirtyRender:GetValue(config,'dirtyRender',false),renderToTexture:GetValue(config,'renderToTexture',false),//  The following only apply if renderToTexture is true\nautoResize:GetValue(config,'autoResize',false)};}};module.exports=Settings;/***/},/* 669 *//***/function(module,exports){module.exports={PENDING:0,INSTALLED:1,BOOT:0,INIT:1,PRELOAD:2,CREATE:3,UPDATE:4,RENDER:5,SHUTDOWN:6};/***/},/* 670 *//***/function(module,exports){//  These properties get injected into the Scene and map to local systems\n//  The key is the local system reference, the value is the property that is added to the Scene\n//  These can be modified via the config object\nvar InjectionMap={game:'game',anims:'anims',cache:'cache',registry:'registry',textures:'textures',add:'add',cameras:'cameras',data:'data',displayList:'children',events:'events',inputManager:'input',load:'load',make:'make',pool:'pool',sceneManager:'scene',time:'time',tweens:'tweens'};module.exports=InjectionMap;/***/},/* 671 *//***/function(module,exports,__webpack_require__){//! stable.js 0.1.6, https://github.com/Two-Screen/stable\n//! © 2017 Angry Bytes and contributors. MIT licensed.\n(function(){// A stable array sort, because `Array#sort()` is not guaranteed stable.\n// This is an implementation of merge sort, without recursion.\nvar stable=function stable(arr,comp){return exec(arr.slice(),comp);};stable.inplace=function(arr,comp){var result=exec(arr,comp);// This simply copies back if the result isn't in the original array,\n// which happens on an odd number of passes.\nif(result!==arr){pass(result,null,arr.length,arr);}return arr;};// Execute the sort using the input array and a second buffer as work space.\n// Returns one of those two, containing the final result.\nfunction exec(arr,comp){if(typeof comp!=='function'){comp=function comp(a,b){return String(a).localeCompare(b);};}// Short-circuit when there's nothing to sort.\nvar len=arr.length;if(len<=1){return arr;}// Rather than dividing input, simply iterate chunks of 1, 2, 4, 8, etc.\n// Chunks are the size of the left or right hand in merge sort.\n// Stop when the left-hand covers all of the array.\nvar buffer=new Array(len);for(var chk=1;chk<len;chk*=2){pass(arr,comp,chk,buffer);var tmp=arr;arr=buffer;buffer=tmp;}return arr;}// Run a single pass with the given chunk size.\nvar pass=function pass(arr,comp,chk,result){var len=arr.length;var i=0;// Step size / double chunk size.\nvar dbl=chk*2;// Bounds of the left and right chunks.\nvar l,r,e;// Iterators over the left and right chunk.\nvar li,ri;// Iterate over pairs of chunks.\nfor(l=0;l<len;l+=dbl){r=l+chk;e=r+chk;if(r>len)r=len;if(e>len)e=len;// Iterate both chunks in parallel.\nli=l;ri=r;while(true){// Compare the chunks.\nif(li<r&&ri<e){// This works for a regular `sort()` compatible comparator,\n// but also for a simple comparator like: `a > b`\nif(comp(arr[li],arr[ri])<=0){result[i++]=arr[li++];}else{result[i++]=arr[ri++];}}// Nothing to compare, just flush what's left.\nelse if(li<r){result[i++]=arr[li++];}else if(ri<e){result[i++]=arr[ri++];}// Both iterators are at the chunk ends.\nelse{break;}}}};// Export using CommonJS or to the window.\nif(true){module.exports=stable;}else{window.stable=stable;}})();/***/},/* 672 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);//  A proxy class to the Global Scene Manager\nvar SceneManager=new Class({initialize:function SceneManager(scene,game){//  The Scene that owns this plugin\nthis.scene=scene;this.settings=scene.sys.settings;this.key=scene.sys.settings.key;//  GlobalSceneManager\nthis.manager=game.scene;//  Private\nthis._queue=[];},update:function update(){var len=this._queue.length;if(len===0){return;}var manager=this.manager;//  Process the queue\nfor(var i=0;i<len;i++){var action=this._queue[i];switch(action.type){case'add':manager.add(action.key,action.data,action.autoStart);break;case'start':manager.stop(this.key);manager.start(action.key,action.data);break;case'launch':manager.start(action.key,action.data);break;case'pause':manager.pause(action.key);break;case'resume':manager.resume(action.key);break;case'stop':manager.stop(action.key);break;case'swap':manager.swap(this.key,action.key);break;case'moveUp':manager.moveUp(this.key);break;case'moveDown':manager.moveDown(this.key);break;case'bringToTop':manager.bringToTop(this.key);break;case'sendToBack':manager.sendToBack(this.key);break;case'swapPosition':manager.swapPosition(this.key,action.key);break;case'sleep':manager.sleep(action.key);break;case'wake':manager.wake(action.key);break;}}this._queue.length=0;},//  Shutdown this Scene and run the given one\nstart:function start(key,data){if(key===undefined){key=this.key;}this._queue.push({type:'start',key:key,data:data});return this;},//  Add the Scene into the Scene Manager and start it if 'autoStart' is true or the Scene config 'active' property is set\nadd:function add(key,sceneConfig,autoStart){this._queue.push({type:'add',key:key,data:sceneConfig,autoStart:autoStart});return this;},//  Launch the given Scene and run it in parallel with this one\nlaunch:function launch(key,data){if(key===undefined){key=this.key;}this._queue.push({type:'launch',key:key,data:data});return this;},//  Pause the Scene - this stops the update step from happening but it still renders\npause:function pause(key){if(key===undefined){key=this.key;}this._queue.push({type:'pause',key:key});return this;},//  Resume the Scene - starts the update loop again\nresume:function resume(key){if(key===undefined){key=this.key;}this._queue.push({type:'resume',key:key});return this;},//  Makes the Scene sleep (no update, no render) but doesn't shutdown\nsleep:function sleep(key){this._queue.push({type:'sleep',key:key});return this;},//  Makes the Scene wake-up (starts update and render)\nwake:function wake(key){this._queue.push({type:'wake',key:key});return this;},//  Makes this Scene sleep then starts the Scene given\nswap:function swap(key){this._queue.push({type:'swap',key:key});return this;},//  Shutdown the Scene, clearing display list, timers, etc\nstop:function stop(key){if(key===undefined){key=this.key;}this._queue.push({type:'stop',key:key});return this;},setVisible:function setVisible(value){this.settings.visible=value;return this;},swapPosition:function swapPosition(key){this._queue.push({type:'swapPosition',key:key});},moveUp:function moveUp(){this._queue.push({type:'moveUp'});},moveDown:function moveDown(){this._queue.push({type:'moveDown'});},bringToTop:function bringToTop(){this._queue.push({type:'bringToTop'});},sendToBack:function sendToBack(){this._queue.push({type:'sendToBack'});},get:function get(key){return this.manager.getScene(key);},transitionTo:function transitionTo(key,duration){},isActive:function isActive(key){if(key===undefined){key=this.key;}return this.manager.isActive(key);}});module.exports=SceneManager;/***/},/* 673 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var EventDispatcher=__webpack_require__(25);var TweenBuilder=__webpack_require__(674);var TweenManager=new Class({initialize:function TweenManager(scene){//  The Scene the Tween Manager belongs to (tweens are Scene specific, not Game global)\nthis.scene=scene;this.events=new EventDispatcher();// should use Scene event dispatcher?\n//  TODO:\n//  Add _pool array and make the queue re-use objects within it.\n//  Add a pool max size.\nthis._add=[];this._pending=[];this._active=[];this._destroy=[];this._toProcess=0;},boot:function boot(){//  Scene is starting up\n},add:function add(config){var tween=TweenBuilder(this,config);this._add.push(tween);this._toProcess++;return tween;},timeline:function timeline(){// return new Timeline(this);\n},//  Add a 'to' GSAP equivalent?\nexists:function exists(tween){},get:function get(target){},begin:function begin(){if(this._toProcess===0){//  Quick bail\nreturn;}var list=this._destroy;var active=this._active;var i;var tween;//  Clear the 'destroy' list\nfor(i=0;i<list.length;i++){tween=list[i];//  Remove from the 'active' array\nvar idx=active.indexOf(tween);if(idx!==-1){active.splice(idx,1);}}list.length=0;//  Process the addition list\n//  This stops callbacks and out of sync events from populating the active array mid-way during the update\nlist=this._add;for(i=0;i<list.length;i++){tween=list[i];//  Return true if the Tween should be started right away, otherwise false\nif(tween.init()){tween.play();this._active.push(tween);}else{this._pending.push(tween);}}list.length=0;this._toProcess=0;},update:function update(timestamp,delta){//  Process active tweens\nvar list=this._active;var tween;for(var i=0;i<list.length;i++){tween=list[i];//  If Tween.update returns 'true' then it means it has completed,\n//  so move it to the destroy list\nif(tween.update(timestamp,delta)){this._destroy.push(tween);this._toProcess++;}}},makeActive:function makeActive(tween){var idx=this._pending.indexOf(tween);if(idx!==-1){this._pending.splice(idx,1);}this._add.push(tween);this._toProcess++;},globalTimeScale:function globalTimeScale(){},getAllTweens:function getAllTweens(){},getTweensOf:function getTweensOf(target){},isTweening:function isTweening(target){},kill:function kill(vars,target){},killAll:function killAll(){},killTweensOf:function killTweensOf(target){},pauseAll:function pauseAll(){},resumeAll:function resumeAll(){},delayedCall:function delayedCall(){},/**\n    * Passes all Tweens to the given callback.\n    *\n    * @method each\n    * @param {function} callback - The function to call.\n    * @param {object} [thisArg] - Value to use as `this` when executing callback.\n    * @param {...*} [arguments] - Additional arguments that will be passed to the callback, after the child.\n    */each:function each(callback,thisArg){var args=[null];for(var i=1;i<arguments.length;i++){args.push(arguments[i]);}for(var texture in this.list){args[0]=this.list[texture];callback.apply(thisArg,args);}},//  Scene that owns this manager is shutting down\nshutdown:function shutdown(){},//  Game level nuke\ndestroy:function destroy(){}});module.exports=TweenManager;/***/},/* 674 *//***/function(module,exports,__webpack_require__){var GetAdvancedValue=__webpack_require__(5);var GetEaseFunction=__webpack_require__(675);var GetValue=__webpack_require__(2);var RESERVED=__webpack_require__(677);var Tween=__webpack_require__(678);var TweenData=__webpack_require__(691);var GetTargets=function GetTargets(config){var targets=GetValue(config,'targets',null);if(typeof targets==='function'){targets=targets.call();}if(!Array.isArray(targets)){targets=[targets];}return targets;};var GetProps=function GetProps(config){var key;var keys=[];//  First see if we have a props object\nif(config.hasOwnProperty('props')){for(key in config.props){keys.push({key:key,value:config.props[key]});}}else{for(key in config){if(RESERVED.indexOf(key)===-1){keys.push({key:key,value:config[key]});}}}return keys;};var GetValueOp=function GetValueOp(key,value){var valueCallback;var t=typeof value==='undefined'?'undefined':_typeof(value);if(t==='number'){// props: {\n//     x: 400,\n//     y: 300\n// }\nvalueCallback=function valueCallback(){return value;};}else if(t==='string'){// props: {\n//     x: '+=400',\n//     y: '-=300',\n//     z: '*=2',\n//     w: '/=2'\n// }\nvar op=value[0];var num=parseFloat(value.substr(2));switch(op){case'+':valueCallback=function valueCallback(i){return i+num;};break;case'-':valueCallback=function valueCallback(i){return i-num;};break;case'*':valueCallback=function valueCallback(i){return i*num;};break;case'/':valueCallback=function valueCallback(i){return i/num;};break;default:valueCallback=function valueCallback(){return parseFloat(value);};}}else if(t==='function'){// props: {\n//     x: function (startValue, target, index, totalTargets) { return startValue + (index * 50); },\n// }\nvalueCallback=function valueCallback(startValue,target,index,total){return value(startValue,target,index,total);};}else if(value.hasOwnProperty('value')){//  Value may still be a string, function or a number\n// props: {\n//     x: { value: 400, ... },\n//     y: { value: 300, ... }\n// }\nvalueCallback=GetValueOp(key,value.value);}return valueCallback;};var GetBoolean=function GetBoolean(source,key,defaultValue){if(!source){return defaultValue;}else if(source.hasOwnProperty(key)){return source[key];}else{return defaultValue;}};var GetNewValue=function GetNewValue(source,key,defaultValue){var valueCallback;if(source.hasOwnProperty(key)){var t=_typeof(source[key]);if(t==='function'){valueCallback=function valueCallback(index,totalTargets,target){return source[key](index,totalTargets,target);};}else{valueCallback=function valueCallback(){return source[key];};}}else if(typeof defaultValue==='function'){valueCallback=defaultValue;}else{valueCallback=function valueCallback(){return defaultValue;};}return valueCallback;};var TweenBuilder=function TweenBuilder(manager,config){//  Create arrays of the Targets and the Properties\nvar targets=GetTargets(config);var props=GetProps(config);//  Default Tween values\nvar easeParams=GetValue(config,'easeParams',null);var ease=GetEaseFunction(GetValue(config,'ease','Power0'),easeParams);var duration=GetNewValue(config,'duration',1000);var yoyo=GetBoolean(config,'yoyo',false);var hold=GetNewValue(config,'hold',0);var repeat=GetNewValue(config,'repeat',0);var repeatDelay=GetNewValue(config,'repeatDelay',0);var delay=GetNewValue(config,'delay',0);var startAt=GetNewValue(config,'startAt',null);var data=[];//  Loop through every property defined in the Tween, i.e.: props { x, y, alpha }\nfor(var p=0;p<props.length;p++){var key=props[p].key;var value=props[p].value;// console.log(key, value);\nfor(var t=0;t<targets.length;t++){//  Swap for faster getters, if they want Advanced Value style things, they can do it via their own functions\nvar tweenData=TweenData(targets[t],key,GetValueOp(key,value),GetEaseFunction(GetValue(value,'ease',ease),easeParams),GetNewValue(value,'delay',delay),GetNewValue(value,'duration',duration),GetBoolean(value,'yoyo',yoyo),GetNewValue(value,'hold',hold),GetNewValue(value,'repeat',repeat),GetNewValue(value,'repeatDelay',repeatDelay),GetNewValue(value,'startAt',startAt));//  TODO: Calculate total duration\ndata.push(tweenData);}}var tween=new Tween(manager,data);tween.totalTargets=targets.length;tween.useFrames=GetBoolean(config,'useFrames',false);tween.loop=GetBoolean(config,'loop',0);tween.loopDelay=GetAdvancedValue(config,'loopDelay',0);tween.completeDelay=GetAdvancedValue(config,'completeDelay',0);tween.paused=GetBoolean(config,'paused',false);return tween;};module.exports=TweenBuilder;/***/},/* 675 *//***/function(module,exports,__webpack_require__){var EaseMap=__webpack_require__(676);var GetEaseFunction=function GetEaseFunction(ease,easeParams){if(typeof ease==='string'&&EaseMap.hasOwnProperty(ease)){if(easeParams){var cloneParams=easeParams.slice(0);cloneParams.unshift(0);return function(v){cloneParams[0]=v;return EaseMap[ease].apply(this,cloneParams);};}else{//  String based look-up\nreturn EaseMap[ease];}}else if(typeof ease==='function'){//  Custom function\nreturn ease;}else if(Array.isArray(ease)&&ease.length===4){//  Bezier function (TODO)\n}return EaseMap.Power0;};module.exports=GetEaseFunction;/***/},/* 676 *//***/function(module,exports,__webpack_require__){var Back=__webpack_require__(131);var Bounce=__webpack_require__(132);var Circular=__webpack_require__(133);var Cubic=__webpack_require__(134);var Elastic=__webpack_require__(135);var Expo=__webpack_require__(136);var Linear=__webpack_require__(137);var Quadratic=__webpack_require__(138);var Quartic=__webpack_require__(139);var Quintic=__webpack_require__(140);var Sine=__webpack_require__(141);//  EaseMap\nmodule.exports={Power0:Linear,Power1:Quadratic.Out,Power2:Cubic.Out,Power3:Quartic.Out,Power4:Quintic.Out,Linear:Linear,Quad:Quadratic.Out,Cubic:Cubic.Out,Quart:Quartic.Out,Quint:Quintic.Out,Sine:Sine.Out,Expo:Expo.Out,Circ:Circular.Out,Elastic:Elastic.Out,Back:Back.Out,Bounce:Bounce.Out,'Quad.easeIn':Quadratic.In,'Cubic.easeIn':Cubic.In,'Quart.easeIn':Quartic.In,'Quint.easeIn':Quintic.In,'Sine.easeIn':Sine.In,'Expo.easeIn':Expo.In,'Circ.easeIn':Circular.In,'Elastic.easeIn':Elastic.In,'Back.easeIn':Back.In,'Bounce.easeIn':Bounce.In,'Quad.easeOut':Quadratic.Out,'Cubic.easeOut':Cubic.Out,'Quart.easeOut':Quartic.Out,'Quint.easeOut':Quintic.Out,'Sine.easeOut':Sine.Out,'Expo.easeOut':Expo.Out,'Circ.easeOut':Circular.Out,'Elastic.easeOut':Elastic.Out,'Back.easeOut':Back.Out,'Bounce.easeOut':Bounce.Out,'Quad.easeInOut':Quadratic.InOut,'Cubic.easeInOut':Cubic.InOut,'Quart.easeInOut':Quartic.InOut,'Quint.easeInOut':Quintic.InOut,'Sine.easeInOut':Sine.InOut,'Expo.easeInOut':Expo.InOut,'Circ.easeInOut':Circular.InOut,'Elastic.easeInOut':Elastic.InOut,'Back.easeInOut':Back.InOut,'Bounce.easeInOut':Bounce.InOut};/***/},/* 677 *//***/function(module,exports){//  RESERVED properties that a Tween config object uses\nmodule.exports=['completeDelay','delay','duration','ease','easeParams','hold','loop','loopDelay','offset','paused','props','repeat','repeatDelay','startAt','targets','useFrames','yoyo'];/***/},/* 678 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var TWEEN_CONST=__webpack_require__(24);var Tween=new Class({initialize:function Tween(manager,data){this.manager=manager;//  An array of TweenData objects, each containing a unique property and target being tweened.\nthis.data=data;//  data array doesn't change, so we can cache the length\nthis.totalData=data.length;//  Cached target total (not necessarily the same as the data total)\nthis.totalTargets=0;//  If true then duration, delay, etc values are all frame totals\nthis.useFrames=false;//  Loop this tween? Can be -1 for an infinite loop, or an integer.\n//  When enabled it will play through ALL TweenDatas again (use TweenData.repeat to loop a single TD)\nthis.loop=0;//  Time in ms/frames before the tween loops.\nthis.loopDelay=0;//  How many loops are left to run?\nthis.loopCounter=0;//  Time in ms/frames before the 'onComplete' event fires. This never fires if loop = true (as it never completes)\nthis.completeDelay=0;//  Countdown timer (used by loopDelay and completeDelay)\nthis.countdown=0;//  The current state of the tween\nthis.state=TWEEN_CONST.PENDING_ADD;//  The state of the tween when it was paused (used by Resume)\nthis._pausedState=TWEEN_CONST.PENDING_ADD;//  Does the Tween start off paused? (if so it needs to be started with Tween.play)\nthis.paused=false;//  Elapsed time in ms/frames of this run through the Tween.\nthis.elapsed=0;//  Total elapsed time in ms/frames of the entire Tween, including looping.\nthis.totalElapsed=0;//  Time in ms/frames for the whole Tween to play through once, excluding loop amounts and loop delays\nthis.duration=0;//  Value between 0 and 1. The amount through the Tween, excluding loops.\nthis.progress=0;//  Time in ms/frames for the Tween to complete (including looping)\nthis.totalDuration=0;//  Value between 0 and 1. The amount through the entire Tween, including looping.\nthis.totalProgress=0;this.callbacks={onStart:{callback:null,scope:null,params:null},onUpdate:{callback:null,scope:null,params:null},onRepeat:{callback:null,scope:null,params:null},onLoop:{callback:null,scope:null,params:null},onComplete:{callback:null,scope:null,params:null}};this.callbackScope;},calcDuration:__webpack_require__(679),init:__webpack_require__(680),loadValues:__webpack_require__(681),nextState:__webpack_require__(682),pause:__webpack_require__(683),play:__webpack_require__(684),resetTweenData:__webpack_require__(685),resume:__webpack_require__(686),seek:__webpack_require__(687),setEventCallback:__webpack_require__(688),update:__webpack_require__(689)});module.exports=Tween;/***/},/* 679 *//***/function(module,exports){var CalcDuration=function CalcDuration(){var max=0;var data=this.data;for(var i=0;i<this.totalData;i++){var tweenData=data[i];//  Set t1 (duration + hold + yoyo)\ntweenData.t1=tweenData.duration+tweenData.hold;if(tweenData.yoyo){tweenData.t1+=tweenData.duration;}//  Set t2 (repeatDelay + duration + hold + yoyo)\ntweenData.t2=tweenData.t1+tweenData.repeatDelay;//  Total Duration\ntweenData.totalDuration=tweenData.delay+tweenData.t1;tweenData.totalDuration+=tweenData.t2*(tweenData.repeat===-1)?999999999999:tweenData.repeat;if(tweenData.totalDuration>max){max=tweenData.totalDuration;}}//  Excludes loop values\nthis.duration=max;this.loopCounter=this.loop===-1?999999999999:this.loop;if(this.loopCounter>0){this.totalDuration=this.duration+this.completeDelay+(this.duration+this.loopDelay)*this.loopCounter;}else{this.totalDuration=this.duration+this.completeDelay;}};module.exports=CalcDuration;/***/},/* 680 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);//  Return true if this Tween should be moved from the pending list to the active list\nvar Init=function Init(){var data=this.data;var totalTargets=this.totalTargets;for(var i=0;i<this.totalData;i++){var tweenData=data[i];var target=tweenData.target;var gen=tweenData.gen;tweenData.delay=gen.delay(i,totalTargets,target);tweenData.duration=gen.duration(i,totalTargets,target);tweenData.hold=gen.hold(i,totalTargets,target);tweenData.repeat=gen.repeat(i,totalTargets,target);tweenData.repeatDelay=gen.repeatDelay(i,totalTargets,target);}this.calcDuration();this.progress=0;this.totalProgress=0;// console.log('Tween duration', this.duration, 'totalDuration', this.totalDuration);\nif(this.paused){this.state=TWEEN_CONST.PAUSED;return false;}else{return true;}};module.exports=Init;/***/},/* 681 *//***/function(module,exports){//  Calculate the start and end values and store them into the TweenTarget objects\nvar LoadValues=function LoadValues(tweenData){var targets=this.targets;var prop=tweenData.key;// console.log('--\x3e LoadValues', prop);\n//  Targets array:\n//  0:\n//      ref: GameObject,\n//      keys: {\n//          x: {\n//              start,\n//              current,\n//              end,\n//              startCache,\n//              endCache\n//          },\n//          y: {\n//              start,\n//              current,\n//              end,\n//              startCache,\n//              endCache\n//          }\n//      }\nfor(var i=0;i<this.totalTargets;i++){var keys=targets[i].keys;var entry=keys[prop];var gameObject=targets[i].ref;if(entry.startCache===null){entry.start=gameObject[prop];entry.current=entry.start;entry.end=tweenData.value(entry.start);//  Cache the start and end values so we only do this once (needed?)\nentry.startCache=entry.start;entry.endCache=entry.end;}else{entry.start=entry.startCache;entry.current=entry.start;entry.end=entry.endCache;gameObject[prop]=entry.start;}// console.log('target', gameObject.name, 'key', prop, 'start', entry.start, 'end', entry.end);\n}};module.exports=LoadValues;/***/},/* 682 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var NextState=function NextState(){if(this.loopCounter>0){this.resetTweenData(true);this.elapsed=0;this.progress=0;this.loopCounter--;if(this.loopDelay>0){this.countdown=this.loopDelay;this.state=TWEEN_CONST.LOOP_DELAY;}else{this.state=TWEEN_CONST.ACTIVE;}}else if(this.completeDelay>0){this.countdown=this.completeDelay;this.state=TWEEN_CONST.COMPLETE_DELAY;}else{this.state=TWEEN_CONST.PENDING_REMOVE;}};module.exports=NextState;/***/},/* 683 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var Pause=function Pause(){if(this.state===TWEEN_CONST.PAUSED){return;}this.paused=true;this._pausedState=this.state;this.state=TWEEN_CONST.PAUSED;return this;};module.exports=Pause;/***/},/* 684 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var Play=function Play(){if(this.state===TWEEN_CONST.ACTIVE){return;}if(this.paused){this.paused=false;this.manager.makeActive(this);}else{//  Reset the TweenData\nthis.resetTweenData();this.state=TWEEN_CONST.ACTIVE;}};module.exports=Play;/***/},/* 685 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var ResetTweenData=function ResetTweenData(resetFromLoop){var data=this.data;for(var i=0;i<this.totalData;i++){var tweenData=data[i];tweenData.progress=0;tweenData.elapsed=0;tweenData.repeatCounter=tweenData.repeat===-1?999999999999:tweenData.repeat;if(resetFromLoop){tweenData.start=tweenData.startCache;tweenData.current=tweenData.start;tweenData.end=tweenData.endCache;tweenData.state=TWEEN_CONST.PLAYING_FORWARD;}else if(tweenData.delay>0){tweenData.elapsed=tweenData.delay;tweenData.state=TWEEN_CONST.DELAY;}else{tweenData.state=TWEEN_CONST.PENDING_RENDER;}}};module.exports=ResetTweenData;/***/},/* 686 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var Pause=function Pause(){if(this.state===TWEEN_CONST.PAUSED){this.paused=false;this.state=this._pausedState;}return this;};module.exports=Pause;/***/},/* 687 *//***/function(module,exports){// var TWEEN_CONST = require('../const');\n//  For now progress = 0 to 1\nvar Seek=function Seek(toPosition){var data=this.data;for(var i=0;i<this.totalData;i++){//  This won't work with loop > 0 yet\nvar ms=this.totalDuration*toPosition;var tweenData=data[i];var progress=0;var elapsed=0;if(ms<=tweenData.delay){progress=0;elapsed=0;}else if(ms>=tweenData.totalDuration){progress=1;elapsed=tweenData.duration;}else if(ms>tweenData.delay&&ms<=tweenData.t1){//  Keep it zero bound\nms=Math.max(0,ms-tweenData.delay);//  Somewhere in the first playthru range\nprogress=ms/tweenData.t1;elapsed=tweenData.duration*progress;}else if(ms>tweenData.t1&&ms<tweenData.totalDuration){//  Somewhere in repeat land\nms-=tweenData.delay;ms-=tweenData.t1;var repeats=Math.floor(ms/tweenData.t2);//  remainder\nms=ms/tweenData.t2%1*tweenData.t2;if(ms>tweenData.repeatDelay){progress=ms/tweenData.t1;elapsed=tweenData.duration*progress;}}tweenData.progress=progress;tweenData.elapsed=elapsed;var v=tweenData.ease(tweenData.progress);tweenData.current=tweenData.start+(tweenData.end-tweenData.start)*v;// console.log(tweenData.key, 'Seek', tweenData.target[tweenData.key], 'to', tweenData.current, 'pro', tweenData.progress, 'marker', marker, progress);\ntweenData.target[tweenData.key]=tweenData.current;}};module.exports=Seek;/***/},/* 688 *//***/function(module,exports){var SetEventCallback=function SetEventCallback(type,callback,params,scope){var types=['onStart','onUpdate','onRepeat','onLoop','onComplete'];if(types.indexOf(type)!==-1){this.callbacks[type]={callback:callback,scope:scope,params:params};}return this;};module.exports=SetEventCallback;/***/},/* 689 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var UpdateTweenData=__webpack_require__(690);var Update=function Update(timestamp,delta){if(this.useFrames){delta=1;}this.elapsed+=delta;this.progress=Math.min(this.elapsed/this.duration,1);this.totalElapsed+=delta;this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1);switch(this.state){case TWEEN_CONST.ACTIVE:var stillRunning=false;for(var i=0;i<this.totalData;i++){if(UpdateTweenData(this,this.data[i],delta)){stillRunning=true;}}//  Anything still running? If not, we're done\nif(!stillRunning){this.nextState();}break;case TWEEN_CONST.LOOP_DELAY:this.countdown-=delta;if(this.countdown<=0){this.state=TWEEN_CONST.ACTIVE;}break;case TWEEN_CONST.COMPLETE_DELAY:this.countdown-=delta;if(this.countdown<=0){this.state=TWEEN_CONST.PENDING_REMOVE;}break;}return this.state===TWEEN_CONST.PENDING_REMOVE;};module.exports=Update;/***/},/* 690 *//***/function(module,exports,__webpack_require__){var TWEEN_CONST=__webpack_require__(24);var SetStateFromEnd=function SetStateFromEnd(tween,tweenData){if(tweenData.yoyo){//  Playing forward and we have a yoyo\ntweenData.progress=0;tweenData.elapsed=0;return TWEEN_CONST.PLAYING_BACKWARD;}else if(tweenData.repeatCounter>0){tweenData.repeatCounter--;tweenData.elapsed=0;tweenData.progress=0;//  Delay?\nif(tweenData.repeatDelay>0){tweenData.elapsed=tweenData.repeatDelay;tweenData.current=tweenData.start;tweenData.target[tweenData.key]=tweenData.current;return TWEEN_CONST.REPEAT_DELAY;}else{return TWEEN_CONST.PLAYING_FORWARD;}}return TWEEN_CONST.COMPLETE;};//  Was PLAYING_BACKWARD and has hit the start\nvar SetStateFromStart=function SetStateFromStart(tween,tweenData){if(tweenData.repeatCounter>0){tweenData.repeatCounter--;tweenData.elapsed=0;tweenData.progress=0;//  Delay?\nif(tweenData.repeatDelay>0){tweenData.elapsed=tweenData.repeatDelay;tweenData.current=tweenData.start;tweenData.target[tweenData.key]=tweenData.current;return TWEEN_CONST.REPEAT_DELAY;}else{return TWEEN_CONST.PLAYING_FORWARD;}}return TWEEN_CONST.COMPLETE;};//  Delta is either a value in ms, or 1 if Tween.useFrames is true\nvar UpdateTweenData=function UpdateTweenData(tween,tweenData,delta){switch(tweenData.state){case TWEEN_CONST.PLAYING_FORWARD:case TWEEN_CONST.PLAYING_BACKWARD:var elapsed=tweenData.elapsed;var duration=tweenData.duration;elapsed+=delta;if(elapsed>duration){elapsed=duration;}var forward=tweenData.state===TWEEN_CONST.PLAYING_FORWARD;var progress=elapsed/duration;var v;if(forward){v=tweenData.ease(progress);}else{v=tweenData.ease(1-progress);}tweenData.current=tweenData.start+(tweenData.end-tweenData.start)*v;tweenData.target[tweenData.key]=tweenData.current;tweenData.elapsed=elapsed;tweenData.progress=progress;if(progress===1){if(forward){if(tweenData.hold>0){tweenData.elapsed=tweenData.hold;tweenData.state=TWEEN_CONST.HOLD_DELAY;}else{tweenData.state=SetStateFromEnd(tween,tweenData);}}else{tweenData.state=SetStateFromStart(tween,tweenData);}}break;case TWEEN_CONST.DELAY:tweenData.elapsed-=delta;if(tweenData.elapsed<=0){//  TODO - Move elapsed block below switch statement so that calls to render and play happen this frame, not the next one?\ntweenData.elapsed=Math.abs(tweenData.elapsed);tweenData.state=TWEEN_CONST.PENDING_RENDER;}break;case TWEEN_CONST.REPEAT_DELAY:tweenData.elapsed-=delta;if(tweenData.elapsed<=0){tweenData.elapsed=Math.abs(tweenData.elapsed);tweenData.state=TWEEN_CONST.PLAYING_FORWARD;}break;case TWEEN_CONST.HOLD_DELAY:tweenData.elapsed-=delta;if(tweenData.elapsed<=0){tweenData.state=SetStateFromEnd(tween,tweenData);}break;case TWEEN_CONST.PENDING_RENDER:tweenData.start=tweenData.target[tweenData.key];tweenData.current=tweenData.start;tweenData.end=tweenData.value(tweenData.start);tweenData.startCache=tweenData.start;tweenData.endCache=tweenData.end;tweenData.target[tweenData.key]=tweenData.current;tweenData.state=TWEEN_CONST.PLAYING_FORWARD;break;}//  Return TRUE if this TweenData still playing, otherwise return FALSE\nreturn tweenData.state!==TWEEN_CONST.COMPLETE;};module.exports=UpdateTweenData;/***/},/* 691 *//***/function(module,exports){var TweenData=function TweenData(target,key,value,ease,delay,duration,yoyo,hold,repeat,repeatDelay,startAt){return{//  The target to tween\ntarget:target,//  The property of the target to tween\nkey:key,//  A function to call when starting the tween, populates the 'start' and 'end' values\nvalue:value,//  The ease function this tween uses.\nease:ease,//  Duration of the tween in ms/frames, excludes time for yoyo or repeats.\nduration:0,//  The total calculated duration of this TweenData (based on duration, repeat, delay and yoyo)\ntotalDuration:0,//  Time in ms/frames before tween will start.\ndelay:0,//  Cause the tween to return back to its start value after hold has expired.\nyoyo:yoyo,//  Time in ms/frames the tween will pause before running the yoyo or starting a repeat.\nhold:0,//  Number of times to repeat the tween. The tween will always run once regardless, so a repeat value of '1' will play the tween twice.\nrepeat:0,//  Time in ms/frames before the repeat will start.\nrepeatDelay:0,//  Changes the property to be this value before starting the tween.\nstartAt:startAt,//  Between 0 and 1 showing completion of this TweenData.\nprogress:0,//  Delta counter.\nelapsed:0,//  How many repeats are left to run?\nrepeatCounter:0,//  Ease Value Data:\nstart:0,current:0,end:0,startCache:0,endCache:0,//  Time Durations\nt1:0,t2:0,//  LoadValue generation functions\ngen:{delay:delay,duration:duration,hold:hold,repeat:repeat,repeatDelay:repeatDelay},//  TWEEN_CONST.CREATED\nstate:0};};module.exports=TweenData;/***/},/* 692 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var UpdateList=new Class({initialize:function UpdateList(scene){this.scene=scene;this._list=[];this._pendingInsertion=[];this._pendingRemoval=[];},add:function add(child){this._pendingInsertion.push(child);},begin:function begin(){var toRemove=this._pendingRemoval.length;var toInsert=this._pendingInsertion.length;if(toRemove===0&&toInsert===0){//  Quick bail\nreturn;}var i;var gameObject;//  Delete old gameObjects\nfor(i=0;i<toRemove;i++){gameObject=this._pendingRemoval[i];var index=this._list.indexOf(gameObject);if(index>-1){this._list.splice(index,1);}//  Pool them?\n// gameObject.destroy();\n}//  Move pending to active\nthis._list=this._list.concat(this._pendingInsertion.splice(0));//  Clear the lists\nthis._pendingRemoval.length=0;this._pendingInsertion.length=0;},update:function update(time,delta){for(var i=0;i<this._list.length;i++){var gameObject=this._list[i];if(gameObject.active){gameObject.preUpdate.call(gameObject,time,delta);}}},remove:function remove(child){var index=this._list.indexOf(child);if(index!==-1){this._list.splice(index,1);}return child;},removeAll:function removeAll(){var i=this._list.length;while(i--){this.remove(this._list[i]);}return this;},//  Scene that owns this Clock is shutting down\nshutdown:function shutdown(){this.removeAll();this._list.length=0;this._pendingRemoval.length=0;this._pendingInsertion.length=0;},//  Game level nuke\ndestroy:function destroy(){this.shutdown();this.scene=undefined;}});module.exports=UpdateList;/***/},/* 693 *//***/function(module,exports){/**\n* The Boot handler is called by Phaser.Game when it first starts up.\n* The renderer is available by now.\n*/var Boot=function Boot(){var i;var entry;for(i=0;i<this._pending.length;i++){entry=this._pending[i];this.add(entry.key,entry.scene,entry.autoStart);}for(i=0;i<this._start.length;i++){entry=this._start[i];this.start(entry);}//  Clear the pending lists\nthis._start=[];this._pending=[];};module.exports=Boot;/***/},/* 694 *//***/function(module,exports){var BootScene=function BootScene(scene){// console.log('bootScene', scene.sys.settings.key);\nif(scene.init){scene.init.call(scene,scene.sys.settings.data);}var loader=scene.sys.load;loader.reset();if(scene.preload){scene.preload(this.game);//  Is the loader empty?\nif(loader.list.size===0){this.create(scene);}else{//  Start the loader going as we have something in the queue\nloader.events.once('LOADER_COMPLETE_EVENT',this.loadComplete.bind(this));loader.start();}}else{//  No preload? Then there was nothing to load either\nthis.create(scene);}};module.exports=BootScene;/***/},/* 695 *//***/function(module,exports){//  If the arguments are strings they are assumed to be keys, otherwise they are Scene objects\n//  You can only swap the positions of Active (rendering / updating) Scenes. If a Scene is not active it cannot be moved.\nvar BringToTop=function BringToTop(scene){var index=typeof scene==='string'?this.getActiveSceneIndexByKey(scene):this.getActiveSceneIndex(scene);if(index<this.active.length){var i=0;var entry=this.active.splice(index,1);for(i=0;i<this.active.length;i++){this.active[i].index=i;}this.active.push({index:i,scene:entry[0].scene});}};module.exports=BringToTop;/***/},/* 696 *//***/function(module,exports,__webpack_require__){var SortScenes=__webpack_require__(57);var Create=function Create(scene){// console.log('create', scene.sys.settings.key);\n// console.log(scene);\n//  Insert at the correct index, or it just all goes wrong :)\nvar i=this.getSceneIndex(scene);// console.log('create.index', scene.sys.settings.key, i);\nthis.active.push({index:i,scene:scene});//  Sort the 'active' array based on the index property\nthis.active.sort(SortScenes);if(scene.create){scene.create.call(scene,scene.sys.settings.data);}};module.exports=Create;/***/},/* 697 *//***/function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(11);var CONST=__webpack_require__(4);var GetContext=__webpack_require__(159);var CanvasInterpolation=__webpack_require__(65);var CreateSceneDisplay=function CreateSceneDisplay(scene){// console.log('createSceneDisplay', scene.sys.settings.key);\nvar settings=scene.sys.settings;var width=settings.width;var height=settings.height;var config=this.game.config;if(config.renderType===CONST.CANVAS){if(settings.renderToTexture){// console.log('renderToTexture', width, height);\nscene.sys.canvas=CanvasPool.create(scene,width,height);scene.sys.context=GetContext(scene.sys.canvas);}else{// console.log('using game canvas');\n// scene.sys.mask = new Rectangle(0, 0, width, height);\nscene.sys.canvas=this.game.canvas;scene.sys.context=this.game.context;}//  Pixel Art mode?\nif(config.pixelArt){CanvasInterpolation.setCrisp(scene.sys.canvas);}}};module.exports=CreateSceneDisplay;/***/},/* 698 *//***/function(module,exports,__webpack_require__){var Scene=__webpack_require__(44);var Systems=__webpack_require__(170);var NOOP=__webpack_require__(28);var CreateSceneFromFunction=function CreateSceneFromFunction(key,scene){// console.log('createSceneFromFunction', key);\nvar newScene=new scene();if(newScene instanceof Scene){// console.log('instanceof Scene');\nvar configKey=newScene.sys.settings.key;if(configKey!==''){key=configKey;}if(this.keys.hasOwnProperty(key)){throw new Error('Cannot add a Scene with duplicate key: '+key);}return this.createSceneFromInstance(key,newScene);}else{newScene.sys=new Systems(newScene);newScene.sys.settings.key=key;newScene.sys.init(this.game);this.createSceneDisplay(newScene);//  Default required functions\nif(!newScene.init){newScene.init=NOOP;}if(!newScene.preload){newScene.preload=NOOP;}if(!newScene.create){newScene.create=NOOP;}if(!newScene.shutdown){newScene.shutdown=NOOP;}if(!newScene.update){newScene.update=NOOP;}if(!newScene.render){newScene.render=NOOP;}return newScene;}};module.exports=CreateSceneFromFunction;/***/},/* 699 *//***/function(module,exports){var CreateSceneFromInstance=function CreateSceneFromInstance(key,newScene){var configKey=newScene.sys.settings.key;if(configKey!==''){key=configKey;}else{newScene.sys.settings.key=key;}newScene.sys.init(this.game);this.createSceneDisplay(newScene);return newScene;};module.exports=CreateSceneFromInstance;/***/},/* 700 *//***/function(module,exports,__webpack_require__){var Scene=__webpack_require__(44);var CreateSceneFromObject=function CreateSceneFromObject(key,sceneConfig){var newScene=new Scene(sceneConfig);var configKey=newScene.sys.settings.key;if(configKey!==''){key=configKey;}else{newScene.sys.settings.key=key;}newScene.sys.init(this.game);this.createSceneDisplay(newScene);return this.setupCallbacks(newScene,sceneConfig);};module.exports=CreateSceneFromObject;/***/},/* 701 *//***/function(module,exports){var GetActiveScene=function GetActiveScene(key){var scene=this.getScene(key);for(var i=0;i<this.active.length;i++){if(this.active[i].scene===scene){return this.active[i];}}};module.exports=GetActiveScene;/***/},/* 702 *//***/function(module,exports){var GetActiveSceneIndex=function GetActiveSceneIndex(scene){for(var i=0;i<this.active.length;i++){if(this.active[i].scene===scene){return this.active[i].index;}}return-1;};module.exports=GetActiveSceneIndex;/***/},/* 703 *//***/function(module,exports){var GetActiveSceneIndexByKey=function GetActiveSceneIndexByKey(key){var scene=this.keys[key];for(var i=0;i<this.active.length;i++){if(this.active[i].scene===scene){return this.active[i].index;}}return-1;};module.exports=GetActiveSceneIndexByKey;/***/},/* 704 *//***/function(module,exports,__webpack_require__){var Scene=__webpack_require__(44);//  private\nvar GetKey=function GetKey(key,sceneConfig){if(!key){key='default';}if(typeof sceneConfig==='function'){return key;}else if(sceneConfig instanceof Scene){key=sceneConfig.sys.settings.key;}else if((typeof sceneConfig==='undefined'?'undefined':_typeof(sceneConfig))==='object'&&sceneConfig.hasOwnProperty('key')){key=sceneConfig.key;}//  By this point it's either 'default' or extracted from the Scene\nif(this.keys.hasOwnProperty(key)){throw new Error('Cannot add a Scene with duplicate key: '+key);}else{return key;}};module.exports=GetKey;/***/},/* 705 *//***/function(module,exports){var GetScene=function GetScene(key){return this.keys[key];};module.exports=GetScene;/***/},/* 706 *//***/function(module,exports){//  Get's the Active scene at the given position\nvar GetSceneAt=function GetSceneAt(index){if(this.active[index]){return this.active[index].scene;}};module.exports=GetSceneAt;/***/},/* 707 *//***/function(module,exports){var GetSceneIndex=function GetSceneIndex(scene){return this.scenes.indexOf(scene);};module.exports=GetSceneIndex;/***/},/* 708 *//***/function(module,exports){var GetSceneIndexByKey=function GetSceneIndexByKey(key){var scene=this.keys[key];return this.scenes.indexOf(scene);};module.exports=GetSceneIndexByKey;/***/},/* 709 *//***/function(module,exports){var IsActive=function IsActive(key){var scene=this.getActiveScene(key);return scene&&scene.sys.settings.active;};module.exports=IsActive;/***/},/* 710 *//***/function(module,exports){var IsSleeping=function IsSleeping(key){var entry=this.getActiveScene(key);if(entry){return!entry.scene.sys.settings.active&&!entry.scene.sys.settings.visible;}return false;};module.exports=IsSleeping;/***/},/* 711 *//***/function(module,exports){var LoadComplete=function LoadComplete(event){var scene=event.loader.scene;// console.log('loadComplete', scene.sys.settings.key);\nthis.create(scene);};module.exports=LoadComplete;/***/},/* 712 *//***/function(module,exports){//  If the arguments are strings they are assumed to be keys, otherwise they are Scene objects\n//  You can only swap the positions of Active (rendering / updating) Scenes. If a Scene is not active it cannot be moved.\nvar MoveDown=function MoveDown(scene){var index=typeof scene==='string'?this.getActiveSceneIndexByKey(scene):this.getActiveSceneIndex(scene);if(index>0){var sceneB=this.getSceneAt(index-1);if(sceneB){this.swapPosition(scene,sceneB);}}};module.exports=MoveDown;/***/},/* 713 *//***/function(module,exports){//  If the arguments are strings they are assumed to be keys, otherwise they are Scene objects\n//  You can only swap the positions of Active (rendering / updating) Scenes. If a Scene is not active it cannot be moved.\nvar MoveUp=function MoveUp(scene){var index=typeof scene==='string'?this.getActiveSceneIndexByKey(scene):this.getActiveSceneIndex(scene);if(index!==-1&&index<this.active.length-1){var sceneB=this.getSceneAt(index+1);if(sceneB){this.swapPosition(scene,sceneB);}}};module.exports=MoveUp;/***/},/* 714 *//***/function(module,exports){var Pause=function Pause(key){var entry=this.getActiveScene(key);if(entry){entry.scene.sys.pause();}};module.exports=Pause;/***/},/* 715 *//***/function(module,exports){var PayloadComplete=function PayloadComplete(event){var scene=event.loader.scene;// console.log('payloadComplete', scene.sys.settings.key);\nthis.bootScene(scene);};module.exports=PayloadComplete;/***/},/* 716 *//***/function(module,exports){var Resume=function Resume(key){var entry=this.getActiveScene(key);if(entry){entry.scene.sys.resume();}};module.exports=Resume;/***/},/* 717 *//***/function(module,exports){//  If the arguments are strings they are assumed to be keys, otherwise they are Scene objects\n//  You can only swap the positions of Active (rendering / updating) Scenes. If a Scene is not active it cannot be moved.\nvar SendToBack=function SendToBack(scene){var index=typeof scene==='string'?this.getActiveSceneIndexByKey(scene):this.getActiveSceneIndex(scene);if(index>0){var entry=this.active.splice(index,1);this.active.unshift({index:0,scene:entry[0].scene});for(var i=0;i<this.active.length;i++){this.active[i].index=i;}}};module.exports=SendToBack;/***/},/* 718 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var NOOP=__webpack_require__(28);var SetupCallbacks=function SetupCallbacks(scene,sceneConfig){if(sceneConfig===undefined){sceneConfig=scene;}//  Extract callbacks or set NOOP\nscene.init=GetValue(sceneConfig,'init',NOOP);scene.preload=GetValue(sceneConfig,'preload',NOOP);scene.create=GetValue(sceneConfig,'create',NOOP);scene.shutdown=GetValue(sceneConfig,'shutdown',NOOP);//  Game Loop level callbacks\nscene.update=GetValue(sceneConfig,'update',NOOP);scene.render=GetValue(sceneConfig,'render',NOOP);return scene;};module.exports=SetupCallbacks;/***/},/* 719 *//***/function(module,exports){var Sleep=function Sleep(key){var entry=this.getActiveScene(key);if(entry){entry.scene.sys.sleep();}};module.exports=Sleep;/***/},/* 720 *//***/function(module,exports){var Start=function Start(key,data){if(data===undefined){data={};}// console.log('start:', key);\n// console.dir(data);\n//  if not booted, then put scene into a holding pattern\nif(!this.game.isBooted){// console.log('GlobalSceneManager not yet booted, setting autoStart on pending list');\nfor(var i=0;i<this._pending.length;i++){var entry=this._pending[i];if(entry.key===key){entry.autoStart=true;entry.data=data;}}return;}var scene=this.getScene(key);// console.log(scene);\nif(scene){//  Already started? Nothing more to do here ...\nif(this.isActive(key)){return;}scene.sys.start(data);var loader=scene.sys.load;//  Files payload?\nif(loader&&Array.isArray(scene.sys.settings.files)){loader.reset();if(loader.loadArray(scene.sys.settings.files)){loader.events.once('LOADER_COMPLETE_EVENT',this.payloadComplete.bind(this));loader.start();}else{this.bootScene(scene);}}else{this.bootScene(scene);}}};module.exports=Start;/***/},/* 721 *//***/function(module,exports,__webpack_require__){var SortScenes=__webpack_require__(57);var Stop=function Stop(key){var entry=this.getActiveScene(key);if(entry){entry.scene.sys.shutdown();//  Remove from the active list\nvar index=this.active.indexOf(entry);if(index!==-1){this.active.splice(index,1);this.active.sort(SortScenes);}}};module.exports=Stop;/***/},/* 722 *//***/function(module,exports){var Swap=function Swap(from,to){this.sleep(from);if(this.isSleeping(to)){this.wake(to);}else{this.start(to);}};module.exports=Swap;/***/},/* 723 *//***/function(module,exports,__webpack_require__){var SortScenes=__webpack_require__(57);//  If the arguments are strings they are assumed to be keys, otherwise they are Scene objects\n//  You can only swap the positions of Active (rendering / updating) Scenes. If a Scene is not active it cannot be moved.\nvar SwapPosition=function SwapPosition(scene1,scene2){if(scene1===scene2){return;}var index1=typeof scene1==='string'?this.getActiveSceneIndexByKey(scene1):this.getActiveSceneIndex(scene1);var index2=typeof scene2==='string'?this.getActiveSceneIndexByKey(scene2):this.getActiveSceneIndex(scene2);if(index1!==-1&&index2!==-1){this.active[index1].index=index2;this.active[index2].index=index1;this.active.sort(SortScenes);}};module.exports=SwapPosition;/***/},/* 724 *//***/function(module,exports){var Wake=function Wake(key){var entry=this.getActiveScene(key);if(entry){entry.scene.sys.wake();}};module.exports=Wake;/***/},/* 725 *//***/function(module,exports,__webpack_require__){var CanvasPool=__webpack_require__(11);var Class=__webpack_require__(0);var Color=__webpack_require__(29);var GenerateTexture=__webpack_require__(124);var GetValue=__webpack_require__(2);var Parser=__webpack_require__(726);var Texture=__webpack_require__(735);/**\n* Textures are managed by the global TextureManager. This is a singleton class that is\n* responsible for creating and delivering Textures and their corresponding Frames to Game Objects.\n*\n* Sprites and other Game Objects get the texture data they need from the TextureManager.\n*\n* Access it via `scene.textures`.\n*/var TextureManager=new Class({initialize:function TextureManager(game){this.game=game;this.list={};this._tempCanvas=CanvasPool.create2D(this,1,1);this._tempContext=this._tempCanvas.getContext('2d');this.addBase64('__DEFAULT',game.config.defaultImage);this.addBase64('__MISSING',game.config.missingImage);},addBase64:function addBase64(key,data){var _this=this;var image=new Image();image.onload=function(){var texture=_this.create(key,image);Parser.Image(texture,0);};image.src=data;},addImage:function addImage(key,source){var texture=this.create(key,source);Parser.Image(texture,0);return texture;},generate:function generate(key,config){var canvas=CanvasPool.create(this,1,1);config.canvas=canvas;GenerateTexture(config);return this.addCanvas(key,canvas);},createCanvas:function createCanvas(key,width,height){if(width===undefined){width=256;}if(height===undefined){height=256;}var canvas=CanvasPool.create(this,width,height);return this.addCanvas(key,canvas);},addCanvas:function addCanvas(key,source){var texture=this.create(key,source);Parser.Canvas(texture,0);return texture;},addAtlas:function addAtlas(key,source,data){//  Is it a Hash or an Array?\nif(Array.isArray(data.frames)){return this.addAtlasJSONArray(key,source,data);}else{return this.addAtlasJSONHash(key,source,data);}},addAtlasJSONArray:function addAtlasJSONArray(key,source,data){var texture=this.create(key,source);if(Array.isArray(data)){for(var i=0;i<data.length;i++){Parser.JSONArray(texture,i,data[i]);}}else{Parser.JSONArray(texture,0,data);}return texture;},addAtlasJSONHash:function addAtlasJSONHash(key,source,data){var texture=this.create(key,source);if(Array.isArray(data)){for(var i=0;i<data.length;i++){Parser.JSONHash(texture,i,data[i]);}}else{Parser.JSONHash(texture,0,data);}return texture;},/**\n     * [addSpriteSheet description]\n     * @param {[type]} key    [description]\n     * @param {[type]} source [description]\n     * @param {[type]} config [description]\n     * @param {number} config.frameWidth - The fixed width of each frame.\n     * @param {number} [config.frameHeight] - The fixed height of each frame. If not set it will use the frameWidth as the height.\n     * @param {number} [config.startFrame=0] - Skip a number of frames. Useful when there are multiple sprite sheets in one Texture.\n     * @param {number} [config.endFrame=-1] - The total number of frames to extract from the Sprite Sheet. The default value of -1 means \"extract all frames\".\n     * @param {number} [config.margin=0] - If the frames have been drawn with a margin, specify the amount here.\n     * @param {number} [config.spacing=0] - If the frames have been drawn with spacing between them, specify the amount here.\n     */addSpriteSheet:function addSpriteSheet(key,source,config){var texture=this.create(key,source);var width=texture.source[0].width;var height=texture.source[0].height;Parser.SpriteSheet(texture,0,0,0,width,height,config);return texture;},addSpriteSheetFromAtlas:function addSpriteSheetFromAtlas(key,config){var atlasKey=GetValue(config,'atlas',null);var atlasFrame=GetValue(config,'frame',null);if(!atlasKey||!atlasFrame){return;}var atlas=this.get(atlasKey);var sheet=atlas.get(atlasFrame);if(sheet){var texture=this.create(key,sheet.source.image);// {\n//     \"filename\": \"explosion\",\n//     \"frame\": {\"x\":2,\"y\":2,\"w\":319,\"h\":312}, = cutX, Y, W, H\n//     \"rotated\": false,\n//     \"trimmed\": true,\n//     \"spriteSourceSize\": {\"x\":1,\"y\":6,\"w\":319,\"h\":312},\n//     \"sourceSize\": {\"w\":320,\"h\":320},\n//     \"pivot\": {\"x\":0.5,\"y\":0.5}\n// },\n//  If trimmed we need to help the parser adjust\nconsole.log(sheet);if(sheet.trimmed){Parser.SpriteSheetFromAtlas(texture,sheet,config);}else{Parser.SpriteSheet(texture,0,sheet.cutX,sheet.cutY,sheet.cutWidth,sheet.cutHeight,config);}return texture;}},addAtlasStarlingXML:function addAtlasStarlingXML(key,source,data){var texture=this.create(key,source);if(Array.isArray(data)){for(var i=0;i<data.length;i++){Parser.StarlingXML(texture,i,data[i]);}}else{Parser.StarlingXML(texture,0,data);}return texture;},addAtlasPyxel:function addAtlasPyxel(key,source,data){var texture=this.create(key,source);if(Array.isArray(data)){for(var i=0;i<data.length;i++){Parser.Pyxel(texture,i,data[i]);}}else{Parser.Pyxel(texture,0,data);}return texture;},create:function create(key,source,width,height){var texture=new Texture(this,key,source,width,height);this.list[key]=texture;return texture;},exists:function exists(key){return this.list.hasOwnProperty(key);},get:function get(key){if(key===undefined){key='__DEFAULT';}if(this.list[key]){return this.list[key];}else{return this.list['__MISSING'];}},cloneFrame:function cloneFrame(key,frame){if(this.list[key]){return this.list[key].get(frame).clone();}},getFrame:function getFrame(key,frame){if(this.list[key]){return this.list[key].get(frame);}},getPixel:function getPixel(x,y,key,frame){var textureFrame=this.getFrame(key,frame);if(textureFrame){var source=textureFrame.source.image;if(x>=0&&x<=source.width&&y>=0&&y<=source.height){x+=textureFrame.cutX;y+=textureFrame.cutY;// if (textureFrame.trimmed)\n// {\n// x -= this.sprite.texture.trim.x;\n// y -= this.sprite.texture.trim.y;\n// }\nvar context=this._tempContext;context.clearRect(0,0,1,1);context.drawImage(source,x,y,1,1,0,0,1,1);var rgb=context.getImageData(0,0,1,1);return new Color(rgb.data[0],rgb.data[1],rgb.data[2],rgb.data[3]);}}return null;},setTexture:function setTexture(gameObject,key,frame){if(this.list[key]){gameObject.texture=this.list[key];gameObject.frame=gameObject.texture.get(frame);}return gameObject;},/**\n    * Passes all Textures to the given callback.\n    *\n    * @method each\n    * @param {function} callback - The function to call.\n    * @param {object} [thisArg] - Value to use as `this` when executing callback.\n    * @param {...*} [arguments] - Additional arguments that will be passed to the callback, after the child.\n    */each:function each(callback,thisArg){var args=[null];for(var i=1;i<arguments.length;i++){args.push(arguments[i]);}for(var texture in this.list){args[0]=this.list[texture];callback.apply(thisArg,args);}}});module.exports=TextureManager;/***/},/* 726 *//***/function(module,exports,__webpack_require__){module.exports={Canvas:__webpack_require__(727),Image:__webpack_require__(728),JSONArray:__webpack_require__(729),JSONHash:__webpack_require__(730),Pyxel:__webpack_require__(731),SpriteSheet:__webpack_require__(732),SpriteSheetFromAtlas:__webpack_require__(733),StarlingXML:__webpack_require__(734)};/***/},/* 727 *//***/function(module,exports){var Canvas=function Canvas(texture,sourceIndex){var source=texture.source[sourceIndex];texture.add('__BASE',sourceIndex,0,0,source.width,source.height);return texture;};module.exports=Canvas;/***/},/* 728 *//***/function(module,exports){var Image=function Image(texture,sourceIndex){var source=texture.source[sourceIndex];texture.add('__BASE',sourceIndex,0,0,source.width,source.height);return texture;};module.exports=Image;/***/},/* 729 *//***/function(module,exports){var JSONArray=function JSONArray(texture,sourceIndex,json){//  Malformed?\nif(!json['frames']){console.warn('Invalid Texture Atlas JSON Array given, missing \\'frames\\' array');return;}//  Add in a __BASE entry (for the entire atlas)\nvar source=texture.source[sourceIndex];texture.add('__BASE',sourceIndex,0,0,source.width,source.height);//  By this stage frames is a fully parsed array\nvar frames=json['frames'];var newFrame;for(var i=0;i<frames.length;i++){var src=frames[i];//  The frame values are the exact coordinates to cut the frame out of the atlas from\nnewFrame=texture.add(src.filename,sourceIndex,src.frame.x,src.frame.y,src.frame.w,src.frame.h);//  These are the original (non-trimmed) sprite values\nif(src.trimmed){newFrame.setTrim(src.sourceSize.w,src.sourceSize.h,src.spriteSourceSize.x,src.spriteSourceSize.y,src.spriteSourceSize.w,src.spriteSourceSize.h);}if(src.rotated){newFrame.rotated=true;newFrame.updateUVsInverted();}}return texture;};module.exports=JSONArray;/***/},/* 730 *//***/function(module,exports){var JSONHash=function JSONHash(texture,sourceIndex,json){//  Malformed?\nif(!json['frames']){console.warn('Invalid Texture Atlas JSON Hash given, missing \\'frames\\' Object');return;}//  Add in a __BASE entry (for the entire atlas)\nvar source=texture.source[sourceIndex];texture.add('__BASE',sourceIndex,0,0,source.width,source.height);//  By this stage frames is a fully parsed Object\nvar frames=json['frames'];var newFrame;for(var key in frames){var src=frames[key];//  The frame values are the exact coordinates to cut the frame out of the atlas from\nnewFrame=texture.add(key,sourceIndex,src.frame.x,src.frame.y,src.frame.w,src.frame.h);//  These are the original (non-trimmed) sprite values\nif(src.trimmed){newFrame.setTrim(src.sourceSize.w,src.sourceSize.h,src.spriteSourceSize.x,src.spriteSourceSize.y,src.spriteSourceSize.w,src.spriteSourceSize.h);}if(src.rotated){newFrame.rotated=true;newFrame.updateUVsInverted();}}return texture;};module.exports=JSONHash;/***/},/* 731 *//***/function(module,exports){var Pyxel=function Pyxel(texture,json){//  Malformed? There are a few keys to check here.\nvar signature=['layers','tilewidth','tileheight','tileswide','tileshigh'];signature.forEach(function(key){if(!json[key]){// console.warn('Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing \"' + key + '\" key.');\n// console.log(json);\nreturn;}});// For this purpose, I only care about parsing tilemaps with a single layer.\nif(json['layers'].length!==1){// console.warn('Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps.');\n// console.log(json);\nreturn;}var data=new Phaser.FrameData();var tileheight=json['tileheight'];var tilewidth=json['tilewidth'];var frames=json['layers'][0]['tiles'];var newFrame;for(var i=0;i<frames.length;i++){newFrame=data.addFrame(new Phaser.Frame(i,frames[i].x,frames[i].y,tilewidth,tileheight,\"frame_\"+i// No names are included in pyxel tilemap data.\n));// No trim data is included.\nnewFrame.setTrim(false);}return data;};module.exports=Pyxel;/***/},/* 732 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var SpriteSheet=function SpriteSheet(texture,sourceIndex,x,y,width,height,config){var frameWidth=GetValue(config,'frameWidth',null);var frameHeight=GetValue(config,'frameHeight',frameWidth);//  If missing we can't proceed\nif(frameWidth===null){throw new Error('TextureManager.SpriteSheet: Invalid frameWidth given.');}//  Add in a __BASE entry (for the entire atlas)\nvar source=texture.source[sourceIndex];texture.add('__BASE',sourceIndex,0,0,source.width,source.height);var startFrame=GetValue(config,'startFrame',0);var endFrame=GetValue(config,'endFrame',-1);var margin=GetValue(config,'margin',0);var spacing=GetValue(config,'spacing',0);var row=Math.floor((width-margin)/(frameWidth+spacing));var column=Math.floor((height-margin)/(frameHeight+spacing));var total=row*column;if(startFrame>total||startFrame<-total){startFrame=0;}if(startFrame<0){//  Allow negative skipframes.\nstartFrame=total+startFrame;}if(endFrame!==-1){total=startFrame+(endFrame+1);}var fx=margin;var fy=margin;var ax=0;var ay=0;for(var i=0;i<total;i++){ax=0;ay=0;var w=fx+frameWidth;var h=fy+frameHeight;if(w>width){ax=w-width;}if(h>height){ay=h-height;}texture.add(i,sourceIndex,x+fx,y+fy,frameWidth-ax,frameHeight-ay);fx+=frameWidth+spacing;if(fx+frameWidth>width){fx=margin;fy+=frameHeight+spacing;}}return texture;};module.exports=SpriteSheet;/***/},/* 733 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var SpriteSheetFromAtlas=function SpriteSheetFromAtlas(texture,frame,config){var frameWidth=GetValue(config,'frameWidth',null);var frameHeight=GetValue(config,'frameHeight',frameWidth);//  If missing we can't proceed\nif(!frameWidth){throw new Error('TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.');}//  Add in a __BASE entry (for the entire atlas)\n// var source = texture.source[0];\n// texture.add('__BASE', 0, 0, 0, source.width, source.height);\nvar startFrame=GetValue(config,'startFrame',0);var endFrame=GetValue(config,'endFrame',-1);var margin=GetValue(config,'margin',0);var spacing=GetValue(config,'spacing',0);var x=frame.cutX;var y=frame.cutY;var cutWidth=frame.cutWidth;var cutHeight=frame.cutHeight;var sheetWidth=frame.realWidth;var sheetHeight=frame.realHeight;var row=Math.floor((sheetWidth-margin)/(frameWidth+spacing));var column=Math.floor((sheetHeight-margin)/(frameHeight+spacing));var total=row*column;console.log('split sheet into rows/cols:',row,column,'total frames:',total);if(startFrame>total||startFrame<-total){startFrame=0;}if(startFrame<0){//  Allow negative skipframes.\nstartFrame=total+startFrame;}if(endFrame!==-1){total=startFrame+(endFrame+1);}var fx=margin;var fy=margin;var ax=0;var ay=0;var sheetFrame;for(var i=0;i<total;i++){ax=0;ay=0;var w=fx+frameWidth;var h=fy+frameHeight;if(w>width){ax=w-width;}if(h>height){ay=h-height;}sheetFrame=texture.add(i,sourceIndex,x+fx,y+fy,frameWidth-ax,frameHeight-ay);// sheetFrame.setTrim(sheetWidth, sheetHeight, )\n// setTrim: function (actualWidth, actualHeight, destX, destY, destWidth, destHeight)\nfx+=frameWidth+spacing;if(fx+frameWidth>width){fx=margin;fy+=frameHeight+spacing;}}return texture;};module.exports=SpriteSheetFromAtlas;/***/},/* 734 *//***/function(module,exports){var StarlingXML=function StarlingXML(texture,xml){//  Malformed?\nif(!xml.getElementsByTagName('TextureAtlas')){// console.warn(\"Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag\");\nreturn;}//  Let's create some frames then\nvar data=new Phaser.FrameData();var frames=xml.getElementsByTagName('SubTexture');var newFrame;var name;var frame;var x;var y;var width;var height;var frameX;var frameY;var frameWidth;var frameHeight;for(var i=0;i<frames.length;i++){frame=frames[i].attributes;name=frame.name.value;x=parseInt(frame.x.value,10);y=parseInt(frame.y.value,10);width=parseInt(frame.width.value,10);height=parseInt(frame.height.value,10);frameX=null;frameY=null;if(frame.frameX){frameX=Math.abs(parseInt(frame.frameX.value,10));frameY=Math.abs(parseInt(frame.frameY.value,10));frameWidth=parseInt(frame.frameWidth.value,10);frameHeight=parseInt(frame.frameHeight.value,10);}newFrame=data.addFrame(new Phaser.Frame(i,x,y,width,height,name));//  Trimmed?\nif(frameX!==null||frameY!==null){newFrame.setTrim(true,width,height,frameX,frameY,frameWidth,frameHeight);}}return data;};module.exports=StarlingXML;/***/},/* 735 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Frame=__webpack_require__(736);var TextureSource=__webpack_require__(737);/**\n* A Texture consists of a source, usually an Image from the Cache, or a Canvas, and a collection\n* of Frames. The Frames represent the different areas of the Texture. For example a texture atlas\n* may have many Frames, one for each element within the atlas. Where-as a single image would have\n* just one frame, that encompasses the whole image.\n*\n* Textures are managed by the global TextureManager. This is a singleton class that is\n* responsible for creating and delivering Textures and their corresponding Frames to Game Objects.\n*\n* Sprites and other Game Objects get the texture data they need from the TextureManager.\n*/var Texture=new Class({initialize:function Texture(manager,key,source,width,height){this.manager=manager;if(!Array.isArray(source)){source=[source];}this.key=key;/**\n        * The source that is used to create the texture.\n        * Usually an Image, but can also be a Canvas.\n        */this.source=[];this.frames={};this.firstFrame='__BASE';this.frameTotal=0;//  Load the Sources\nfor(var i=0;i<source.length;i++){this.source.push(new TextureSource(this,source[i],width,height));}},add:function add(name,sourceIndex,x,y,width,height){var frame=new Frame(this,name,sourceIndex,x,y,width,height);this.frames[name]=frame;//  Set the first frame of the Texture (other than __BASE)\n//  This is used to ensure we don't spam the display with entire\n//  atlases of sprite sheets, but instead just the first frame of them\n//  should the dev incorrectly specify the frame index\nif(this.frameTotal===1){this.firstFrame=name;}this.frameTotal++;return frame;},has:function has(name){return this.frames[name];},get:function get(name){if(name===undefined||name===null){name=this.frameTotal===1?'__BASE':this.firstFrame;}var frame=this.frames[name];if(!frame){console.warn('No Texture.frame found with name '+name);return this.frames['__BASE'];}else{return frame;}},getFrameNames:function getFrameNames(includeBase){if(includeBase===undefined){includeBase=false;}var out=Object.keys(this.frames);if(!includeBase){var idx=out.indexOf('__BASE');if(idx!==-1){out.splice(idx,1);}}return out;},getSourceImage:function getSourceImage(name){if(name===undefined||name===null||this.frameTotal===1){name='__BASE';}var frame=this.frames[name];if(!frame){console.warn('No Texture.frame found with name '+name);return this.frames['__BASE'].source.image;}else{return frame.source.image;}},setFilter:function setFilter(filterMode){for(var i=0;i<this.source.length;i++){this.source[i].setFilter(filterMode);}},destroy:function destroy(){}});module.exports=Texture;/***/},/* 736 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var Extend=__webpack_require__(60);/**\n* A Frame is a section of a Texture.\n*/var Frame=new Class({initialize:function Frame(texture,name,sourceIndex,x,y,width,height){/**\n        * @property {Phaser.Texture} texture - The Texture this frame belongs to.\n        */this.texture=texture;/**\n        * @property {string} name - The name of this frame within the Texture.\n        */this.name=name;this.source=texture.source[sourceIndex];this.sourceIndex=sourceIndex;/**\n        * @property {number} cutX - X position within the source image to cut from.\n        */this.cutX=x;/**\n        * @property {number} cutY - Y position within the source image to cut from.\n        */this.cutY=y;/**\n        * @property {number} cutWidth - The width of the area in the source image to cut.\n        */this.cutWidth=width;/**\n        * @property {number} cutHeight - The height of the area in the source image to cut.\n        */this.cutHeight=height;/**\n        * @property {number} x - The X rendering offset of this Frame, taking trim into account.\n        */this.x=0;/**\n        * @property {number} y - The Y rendering offset of this Frame, taking trim into account.\n        */this.y=0;/**\n        * @property {number} width - The rendering width of this Frame, taking trim into account.\n        */this.width=width;/**\n        * @property {number} height - The rendering height of this Frame, taking trim into account.\n        */this.height=height;/**\n        * @property {number} width - The rendering width of this Frame, taking trim into account.\n        */this.centerX=Math.floor(width/2);/**\n        * @property {number} height - The rendering height of this Frame, taking trim into account.\n        */this.centerY=Math.floor(height/2);/**\n        * Is this frame is rotated or not in the Texture?\n        * Rotation allows you to use rotated frames in texture atlas packing.\n        * It has nothing to do with Sprite rotation.\n        *\n        * @property {boolean} rotated\n        * @default\n        */this.rotated=false;//  Over-rides the Renderer setting? -1 = use Renderer Setting, 0 = No rounding, 1 = Round\nthis.autoRound=-1;/**\n        * The un-modified source frame, trim and UV data.\n        *\n        * @private\n        * @property {object} data\n        */this.data={cut:{x:x,y:y,w:width,h:height,r:x+width,b:y+height},trim:false,sourceSize:{w:width,h:height},spriteSourceSize:{x:0,y:0,w:width,h:height},uvs:{x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},radius:0.5*Math.sqrt(width*width+height*height),drawImage:{sx:x,sy:y,sWidth:width,sHeight:height,dWidth:width,dHeight:height}};this.updateUVs();},/**\n    * If the frame was trimmed when added to the Texture Atlas, this records the trim and source data.\n    *\n    * @method Phaser.TextureFrame#setTrim\n    * @param {number} actualWidth - The width of the frame before being trimmed.\n    * @param {number} actualHeight - The height of the frame before being trimmed.\n    * @param {number} destX - The destination X position of the trimmed frame for display.\n    * @param {number} destY - The destination Y position of the trimmed frame for display.\n    * @param {number} destWidth - The destination width of the trimmed frame for display.\n    * @param {number} destHeight - The destination height of the trimmed frame for display.\n    */setTrim:function setTrim(actualWidth,actualHeight,destX,destY,destWidth,destHeight){var data=this.data;var ss=data.spriteSourceSize;//  Store actual values\ndata.trim=true;data.sourceSize.w=actualWidth;data.sourceSize.h=actualHeight;ss.x=destX;ss.y=destY;ss.w=destWidth;ss.h=destHeight;//  Adjust properties\nthis.x=destX;this.y=destY;this.width=destWidth;this.height=destHeight;this.centerX=Math.floor(destWidth/2);this.centerY=Math.floor(destHeight/2);this.updateUVs();return this;},/**\n    * Updates the internal WebGL UV cache.\n    *\n    * @method updateUVs\n    * @private\n    */updateUVs:function updateUVs(){var tw=this.source.width;var th=this.source.height;var uvs=this.data.uvs;uvs.x0=this.cutX/tw;uvs.y0=this.cutY/th;uvs.x1=this.cutX/tw;uvs.y1=(this.cutY+this.cutHeight)/th;uvs.x2=(this.cutX+this.cutWidth)/tw;uvs.y2=(this.cutY+this.cutHeight)/th;uvs.x3=(this.cutX+this.cutWidth)/tw;uvs.y3=this.cutY/th;return this;},/**\n    * Updates the internal WebGL UV cache.\n    *\n    * @method updateUVsInverted\n    * @private\n    */updateUVsInverted:function updateUVsInverted(){var tw=this.source.width;var th=this.source.height;var uvs=this.data.uvs;uvs.x3=(this.cutX+this.cutHeight)/tw;uvs.y3=(this.cutY+this.cutWidth)/th;uvs.x2=this.cutX/tw;uvs.y2=(this.cutY+this.cutWidth)/th;uvs.x1=this.cutX/tw;uvs.y1=this.cutY/th;uvs.x0=(this.cutX+this.cutHeight)/tw;uvs.y0=this.cutY/th;return this;},clone:function clone(){var clone=new Frame(this.texture,this.name,this.sourceIndex);clone.cutX=this.cutX;clone.cutY=this.cutY;clone.cutWidth=this.cutWidth;clone.cutHeight=this.cutHeight;clone.x=this.x;clone.y=this.y;clone.width=this.width;clone.height=this.height;clone.centerX=this.centerX;clone.centerY=this.centerY;clone.rotated=this.rotated;clone.data=Extend(true,clone.data,this.data);clone.updateUVs();return clone;},destroy:function destroy(){},/**\n    * The width of the Frame in its un-trimmed, un-padded state, as prepared in the art package,\n    * before being packed.\n    *\n    * @name Phaser.TextureFrame#realWidth\n    * @property {any} realWidth\n    */realWidth:{get:function get(){return this.data.sourceSize.w;}},/**\n    * The height of the Frame in its un-trimmed, un-padded state, as prepared in the art package,\n    * before being packed.\n    *\n    * @name Phaser.TextureFrame#realHeight\n    * @property {any} realHeight\n    */realHeight:{get:function get(){return this.data.sourceSize.h;}},/**\n    * UVs\n    *\n    * @name Phaser.TextureFrame#uvs\n    * @property {Object} uvs\n    */uvs:{get:function get(){return this.data.uvs;}},/**\n    * The radius of the Frame (derived from sqrt(w * w + h * h) / 2)\n    * @name Phaser.TextureFrame#radius\n    * @property {number} radius\n    */radius:{get:function get(){return this.data.radius;}},/**\n    * Is the Frame trimmed?\n    * @name Phaser.TextureFrame#trimmed\n    * @property {boolean} trimmed\n    */trimmed:{get:function get(){return this.data.trim;}},/**\n    * Canvas Draw Image data\n    *\n    * @name Phaser.TextureFrame#canvasData\n    * @property {Object} canvasData\n    */canvasData:{get:function get(){return this.data.drawImage;}}});module.exports=Frame;/***/},/* 737 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var CONST=__webpack_require__(4);var IsSizePowerOfTwo=__webpack_require__(67);var ScaleModes=__webpack_require__(26);var TextureSource=new Class({initialize:function TextureSource(texture,source,width,height){this.texture=texture;this.image=source;this.compressionAlgorithm=null;this.resolution=1;this.width=width||source.naturalWidth||source.width||0;this.height=height||source.naturalHeight||source.height||0;this.scaleMode=ScaleModes.DEFAULT;this.isPowerOf2=IsSizePowerOfTwo(this.width,this.height);this.glTexture=null;var game=texture.manager.game;if(game.config.renderType===CONST.WEBGL){game.renderer.createTexture(this,width,height);}if(game.config.pixelArt){this.setFilter(1);}},setFilter:function setFilter(filterMode){var game=this.texture.manager.game;if(game.config.renderType===CONST.WEBGL){game.renderer.setTextureFilterMode(this.glTexture,filterMode);}}});module.exports=TextureSource;/***/},/* 738 *//***/function(module,exports,__webpack_require__){var Class=__webpack_require__(0);var GetValue=__webpack_require__(2);var NOOP=__webpack_require__(28);var RequestAnimationFrame=__webpack_require__(129);//  Frame Rate config\n//      fps: {\n//          min: 10,\n//          target: 60,\n//          forceSetTimeOut: false,\n//          deltaHistory: 10,\n//          panicMax: 120\n//     }\n// http://www.testufo.com/#test=animation-time-graph\nvar TimeStep=new Class({initialize:function TimeStep(game,config){this.game=game;this.raf=new RequestAnimationFrame();this.started=false;this.running=false;this.minFps=GetValue(config,'min',5);this.targetFps=GetValue(config,'target',60);this._min=1000/this.minFps;//  200ms between frames (i.e. super slow!)\nthis._target=1000/this.targetFps;//  16.666ms between frames (i.e. normal)\n//  200 / 1000 = 0.2 (5fps)\n//  8.333 / 1000 = 0.008333 (120fps)\n//  16.666 / 1000 = 0.01666 (60fps)\n/**\n        * @property {number} fps - An exponential moving average of the frames per second.\n        * @readOnly\n        */this.actualFps=this.targetFps;this.nextFpsUpdate=0;this.framesThisSecond=0;this.callback=NOOP;this.forceSetTimeOut=GetValue(config,'forceSetTimeOut',false);this.time=0;this.startTime=0;this.lastTime=0;this.frame=0;this.inFocus=true;this._pauseTime=0;this._coolDown=0;this.delta=0;this.deltaIndex=0;this.deltaHistory=[];this.deltaSmoothingMax=GetValue(config,'deltaHistory',10);this.panicMax=GetValue(config,'panicMax',120);//  The actual elapsed time in ms between one update and the next.\n//  No smoothing, no capping, no averaging. So please be aware of this when using the contents of this property.\nthis.rawDelta=0;},//  Called when the DOM window.onBlur event triggers\nblur:function blur(){this.inFocus=false;// console.log('TimeStep.blur');\n},//  Called when the DOM window.onFocus event triggers\nfocus:function focus(){this.inFocus=true;// console.log('TimeStep.focus');\nthis.resetDelta();},//  Called when the visibility API says the game is 'hidden' (tab switch, etc)\npause:function pause(){// console.log('TimeStep.pause');\nthis._pauseTime=window.performance.now();},//  Called when the visibility API says the game is 'visible' again (tab switch, etc)\nresume:function resume(){this.resetDelta();this.startTime+=this.time-this._pauseTime;// console.log('TimeStep.resume - paused for', (this.time - this._pauseTime));\n},resetDelta:function resetDelta(){var now=window.performance.now();this.time=now;this.lastTime=now;this.nextFpsUpdate=now+1000;this.framesThisSecond=0;this.frame=0;//  Pre-populate smoothing array\nfor(var i=0;i<this.deltaSmoothingMax;i++){this.deltaHistory[i]=Math.min(this._target,this.deltaHistory[i]);}this.delta=0;this.deltaIndex=0;this._coolDown=this.panicMax;},start:function start(callback){if(this.started){return this;}this.started=true;this.running=true;for(var i=0;i<this.deltaSmoothingMax;i++){this.deltaHistory[i]=this._target;}this.resetDelta();this.startTime=window.performance.now();this.callback=callback;this.raf.start(this.step.bind(this),this.forceSetTimeOut);},//  time comes from requestAnimationFrame and is either a high res time value,\n//  or Date.now if using setTimeout\nstep:function step(time){//  Debug only\n// var debug = 0;\n// var dump = [];\nthis.frame++;this.rawDelta=time-this.lastTime;var idx=this.deltaIndex;var history=this.deltaHistory;var max=this.deltaSmoothingMax;//  delta time (time is in ms)\nvar dt=time-this.lastTime;//  When a browser switches tab, then comes back again, it takes around 10 frames before\n//  the delta time settles down so we employ a 'cooling down' period before we start\n//  trusting the delta values again, to avoid spikes flooding through our delta average\nif(this._coolDown>0||!this.inFocus){this._coolDown--;dt=Math.min(dt,this._target);// debug = (time - this.lastTime);\n}if(dt>this._min){//  Probably super bad start time or browser tab context loss,\n//  so use the last 'sane' dt value\n// debug = dt;\ndt=history[idx];//  Clamp delta to min (in case history has become corrupted somehow)\ndt=Math.min(dt,this._min);}//  Smooth out the delta over the previous X frames\n//  add the delta to the smoothing array\nhistory[idx]=dt;//  adjusts the delta history array index based on the smoothing count\n//  this stops the array growing beyond the size of deltaSmoothingMax\nthis.deltaIndex++;if(this.deltaIndex>max){this.deltaIndex=0;}//  Delta Average\nvar avg=0;//  Loop the history array, adding the delta values together\nfor(var i=0;i<max;i++){//   Debug\n// if (history[i] < 16 || history[i] > 17)\n// {\n//     dump.push({ i: i, dt: history[i] });\n// }\navg+=history[i];}//  Then divide by the array length to get the average delta\navg/=max;//  Set as the world delta value\nthis.delta=avg;//  Real-world timer advance\n// this.time += avg;\nthis.time+=this.rawDelta;// Update the estimate of the frame rate, `fps`. Every second, the number\n// of frames that occurred in that second are included in an exponential\n// moving average of all frames per second, with an alpha of 0.25. This\n// means that more recent seconds affect the estimated frame rate more than\n// older seconds.\n//\n// When a browser window is NOT minimized, but is covered up (i.e. you're using\n// another app which has spawned a window over the top of the browser), then it\n// will start to throttle the raf callback time. It waits for a while, and then\n// starts to drop the frame rate at 1 frame per second until it's down to just over 1fps.\n// So if the game was running at 60fps, and the player opens a new window, then\n// after 60 seconds (+ the 'buffer time') it'll be down to 1fps, so rafin'g at 1Hz.\n//\n// When they make the game visible again, the frame rate is increased at a rate of\n// approx. 8fps, back up to 60fps (or the max it can obtain)\n//\n// There is no easy way to determine if this drop in frame rate is because the\n// browser is throttling raf, or because the game is struggling with performance\n// because you're asking it to do too much on the device.\nif(time>this.nextFpsUpdate){//  Compute the new exponential moving average with an alpha of 0.25.\nthis.actualFps=0.25*this.framesThisSecond+0.75*this.actualFps;this.nextFpsUpdate=time+1000;this.framesThisSecond=0;// if (this.actualFps < 56)\n// {\n//     console.log(this.actualFps);\n//     console.log('F', this.frame, 'Avg', avg, 'Dt', debug, 'Panic', this._coolDown);\n// }\n}this.framesThisSecond++;//  Interpolation - how far between what is expected and where we are?\nvar interpolation=avg/this._target;this.callback(time,avg,interpolation);//  Shift time value over\nthis.lastTime=time;// if (debug !== 0)\n// {\n//     console.log('F', this.frame, 'Avg', avg, 'Dt', debug, 'Panic', this._coolDown);\n// }\n/*\n        if (debug !== 0 || dump.length)\n        {\n            console.group('Frame ' + this.frame);\n            console.log('Interpolation', interpolation, '%');\n\n            if (debug)\n            {\n                console.log('Elapsed', debug, 'ms');\n            }\n\n            // console.log('Frame', this.frame, 'Delta', avg, '(average)', debug, '(now)');\n\n            console.log('Delta', avg, '(average)');\n\n            if (dump.length)\n            {\n                console.table(dump);\n            }\n\n            console.groupEnd();\n        }\n        */},tick:function tick(){this.step(window.performance.now());},sleep:function sleep(){if(this.running){this.raf.stop();this.running=false;}},wake:function wake(seamless){if(this.running){this.sleep();}else if(seamless){this.startTime+=-this.lastTime+(this.lastTime=window.performance.now());}this.raf.start(this.step.bind(this),this.useRAF);this.running=true;this.step(window.performance.now());},setFps:function setFps(value){this.fps=value;this.wake();},getFps:function getFps(){return this.fps;},stop:function stop(){this.running=false;this.started=false;this.raf.stop();return this;},destroy:function destroy(){}});module.exports=TimeStep;/***/},/* 739 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom\nmodule.exports={Circle:__webpack_require__(740),Ellipse:__webpack_require__(752),Intersects:__webpack_require__(763),Line:__webpack_require__(774),Point:__webpack_require__(794),Polygon:__webpack_require__(814),Rectangle:__webpack_require__(819),Triangle:__webpack_require__(845)};/***/},/* 740 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Circle\nvar Circle=__webpack_require__(48);Circle.Area=__webpack_require__(741);Circle.Circumference=__webpack_require__(742);Circle.CircumferencePoint=__webpack_require__(743);Circle.Clone=__webpack_require__(744);Circle.Contains=__webpack_require__(36);Circle.ContainsPoint=__webpack_require__(745);Circle.ContainsRect=__webpack_require__(746);Circle.CopyFrom=__webpack_require__(747);Circle.Equals=__webpack_require__(748);Circle.GetBounds=__webpack_require__(749);Circle.Offset=__webpack_require__(750);Circle.OffsetPoint=__webpack_require__(751);Circle.Random=__webpack_require__(117);module.exports=Circle;/***/},/* 741 *//***/function(module,exports){var Area=function Area(circle){return circle.radius>0?Math.PI*circle.radius*circle.radius:0;};module.exports=Area;/***/},/* 742 *//***/function(module,exports){var Circumference=function Circumference(circle){return 2*(Math.PI*circle.radius);};module.exports=Circumference;/***/},/* 743 *//***/function(module,exports){/**\n* Returns a Point object containing the coordinates of a point on the circumference of the Circle based on the given angle.\n*/var CircumferencePoint=function CircumferencePoint(circle,angle,out){if(out===undefined){out={x:0,y:0};}out.x=circle.x+circle.radius*Math.cos(angle);out.y=circle.y+circle.radius*Math.sin(angle);return out;};module.exports=CircumferencePoint;/***/},/* 744 *//***/function(module,exports,__webpack_require__){var Circle=__webpack_require__(48);var Clone=function Clone(source){return new Circle(source.x,source.y,source.radius);};module.exports=Clone;/***/},/* 745 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(36);var ContainsPoint=function ContainsPoint(circle,point){return Contains(circle,point.x,point.y);};module.exports=ContainsPoint;/***/},/* 746 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(36);var ContainsRect=function ContainsRect(circle,rect){return Contains(circle,rect.x,rect.y)&&Contains(circle,rect.right,rect.y)&&Contains(circle,rect.x,rect.bottom)&&Contains(circle,rect.right,rect.bottom);};module.exports=ContainsRect;/***/},/* 747 *//***/function(module,exports){/**\n* Copies the x, y and diameter properties from any given object to this Circle.\n*/var CopyFrom=function CopyFrom(source,dest){return dest.setTo(source.x,source.y,source.radius);};module.exports=CopyFrom;/***/},/* 748 *//***/function(module,exports){var Equals=function Equals(circle,toCompare){return circle.x===toCompare.x&&circle.y===toCompare.y&&circle.radius===toCompare.radius;};module.exports=Equals;/***/},/* 749 *//***/function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(14);var GetBounds=function GetBounds(circle,out){if(out===undefined){out=new Rectangle();}out.x=circle.left;out.y=circle.top;out.width=circle.diameter;out.height=circle.diameter;return out;};module.exports=GetBounds;/***/},/* 750 *//***/function(module,exports){var Offset=function Offset(circle,x,y){circle.x+=x;circle.y+=y;return circle;};module.exports=Offset;/***/},/* 751 *//***/function(module,exports){var OffsetPoint=function OffsetPoint(circle,point){circle.x+=point.x;circle.y+=point.y;return circle;};module.exports=OffsetPoint;/***/},/* 752 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Ellipse\nvar Ellipse=__webpack_require__(86);Ellipse.Area=__webpack_require__(753);Ellipse.CircumferencePoint=__webpack_require__(754);Ellipse.Clone=__webpack_require__(755);Ellipse.Contains=__webpack_require__(56);Ellipse.ContainsPoint=__webpack_require__(756);Ellipse.ContainsRect=__webpack_require__(757);Ellipse.CopyFrom=__webpack_require__(758);Ellipse.Equals=__webpack_require__(759);Ellipse.GetBounds=__webpack_require__(760);Ellipse.Offset=__webpack_require__(761);Ellipse.OffsetPoint=__webpack_require__(762);Ellipse.Random=__webpack_require__(118);module.exports=Ellipse;/***/},/* 753 *//***/function(module,exports){var Area=function Area(ellipse){if(ellipse.isEmpty()){return 0;}//  units squared\nreturn ellipse.getMajorRadius()*ellipse.getMinorRadius()*Math.PI;};module.exports=Area;/***/},/* 754 *//***/function(module,exports){/**\n* Returns a Point object containing the coordinates of a point on the circumference of the Ellipse based on the given angle.\n*/var CircumferencePoint=function CircumferencePoint(ellipse,angle,out){if(out===undefined){out={x:0,y:0};}var a=ellipse.width/2;var b=ellipse.height/2;out.x=ellipse.x+a*Math.cos(angle);out.y=ellipse.y+b*Math.sin(angle);return out;};module.exports=CircumferencePoint;/***/},/* 755 *//***/function(module,exports,__webpack_require__){var Ellipse=__webpack_require__(86);var Clone=function Clone(source){return new Ellipse(source.x,source.y,source.width,source.height);};module.exports=Clone;/***/},/* 756 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(56);var ContainsPoint=function ContainsPoint(ellipse,point){return Contains(ellipse,point.x,point.y);};module.exports=ContainsPoint;/***/},/* 757 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(56);var ContainsRect=function ContainsRect(ellipse,rect){return Contains(ellipse,rect.x,rect.y)&&Contains(ellipse,rect.right,rect.y)&&Contains(ellipse,rect.x,rect.bottom)&&Contains(ellipse,rect.right,rect.bottom);};module.exports=ContainsRect;/***/},/* 758 *//***/function(module,exports){var CopyFrom=function CopyFrom(source,dest){return dest.setTo(source.x,source.y,source.width,source.height);};module.exports=CopyFrom;/***/},/* 759 *//***/function(module,exports){var Equals=function Equals(ellipse,toCompare){return ellipse.x===toCompare.x&&ellipse.y===toCompare.y&&ellipse.width===toCompare.width&&ellipse.height===toCompare.height;};module.exports=Equals;/***/},/* 760 *//***/function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(14);var GetBounds=function GetBounds(ellipse,out){if(out===undefined){out=new Rectangle();}out.x=ellipse.x-ellipse.width;out.y=ellipse.y-ellipse.height;out.width=ellipse.width;out.height=ellipse.height;return out;};module.exports=GetBounds;/***/},/* 761 *//***/function(module,exports){var Offset=function Offset(ellipse,x,y){ellipse.x+=x;ellipse.y+=y;return ellipse;};module.exports=Offset;/***/},/* 762 *//***/function(module,exports){var OffsetPoint=function OffsetPoint(ellipse,point){ellipse.x+=point.x;ellipse.y+=point.y;return ellipse;};module.exports=OffsetPoint;/***/},/* 763 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Intersects\nmodule.exports={CircleToCircle:__webpack_require__(764),CircleToRectangle:__webpack_require__(765),GetRectangleIntersection:__webpack_require__(766),LineToCircle:__webpack_require__(184),LineToLine:__webpack_require__(58),LineToRectangle:__webpack_require__(767),PointToLine:__webpack_require__(185),PointToLineSegment:__webpack_require__(768),RectangleToRectangle:__webpack_require__(183),RectangleToTriangle:__webpack_require__(769),RectangleToValues:__webpack_require__(770),TriangleToCircle:__webpack_require__(771),TriangleToLine:__webpack_require__(772),TriangleToTriangle:__webpack_require__(773)};/***/},/* 764 *//***/function(module,exports,__webpack_require__){var DistanceBetween=__webpack_require__(51);var CircleToCircle=function CircleToCircle(circleA,circleB){return DistanceBetween(circleA.x,circleA.y,circleB.x,circleB.y)<=circleA.radius+circleB.radius;};module.exports=CircleToCircle;/***/},/* 765 *//***/function(module,exports){var CircleToRectangle=function CircleToRectangle(circle,rect){var halfWidth=rect.width/2;var halfHeight=rect.height/2;var cx=Math.abs(circle.x-rect.x-halfWidth);var xDist=halfWidth+circle.radius;if(cx<=halfWidth||cx>xDist){return false;}var cy=Math.abs(circle.y-rect.y-halfHeight);var yDist=halfHeight+circle.radius;if(cy<=halfHeight||cy>yDist){return false;}var xCornerDist=cx-halfWidth;var yCornerDist=cy-halfHeight;var xCornerDistSq=xCornerDist*xCornerDist;var yCornerDistSq=yCornerDist*yCornerDist;var maxCornerDistSq=circle.radius*circle.radius;return xCornerDistSq+yCornerDistSq<=maxCornerDistSq;};module.exports=CircleToRectangle;/***/},/* 766 *//***/function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(14);var RectangleToRectangle=__webpack_require__(183);var GetRectangleIntersection=function GetRectangleIntersection(rectA,rectB,output){if(output===undefined){output=new Rectangle();}if(RectangleToRectangle(rectA,rectB)){output.x=Math.max(rectA.x,rectB.x);output.y=Math.max(rectA.y,rectB.y);output.width=Math.min(rectA.right,rectB.right)-output.x;output.height=Math.min(rectA.bottom,rectB.bottom)-output.y;}return output;};module.exports=GetRectangleIntersection;/***/},/* 767 *//***/function(module,exports){/**\n* Checks for intersection between the Line and a Rectangle shape, or a rectangle-like\n* object, with public `x`, `y`, `right` and `bottom` properties, such as a Sprite or Body.\n*\n* An intersection is considered valid if:\n*\n* The line starts within, or ends within, the Rectangle.\n* The line segment intersects one of the 4 rectangle edges.\n*\n* The for the purposes of this function rectangles are considered 'solid'.\n*/var LineToRectangle=function LineToRectangle(line,rect){var x1=line.x1;var y1=line.y2;var x2=line.x2;var y2=line.y2;var bx1=rect.x;var by1=rect.y;var bx2=rect.right;var by2=rect.bottom;var t=0;//  If the start or end of the line is inside the rect then we assume\n//  collision, as rects are solid for our use-case.\nif(x1>=bx1&&x1<=bx2&&y1>=by1&&y1<=by2||x2>=bx1&&x2<=bx2&&y2>=by1&&y2<=by2){return true;}if(x1<bx1&&x2>=bx1){//  Left edge\nt=y1+(y2-y1)*(bx1-x1)/(x2-x1);if(t>by1&&t<=by2){return true;}}else if(x1>bx2&&x2<=bx2){//  Right edge\nt=y1+(y2-y1)*(bx2-x1)/(x2-x1);if(t>=by1&&t<=by2){return true;}}if(y1<by1&&y2>=by1){//  Top edge\nt=x1+(x2-x1)*(by1-y1)/(y2-y1);if(t>=bx1&&t<=bx2){return true;}}else if(y1>by2&&y2<=by2){//  Bottom edge\nt=x1+(x2-x1)*(by2-y1)/(y2-y1);if(t>=bx1&&t<=bx2){return true;}}return false;};module.exports=LineToRectangle;/***/},/* 768 *//***/function(module,exports,__webpack_require__){var PointToLine=__webpack_require__(185);var PointToLineSegment=function PointToLineSegment(point,line){if(!PointToLine(point,line)){return false;}var xMin=Math.min(line.x1,line.x2);var xMax=Math.max(line.x1,line.x2);var yMin=Math.min(line.y1,line.y2);var yMax=Math.max(line.y1,line.y2);return point.x>=xMin&&point.x<=xMax&&point.y>=yMin&&point.y<=yMax;};module.exports=PointToLineSegment;/***/},/* 769 *//***/function(module,exports,__webpack_require__){var LineToLine=__webpack_require__(58);var Contains=__webpack_require__(27);var ContainsArray=__webpack_require__(90);var Decompose=__webpack_require__(186);var RectangleToTriangle=function RectangleToTriangle(rect,triangle){//  First the cheapest ones:\nif(triangle.left>rect.right||triangle.right<rect.left||triangle.top>rect.bottom||triangle.bottom<rect.top){return false;}var triA=triangle.getLineA();var triB=triangle.getLineB();var triC=triangle.getLineC();//  Are any of the triangle points within the rectangle?\nif(Contains(rect,triA.x1,triA.y1)||Contains(rect,triA.x2,triA.y2)){return true;}if(Contains(rect,triB.x1,triB.y1)||Contains(rect,triB.x2,triB.y2)){return true;}if(Contains(rect,triC.x1,triC.y1)||Contains(rect,triC.x2,triC.y2)){return true;}//  Cheap tests over, now to see if any of the lines intersect ...\nvar rectA=rect.getLineA();var rectB=rect.getLineB();var rectC=rect.getLineC();var rectD=rect.getLineD();if(LineToLine(triA,rectA)||LineToLine(triA,rectB)||LineToLine(triA,rectC)||LineToLine(triA,rectD)){return true;}if(LineToLine(triB,rectA)||LineToLine(triB,rectB)||LineToLine(triB,rectC)||LineToLine(triB,rectD)){return true;}if(LineToLine(triC,rectA)||LineToLine(triC,rectB)||LineToLine(triC,rectC)||LineToLine(triC,rectD)){return true;}//  None of the lines intersect, so are any rectangle points within the triangle?\nvar points=Decompose(rect);var within=ContainsArray(triangle,points,true);return within.length>0;};module.exports=RectangleToTriangle;/***/},/* 770 *//***/function(module,exports){var RectangleToValues=function RectangleToValues(rect,left,right,top,bottom,tolerance){if(tolerance===undefined){tolerance=0;}return!(left>rect.right+tolerance||right<rect.left-tolerance||top>rect.bottom+tolerance||bottom<rect.top-tolerance);};module.exports=RectangleToValues;/***/},/* 771 *//***/function(module,exports,__webpack_require__){var LineToCircle=__webpack_require__(184);var Contains=__webpack_require__(46);var TriangleToCircle=function TriangleToCircle(triangle,circle){//  First the cheapest ones:\nif(triangle.left>circle.right||triangle.right<circle.left||triangle.top>circle.bottom||triangle.bottom<circle.top){return false;}if(Contains(triangle,circle.x,circle.y)){return true;}if(LineToCircle(triangle.getLineA(),circle)){return true;}if(LineToCircle(triangle.getLineB(),circle)){return true;}if(LineToCircle(triangle.getLineC(),circle)){return true;}return false;};module.exports=TriangleToCircle;/***/},/* 772 *//***/function(module,exports,__webpack_require__){var LineToLine=__webpack_require__(58);var Contains=__webpack_require__(46);var TriangleToLine=function TriangleToLine(triangle,line){//  If the Triangle contains either the start or end point of the line, it intersects\nif(Contains(triangle,line.getPointA())||Contains(triangle,line.getPointB())){return true;}//  Now check the line against each line of the Triangle\nif(LineToLine(triangle.getLineA(),line)){return true;}if(LineToLine(triangle.getLineB(),line)){return true;}if(LineToLine(triangle.getLineC(),line)){return true;}return false;};module.exports=TriangleToLine;/***/},/* 773 *//***/function(module,exports,__webpack_require__){var LineToLine=__webpack_require__(58);var ContainsArray=__webpack_require__(90);var Decompose=__webpack_require__(187);var TriangleToTriangle=function TriangleToTriangle(triangleA,triangleB){//  First the cheapest ones:\nif(triangleA.left>triangleB.right||triangleA.right<triangleB.left||triangleA.top>triangleB.bottom||triangleA.bottom<triangleB.top){return false;}var lineAA=triangleA.getLineA();var lineAB=triangleA.getLineB();var lineAC=triangleA.getLineC();var lineBA=triangleB.getLineA();var lineBB=triangleB.getLineB();var lineBC=triangleB.getLineC();//  Now check the lines against each line of TriangleB\nif(LineToLine(lineAA,lineBA)||LineToLine(lineAA,lineBB)||LineToLine(lineAA,lineBC)){return true;}if(LineToLine(lineAB,lineBA)||LineToLine(lineAB,lineBB)||LineToLine(lineAB,lineBC)){return true;}if(LineToLine(lineAC,lineBA)||LineToLine(lineAC,lineBB)||LineToLine(lineAC,lineBC)){return true;}//  Nope, so check to see if any of the points of triangleA are within triangleB\nvar points=Decompose(triangleA);var within=ContainsArray(triangleB,points,true);if(within.length>0){return true;}//  Finally check to see if any of the points of triangleB are within triangleA\npoints=Decompose(triangleB);within=ContainsArray(triangleA,points,true);if(within.length>0){return true;}return false;};module.exports=TriangleToTriangle;/***/},/* 774 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Line\nvar Line=__webpack_require__(188);Line.Angle=__webpack_require__(41);Line.CenterOn=__webpack_require__(775);Line.Clone=__webpack_require__(776);Line.CopyFrom=__webpack_require__(777);Line.Equals=__webpack_require__(778);Line.GetMidPoint=__webpack_require__(779);Line.GetNormal=__webpack_require__(780);Line.GetPoint=__webpack_require__(781);Line.GetPointsOnLine=__webpack_require__(62);Line.Height=__webpack_require__(782);Line.Length=__webpack_require__(783);Line.NormalAngle=__webpack_require__(189);Line.NormalX=__webpack_require__(784);Line.NormalY=__webpack_require__(785);Line.Offset=__webpack_require__(786);Line.PerpSlope=__webpack_require__(787);Line.Random=__webpack_require__(119);Line.ReflectAngle=__webpack_require__(788);Line.Rotate=__webpack_require__(789);Line.RotateAroundPoint=__webpack_require__(790);Line.RotateAroundXY=__webpack_require__(91);Line.SetToAngle=__webpack_require__(791);Line.Slope=__webpack_require__(792);Line.Width=__webpack_require__(793);module.exports=Line;/***/},/* 775 *//***/function(module,exports){var CenterOn=function CenterOn(line,x,y){var tx=x-(line.x1+line.x2)/2;var ty=y-(line.y1+line.y2)/2;line.x1+=tx;line.y1+=ty;line.x2+=tx;line.y2+=ty;return line;};module.exports=CenterOn;/***/},/* 776 *//***/function(module,exports,__webpack_require__){var Line=__webpack_require__(188);var Clone=function Clone(source){return new Line(source.x1,source.y1,source.x2,source.y2);};module.exports=Clone;/***/},/* 777 *//***/function(module,exports){var CopyFrom=function CopyFrom(source,dest){return dest.setTo(source.x1,source.y1,source.x2,source.y2);};module.exports=CopyFrom;/***/},/* 778 *//***/function(module,exports){var Equals=function Equals(line,toCompare){return line.x1===toCompare.x1&&line.y1===toCompare.y1&&line.x2===toCompare.x2&&line.y2===toCompare.y2;};module.exports=Equals;/***/},/* 779 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var GetMidPoint=function GetMidPoint(line,out){if(out===undefined){out=new Point();}out.x=(line.x1+line.x2)/2;out.y=(line.y1+line.y2)/2;return out;};module.exports=GetMidPoint;/***/},/* 780 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);var Angle=__webpack_require__(41);var Point=__webpack_require__(8);var GetNormal=function GetNormal(line,out){if(out===undefined){out=new Point();}var a=Angle(line)-MATH_CONST.TAU;out.x=Math.cos(a);out.y=Math.sin(a);return out;};module.exports=GetNormal;/***/},/* 781 *//***/function(module,exports){//  Get a point on the given line 'progress' percentage along its length.\n//  progress is a value between 0 and 1.\nvar GetPoint=function GetPoint(line,progress){var x=line.x1+(line.x2-line.x1)*progress;var y=line.y1+(line.y2-line.y1)*progress;return{x:x,y:y};};module.exports=GetPoint;/***/},/* 782 *//***/function(module,exports){var Height=function Height(line){return Math.abs(line.y1-line.y2);};module.exports=Height;/***/},/* 783 *//***/function(module,exports){var Length=function Length(line){return Math.sqrt((line.x2-line.x1)*(line.x2-line.x1)+(line.y2-line.y1)*(line.y2-line.y1));};module.exports=Length;/***/},/* 784 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);var Angle=__webpack_require__(41);var NormalX=function NormalX(line){return Math.cos(Angle(line)-MATH_CONST.TAU);};module.exports=NormalX;/***/},/* 785 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);var Angle=__webpack_require__(41);var NormalY=function NormalY(line){return Math.sin(Angle(line)-MATH_CONST.TAU);};module.exports=NormalY;/***/},/* 786 *//***/function(module,exports){var Offset=function Offset(line,x,y){line.x1+=x;line.y1+=y;line.x2+=x;line.y2+=y;return line;};module.exports=Offset;/***/},/* 787 *//***/function(module,exports){var PerpSlope=function PerpSlope(line){return-((line.x2-line.x1)/(line.y2-line.y1));};module.exports=PerpSlope;/***/},/* 788 *//***/function(module,exports,__webpack_require__){var Angle=__webpack_require__(41);var NormalAngle=__webpack_require__(189);/**\n* Returns the reflected angle between two lines.\n* This is the outgoing angle based on the angle of Line 1 and the normalAngle of Line 2.\n*/var ReflectAngle=function ReflectAngle(lineA,lineB){return 2*NormalAngle(lineB)-Math.PI-Angle(lineA);};module.exports=ReflectAngle;/***/},/* 789 *//***/function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(91);var Rotate=function Rotate(line,angle){var x=(line.x1+line.x2)/2;var y=(line.y1+line.y2)/2;return RotateAroundXY(line,x,y,angle);};module.exports=Rotate;/***/},/* 790 *//***/function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(91);var RotateAroundPoint=function RotateAroundPoint(line,point,angle){return RotateAroundXY(line,point.x,point.y,angle);};module.exports=RotateAroundPoint;/***/},/* 791 *//***/function(module,exports){var SetToAngle=function SetToAngle(line,x,y,angle,length){line.x1=x;line.y1=y;line.x2=x+Math.cos(angle)*length;line.y2=y+Math.sin(angle)*length;return line;};module.exports=SetToAngle;/***/},/* 792 *//***/function(module,exports){var Slope=function Slope(line){return(line.y2-line.y1)/(line.x2-line.x1);};module.exports=Slope;/***/},/* 793 *//***/function(module,exports){var Width=function Width(line){return Math.abs(line.x1-line.x2);};module.exports=Width;/***/},/* 794 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Point\nvar Point=__webpack_require__(8);Point.Add=__webpack_require__(795);Point.Ceil=__webpack_require__(796);Point.Clone=__webpack_require__(797);Point.CopyFrom=__webpack_require__(798);Point.Cross=__webpack_require__(799);Point.Divide=__webpack_require__(800);Point.Dot=__webpack_require__(92);Point.Equals=__webpack_require__(801);Point.Floor=__webpack_require__(802);Point.GetCentroid=__webpack_require__(803);Point.GetMagnitude=__webpack_require__(190);Point.GetMagnitudeSq=__webpack_require__(191);Point.Interpolate=__webpack_require__(804);Point.Invert=__webpack_require__(805);Point.Multiply=__webpack_require__(192);Point.Negative=__webpack_require__(806);Point.Normalize=__webpack_require__(193);Point.NormalizeRightHand=__webpack_require__(807);Point.Perp=__webpack_require__(808);Point.Project=__webpack_require__(809);Point.ProjectUnit=__webpack_require__(810);Point.RPerp=__webpack_require__(811);Point.SetMagnitude=__webpack_require__(812);Point.Subtract=__webpack_require__(813);module.exports=Point;/***/},/* 795 *//***/function(module,exports){var Add=function Add(point,x,y){point.x+=x;point.y+=y;return point;};module.exports=Add;/***/},/* 796 *//***/function(module,exports){var Ceil=function Ceil(point){return point.setTo(Math.ceil(point.x),Math.ceil(point.y));};module.exports=Ceil;/***/},/* 797 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var Clone=function Clone(source){return new Point(source.x,source.y);};module.exports=Clone;/***/},/* 798 *//***/function(module,exports){/**\n* Copies the x, y and diameter properties from any given object to this Circle.\n* @method Phaser.Circle#copyFrom\n* @param {any} source - The object to copy from.\n* @return {Circle} This Circle object.\n*/var CopyFrom=function CopyFrom(source,dest){return dest.setTo(source.x,source.y);};module.exports=CopyFrom;/***/},/* 799 *//***/function(module,exports){var Cross=function Cross(pointA,pointB){return pointA.x*pointB.y-pointA.y*pointB.x;};module.exports=Cross;/***/},/* 800 *//***/function(module,exports){var Divide=function Divide(point,x,y){point.x/=x;point.y/=y;return point;};module.exports=Divide;/***/},/* 801 *//***/function(module,exports){var Equals=function Equals(point,toCompare){return point.x===toCompare.x&&point.y===toCompare.y;};module.exports=Equals;/***/},/* 802 *//***/function(module,exports){var Floor=function Floor(point){return point.setTo(Math.floor(point.x),Math.floor(point.y));};module.exports=Floor;/***/},/* 803 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var GetCentroid=function GetCentroid(points,out){if(out===undefined){out=new Point();}if(!Array.isArray(points)){throw new Error('GetCentroid points argument must be an array');}var len=points.length;if(len<1){throw new Error('GetCentroid points array must not be empty');}else if(len===1){out.x=points[0].x;out.y=points[0].y;}else{for(var i=0;i<len;i++){out.x+=points[i].x;out.y+=points[i].y;}out.x/=len;out.y/=len;}return out;};module.exports=GetCentroid;/***/},/* 804 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var Interpolate=function Interpolate(pointA,pointB,t,out){if(t===undefined){t=0;}if(out===undefined){out=new Point();}out.x=pointA.x+(pointB.x-pointA.x)*t;out.y=pointA.y+(pointB.y-pointA.y)*t;return out;};module.exports=Interpolate;/***/},/* 805 *//***/function(module,exports){var Invert=function Invert(point){return point.setTo(point.y,point.x);};module.exports=Invert;/***/},/* 806 *//***/function(module,exports,__webpack_require__){var Point=__webpack_require__(8);var Negative=function Negative(point,out){if(out===undefined){out=new Point();}return out.setTo(-point.x,-point.y);};module.exports=Negative;/***/},/* 807 *//***/function(module,exports){var NormalizeRightHand=function NormalizeRightHand(point){return point.setTo(point.y*-1,point.x);};module.exports=NormalizeRightHand;/***/},/* 808 *//***/function(module,exports){var Perp=function Perp(point){return point.setTo(-point.y,point.x);};module.exports=Perp;/***/},/* 809 *//***/function(module,exports,__webpack_require__){var Dot=__webpack_require__(92);var Point=__webpack_require__(8);var GetMagnitudeSq=__webpack_require__(191);var Project=function Project(pointA,pointB,out){if(out===undefined){out=new Point();}var amt=Dot(pointA,pointB)/GetMagnitudeSq(pointB);if(amt!==0){out.x=amt*pointB.x;out.y=amt*pointB.y;}return out;};module.exports=Project;/***/},/* 810 *//***/function(module,exports,__webpack_require__){var Dot=__webpack_require__(92);var Point=__webpack_require__(8);var ProjectUnit=function ProjectUnit(pointA,pointB,out){if(out===undefined){out=new Point();}var amt=Dot(pointA,pointB);if(amt!==0){out.x=amt*pointB.x;out.y=amt*pointB.y;}return out;};module.exports=ProjectUnit;/***/},/* 811 *//***/function(module,exports){var RPerp=function RPerp(point){return point.setTo(point.y,-point.x);};module.exports=RPerp;/***/},/* 812 *//***/function(module,exports,__webpack_require__){var Normalize=__webpack_require__(193);var Multiply=__webpack_require__(192);var SetMagnitude=function SetMagnitude(point,magnitude){Normalize(point);return Multiply(point,magnitude,magnitude);};module.exports=SetMagnitude;/***/},/* 813 *//***/function(module,exports){var Subtract=function Subtract(point,x,y){point.x-=x;point.y-=y;return point;};module.exports=Subtract;/***/},/* 814 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Polygon\nvar Polygon=__webpack_require__(194);Polygon.Clone=__webpack_require__(815);Polygon.Contains=__webpack_require__(195);Polygon.ContainsPoint=__webpack_require__(816);Polygon.GetAABB=__webpack_require__(817);Polygon.GetNumberArray=__webpack_require__(818);module.exports=Polygon;/***/},/* 815 *//***/function(module,exports,__webpack_require__){var Polygon=__webpack_require__(194);var Clone=function Clone(polygon){return new Polygon(polygon.points);};module.exports=Clone;/***/},/* 816 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(195);var ContainsPoint=function ContainsPoint(polygon,point){return Contains(polygon,point.x,point.y);};module.exports=ContainsPoint;/***/},/* 817 *//***/function(module,exports){var GetAABB=function GetAABB(polygon){var minX=Infinity;var minY=Infinity;var maxX=-minX;var maxY=-minY;var p;for(var i=0;i<polygon.points.length;i++){p=polygon.points[i];minX=Math.min(minX,p.x);minY=Math.min(minY,p.y);maxX=Math.max(maxX,p.x);maxY=Math.max(maxY,p.y);}return{x:minX,y:minY,width:maxX-minX,height:maxY-minY};};module.exports=GetAABB;/***/},/* 818 *//***/function(module,exports){/**\n * Export the points as an array of flat numbers, following the sequence [ x,y, x,y, x,y ]\n */var GetNumberArray=function GetNumberArray(polygon,output){if(output===undefined){output=[];}for(var i=0;i<polygon.points.length;i++){output.push(polygon.points[i].x);output.push(polygon.points[i].y);}return output;};module.exports=GetNumberArray;/***/},/* 819 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Rectangle\nvar Rectangle=__webpack_require__(14);Rectangle.Area=__webpack_require__(820);Rectangle.Ceil=__webpack_require__(821);Rectangle.CeilAll=__webpack_require__(822);Rectangle.CenterOn=__webpack_require__(823);Rectangle.Clone=__webpack_require__(824);Rectangle.Contains=__webpack_require__(27);Rectangle.ContainsPoint=__webpack_require__(825);Rectangle.ContainsRect=__webpack_require__(826);Rectangle.CopyFrom=__webpack_require__(827);Rectangle.Decompose=__webpack_require__(186);Rectangle.Equals=__webpack_require__(828);Rectangle.FitInside=__webpack_require__(829);Rectangle.FitOutside=__webpack_require__(830);Rectangle.Floor=__webpack_require__(831);Rectangle.FloorAll=__webpack_require__(832);Rectangle.GetAspectRatio=__webpack_require__(93);Rectangle.GetCenter=__webpack_require__(833);Rectangle.GetSize=__webpack_require__(834);Rectangle.Inflate=__webpack_require__(835);Rectangle.MarchingAnts=__webpack_require__(113);Rectangle.MergePoints=__webpack_require__(836);Rectangle.MergeRect=__webpack_require__(837);Rectangle.MergeXY=__webpack_require__(838);Rectangle.Offset=__webpack_require__(839);Rectangle.OffsetPoint=__webpack_require__(840);Rectangle.Overlaps=__webpack_require__(841);Rectangle.Perimeter=__webpack_require__(114);Rectangle.PerimeterPoint=__webpack_require__(842);Rectangle.Random=__webpack_require__(120);Rectangle.Scale=__webpack_require__(843);Rectangle.Union=__webpack_require__(844);module.exports=Rectangle;/***/},/* 820 *//***/function(module,exports){var Area=function Area(rect){return rect.width*rect.height;};module.exports=Area;/***/},/* 821 *//***/function(module,exports){var Ceil=function Ceil(rect){rect.x=Math.ceil(rect.x);rect.y=Math.ceil(rect.y);return rect;};module.exports=Ceil;/***/},/* 822 *//***/function(module,exports){var CeilAll=function CeilAll(rect){rect.x=Math.ceil(rect.x);rect.y=Math.ceil(rect.y);rect.width=Math.ceil(rect.width);rect.height=Math.ceil(rect.height);return rect;};module.exports=CeilAll;/***/},/* 823 *//***/function(module,exports){/**\n* Centers this Rectangle so that the center coordinates match the given x and y values.\n*/var CenterOn=function CenterOn(rect,x,y){rect.x=x-rect.width/2;rect.y=y-rect.height/2;return rect;};module.exports=CenterOn;/***/},/* 824 *//***/function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(14);var Clone=function Clone(source){return new Rectangle(source.x,source.y,source.width,source.height);};module.exports=Clone;/***/},/* 825 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(27);var ContainsPoint=function ContainsPoint(rect,point){return Contains(rect,point.x,point.y);};module.exports=ContainsPoint;/***/},/* 826 *//***/function(module,exports){//  Checks if rectB is fully contained within rectA\nvar ContainsRect=function ContainsRect(rectA,rectB){//  Volume check (if rectB volume > rectA then rectA cannot contain it)\nif(rectB.width*rectB.height>rectA.width*rectA.height){return false;}return rectB.x>rectA.x&&rectB.x<rectA.right&&rectB.right>rectA.x&&rectB.right<rectA.right&&rectB.y>rectA.y&&rectB.y<rectA.bottom&&rectB.bottom>rectA.y&&rectB.bottom<rectA.bottom;};module.exports=ContainsRect;/***/},/* 827 *//***/function(module,exports){var CopyFrom=function CopyFrom(source,dest){return dest.setTo(source.x,source.y,source.width,source.height);};module.exports=CopyFrom;/***/},/* 828 *//***/function(module,exports){var Equals=function Equals(rect,toCompare){return rect.x===toCompare.x&&rect.y===toCompare.y&&rect.width===toCompare.width&&rect.height===toCompare.height;};module.exports=Equals;/***/},/* 829 *//***/function(module,exports,__webpack_require__){var GetAspectRatio=__webpack_require__(93);//  Fits the target rectangle into the source rectangle.\n//  Preserves aspect ratio.\n//  Scales and centers the target rectangle to the source rectangle\nvar FitInside=function FitInside(target,source){var ratio=GetAspectRatio(target);if(ratio<GetAspectRatio(source)){//  Taller than Wide\ntarget.setSize(source.height*ratio,source.height);}else{//  Wider than Tall\ntarget.setSize(source.width,source.width*ratio);}return target.setPosition(source.right/2-target.width/2,source.bottom/2-target.height/2);};module.exports=FitInside;/***/},/* 830 *//***/function(module,exports,__webpack_require__){var GetAspectRatio=__webpack_require__(93);//  Fits the target rectangle around the source rectangle.\n//  Preserves aspect ration.\n//  Scales and centers the target rectangle to the source rectangle\nvar FitOutside=function FitOutside(target,source){var ratio=GetAspectRatio(target);if(ratio>GetAspectRatio(source)){//  Wider than Tall\ntarget.setSize(source.height*ratio,source.height);}else{//  Taller than Wide\ntarget.setSize(source.width,source.width*ratio);}return target.setPosition(source.right/2-target.width/2,source.bottom/2-target.height/2);};module.exports=FitOutside;/***/},/* 831 *//***/function(module,exports){var Floor=function Floor(rect){rect.x=Math.floor(rect.x);rect.y=Math.floor(rect.y);return rect;};module.exports=Floor;/***/},/* 832 *//***/function(module,exports){var FloorAll=function FloorAll(rect){rect.x=Math.floor(rect.x);rect.y=Math.floor(rect.y);rect.width=Math.floor(rect.width);rect.height=Math.floor(rect.height);return rect;};module.exports=FloorAll;/***/},/* 833 *//***/function(module,exports){//  The center of the Rectangle object, expressed as a Point object \nvar GetCenter=function GetCenter(rect,out){if(out===undefined){out={x:0,y:0};}out.x=rect.right/2;out.y=rect.bottom/2;return out;};module.exports=GetCenter;/***/},/* 834 *//***/function(module,exports){//  The size of the Rectangle object, expressed as a Point object \n//  with the values of the width and height properties.\nvar GetSize=function GetSize(rect,out){if(out===undefined){out={x:0,y:0};}out.x=rect.width;out.y=rect.height;return out;};module.exports=GetSize;/***/},/* 835 *//***/function(module,exports){//  Increases the size of the Rectangle object by the specified amounts.\n//  The center point of the Rectangle object stays the same, and its size increases \n//  to the left and right by the x value, and to the top and the bottom by the y value.\nvar Inflate=function Inflate(rect,x,y){//  Get the current center\nvar cx=rect.x+rect.width/2;var cy=rect.y+rect.height/2;//  Inflate\nrect.width=2*x;rect.height=2*y;rect.x=x-rect.width/2;rect.y=y-rect.height/2;return rect;};module.exports=Inflate;/***/},/* 836 *//***/function(module,exports){//  Merges the target Rectangle with a list of points.\n//  The points is an array of objects with public x/y properties.\nvar MergePoints=function MergePoints(target,points){var minX=target.x;var maxX=target.right;var minY=target.y;var maxY=target.bottom;for(var i=0;i<points.length;i++){minX=Math.min(minX,points[i].x);maxX=Math.max(maxX,points[i].x);minY=Math.min(minY,points[i].y);maxY=Math.max(maxY,points[i].y);}target.x=minX;target.y=minY;target.width=maxX-minX;target.height=maxY-minY;return target;};module.exports=MergePoints;/***/},/* 837 *//***/function(module,exports){//  Merges source rectangle into target rectangle and returns target\n//  Neither rect should have negative widths or heights\nvar MergeRect=function MergeRect(target,source){var minX=Math.min(target.x,source.x);var maxX=Math.max(target.right,source.right);target.x=minX;target.width=maxX-minX;var minY=Math.min(target.y,source.y);var maxY=Math.max(target.bottom,source.bottom);target.y=minY;target.height=maxY-minY;return target;};module.exports=MergeRect;/***/},/* 838 *//***/function(module,exports){var MergeXY=function MergeXY(target,x,y){var minX=Math.min(target.x,x);var maxX=Math.max(target.right,x);target.x=minX;target.width=maxX-minX;var minY=Math.min(target.y,y);var maxY=Math.max(target.bottom,y);target.y=minY;target.height=maxY-minY;return target;};module.exports=MergeXY;/***/},/* 839 *//***/function(module,exports){var Offset=function Offset(rect,x,y){rect.x+=x;rect.y+=y;return rect;};module.exports=Offset;/***/},/* 840 *//***/function(module,exports){var OffsetPoint=function OffsetPoint(rect,point){rect.x+=point.x;rect.y+=point.y;return rect;};module.exports=OffsetPoint;/***/},/* 841 *//***/function(module,exports){var Overlaps=function Overlaps(rectA,rectB){return rectA.x<rectB.right&&rectA.right>rectB.x&&rectA.y<rectB.bottom&&rectA.bottom>rectB.y;};module.exports=Overlaps;/***/},/* 842 *//***/function(module,exports,__webpack_require__){var MATH_CONST=__webpack_require__(10);//  deg = degrees (0-360)\nvar PerimeterPoint=function PerimeterPoint(rect,deg,out){if(out===undefined){out={x:0,y:0};}var theta=deg*MATH_CONST.DEG_TO_RAD;while(theta<-Math.PI){theta+=MATH_CONST.PI2;}while(theta>Math.PI){theta-=MATH_CONST.PI2;}var rectAtan=Math.atan2(rect.height,rect.width);var tanTheta=Math.tan(theta);var thetaBounds=Math.PI-rectAtan;var region;var xFactor=1;var yFactor=1;if(theta>-rectAtan&&theta<=rectAtan){region=1;yFactor=-1;}else if(theta>rectAtan&&theta<=thetaBounds){region=2;yFactor=-1;}else if(theta>thetaBounds||theta<=-thetaBounds){region=3;xFactor=-1;}else{region=4;xFactor=-1;}out.x=rect.x+rect.width/2;out.y=rect.y+rect.height/2;if(region===1||region===3){out.x+=xFactor*(rect.width/2);// \"Z0\"\nout.y+=yFactor*(rect.width/2)*tanTheta;}else{out.x+=xFactor*(rect.height/(2*tanTheta));// \"Z1\"\nout.y+=yFactor*(rect.height/2);}return out;};module.exports=PerimeterPoint;/***/},/* 843 *//***/function(module,exports){/**\n* Scales the width and height of this Rectangle by the given amounts.\n*/var Scale=function Scale(rect,x,y){if(y===undefined){y=x;}rect.width*=x;rect.height*=y;return rect;};module.exports=Scale;/***/},/* 844 *//***/function(module,exports,__webpack_require__){var Rectangle=__webpack_require__(14);var Union=function Union(rectA,rectB,output){if(output===undefined){output=Rectangle();}var x=Math.min(rectA.x,rectB.x);var y=Math.min(rectA.y,rectB.y);return output.set(x,y,Math.max(rectA.right,rectB.right)-x,Math.max(rectA.bottom,rectB.bottom)-y);};module.exports=Union;/***/},/* 845 *//***/function(module,exports,__webpack_require__){//  Phaser.Geom.Triangle\nvar Triangle=__webpack_require__(40);Triangle.Area=__webpack_require__(846);Triangle.BuildEquilateral=__webpack_require__(847);Triangle.BuildFromPolygon=__webpack_require__(848);Triangle.BuildRight=__webpack_require__(849);Triangle.CenterOn=__webpack_require__(850);Triangle.Centroid=__webpack_require__(196);Triangle.CircumCenter=__webpack_require__(851);Triangle.CircumCircle=__webpack_require__(852);Triangle.Clone=__webpack_require__(853);Triangle.Contains=__webpack_require__(46);Triangle.ContainsArray=__webpack_require__(90);Triangle.ContainsPoint=__webpack_require__(854);Triangle.CopyFrom=__webpack_require__(855);Triangle.Decompose=__webpack_require__(187);Triangle.Equals=__webpack_require__(856);Triangle.InCenter=__webpack_require__(198);Triangle.Offset=__webpack_require__(197);Triangle.Random=__webpack_require__(121);Triangle.Rotate=__webpack_require__(857);Triangle.RotateAroundPoint=__webpack_require__(858);Triangle.RotateAroundXY=__webpack_require__(94);module.exports=Triangle;/***/},/* 846 *//***/function(module,exports){// The 2D area of a triangle. The area value is always non-negative.\nvar Area=function Area(triangle){var x1=triangle.x1;var y1=triangle.y1;var x2=triangle.x2;var y2=triangle.y2;var x3=triangle.x3;var y3=triangle.y3;return Math.abs(((x3-x1)*(y2-y1)-(x2-x1)*(y3-y1))/2);};module.exports=Area;/***/},/* 847 *//***/function(module,exports,__webpack_require__){var Triangle=__webpack_require__(40);// Builds an equilateral triangle.\n// In the equilateral triangle, all the sides are the same length (congruent)\n// and all the angles are the same size (congruent).\n//  The x/y specifies the top-middle of the triangle (x1/y1) and length\n//  is the length of each side\nvar BuildEquilateral=function BuildEquilateral(x,y,length){var height=length*(Math.sqrt(3)/2);var x1=x;var y1=y;var x2=x+length/2;var y2=y+height;var x3=x-length/2;var y3=y+height;return new Triangle(x1,y1,x2,y2,x3,y3);};module.exports=BuildEquilateral;/***/},/* 848 *//***/function(module,exports,__webpack_require__){var EarCut=__webpack_require__(161);var Triangle=__webpack_require__(40);var BuildFromPolygon=function BuildFromPolygon(data,holes,scaleX,scaleY,out){if(holes===undefined){holes=null;}if(scaleX===undefined){scaleX=1;}if(scaleY===undefined){scaleY=1;}if(out===undefined){out=[];}var tris=EarCut(data,holes);var a;var b;var c;var x1;var y1;var x2;var y2;var x3;var y3;for(var i=0;i<tris.length;i+=3){a=tris[i];b=tris[i+1];c=tris[i+2];x1=data[a*2]*scaleX;y1=data[a*2+1]*scaleY;x2=data[b*2]*scaleX;y2=data[b*2+1]*scaleY;x3=data[c*2]*scaleX;y3=data[c*2+1]*scaleY;out.push(new Triangle(x1,y1,x2,y2,x3,y3));}return out;};module.exports=BuildFromPolygon;/***/},/* 849 *//***/function(module,exports,__webpack_require__){var Triangle=__webpack_require__(40);//  Builds a right triangle, with one 90 degree angle and two acute angles\n//  The x/y is the coordinate of the 90 degree angle (and will map to x1/y1 in the resulting Triangle)\n//  w/h can be positive or negative and represent the length of each side\nvar BuildRight=function BuildRight(x,y,width,height){if(height===undefined){height=width;}//  90 degree angle\nvar x1=x;var y1=y;var x2=x;var y2=y-height;var x3=x+width;var y3=y;return new Triangle(x1,y1,x2,y2,x3,y3);};module.exports=BuildRight;/***/},/* 850 *//***/function(module,exports,__webpack_require__){var Centroid=__webpack_require__(196);var Offset=__webpack_require__(197);var CenterOn=function CenterOn(triangle,x,y,centerFunc){if(centerFunc===undefined){centerFunc=Centroid;}//  Get the center of the triangle\nvar center=centerFunc(triangle);//  Difference\nvar diffX=x-center.x;var diffY=y-center.y;return Offset(triangle,diffX,diffY);};module.exports=CenterOn;/***/},/* 851 *//***/function(module,exports){//  Adapted from http://bjornharrtell.github.io/jsts/doc/api/jsts_geom_Triangle.js.html\n/**\n * Computes the determinant of a 2x2 matrix. Uses standard double-precision\n * arithmetic, so is susceptible to round-off error.\n *\n * @param {Number}\n *          m00 the [0,0] entry of the matrix.\n * @param {Number}\n *          m01 the [0,1] entry of the matrix.\n * @param {Number}\n *          m10 the [1,0] entry of the matrix.\n * @param {Number}\n *          m11 the [1,1] entry of the matrix.\n * @return {Number} the determinant.\n */function det(m00,m01,m10,m11){return m00*m11-m01*m10;}/**\n * Computes the circumcentre of a triangle. The circumcentre is the centre of\n * the circumcircle, the smallest circle which encloses the triangle. It is also\n * the common intersection point of the perpendicular bisectors of the sides of\n * the triangle, and is the only point which has equal distance to all three\n * vertices of the triangle.\n * <p>\n * This method uses an algorithm due to J.R.Shewchuk which uses normalization to\n * the origin to improve the accuracy of computation. (See <i>Lecture Notes on\n * Geometric Robustness</i>, Jonathan Richard Shewchuk, 1999).\n */var CircumCenter=function CircumCenter(triangle,out){if(out===undefined){out={x:0,y:0};}var cx=triangle.x3;var cy=triangle.y3;var ax=triangle.x1-cx;var ay=triangle.y1-cy;var bx=triangle.x2-cx;var by=triangle.y2-cy;var denom=2*det(ax,ay,bx,by);var numx=det(ay,ax*ax+ay*ay,by,bx*bx+by*by);var numy=det(ax,ax*ax+ay*ay,bx,bx*bx+by*by);out.x=cx-numx/denom;out.y=cy+numy/denom;return out;};module.exports=CircumCenter;/***/},/* 852 *//***/function(module,exports){//  Adapted from https://gist.github.com/mutoo/5617691\nvar CircumCircle=function CircumCircle(triangle,out){if(out===undefined){out={x:0,y:0,radius:0};}//  A\nvar x1=triangle.x1;var y1=triangle.y1;//  B\nvar x2=triangle.x2;var y2=triangle.y2;//  C\nvar x3=triangle.x3;var y3=triangle.y3;var A=x2-x1;var B=y2-y1;var C=x3-x1;var D=y3-y1;var E=A*(x1+x2)+B*(y1+y2);var F=C*(x1+x3)+D*(y1+y3);var G=2*(A*(y3-y2)-B*(x3-x2));var dx;var dy;//  If the points of the triangle are collinear, then just find the\n//  extremes and use the midpoint as the center of the circumcircle.\nif(Math.abs(G)<0.000001){var minX=Math.min(x1,x2,x3);var minY=Math.min(y1,y2,y3);dx=(Math.max(x1,x2,x3)-minX)*0.5;dy=(Math.max(y1,y2,y3)-minY)*0.5;out.x=minX+dx;out.y=minY+dy;out.radius=Math.sqrt(dx*dx+dy*dy);}else{out.x=(D*E-B*F)/G;out.y=(A*F-C*E)/G;dx=out.x-x1;dy=out.y-y1;out.radius=Math.sqrt(dx*dx+dy*dy);}return out;};module.exports=CircumCircle;/***/},/* 853 *//***/function(module,exports,__webpack_require__){var Triangle=__webpack_require__(40);var Clone=function Clone(source){return new Triangle(source.x1,source.y1,source.x2,source.y2,source.x3,source.y3);};module.exports=Clone;/***/},/* 854 *//***/function(module,exports,__webpack_require__){var Contains=__webpack_require__(46);var ContainsPoint=function ContainsPoint(triangle,point){return Contains(triangle,point.x,point.y);};module.exports=ContainsPoint;/***/},/* 855 *//***/function(module,exports){var CopyFrom=function CopyFrom(source,dest){return dest.setTo(source.x1,source.y1,source.x2,source.y2,source.x3,source.y3);};module.exports=CopyFrom;/***/},/* 856 *//***/function(module,exports){var Equals=function Equals(triangle,toCompare){return triangle.x1===toCompare.x1&&triangle.y1===toCompare.y1&&triangle.x2===toCompare.x2&&triangle.y2===toCompare.y2&&triangle.x3===toCompare.x3&&triangle.y3===toCompare.y3;};module.exports=Equals;/***/},/* 857 *//***/function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(94);var InCenter=__webpack_require__(198);var Rotate=function Rotate(triangle,angle){var point=InCenter(triangle);return RotateAroundXY(triangle,point.x,point.y,angle);};module.exports=Rotate;/***/},/* 858 *//***/function(module,exports,__webpack_require__){var RotateAroundXY=__webpack_require__(94);var RotateAroundPoint=function RotateAroundPoint(triangle,point,angle){return RotateAroundXY(triangle,point.x,point.y,angle);};module.exports=RotateAroundPoint;/***/},/* 859 *//***/function(module,exports,__webpack_require__){//  Phaser.Graphics\nmodule.exports={BlendModes:__webpack_require__(860),Color:__webpack_require__(875)};/***/},/* 860 *//***/function(module,exports,__webpack_require__){//  Phaser.Graphics.BlendModes\nmodule.exports={Add:__webpack_require__(199),Average:__webpack_require__(861),ColorBurn:__webpack_require__(200),ColorDodge:__webpack_require__(201),Darken:__webpack_require__(202),Difference:__webpack_require__(862),Exclusion:__webpack_require__(863),Glow:__webpack_require__(864),HardLight:__webpack_require__(865),HardMix:__webpack_require__(866),Lighten:__webpack_require__(206),LinearBurn:__webpack_require__(207),LinearDodge:__webpack_require__(209),LinearLight:__webpack_require__(867),Multiply:__webpack_require__(868),Negation:__webpack_require__(869),Normal:__webpack_require__(870),Overlay:__webpack_require__(204),Phoenix:__webpack_require__(871),PinLight:__webpack_require__(872),Reflect:__webpack_require__(203),Screen:__webpack_require__(873),SoftLight:__webpack_require__(874),Subtract:__webpack_require__(208),VividLight:__webpack_require__(205)};/***/},/* 861 *//***/function(module,exports){/**\n* Takes the average of the source and backdrop colors.\n*/var Average=function Average(a,b){return(a+b)/2;};module.exports=Average;/***/},/* 862 *//***/function(module,exports){/**\n* Subtracts the darker of the two constituent colors from the lighter.\n* \n* Painting with white inverts the backdrop color; painting with black produces no change. \n*/var Difference=function Difference(a,b){return Math.abs(a-b);};module.exports=Difference;/***/},/* 863 *//***/function(module,exports){/**\n* Produces an effect similar to that of the Difference mode, but lower in contrast. \n* Painting with white inverts the backdrop color; painting with black produces no change. \n*/var Exclusion=function Exclusion(a,b){return a+b-2*a*b/255;};module.exports=Exclusion;/***/},/* 864 *//***/function(module,exports,__webpack_require__){var Reflect=__webpack_require__(203);/**\n* Glow blend mode. This mode is a variation of reflect mode with the source and backdrop colors swapped.\n*/var Glow=function Glow(a,b){return Reflect(b,a);};module.exports=Glow;/***/},/* 865 *//***/function(module,exports,__webpack_require__){var Overlay=__webpack_require__(204);/**\n* Multiplies or screens the colors, depending on the source color value. \n* \n* If the source color is lighter than 0.5, the backdrop is lightened, as if it were screened; \n* this is useful for adding highlights to a scene. \n* \n* If the source color is darker than 0.5, the backdrop is darkened, as if it were multiplied; \n* this is useful for adding shadows to a scene. \n* \n* The degree of lightening or darkening is proportional to the difference between the source color and 0.5; \n* if it is equal to 0.5, the backdrop is unchanged.\n* \n* Painting with pure black or white produces pure black or white. The effect is similar to shining a harsh spotlight on the backdrop. \n*/var HardLight=function HardLight(a,b){return Overlay(b,a);};module.exports=HardLight;/***/},/* 866 *//***/function(module,exports,__webpack_require__){var VividLight=__webpack_require__(205);/**\n* Runs blendVividLight on the source and backdrop colors.\n* If the resulting color is 128 or more, it receives a value of 255; if less than 128, a value of 0.\n* Therefore, all blended pixels have red, green, and blue channel values of either 0 or 255.\n* This changes all pixels to primary additive colors (red, green, or blue), white, or black.\n*/var HardMix=function HardMix(a,b){return VividLight(a,b)<128?0:255;};module.exports=HardMix;/***/},/* 867 *//***/function(module,exports,__webpack_require__){var LinearBurn=__webpack_require__(207);var LinearDodge=__webpack_require__(209);/**\n* This blend mode combines Linear Dodge and Linear Burn (rescaled so that neutral colors become middle gray).\n* Dodge applies to values of top layer lighter than middle gray, and burn to darker values.\n* The calculation simplifies to the sum of bottom layer and twice the top layer, subtract 128. The contrast decreases.\n*/var LinearLight=function LinearLight(a,b){return b<128?LinearBurn(a,2*b):LinearDodge(a,2*(b-128));};module.exports=LinearLight;/***/},/* 868 *//***/function(module,exports){/**\n* Multiplies the backdrop and source color values.\n* The result color is always at least as dark as either of the two constituent\n* colors. Multiplying any color with black produces black;\n* multiplying with white leaves the original color unchanged.\n*/var Multiply=function Multiply(a,b){return a*b/255;};module.exports=Multiply;/***/},/* 869 *//***/function(module,exports){/**\n* Negation blend mode.\n*/var Negation=function Negation(a,b){return 255-Math.abs(255-a-b);};module.exports=Negation;/***/},/* 870 *//***/function(module,exports){/**\n* Blends the source color, ignoring the backdrop.\n*/var Normal=function Normal(a){return a;};module.exports=Normal;/***/},/* 871 *//***/function(module,exports){/**\n* Phoenix blend mode. This subtracts the lighter color from the darker color, and adds 255, giving a bright result.\n*/var Phoenix=function Phoenix(a,b){return Math.min(a,b)-Math.max(a,b)+255;};module.exports=Phoenix;/***/},/* 872 *//***/function(module,exports,__webpack_require__){var Darken=__webpack_require__(202);var Lighten=__webpack_require__(206);/**\n* If the backdrop color (light source) is lighter than 50%, the blendDarken mode is used, and colors lighter than the backdrop color do not change.\n* If the backdrop color is darker than 50% gray, colors lighter than the blend color are replaced, and colors darker than the blend color do not change.\n*/var PinLight=function PinLight(a,b){return b<128?Darken(a,2*b):Lighten(a,2*(b-128));};module.exports=PinLight;/***/},/* 873 *//***/function(module,exports){/**\n* Multiplies the complements of the backdrop and source color values, then complements the result.\n* The result color is always at least as light as either of the two constituent colors. \n* Screening any color with white produces white; screening with black leaves the original color unchanged. \n*/var Screen=function Screen(a,b){return 255-((255-a)*(255-b)>>8);};module.exports=Screen;/***/},/* 874 *//***/function(module,exports){/**\n* Darkens or lightens the colors, depending on the source color value. \n* \n* If the source color is lighter than 0.5, the backdrop is lightened, as if it were dodged; \n* this is useful for adding highlights to a scene. \n* \n* If the source color is darker than 0.5, the backdrop is darkened, as if it were burned in. \n* The degree of lightening or darkening is proportional to the difference between the source color and 0.5; \n* if it is equal to 0.5, the backdrop is unchanged.\n* \n* Painting with pure black or white produces a distinctly darker or lighter area, but does not result in pure black or white. \n* The effect is similar to shining a diffused spotlight on the backdrop. \n*/var SoftLight=function SoftLight(a,b){return b<128?2*((a>>1)+64)*(b/255):255-2*(255-((a>>1)+64))*(255-b)/255;};module.exports=SoftLight;/***/},/* 875 *//***/function(module,exports,__webpack_require__){//  Phaser.Graphics.Color\nvar Color=__webpack_require__(29);Color.ColorToRGBA=__webpack_require__(876);Color.ComponentToHex=__webpack_require__(210);Color.CSSToColor=__webpack_require__(877);Color.GetColor=__webpack_require__(69);Color.GetColor32=__webpack_require__(149);Color.HexStringToColor=__webpack_require__(150);Color.HSLToColor=__webpack_require__(878);Color.HSVColorWheel=__webpack_require__(880);Color.HSVToRGB=__webpack_require__(212);Color.HueToComponent=__webpack_require__(211);Color.IntegerToColor=__webpack_require__(151);Color.IntegerToRGB=__webpack_require__(152);Color.Interpolate=__webpack_require__(881);Color.RandomRGB=__webpack_require__(882);Color.RGBStringToColor=__webpack_require__(148);Color.RGBToHSV=__webpack_require__(883);Color.RGBToString=__webpack_require__(884);Color.ValueToColor=__webpack_require__(52);module.exports=Color;/***/},/* 876 *//***/function(module,exports){var ColorToRGBA=function ColorToRGBA(color){var output={r:color>>16&0xFF,g:color>>8&0xFF,b:color&0xFF,a:255};if(color>16777215){output.a=color>>>24;}return output;};module.exports=ColorToRGBA;/***/},/* 877 *//***/function(module,exports,__webpack_require__){var Color=__webpack_require__(29);var CSSMap={aliceblue:[240,248,245],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,35],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,129],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var CSSToColor=function CSSToColor(name){name=name.toLowerCase();var color=new Color();var entry=CSSMap[name];if(entry){color.setTo(entry[0],entry[1],entry[2],255);}return color;};module.exports=CSSToColor;/***/},/* 878 *//***/function(module,exports,__webpack_require__){var Color=__webpack_require__(29);var HueToComponent=__webpack_require__(211);var HSLToColor=function HSLToColor(h,s,l){// achromatic by default\nvar r=l;var g=l;var b=l;if(s!==0){var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=HueToComponent(p,q,h+1/3);g=HueToComponent(p,q,h);b=HueToComponent(p,q,h-1/3);}var color=new Color();return color.setGLTo(r,g,b,1);};module.exports=HSLToColor;/***/},/* 879 *//***/function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];// module.parent = undefined by default\nif(!module.children)module.children=[];Object.defineProperty(module,\"loaded\",{enumerable:true,get:function get(){return module.l;}});Object.defineProperty(module,\"id\",{enumerable:true,get:function get(){return module.i;}});module.webpackPolyfill=1;}return module;};/***/},/* 880 *//***/function(module,exports,__webpack_require__){var HSVToRGB=__webpack_require__(212);/**\n* Get HSV color wheel values in an array which will be 360 elements in size.\n*/var HSVColorWheel=function HSVColorWheel(s,v){if(s===undefined){s=1;}if(v===undefined){v=1;}var colors=[];for(var c=0;c<=359;c++){colors.push(HSVToRGB(c/359,s,v));}return colors;};module.exports=HSVColorWheel;/***/},/* 881 *//***/function(module,exports,__webpack_require__){var Linear=__webpack_require__(145);var RGBWithRGB=function RGBWithRGB(r1,g1,b1,r2,g2,b2,length,index){if(length===undefined){length=100;}if(index===undefined){index=0;}var t=index/length;return{r:Linear(r1,r2,t),g:Linear(g1,g2,t),b:Linear(b1,b2,t)};};var ColorWithColor=function ColorWithColor(color1,color2,length,index){if(length===undefined){length=100;}if(index===undefined){index=0;}return RGBWithRGB(color1.r,color1.g,color1.b,color2.r,color2.g,color2.b,length,index);};var ColorWithRGB=function ColorWithRGB(color,r,g,b,length,index){if(length===undefined){length=100;}if(index===undefined){index=0;}return RGBWithRGB(color.r,color.g,color.b,r,g,b,length,index);};module.exports={RGBWithRGB:RGBWithRGB,ColorWithRGB:ColorWithRGB,ColorWithColor:ColorWithColor};/***/},/* 882 *//***/function(module,exports,__webpack_require__){var Between=__webpack_require__(68);var RandomRGB=function RandomRGB(min,max){if(min===undefined){min=0;}if(max===undefined){max=255;}return{r:Between(min,max),g:Between(min,max),b:Between(min,max)};};module.exports=RandomRGB;/***/},/* 883 *//***/function(module,exports){/**\n* Converts an RGB color value to HSV (hue, saturation and value).\n* Conversion forumla from http://en.wikipedia.org/wiki/HSL_color_space.\n* Assumes RGB values are contained in the set [0, 255] and returns h, s and v in the set [0, 1].\n* Based on code by Michael Jackson (https://github.com/mjijackson)\n*/var RGBToHSV=function RGBToHSV(r,g,b){r/=255;g/=255;b/=255;var min=Math.min(r,g,b);var max=Math.max(r,g,b);var d=max-min;// achromatic by default\nvar h=0;var s=max===0?0:d/max;var v=max;if(max!==min){if(max===r){h=(g-b)/d+(g<b?6:0);}else if(max===g){h=(b-r)/d+2;}else if(max===b){h=(r-g)/d+4;}h/=6;}return{h:h,s:s,v:v};};module.exports=RGBToHSV;/***/},/* 884 *//***/function(module,exports,__webpack_require__){var ComponentToHex=__webpack_require__(210);var RGBToString=function RGBToString(r,g,b,a,prefix){if(a===undefined){a=255;}if(prefix===undefined){prefix='#';}if(prefix==='#'){return'#'+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1);}else{return'0x'+ComponentToHex(a)+ComponentToHex(r)+ComponentToHex(g)+ComponentToHex(b);}};module.exports=RGBToString;/***/},/* 885 *//***/function(module,exports,__webpack_require__){//  Phaser.Input\nmodule.exports={Keyboard:__webpack_require__(886),Mouse:__webpack_require__(891)};/***/},/* 886 *//***/function(module,exports,__webpack_require__){//  Phaser.Input.Keyboard\nmodule.exports={KeyboardManager:__webpack_require__(164),Key:__webpack_require__(165),KeyCodes:__webpack_require__(71),KeyCombo:__webpack_require__(166),JustDown:__webpack_require__(887),JustUp:__webpack_require__(888),DownDuration:__webpack_require__(889),UpDuration:__webpack_require__(890)};/***/},/* 887 *//***/function(module,exports){/**\n* The justDown value allows you to test if this Key has just been pressed down or not.\n* When you check this value it will return `true` if the Key is down, otherwise `false`.\n* You can only call justDown once per key press. It will only return `true` once, until the Key is released and pressed down again.\n* This allows you to use it in situations where you want to check if this key is down without using a Signal, such as in a core game loop.\n*/var JustDown=function JustDown(key){var current=false;if(key.isDown){current=key._justDown;key._justDown=false;}return current;};module.exports=JustDown;/***/},/* 888 *//***/function(module,exports){/**\n* The justUp value allows you to test if this Key has just been released or not.\n* When you check this value it will return `true` if the Key is up, otherwise `false`.\n* You can only call justUp once per key release. It will only return `true` once, until the Key is pressed down and released again.\n* This allows you to use it in situations where you want to check if this key is up without using a Signal, such as in a core game loop.\n*/var JustUp=function JustUp(key){var current=false;if(key.isDown){current=key._justUp;key._justUp=false;}return current;};module.exports=JustUp;/***/},/* 889 *//***/function(module,exports){/**\n* Returns `true` if the Key was pressed down within the `duration` value given, or `false` if it either isn't down,\n* or was pressed down longer ago than then given duration.\n*/var DownDuration=function DownDuration(key,duration){if(duration===undefined){duration=50;}return key.isDown&&key.duration<duration;};module.exports=DownDuration;/***/},/* 890 *//***/function(module,exports){/**\n* Returns `true` if the Key was released within the `duration` value given, or `false` if it either isn't up,\n* or was released longer ago than then given duration.\n*/var UpDuration=function UpDuration(key,duration){if(duration===undefined){duration=50;}return key.isUp&&key.duration<duration;};module.exports=UpDuration;/***/},/* 891 *//***/function(module,exports,__webpack_require__){//  Phaser.Input.Mouse\nmodule.exports={MouseManager:__webpack_require__(168)};/***/},/* 892 *//***/function(module,exports,__webpack_require__){//  Phaser.GameObjects\nmodule.exports={Components:__webpack_require__(3),BitmapText:__webpack_require__(82),Blitter:__webpack_require__(72),DynamicBitmapText:__webpack_require__(73),EffectLayer:__webpack_require__(75),LightLayer:__webpack_require__(177),Graphics:__webpack_require__(76),Group:__webpack_require__(78),Image:__webpack_require__(79),Mesh:__webpack_require__(55),ObjectPool:__webpack_require__(89),Quad:__webpack_require__(80),RenderPass:__webpack_require__(81),Sprite:__webpack_require__(45),StaticTilemap:__webpack_require__(83),Text:__webpack_require__(84),Tilemap:__webpack_require__(74),TileSprite:__webpack_require__(85),Zone:__webpack_require__(61)};/***/},/* 893 *//***/function(module,exports,__webpack_require__){//  Phaser.Sound\nmodule.exports={Dynamic:__webpack_require__(894)};/***/},/* 894 *//***/function(module,exports,__webpack_require__){//  Phaser.Sound.Dynamic\nmodule.exports={FX:__webpack_require__(895)};/***/},/* 895 *//***/function(module,exports,__webpack_require__){var Between=__webpack_require__(68);var Class=__webpack_require__(0);var GetValue=__webpack_require__(2);//  Phaser.Sound.Dynamic.FX\n//  Based on Sound.js by KittyKatAttack\n//  https://github.com/kittykatattack/sound.js\n// frequency,      //The sound's fequency pitch in Hertz\n// attack,              //The time, in seconds, to fade the sound in\n// decay,               //The time, in seconds, to fade the sound out\n// type,                //waveform type: \"sine\", \"triangle\", \"square\", \"sawtooth\"\n// volume,         //The sound's maximum volume\n// panValue,            //The speaker pan. left: -1, middle: 0, right: 1\n// wait,                //The time, in seconds, to wait before playing the sound\n// pitchBend,     //The number of Hz in which to bend the sound's pitch down\n// reverse,             //If `reverse` is true the pitch will bend up\n// random,         //A range, in Hz, within which to randomize the pitch\n// dissonance,          //A value in Hz. It creates 2 dissonant frequencies above and below the target pitch\n// echo,                //An array: [delayTimeInSeconds, feedbackTimeInSeconds, filterValueInHz]\n// reverb,              //An array: [durationInSeconds, decayRateInSeconds, reverse]\n// timeout              //A number, in seconds, which is the maximum duration for sound effects\nvar FX=new Class({initialize:function FX(ctx,config){this.audioContext=ctx;this.frequencyValue=GetValue(config,'frequency',200);this.attack=GetValue(config,'attack',0);this.decay=GetValue(config,'decay',1);this.type=GetValue(config,'type','sine');this.volumeValue=GetValue(config,'volume',1);this.panValue=GetValue(config,'pan',0);this.wait=GetValue(config,'wait',0);this.pitchBendAmount=GetValue(config,'pitchBend',0);this.reverse=GetValue(config,'reverse',false);this.randomValue=GetValue(config,'random',0);this.dissonance=GetValue(config,'dissonance',0);this.echo=GetValue(config,'echo',false);this.echoDelay=GetValue(config,'echo.delay',0);this.echoFeedback=GetValue(config,'echo.feedback',0);this.echoFilter=GetValue(config,'echo.filter',0);this.reverb=GetValue(config,'reverb',false);this.reverbDuration=GetValue(config,'reverb.duration',0);this.reverbDecay=GetValue(config,'reverb.decay',0);this.reverbReverse=GetValue(config,'reverb.reverse',false);this.timeout=GetValue(config,'timeout',false);this.volume=ctx.createGain();this.pan=!ctx.createStereoPanner?ctx.createPanner():ctx.createStereoPanner();this.volume.connect(this.pan);this.pan.connect(ctx.destination);//  Set the values\nthis.volume.gain.value=this.volumeValue;if(!ctx.createStereoPanner){this.pan.setPosition(this.panValue,0,1-Math.abs(this.panValue));}else{this.pan.pan.value=this.panValue;}//  Create an oscillator, gain and pan nodes, and connect them together to the destination\nvar oscillator=ctx.createOscillator();oscillator.connect(this.volume);oscillator.type=this.type;//  Optionally randomize the pitch if `randomValue` > 0.\n//  A random pitch is selected that's within the range specified by `frequencyValue`.\n//  The random pitch will be either above or below the target frequency.\nif(this.randomValue>0){oscillator.frequency.value=Between(this.frequencyValue-this.randomValue/2,this.frequencyValue+this.randomValue/2);}else{oscillator.frequency.value=this.frequencyValue;}//  Apply effects\nif(this.attack>0){this.fadeIn(this.volume);}this.fadeOut(this.volume);if(this.pitchBendAmount>0){this.pitchBend(oscillator);}if(this.echo){this.addEcho(this.volume);}if(this.reverb){this.addReverb(this.volume);}if(this.dissonance>0){this.addDissonance();}this.play(oscillator);var _this=this;oscillator.onended=function(){_this.pan.disconnect();_this.volume.disconnect();};},play:function play(oscillator){oscillator.start(this.audioContext.currentTime+this.wait);//Oscillators have to be stopped otherwise they accumulate in \n//memory and tax the CPU. They'll be stopped after a default\n//timeout of 2 seconds, which should be enough for most sound \n//effects. Override this in the `soundEffect` parameters if you\n//need a longer sound\noscillator.stop(this.audioContext.currentTime+this.wait+2);},fadeIn:function fadeIn(volume){volume.gain.value=0;volume.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+this.wait);volume.gain.linearRampToValueAtTime(this.volumeValue,this.audioContext.currentTime+this.wait+this.attack);},fadeOut:function fadeOut(volume){volume.gain.linearRampToValueAtTime(this.volumeValue,this.audioContext.currentTime+this.wait+this.attack);volume.gain.linearRampToValueAtTime(0,this.audioContext.currentTime+this.wait+this.attack+this.decay);},addReverb:function addReverb(volume){var convolver=this.audioContext.createConvolver();convolver.buffer=this.impulseResponse(this.reverbDuration,this.reverbDecay,this.reverbReverse,this.audioContext);volume.connect(convolver);convolver.connect(this.pan);},addEcho:function addEcho(volume){var feedback=this.audioContext.createGain();var delay=this.audioContext.createDelay();var filter=this.audioContext.createBiquadFilter();//  Set the node values\nfeedback.gain.value=this.echoFeedback;delay.delayTime.value=this.echoDelay;if(this.echoFilter){filter.frequency.value=this.echoFilter;}//  Create the delay feedback loop (with optional filtering)\ndelay.connect(feedback);if(this.echoFilter){feedback.connect(filter);filter.connect(delay);}else{feedback.connect(delay);}//  Connect the delay node to the oscillator volume node\nvolume.connect(delay);//  Connect the delay node to the main sound chains pan node,\n//  so that the echo effect is directed to the correct speaker\ndelay.connect(this.pan);},pitchBend:function pitchBend(oscillator){var frequency=oscillator.frequency.value;if(!this.reverse){//  If reverse is false, make the sound drop in pitch\noscillator.frequency.linearRampToValueAtTime(frequency,this.audioContext.currentTime+this.wait);oscillator.frequency.linearRampToValueAtTime(frequency-this.pitchBendAmount,this.audioContext.currentTime+this.wait+this.attack+this.decay);}else{//  If reverse is true, make the sound rise in pitch\noscillator.frequency.linearRampToValueAtTime(frequency,this.audioContext.currentTime+this.wait);oscillator.frequency.linearRampToValueAtTime(frequency+this.pitchBendAmount,this.audioContext.currentTime+this.wait+this.attack+this.decay);}},addDissonance:function addDissonance(){//  Create two more oscillators and gain nodes\nvar ctx=this.audioContext;var d1=ctx.createOscillator();var d2=ctx.createOscillator();var d1Volume=ctx.createGain();var d2Volume=ctx.createGain();//  Set the volume to the `volumeValue`\nd1Volume.gain.value=this.volumeValue;d2Volume.gain.value=this.volumeValue;//  Connect the oscillators to the gain and destination nodes\nd1.connect(d1Volume);d2.connect(d2Volume);d1Volume.connect(ctx.destination);d2Volume.connect(ctx.destination);//  Set the waveform to \"sawtooth\" for a harsh effect\nd1.type='sawtooth';d2.type='sawtooth';//  Make the two oscillators play at frequencies above and below the main sound's frequency.\n//  Use whatever value was supplied by the `dissonance` argument\nd1.frequency.value=this.frequencyValue+this.dissonance;d2.frequency.value=this.frequencyValue-this.dissonance;//  Fade in / out, pitch bend and play the oscillators to match the main sound\nif(this.attack>0){this.fadeIn(d1Volume);this.fadeIn(d2Volume);}if(this.decay>0){this.fadeOut(d1Volume);this.fadeOut(d2Volume);}if(this.pitchBendAmount>0){this.pitchBend(d1);this.pitchBend(d2);}if(this.echo){this.addEcho(d1Volume);this.addEcho(d2Volume);}if(this.reverb){this.addReverb(d1Volume);this.addReverb(d2Volume);}this.play(d1);this.play(d2);},impulseResponse:function impulseResponse(duration,decay,reverse){//  The length of the buffer.\nvar length=this.audioContext.sampleRate*duration;//  Create an audio buffer (an empty sound container) to store the reverb effect.\nvar impulse=this.audioContext.createBuffer(2,length,this.audioContext.sampleRate);//  Use `getChannelData` to initialize empty arrays to store sound data for the left and right channels.\nvar left=impulse.getChannelData(0);var right=impulse.getChannelData(1);//  Loop through each sample-frame and fill the channel data with random noise.\nfor(var i=0;i<length;i++){//  Apply the reverse effect, if `reverse` is `true`.\nvar n=reverse?length-i:i;//  Fill the left and right channels with random white noise which decays exponentially.\nleft[i]=(Math.random()*2-1)*Math.pow(1-n/length,decay);right[i]=(Math.random()*2-1)*Math.pow(1-n/length,decay);}//  Return the `impulse`.\nreturn impulse;}});module.exports=FX;/***/},/* 896 *//***/function(module,exports,__webpack_require__){//  Phaser.Structs\nmodule.exports={Map:__webpack_require__(158),RTree:__webpack_require__(897),Set:__webpack_require__(54)};/***/},/* 897 *//***/function(module,exports,__webpack_require__){var quickselect=__webpack_require__(213);//  Phaser.Structs.RTree\n/**\n * RBush is a high-performance JavaScript library for 2D spatial indexing of points and rectangles.\n * It's based on an optimized R-tree data structure with bulk insertion support.\n *\n * Spatial index is a special data structure for points and rectangles that allows you to perform queries like\n * \"all items within this bounding box\" very efficiently (e.g. hundreds of times faster than looping over all items).\n */function rbush(maxEntries,format){if(!(this instanceof rbush))return new rbush(maxEntries,format);// max entries in a node is 9 by default; min node fill is 40% for best performance\nthis._maxEntries=Math.max(4,maxEntries||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*0.4));if(format){this._initFormat(format);}this.clear();}rbush.prototype={all:function all(){return this._all(this.data,[]);},search:function search(bbox){var node=this.data,result=[],toBBox=this.toBBox;if(!intersects(bbox,node))return result;var nodesToSearch=[],i,len,child,childBBox;while(node){for(i=0,len=node.children.length;i<len;i++){child=node.children[i];childBBox=node.leaf?toBBox(child):child;if(intersects(bbox,childBBox)){if(node.leaf)result.push(child);else if(contains(bbox,childBBox))this._all(child,result);else nodesToSearch.push(child);}}node=nodesToSearch.pop();}return result;},collides:function collides(bbox){var node=this.data,toBBox=this.toBBox;if(!intersects(bbox,node))return false;var nodesToSearch=[],i,len,child,childBBox;while(node){for(i=0,len=node.children.length;i<len;i++){child=node.children[i];childBBox=node.leaf?toBBox(child):child;if(intersects(bbox,childBBox)){if(node.leaf||contains(bbox,childBBox))return true;nodesToSearch.push(child);}}node=nodesToSearch.pop();}return false;},load:function load(data){if(!(data&&data.length))return this;if(data.length<this._minEntries){for(var i=0,len=data.length;i<len;i++){this.insert(data[i]);}return this;}// recursively build the tree with the given data from scratch using OMT algorithm\nvar node=this._build(data.slice(),0,data.length-1,0);if(!this.data.children.length){// save as is if tree is empty\nthis.data=node;}else if(this.data.height===node.height){// split root if trees have the same height\nthis._splitRoot(this.data,node);}else{if(this.data.height<node.height){// swap trees if inserted one is bigger\nvar tmpNode=this.data;this.data=node;node=tmpNode;}// insert the small tree into the large tree at appropriate level\nthis._insert(node,this.data.height-node.height-1,true);}return this;},insert:function insert(item){if(item)this._insert(item,this.data.height-1);return this;},clear:function clear(){this.data=createNode([]);return this;},remove:function remove(item,equalsFn){if(!item)return this;var node=this.data,bbox=this.toBBox(item),path=[],indexes=[],i,parent,index,goingUp;// depth-first iterative tree traversal\nwhile(node||path.length){if(!node){// go up\nnode=path.pop();parent=path[path.length-1];i=indexes.pop();goingUp=true;}if(node.leaf){// check current node\nindex=findItem(item,node.children,equalsFn);if(index!==-1){// item found, remove the item and condense tree upwards\nnode.children.splice(index,1);path.push(node);this._condense(path);return this;}}if(!goingUp&&!node.leaf&&contains(node,bbox)){// go down\npath.push(node);indexes.push(i);i=0;parent=node;node=node.children[0];}else if(parent){// go right\ni++;node=parent.children[i];goingUp=false;}else node=null;// nothing found\n}return this;},toBBox:function toBBox(item){return item;},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function toJSON(){return this.data;},fromJSON:function fromJSON(data){this.data=data;return this;},_all:function _all(node,result){var nodesToSearch=[];while(node){if(node.leaf)result.push.apply(result,node.children);else nodesToSearch.push.apply(nodesToSearch,node.children);node=nodesToSearch.pop();}return result;},_build:function _build(items,left,right,height){var N=right-left+1,M=this._maxEntries,node;if(N<=M){// reached leaf level; return leaf\nnode=createNode(items.slice(left,right+1));calcBBox(node,this.toBBox);return node;}if(!height){// target height of the bulk-loaded tree\nheight=Math.ceil(Math.log(N)/Math.log(M));// target number of root entries to maximize storage utilization\nM=Math.ceil(N/Math.pow(M,height-1));}node=createNode([]);node.leaf=false;node.height=height;// split the items into M mostly square tiles\nvar N2=Math.ceil(N/M),N1=N2*Math.ceil(Math.sqrt(M)),i,j,right2,right3;multiSelect(items,left,right,N1,this.compareMinX);for(i=left;i<=right;i+=N1){right2=Math.min(i+N1-1,right);multiSelect(items,i,right2,N2,this.compareMinY);for(j=i;j<=right2;j+=N2){right3=Math.min(j+N2-1,right2);// pack each entry recursively\nnode.children.push(this._build(items,j,right3,height-1));}}calcBBox(node,this.toBBox);return node;},_chooseSubtree:function _chooseSubtree(bbox,node,level,path){var i,len,child,targetNode,area,enlargement,minArea,minEnlargement;while(true){path.push(node);if(node.leaf||path.length-1===level)break;minArea=minEnlargement=Infinity;for(i=0,len=node.children.length;i<len;i++){child=node.children[i];area=bboxArea(child);enlargement=enlargedArea(bbox,child)-area;// choose entry with the least area enlargement\nif(enlargement<minEnlargement){minEnlargement=enlargement;minArea=area<minArea?area:minArea;targetNode=child;}else if(enlargement===minEnlargement){// otherwise choose one with the smallest area\nif(area<minArea){minArea=area;targetNode=child;}}}node=targetNode||node.children[0];}return node;},_insert:function _insert(item,level,isNode){var toBBox=this.toBBox,bbox=isNode?item:toBBox(item),insertPath=[];// find the best node for accommodating the item, saving all nodes along the path too\nvar node=this._chooseSubtree(bbox,this.data,level,insertPath);// put the item into the node\nnode.children.push(item);extend(node,bbox);// split on node overflow; propagate upwards if necessary\nwhile(level>=0){if(insertPath[level].children.length>this._maxEntries){this._split(insertPath,level);level--;}else break;}// adjust bboxes along the insertion path\nthis._adjustParentBBoxes(bbox,insertPath,level);},// split overflowed node into two\n_split:function _split(insertPath,level){var node=insertPath[level],M=node.children.length,m=this._minEntries;this._chooseSplitAxis(node,m,M);var splitIndex=this._chooseSplitIndex(node,m,M);var newNode=createNode(node.children.splice(splitIndex,node.children.length-splitIndex));newNode.height=node.height;newNode.leaf=node.leaf;calcBBox(node,this.toBBox);calcBBox(newNode,this.toBBox);if(level)insertPath[level-1].children.push(newNode);else this._splitRoot(node,newNode);},_splitRoot:function _splitRoot(node,newNode){// split root node\nthis.data=createNode([node,newNode]);this.data.height=node.height+1;this.data.leaf=false;calcBBox(this.data,this.toBBox);},_chooseSplitIndex:function _chooseSplitIndex(node,m,M){var i,bbox1,bbox2,overlap,area,minOverlap,minArea,index;minOverlap=minArea=Infinity;for(i=m;i<=M-m;i++){bbox1=distBBox(node,0,i,this.toBBox);bbox2=distBBox(node,i,M,this.toBBox);overlap=intersectionArea(bbox1,bbox2);area=bboxArea(bbox1)+bboxArea(bbox2);// choose distribution with minimum overlap\nif(overlap<minOverlap){minOverlap=overlap;index=i;minArea=area<minArea?area:minArea;}else if(overlap===minOverlap){// otherwise choose distribution with minimum area\nif(area<minArea){minArea=area;index=i;}}}return index;},// sorts node children by the best axis for split\n_chooseSplitAxis:function _chooseSplitAxis(node,m,M){var compareMinX=node.leaf?this.compareMinX:compareNodeMinX,compareMinY=node.leaf?this.compareMinY:compareNodeMinY,xMargin=this._allDistMargin(node,m,M,compareMinX),yMargin=this._allDistMargin(node,m,M,compareMinY);// if total distributions margin value is minimal for x, sort by minX,\n// otherwise it's already sorted by minY\nif(xMargin<yMargin)node.children.sort(compareMinX);},// total margin of all possible split distributions where each node is at least m full\n_allDistMargin:function _allDistMargin(node,m,M,compare){node.children.sort(compare);var toBBox=this.toBBox,leftBBox=distBBox(node,0,m,toBBox),rightBBox=distBBox(node,M-m,M,toBBox),margin=bboxMargin(leftBBox)+bboxMargin(rightBBox),i,child;for(i=m;i<M-m;i++){child=node.children[i];extend(leftBBox,node.leaf?toBBox(child):child);margin+=bboxMargin(leftBBox);}for(i=M-m-1;i>=m;i--){child=node.children[i];extend(rightBBox,node.leaf?toBBox(child):child);margin+=bboxMargin(rightBBox);}return margin;},_adjustParentBBoxes:function _adjustParentBBoxes(bbox,path,level){// adjust bboxes along the given tree path\nfor(var i=level;i>=0;i--){extend(path[i],bbox);}},_condense:function _condense(path){// go through the path, removing empty nodes and updating bboxes\nfor(var i=path.length-1,siblings;i>=0;i--){if(path[i].children.length===0){if(i>0){siblings=path[i-1].children;siblings.splice(siblings.indexOf(path[i]),1);}else this.clear();}else calcBBox(path[i],this.toBBox);}},_initFormat:function _initFormat(format){// data format (minX, minY, maxX, maxY accessors)\n// uses eval-type function compilation instead of just accepting a toBBox function\n// because the algorithms are very sensitive to sorting functions performance,\n// so they should be dead simple and without inner calls\nvar compareArr=['return a',' - b',';'];this.compareMinX=new Function('a','b',compareArr.join(format[0]));this.compareMinY=new Function('a','b',compareArr.join(format[1]));this.toBBox=new Function('a','return {minX: a'+format[0]+', minY: a'+format[1]+', maxX: a'+format[2]+', maxY: a'+format[3]+'};');}};function findItem(item,items,equalsFn){if(!equalsFn)return items.indexOf(item);for(var i=0;i<items.length;i++){if(equalsFn(item,items[i]))return i;}return-1;}// calculate node's bbox from bboxes of its children\nfunction calcBBox(node,toBBox){distBBox(node,0,node.children.length,toBBox,node);}// min bounding rectangle of node children from k to p-1\nfunction distBBox(node,k,p,toBBox,destNode){if(!destNode)destNode=createNode(null);destNode.minX=Infinity;destNode.minY=Infinity;destNode.maxX=-Infinity;destNode.maxY=-Infinity;for(var i=k,child;i<p;i++){child=node.children[i];extend(destNode,node.leaf?toBBox(child):child);}return destNode;}function extend(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a;}function compareNodeMinX(a,b){return a.minX-b.minX;}function compareNodeMinY(a,b){return a.minY-b.minY;}function bboxArea(a){return(a.maxX-a.minX)*(a.maxY-a.minY);}function bboxMargin(a){return a.maxX-a.minX+(a.maxY-a.minY);}function enlargedArea(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY));}function intersectionArea(a,b){var minX=Math.max(a.minX,b.minX),minY=Math.max(a.minY,b.minY),maxX=Math.min(a.maxX,b.maxX),maxY=Math.min(a.maxY,b.maxY);return Math.max(0,maxX-minX)*Math.max(0,maxY-minY);}function contains(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY;}function intersects(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY;}function createNode(children){return{children:children,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity};}// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\nfunction multiSelect(arr,left,right,n,compare){var stack=[left,right],mid;while(stack.length){right=stack.pop();left=stack.pop();if(right-left<=n)continue;mid=left+Math.ceil((right-left)/n/2)*n;quickselect(arr,mid,left,right,compare);stack.push(left,mid,mid,right);}}module.exports=rbush;/***/},/* 898 *//***/function(module,exports,__webpack_require__){//  Phaser.Physics\nmodule.exports={Impact:__webpack_require__(899),PolyDecomp:__webpack_require__(907)};/*\nmodule.exports = {\n    Impact: require('./impact'),\n    PolyDecomp: require('./poly-decomp/'),\n    MatterJS: require('./matter-js/module/main')\n};\n*//***/},/* 899 *//***/function(module,exports,__webpack_require__){//  Phaser.Physics.Impact\n//  An Impact.js compatible physics world, body and solver, for those who are used\n//  to the Impact way of defining and controlling physics bodies. Also works with\n//  the new Loader support for Weltmeister map data.\n//\n//  World updated to run off the Phaser main loop.\n//  Body extended to support additional setter functions.\n//\n//  To create the map data you'll need Weltmeister, which comes with Impact\n//  and can be purchased from http://impactjs.com\n//\n//  My thanks to Dominic Szablewski for his permission to support Impact in Phaser.\nmodule.exports={Body:__webpack_require__(214),COLLIDES:__webpack_require__(59),CollisionMap:__webpack_require__(215),TYPE:__webpack_require__(95),World:__webpack_require__(903)};/***/},/* 900 *//***/function(module,exports,__webpack_require__){var Clamp=__webpack_require__(49);var GetVelocity=function GetVelocity(delta,vel,accel,friction,max){if(accel){return Clamp(vel+accel*delta,-max,max);}else if(friction){var frictionDelta=friction*delta;if(vel-frictionDelta>0){return vel-frictionDelta;}else if(vel+frictionDelta<0){return vel+frictionDelta;}else{return 0;}}return Clamp(vel,-max,max);};module.exports=GetVelocity;/***/},/* 901 *//***/function(module,exports){// Set up the trace-result\n// var res = {\n//     collision: {x: false, y: false, slope: false},\n//     pos: {x: x, y: y},\n//     tile: {x: 0, y: 0}\n// };\nvar UpdateMotion=function UpdateMotion(body,res){body.standing=false;//  Y\nif(res.collision.y){if(body.bounciness>0&&Math.abs(body.vel.y)>body.minBounceVelocity){body.vel.y*=-body.bounciness;}else{if(body.vel.y>0){body.standing=true;}body.vel.y=0;}}//  X\nif(res.collision.x){if(body.bounciness>0&&Math.abs(body.vel.x)>body.minBounceVelocity){body.vel.x*=-body.bounciness;}else{body.vel.x=0;}}//  SLOPE\nif(res.collision.slope){var s=res.collision.slope;if(body.bounciness>0){var proj=body.vel.x*s.nx+body.vel.y*s.ny;body.vel.x=(body.vel.x-s.nx*proj*2)*body.bounciness;body.vel.y=(body.vel.y-s.ny*proj*2)*body.bounciness;}else{var lengthSquared=s.x*s.x+s.y*s.y;var dot=(body.vel.x*s.x+body.vel.y*s.y)/lengthSquared;body.vel.x=s.x*dot;body.vel.y=s.y*dot;var angle=Math.atan2(s.x,s.y);if(angle>body.slopeStanding.min&&angle<body.slopeStanding.max){body.standing=true;}}if(window.dumpit){console.group('slope');console.log(s);console.log('pos',res.pos.x,res.pos.y);console.log('vel',body.vel.x,body.vel.y);console.groupEnd();}}// body.pos = res.pos;\nbody.pos.x=res.pos.x;body.pos.y=res.pos.y;};module.exports=UpdateMotion;/***/},/* 902 *//***/function(module,exports){var H=0.5;var N=1/3;var M=2/3;//  Tile ID to Slope defs.\n//  First 4 elements = line data, final = solid or non-solid behind the line\nmodule.exports={2:[0,1,1,0,true],3:[0,1,1,H,true],4:[0,H,1,0,true],5:[0,1,1,M,true],6:[0,M,1,N,true],7:[0,N,1,0,true],8:[H,1,0,0,true],9:[1,0,H,1,true],10:[H,1,1,0,true],11:[0,0,H,1,true],12:[0,0,1,0,false],13:[1,1,0,0,true],14:[1,H,0,0,true],15:[1,1,0,H,true],16:[1,N,0,0,true],17:[1,M,0,N,true],18:[1,1,0,M,true],19:[1,1,H,0,true],20:[H,0,0,1,true],21:[0,1,H,0,true],22:[H,0,1,1,true],23:[1,1,0,1,false],24:[0,0,1,1,true],25:[0,0,1,H,true],26:[0,H,1,1,true],27:[0,0,1,N,true],28:[0,N,1,M,true],29:[0,M,1,1,true],30:[N,1,0,0,true],31:[1,0,M,1,true],32:[M,1,1,0,true],33:[0,0,N,1,true],34:[1,0,1,1,false],35:[1,0,0,1,true],36:[1,H,0,1,true],37:[1,0,0,H,true],38:[1,M,0,1,true],39:[1,N,0,M,true],40:[1,0,0,N,true],41:[M,1,N,0,true],42:[M,0,N,1,true],43:[N,1,M,0,true],44:[N,0,M,1,true],45:[0,1,0,0,false],52:[1,1,M,0,true],53:[N,0,0,1,true],54:[0,1,N,0,true],55:[M,0,1,1,true]};/***/},/* 903 *//***/function(module,exports,__webpack_require__){//  Phaser.Physics.Impact.World\nvar Class=__webpack_require__(0);var Set=__webpack_require__(54);var Body=__webpack_require__(214);var Solver=__webpack_require__(904);var CollisionMap=__webpack_require__(215);var COLLIDES=__webpack_require__(59);var TYPE=__webpack_require__(95);var World=new Class({initialize:function World(gravity,cellSize){if(gravity===undefined){gravity=0;}if(cellSize===undefined){cellSize=64;}this.bodies=new Set();this.gravity=gravity;//  Spatial hash cell dimensions\nthis.cellSize=cellSize;this.collisionMap=new CollisionMap();this.delta=0;},create:function create(x,y,sizeX,sizeY){var body=new Body(this,x,y,sizeX,sizeY);this.bodies.set(body);return body;},update:function update(time,delta){if(this.bodies.size===0){return;}//  Impact uses a divided delta value\ndelta/=1000;this.delta=delta;//  Update all bodies\nthis.bodies.iterate(function(body){if(body.enabled){body.update(delta);}});//  Run collision against them all\nvar hash={};var size=this.cellSize;var bodies=this.bodies.entries;for(var i=0;i<bodies.length;i++){var body=bodies[i];if(body.skipHash()){continue;}else{this.checkHash(body,hash,size);}}},//  Check the body against the spatial hash\ncheckHash:function checkHash(body,hash,size){// console.log('checkHash');\nvar checked={};var xmin=Math.floor(body.pos.x/size);var ymin=Math.floor(body.pos.y/size);var xmax=Math.floor((body.pos.x+body.size.x)/size)+1;var ymax=Math.floor((body.pos.y+body.size.y)/size)+1;for(var x=xmin;x<xmax;x++){for(var y=ymin;y<ymax;y++){if(!hash[x]){hash[x]={};hash[x][y]=[body];}else if(!hash[x][y]){hash[x][y]=[body];}else{var cell=hash[x][y];for(var c=0;c<cell.length;c++){if(body.touches(cell[c])&&!checked[cell[c].id]){checked[cell[c].id]=true;this.checkBodies(body,cell[c]);}}cell.push(body);}}}},checkBodies:function checkBodies(bodyA,bodyB){//  bitwise checks\nif(bodyA.checkAgainst&bodyB.type){bodyA.check(bodyB);}if(bodyB.checkAgainst&bodyA.type){bodyB.check(bodyA);}if(bodyA.collides&&bodyB.collides&&bodyA.collides+bodyB.collides>COLLIDES.ACTIVE){// console.log('solve');\nSolver(this,bodyA,bodyB);}}});module.exports=World;/***/},/* 904 *//***/function(module,exports,__webpack_require__){var SeperateX=__webpack_require__(905);var SeperateY=__webpack_require__(906);var COLLIDES=__webpack_require__(59);//  Impact Physics Solver\nvar Solver=function Solver(world,bodyA,bodyB){var weak=null;if(bodyA.collides===COLLIDES.LITE||bodyB.collides===COLLIDES.FIXED){weak=bodyA;}else if(bodyB.collides===COLLIDES.LITE||bodyA.collides===COLLIDES.FIXED){weak=bodyB;}if(bodyA.last.x+bodyA.size.x>bodyB.last.x&&bodyA.last.x<bodyB.last.x+bodyB.size.x){if(bodyA.last.y<bodyB.last.y){SeperateY(world,bodyA,bodyB,weak);}else{SeperateY(world,bodyB,bodyA,weak);}bodyA.collideWith(bodyB,'y');bodyB.collideWith(bodyA,'y');}else if(bodyA.last.y+bodyA.size.y>bodyB.last.y&&bodyA.last.y<bodyB.last.y+bodyB.size.y){if(bodyA.last.x<bodyB.last.x){SeperateX(world,bodyA,bodyB,weak);}else{SeperateX(world,bodyB,bodyA,weak);}bodyA.collideWith(bodyB,'x');bodyB.collideWith(bodyA,'x');}};module.exports=Solver;/***/},/* 905 *//***/function(module,exports){var SeperateX=function SeperateX(world,left,right,weak){var nudge=left.pos.x+left.size.x-right.pos.x;// We have a weak entity, so just move this one\nif(weak){var strong=left===weak?right:left;weak.vel.x=-weak.vel.x*weak.bounciness+strong.vel.x;var resWeak=world.collisionMap.trace(weak.pos.x,weak.pos.y,weak===left?-nudge:nudge,0,weak.size.x,weak.size.y);weak.pos.x=resWeak.pos.x;}else{var v2=(left.vel.x-right.vel.x)/2;left.vel.x=-v2;right.vel.x=v2;var resLeft=world.collisionMap.trace(left.pos.x,left.pos.y,-nudge/2,0,left.size.x,left.size.y);left.pos.x=Math.floor(resLeft.pos.x);var resRight=world.collisionMap.trace(right.pos.x,right.pos.y,nudge/2,0,right.size.x,right.size.y);right.pos.x=Math.ceil(resRight.pos.x);}};module.exports=SeperateX;/***/},/* 906 *//***/function(module,exports){var SeperateY=function SeperateY(world,top,bottom,weak){var nudge=top.pos.y+top.size.y-bottom.pos.y;var nudgeX;var resTop;if(weak){var strong=top===weak?bottom:top;weak.vel.y=-weak.vel.y*weak.bounciness+strong.vel.y;// Riding on a platform?\nnudgeX=0;if(weak===top&&Math.abs(weak.vel.y-strong.vel.y)<weak.minBounceVelocity){weak.standing=true;nudgeX=strong.vel.x*world.delta;}var resWeak=world.collisionMap.trace(weak.pos.x,weak.pos.y,nudgeX,weak===top?-nudge:nudge,weak.size.x,weak.size.y);weak.pos.y=resWeak.pos.y;weak.pos.x=resWeak.pos.x;}else if(world.gravity&&(bottom.standing||top.vel.y>0)){resTop=world.collisionMap.trace(top.pos.x,top.pos.y,0,-(top.pos.y+top.size.y-bottom.pos.y),top.size.x,top.size.y);top.pos.y=resTop.pos.y;if(top.bounciness>0&&top.vel.y>top.minBounceVelocity){top.vel.y*=-top.bounciness;}else{top.standing=true;top.vel.y=0;}}else{var v2=(top.vel.y-bottom.vel.y)/2;top.vel.y=-v2;bottom.vel.y=v2;nudgeX=bottom.vel.x*world.delta;resTop=world.collisionMap.trace(top.pos.x,top.pos.y,nudgeX,-nudge/2,top.size.x,top.size.y);top.pos.y=resTop.pos.y;var resBottom=world.collisionMap.trace(bottom.pos.x,bottom.pos.y,0,nudge/2,bottom.size.x,bottom.size.y);bottom.pos.y=resBottom.pos.y;}};module.exports=SeperateY;/***/},/* 907 *//***/function(module,exports){module.exports={decomp:polygonDecomp,quickDecomp:polygonQuickDecomp,isSimple:polygonIsSimple,removeCollinearPoints:polygonRemoveCollinearPoints,makeCCW:polygonMakeCCW};/**\n * Compute the intersection between two lines.\n * @static\n * @method lineInt\n * @param  {Array}  l1          Line vector 1\n * @param  {Array}  l2          Line vector 2\n * @param  {Number} precision   Precision to use when checking if the lines are parallel\n * @return {Array}              The intersection point.\n */function lineInt(l1,l2,precision){precision=precision||0;var i=[0,0];// point\nvar a1,b1,c1,a2,b2,c2,det;// scalars\na1=l1[1][1]-l1[0][1];b1=l1[0][0]-l1[1][0];c1=a1*l1[0][0]+b1*l1[0][1];a2=l2[1][1]-l2[0][1];b2=l2[0][0]-l2[1][0];c2=a2*l2[0][0]+b2*l2[0][1];det=a1*b2-a2*b1;if(!scalar_eq(det,0,precision)){// lines are not parallel\ni[0]=(b2*c1-b1*c2)/det;i[1]=(a1*c2-a2*c1)/det;}return i;}/**\n * Checks if two line segments intersects.\n * @method segmentsIntersect\n * @param {Array} p1 The start vertex of the first line segment.\n * @param {Array} p2 The end vertex of the first line segment.\n * @param {Array} q1 The start vertex of the second line segment.\n * @param {Array} q2 The end vertex of the second line segment.\n * @return {Boolean} True if the two line segments intersect\n */function lineSegmentsIntersect(p1,p2,q1,q2){var dx=p2[0]-p1[0];var dy=p2[1]-p1[1];var da=q2[0]-q1[0];var db=q2[1]-q1[1];// segments are parallel\nif(da*dy-db*dx===0){return false;}var s=(dx*(q1[1]-p1[1])+dy*(p1[0]-q1[0]))/(da*dy-db*dx);var t=(da*(p1[1]-q1[1])+db*(q1[0]-p1[0]))/(db*dx-da*dy);return s>=0&&s<=1&&t>=0&&t<=1;}/**\n * Get the area of a triangle spanned by the three given points. Note that the area will be negative if the points are not given in counter-clockwise order.\n * @static\n * @method area\n * @param  {Array} a\n * @param  {Array} b\n * @param  {Array} c\n * @return {Number}\n */function triangleArea(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1]);}function isLeft(a,b,c){return triangleArea(a,b,c)>0;}function isLeftOn(a,b,c){return triangleArea(a,b,c)>=0;}function isRight(a,b,c){return triangleArea(a,b,c)<0;}function isRightOn(a,b,c){return triangleArea(a,b,c)<=0;}var tmpPoint1=[],tmpPoint2=[];/**\n * Check if three points are collinear\n * @method collinear\n * @param  {Array} a\n * @param  {Array} b\n * @param  {Array} c\n * @param  {Number} [thresholdAngle=0] Threshold angle to use when comparing the vectors. The function will return true if the angle between the resulting vectors is less than this value. Use zero for max precision.\n * @return {Boolean}\n */function collinear(a,b,c,thresholdAngle){if(!thresholdAngle){return triangleArea(a,b,c)===0;}else{var ab=tmpPoint1,bc=tmpPoint2;ab[0]=b[0]-a[0];ab[1]=b[1]-a[1];bc[0]=c[0]-b[0];bc[1]=c[1]-b[1];var dot=ab[0]*bc[0]+ab[1]*bc[1],magA=Math.sqrt(ab[0]*ab[0]+ab[1]*ab[1]),magB=Math.sqrt(bc[0]*bc[0]+bc[1]*bc[1]),angle=Math.acos(dot/(magA*magB));return angle<thresholdAngle;}}function sqdist(a,b){var dx=b[0]-a[0];var dy=b[1]-a[1];return dx*dx+dy*dy;}/**\n * Get a vertex at position i. It does not matter if i is out of bounds, this function will just cycle.\n * @method at\n * @param  {Number} i\n * @return {Array}\n */function polygonAt(polygon,i){var s=polygon.length;return polygon[i<0?i%s+s:i%s];}/**\n * Clear the polygon data\n * @method clear\n * @return {Array}\n */function polygonClear(polygon){polygon.length=0;}/**\n * Append points \"from\" to \"to\"-1 from an other polygon \"poly\" onto this one.\n * @method append\n * @param {Polygon} poly The polygon to get points from.\n * @param {Number}  from The vertex index in \"poly\".\n * @param {Number}  to The end vertex index in \"poly\". Note that this vertex is NOT included when appending.\n * @return {Array}\n */function polygonAppend(polygon,poly,from,to){for(var i=from;i<to;i++){polygon.push(poly[i]);}}/**\n * Make sure that the polygon vertices are ordered counter-clockwise.\n * @method makeCCW\n */function polygonMakeCCW(polygon){var br=0,v=polygon;// find bottom right point\nfor(var i=1;i<polygon.length;++i){if(v[i][1]<v[br][1]||v[i][1]===v[br][1]&&v[i][0]>v[br][0]){br=i;}}// reverse poly if clockwise\nif(!isLeft(polygonAt(polygon,br-1),polygonAt(polygon,br),polygonAt(polygon,br+1))){polygonReverse(polygon);}}/**\n * Reverse the vertices in the polygon\n * @method reverse\n */function polygonReverse(polygon){var tmp=[];var N=polygon.length;for(var i=0;i!==N;i++){tmp.push(polygon.pop());}for(var i=0;i!==N;i++){polygon[i]=tmp[i];}}/**\n * Check if a point in the polygon is a reflex point\n * @method isReflex\n * @param  {Number}  i\n * @return {Boolean}\n */function polygonIsReflex(polygon,i){return isRight(polygonAt(polygon,i-1),polygonAt(polygon,i),polygonAt(polygon,i+1));}var tmpLine1=[],tmpLine2=[];/**\n * Check if two vertices in the polygon can see each other\n * @method canSee\n * @param  {Number} a Vertex index 1\n * @param  {Number} b Vertex index 2\n * @return {Boolean}\n */function polygonCanSee(polygon,a,b){var p,dist,l1=tmpLine1,l2=tmpLine2;if(isLeftOn(polygonAt(polygon,a+1),polygonAt(polygon,a),polygonAt(polygon,b))&&isRightOn(polygonAt(polygon,a-1),polygonAt(polygon,a),polygonAt(polygon,b))){return false;}dist=sqdist(polygonAt(polygon,a),polygonAt(polygon,b));for(var i=0;i!==polygon.length;++i){// for each edge\nif((i+1)%polygon.length===a||i===a){// ignore incident edges\ncontinue;}if(isLeftOn(polygonAt(polygon,a),polygonAt(polygon,b),polygonAt(polygon,i+1))&&isRightOn(polygonAt(polygon,a),polygonAt(polygon,b),polygonAt(polygon,i))){// if diag intersects an edge\nl1[0]=polygonAt(polygon,a);l1[1]=polygonAt(polygon,b);l2[0]=polygonAt(polygon,i);l2[1]=polygonAt(polygon,i+1);p=lineInt(l1,l2);if(sqdist(polygonAt(polygon,a),p)<dist){// if edge is blocking visibility to b\nreturn false;}}}return true;}/**\n * Copy the polygon from vertex i to vertex j.\n * @method copy\n * @param  {Number} i\n * @param  {Number} j\n * @param  {Polygon} [targetPoly]   Optional target polygon to save in.\n * @return {Polygon}                The resulting copy.\n */function polygonCopy(polygon,i,j,targetPoly){var p=targetPoly||[];polygonClear(p);if(i<j){// Insert all vertices from i to j\nfor(var k=i;k<=j;k++){p.push(polygon[k]);}}else{// Insert vertices 0 to j\nfor(var k=0;k<=j;k++){p.push(polygon[k]);}// Insert vertices i to end\nfor(var k=i;k<polygon.length;k++){p.push(polygon[k]);}}return p;}/**\n * Decomposes the polygon into convex pieces. Returns a list of edges [[p1,p2],[p2,p3],...] that cuts the polygon.\n * Note that this algorithm has complexity O(N^4) and will be very slow for polygons with many vertices.\n * @method getCutEdges\n * @return {Array}\n */function polygonGetCutEdges(polygon){var min=[],tmp1=[],tmp2=[],tmpPoly=[];var nDiags=Number.MAX_VALUE;for(var i=0;i<polygon.length;++i){if(polygonIsReflex(polygon,i)){for(var j=0;j<polygon.length;++j){if(polygonCanSee(polygon,i,j)){tmp1=polygonGetCutEdges(polygonCopy(polygon,i,j,tmpPoly));tmp2=polygonGetCutEdges(polygonCopy(polygon,j,i,tmpPoly));for(var k=0;k<tmp2.length;k++){tmp1.push(tmp2[k]);}if(tmp1.length<nDiags){min=tmp1;nDiags=tmp1.length;min.push([polygonAt(polygon,i),polygonAt(polygon,j)]);}}}}}return min;}/**\n * Decomposes the polygon into one or more convex sub-Polygons.\n * @method decomp\n * @return {Array} An array or Polygon objects.\n */function polygonDecomp(polygon){var edges=polygonGetCutEdges(polygon);if(edges.length>0){return polygonSlice(polygon,edges);}else{return[polygon];}}/**\n * Slices the polygon given one or more cut edges. If given one, this function will return two polygons (false on failure). If many, an array of polygons.\n * @method slice\n * @param {Array} cutEdges A list of edges, as returned by .getCutEdges()\n * @return {Array}\n */function polygonSlice(polygon,cutEdges){if(cutEdges.length===0){return[polygon];}if(cutEdges instanceof Array&&cutEdges.length&&cutEdges[0]instanceof Array&&cutEdges[0].length===2&&cutEdges[0][0]instanceof Array){var polys=[polygon];for(var i=0;i<cutEdges.length;i++){var cutEdge=cutEdges[i];// Cut all polys\nfor(var j=0;j<polys.length;j++){var poly=polys[j];var result=polygonSlice(poly,cutEdge);if(result){// Found poly! Cut and quit\npolys.splice(j,1);polys.push(result[0],result[1]);break;}}}return polys;}else{// Was given one edge\nvar cutEdge=cutEdges;var i=polygon.indexOf(cutEdge[0]);var j=polygon.indexOf(cutEdge[1]);if(i!==-1&&j!==-1){return[polygonCopy(polygon,i,j),polygonCopy(polygon,j,i)];}else{return false;}}}/**\n * Checks that the line segments of this polygon do not intersect each other.\n * @method isSimple\n * @param  {Array} path An array of vertices e.g. [[0,0],[0,1],...]\n * @return {Boolean}\n * @todo Should it check all segments with all others?\n */function polygonIsSimple(polygon){var path=polygon,i;// Check\nfor(i=0;i<path.length-1;i++){for(var j=0;j<i-1;j++){if(lineSegmentsIntersect(path[i],path[i+1],path[j],path[j+1])){return false;}}}// Check the segment between the last and the first point to all others\nfor(i=1;i<path.length-2;i++){if(lineSegmentsIntersect(path[0],path[path.length-1],path[i],path[i+1])){return false;}}return true;}function getIntersectionPoint(p1,p2,q1,q2,delta){delta=delta||0;var a1=p2[1]-p1[1];var b1=p1[0]-p2[0];var c1=a1*p1[0]+b1*p1[1];var a2=q2[1]-q1[1];var b2=q1[0]-q2[0];var c2=a2*q1[0]+b2*q1[1];var det=a1*b2-a2*b1;if(!scalar_eq(det,0,delta)){return[(b2*c1-b1*c2)/det,(a1*c2-a2*c1)/det];}else{return[0,0];}}/**\n * Quickly decompose the Polygon into convex sub-polygons.\n * @method quickDecomp\n * @param  {Array} result\n * @param  {Array} [reflexVertices]\n * @param  {Array} [steinerPoints]\n * @param  {Number} [delta]\n * @param  {Number} [maxlevel]\n * @param  {Number} [level]\n * @return {Array}\n */function polygonQuickDecomp(polygon,result,reflexVertices,steinerPoints,delta,maxlevel,level){maxlevel=maxlevel||100;level=level||0;delta=delta||25;result=typeof result!==\"undefined\"?result:[];reflexVertices=reflexVertices||[];steinerPoints=steinerPoints||[];var upperInt=[0,0],lowerInt=[0,0],p=[0,0];// Points\nvar upperDist=0,lowerDist=0,d=0,closestDist=0;// scalars\nvar upperIndex=0,lowerIndex=0,closestIndex=0;// Integers\nvar lowerPoly=[],upperPoly=[];// polygons\nvar poly=polygon,v=polygon;if(v.length<3){return result;}level++;if(level>maxlevel){console.warn(\"quickDecomp: max level (\"+maxlevel+\") reached.\");return result;}for(var i=0;i<polygon.length;++i){if(polygonIsReflex(poly,i)){reflexVertices.push(poly[i]);upperDist=lowerDist=Number.MAX_VALUE;for(var j=0;j<polygon.length;++j){if(isLeft(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j))&&isRightOn(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j-1))){// if line intersects with an edge\np=getIntersectionPoint(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j),polygonAt(poly,j-1));// find the point of intersection\nif(isRight(polygonAt(poly,i+1),polygonAt(poly,i),p)){// make sure it's inside the poly\nd=sqdist(poly[i],p);if(d<lowerDist){// keep only the closest intersection\nlowerDist=d;lowerInt=p;lowerIndex=j;}}}if(isLeft(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j+1))&&isRightOn(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j))){p=getIntersectionPoint(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j),polygonAt(poly,j+1));if(isLeft(polygonAt(poly,i-1),polygonAt(poly,i),p)){d=sqdist(poly[i],p);if(d<upperDist){upperDist=d;upperInt=p;upperIndex=j;}}}}// if there are no vertices to connect to, choose a point in the middle\nif(lowerIndex===(upperIndex+1)%polygon.length){//console.log(\"Case 1: Vertex(\"+i+\"), lowerIndex(\"+lowerIndex+\"), upperIndex(\"+upperIndex+\"), poly.size(\"+polygon.length+\")\");\np[0]=(lowerInt[0]+upperInt[0])/2;p[1]=(lowerInt[1]+upperInt[1])/2;steinerPoints.push(p);if(i<upperIndex){//lowerPoly.insert(lowerPoly.end(), poly.begin() + i, poly.begin() + upperIndex + 1);\npolygonAppend(lowerPoly,poly,i,upperIndex+1);lowerPoly.push(p);upperPoly.push(p);if(lowerIndex!==0){//upperPoly.insert(upperPoly.end(), poly.begin() + lowerIndex, poly.end());\npolygonAppend(upperPoly,poly,lowerIndex,poly.length);}//upperPoly.insert(upperPoly.end(), poly.begin(), poly.begin() + i + 1);\npolygonAppend(upperPoly,poly,0,i+1);}else{if(i!==0){//lowerPoly.insert(lowerPoly.end(), poly.begin() + i, poly.end());\npolygonAppend(lowerPoly,poly,i,poly.length);}//lowerPoly.insert(lowerPoly.end(), poly.begin(), poly.begin() + upperIndex + 1);\npolygonAppend(lowerPoly,poly,0,upperIndex+1);lowerPoly.push(p);upperPoly.push(p);//upperPoly.insert(upperPoly.end(), poly.begin() + lowerIndex, poly.begin() + i + 1);\npolygonAppend(upperPoly,poly,lowerIndex,i+1);}}else{// connect to the closest point within the triangle\n//console.log(\"Case 2: Vertex(\"+i+\"), closestIndex(\"+closestIndex+\"), poly.size(\"+polygon.length+\")\\n\");\nif(lowerIndex>upperIndex){upperIndex+=polygon.length;}closestDist=Number.MAX_VALUE;if(upperIndex<lowerIndex){return result;}for(var j=lowerIndex;j<=upperIndex;++j){if(isLeftOn(polygonAt(poly,i-1),polygonAt(poly,i),polygonAt(poly,j))&&isRightOn(polygonAt(poly,i+1),polygonAt(poly,i),polygonAt(poly,j))){d=sqdist(polygonAt(poly,i),polygonAt(poly,j));if(d<closestDist){closestDist=d;closestIndex=j%polygon.length;}}}if(i<closestIndex){polygonAppend(lowerPoly,poly,i,closestIndex+1);if(closestIndex!==0){polygonAppend(upperPoly,poly,closestIndex,v.length);}polygonAppend(upperPoly,poly,0,i+1);}else{if(i!==0){polygonAppend(lowerPoly,poly,i,v.length);}polygonAppend(lowerPoly,poly,0,closestIndex+1);polygonAppend(upperPoly,poly,closestIndex,i+1);}}// solve smallest poly first\nif(lowerPoly.length<upperPoly.length){polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);}else{polygonQuickDecomp(upperPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);polygonQuickDecomp(lowerPoly,result,reflexVertices,steinerPoints,delta,maxlevel,level);}return result;}}result.push(polygon);return result;}/**\n * Remove collinear points in the polygon.\n * @method removeCollinearPoints\n * @param  {Number} [precision] The threshold angle to use when determining whether two edges are collinear. Use zero for finest precision.\n * @return {Number}           The number of points removed\n */function polygonRemoveCollinearPoints(polygon,precision){var num=0;for(var i=polygon.length-1;polygon.length>3&&i>=0;--i){if(collinear(polygonAt(polygon,i-1),polygonAt(polygon,i),polygonAt(polygon,i+1),precision)){// Remove the middle point\npolygon.splice(i%polygon.length,1);num++;}}return num;}/**\n * Check if two scalars are equal\n * @static\n * @method eq\n * @param  {Number} a\n * @param  {Number} b\n * @param  {Number} [precision]\n * @return {Boolean}\n */function scalar_eq(a,b,precision){precision=precision||0;return Math.abs(a-b)<precision;}/***/},/* 908 *//***/function(module,exports,__webpack_require__){//  Phaser.Utils\nmodule.exports={Align:__webpack_require__(909),Array:__webpack_require__(922),Bounds:__webpack_require__(927),Objects:__webpack_require__(930),String:__webpack_require__(934)};/***/},/* 909 *//***/function(module,exports,__webpack_require__){//  Phaser.Utils.Align\nmodule.exports={InBottomCenter:__webpack_require__(101),InBottomLeft:__webpack_require__(102),InBottomRight:__webpack_require__(103),InCenter:__webpack_require__(104),InLeftCenter:__webpack_require__(106),InRightCenter:__webpack_require__(107),InTopCenter:__webpack_require__(108),InTopLeft:__webpack_require__(109),InTopRight:__webpack_require__(110),ToBottomCenter:__webpack_require__(910),ToBottomLeft:__webpack_require__(911),ToBottomRight:__webpack_require__(912),ToLeftBottom:__webpack_require__(913),ToLeftCenter:__webpack_require__(914),ToLeftTop:__webpack_require__(915),ToRightBottom:__webpack_require__(916),ToRightCenter:__webpack_require__(917),ToRightTop:__webpack_require__(918),ToTopCenter:__webpack_require__(919),ToTopLeft:__webpack_require__(920),ToTopRight:__webpack_require__(921)};/***/},/* 910 *//***/function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(32);var GetBottom=__webpack_require__(15);var SetCenterX=__webpack_require__(33);var SetTop=__webpack_require__(22);var ToBottomCenter=function ToBottomCenter(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetCenterX(gameObject,GetCenterX(parent)+offsetX);SetTop(gameObject,GetBottom(parent)+offsetY);return gameObject;};module.exports=ToBottomCenter;/***/},/* 911 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetBottom=__webpack_require__(15);var SetLeft=__webpack_require__(18);var SetTop=__webpack_require__(22);var ToBottomLeft=function ToBottomLeft(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetLeft(parent)-offsetX);SetTop(gameObject,GetBottom(parent)+offsetY);return gameObject;};module.exports=ToBottomLeft;/***/},/* 912 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetBottom=__webpack_require__(15);var SetRight=__webpack_require__(20);var SetTop=__webpack_require__(22);var ToBottomRight=function ToBottomRight(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetRight(parent)+offsetX);SetTop(gameObject,GetBottom(parent)+offsetY);return gameObject;};module.exports=ToBottomRight;/***/},/* 913 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetBottom=__webpack_require__(15);var SetRight=__webpack_require__(20);var SetBottom=__webpack_require__(16);var ToLeftBottom=function ToLeftBottom(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetLeft(parent)-offsetX);SetBottom(gameObject,GetBottom(parent)+offsetY);return gameObject;};module.exports=ToLeftBottom;/***/},/* 914 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetCenterY=__webpack_require__(34);var SetRight=__webpack_require__(20);var SetCenterY=__webpack_require__(35);var ToLeftCenter=function ToLeftCenter(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetLeft(parent)-offsetX);SetCenterY(gameObject,GetCenterY(parent)+offsetY);return gameObject;};module.exports=ToLeftCenter;/***/},/* 915 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetTop=__webpack_require__(21);var SetRight=__webpack_require__(20);var SetTop=__webpack_require__(22);var ToLeftTop=function ToLeftTop(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetLeft(parent)-offsetX);SetTop(gameObject,GetTop(parent)-offsetY);return gameObject;};module.exports=ToLeftTop;/***/},/* 916 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetBottom=__webpack_require__(15);var SetLeft=__webpack_require__(18);var SetBottom=__webpack_require__(16);var ToRightBottom=function ToRightBottom(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetRight(parent)+offsetX);SetBottom(gameObject,GetBottom(parent)+offsetY);return gameObject;};module.exports=ToRightBottom;/***/},/* 917 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetCenterY=__webpack_require__(34);var SetLeft=__webpack_require__(18);var SetCenterY=__webpack_require__(35);var ToRightTop=function ToRightTop(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetRight(parent)+offsetX);SetCenterY(gameObject,GetCenterY(parent)+offsetY);return gameObject;};module.exports=ToRightTop;/***/},/* 918 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetTop=__webpack_require__(21);var SetLeft=__webpack_require__(18);var SetTop=__webpack_require__(22);var ToRightTop=function ToRightTop(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetRight(parent)+offsetX);SetTop(gameObject,GetTop(parent)-offsetY);return gameObject;};module.exports=ToRightTop;/***/},/* 919 *//***/function(module,exports,__webpack_require__){var GetCenterX=__webpack_require__(32);var GetTop=__webpack_require__(21);var SetCenterX=__webpack_require__(33);var SetBottom=__webpack_require__(16);var ToTopCenter=function ToTopCenter(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetCenterX(gameObject,GetCenterX(parent)+offsetX);SetBottom(gameObject,GetTop(parent)-offsetY);return gameObject;};module.exports=ToTopCenter;/***/},/* 920 *//***/function(module,exports,__webpack_require__){var GetLeft=__webpack_require__(17);var GetTop=__webpack_require__(21);var SetLeft=__webpack_require__(18);var SetBottom=__webpack_require__(16);var ToTopLeft=function ToTopLeft(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetLeft(gameObject,GetLeft(parent)-offsetX);SetBottom(gameObject,GetTop(parent)-offsetY);return gameObject;};module.exports=ToTopLeft;/***/},/* 921 *//***/function(module,exports,__webpack_require__){var GetRight=__webpack_require__(19);var GetTop=__webpack_require__(21);var SetRight=__webpack_require__(20);var SetBottom=__webpack_require__(16);var ToTopRight=function ToTopRight(gameObject,parent,offsetX,offsetY){if(offsetX===undefined){offsetX=0;}if(offsetY===undefined){offsetY=0;}SetRight(gameObject,GetRight(parent)+offsetX);SetBottom(gameObject,GetTop(parent)-offsetY);return gameObject;};module.exports=ToTopRight;/***/},/* 922 *//***/function(module,exports,__webpack_require__){//  Phaser.Utils.Array\nmodule.exports={FindClosestInSorted:__webpack_require__(923),GetRandomElement:__webpack_require__(924),NumberArray:__webpack_require__(180),NumberArrayStep:__webpack_require__(925),QuickSelect:__webpack_require__(213),Range:__webpack_require__(174),RemoveRandomElement:__webpack_require__(926),RotateLeft:__webpack_require__(115),RotateRight:__webpack_require__(116),Shuffle:__webpack_require__(175),SpliceOne:__webpack_require__(216)};/***/},/* 923 *//***/function(module,exports){/**\n* Snaps a value to the nearest value in an array.\n* The result will always be in the range `[first_value, last_value]`.\n*\n* @method\n* @param {number} value - The search value\n* @param {number[]} arr - The input array which _must_ be sorted.\n* @return {number} The nearest value found.\n*/var FindClosestInSorted=function FindClosestInSorted(value,array){if(!array.length){return NaN;}else if(array.length===1||value<array[0]){return array[0];}var i=1;while(array[i]<value){i++;}var low=array[i-1];var high=i<array.length?array[i]:Number.POSITIVE_INFINITY;return high-value<=value-low?high:low;};module.exports=FindClosestInSorted;/***/},/* 924 *//***/function(module,exports){/**\n* Fetch a random entry from the given array.\n*\n* Will return null if there are no array items that fall within the specified range\n* or if there is no item for the randomly chosen index.\n*\n* @method\n* @param {any[]} objects - An array of objects.\n* @param {integer} startIndex - Optional offset off the front of the array. Default value is 0, or the beginning of the array.\n* @param {integer} length - Optional restriction on the number of values you want to randomly select from.\n* @return {object} The random object that was selected.\n*/var GetRandomElement=function GetRandomElement(array,start,length){if(start===undefined){start=0;}if(length===undefined){length=array.length;}var randomIndex=start+Math.floor(Math.random()*length);return array[randomIndex]===undefined?null:array[randomIndex];};module.exports=GetRandomElement;/***/},/* 925 *//***/function(module,exports,__webpack_require__){var RoundAwayFromZero=__webpack_require__(147);/**\n* Create an array of numbers (positive and/or negative) progressing from `start`\n* up to but not including `end` by advancing by `step`.\n*\n* If `start` is less than `end` a zero-length range is created unless a negative `step` is specified.\n*\n* Certain values for `start` and `end` (eg. NaN/undefined/null) are currently coerced to 0;\n* for forward compatibility make sure to pass in actual numbers.\n*\n* @method Phaser.ArrayUtils#numberArrayStep\n* @param {number} start - The start of the range.\n* @param {number} [end] - The end of the range.\n* @param {number} [step=1] - The value to increment or decrement by.\n* @returns {Array} Returns the new array of numbers.\n* @example\n* NumberArrayStep(4);\n* // => [0, 1, 2, 3]\n*\n* NumberArrayStep(1, 5);\n* // => [1, 2, 3, 4]\n*\n* NumberArrayStep(0, 20, 5);\n* // => [0, 5, 10, 15]\n*\n* NumberArrayStep(0, -4, -1);\n* // => [0, -1, -2, -3]\n*\n* NumberArrayStep(1, 4, 0);\n* // => [1, 1, 1]\n*\n* NumberArrayStep(0);\n* // => []\n*/var NumberArrayStep=function NumberArrayStep(start,end,step){if(start===undefined){start=0;}if(end===undefined){end=null;}if(step===undefined){step=1;}if(end===null){end=start;start=0;}var result=[];var total=Math.max(RoundAwayFromZero((end-start)/(step||1)),0);for(var i=0;i<total;i++){result.push(start);start+=step;}return result;};module.exports=NumberArrayStep;/***/},/* 926 *//***/function(module,exports,__webpack_require__){var SpliceOne=__webpack_require__(216);/**\n* Removes a random object from the given array and returns it.\n*\n* Will return null if there are no array items that fall within the specified range\n* or if there is no item for the randomly chosen index.\n*\n* @method\n* @param {any[]} objects - An array of objects.\n* @param {integer} startIndex - Optional offset off the front of the array. Default value is 0, or the beginning of the array.\n* @param {integer} length - Optional restriction on the number of values you want to randomly select from.\n* @return {object} The random object that was removed.\n*/var RemoveRandomElement=function RemoveRandomElement(array,start,length){if(start===undefined){start=0;}if(length===undefined){length=array.length;}var randomIndex=start+Math.floor(Math.random()*length);return SpliceOne(array,randomIndex);};module.exports=RemoveRandomElement;/***/},/* 927 *//***/function(module,exports,__webpack_require__){//  Phaser.Utils.Bounds\nmodule.exports={CenterOn:__webpack_require__(105),GetBottom:__webpack_require__(15),GetCenterX:__webpack_require__(32),GetCenterY:__webpack_require__(34),GetLeft:__webpack_require__(17),GetOffsetX:__webpack_require__(928),GetOffsetY:__webpack_require__(929),GetRight:__webpack_require__(19),GetTop:__webpack_require__(21),SetBottom:__webpack_require__(16),SetCenterX:__webpack_require__(33),SetCenterY:__webpack_require__(35),SetLeft:__webpack_require__(18),SetRight:__webpack_require__(20),SetTop:__webpack_require__(22)};/***/},/* 928 *//***/function(module,exports){/**\n* The amount the Game Object is visually offset from its x coordinate.\n* This is the same as `width * origin.x`.\n* It will only be > 0 if origin.x is not equal to zero.\n*\n* @property {number} offsetX\n* @readOnly\n*/var GetOffsetX=function GetOffsetX(gameObject){return gameObject.width*gameObject.originX;};module.exports=GetOffsetX;/***/},/* 929 *//***/function(module,exports){/**\n* The amount the Game Object is visually offset from its x coordinate.\n* This is the same as `width * origin.x`.\n* It will only be > 0 if origin.x is not equal to zero.\n*\n* @property {number} offsetX\n* @readOnly\n*/var GetOffsetY=function GetOffsetY(gameObject){return gameObject.height*gameObject.originY;};module.exports=GetOffsetY;/***/},/* 930 *//***/function(module,exports,__webpack_require__){//  Phaser.Utils.Object\nmodule.exports={Clone:__webpack_require__(96),Extend:__webpack_require__(60),GetAdvancedValue:__webpack_require__(5),GetFastValue:__webpack_require__(7),GetMinMaxValue:__webpack_require__(931),GetValue:__webpack_require__(2),IsPlainObject:__webpack_require__(98),Merge:__webpack_require__(932),MergeRight:__webpack_require__(933)};/***/},/* 931 *//***/function(module,exports,__webpack_require__){var GetValue=__webpack_require__(2);var Clamp=__webpack_require__(49);var GetMinMaxValue=function GetMinMaxValue(source,key,min,max,defaultValue){if(defaultValue===undefined){defaultValue=min;}var value=GetValue(source,key,defaultValue);return Clamp(value,min,max);};module.exports=GetMinMaxValue;/***/},/* 932 *//***/function(module,exports,__webpack_require__){//  Creates a new Object using all values from obj1 and obj2.\n//  If a value exists in both obj1 and obj2, the value in obj1 is used.\nvar Clone=__webpack_require__(96);var Merge=function Merge(obj1,obj2){var clone=Clone(obj1);for(var key in obj2){if(!clone.hasOwnProperty(key)){clone[key]=obj2[key];}}return clone;};module.exports=Merge;/***/},/* 933 *//***/function(module,exports,__webpack_require__){//  Creates a new Object using all values from obj1.\n//  \n//  Then scans obj2. If a property is found in obj2 that *also* exists in obj1,\n//  the value from obj2 is used, otherwise the property is skipped.\nvar Clone=__webpack_require__(96);var MergeRight=function MergeRight(obj1,obj2){var clone=Clone(obj1);for(var key in obj2){if(clone.hasOwnProperty(key)){clone[key]=obj2[key];}}return clone;};module.exports=MergeRight;/***/},/* 934 *//***/function(module,exports,__webpack_require__){module.exports={Pad:__webpack_require__(157),Format:__webpack_require__(935),Reverse:__webpack_require__(936)};/***/},/* 935 *//***/function(module,exports){/**\n * Replaces %1, %2, %3 etc in the String with the values\n * given in the array. Values are cast to strings.\n * If no value exists an empty string is inserted.\n * \n * @param {string} string - The string containing the markers\n * @param {array} values - An array containing the values to replace the markers with\n*/var Format=function Format(string,values){string.replace(/%([0-9]+)/g,function(s,n){return values[Number(n)-1];});return string;};module.exports=Format;/***/},/* 936 *//***/function(module,exports){/**\n* Takes the given string and reverses it, returning the reversed string.\n* For example if given the string `Atari 520ST` it would return `TS025 iratA`.\n*\n* @method Phaser.Utils.reverseString\n* @param {string} string - The string to be reversed.\n* @return {string} The reversed string.\n*/var ReverseString=function ReverseString(string){return string.split('').reverse().join('');};module.exports=ReverseString;/***/}]/******/));});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92ZW5kb3IvcGhhc2VyLmpzPzVkZjgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO3ZhciBfdHlwZW9mPXR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJnR5cGVvZiBTeW1ib2wuaXRlcmF0b3I9PT1cInN5bWJvbFwiP2Z1bmN0aW9uKG9iail7cmV0dXJuIHR5cGVvZiBvYmo7fTpmdW5jdGlvbihvYmope3JldHVybiBvYmomJnR5cGVvZiBTeW1ib2w9PT1cImZ1bmN0aW9uXCImJm9iai5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmb2JqIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBvYmo7fTsoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCxmYWN0b3J5KXtpZigodHlwZW9mIGV4cG9ydHM9PT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKGV4cG9ydHMpKT09PSdvYmplY3QnJiYodHlwZW9mIG1vZHVsZT09PSd1bmRlZmluZWQnPyd1bmRlZmluZWQnOl90eXBlb2YobW9kdWxlKSk9PT0nb2JqZWN0Jyltb2R1bGUuZXhwb3J0cz1mYWN0b3J5KCk7ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09J2Z1bmN0aW9uJyYmZGVmaW5lLmFtZClkZWZpbmUoXCJQaGFzZXJcIixbXSxmYWN0b3J5KTtlbHNlIGlmKCh0eXBlb2YgZXhwb3J0cz09PSd1bmRlZmluZWQnPyd1bmRlZmluZWQnOl90eXBlb2YoZXhwb3J0cykpPT09J29iamVjdCcpZXhwb3J0c1tcIlBoYXNlclwiXT1mYWN0b3J5KCk7ZWxzZSByb290W1wiUGhhc2VyXCJdPWZhY3RvcnkoKTt9KSh1bmRlZmluZWQsZnVuY3Rpb24oKXtyZXR1cm4oLyoqKioqKi9mdW5jdGlvbihtb2R1bGVzKXsvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLy8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovdmFyIGluc3RhbGxlZE1vZHVsZXM9e307LyoqKioqKi8vKioqKioqLy8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqL2Z1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpey8qKioqKiovLyoqKioqKi8vLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pey8qKioqKiovcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7LyoqKioqKi99LyoqKioqKi8vLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi92YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXsvKioqKioqL2k6bW9kdWxlSWQsLyoqKioqKi9sOmZhbHNlLC8qKioqKiovZXhwb3J0czp7fS8qKioqKiovfTsvKioqKioqLy8qKioqKiovLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqL21vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pOy8qKioqKiovLyoqKioqKi8vLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqL21vZHVsZS5sPXRydWU7LyoqKioqKi8vKioqKioqLy8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqL3JldHVybiBtb2R1bGUuZXhwb3J0czsvKioqKioqL30vKioqKioqLy8qKioqKiovLyoqKioqKi8vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlczsvKioqKioqLy8qKioqKiovLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXM7LyoqKioqKi8vKioqKioqLy8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi9fX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7LyoqKioqKi9pZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSkpey8qKioqKiovT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsbmFtZSx7LyoqKioqKi9jb25maWd1cmFibGU6ZmFsc2UsLyoqKioqKi9lbnVtZXJhYmxlOnRydWUsLyoqKioqKi9nZXQ6Z2V0dGVyLyoqKioqKi99KTsvKioqKioqL30vKioqKioqL307LyoqKioqKi8vKioqKioqLy8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqL19fd2VicGFja19yZXF1aXJlX18ubj1mdW5jdGlvbihtb2R1bGUpey8qKioqKiovdmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlPy8qKioqKiovZnVuY3Rpb24gZ2V0RGVmYXVsdCgpe3JldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTt9Oi8qKioqKiovZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpe3JldHVybiBtb2R1bGU7fTsvKioqKioqL19fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsJ2EnLGdldHRlcik7LyoqKioqKi9yZXR1cm4gZ2V0dGVyOy8qKioqKiovfTsvKioqKioqLy8qKioqKiovLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqL19fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KTt9Oy8qKioqKiovLyoqKioqKi8vLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi9fX3dlYnBhY2tfcmVxdWlyZV9fLnA9XCJcIjsvKioqKioqLy8qKioqKiovLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqL3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucz0yMTcpOy8qKioqKiovfSgvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLy8qKioqKiovWy8qIDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgVGFrZW4gZnJvbSBrbGFzc2UgYnkgbWF0dGRlc2wgaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsL2tsYXNzZVxuZnVuY3Rpb24gaGFzR2V0dGVyT3JTZXR0ZXIoZGVmKXtyZXR1cm4hIWRlZi5nZXQmJnR5cGVvZiBkZWYuZ2V0PT09J2Z1bmN0aW9uJ3x8ISFkZWYuc2V0JiZ0eXBlb2YgZGVmLnNldD09PSdmdW5jdGlvbic7fWZ1bmN0aW9uIGdldFByb3BlcnR5KGRlZmluaXRpb24sayxpc0NsYXNzRGVzY3JpcHRvcil7Ly8gIFRoaXMgbWF5IGJlIGEgbGlnaHR3ZWlnaHQgb2JqZWN0LCBPUiBpdCBtaWdodCBiZSBhIHByb3BlcnR5IHRoYXQgd2FzIGRlZmluZWQgcHJldmlvdXNseS5cbi8vICBGb3Igc2ltcGxlIGNsYXNzIGRlc2NyaXB0b3JzIHdlIGNhbiBqdXN0IGFzc3VtZSBpdHMgTk9UIHByZXZpb3VzbHkgZGVmaW5lZC5cbnZhciBkZWY9aXNDbGFzc0Rlc2NyaXB0b3I/ZGVmaW5pdGlvbltrXTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZmluaXRpb24sayk7aWYoIWlzQ2xhc3NEZXNjcmlwdG9yJiZkZWYudmFsdWUmJl90eXBlb2YoZGVmLnZhbHVlKT09PSdvYmplY3QnKXtkZWY9ZGVmLnZhbHVlO30vLyAgVGhpcyBtaWdodCBiZSBhIHJlZ3VsYXIgcHJvcGVydHksIG9yIGl0IG1heSBiZSBhIGdldHRlci9zZXR0ZXIgdGhlIHVzZXIgZGVmaW5lZCBpbiBhIGNsYXNzLlxuaWYoZGVmJiZoYXNHZXR0ZXJPclNldHRlcihkZWYpKXtpZih0eXBlb2YgZGVmLmVudW1lcmFibGU9PT0ndW5kZWZpbmVkJyl7ZGVmLmVudW1lcmFibGU9dHJ1ZTt9aWYodHlwZW9mIGRlZi5jb25maWd1cmFibGU9PT0ndW5kZWZpbmVkJyl7ZGVmLmNvbmZpZ3VyYWJsZT10cnVlO31yZXR1cm4gZGVmO31lbHNle3JldHVybiBmYWxzZTt9fWZ1bmN0aW9uIGhhc05vbkNvbmZpZ3VyYWJsZShvYmosayl7dmFyIHByb3A9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosayk7aWYoIXByb3Ape3JldHVybiBmYWxzZTt9aWYocHJvcC52YWx1ZSYmX3R5cGVvZihwcm9wLnZhbHVlKT09PSdvYmplY3QnKXtwcm9wPXByb3AudmFsdWU7fWlmKHByb3AuY29uZmlndXJhYmxlPT09ZmFsc2Upe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fWZ1bmN0aW9uIGV4dGVuZChjdG9yLGRlZmluaXRpb24saXNDbGFzc0Rlc2NyaXB0b3IsZXh0ZW5kKXtmb3IodmFyIGsgaW4gZGVmaW5pdGlvbil7aWYoIWRlZmluaXRpb24uaGFzT3duUHJvcGVydHkoaykpe2NvbnRpbnVlO312YXIgZGVmPWdldFByb3BlcnR5KGRlZmluaXRpb24sayxpc0NsYXNzRGVzY3JpcHRvcik7aWYoZGVmIT09ZmFsc2Upey8vICBJZiBFeHRlbmRzIGlzIHVzZWQsIHdlIHdpbGwgY2hlY2sgaXRzIHByb3RvdHlwZSB0byBzZWUgaWYgdGhlIGZpbmFsIHZhcmlhYmxlIGV4aXN0cy5cbnZhciBwYXJlbnQ9ZXh0ZW5kfHxjdG9yO2lmKGhhc05vbkNvbmZpZ3VyYWJsZShwYXJlbnQucHJvdG90eXBlLGspKXsvLyAgSnVzdCBza2lwIHRoZSBmaW5hbCBwcm9wZXJ0eVxuaWYoQ2xhc3MuaWdub3JlRmluYWxzKXtjb250aW51ZTt9Ly8gIFdlIGNhbm5vdCByZS1kZWZpbmUgYSBwcm9wZXJ0eSB0aGF0IGlzIGNvbmZpZ3VyYWJsZT1mYWxzZS5cbi8vICBTbyB3ZSB3aWxsIGNvbnNpZGVyIHRoZW0gZmluYWwgYW5kIHRocm93IGFuIGVycm9yLiBUaGlzIGlzIGJ5XG4vLyAgZGVmYXVsdCBzbyBpdCBpcyBjbGVhciB0byB0aGUgZGV2ZWxvcGVyIHdoYXQgaXMgaGFwcGVuaW5nLlxuLy8gIFlvdSBjYW4gc2V0IGlnbm9yZUZpbmFscyB0byB0cnVlIGlmIHlvdSBuZWVkIHRvIGV4dGVuZCBhIGNsYXNzXG4vLyAgd2hpY2ggaGFzIGNvbmZpZ3VyYWJsZT1mYWxzZTsgaXQgd2lsbCBzaW1wbHkgbm90IHJlLWRlZmluZSBmaW5hbCBwcm9wZXJ0aWVzLlxudGhyb3cgbmV3IEVycm9yKCdjYW5ub3Qgb3ZlcnJpZGUgZmluYWwgcHJvcGVydHkgXFwnJytrKydcXCcsIHNldCBDbGFzcy5pZ25vcmVGaW5hbHMgPSB0cnVlIHRvIHNraXAnKTt9T2JqZWN0LmRlZmluZVByb3BlcnR5KGN0b3IucHJvdG90eXBlLGssZGVmKTt9ZWxzZXtjdG9yLnByb3RvdHlwZVtrXT1kZWZpbml0aW9uW2tdO319fWZ1bmN0aW9uIG1peGluKG15Q2xhc3MsbWl4aW5zKXtpZighbWl4aW5zKXtyZXR1cm47fWlmKCFBcnJheS5pc0FycmF5KG1peGlucykpe21peGlucz1bbWl4aW5zXTt9Zm9yKHZhciBpPTA7aTxtaXhpbnMubGVuZ3RoO2krKyl7ZXh0ZW5kKG15Q2xhc3MsbWl4aW5zW2ldLnByb3RvdHlwZXx8bWl4aW5zW2ldKTt9fS8qKlxuICogQ3JlYXRlcyBhIG5ldyBjbGFzcyB3aXRoIHRoZSBnaXZlbiBkZXNjcmlwdG9yLlxuICogVGhlIGNvbnN0cnVjdG9yLCBkZWZpbmVkIGJ5IHRoZSBuYW1lIGBpbml0aWFsaXplYCxcbiAqIGlzIGFuIG9wdGlvbmFsIGZ1bmN0aW9uLiBJZiB1bnNwZWNpZmllZCwgYW4gYW5vbnltb3VzXG4gKiBmdW5jdGlvbiB3aWxsIGJlIHVzZWQgd2hpY2ggY2FsbHMgdGhlIHBhcmVudCBjbGFzcyAoaWZcbiAqIG9uZSBleGlzdHMpLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgYEV4dGVuZHNgIGFuZCBgTWl4aW5zYCB0byBwcm92aWRlIHN1YmNsYXNzaW5nXG4gKiBhbmQgaW5oZXJpdGFuY2UuXG4gKlxuICogQGNsYXNzICBDbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmaW5pdGlvbiBhIGRpY3Rpb25hcnkgb2YgZnVuY3Rpb25zIGZvciB0aGUgY2xhc3NcbiAqIEBleGFtcGxlXG4gKlxuICogICAgICB2YXIgTXlDbGFzcyA9IG5ldyBQaGFzZXIuQ2xhc3Moe1xuICogICAgICBcbiAqICAgICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgIHRoaXMuZm9vID0gMi4wO1xuICogICAgICAgICAgfSxcbiAqXG4gKiAgICAgICAgICBiYXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvbyArIDU7XG4gKiAgICAgICAgICB9XG4gKiAgICAgIH0pO1xuICovZnVuY3Rpb24gQ2xhc3MoZGVmaW5pdGlvbil7aWYoIWRlZmluaXRpb24pe2RlZmluaXRpb249e307fS8vICBUaGUgdmFyaWFibGUgbmFtZSBoZXJlIGRpY3RhdGVzIHdoYXQgd2Ugc2VlIGluIENocm9tZSBkZWJ1Z2dlclxudmFyIGluaXRpYWxpemU7dmFyIEV4dGVuZHM7aWYoZGVmaW5pdGlvbi5pbml0aWFsaXplKXtpZih0eXBlb2YgZGVmaW5pdGlvbi5pbml0aWFsaXplIT09J2Z1bmN0aW9uJyl7dGhyb3cgbmV3IEVycm9yKCdpbml0aWFsaXplIG11c3QgYmUgYSBmdW5jdGlvbicpO31pbml0aWFsaXplPWRlZmluaXRpb24uaW5pdGlhbGl6ZTsvLyAgVXN1YWxseSB3ZSBzaG91bGQgYXZvaWQgJ2RlbGV0ZScgaW4gVjggYXQgYWxsIGNvc3RzLlxuLy8gIEhvd2V2ZXIsIGl0cyB1bmxpa2VseSB0byBtYWtlIGFueSBwZXJmb3JtYW5jZSBkaWZmZXJlbmNlXG4vLyAgaGVyZSBzaW5jZSB3ZSBvbmx5IGNhbGwgdGhpcyBvbiBjbGFzcyBjcmVhdGlvbiAoaS5lLiBub3Qgb2JqZWN0IGNyZWF0aW9uKS5cbmRlbGV0ZSBkZWZpbml0aW9uLmluaXRpYWxpemU7fWVsc2V7aWYoZGVmaW5pdGlvbi5FeHRlbmRzKXt2YXIgYmFzZT1kZWZpbml0aW9uLkV4dGVuZHM7aW5pdGlhbGl6ZT1mdW5jdGlvbiBpbml0aWFsaXplKCl7YmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fTt9ZWxzZXtpbml0aWFsaXplPWZ1bmN0aW9uIGluaXRpYWxpemUoKXt9O319aWYoZGVmaW5pdGlvbi5FeHRlbmRzKXtpbml0aWFsaXplLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGRlZmluaXRpb24uRXh0ZW5kcy5wcm90b3R5cGUpO2luaXRpYWxpemUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWluaXRpYWxpemU7Ly8gIEZvciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgdG8gd29yaywgd2UgbmVlZCB0byBhY3QgZGlyZWN0bHkgb24gdGhlIEV4dGVuZHMgKG9yIE1peGluKVxuRXh0ZW5kcz1kZWZpbml0aW9uLkV4dGVuZHM7ZGVsZXRlIGRlZmluaXRpb24uRXh0ZW5kczt9ZWxzZXtpbml0aWFsaXplLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1pbml0aWFsaXplO30vLyAgR3JhYiB0aGUgbWl4aW5zLCBpZiB0aGV5IGFyZSBzcGVjaWZpZWQuLi5cbnZhciBtaXhpbnM9bnVsbDtpZihkZWZpbml0aW9uLk1peGlucyl7bWl4aW5zPWRlZmluaXRpb24uTWl4aW5zO2RlbGV0ZSBkZWZpbml0aW9uLk1peGluczt9Ly8gIEZpcnN0LCBtaXhpbiBpZiB3ZSBjYW4uXG5taXhpbihpbml0aWFsaXplLG1peGlucyk7Ly8gIE5vdyB3ZSBncmFiIHRoZSBhY3R1YWwgZGVmaW5pdGlvbiB3aGljaCBkZWZpbmVzIHRoZSBvdmVycmlkZXMuXG5leHRlbmQoaW5pdGlhbGl6ZSxkZWZpbml0aW9uLHRydWUsRXh0ZW5kcyk7cmV0dXJuIGluaXRpYWxpemU7fUNsYXNzLmV4dGVuZD1leHRlbmQ7Q2xhc3MubWl4aW49bWl4aW47Q2xhc3MuaWdub3JlRmluYWxzPWZhbHNlO21vZHVsZS5leHBvcnRzPUNsYXNzOy8qKiovfSwvKiAxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEV2ZW50KHR5cGUpe3RoaXMudHlwZT10eXBlOy8vICBUaGUgZWxlbWVudCB0aGF0IGluaXRpYXRlZCB0aGUgZXZlbnQuXG50aGlzLnRhcmdldDt0aGlzLl9wcm9wYWdhdGU9dHJ1ZTt9LHJlc2V0OmZ1bmN0aW9uIHJlc2V0KHRhcmdldCl7dGhpcy50YXJnZXQ9dGFyZ2V0O3RoaXMuX3Byb3BhZ2F0ZT10cnVlO30sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpe3RoaXMuX3Byb3BhZ2F0ZT1mYWxzZTt9fSk7bW9kdWxlLmV4cG9ydHM9RXZlbnQ7LyoqKi99LC8qIDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgU291cmNlIG9iamVjdFxuLy8gIFRoZSBrZXkgYXMgYSBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIGtleXMsIGkuZS4gJ2Jhbm5lcicsIG9yICdiYW5uZXIuaGlkZUJhbm5lcidcbi8vICBUaGUgZGVmYXVsdCB2YWx1ZSB0byB1c2UgaWYgdGhlIGtleSBkb2Vzbid0IGV4aXN0XG52YXIgR2V0VmFsdWU9ZnVuY3Rpb24gR2V0VmFsdWUoc291cmNlLGtleSxkZWZhdWx0VmFsdWUpe2lmKCFzb3VyY2V8fHR5cGVvZiBzb3VyY2U9PT0nbnVtYmVyJyl7cmV0dXJuIGRlZmF1bHRWYWx1ZTt9ZWxzZSBpZihzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSl7cmV0dXJuIHNvdXJjZVtrZXldO31lbHNlIGlmKGtleS5pbmRleE9mKCcuJykpe3ZhciBrZXlzPWtleS5zcGxpdCgnLicpO3ZhciBwYXJlbnQ9c291cmNlO3ZhciB2YWx1ZT1kZWZhdWx0VmFsdWU7Ly8gIFVzZSBmb3IgbG9vcCBoZXJlIHNvIHdlIGNhbiBicmVhayBlYXJseVxuZm9yKHZhciBpPTA7aTxrZXlzLmxlbmd0aDtpKyspe2lmKHBhcmVudC5oYXNPd25Qcm9wZXJ0eShrZXlzW2ldKSl7Ly8gIFllcyBpdCBoYXMgYSBrZXkgcHJvcGVydHksIGxldCdzIGNhcnJ5IG9uIGRvd25cbnZhbHVlPXBhcmVudFtrZXlzW2ldXTtwYXJlbnQ9cGFyZW50W2tleXNbaV1dO31lbHNley8vICBDYW4ndCBnbyBhbnkgZnVydGhlciwgc28gcmVzZXQgdG8gZGVmYXVsdFxudmFsdWU9ZGVmYXVsdFZhbHVlO2JyZWFrO319cmV0dXJuIHZhbHVlO31lbHNle3JldHVybiBkZWZhdWx0VmFsdWU7fX07bW9kdWxlLmV4cG9ydHM9R2V0VmFsdWU7LyoqKi99LC8qIDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR2FtZU9iamVjdHMuQ29tcG9uZW50c1xubW9kdWxlLmV4cG9ydHM9e0FscGhhOl9fd2VicGFja19yZXF1aXJlX18oMjMzKSxBbmltYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXygyMzQpLEJsZW5kTW9kZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NiksQ29tcHV0ZWRTaXplOl9fd2VicGFja19yZXF1aXJlX18oMjU3KSxGbGlwOl9fd2VicGFja19yZXF1aXJlX18oMjU4KSxHZXRCb3VuZHM6X193ZWJwYWNrX3JlcXVpcmVfXygyNTkpLE9yaWdpbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDI2MCksUmVuZGVyVGFyZ2V0Ol9fd2VicGFja19yZXF1aXJlX18oMjYxKSxTY2FsZU1vZGU6X193ZWJwYWNrX3JlcXVpcmVfXygyNjIpLFNjcm9sbEZhY3RvcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDI2MyksU2l6ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI2NCksVGV4dHVyZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI2NSksVGludDpfX3dlYnBhY2tfcmVxdWlyZV9fKDI2NiksVG9KU09OOl9fd2VicGFja19yZXF1aXJlX18oMjY3KSxUcmFuc2Zvcm06X193ZWJwYWNrX3JlcXVpcmVfXygyNjgpLFRyYW5zZm9ybU1hdHJpeDpfX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxWaXNpYmxlOl9fd2VicGFja19yZXF1aXJlX18oMjY5KX07LyoqKi99LC8qIDQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDT05TVD17VkVSU0lPTjonMy4wLjAnLEJsZW5kTW9kZXM6X193ZWJwYWNrX3JlcXVpcmVfXygzMSksU2NhbGVNb2RlczpfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KSxBVVRPOjAsQ0FOVkFTOjEsV0VCR0w6MixIRUFETEVTUzozLEZPUkVWRVI6LTEsTk9ORTo0LFVQOjUsRE9XTjo2LExFRlQ6NyxSSUdIVDo4fTttb2R1bGUuZXhwb3J0cz1DT05TVDsvKioqL30sLyogNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE1BVEg9X193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7Ly8gIEFsbG93ZWQgdHlwZXM6XG4vLyAgSW1wbGljaXRcbi8vICB7XG4vLyAgICAgIHg6IDRcbi8vICB9XG4vL1xuLy8gIEZyb20gZnVuY3Rpb25cbi8vICB7XG4vLyAgICAgIHg6IGZ1bmN0aW9uICgpXG4vLyAgfVxuLy9cbi8vICBSYW5kb21seSBwaWNrIG9uZSBlbGVtZW50IGZyb20gdGhlIGFycmF5XG4vLyAge1xuLy8gICAgICB4OiBbYSwgYiwgYywgZCwgZSwgZl1cbi8vICB9XG4vL1xuLy8gIFJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXg6XG4vLyAge1xuLy8gICAgICB4OiB7IHJhbmRJbnQ6IFttaW4sIG1heF0gfVxuLy8gIH1cbi8vXG4vLyAgUmFuZG9tIGZsb2F0IGJldHdlZW4gbWluIGFuZCBtYXg6XG4vLyAge1xuLy8gICAgICB4OiB7IHJhbmRGbG9hdDogW21pbiwgbWF4XSB9XG4vLyAgfVxudmFyIEdldEFkdmFuY2VkVmFsdWU9ZnVuY3Rpb24gR2V0QWR2YW5jZWRWYWx1ZShzb3VyY2Usa2V5LGRlZmF1bHRWYWx1ZSl7dmFyIHZhbHVlPUdldFZhbHVlKHNvdXJjZSxrZXksbnVsbCk7aWYodmFsdWU9PT1udWxsKXtyZXR1cm4gZGVmYXVsdFZhbHVlO31lbHNlIGlmKEFycmF5LmlzQXJyYXkodmFsdWUpKXtyZXR1cm4gTUFUSC5STkQucGljayh2YWx1ZSk7fWVsc2UgaWYoKHR5cGVvZiB2YWx1ZT09PSd1bmRlZmluZWQnPyd1bmRlZmluZWQnOl90eXBlb2YodmFsdWUpKT09PSdvYmplY3QnKXtpZih2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncmFuZEludCcpKXtyZXR1cm4gTUFUSC5STkQuaW50ZWdlckluUmFuZ2UodmFsdWUucmFuZEludFswXSx2YWx1ZS5yYW5kSW50WzFdKTt9ZWxzZSBpZih2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgncmFuZEZsb2F0Jykpe3JldHVybiBNQVRILlJORC5yZWFsSW5SYW5nZSh2YWx1ZS5yYW5kRmxvYXRbMF0sdmFsdWUucmFuZEZsb2F0WzFdKTt9fWVsc2UgaWYodHlwZW9mIHZhbHVlPT09J2Z1bmN0aW9uJyl7cmV0dXJuIHZhbHVlKGtleSk7fXJldHVybiB2YWx1ZTt9O21vZHVsZS5leHBvcnRzPUdldEFkdmFuY2VkVmFsdWU7LyoqKi99LC8qIDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDb21wb25lbnRzPV9fd2VicGFja19yZXF1aXJlX18oMyk7dmFyIEdhbWVPYmplY3Q9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEdhbWVPYmplY3Qoc2NlbmUsdHlwZSl7dGhpcy5zY2VuZT1zY2VuZTt0aGlzLnR5cGU9dHlwZTt0aGlzLm5hbWU9Jyc7dGhpcy5hY3RpdmU9dHJ1ZTt0aGlzLnRhYkluZGV4PS0xO3RoaXMucGFyZW50Oy8vICAwMDAxIHwgMDAxMCB8IDAxMDAgfCAxMDAwXG4vLyAgV2lsbCBSZW5kZXIgYml0bWFzayBmbGFncyBmb3IgdGhlIGNvbXBvbmVudHMgVmlzaWJsZSwgQWxwaGEsIFRyYW5zZm9ybSBhbmQgVGV4dHVyZSByZXNwZWN0aXZlbHlcbnRoaXMucmVuZGVyTWFzaz0xNTt0aGlzLnJlbmRlckZsYWdzPTE1O3RoaXMuaW5wdXQ9bnVsbDsvLyAgVHJpZ2dlciBhIHNjZW5lIHotZGVwdGggc29ydFxudGhpcy5zY2VuZS5zeXMuc29ydENoaWxkcmVuRmxhZz10cnVlO30sLy8gIEZvciBHYW1lT2JqZWN0IFBvb2xpbmcgYW5kIGl0ZW0gc2VsZWN0aW9uXG5zZXRBY3RpdmU6ZnVuY3Rpb24gc2V0QWN0aXZlKHZhbHVlKXt0aGlzLmFjdGl2ZT12YWx1ZTtyZXR1cm4gdGhpczt9LHNldE5hbWU6ZnVuY3Rpb24gc2V0TmFtZSh2YWx1ZSl7dGhpcy5uYW1lPXZhbHVlO3JldHVybiB0aGlzO30sc2V0SW50ZXJhY3RpdmU6ZnVuY3Rpb24gc2V0SW50ZXJhY3RpdmUoc2hhcGUsY2FsbGJhY2spe3RoaXMuc2NlbmUuc3lzLmlucHV0TWFuYWdlci5lbmFibGUodGhpcyxzaGFwZSxjYWxsYmFjayk7cmV0dXJuIHRoaXM7fSwvLyAgVG8gYmUgb3ZlcnJpZGRlbiBieSBjdXN0b20gR2FtZU9iamVjdHMuIEFsbG93cyBiYXNlIG9iamVjdHMgdG8gYmUgdXNlZCBpbiBhIFBvb2wuXG51cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKCl7fSwvLyAgQ2FuIGJlIG92ZXJyaWRkZW4gYnkgY3VzdG9tIEdhbWUgT2JqZWN0cywgYnV0IHByb3ZpZGVzIGRlZmF1bHQgZXhwb3J0IGZ1bmN0aW9uYWxpdHlcbnRvSlNPTjpmdW5jdGlvbiB0b0pTT04oKXtyZXR1cm4gQ29tcG9uZW50cy5Ub0pTT04odGhpcyk7fSx3aWxsUmVuZGVyOmZ1bmN0aW9uIHdpbGxSZW5kZXIoKXtyZXR1cm4gdGhpcy5yZW5kZXJNYXNrPT09dGhpcy5yZW5kZXJGbGFnczt9LGRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe2lmKHRoaXMucGFyZW50KXt0aGlzLnBhcmVudC5yZW1vdmUodGhpcyk7fWlmKHRoaXMuaW5wdXQpe3RoaXMuc2NlbmUuc3lzLmlucHV0TWFuYWdlci5jbGVhcih0aGlzKTt9dGhpcy5hY3RpdmU9ZmFsc2U7dGhpcy5zY2VuZT11bmRlZmluZWQ7fX0pO21vZHVsZS5leHBvcnRzPUdhbWVPYmplY3Q7LyoqKi99LC8qIDcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgU291cmNlIG9iamVjdFxuLy8gIFRoZSBrZXkgYXMgYSBzdHJpbmcsIGNhbiBvbmx5IGJlIDEgbGV2ZWwgZGVlcCAobm8gcGVyaW9kcyksIG11c3QgZXhpc3QgYXQgdGhlIHRvcCBsZXZlbCBvZiB0aGUgc291cmNlIG9iamVjdFxuLy8gIFRoZSBkZWZhdWx0IHZhbHVlIHRvIHVzZSBpZiB0aGUga2V5IGRvZXNuJ3QgZXhpc3RcbnZhciBHZXRGYXN0VmFsdWU9ZnVuY3Rpb24gR2V0RmFzdFZhbHVlKHNvdXJjZSxrZXksZGVmYXVsdFZhbHVlKXt2YXIgdD10eXBlb2Ygc291cmNlPT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihzb3VyY2UpO2lmKCFzb3VyY2V8fHQ9PT0nbnVtYmVyJ3x8dD09PSdzdHJpbmcnKXtyZXR1cm4gZGVmYXVsdFZhbHVlO31lbHNlIGlmKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKXtyZXR1cm4gc291cmNlW2tleV07fWVsc2V7cmV0dXJuIGRlZmF1bHRWYWx1ZTt9fTttb2R1bGUuZXhwb3J0cz1HZXRGYXN0VmFsdWU7LyoqKi99LC8qIDggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBQb2ludD1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gUG9pbnQoeCx5KXtpZih4PT09dW5kZWZpbmVkKXt4PTA7fWlmKHk9PT11bmRlZmluZWQpe3k9eDt9dGhpcy54PXg7dGhpcy55PXk7fSxzZXRUbzpmdW5jdGlvbiBzZXRUbyh4LHkpe2lmKHg9PT11bmRlZmluZWQpe3g9MDt9aWYoeT09PXVuZGVmaW5lZCl7eT14O310aGlzLng9eDt0aGlzLnk9eTtyZXR1cm4gdGhpczt9fSk7bW9kdWxlLmV4cG9ydHM9UG9pbnQ7LyoqKi99LC8qIDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIFNjYWxlTW9kZXM9X193ZWJwYWNrX3JlcXVpcmVfXygyNik7dmFyIEJsZW5kTW9kZXM9X193ZWJwYWNrX3JlcXVpcmVfXygzMSk7dmFyIEJ1aWxkR2FtZU9iamVjdD1mdW5jdGlvbiBCdWlsZEdhbWVPYmplY3Qoc2NlbmUsZ2FtZU9iamVjdCxjb25maWcpey8vICBQb3NpdGlvblxuZ2FtZU9iamVjdC54PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd4JywwKTtnYW1lT2JqZWN0Lnk9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3knLDApO2dhbWVPYmplY3Quej1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywneicsMCk7Ly8gIEZsaXBcbmdhbWVPYmplY3QuZmxpcFg9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2ZsaXBYJyxmYWxzZSk7Z2FtZU9iamVjdC5mbGlwWT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnZmxpcFknLGZhbHNlKTsvLyAgU2NhbGVcbi8vICBFaXRoZXI6IHsgc2NhbGU6IDIgfSBvciB7IHNjYWxlOiB7IHg6IDIsIHk6IDIgfX1cbnZhciBzY2FsZT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnc2NhbGUnLG51bGwpO2lmKHR5cGVvZiBzY2FsZT09PSdudW1iZXInKXtnYW1lT2JqZWN0LnNldFNjYWxlKHNjYWxlKTt9ZWxzZSBpZihzY2FsZSE9PW51bGwpe2dhbWVPYmplY3Quc2NhbGVYPUdldEFkdmFuY2VkVmFsdWUoc2NhbGUsJ3gnLDEpO2dhbWVPYmplY3Quc2NhbGVZPUdldEFkdmFuY2VkVmFsdWUoc2NhbGUsJ3knLDEpO30vLyAgU2Nyb2xsRmFjdG9yXG4vLyAgRWl0aGVyOiB7IHNjcm9sbEZhY3RvcjogMiB9IG9yIHsgc2Nyb2xsRmFjdG9yOiB7IHg6IDIsIHk6IDIgfX1cbnZhciBzY3JvbGxGYWN0b3I9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3Njcm9sbEZhY3RvcicsbnVsbCk7aWYodHlwZW9mIHNjcm9sbEZhY3Rvcj09PSdudW1iZXInKXtnYW1lT2JqZWN0LnNldFNjcm9sbEZhY3RvcihzY3JvbGxGYWN0b3IpO31lbHNlIGlmKHNjcm9sbEZhY3RvciE9PW51bGwpe2dhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWD1HZXRBZHZhbmNlZFZhbHVlKHNjcm9sbEZhY3RvciwneCcsMSk7Z2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZPUdldEFkdmFuY2VkVmFsdWUoc2Nyb2xsRmFjdG9yLCd5JywxKTt9Ly8gIFJvdGF0aW9uXG5nYW1lT2JqZWN0LnJvdGF0aW9uPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdyb3RhdGlvbicsMCk7dmFyIGFuZ2xlPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdhbmdsZScsbnVsbCk7aWYoYW5nbGUhPT1udWxsKXtnYW1lT2JqZWN0LmFuZ2xlPWFuZ2xlO30vLyAgQWxwaGFcbmdhbWVPYmplY3QuYWxwaGE9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2FscGhhJywxKTsvLyAgT3JpZ2luXG4vLyAgRWl0aGVyOiB7IG9yaWdpbjogMC41IH0gb3IgeyBvcmlnaW46IHsgeDogMC41LCB5OiAwLjUgfX1cbnZhciBvcmlnaW49R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ29yaWdpbicsbnVsbCk7aWYodHlwZW9mIG9yaWdpbj09PSdudW1iZXInKXtnYW1lT2JqZWN0LnNldE9yaWdpbihvcmlnaW4pO31lbHNlIGlmKG9yaWdpbiE9PW51bGwpe3ZhciBveD1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywneCcsMC41KTt2YXIgb3k9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3knLDAuNSk7Z2FtZU9iamVjdC5zZXRPcmlnaW4ob3gsb3kpO30vLyAgU2NhbGVNb2RlXG5nYW1lT2JqZWN0LnNjYWxlTW9kZT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnc2NhbGVNb2RlJyxTY2FsZU1vZGVzLkRFRkFVTFQpOy8vICBCbGVuZE1vZGVcbmdhbWVPYmplY3QuYmxlbmRNb2RlPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdibGVuZE1vZGUnLEJsZW5kTW9kZXMuTk9STUFMKTsvLyAgVmlzaWJsZVxuZ2FtZU9iamVjdC52aXNpYmxlPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd2aXNpYmxlJyx0cnVlKTsvLyAgQWRkIHRvIFNjZW5lXG52YXIgYWRkPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdhZGQnLHRydWUpO2lmKGFkZCl7c2NlbmUuc3lzLmRpc3BsYXlMaXN0LmFkZChnYW1lT2JqZWN0KTt9cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1CdWlsZEdhbWVPYmplY3Q7LyoqKi99LC8qIDEwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE1BVEhfQ09OU1Q9e1BJMjpNYXRoLlBJKjIsVEFVOk1hdGguUEkqMC41LEVQU0lMT046MS4wZS02LERFR19UT19SQUQ6TWF0aC5QSS8xODAsUkFEX1RPX0RFRzoxODAvTWF0aC5QSX07bW9kdWxlLmV4cG9ydHM9TUFUSF9DT05TVDsvKioqL30sLyogMTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO3ZhciBTbW9vdGhpbmc9X193ZWJwYWNrX3JlcXVpcmVfXyg2NCk7Ly8gVGhlIHBvb2wgaW50byB3aGljaCB0aGUgY2FudmFzIGVsZW1lbnRzIGFyZSBwbGFjZWQuXG52YXIgcG9vbD1bXTsvLyAgQXV0b21hdGljYWxseSBhcHBseSBzbW9vdGhpbmcoZmFsc2UpIHRvIGNyZWF0ZWQgQ2FudmFzIGVsZW1lbnRzXG52YXIgX2Rpc2FibGVDb250ZXh0U21vb3RoaW5nPWZhbHNlOy8vICBUaGlzIHNpbmdsZXRvbiBpcyBpbnN0YW50aWF0ZWQgYXMgc29vbiBhcyBQaGFzZXIgbG9hZHMsXG4vLyAgYmVmb3JlIGEgUGhhc2VyLkdhbWUgaW5zdGFuY2UgaGFzIGV2ZW4gYmVlbiBjcmVhdGVkLlxuLy8gIFdoaWNoIG1lYW5zIGFsbCBpbnN0YW5jZXMgb2YgUGhhc2VyIEdhbWVzIG9uIHRoZSBzYW1lIHBhZ2Vcbi8vICBjYW4gc2hhcmUgdGhlIG9uZSBzaW5nbGUgcG9vbFxuLy8gVGhlIENhbnZhc1Bvb2wgaXMgYSBnbG9iYWwgc3RhdGljIG9iamVjdCwgdGhhdCBhbGxvd3MgUGhhc2VyIHRvIHJlY3ljbGUgYW5kIHBvb2wgQ2FudmFzIERPTSBlbGVtZW50cy5cbnZhciBDYW52YXNQb29sPWZ1bmN0aW9uIENhbnZhc1Bvb2woKXsvLyBDcmVhdGVzIGEgbmV3IENhbnZhcyBET00gZWxlbWVudCwgb3IgcHVsbHMgb25lIGZyb20gdGhlIHBvb2wgaWYgZnJlZS5cbnZhciBjcmVhdGU9ZnVuY3Rpb24gY3JlYXRlKHBhcmVudCx3aWR0aCxoZWlnaHQsdHlwZSl7aWYod2lkdGg9PT11bmRlZmluZWQpe3dpZHRoPTE7fWlmKGhlaWdodD09PXVuZGVmaW5lZCl7aGVpZ2h0PTE7fWlmKHR5cGU9PT11bmRlZmluZWQpe3R5cGU9Q09OU1QuQ0FOVkFTO312YXIgY2FudmFzO3ZhciBjb250YWluZXI9Zmlyc3QodHlwZSk7aWYoY29udGFpbmVyPT09bnVsbCl7Y29udGFpbmVyPXtwYXJlbnQ6cGFyZW50LGNhbnZhczpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSx0eXBlOnR5cGV9O3Bvb2wucHVzaChjb250YWluZXIpO2NhbnZhcz1jb250YWluZXIuY2FudmFzO31lbHNle2NvbnRhaW5lci5wYXJlbnQ9cGFyZW50O2NhbnZhcz1jb250YWluZXIuY2FudmFzO31jYW52YXMud2lkdGg9d2lkdGg7Y2FudmFzLmhlaWdodD1oZWlnaHQ7aWYoX2Rpc2FibGVDb250ZXh0U21vb3RoaW5nJiZ0eXBlPT09Q09OU1QuQ0FOVkFTKXtTbW9vdGhpbmcuZGlzYWJsZShjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSk7fXJldHVybiBjYW52YXM7fTt2YXIgY3JlYXRlMkQ9ZnVuY3Rpb24gY3JlYXRlMkQocGFyZW50LHdpZHRoLGhlaWdodCl7cmV0dXJuIGNyZWF0ZShwYXJlbnQsd2lkdGgsaGVpZ2h0LENPTlNULkNBTlZBUyk7fTt2YXIgY3JlYXRlV2ViR0w9ZnVuY3Rpb24gY3JlYXRlV2ViR0wocGFyZW50LHdpZHRoLGhlaWdodCl7cmV0dXJuIGNyZWF0ZShwYXJlbnQsd2lkdGgsaGVpZ2h0LENPTlNULldFQkdMKTt9Oy8vIEdldHMgdGhlIGZpcnN0IGZyZWUgY2FudmFzIGluZGV4IGZyb20gdGhlIHBvb2wuXG52YXIgZmlyc3Q9ZnVuY3Rpb24gZmlyc3QodHlwZSl7aWYodHlwZT09PXVuZGVmaW5lZCl7dHlwZT1DT05TVC5DQU5WQVM7fXBvb2wuZm9yRWFjaChmdW5jdGlvbihjb250YWluZXIpe2lmKCFjb250YWluZXIucGFyZW50JiZjb250YWluZXIudHlwZT09PXR5cGUpe3JldHVybiBjb250YWluZXI7fX0pO3JldHVybiBudWxsO307Ly8gIExvb2tzIHVwIGEgY2FudmFzIGJhc2VkIG9uIGl0cyBwYXJlbnQsIGFuZCBpZiBmb3VuZCBwdXRzIGl0IGJhY2sgaW4gdGhlIHBvb2wsIGZyZWVpbmcgaXQgdXAgZm9yIHJlLXVzZS5cbi8vICBUaGUgY2FudmFzIGhhcyBpdHMgd2lkdGggYW5kIGhlaWdodCBzZXQgdG8gMSwgYW5kIGl0cyBwYXJlbnQgYXR0cmlidXRlIG51bGxlZC5cbnZhciByZW1vdmU9ZnVuY3Rpb24gcmVtb3ZlKHBhcmVudCl7Ly8gIENoZWNrIHRvIHNlZSBpZiB0aGUgcGFyZW50IGlzIGEgY2FudmFzIG9iamVjdFxudmFyIGlzQ2FudmFzPXBhcmVudCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O3Bvb2wuZm9yRWFjaChmdW5jdGlvbihjb250YWluZXIpe2lmKGlzQ2FudmFzJiZjb250YWluZXIuY2FudmFzPT09cGFyZW50fHwhaXNDYW52YXMmJmNvbnRhaW5lci5wYXJlbnQ9PT1wYXJlbnQpey8vIGNvbnNvbGUubG9nKCdDYW52YXNQb29sLnJlbW92ZSBmb3VuZCBhbmQgcmVtb3ZlZCcpO1xuY29udGFpbmVyLnBhcmVudD1udWxsO2NvbnRhaW5lci5jYW52YXMud2lkdGg9MTtjb250YWluZXIuY2FudmFzLmhlaWdodD0xO319KTt9Oy8vICBHZXRzIHRoZSB0b3RhbCBudW1iZXIgb2YgdXNlZCBjYW52YXMgZWxlbWVudHMgaW4gdGhlIHBvb2wuXG52YXIgdG90YWw9ZnVuY3Rpb24gdG90YWwoKXt2YXIgYz0wO3Bvb2wuZm9yRWFjaChmdW5jdGlvbihjb250YWluZXIpe2lmKGNvbnRhaW5lci5wYXJlbnQpe2MrKzt9fSk7cmV0dXJuIGM7fTsvLyAgR2V0cyB0aGUgdG90YWwgbnVtYmVyIG9mIGZyZWUgY2FudmFzIGVsZW1lbnRzIGluIHRoZSBwb29sLlxudmFyIGZyZWU9ZnVuY3Rpb24gZnJlZSgpe3JldHVybiBwb29sLmxlbmd0aC10b3RhbCgpO307Ly8gIERpc2FibGUgY29udGV4dCBzbW9vdGhpbmcgb24gYW55IG5ldyBDYW52YXMgZWxlbWVudCBjcmVhdGVkXG52YXIgZGlzYWJsZVNtb290aGluZz1mdW5jdGlvbiBkaXNhYmxlU21vb3RoaW5nKCl7X2Rpc2FibGVDb250ZXh0U21vb3RoaW5nPXRydWU7fTsvLyAgRW5hYmxlIGNvbnRleHQgc21vb3RoaW5nIG9uIGFueSBuZXcgQ2FudmFzIGVsZW1lbnQgY3JlYXRlZFxudmFyIGVuYWJsZVNtb290aGluZz1mdW5jdGlvbiBlbmFibGVTbW9vdGhpbmcoKXtfZGlzYWJsZUNvbnRleHRTbW9vdGhpbmc9ZmFsc2U7fTtyZXR1cm57Y3JlYXRlMkQ6Y3JlYXRlMkQsY3JlYXRlOmNyZWF0ZSxjcmVhdGVXZWJHTDpjcmVhdGVXZWJHTCxkaXNhYmxlU21vb3RoaW5nOmRpc2FibGVTbW9vdGhpbmcsZW5hYmxlU21vb3RoaW5nOmVuYWJsZVNtb290aGluZyxmaXJzdDpmaXJzdCxmcmVlOmZyZWUscG9vbDpwb29sLHJlbW92ZTpyZW1vdmUsdG90YWw6dG90YWx9O307Ly8gIElmIHdlIGV4cG9ydCB0aGUgY2FsbGVkIGZ1bmN0aW9uIGhlcmUsIGl0J2xsIG9ubHkgYmUgaW52b2tlZCBvbmNlIChub3QgZXZlcnkgdGltZSBpdCdzIHJlcXVpcmVkKS5cbm1vZHVsZS5leHBvcnRzPUNhbnZhc1Bvb2woKTsvKioqL30sLyogMTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRklMRV9DT05TVD17TE9BREVSX0lETEU6MCxMT0FERVJfTE9BRElORzoxLExPQURFUl9QUk9DRVNTSU5HOjIsTE9BREVSX0NPTVBMRVRFOjMsTE9BREVSX0RFU1RST1lFRDo0LEZJTEVfUEVORElORzo1LC8vIGZpbGUgaXMgaW4gdGhlIGxvYWQgcXVldWUgYnV0IG5vdCB5ZXQgc3RhcnRlZFxuRklMRV9MT0FESU5HOjYsLy8gZmlsZSBoYXMgYmVlbiBzdGFydGVkIHRvIGxvYWQgYnkgdGhlIGxvYWRlciAob25Mb2FkIGNhbGxlZClcbkZJTEVfTE9BREVEOjcsLy8gZmlsZSBoYXMgbG9hZGVkIHN1Y2Nlc3NmdWxseSwgYXdhaXRpbmcgcHJvY2Vzc2luZ1xuRklMRV9GQUlMRUQ6OCwvLyBmaWxlIGZhaWxlZCB0byBsb2FkXG5GSUxFX1BST0NFU1NJTkc6OSwvLyBmaWxlIGlzIGJlaW5nIHByb2Nlc3NlZCAob25Qcm9jZXNzIGNhbGxiYWNrKVxuRklMRV9XQUlUSU5HX0xJTktGSUxFOjEwLC8vIGZpbGUgaXMgYmVpbmcgcHJvY2Vzc2VkIChvblByb2Nlc3MgY2FsbGJhY2spXG5GSUxFX0VSUk9SRUQ6MTEsLy8gZmlsZSBpcyBiZWluZyBwcm9jZXNzZWQgKG9uUHJvY2VzcyBjYWxsYmFjaylcbkZJTEVfQ09NUExFVEU6MTIsLy8gZmlsZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZ1xuRklMRV9ERVNUUk9ZRUQ6MTMsLy8gZmlsZSBoYXMgYmVlbiBkZXN0cm95ZWRcblRFWFRVUkVfQVRMQVNfSlNPTl9BUlJBWToyMCxURVhUVVJFX0FUTEFTX0pTT05fSEFTSDoyMX07bW9kdWxlLmV4cG9ydHM9RklMRV9DT05TVDsvKioqL30sLyogMTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBUcmFuc2Zvcm1NYXRyaXg9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFRyYW5zZm9ybU1hdHJpeChhLGIsYyxkLHR4LHR5KXtpZihhPT09dW5kZWZpbmVkKXthPTE7fWlmKGI9PT11bmRlZmluZWQpe2I9MDt9aWYoYz09PXVuZGVmaW5lZCl7Yz0wO31pZihkPT09dW5kZWZpbmVkKXtkPTE7fWlmKHR4PT09dW5kZWZpbmVkKXt0eD0wO31pZih0eT09PXVuZGVmaW5lZCl7dHk9MDt9dGhpcy5tYXRyaXg9bmV3IEZsb2F0MzJBcnJheShbYSxiLGMsZCx0eCx0eSwwLDAsMV0pO3RoaXMuZGVjb21wb3NlZE1hdHJpeD17dHJhbnNsYXRlWDowLHRyYW5zbGF0ZVk6MCxzY2FsZVg6MSxzY2FsZVk6MSxyb3RhdGlvbjowfTt9LGxvYWRJZGVudGl0eTpmdW5jdGlvbiBsb2FkSWRlbnRpdHkoKXt2YXIgbWF0cml4PXRoaXMubWF0cml4O21hdHJpeFswXT0xO21hdHJpeFsxXT0wO21hdHJpeFsyXT0wO21hdHJpeFszXT0xO21hdHJpeFs0XT0wO21hdHJpeFs1XT0wO3JldHVybiB0aGlzO30sdHJhbnNsYXRlOmZ1bmN0aW9uIHRyYW5zbGF0ZSh4LHkpe3ZhciBtYXRyaXg9dGhpcy5tYXRyaXg7bWF0cml4WzRdPW1hdHJpeFswXSp4K21hdHJpeFsyXSp5K21hdHJpeFs0XTttYXRyaXhbNV09bWF0cml4WzFdKngrbWF0cml4WzNdKnkrbWF0cml4WzVdO3JldHVybiB0aGlzO30sc2NhbGU6ZnVuY3Rpb24gc2NhbGUoeCx5KXt2YXIgbWF0cml4PXRoaXMubWF0cml4O21hdHJpeFswXSo9eDttYXRyaXhbMV0qPXg7bWF0cml4WzJdKj15O21hdHJpeFszXSo9eTtyZXR1cm4gdGhpczt9LHJvdGF0ZTpmdW5jdGlvbiByb3RhdGUocmFkaWFuKXt2YXIgcmFkaWFuU2luPU1hdGguc2luKHJhZGlhbik7dmFyIHJhZGlhbkNvcz1NYXRoLmNvcyhyYWRpYW4pO3JldHVybiB0aGlzLnRyYW5zZm9ybShyYWRpYW5Db3MsLXJhZGlhblNpbixyYWRpYW5TaW4scmFkaWFuQ29zLDAsMCk7fSxtdWx0aXBseTpmdW5jdGlvbiBtdWx0aXBseShvdGhlck1hdHJpeCl7dmFyIG1hdHJpeD10aGlzLm1hdHJpeDt2YXIgYTA9bWF0cml4WzBdO3ZhciBiMD1tYXRyaXhbMV07dmFyIGMwPW1hdHJpeFsyXTt2YXIgZDA9bWF0cml4WzNdO3ZhciB0eDA9bWF0cml4WzRdO3ZhciB0eTA9bWF0cml4WzVdO3ZhciBhMT1vdGhlck1hdHJpeFswXTt2YXIgYjE9b3RoZXJNYXRyaXhbMV07dmFyIGMxPW90aGVyTWF0cml4WzJdO3ZhciBkMT1vdGhlck1hdHJpeFszXTt2YXIgdHgxPW90aGVyTWF0cml4WzRdO3ZhciB0eTE9b3RoZXJNYXRyaXhbNV07bWF0cml4WzBdPWExKmEwK2IxKmMwO21hdHJpeFsxXT1hMSpiMCtiMSpkMDttYXRyaXhbMl09YzEqYTArZDEqYzA7bWF0cml4WzNdPWMxKmIwK2QxKmQwO21hdHJpeFs0XT10eDEqYTArdHkxKmMwK3R4MDttYXRyaXhbNV09dHgxKmIwK3R5MSpkMCt0eTA7cmV0dXJuIHRoaXM7fSx0cmFuc2Zvcm06ZnVuY3Rpb24gdHJhbnNmb3JtKGEsYixjLGQsdHgsdHkpe3ZhciBtYXRyaXg9dGhpcy5tYXRyaXg7dmFyIGEwPW1hdHJpeFswXTt2YXIgYjA9bWF0cml4WzFdO3ZhciBjMD1tYXRyaXhbMl07dmFyIGQwPW1hdHJpeFszXTt2YXIgdHgwPW1hdHJpeFs0XTt2YXIgdHkwPW1hdHJpeFs1XTttYXRyaXhbMF09YSphMCtiKmMwO21hdHJpeFsxXT1hKmIwK2IqZDA7bWF0cml4WzJdPWMqYTArZCpjMDttYXRyaXhbM109YypiMCtkKmQwO21hdHJpeFs0XT10eCphMCt0eSpjMCt0eDA7bWF0cml4WzVdPXR4KmIwK3R5KmQwK3R5MDtyZXR1cm4gdGhpczt9LHRyYW5zZm9ybVBvaW50OmZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50KHgseSxwb2ludCl7aWYocG9pbnQ9PT11bmRlZmluZWQpe3BvaW50PXt4OjAseTowfTt9dmFyIG1hdHJpeD10aGlzLm1hdHJpeDt2YXIgYT1tYXRyaXhbMF07dmFyIGI9bWF0cml4WzFdO3ZhciBjPW1hdHJpeFsyXTt2YXIgZD1tYXRyaXhbM107dmFyIHR4PW1hdHJpeFs0XTt2YXIgdHk9bWF0cml4WzVdO3BvaW50Lng9eCphK3kqYyt0eDtwb2ludC55PXgqYit5KmQrdHk7cmV0dXJuIHBvaW50O30saW52ZXJ0OmZ1bmN0aW9uIGludmVydCgpe3ZhciBtYXRyaXg9dGhpcy5tYXRyaXg7dmFyIGE9bWF0cml4WzBdO3ZhciBiPW1hdHJpeFsxXTt2YXIgYz1tYXRyaXhbMl07dmFyIGQ9bWF0cml4WzNdO3ZhciB0eD1tYXRyaXhbNF07dmFyIHR5PW1hdHJpeFs1XTt2YXIgbj1hKmQtYipjO21hdHJpeFswXT1kL247bWF0cml4WzFdPS1iL247bWF0cml4WzJdPS1jL247bWF0cml4WzNdPWEvbjttYXRyaXhbNF09KGMqdHktZCp0eCkvbjttYXRyaXhbNV09LShhKnR5LWIqdHgpL247cmV0dXJuIHRoaXM7fSxzZXRUcmFuc2Zvcm06ZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGEsYixjLGQsdHgsdHkpe3ZhciBtYXRyaXg9dGhpcy5tYXRyaXg7bWF0cml4WzBdPWE7bWF0cml4WzFdPWI7bWF0cml4WzJdPWM7bWF0cml4WzNdPWQ7bWF0cml4WzRdPXR4O21hdHJpeFs1XT10eTtyZXR1cm4gdGhpczt9LGRlY29tcG9zZU1hdHJpeDpmdW5jdGlvbiBkZWNvbXBvc2VNYXRyaXgoKXt2YXIgZGVjb21wb3NlZE1hdHJpeD10aGlzLmRlY29tcG9zZWRNYXRyaXg7dmFyIG1hdHJpeD10aGlzLm1hdHJpeDt2YXIgYT1tYXRyaXhbMF07dmFyIGI9bWF0cml4WzFdO3ZhciBjPW1hdHJpeFsyXTt2YXIgZD1tYXRyaXhbM107dmFyIGEyPWEqYTt2YXIgYjI9YipiO3ZhciBjMj1jKmM7dmFyIGQyPWQqZDt2YXIgc3g9TWF0aC5zcXJ0KGEyK2MyKTt2YXIgc3k9TWF0aC5zcXJ0KGIyK2QyKTtkZWNvbXBvc2VkTWF0cml4LnRyYW5zbGF0ZVg9bWF0cml4WzRdO2RlY29tcG9zZWRNYXRyaXgudHJhbnNsYXRlWT1tYXRyaXhbNV07ZGVjb21wb3NlZE1hdHJpeC5zY2FsZVg9c3g7ZGVjb21wb3NlZE1hdHJpeC5zY2FsZVk9c3k7ZGVjb21wb3NlZE1hdHJpeC5yb3RhdGlvbj1NYXRoLmFjb3MoYS9zeCkqKE1hdGguYXRhbigtYy9hKTwwPy0xOjEpO3JldHVybiBkZWNvbXBvc2VkTWF0cml4O30sLyogaWRlbnRpdHkgKyB0cmFuc2xhdGUgKyByb3RhdGUgKyBzY2FsZSAqL2FwcGx5SVRSUzpmdW5jdGlvbiBhcHBseUlUUlMoeCx5LHJvdGF0aW9uLHNjYWxlWCxzY2FsZVkpe3ZhciBtYXRyaXg9dGhpcy5tYXRyaXg7dmFyIHNyPU1hdGguc2luKHJvdGF0aW9uKTt2YXIgY3I9TWF0aC5jb3Mocm90YXRpb24pOy8vIFRyYW5zbGF0ZVxubWF0cml4WzRdPXg7bWF0cml4WzVdPXk7Ly8gUm90YXRlIGFuZCBTY2FsZVxubWF0cml4WzBdPWNyKnNjYWxlWDttYXRyaXhbMV09LXNyKnNjYWxlWDttYXRyaXhbMl09c3Iqc2NhbGVZO21hdHJpeFszXT1jcipzY2FsZVk7cmV0dXJuIHRoaXM7fX0pO21vZHVsZS5leHBvcnRzPVRyYW5zZm9ybU1hdHJpeDsvKioqL30sLyogMTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApOy8vICBFbmNhcHN1bGF0ZXMgYSAyRCByZWN0YW5nbGUgZGVmaW5lZCBieSBpdHMgY29ybmVyIHBvaW50IGluIHRoZSB0b3AtbGVmdFxuLy8gIGFuZCBpdHMgZXh0ZW5kcyBpbiB4ICh3aWR0aCkgYW5kIHkgKGhlaWdodClcbnZhciBSZWN0YW5nbGU9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFJlY3RhbmdsZSh4LHksd2lkdGgsaGVpZ2h0KXtpZih4PT09dW5kZWZpbmVkKXt4PTA7fWlmKHk9PT11bmRlZmluZWQpe3k9MDt9aWYod2lkdGg9PT11bmRlZmluZWQpe3dpZHRoPTA7fWlmKGhlaWdodD09PXVuZGVmaW5lZCl7aGVpZ2h0PTA7fXRoaXMueD14O3RoaXMueT15O3RoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O30sc2V0VG86ZnVuY3Rpb24gc2V0VG8oeCx5LHdpZHRoLGhlaWdodCl7dGhpcy54PXg7dGhpcy55PXk7dGhpcy53aWR0aD13aWR0aDt0aGlzLmhlaWdodD1oZWlnaHQ7cmV0dXJuIHRoaXM7fSxzZXRFbXB0eTpmdW5jdGlvbiBzZXRFbXB0eSgpe3JldHVybiB0aGlzLnNldFRvKDAsMCwwLDApO30sc2V0UG9zaXRpb246ZnVuY3Rpb24gc2V0UG9zaXRpb24oeCx5KXtpZih5PT09dW5kZWZpbmVkKXt5PXg7fXRoaXMueD14O3RoaXMueT15O3JldHVybiB0aGlzO30sc2V0U2l6ZTpmdW5jdGlvbiBzZXRTaXplKHdpZHRoLGhlaWdodCl7aWYoaGVpZ2h0PT09dW5kZWZpbmVkKXtoZWlnaHQ9d2lkdGg7fXRoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3JldHVybiB0aGlzO30saXNFbXB0eTpmdW5jdGlvbiBpc0VtcHR5KCl7cmV0dXJuIHRoaXMud2lkdGg8PTB8fHRoaXMuaGVpZ2h0PD0wO30sLy8gIFRPUFxuZ2V0TGluZUE6ZnVuY3Rpb24gZ2V0TGluZUEoKXtyZXR1cm57eDE6dGhpcy54LHkxOnRoaXMueSx4Mjp0aGlzLnJpZ2h0LHkyOnRoaXMueX07fSwvLyAgUklHSFRcbmdldExpbmVCOmZ1bmN0aW9uIGdldExpbmVCKCl7cmV0dXJue3gxOnRoaXMucmlnaHQseTE6dGhpcy55LHgyOnRoaXMucmlnaHQseTI6dGhpcy5ib3R0b219O30sLy8gIEJPVFRPTVxuZ2V0TGluZUM6ZnVuY3Rpb24gZ2V0TGluZUMoKXtyZXR1cm57eDE6dGhpcy5yaWdodCx5MTp0aGlzLmJvdHRvbSx4Mjp0aGlzLngseTI6dGhpcy5ib3R0b219O30sLy8gIExFRlRcbmdldExpbmVEOmZ1bmN0aW9uIGdldExpbmVEKCl7cmV0dXJue3gxOnRoaXMueCx5MTp0aGlzLmJvdHRvbSx4Mjp0aGlzLngseTI6dGhpcy55fTt9LGxlZnQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodmFsdWU+PXRoaXMucmlnaHQpe3RoaXMud2lkdGg9MDt9ZWxzZXt0aGlzLndpZHRoPXRoaXMucmlnaHQtdmFsdWU7fXRoaXMueD12YWx1ZTt9fSxyaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLngrdGhpcy53aWR0aDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlPD10aGlzLngpe3RoaXMud2lkdGg9MDt9ZWxzZXt0aGlzLndpZHRoPXZhbHVlLXRoaXMueDt9fX0sdG9wOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMueTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlPj10aGlzLmJvdHRvbSl7dGhpcy5oZWlnaHQ9MDt0aGlzLnk9dmFsdWU7fWVsc2V7dGhpcy5oZWlnaHQ9dGhpcy5ib3R0b20tdmFsdWU7fX19LGJvdHRvbTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnkrdGhpcy5oZWlnaHQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZTw9dGhpcy55KXt0aGlzLmhlaWdodD0wO31lbHNle3RoaXMuaGVpZ2h0PXZhbHVlLXRoaXMueTt9fX0sY2VudGVyWDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLngrdGhpcy53aWR0aC8yO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy54PXZhbHVlLXRoaXMud2lkdGgvMjt9fSxjZW50ZXJZOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMueSt0aGlzLmhlaWdodC8yO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy55PXZhbHVlLXRoaXMuaGVpZ2h0LzI7fX19KTttb2R1bGUuZXhwb3J0cz1SZWN0YW5nbGU7LyoqKi99LC8qIDE1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBsZWZ0IGNvb3JkaW5hdGUgb2YgdGhlIEdhbWUgT2JqZWN0LlxuKiBUaGlzIGlzIHRoZSBzYW1lIGFzIGB4IC0gb2Zmc2V0WGAuXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZWZ0XG4qL3ZhciBHZXRCb3R0b209ZnVuY3Rpb24gR2V0Qm90dG9tKGdhbWVPYmplY3Qpe3JldHVybiBnYW1lT2JqZWN0LnkrZ2FtZU9iamVjdC5oZWlnaHQtZ2FtZU9iamVjdC5oZWlnaHQqZ2FtZU9iamVjdC5vcmlnaW5ZO307bW9kdWxlLmV4cG9ydHM9R2V0Qm90dG9tOy8qKiovfSwvKiAxNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUaGUgbGVmdCBjb29yZGluYXRlIG9mIHRoZSBHYW1lIE9iamVjdC5cbiogVGhpcyBpcyB0aGUgc2FtZSBhcyBgeCAtIG9mZnNldFhgLlxuKlxuKiBAcHJvcGVydHkge251bWJlcn0gbGVmdFxuKi92YXIgU2V0Qm90dG9tPWZ1bmN0aW9uIFNldEJvdHRvbShnYW1lT2JqZWN0LHZhbHVlKXtnYW1lT2JqZWN0Lnk9dmFsdWUtZ2FtZU9iamVjdC5oZWlnaHQrZ2FtZU9iamVjdC5oZWlnaHQqZ2FtZU9iamVjdC5vcmlnaW5ZO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9U2V0Qm90dG9tOy8qKiovfSwvKiAxNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUaGUgbGVmdCBjb29yZGluYXRlIG9mIHRoZSBHYW1lIE9iamVjdC5cbiogVGhpcyBpcyB0aGUgc2FtZSBhcyBgeCAtIG9mZnNldFhgLlxuKlxuKiBAcHJvcGVydHkge251bWJlcn0gbGVmdFxuKi92YXIgR2V0TGVmdD1mdW5jdGlvbiBHZXRMZWZ0KGdhbWVPYmplY3Qpe3JldHVybiBnYW1lT2JqZWN0LngtZ2FtZU9iamVjdC53aWR0aCpnYW1lT2JqZWN0Lm9yaWdpblg7fTttb2R1bGUuZXhwb3J0cz1HZXRMZWZ0Oy8qKiovfSwvKiAxOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUaGUgbGVmdCBjb29yZGluYXRlIG9mIHRoZSBHYW1lIE9iamVjdC5cbiogVGhpcyBpcyB0aGUgc2FtZSBhcyBgeCAtIG9mZnNldFhgLlxuKlxuKiBAcHJvcGVydHkge251bWJlcn0gbGVmdFxuKi92YXIgU2V0TGVmdD1mdW5jdGlvbiBTZXRMZWZ0KGdhbWVPYmplY3QsdmFsdWUpe2dhbWVPYmplY3QueD12YWx1ZStnYW1lT2JqZWN0LndpZHRoKmdhbWVPYmplY3Qub3JpZ2luWDtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPVNldExlZnQ7LyoqKi99LC8qIDE5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBsZWZ0IGNvb3JkaW5hdGUgb2YgdGhlIEdhbWUgT2JqZWN0LlxuKiBUaGlzIGlzIHRoZSBzYW1lIGFzIGB4IC0gb2Zmc2V0WGAuXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZWZ0XG4qL3ZhciBHZXRSaWdodD1mdW5jdGlvbiBHZXRSaWdodChnYW1lT2JqZWN0KXtyZXR1cm4gZ2FtZU9iamVjdC54K2dhbWVPYmplY3Qud2lkdGgtZ2FtZU9iamVjdC53aWR0aCpnYW1lT2JqZWN0Lm9yaWdpblg7fTttb2R1bGUuZXhwb3J0cz1HZXRSaWdodDsvKioqL30sLyogMjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogVGhlIGxlZnQgY29vcmRpbmF0ZSBvZiB0aGUgR2FtZSBPYmplY3QuXG4qIFRoaXMgaXMgdGhlIHNhbWUgYXMgYHggLSBvZmZzZXRYYC5cbipcbiogQHByb3BlcnR5IHtudW1iZXJ9IGxlZnRcbiovdmFyIFNldFJpZ2h0PWZ1bmN0aW9uIFNldFJpZ2h0KGdhbWVPYmplY3QsdmFsdWUpe2dhbWVPYmplY3QueD12YWx1ZS1nYW1lT2JqZWN0LndpZHRoK2dhbWVPYmplY3Qud2lkdGgqZ2FtZU9iamVjdC5vcmlnaW5YO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9U2V0UmlnaHQ7LyoqKi99LC8qIDIxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIEdhbWUgT2JqZWN0LlxuKiBUaGlzIGlzIHRoZSBzYW1lIGFzIGB5IC0gb2Zmc2V0WWAuXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3BcbiovdmFyIEdldFRvcD1mdW5jdGlvbiBHZXRUb3AoZ2FtZU9iamVjdCl7cmV0dXJuIGdhbWVPYmplY3QueS1nYW1lT2JqZWN0LmhlaWdodCpnYW1lT2JqZWN0Lm9yaWdpblk7fTttb2R1bGUuZXhwb3J0cz1HZXRUb3A7LyoqKi99LC8qIDIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIEdhbWUgT2JqZWN0LlxuKiBUaGlzIGlzIHRoZSBzYW1lIGFzIGB5IC0gb2Zmc2V0WWAuXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSB0b3BcbiovdmFyIFNldFRvcD1mdW5jdGlvbiBTZXRUb3AoZ2FtZU9iamVjdCx2YWx1ZSl7Z2FtZU9iamVjdC55PXZhbHVlK2dhbWVPYmplY3QuaGVpZ2h0KmdhbWVPYmplY3Qub3JpZ2luWTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPVNldFRvcDsvKioqL30sLyogMjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHZXRGYXN0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMik7dmFyIEdldFVSTD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1NSk7dmFyIE1lcmdlWEhSU2V0dGluZ3M9X193ZWJwYWNrX3JlcXVpcmVfXygxODEpO3ZhciBYSFJMb2FkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2NTYpO3ZhciBYSFJTZXR0aW5ncz1fX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTsvLyAgUGhhc2VyLkxvYWRlci5GaWxlXG52YXIgRmlsZT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6Ly8gb2xkIHNpZ25hdHVyZTogdHlwZSwga2V5LCB1cmwsIHJlc3BvbnNlVHlwZSwgeGhyU2V0dGluZ3MsIGNvbmZpZ1xuZnVuY3Rpb24gRmlsZShmaWxlQ29uZmlnKXsvLyAgZmlsZSB0eXBlIChpbWFnZSwganNvbiwgZXRjKSBmb3Igc29ydGluZyB3aXRoaW4gdGhlIExvYWRlclxudGhpcy50eXBlPUdldEZhc3RWYWx1ZShmaWxlQ29uZmlnLCd0eXBlJyxmYWxzZSk7Ly8gIHVuaXF1ZSBjYWNoZSBrZXkgKHVuaXF1ZSB3aXRoaW4gaXRzIGZpbGUgdHlwZSlcbnRoaXMua2V5PUdldEZhc3RWYWx1ZShmaWxlQ29uZmlnLCdrZXknLGZhbHNlKTtpZighdGhpcy50eXBlfHwhdGhpcy5rZXkpe3Rocm93IG5ldyBFcnJvcignRXJyb3IgY2FsbGluZyBcXCdMb2FkZXIuJyt0aGlzLnR5cGUrJ1xcJyBpbnZhbGlkIGtleSBwcm92aWRlZC4nKTt9Ly8gIFRoZSBVUkwgb2YgdGhlIGZpbGUsIG5vdCBpbmNsdWRpbmcgYmFzZVVSTFxudGhpcy51cmw9R2V0RmFzdFZhbHVlKGZpbGVDb25maWcsJ3VybCcpO2lmKHRoaXMudXJsPT09dW5kZWZpbmVkKXt0aGlzLnVybD1HZXRGYXN0VmFsdWUoZmlsZUNvbmZpZywncGF0aCcsJycpK3RoaXMua2V5KycuJytHZXRGYXN0VmFsdWUoZmlsZUNvbmZpZywnZXh0ZW5zaW9uJywnJyk7fWVsc2V7dGhpcy51cmw9R2V0RmFzdFZhbHVlKGZpbGVDb25maWcsJ3BhdGgnLCcnKS5jb25jYXQodGhpcy51cmwpO30vLyAgU2V0IHdoZW4gdGhlIExvYWRlciBjYWxscyAnbG9hZCcgb24gdGhpcyBmaWxlXG50aGlzLnNyYz0nJzt0aGlzLnhoclNldHRpbmdzPVhIUlNldHRpbmdzKEdldEZhc3RWYWx1ZShmaWxlQ29uZmlnLCdyZXNwb25zZVR5cGUnLHVuZGVmaW5lZCkpO2lmKEdldEZhc3RWYWx1ZShmaWxlQ29uZmlnLCd4aHJTZXR0aW5ncycsZmFsc2UpKXt0aGlzLnhoclNldHRpbmdzPU1lcmdlWEhSU2V0dGluZ3ModGhpcy54aHJTZXR0aW5ncyxHZXRGYXN0VmFsdWUoZmlsZUNvbmZpZywneGhyU2V0dGluZ3MnLHt9KSk7fXRoaXMueGhyTG9hZGVyPW51bGw7dGhpcy5zdGF0ZT1DT05TVC5GSUxFX1BFTkRJTkc7Ly8gIFNldCBieSBvblByb2dyZXNzIChvbmx5IGlmIGxvYWRpbmcgdmlhIFhIUilcbnRoaXMuYnl0ZXNUb3RhbD0wO3RoaXMuYnl0ZXNMb2FkZWQ9LTE7dGhpcy5wZXJjZW50Q29tcGxldGU9LTE7Ly8gIEZvciBDT1JzIGJhc2VkIGxvYWRpbmcuXG4vLyAgSWYgdGhpcyBpcyB1bmRlZmluZWQgdGhlbiB0aGUgRmlsZSB3aWxsIGNoZWNrIEJhc2VMb2FkZXIuY3Jvc3NPcmlnaW4gYW5kIHVzZSB0aGF0IChpZiBzZXQpXG50aGlzLmNyb3NzT3JpZ2luPXVuZGVmaW5lZDsvLyAgVGhlIGFjdHVhbCBwcm9jZXNzZWQgZmlsZSBkYXRhXG50aGlzLmRhdGE9dW5kZWZpbmVkOy8vICBBIGNvbmZpZyBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBieSBmaWxlIHR5cGVzIHRvIHN0b3JlIHRyYW5zaXRpb25hbCBkYXRhXG50aGlzLmNvbmZpZz1HZXRGYXN0VmFsdWUoZmlsZUNvbmZpZywnY29uZmlnJyx7fSk7Ly8gIE11bHRpcGFydCBmaWxlPyAoaS5lLiBhbiBhdGxhcyBhbmQgaXRzIGpzb24gdG9nZXRoZXIpXG50aGlzLmxpbmtGaWxlPXVuZGVmaW5lZDt0aGlzLmxpbmtUeXBlPScnO3RoaXMuY2FsbGJhY2s9bnVsbDt9LHJlc2V0WEhSOmZ1bmN0aW9uIHJlc2V0WEhSKCl7dGhpcy54aHJMb2FkZXIub25sb2FkPXVuZGVmaW5lZDt0aGlzLnhockxvYWRlci5vbmVycm9yPXVuZGVmaW5lZDt0aGlzLnhockxvYWRlci5vbnByb2dyZXNzPXVuZGVmaW5lZDt9LC8vICBDYWxsZWQgd2hlbiB0aGUgSW1hZ2UgbG9hZHNcbi8vICBQcm9ncmVzc0V2ZW50XG5vbkxvYWQ6ZnVuY3Rpb24gb25Mb2FkKGV2ZW50KXt0aGlzLnJlc2V0WEhSKCk7dGhpcy5jYWxsYmFjayh0aGlzLHRydWUpO30sb25FcnJvcjpmdW5jdGlvbiBvbkVycm9yKGV2ZW50KXt0aGlzLnJlc2V0WEhSKCk7dGhpcy5jYWxsYmFjayh0aGlzLGZhbHNlKTt9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24gb25Qcm9ncmVzcyhldmVudCl7aWYoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSl7dGhpcy5ieXRlc0xvYWRlZD1ldmVudC5sb2FkZWQ7dGhpcy5ieXRlc1RvdGFsPWV2ZW50LnRvdGFsO3RoaXMucGVyY2VudENvbXBsZXRlPU1hdGgubWluKHRoaXMuYnl0ZXNMb2FkZWQvdGhpcy5ieXRlc1RvdGFsLDEpO30vLyBjb25zb2xlLmxvZyh0aGlzLnBlcmNlbnRDb21wbGV0ZSArICclICgnICsgdGhpcy5ieXRlc0xvYWRlZCArICcgYnl0ZXMpJyk7XG59LG9uUHJvY2VzczpmdW5jdGlvbiBvblByb2Nlc3MoY2FsbGJhY2spe3RoaXMuc3RhdGU9Q09OU1QuRklMRV9QUk9DRVNTSU5HO3RoaXMub25Db21wbGV0ZSgpO2NhbGxiYWNrKHRoaXMpO30sb25Db21wbGV0ZTpmdW5jdGlvbiBvbkNvbXBsZXRlKCl7aWYodGhpcy5saW5rRmlsZSl7aWYodGhpcy5saW5rRmlsZS5zdGF0ZT09PUNPTlNULkZJTEVfV0FJVElOR19MSU5LRklMRSl7Ly8gIFRoZSBsaW5rZmlsZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZywgYW5kIGlzIHdhaXRpbmcgZm9yIHRoaXMgZmlsZSwgc28gbGV0J3MgZG8gdGhlbSBib3RoXG50aGlzLnN0YXRlPUNPTlNULkZJTEVfQ09NUExFVEU7dGhpcy5saW5rRmlsZS5zdGF0ZT1DT05TVC5GSUxFX0NPTVBMRVRFO31lbHNley8vICBUaGUgbGlua2ZpbGUgc3RpbGwgaGFzbid0IGZpbmlzaGVkIGxvYWRpbmcgYW5kL29yIHByb2Nlc3NpbmcgeWV0XG50aGlzLnN0YXRlPUNPTlNULkZJTEVfV0FJVElOR19MSU5LRklMRTt9fWVsc2V7dGhpcy5zdGF0ZT1DT05TVC5GSUxFX0NPTVBMRVRFO319LC8vICBDYWxsZWQgYnkgdGhlIExvYWRlciwgc3RhcnRzIHRoZSBhY3R1YWwgZmlsZSBkb3dubG9hZGluZ1xubG9hZDpmdW5jdGlvbiBsb2FkKGNhbGxiYWNrLGJhc2VVUkwsZ2xvYmFsWEhSKXtpZihiYXNlVVJMPT09dW5kZWZpbmVkKXtiYXNlVVJMPScnO310aGlzLmNhbGxiYWNrPWNhbGxiYWNrO3RoaXMuc3JjPUdldFVSTCh0aGlzLGJhc2VVUkwpO2lmKHRoaXMuc3JjLmluZGV4T2YoJ2RhdGE6Jyk9PT0wKXtjb25zb2xlLmxvZygnTG9jYWwgZGF0YSBVUkknKTt9ZWxzZXt0aGlzLnhockxvYWRlcj1YSFJMb2FkZXIodGhpcyxnbG9iYWxYSFIpO319fSk7bW9kdWxlLmV4cG9ydHM9RmlsZTsvKioqL30sLyogMjQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVFdFRU5fQ09OU1Q9ey8vICBUd2VlbkRhdGE6XG5DUkVBVEVEOjAsSU5JVDoxLERFTEFZOjIsUEVORElOR19SRU5ERVI6MyxQTEFZSU5HX0ZPUldBUkQ6NCxQTEFZSU5HX0JBQ0tXQVJEOjUsSE9MRF9ERUxBWTo2LFJFUEVBVF9ERUxBWTo3LENPTVBMRVRFOjgsLy8gIFR3ZWVuIHNwZWNpZmljIChzdGFydHMgZnJvbSAyMCB0byBjbGVhbmx5IGFsbG93IGV4dHJhIFR3ZWVuRGF0YSBjb25zdHMgaW4gdGhlIGZ1dHVyZSlcblBFTkRJTkdfQUREOjIwLFBBVVNFRDoyMSxMT09QX0RFTEFZOjIyLEFDVElWRToyMyxDT01QTEVURV9ERUxBWToyNCxQRU5ESU5HX1JFTU9WRToyNSxSRU1PVkVEOjI2fTttb2R1bGUuZXhwb3J0cz1UV0VFTl9DT05TVDsvKioqL30sLyogMjUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudEJpbmRpbmc9X193ZWJwYWNrX3JlcXVpcmVfXygzNzgpO3ZhciBFdmVudERpc3BhdGNoZXI9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEV2ZW50RGlzcGF0Y2hlcigpe3RoaXMuYmluZGluZ3M9e307dGhpcy5maWx0ZXJzPVtdO3RoaXMuaGFzRmlsdGVycz1mYWxzZTt9LGdldEJpbmRpbmc6ZnVuY3Rpb24gZ2V0QmluZGluZyh0eXBlKXtpZih0aGlzLmJpbmRpbmdzLmhhc093blByb3BlcnR5KHR5cGUpKXtyZXR1cm4gdGhpcy5iaW5kaW5nc1t0eXBlXTt9fSxjcmVhdGVCaW5kaW5nOmZ1bmN0aW9uIGNyZWF0ZUJpbmRpbmcodHlwZSl7aWYoIXRoaXMuZ2V0QmluZGluZyh0eXBlKSl7dGhpcy5iaW5kaW5nc1t0eXBlXT1uZXcgRXZlbnRCaW5kaW5nKHRoaXMsdHlwZSk7fXJldHVybiB0aGlzLmJpbmRpbmdzW3R5cGVdO30sb246ZnVuY3Rpb24gb24odHlwZSxsaXN0ZW5lcixwcmlvcml0eSl7aWYocHJpb3JpdHk9PT11bmRlZmluZWQpe3ByaW9yaXR5PTA7fXZhciBiaW5kaW5nPXRoaXMuY3JlYXRlQmluZGluZyh0eXBlKTtpZihiaW5kaW5nKXtiaW5kaW5nLmFkZChsaXN0ZW5lcixwcmlvcml0eSxmYWxzZSk7fXJldHVybiB0aGlzO30sb25jZTpmdW5jdGlvbiBvbmNlKHR5cGUsbGlzdGVuZXIscHJpb3JpdHkpe2lmKHByaW9yaXR5PT09dW5kZWZpbmVkKXtwcmlvcml0eT0wO312YXIgYmluZGluZz10aGlzLmNyZWF0ZUJpbmRpbmcodHlwZSk7aWYoYmluZGluZyl7YmluZGluZy5hZGQobGlzdGVuZXIscHJpb3JpdHksdHJ1ZSk7fXJldHVybiB0aGlzO30sLy8gIEFkZCBhIGNhbGxiYWNrIHRoYXQgaXMgbm90aWZpZWQgZXZlcnkgdGltZSB0aGlzIEV2ZW50RGlzcGF0Y2hlciBkaXNwYXRjaGVzIGFuIGV2ZW50XG4vLyAgbm8gbWF0dGVyIHdoYXQgdGhlIGV2ZW50IHR5cGUgaXMuIEZpbHRlcnMgYXJlIGludm9rZWQgZmlyc3QsIGJlZm9yZSBhbnkgYmluZGluZ3MsXG4vLyAgYW5kIGNhbiBzdG9wIGV2ZW50cyBpZiB0aGV5IHdpc2ggKGluIHdoaWNoIGNhc2UgdGhleSdsbCBuZXZlciByZWFjaCB0aGUgYmluZGluZ3MpXG5maWx0ZXI6ZnVuY3Rpb24gZmlsdGVyKGNhbGxiYWNrKXt2YXIgaT10aGlzLmZpbHRlcnMuaW5kZXhPZihjYWxsYmFjayk7aWYoaT09PS0xKXsvLyAgQWRkIHRoZSBmaWx0ZXJcbnRoaXMuZmlsdGVycy5wdXNoKGNhbGxiYWNrKTt9ZWxzZXsvLyAgUmVtb3ZlIHRoZSBmaWx0ZXJcbnRoaXMuZmlsdGVycy5zcGxpY2UoaSwxKTt9dGhpcy5oYXNGaWx0ZXJzPXRoaXMuZmlsdGVycy5sZW5ndGg+MDtyZXR1cm4gdGhpczt9LGhhczpmdW5jdGlvbiBoYXModHlwZSxsaXN0ZW5lcil7dmFyIGJpbmRpbmc9dGhpcy5nZXRCaW5kaW5nKHR5cGUpO2lmKGJpbmRpbmcpe3JldHVybiBiaW5kaW5nLmhhcyhsaXN0ZW5lcik7fWVsc2V7cmV0dXJuIGZhbHNlO319LHRvdGFsOmZ1bmN0aW9uIHRvdGFsKHR5cGUpe3ZhciBiaW5kaW5nPXRoaXMuZ2V0QmluZGluZyh0eXBlKTtpZihiaW5kaW5nKXtyZXR1cm4gYmluZGluZy50b3RhbCgpO319LC8vICBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyLlxuLy8gIElmIHRoZXJlIGlzIG5vIG1hdGNoaW5nIGxpc3RlbmVyIHJlZ2lzdGVyZWQgd2l0aCB0aGUgRXZlbnREaXNwYXRjaGVyLCBhIGNhbGwgdG8gdGhpcyBtZXRob2QgaGFzIG5vIGVmZmVjdC5cbm9mZjpmdW5jdGlvbiBvZmYodHlwZSxsaXN0ZW5lcil7dmFyIGJpbmRpbmc9dGhpcy5nZXRCaW5kaW5nKHR5cGUpO2lmKGJpbmRpbmcpe2JpbmRpbmcucmVtb3ZlKGxpc3RlbmVyKTt9cmV0dXJuIHRoaXM7fSxfZGlzcGF0Y2hIYW5kbGVyOmZ1bmN0aW9uIF9kaXNwYXRjaEhhbmRsZXIoZXZlbnQpe2V2ZW50LnJlc2V0KHRoaXMpOy8vICBQYXNzIHRoZSBldmVudCB0aHJvdWdoIHRoZSBmaWx0ZXJzIGZpcnN0XG5pZih0aGlzLmhhc0ZpbHRlcnMpe2Zvcih2YXIgaT0wO2k8dGhpcy5maWx0ZXJzLmxlbmd0aDtpKyspe3RoaXMuZmlsdGVyc1tpXS5jYWxsKHRoaXMsZXZlbnQpOy8vICBEaWQgdGhlIGZpbHRlciBraWxsIHRoZSBldmVudD8gSWYgc28sIHdlIGNhbiBhYm9ydCBub3dcbmlmKCFldmVudC5fcHJvcGFnYXRlKXtyZXR1cm47fX19dmFyIGJpbmRpbmc9dGhpcy5nZXRCaW5kaW5nKGV2ZW50LnR5cGUpO2lmKGJpbmRpbmcpe2JpbmRpbmcuZGlzcGF0Y2goZXZlbnQpO319LGRpc3BhdGNoOmZ1bmN0aW9uIGRpc3BhdGNoKGV2ZW50KXtpZihBcnJheS5pc0FycmF5KGV2ZW50KSl7Zm9yKHZhciBpPTA7aTxldmVudC5sZW5ndGg7aSsrKXt0aGlzLl9kaXNwYXRjaEhhbmRsZXIoZXZlbnRbaV0pO319ZWxzZXt0aGlzLl9kaXNwYXRjaEhhbmRsZXIoZXZlbnQpO319LC8vICBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMsIGJ1dCByZXRhaW5zIHRoZSBldmVudCB0eXBlIGVudHJpZXNcbnJlbW92ZUFsbDpmdW5jdGlvbiByZW1vdmVBbGwodHlwZSl7dmFyIGJpbmRpbmc9dGhpcy5nZXRCaW5kaW5nKHR5cGUpO2lmKGJpbmRpbmcpe2JpbmRpbmcucmVtb3ZlQWxsKCk7fXJldHVybiB0aGlzO30scmVtb3ZlQWxsRmlsdGVyczpmdW5jdGlvbiByZW1vdmVBbGxGaWx0ZXJzKCl7dGhpcy5maWx0ZXJzLmxlbmd0aD0wO3RoaXMuaGFzRmlsdGVycz1mYWxzZTtyZXR1cm4gdGhpczt9LGRlbGV0ZTpmdW5jdGlvbiBfZGVsZXRlKHR5cGUpe3ZhciBiaW5kaW5nPXRoaXMuZ2V0QmluZGluZyh0eXBlKTtpZihiaW5kaW5nKXtiaW5kaW5nLmRlc3Ryb3koKTtkZWxldGUgdGhpcy5iaW5kaW5nc1t0eXBlXTt9cmV0dXJuIHRoaXM7fSxkZWxldGVBbGw6ZnVuY3Rpb24gZGVsZXRlQWxsKCl7Zm9yKHZhciBiaW5kaW5nIGluIHRoaXMuYmluZGluZ3Mpe2JpbmRpbmcuZGVzdHJveSgpO310aGlzLmJpbmRpbmdzPXt9O30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5kZWxldGVBbGwoKTt0aGlzLnJlbW92ZUFsbEZpbHRlcnMoKTt9fSk7bW9kdWxlLmV4cG9ydHM9RXZlbnREaXNwYXRjaGVyOy8qKiovfSwvKiAyNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXtERUZBVUxUOjAsTElORUFSOjAsTkVBUkVTVDoxfTsvKioqL30sLyogMjcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ29udGFpbnM9ZnVuY3Rpb24gQ29udGFpbnMocmVjdCx4LHkpe2lmKHJlY3Qud2lkdGg8PTB8fHJlY3QuaGVpZ2h0PD0wKXtyZXR1cm4gZmFsc2U7fXJldHVybiByZWN0Lng8PXgmJnJlY3QueCtyZWN0LndpZHRoPj14JiZyZWN0Lnk8PXkmJnJlY3QueStyZWN0LmhlaWdodD49eTt9O21vZHVsZS5leHBvcnRzPUNvbnRhaW5zOy8qKiovfSwvKiAyOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBOT09QPWZ1bmN0aW9uIE5PT1AoKXsvLyAgTk9PUCAoTm8gT3BlcmF0aW9uKSBDYWxsYmFja1xufTttb2R1bGUuZXhwb3J0cz1OT09QOy8qKiovfSwvKiAyOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdldENvbG9yPV9fd2VicGFja19yZXF1aXJlX18oNjkpO3ZhciBHZXRDb2xvcjMyPV9fd2VicGFja19yZXF1aXJlX18oMTQ5KTt2YXIgQ29sb3I9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIENvbG9yKHJlZCxncmVlbixibHVlLGFscGhhKXtpZihyZWQ9PT11bmRlZmluZWQpe3JlZD0wO31pZihncmVlbj09PXVuZGVmaW5lZCl7Z3JlZW49MDt9aWYoYmx1ZT09PXVuZGVmaW5lZCl7Ymx1ZT0wO31pZihhbHBoYT09PXVuZGVmaW5lZCl7YWxwaGE9MjU1O30vLyAgQWxsIHByaXZhdGVcbnRoaXMucj0wO3RoaXMuZz0wO3RoaXMuYj0wO3RoaXMuYT0yNTU7dGhpcy5nbD1bMC4wLDAuMCwwLjAsMS4wXTt0aGlzLl9jb2xvcj0wO3RoaXMuX2NvbG9yMzI9MDt0aGlzLl9yZ2JhPScnO3RoaXMuc2V0VG8ocmVkLGdyZWVuLGJsdWUsYWxwaGEpO30sdHJhbnNwYXJlbnQ6ZnVuY3Rpb24gdHJhbnNwYXJlbnQoKXt0aGlzLnJlZD0wO3RoaXMuZ3JlZW49MDt0aGlzLmJsdWU9MDt0aGlzLmFscGhhPTA7cmV0dXJuIHRoaXMudXBkYXRlKCk7fSwvLyAgVmFsdWVzIGFyZSBpbiB0aGUgcmFuZ2UgMCB0byAyNTVcbnNldFRvOmZ1bmN0aW9uIHNldFRvKHJlZCxncmVlbixibHVlLGFscGhhKXtpZihhbHBoYT09PXVuZGVmaW5lZCl7YWxwaGE9MjU1O310aGlzLnJlZD1yZWQ7dGhpcy5ncmVlbj1ncmVlbjt0aGlzLmJsdWU9Ymx1ZTt0aGlzLmFscGhhPWFscGhhO3JldHVybiB0aGlzLnVwZGF0ZSgpO30sLy8gIFZhbHVlcyBhcmUgaW4gdGhlIHJhbmdlIDAgdG8gMVxuc2V0R0xUbzpmdW5jdGlvbiBzZXRHTFRvKHJlZCxncmVlbixibHVlLGFscGhhKXtpZihhbHBoYT09PXVuZGVmaW5lZCl7YWxwaGE9MTt9dGhpcy5yZWRHTD1yZWQ7dGhpcy5ncmVlbkdMPWdyZWVuO3RoaXMuYmx1ZUdMPWJsdWU7dGhpcy5hbHBoYUdMPWFscGhhO3JldHVybiB0aGlzLnVwZGF0ZSgpO30sc2V0RnJvbVJHQjpmdW5jdGlvbiBzZXRGcm9tUkdCKGNvbG9yKXt0aGlzLnJlZD1jb2xvci5yO3RoaXMuZ3JlZW49Y29sb3IuZzt0aGlzLmJsdWU9Y29sb3IuYjtpZihjb2xvci5oYXNPd25Qcm9wZXJ0eSgnYScpKXt0aGlzLmFscGhhPWNvbG9yLmE7fXJldHVybiB0aGlzLnVwZGF0ZSgpO30sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZSgpe3RoaXMuX2NvbG9yPUdldENvbG9yKHRoaXMucix0aGlzLmcsdGhpcy5iKTt0aGlzLl9jb2xvcjMyPUdldENvbG9yMzIodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKTt0aGlzLl9yZ2JhPSdyZ2JhKCcrdGhpcy5yKycsJyt0aGlzLmcrJywnK3RoaXMuYisnLCcrdGhpcy5hLzI1NSsnKSc7cmV0dXJuIHRoaXM7fSwvLyAgU2FtZSBhcyBzZXRSR0IgYnV0IHBlcmZvcm1zIHNhZmV0eSBjaGVja3Mgb24gYWxsIHRoZSB2YWx1ZXMgZ2l2ZW5cbmNsb25lOmZ1bmN0aW9uIGNsb25lKCl7cmV0dXJuIG5ldyBDb2xvcih0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpO30sY29sb3I6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fY29sb3I7fX0sY29sb3IzMjp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9jb2xvcjMyO319LHJnYmE6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcmdiYTt9fSwvLyAgR2V0cyBhbmQgc2V0cyB0aGUgcmVkIHZhbHVlLCBub3JtYWxpemVkIHRvIHRoZSAwIHRvIDEgcmFuZ2VcbnJlZEdMOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuZ2xbMF07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLmdsWzBdPU1hdGgubWluKE1hdGguYWJzKHZhbHVlKSwxKTt0aGlzLnI9TWF0aC5mbG9vcih0aGlzLmdsWzBdKjI1NSk7dGhpcy51cGRhdGUoKTt9fSxncmVlbkdMOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuZ2xbMV07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLmdsWzFdPU1hdGgubWluKE1hdGguYWJzKHZhbHVlKSwxKTt0aGlzLmc9TWF0aC5mbG9vcih0aGlzLmdsWzFdKjI1NSk7dGhpcy51cGRhdGUoKTt9fSxibHVlR0w6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5nbFsyXTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuZ2xbMl09TWF0aC5taW4oTWF0aC5hYnModmFsdWUpLDEpO3RoaXMuYj1NYXRoLmZsb29yKHRoaXMuZ2xbMl0qMjU1KTt0aGlzLnVwZGF0ZSgpO319LGFscGhhR0w6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5nbFszXTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuZ2xbM109TWF0aC5taW4oTWF0aC5hYnModmFsdWUpLDEpO3RoaXMuYT1NYXRoLmZsb29yKHRoaXMuZ2xbM10qMjU1KTt0aGlzLnVwZGF0ZSgpO319LC8vICBHZXRzIGFuZCBzZXRzIHRoZSByZWQgdmFsdWUsIG5vcm1hbGl6ZWQgdG8gdGhlIDAgdG8gMjU1IHJhbmdlXG5yZWQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5yO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dmFsdWU9TWF0aC5mbG9vcihNYXRoLmFicyh2YWx1ZSkpO3RoaXMucj1NYXRoLm1pbih2YWx1ZSwyNTUpO3RoaXMuZ2xbMF09dmFsdWUvMjU1O3RoaXMudXBkYXRlKCk7fX0sZ3JlZW46e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5nO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dmFsdWU9TWF0aC5mbG9vcihNYXRoLmFicyh2YWx1ZSkpO3RoaXMuZz1NYXRoLm1pbih2YWx1ZSwyNTUpO3RoaXMuZ2xbMV09dmFsdWUvMjU1O3RoaXMudXBkYXRlKCk7fX0sYmx1ZTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt2YWx1ZT1NYXRoLmZsb29yKE1hdGguYWJzKHZhbHVlKSk7dGhpcy5iPU1hdGgubWluKHZhbHVlLDI1NSk7dGhpcy5nbFsyXT12YWx1ZS8yNTU7dGhpcy51cGRhdGUoKTt9fSxhbHBoYTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmE7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt2YWx1ZT1NYXRoLmZsb29yKE1hdGguYWJzKHZhbHVlKSk7dGhpcy5hPU1hdGgubWluKHZhbHVlLDI1NSk7dGhpcy5nbFszXT12YWx1ZS8yNTU7dGhpcy51cGRhdGUoKTt9fX0pO21vZHVsZS5leHBvcnRzPUNvbG9yOy8qKiovfSwvKiAzMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIERhdGFCdWZmZXIzMj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gRGF0YUJ1ZmZlcjMyKGJ5dGVTaXplKXt0aGlzLmR3b3JkTGVuZ3RoPTA7dGhpcy5kd29yZENhcGFjaXR5PWJ5dGVTaXplLzQ7dGhpcy5idWZmZXI9bmV3IEFycmF5QnVmZmVyKGJ5dGVTaXplKTt0aGlzLmZsb2F0Vmlldz1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYnVmZmVyKTt0aGlzLmludFZpZXc9bmV3IEludDMyQXJyYXkodGhpcy5idWZmZXIpO3RoaXMudWludFZpZXc9bmV3IFVpbnQzMkFycmF5KHRoaXMuYnVmZmVyKTt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7dGhpcy5kd29yZExlbmd0aD0wO30sZ2V0Qnl0ZUxlbmd0aDpmdW5jdGlvbiBnZXRCeXRlTGVuZ3RoKCl7cmV0dXJuIHRoaXMuZHdvcmRMZW5ndGgqNDt9LGdldEJ5dGVDYXBhY2l0eTpmdW5jdGlvbiBnZXRCeXRlQ2FwYWNpdHkoKXtyZXR1cm4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aDt9LGFsbG9jYXRlOmZ1bmN0aW9uIGFsbG9jYXRlKGR3b3JkU2l6ZSl7dmFyIGN1cnJlbnRMZW5ndGg9dGhpcy5kd29yZExlbmd0aDt0aGlzLmR3b3JkTGVuZ3RoKz1kd29yZFNpemU7cmV0dXJuIGN1cnJlbnRMZW5ndGg7fSxnZXRVc2VkQnVmZmVyQXNGbG9hdDpmdW5jdGlvbiBnZXRVc2VkQnVmZmVyQXNGbG9hdCgpe3JldHVybiB0aGlzLmZsb2F0Vmlldy5zdWJhcnJheSgwLHRoaXMuZHdvcmRMZW5ndGgpO30sZ2V0VXNlZEJ1ZmZlckFzSW50OmZ1bmN0aW9uIGdldFVzZWRCdWZmZXJBc0ludCgpe3JldHVybiB0aGlzLmludFZpZXcuc3ViYXJyYXkoMCx0aGlzLmR3b3JkTGVuZ3RoKTt9LGdldFVzZWRCdWZmZXJBc1VpbnQ6ZnVuY3Rpb24gZ2V0VXNlZEJ1ZmZlckFzVWludCgpe3JldHVybiB0aGlzLnVpbnRWaWV3LnN1YmFycmF5KDAsdGhpcy5kd29yZExlbmd0aCk7fX0pO21vZHVsZS5leHBvcnRzPURhdGFCdWZmZXIzMjsvKioqL30sLyogMzEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgUGhhc2VyLkJsZW5kTW9kZXNcbm1vZHVsZS5leHBvcnRzPXtOT1JNQUw6MCxBREQ6MSxNVUxUSVBMWToyLFNDUkVFTjozLE9WRVJMQVk6NCxEQVJLRU46NSxMSUdIVEVOOjYsQ09MT1JfRE9ER0U6NyxDT0xPUl9CVVJOOjgsSEFSRF9MSUdIVDo5LFNPRlRfTElHSFQ6MTAsRElGRkVSRU5DRToxMSxFWENMVVNJT046MTIsSFVFOjEzLFNBVFVSQVRJT046MTQsQ09MT1I6MTUsTFVNSU5PU0lUWToxNn07LyoqKi99LC8qIDMyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBjZW50ZXIgeCBjb29yZGluYXRlIG9mIHRoZSBHYW1lIE9iamVjdC5cbiogVGhpcyBpcyB0aGUgc2FtZSBhcyBgKHggLSBvZmZzZXRYKSArICh3aWR0aCAvIDIpYC5cbipcbiogQHByb3BlcnR5IHtudW1iZXJ9IGNlbnRlclhcbiovdmFyIEdldENlbnRlclg9ZnVuY3Rpb24gR2V0Q2VudGVyWChnYW1lT2JqZWN0KXtyZXR1cm4gZ2FtZU9iamVjdC54LWdhbWVPYmplY3Qud2lkdGgqZ2FtZU9iamVjdC5vcmlnaW5YK2dhbWVPYmplY3Qud2lkdGgqMC41O307bW9kdWxlLmV4cG9ydHM9R2V0Q2VudGVyWDsvKioqL30sLyogMzMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogVGhlIGNlbnRlciB4IGNvb3JkaW5hdGUgb2YgdGhlIEdhbWUgT2JqZWN0LlxuKiBUaGlzIGlzIHRoZSBzYW1lIGFzIGAoeCAtIG9mZnNldFgpICsgKHdpZHRoIC8gMilgLlxuKlxuKiBAcHJvcGVydHkge251bWJlcn0gY2VudGVyWFxuKi8vLyAgUGhhc2VyLlV0aWxzLkJvdW5kcy5HZXRDZW50ZXJYKGJvYilcbi8vICBQaGFzZXIuVXRpbHMuQm91bmRzLkNlbnRlck9uKGJvYiwgeCwgeSlcbi8vICBQaGFzZXIuVXRpbHMuQm91bmRzLkNlbnRlclgoYm9iLCB4KVxuLy8gIFBoYXNlci5VdGlscy5Cb3VuZHMuQ2VudGVyWShib2IsIHgpXG52YXIgU2V0Q2VudGVyWD1mdW5jdGlvbiBTZXRDZW50ZXJYKGdhbWVPYmplY3QseCl7dmFyIG9mZnNldFg9Z2FtZU9iamVjdC53aWR0aCpnYW1lT2JqZWN0Lm9yaWdpblg7Z2FtZU9iamVjdC54PXgrb2Zmc2V0WC1nYW1lT2JqZWN0LndpZHRoKjAuNTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPVNldENlbnRlclg7LyoqKi99LC8qIDM0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBjZW50ZXIgeCBjb29yZGluYXRlIG9mIHRoZSBHYW1lIE9iamVjdC5cbiogVGhpcyBpcyB0aGUgc2FtZSBhcyBgKHggLSBvZmZzZXRYKSArICh3aWR0aCAvIDIpYC5cbipcbiogQHByb3BlcnR5IHtudW1iZXJ9IGNlbnRlclhcbiovdmFyIEdldENlbnRlclk9ZnVuY3Rpb24gR2V0Q2VudGVyWShnYW1lT2JqZWN0KXtyZXR1cm4gZ2FtZU9iamVjdC55LWdhbWVPYmplY3QuaGVpZ2h0KmdhbWVPYmplY3Qub3JpZ2luWStnYW1lT2JqZWN0LmhlaWdodCowLjU7fTttb2R1bGUuZXhwb3J0cz1HZXRDZW50ZXJZOy8qKiovfSwvKiAzNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUaGUgY2VudGVyIHggY29vcmRpbmF0ZSBvZiB0aGUgR2FtZSBPYmplY3QuXG4qIFRoaXMgaXMgdGhlIHNhbWUgYXMgYCh4IC0gb2Zmc2V0WCkgKyAod2lkdGggLyAyKWAuXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSBjZW50ZXJYXG4qLy8vICBQaGFzZXIuVXRpbHMuQm91bmRzLkdldENlbnRlclgoYm9iKVxuLy8gIFBoYXNlci5VdGlscy5Cb3VuZHMuQ2VudGVyT24oYm9iLCB4LCB5KVxuLy8gIFBoYXNlci5VdGlscy5Cb3VuZHMuQ2VudGVyWChib2IsIHgpXG4vLyAgUGhhc2VyLlV0aWxzLkJvdW5kcy5DZW50ZXJZKGJvYiwgeClcbnZhciBTZXRDZW50ZXJZPWZ1bmN0aW9uIFNldENlbnRlclkoZ2FtZU9iamVjdCx5KXt2YXIgb2Zmc2V0WT1nYW1lT2JqZWN0LmhlaWdodCpnYW1lT2JqZWN0Lm9yaWdpblk7Z2FtZU9iamVjdC55PXkrb2Zmc2V0WS1nYW1lT2JqZWN0LmhlaWdodCowLjU7cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1TZXRDZW50ZXJZOy8qKiovfSwvKiAzNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDb250YWlucz1mdW5jdGlvbiBDb250YWlucyhjaXJjbGUseCx5KXsvLyAgQ2hlY2sgaWYgeC95IGFyZSB3aXRoaW4gdGhlIGJvdW5kcyBmaXJzdFxuaWYoY2lyY2xlLnJhZGl1cz4wJiZ4Pj1jaXJjbGUubGVmdCYmeDw9Y2lyY2xlLnJpZ2h0JiZ5Pj1jaXJjbGUudG9wJiZ5PD1jaXJjbGUuYm90dG9tKXt2YXIgZHg9KGNpcmNsZS54LXgpKihjaXJjbGUueC14KTt2YXIgZHk9KGNpcmNsZS55LXkpKihjaXJjbGUueS15KTtyZXR1cm4gZHgrZHk8PWNpcmNsZS5yYWRpdXMqY2lyY2xlLnJhZGl1czt9ZWxzZXtyZXR1cm4gZmFsc2U7fX07bW9kdWxlLmV4cG9ydHM9Q29udGFpbnM7LyoqKi99LC8qIDM3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRGF0YUJ1ZmZlcjE2PW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBEYXRhQnVmZmVyMTYoYnl0ZVNpemUpe3RoaXMud29yZExlbmd0aD0wO3RoaXMud29yZENhcGFjaXR5PWJ5dGVTaXplLzI7dGhpcy5idWZmZXI9bmV3IEFycmF5QnVmZmVyKGJ5dGVTaXplKTt0aGlzLmludFZpZXc9bmV3IEludDE2QXJyYXkodGhpcy5idWZmZXIpO3RoaXMudWludFZpZXc9bmV3IFVpbnQxNkFycmF5KHRoaXMuYnVmZmVyKTt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7dGhpcy53b3JkTGVuZ3RoPTA7fSxnZXRCeXRlTGVuZ3RoOmZ1bmN0aW9uIGdldEJ5dGVMZW5ndGgoKXtyZXR1cm4gdGhpcy53b3JkTGVuZ3RoKjI7fSxnZXRCeXRlQ2FwYWNpdHk6ZnVuY3Rpb24gZ2V0Qnl0ZUNhcGFjaXR5KCl7cmV0dXJuIHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGg7fSxhbGxvY2F0ZTpmdW5jdGlvbiBhbGxvY2F0ZSh3b3JkU2l6ZSl7dmFyIGN1cnJlbnRMZW5ndGg9dGhpcy53b3JkTGVuZ3RoO3RoaXMud29yZExlbmd0aCs9d29yZFNpemU7cmV0dXJuIGN1cnJlbnRMZW5ndGg7fSxnZXRVc2VkQnVmZmVyQXNTaG9ydDpmdW5jdGlvbiBnZXRVc2VkQnVmZmVyQXNTaG9ydCgpe3JldHVybiB0aGlzLmludFZpZXcuc3ViYXJyYXkoMCx0aGlzLndvcmRMZW5ndGgpO30sZ2V0VXNlZEJ1ZmZlckFzV29yZDpmdW5jdGlvbiBnZXRVc2VkQnVmZmVyQXNXb3JkKCl7cmV0dXJuIHRoaXMudWludFZpZXcuc3ViYXJyYXkoMCx0aGlzLndvcmRMZW5ndGgpO319KTttb2R1bGUuZXhwb3J0cz1EYXRhQnVmZmVyMTY7LyoqKi99LC8qIDM4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9e3ZlcnQ6Wyd1bmlmb3JtIG1hdDQgdV92aWV3X21hdHJpeDsnLCdhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uOycsJ2F0dHJpYnV0ZSB2ZWMyIGFfdGV4X2Nvb3JkOycsJ2F0dHJpYnV0ZSB2ZWMzIGFfY29sb3I7JywnYXR0cmlidXRlIGZsb2F0IGFfYWxwaGE7JywndmFyeWluZyB2ZWMyIHZfdGV4X2Nvb3JkOycsJ3ZhcnlpbmcgdmVjMyB2X2NvbG9yOycsJ3ZhcnlpbmcgZmxvYXQgdl9hbHBoYTsnLCd2b2lkIG1haW4gKCkgeycsJyAgIGdsX1Bvc2l0aW9uID0gdV92aWV3X21hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wLCAxLjApOycsJyAgIHZfdGV4X2Nvb3JkID0gYV90ZXhfY29vcmQ7JywnICAgdl9jb2xvciA9IGFfY29sb3I7JywnICAgdl9hbHBoYSA9IGFfYWxwaGE7JywnfSddLmpvaW4oJ1xcbicpLGZyYWc6WydwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLCd1bmlmb3JtIHNhbXBsZXIyRCB1X3NhbXBsZXIyRDsnLCd2YXJ5aW5nIHZlYzIgdl90ZXhfY29vcmQ7JywndmFyeWluZyB2ZWMzIHZfY29sb3I7JywndmFyeWluZyBmbG9hdCB2X2FscGhhOycsJ3ZvaWQgbWFpbigpIHsnLCcgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodV9zYW1wbGVyMkQsIHZfdGV4X2Nvb3JkKSAqIHZlYzQodl9jb2xvciwgdl9hbHBoYSk7JywnfSddLmpvaW4oJ1xcbicpfTsvKioqL30sLyogMzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuSW5wdXQuRXZlbnRzXG5tb2R1bGUuZXhwb3J0cz17RFJBRzpfX3dlYnBhY2tfcmVxdWlyZV9fKDU5NiksRFJBR19FTkQ6X193ZWJwYWNrX3JlcXVpcmVfXyg1OTcpLERSQUdfRU5URVI6X193ZWJwYWNrX3JlcXVpcmVfXyg1OTgpLERSQUdfTEVBVkU6X193ZWJwYWNrX3JlcXVpcmVfXyg1OTkpLERSQUdfT1ZFUjpfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMCksRFJBR19TVEFSVDpfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMSksRFJPUDpfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMiksR0FNRV9PQkpFQ1RfRE9XTjpfX3dlYnBhY2tfcmVxdWlyZV9fKDYwMyksR0FNRV9PQkpFQ1RfTU9WRTpfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNCksR0FNRV9PQkpFQ1RfT1VUOl9fd2VicGFja19yZXF1aXJlX18oNjA1KSxHQU1FX09CSkVDVF9PVkVSOl9fd2VicGFja19yZXF1aXJlX18oNjA2KSxHQU1FX09CSkVDVF9VUDpfX3dlYnBhY2tfcmVxdWlyZV9fKDYwNyksUE9JTlRFUl9ET1dOOl9fd2VicGFja19yZXF1aXJlX18oNjA4KSxQT0lOVEVSX01PVkU6X193ZWJwYWNrX3JlcXVpcmVfXyg2MDkpLFBPSU5URVJfT1VUOl9fd2VicGFja19yZXF1aXJlX18oNjEwKSxQT0lOVEVSX09WRVI6X193ZWJwYWNrX3JlcXVpcmVfXyg2MTEpLFBPSU5URVJfVVA6X193ZWJwYWNrX3JlcXVpcmVfXyg2MTIpfTsvKioqL30sLyogNDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApOy8vIEEgdHJpYW5nbGUgaXMgYSBwbGFuZSBjcmVhdGVkIGJ5IGNvbm5lY3RpbmcgdGhyZWUgcG9pbnRzLlxuLy8gVGhlIGZpcnN0IHR3byBhcmd1bWVudHMgc3BlY2lmeSB0aGUgZmlyc3QgcG9pbnQsIHRoZSBtaWRkbGUgdHdvIGFyZ3VtZW50c1xuLy8gc3BlY2lmeSB0aGUgc2Vjb25kIHBvaW50LCBhbmQgdGhlIGxhc3QgdHdvIGFyZ3VtZW50cyBzcGVjaWZ5IHRoZSB0aGlyZCBwb2ludC5cbnZhciBUcmlhbmdsZT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gVHJpYW5nbGUoeDEseTEseDIseTIseDMseTMpe3RoaXMueDE9MDt0aGlzLnkxPTA7dGhpcy54Mj0wO3RoaXMueTI9MDt0aGlzLngzPTA7dGhpcy55Mz0wO3RoaXMuc2V0VG8oeDEseTEseDIseTIseDMseTMpO30sc2V0VG86ZnVuY3Rpb24gc2V0VG8oeDEseTEseDIseTIseDMseTMpe2lmKHgxPT09dW5kZWZpbmVkKXt4MT0wO31pZih5MT09PXVuZGVmaW5lZCl7eTE9MDt9aWYoeDI9PT11bmRlZmluZWQpe3gyPTA7fWlmKHkyPT09dW5kZWZpbmVkKXt5Mj0wO31pZih4Mz09PXVuZGVmaW5lZCl7eDM9MDt9aWYoeTM9PT11bmRlZmluZWQpe3kzPTA7fXRoaXMueDE9eDE7dGhpcy55MT15MTt0aGlzLngyPXgyO3RoaXMueTI9eTI7dGhpcy54Mz14Mzt0aGlzLnkzPXkzO3JldHVybiB0aGlzO30sZ2V0TGluZUE6ZnVuY3Rpb24gZ2V0TGluZUEoKXtyZXR1cm57eDE6dGhpcy54MSx5MTp0aGlzLnkxLHgyOnRoaXMueDIseTI6dGhpcy55Mn07fSxnZXRMaW5lQjpmdW5jdGlvbiBnZXRMaW5lQigpe3JldHVybnt4MTp0aGlzLngyLHkxOnRoaXMueTIseDI6dGhpcy54Myx5Mjp0aGlzLnkzfTt9LGdldExpbmVDOmZ1bmN0aW9uIGdldExpbmVDKCl7cmV0dXJue3gxOnRoaXMueDMseTE6dGhpcy55Myx4Mjp0aGlzLngxLHkyOnRoaXMueTF9O30sbGVmdDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBNYXRoLm1pbih0aGlzLngxLHRoaXMueDIsdGhpcy54Myk7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt2YXIgZGlmZj0wO2lmKHRoaXMueDE8PXRoaXMueDImJnRoaXMueDE8PXRoaXMueDMpe2RpZmY9dGhpcy54MS12YWx1ZTt9ZWxzZSBpZih0aGlzLngyPD10aGlzLngxJiZ0aGlzLngyPD10aGlzLngzKXtkaWZmPXRoaXMueDItdmFsdWU7fWVsc2V7ZGlmZj10aGlzLngzLXZhbHVlO310aGlzLngxLT1kaWZmO3RoaXMueDItPWRpZmY7dGhpcy54My09ZGlmZjt9fSxyaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBNYXRoLm1heCh0aGlzLngxLHRoaXMueDIsdGhpcy54Myk7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt2YXIgZGlmZj0wO2lmKHRoaXMueDE+PXRoaXMueDImJnRoaXMueDE+PXRoaXMueDMpe2RpZmY9dGhpcy54MS12YWx1ZTt9ZWxzZSBpZih0aGlzLngyPj10aGlzLngxJiZ0aGlzLngyPj10aGlzLngzKXtkaWZmPXRoaXMueDItdmFsdWU7fWVsc2V7ZGlmZj10aGlzLngzLXZhbHVlO310aGlzLngxLT1kaWZmO3RoaXMueDItPWRpZmY7dGhpcy54My09ZGlmZjt9fSx0b3A6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gTWF0aC5taW4odGhpcy55MSx0aGlzLnkyLHRoaXMueTMpO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dmFyIGRpZmY9MDtpZih0aGlzLnkxPD10aGlzLnkyJiZ0aGlzLnkxPD10aGlzLnkzKXtkaWZmPXRoaXMueTEtdmFsdWU7fWVsc2UgaWYodGhpcy55Mjw9dGhpcy55MSYmdGhpcy55Mjw9dGhpcy55Myl7ZGlmZj10aGlzLnkyLXZhbHVlO31lbHNle2RpZmY9dGhpcy55My12YWx1ZTt9dGhpcy55MS09ZGlmZjt0aGlzLnkyLT1kaWZmO3RoaXMueTMtPWRpZmY7fX0sYm90dG9tOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIE1hdGgubWF4KHRoaXMueTEsdGhpcy55Mix0aGlzLnkzKTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3ZhciBkaWZmPTA7aWYodGhpcy55MT49dGhpcy55MiYmdGhpcy55MT49dGhpcy55Myl7ZGlmZj10aGlzLnkxLXZhbHVlO31lbHNlIGlmKHRoaXMueTI+PXRoaXMueTEmJnRoaXMueTI+PXRoaXMueTMpe2RpZmY9dGhpcy55Mi12YWx1ZTt9ZWxzZXtkaWZmPXRoaXMueTMtdmFsdWU7fXRoaXMueTEtPWRpZmY7dGhpcy55Mi09ZGlmZjt0aGlzLnkzLT1kaWZmO319fSk7bW9kdWxlLmV4cG9ydHM9VHJpYW5nbGU7LyoqKi99LC8qIDQxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEFuZ2xlPWZ1bmN0aW9uIEFuZ2xlKGxpbmUpe3JldHVybiBNYXRoLmF0YW4yKGxpbmUueTItbGluZS55MSxsaW5lLngyLWxpbmUueDEpO307bW9kdWxlLmV4cG9ydHM9QW5nbGU7LyoqKi99LC8qIDQyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24ocHJvY2Vzcyl7dmFyIE9TPXsvLyAgQHByb3BlcnR5IHtib29sZWFufSBkZXNrdG9wIC0gSXMgcnVubmluZyBvbiBhIGRlc2t0b3A/XG5kZXNrdG9wOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IHdlYkFwcCAtIFNldCB0byB0cnVlIGlmIHJ1bm5pbmcgYXMgYSBXZWJBcHAsIGkuZS4gd2l0aGluIGEgV2ViVmlld1xud2ViQXBwOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGlPUyAtIElzIHJ1bm5pbmcgb24gaU9TP1xuaU9TOmZhbHNlLC8vICBAcHJvcGVydHkge251bWJlcn0gaU9TVmVyc2lvbiAtIElmIHJ1bm5pbmcgaW4gaU9TIHRoaXMgd2lsbCBjb250YWluIHRoZSBtYWpvciB2ZXJzaW9uIG51bWJlci5cbmlPU1ZlcnNpb246MCwvLyAgQHByb3BlcnR5IHtib29sZWFufSBpUGhvbmUgLSBJcyBydW5uaW5nIG9uIGlQaG9uZT9cbmlQaG9uZTpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBpUGFkIC0gSXMgcnVubmluZyBvbiBpUGFkP1xuaVBhZDpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBjb2Nvb25KUyAtIElzIHRoZSBnYW1lIHJ1bm5pbmcgdW5kZXIgQ29jb29uSlM/XG5jb2Nvb25KUzpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBjb2Nvb25KU0FwcCAtIElzIHRoaXMgZ2FtZSBydW5uaW5nIHdpdGggQ29jb29uSlMuQXBwP1xuY29jb29uSlNBcHA6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY29yZG92YSAtIElzIHRoZSBnYW1lIHJ1bm5pbmcgdW5kZXIgQXBhY2hlIENvcmRvdmE/XG5jb3Jkb3ZhOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IG5vZGUgLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIE5vZGUuanM/XG5ub2RlOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IG5vZGVXZWJraXQgLSBJcyB0aGUgZ2FtZSBydW5uaW5nIHVuZGVyIE5vZGUtV2Via2l0P1xubm9kZVdlYmtpdDpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBlbGVjdHJvbiAtIElzIHRoZSBnYW1lIHJ1bm5pbmcgdW5kZXIgR2l0SHViIEVsZWN0cm9uP1xuZWxlY3Ryb246ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZWplY3RhIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciBFamVjdGE/XG5lamVjdGE6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY3Jvc3N3YWxrIC0gSXMgdGhlIGdhbWUgcnVubmluZyB1bmRlciB0aGUgSW50ZWwgQ3Jvc3N3YWxrIFhESz9cbmNyb3Nzd2FsazpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBhbmRyb2lkIC0gSXMgcnVubmluZyBvbiBhbmRyb2lkP1xuYW5kcm9pZDpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBjaHJvbWVPUyAtIElzIHJ1bm5pbmcgb24gY2hyb21lT1M/XG5jaHJvbWVPUzpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBsaW51eCAtIElzIHJ1bm5pbmcgb24gbGludXg/XG5saW51eDpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBtYWNPUyAtIElzIHJ1bm5pbmcgb24gbWFjT1M/XG5tYWNPUzpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSB3aW5kb3dzIC0gSXMgcnVubmluZyBvbiB3aW5kb3dzP1xud2luZG93czpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSB3aW5kb3dzUGhvbmUgLSBJcyBydW5uaW5nIG9uIGEgV2luZG93cyBQaG9uZT9cbndpbmRvd3NQaG9uZTpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSB2aXRhIC0gSXMgcnVubmluZyBvbiBhIFBsYXlTdGF0aW9uIFZpdGE/XG52aXRhOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGtpbmRsZSAtIElzIHJ1bm5pbmcgb24gYW4gQW1hem9uIEtpbmRsZT9cbmtpbmRsZTpmYWxzZSwvLyAgQHByb3BlcnR5IHtudW1iZXJ9IHBpeGVsUmF0aW8gLSBQaXhlbFJhdGlvIG9mIHRoZSBob3N0IGRldmljZT9cbnBpeGVsUmF0aW86MX07ZnVuY3Rpb24gaW5pdCgpe3ZhciB1YT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKC9XaW5kb3dzLy50ZXN0KHVhKSl7T1Mud2luZG93cz10cnVlO31lbHNlIGlmKC9NYWMgT1MvLnRlc3QodWEpKXtPUy5tYWNPUz10cnVlO31lbHNlIGlmKC9MaW51eC8udGVzdCh1YSkpe09TLmxpbnV4PXRydWU7fWVsc2UgaWYoL0FuZHJvaWQvLnRlc3QodWEpKXtPUy5hbmRyb2lkPXRydWU7fWVsc2UgaWYoL2lQW2FvXWR8aVBob25lL2kudGVzdCh1YSkpe09TLmlPUz10cnVlO25hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKykvKTtPUy5pT1NWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMSwxMCk7fWVsc2UgaWYoL0tpbmRsZS8udGVzdCh1YSl8fC9cXGJLRltBLVpdW0EtWl0rLy50ZXN0KHVhKXx8L1NpbGsuKk1vYmlsZSBTYWZhcmkvLnRlc3QodWEpKXtPUy5raW5kbGU9dHJ1ZTsvLyBUaGlzIHdpbGwgTk9UIGRldGVjdCBlYXJseSBnZW5lcmF0aW9ucyBvZiBLaW5kbGUgRmlyZSwgSSB0aGluayB0aGVyZSBpcyBubyByZWxpYWJsZSB3YXkuLi5cbi8vIEUuZy4gXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBVOyBJbnRlbCBNYWMgT1MgWCAxMF82XzM7IGVuLXVzOyBTaWxrLzEuMS4wLTgwKSBBcHBsZVdlYktpdC81MzMuMTYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzUuMCBTYWZhcmkvNTMzLjE2IFNpbGstQWNjZWxlcmF0ZWQ9dHJ1ZVwiXG59ZWxzZSBpZigvQ3JPUy8udGVzdCh1YSkpe09TLmNocm9tZU9TPXRydWU7fWVsc2UgaWYoL1BsYXlzdGF0aW9uIFZpdGEvLnRlc3QodWEpKXtPUy52aXRhPXRydWU7fWlmKC9XaW5kb3dzIFBob25lL2kudGVzdCh1YSl8fC9JRU1vYmlsZS9pLnRlc3QodWEpKXtPUy5hbmRyb2lkPWZhbHNlO09TLmlPUz1mYWxzZTtPUy5tYWNPUz1mYWxzZTtPUy53aW5kb3dzPXRydWU7T1Mud2luZG93c1Bob25lPXRydWU7fXZhciBzaWxrPS9TaWxrLy50ZXN0KHVhKTtpZihPUy53aW5kb3dzfHxPUy5tYWNPU3x8T1MubGludXgmJiFzaWxrfHxPUy5jaHJvbWVPUyl7T1MuZGVza3RvcD10cnVlO30vLyAgV2luZG93cyBQaG9uZSAvIFRhYmxlIHJlc2V0XG5pZihPUy53aW5kb3dzUGhvbmV8fC9XaW5kb3dzIE5UL2kudGVzdCh1YSkmJi9Ub3VjaC9pLnRlc3QodWEpKXtPUy5kZXNrdG9wPWZhbHNlO30vLyAgV2ViQXBwIG1vZGUgaW4gaU9TXG5pZihuYXZpZ2F0b3Iuc3RhbmRhbG9uZSl7T1Mud2ViQXBwPXRydWU7fWlmKHdpbmRvdy5jb3Jkb3ZhIT09dW5kZWZpbmVkKXtPUy5jb3Jkb3ZhPXRydWU7fWlmKHR5cGVvZiBwcm9jZXNzIT09J3VuZGVmaW5lZCcmJnR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUhPT0ndW5kZWZpbmVkJyl7T1Mubm9kZT10cnVlO31pZihPUy5ub2RlJiZfdHlwZW9mKHByb2Nlc3MudmVyc2lvbnMpPT09J29iamVjdCcpe09TLm5vZGVXZWJraXQ9ISFwcm9jZXNzLnZlcnNpb25zWydub2RlLXdlYmtpdCddO09TLmVsZWN0cm9uPSEhcHJvY2Vzcy52ZXJzaW9ucy5lbGVjdHJvbjt9aWYobmF2aWdhdG9yLmlzQ29jb29uSlMpe09TLmNvY29vbkpTPXRydWU7dHJ5e09TLmNvY29vbkpTQXBwPXR5cGVvZiBDb2Nvb25KUyE9PSd1bmRlZmluZWQnO31jYXRjaChlcnJvcil7T1MuY29jb29uSlNBcHA9ZmFsc2U7fX1pZih3aW5kb3cuZWplY3RhIT09dW5kZWZpbmVkKXtPUy5lamVjdGE9dHJ1ZTt9aWYoL0Nyb3Nzd2Fsay8udGVzdCh1YSkpe09TLmNyb3Nzd2Fsaz10cnVlO31PUy5pUGhvbmU9dWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdpcGhvbmUnKSE9PS0xO09TLmlQYWQ9dWEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdpcGFkJykhPT0tMTtPUy5waXhlbFJhdGlvPXdpbmRvd1snZGV2aWNlUGl4ZWxSYXRpbyddfHwxO3JldHVybiBPUzt9bW9kdWxlLmV4cG9ydHM9aW5pdCgpOy8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30pLmNhbGwoZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNykpOy8qKiovfSwvKiA0MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e0FERF9BTklNQVRJT05fRVZFTlQ6X193ZWJwYWNrX3JlcXVpcmVfXygzODQpLFBBVVNFX0FMTF9BTklNQVRJT05fRVZFTlQ6X193ZWJwYWNrX3JlcXVpcmVfXygzODUpLFJFTU9WRV9BTklNQVRJT05fRVZFTlQ6X193ZWJwYWNrX3JlcXVpcmVfXygzODYpLFJFU1VNRV9BTExfQU5JTUFUSU9OX0VWRU5UOl9fd2VicGFja19yZXF1aXJlX18oMzg3KX07LyoqKi99LC8qIDQ0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgU3lzdGVtcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3MCk7dmFyIFNjZW5lPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBTY2VuZShjb25maWcpey8vICBUaGUgU2NlbmUgU3lzdGVtcy4gWW91IG11c3QgbmV2ZXIgb3ZlcndyaXRlIHRoaXMgcHJvcGVydHksIG9yIGFsbCBoZWxsIHdpbGwgYnJlYWsgbG9zZS5cbnRoaXMuc3lzPW5ldyBTeXN0ZW1zKHRoaXMsY29uZmlnKTt9LC8vICBTaG91bGQgYmUgb3ZlcnJpZGRlbiBieSB5b3VyIG93biBTY2VuZXNcbnVwZGF0ZTpmdW5jdGlvbiB1cGRhdGUoKXt9LC8vICBTaG91bGQgYmUgb3ZlcnJpZGRlbiBieSB5b3VyIG93biBTY2VuZXNcbnJlbmRlcjpmdW5jdGlvbiByZW5kZXIoKXt9fSk7bW9kdWxlLmV4cG9ydHM9U2NlbmU7LyoqKi99LC8qIDQ1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO3ZhciBDb21wb25lbnRzPV9fd2VicGFja19yZXF1aXJlX18oMyk7dmFyIFNwcml0ZVJlbmRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUzMCk7dmFyIFNwcml0ZT1uZXcgQ2xhc3Moe0V4dGVuZHM6R2FtZU9iamVjdCxNaXhpbnM6W0NvbXBvbmVudHMuQWxwaGEsQ29tcG9uZW50cy5CbGVuZE1vZGUsQ29tcG9uZW50cy5GbGlwLENvbXBvbmVudHMuR2V0Qm91bmRzLENvbXBvbmVudHMuT3JpZ2luLENvbXBvbmVudHMuUmVuZGVyVGFyZ2V0LENvbXBvbmVudHMuU2NhbGVNb2RlLENvbXBvbmVudHMuU2Nyb2xsRmFjdG9yLENvbXBvbmVudHMuU2l6ZSxDb21wb25lbnRzLlRleHR1cmUsQ29tcG9uZW50cy5UaW50LENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxTcHJpdGVSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gU3ByaXRlKHNjZW5lLHgseSx0ZXh0dXJlLGZyYW1lKXtHYW1lT2JqZWN0LmNhbGwodGhpcyxzY2VuZSwnU3ByaXRlJyk7dGhpcy5hbmltcz1uZXcgQ29tcG9uZW50cy5BbmltYXRpb24odGhpcyk7dGhpcy5zZXRUZXh0dXJlKHRleHR1cmUsZnJhbWUpO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLnNldFNpemVUb0ZyYW1lKCk7dGhpcy5zZXRPcmlnaW4oKTt9LHByZVVwZGF0ZTpmdW5jdGlvbiBwcmVVcGRhdGUodGltZSxkZWx0YSl7dGhpcy5hbmltcy51cGRhdGUodGltZSxkZWx0YSk7fSxwbGF5OmZ1bmN0aW9uIHBsYXkoa2V5LHN0YXJ0RnJhbWUpe3JldHVybiB0aGlzLmFuaW1zLnBsYXkoa2V5LHN0YXJ0RnJhbWUpO30sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBkYXRhPUNvbXBvbmVudHMuVG9KU09OKHRoaXMpOy8vICBFeHRyYSBTcHJpdGUgZGF0YSBpcyBhZGRlZCBoZXJlXG5yZXR1cm4gZGF0YTt9fSk7bW9kdWxlLmV4cG9ydHM9U3ByaXRlOy8qKiovfSwvKiA0NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvXG52YXIgQ29udGFpbnM9ZnVuY3Rpb24gQ29udGFpbnModHJpYW5nbGUseCx5KXt2YXIgdjB4PXRyaWFuZ2xlLngzLXRyaWFuZ2xlLngxO3ZhciB2MHk9dHJpYW5nbGUueTMtdHJpYW5nbGUueTE7dmFyIHYxeD10cmlhbmdsZS54Mi10cmlhbmdsZS54MTt2YXIgdjF5PXRyaWFuZ2xlLnkyLXRyaWFuZ2xlLnkxO3ZhciB2Mng9eC10cmlhbmdsZS54MTt2YXIgdjJ5PXktdHJpYW5nbGUueTE7dmFyIGRvdDAwPXYweCp2MHgrdjB5KnYweTt2YXIgZG90MDE9djB4KnYxeCt2MHkqdjF5O3ZhciBkb3QwMj12MHgqdjJ4K3YweSp2Mnk7dmFyIGRvdDExPXYxeCp2MXgrdjF5KnYxeTt2YXIgZG90MTI9djF4KnYyeCt2MXkqdjJ5Oy8vIENvbXB1dGUgYmFyeWNlbnRyaWMgY29vcmRpbmF0ZXNcbnZhciBiPWRvdDAwKmRvdDExLWRvdDAxKmRvdDAxO3ZhciBpbnY9Yj09PTA/MDoxL2I7dmFyIHU9KGRvdDExKmRvdDAyLWRvdDAxKmRvdDEyKSppbnY7dmFyIHY9KGRvdDAwKmRvdDEyLWRvdDAxKmRvdDAyKSppbnY7cmV0dXJuIHU+PTAmJnY+PTAmJnUrdjwxO307bW9kdWxlLmV4cG9ydHM9Q29udGFpbnM7LyoqKi99LC8qIDQ3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMik7dmFyIEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXygyMyk7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpOy8vICBQaGFzZXIuTG9hZGVyLkZpbGVUeXBlcy5JbWFnZUZpbGVcbnZhciBJbWFnZUZpbGU9bmV3IENsYXNzKHtFeHRlbmRzOkZpbGUsaW5pdGlhbGl6ZTovLyB0aGlzLmxvYWQuaW1hZ2UoJ3BpYycsICdhc3NldHMvcGljcy90YWlrb2RydW1tYXN0ZXIuanBnJyk7XG4vLyB0aGlzLmxvYWQuaW1hZ2UoeyBrZXk6ICdwaWMnLCBmaWxlOiAnYXNzZXRzL3BpY3MvdGFpa29kcnVtbWFzdGVyLmpwZycgfSk7XG4vLyB0aGlzLmxvYWQuaW1hZ2Uoe1xuLy8gICAgIGtleTogJ2J1bm55Jyxcbi8vICAgICBmaWxlOiAnYXNzZXRzL3Nwcml0ZXMvYnVubnkucG5nJyxcbi8vICAgICB4aHI6IHtcbi8vICAgICAgICAgdXNlcjogJ3Jvb3QnLFxuLy8gICAgICAgICBwYXNzd29yZDogJ3RoM0cxYnMwbicsXG4vLyAgICAgICAgIHRpbWVvdXQ6IDMwLFxuLy8gICAgICAgICBoZWFkZXI6ICdDb250ZW50LVR5cGUnLFxuLy8gICAgICAgICBoZWFkZXJWYWx1ZTogJ3RleHQveG1sJ1xuLy8gICAgIH1cbi8vIH0pO1xuLy8gdGhpcy5sb2FkLmltYWdlKHsga2V5OiAnYnVubnknIH0pO1xuLy8gdGhpcy5sb2FkLmltYWdlKHsga2V5OiAnYnVubnknLCBleHRlbnNpb246ICdqcGcnIH0pO1xuZnVuY3Rpb24gSW1hZ2VGaWxlKGtleSx1cmwscGF0aCx4aHJTZXR0aW5ncyxjb25maWcpe3ZhciBmaWxlS2V5PXR5cGVvZiBrZXk9PT0nc3RyaW5nJz9rZXk6R2V0RmFzdFZhbHVlKGtleSwna2V5JywnJyk7dmFyIGZpbGVDb25maWc9e3R5cGU6J2ltYWdlJyxleHRlbnNpb246R2V0RmFzdFZhbHVlKGtleSwnZXh0ZW5zaW9uJywncG5nJykscmVzcG9uc2VUeXBlOidibG9iJyxrZXk6ZmlsZUtleSx1cmw6R2V0RmFzdFZhbHVlKGtleSwnZmlsZScsdXJsKSxwYXRoOnBhdGgseGhyU2V0dGluZ3M6R2V0RmFzdFZhbHVlKGtleSwneGhyJyx4aHJTZXR0aW5ncyksY29uZmlnOkdldEZhc3RWYWx1ZShrZXksJ2NvbmZpZycsY29uZmlnKX07RmlsZS5jYWxsKHRoaXMsZmlsZUNvbmZpZyk7fSxvblByb2Nlc3M6ZnVuY3Rpb24gb25Qcm9jZXNzKGNhbGxiYWNrKXt0aGlzLnN0YXRlPUNPTlNULkZJTEVfUFJPQ0VTU0lORzt0aGlzLmRhdGE9bmV3IEltYWdlKCk7dGhpcy5kYXRhLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW47dmFyIF90aGlzPXRoaXM7dGhpcy5kYXRhLm9ubG9hZD1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoX3RoaXMuZGF0YS5zcmMpO190aGlzLm9uQ29tcGxldGUoKTtjYWxsYmFjayhfdGhpcyk7fTt0aGlzLmRhdGEub25lcnJvcj1mdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoX3RoaXMuZGF0YS5zcmMpO190aGlzLnN0YXRlPUNPTlNULkZJTEVfRVJST1JFRDtjYWxsYmFjayhfdGhpcyk7fTt0aGlzLmRhdGEuc3JjPVVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy54aHJMb2FkZXIucmVzcG9uc2UpO319KTtJbWFnZUZpbGUuY3JlYXRlPWZ1bmN0aW9uKGxvYWRlcixrZXksdXJsLHhoclNldHRpbmdzKXtpZihBcnJheS5pc0FycmF5KGtleSkpe2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspey8vICBJZiBpdCdzIGFuIGFycmF5IGl0IGhhcyB0byBiZSBhbiBhcnJheSBvZiBPYmplY3RzLCBzbyB3ZSBnZXQgZXZlcnl0aGluZyBvdXQgb2YgdGhlICdrZXknIG9iamVjdFxubG9hZGVyLmFkZEZpbGUobmV3IEltYWdlRmlsZShrZXlbaV0sdXJsLGxvYWRlci5wYXRoLHhoclNldHRpbmdzKSk7fX1lbHNle2xvYWRlci5hZGRGaWxlKG5ldyBJbWFnZUZpbGUoa2V5LHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO30vLyAgRm9yIG1ldGhvZCBjaGFpbmluZ1xucmV0dXJuIGxvYWRlcjt9O21vZHVsZS5leHBvcnRzPUltYWdlRmlsZTsvKioqL30sLyogNDggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDaXJjbGU9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIENpcmNsZSh4LHkscmFkaXVzKXtpZih4PT09dW5kZWZpbmVkKXt4PTA7fWlmKHk9PT11bmRlZmluZWQpe3k9MDt9aWYocmFkaXVzPT09dW5kZWZpbmVkKXtyYWRpdXM9MDt9dGhpcy54PXg7dGhpcy55PXk7dGhpcy5fcmFkaXVzPXJhZGl1czt0aGlzLl9kaWFtZXRlcj1yYWRpdXMqMjt9LHNldFRvOmZ1bmN0aW9uIHNldFRvKHgseSxyYWRpdXMpe3RoaXMueD14O3RoaXMueT15O3RoaXMuX3JhZGl1cz1yYWRpdXM7dGhpcy5fZGlhbWV0ZXI9cmFkaXVzKjI7cmV0dXJuIHRoaXM7fSxzZXRFbXB0eTpmdW5jdGlvbiBzZXRFbXB0eSgpe3JldHVybiB0aGlzLnNldFRvKDAsMCwwKTt9LHNldFBvc2l0aW9uOmZ1bmN0aW9uIHNldFBvc2l0aW9uKHgseSl7aWYoeT09PXVuZGVmaW5lZCl7eT14O310aGlzLng9eDt0aGlzLnk9eTtyZXR1cm4gdGhpczt9LGlzRW1wdHk6ZnVuY3Rpb24gaXNFbXB0eSgpe3JldHVybiB0aGlzLl9yYWRpdXM8PTA7fSxyYWRpdXM6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fcmFkaXVzO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5fcmFkaXVzPXZhbHVlO3RoaXMuX2RpYW1ldGVyPXZhbHVlKjI7fX0sZGlhbWV0ZXI6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fZGlhbWV0ZXI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLl9kaWFtZXRlcj12YWx1ZTt0aGlzLl9yYWRpdXM9dmFsdWUqMC41O319LGxlZnQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54LXRoaXMuX3JhZGl1czt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMueD12YWx1ZSt0aGlzLl9yYWRpdXM7fX0scmlnaHQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54K3RoaXMuX3JhZGl1czt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMueD12YWx1ZS10aGlzLl9yYWRpdXM7fX0sdG9wOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMueS10aGlzLl9yYWRpdXM7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnk9dmFsdWUrdGhpcy5fcmFkaXVzO319LGJvdHRvbTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnkrdGhpcy5fcmFkaXVzO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy55PXZhbHVlLXRoaXMuX3JhZGl1czt9fX0pO21vZHVsZS5leHBvcnRzPUNpcmNsZTsvKioqL30sLyogNDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogRm9yY2UgYSB2YWx1ZSB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgYnkgY2xhbXBpbmcgaXQgdG8gdGhlIHJhbmdlIGBtaW5gLCBgbWF4YC5cbipcbiogQG1ldGhvZCBQaGFzZXIuTWF0aCNjbGFtcFxuKiBAcGFyYW0ge2Zsb2F0fSB2IC0gVGhlIHZhbHVlIHRvIGJlIGNsYW1wZWQuXG4qIEBwYXJhbSB7ZmxvYXR9IG1pbiAtIFRoZSBtaW5pbXVtIGJvdW5kcy5cbiogQHBhcmFtIHtmbG9hdH0gbWF4IC0gVGhlIG1heGltdW0gYm91bmRzLlxuKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjbGFtcGVkIHZhbHVlLlxuKi92YXIgQ2xhbXA9ZnVuY3Rpb24gQ2xhbXAodixtaW4sbWF4KXtpZih2PG1pbil7cmV0dXJuIG1pbjt9ZWxzZSBpZihtYXg8dil7cmV0dXJuIG1heDt9ZWxzZXtyZXR1cm4gdjt9fTttb2R1bGUuZXhwb3J0cz1DbGFtcDsvKioqL30sLyogNTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgV3JhcD1mdW5jdGlvbiBXcmFwKHZhbHVlLG1pbixtYXgpe3ZhciByYW5nZT1tYXgtbWluO3JldHVybiBtaW4rKCh2YWx1ZS1taW4pJXJhbmdlK3JhbmdlKSVyYW5nZTt9O21vZHVsZS5leHBvcnRzPVdyYXA7LyoqKi99LC8qIDUxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIERpc3RhbmNlQmV0d2Vlbj1mdW5jdGlvbiBEaXN0YW5jZUJldHdlZW4oeDEseTEseDIseTIpe3ZhciBkeD14MS14Mjt2YXIgZHk9eTEteTI7cmV0dXJuIE1hdGguc3FydChkeCpkeCtkeSpkeSk7fTttb2R1bGUuZXhwb3J0cz1EaXN0YW5jZUJldHdlZW47LyoqKi99LC8qIDUyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUkdCU3RyaW5nVG9Db2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7dmFyIEhleFN0cmluZ1RvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXygxNTApO3ZhciBJbnRlZ2VyVG9Db2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSk7dmFyIFZhbHVlVG9Db2xvcj1mdW5jdGlvbiBWYWx1ZVRvQ29sb3IoaW5wdXQpe2lmKHR5cGVvZiBpbnB1dD09PSdzdHJpbmcnKXtpZihpbnB1dC5zdWJzdHIoMCwzKS50b0xvd2VyQ2FzZSgpPT09J3JnYicpe3JldHVybiBSR0JTdHJpbmdUb0NvbG9yKGlucHV0KTt9ZWxzZXtyZXR1cm4gSGV4U3RyaW5nVG9Db2xvcihpbnB1dCk7fX1lbHNlIGlmKHR5cGVvZiBpbnB1dD09PSdudW1iZXInKXtyZXR1cm4gSW50ZWdlclRvQ29sb3IoaW5wdXQpO319O21vZHVsZS5leHBvcnRzPVZhbHVlVG9Db2xvcjsvKioqL30sLyogNTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBPUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKTt2YXIgQnJvd3Nlcj17Ly8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXJvcmEgLSBTZXQgdG8gdHJ1ZSBpZiBydW5uaW5nIGluIEFyb3JhLlxuYXJvcmE6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2hyb21lIC0gU2V0IHRvIHRydWUgaWYgcnVubmluZyBpbiBDaHJvbWUuXG5jaHJvbWU6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7bnVtYmVyfSBjaHJvbWVWZXJzaW9uIC0gSWYgcnVubmluZyBpbiBDaHJvbWUgdGhpcyB3aWxsIGNvbnRhaW4gdGhlIG1ham9yIHZlcnNpb24gbnVtYmVyLlxuY2hyb21lVmVyc2lvbjowLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGVwaXBoYW55IC0gU2V0IHRvIHRydWUgaWYgcnVubmluZyBpbiBFcGlwaGFueS5cbmVwaXBoYW55OmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGZpcmVmb3ggLSBTZXQgdG8gdHJ1ZSBpZiBydW5uaW5nIGluIEZpcmVmb3guXG5maXJlZm94OmZhbHNlLC8vICBAcHJvcGVydHkge251bWJlcn0gZmlyZWZveFZlcnNpb24gLSBJZiBydW5uaW5nIGluIEZpcmVmb3ggdGhpcyB3aWxsIGNvbnRhaW4gdGhlIG1ham9yIHZlcnNpb24gbnVtYmVyLlxuZmlyZWZveFZlcnNpb246MCwvLyAgQHByb3BlcnR5IHtib29sZWFufSBtb2JpbGVTYWZhcmkgLSBTZXQgdG8gdHJ1ZSBpZiBydW5uaW5nIGluIE1vYmlsZSBTYWZhcmkuXG5tb2JpbGVTYWZhcmk6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaWUgLSBTZXQgdG8gdHJ1ZSBpZiBydW5uaW5nIGluIEludGVybmV0IEV4cGxvcmVyLlxuaWU6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZVZlcnNpb24gLSBJZiBydW5uaW5nIGluIEludGVybmV0IEV4cGxvcmVyIHRoaXMgd2lsbCBjb250YWluIHRoZSBtYWpvciB2ZXJzaW9uIG51bWJlci4gQmV5b25kIElFMTAgeW91IHNob3VsZCB1c2UgRGV2aWNlLnRyaWRlbnQgYW5kIERldmljZS50cmlkZW50VmVyc2lvbi5cbmllVmVyc2lvbjowLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IG1pZG9yaSAtIFNldCB0byB0cnVlIGlmIHJ1bm5pbmcgaW4gTWlkb3JpLlxubWlkb3JpOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IG9wZXJhIC0gU2V0IHRvIHRydWUgaWYgcnVubmluZyBpbiBPcGVyYS5cbm9wZXJhOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IHNhZmFyaSAtIFNldCB0byB0cnVlIGlmIHJ1bm5pbmcgaW4gU2FmYXJpLlxuc2FmYXJpOmZhbHNlLC8vICBAcHJvcGVydHkge251bWJlcn0gc2FmYXJpVmVyc2lvbiAtIElmIHJ1bm5pbmcgaW4gU2FmYXJpIHRoaXMgd2lsbCBjb250YWluIHRoZSBtYWpvciB2ZXJzaW9uIG51bWJlci5cbnNhZmFyaVZlcnNpb246MCwvLyAgQHByb3BlcnR5IHtib29sZWFufSB0cmlkZW50IC0gU2V0IHRvIHRydWUgaWYgcnVubmluZyBhIFRyaWRlbnQgdmVyc2lvbiBvZiBJbnRlcm5ldCBFeHBsb3JlciAoSUUxMSspXG50cmlkZW50OmZhbHNlLC8vICBAcHJvcGVydHkge251bWJlcn0gdHJpZGVudFZlcnNpb24gLSBJZiBydW5uaW5nIGluIEludGVybmV0IEV4cGxvcmVyIDExIHRoaXMgd2lsbCBjb250YWluIHRoZSBtYWpvciB2ZXJzaW9uIG51bWJlci4gU2VlIHtAbGluayBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvbXM1Mzc1MDModj12cy44NSkuYXNweH1cbnRyaWRlbnRWZXJzaW9uOjAsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZWRnZSAtIFNldCB0byB0cnVlIGlmIHJ1bm5pbmcgaW4gTWljcm9zb2Z0IEVkZ2UgYnJvd3Nlci5cbmVkZ2U6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gc2lsayAtIFNldCB0byB0cnVlIGlmIHJ1bm5pbmcgaW4gdGhlIFNpbGsgYnJvd3NlciAoYXMgdXNlZCBvbiB0aGUgQW1hem9uIEtpbmRsZSlcbnNpbGs6ZmFsc2V9O2Z1bmN0aW9uIGluaXQoKXt2YXIgdWE9bmF2aWdhdG9yLnVzZXJBZ2VudDtpZigvQXJvcmEvLnRlc3QodWEpKXtCcm93c2VyLmFyb3JhPXRydWU7fWVsc2UgaWYoL0VkZ2VcXC9cXGQrLy50ZXN0KHVhKSl7QnJvd3Nlci5lZGdlPXRydWU7fWVsc2UgaWYoL0Nocm9tZVxcLyhcXGQrKS8udGVzdCh1YSkmJiFPUy53aW5kb3dzUGhvbmUpe0Jyb3dzZXIuY2hyb21lPXRydWU7QnJvd3Nlci5jaHJvbWVWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMSwxMCk7fWVsc2UgaWYoL0VwaXBoYW55Ly50ZXN0KHVhKSl7QnJvd3Nlci5lcGlwaGFueT10cnVlO31lbHNlIGlmKC9GaXJlZm94XFxEKyhcXGQrKS8udGVzdCh1YSkpe0Jyb3dzZXIuZmlyZWZveD10cnVlO0Jyb3dzZXIuZmlyZWZveFZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQxLDEwKTt9ZWxzZSBpZigvQXBwbGVXZWJLaXQvLnRlc3QodWEpJiZPUy5pT1Mpe0Jyb3dzZXIubW9iaWxlU2FmYXJpPXRydWU7fWVsc2UgaWYoL01TSUUgKFxcZCtcXC5cXGQrKTsvLnRlc3QodWEpKXtCcm93c2VyLmllPXRydWU7QnJvd3Nlci5pZVZlcnNpb249cGFyc2VJbnQoUmVnRXhwLiQxLDEwKTt9ZWxzZSBpZigvTWlkb3JpLy50ZXN0KHVhKSl7QnJvd3Nlci5taWRvcmk9dHJ1ZTt9ZWxzZSBpZigvT3BlcmEvLnRlc3QodWEpKXtCcm93c2VyLm9wZXJhPXRydWU7fWVsc2UgaWYoL1NhZmFyaS8udGVzdCh1YSkmJiFPUy53aW5kb3dzUGhvbmUpe0Jyb3dzZXIuc2FmYXJpPXRydWU7fWVsc2UgaWYoL1RyaWRlbnRcXC8oXFxkK1xcLlxcZCspKC4qKXJ2OihcXGQrXFwuXFxkKykvLnRlc3QodWEpKXtCcm93c2VyLmllPXRydWU7QnJvd3Nlci50cmlkZW50PXRydWU7QnJvd3Nlci50cmlkZW50VmVyc2lvbj1wYXJzZUludChSZWdFeHAuJDEsMTApO0Jyb3dzZXIuaWVWZXJzaW9uPXBhcnNlSW50KFJlZ0V4cC4kMywxMCk7fS8vICBTaWxrIGdldHMgaXRzIG93biBpZiBjbGF1c2UgYmVjYXVzZSBpdHMgdWEgYWxzbyBjb250YWlucyAnU2FmYXJpJ1xuaWYoL1NpbGsvLnRlc3QodWEpKXtCcm93c2VyLnNpbGs9dHJ1ZTt9cmV0dXJuIEJyb3dzZXI7fW1vZHVsZS5leHBvcnRzPWluaXQoKTsvKioqL30sLyogNTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApOy8vIEEgU2V0IGlzIGEgY29sbGVjdGlvbiBvZiB1bmlxdWUgZWxlbWVudHMuXG52YXIgU2V0PW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBTZXQoZWxlbWVudHMpe3RoaXMuZW50cmllcz1bXTtpZihBcnJheS5pc0FycmF5KGVsZW1lbnRzKSl7Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXt0aGlzLnNldChlbGVtZW50c1tpXSk7fX19LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHRoaXMuZW50cmllcy5pbmRleE9mKHZhbHVlKT09PS0xKXt0aGlzLmVudHJpZXMucHVzaCh2YWx1ZSk7fXJldHVybiB0aGlzO30sZ2V0OmZ1bmN0aW9uIGdldChwcm9wZXJ0eSx2YWx1ZSl7Zm9yKHZhciBpPTA7aTx0aGlzLmVudHJpZXMubGVuZ3RoO2krKyl7dmFyIGVudHJ5PXRoaXMuZW50cmllc1tpXTtpZihlbnRyeVtwcm9wZXJ0eV09PT12YWx1ZSl7cmV0dXJuIGVudHJ5O319fSxnZXRBcnJheTpmdW5jdGlvbiBnZXRBcnJheSgpe3JldHVybiB0aGlzLmVudHJpZXMuc2xpY2UoMCk7fSxkZWxldGU6ZnVuY3Rpb24gX2RlbGV0ZSh2YWx1ZSl7dmFyIGluZGV4PXRoaXMuZW50cmllcy5pbmRleE9mKHZhbHVlKTtpZihpbmRleD4tMSl7dGhpcy5lbnRyaWVzLnNwbGljZShpbmRleCwxKTt9cmV0dXJuIHRoaXM7fSxkdW1wOmZ1bmN0aW9uIGR1bXAoKXtjb25zb2xlLmdyb3VwKCdTZXQnKTtmb3IodmFyIGk9MDtpPHRoaXMuZW50cmllcy5sZW5ndGg7aSsrKXt2YXIgZW50cnk9dGhpcy5lbnRyaWVzW2ldO2NvbnNvbGUubG9nKGVudHJ5KTt9Y29uc29sZS5ncm91cEVuZCgpO30sLy8gIEZvciB3aGVuIHlvdSBrbm93IHRoaXMgU2V0IHdpbGwgYmUgbW9kaWZpZWQgZHVyaW5nIHRoZSBpdGVyYXRpb25cbmVhY2g6ZnVuY3Rpb24gZWFjaChjYWxsYmFjayl7dmFyIHRlbXA9dGhpcy5lbnRyaWVzLnNsaWNlKCk7Zm9yKHZhciBpPTA7aTx0ZW1wLmxlbmd0aDtpKyspe2lmKGNhbGxiYWNrKHRlbXBbaV0pPT09ZmFsc2Upe2JyZWFrO319cmV0dXJuIHRoaXM7fSwvLyAgRm9yIHdoZW4geW91IGFic29sdXRlbHkga25vdyB0aGlzIFNldCB3b24ndCBiZSBtb2RpZmllZCBkdXJpbmcgdGhlIGl0ZXJhdGlvblxuaXRlcmF0ZTpmdW5jdGlvbiBpdGVyYXRlKGNhbGxiYWNrKXtmb3IodmFyIGk9MDtpPHRoaXMuZW50cmllcy5sZW5ndGg7aSsrKXtpZihjYWxsYmFjayh0aGlzLmVudHJpZXNbaV0saSk9PT1mYWxzZSl7YnJlYWs7fX1yZXR1cm4gdGhpczt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7dGhpcy5lbnRyaWVzLmxlbmd0aD0wO3JldHVybiB0aGlzO30sY29udGFpbnM6ZnVuY3Rpb24gY29udGFpbnModmFsdWUpe3JldHVybiB0aGlzLmVudHJpZXMuaW5kZXhPZih2YWx1ZSk+LTE7fSx1bmlvbjpmdW5jdGlvbiB1bmlvbihzZXQpe3ZhciBuZXdTZXQ9bmV3IFNldCgpO3NldC52YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSl7bmV3U2V0LmFkZCh2YWx1ZSk7fSk7dGhpcy5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpe25ld1NldC5hZGQodmFsdWUpO30pO3JldHVybiBuZXdTZXQ7fSxpbnRlcnNlY3Q6ZnVuY3Rpb24gaW50ZXJzZWN0KHNldCl7dmFyIG5ld1NldD1uZXcgU2V0KCk7dGhpcy5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpe2lmKHNldC5jb250YWlucyh2YWx1ZSkpe25ld1NldC5hZGQodmFsdWUpO319KTtyZXR1cm4gbmV3U2V0O30sZGlmZmVyZW5jZTpmdW5jdGlvbiBkaWZmZXJlbmNlKHNldCl7dmFyIG5ld1NldD1uZXcgU2V0KCk7dGhpcy5lbnRyaWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpe2lmKCFzZXQuY29udGFpbnModmFsdWUpKXtuZXdTZXQuYWRkKHZhbHVlKTt9fSk7cmV0dXJuIG5ld1NldDt9LHNpemU6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5lbnRyaWVzLmxlbmd0aDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3JldHVybiB0aGlzLmVudHJpZXMubGVuZ3RoPXZhbHVlO319fSk7bW9kdWxlLmV4cG9ydHM9U2V0Oy8qKiovfSwvKiA1NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg2KTt2YXIgQ29tcG9uZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO3ZhciBNZXNoUmVuZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTM4KTt2YXIgTWVzaD1uZXcgQ2xhc3Moe0V4dGVuZHM6R2FtZU9iamVjdCxNaXhpbnM6W0NvbXBvbmVudHMuQWxwaGEsQ29tcG9uZW50cy5CbGVuZE1vZGUsQ29tcG9uZW50cy5GbGlwLENvbXBvbmVudHMuR2V0Qm91bmRzLENvbXBvbmVudHMuT3JpZ2luLENvbXBvbmVudHMuUmVuZGVyVGFyZ2V0LENvbXBvbmVudHMuU2NhbGVNb2RlLENvbXBvbmVudHMuU2l6ZSxDb21wb25lbnRzLlRleHR1cmUsQ29tcG9uZW50cy5UcmFuc2Zvcm0sQ29tcG9uZW50cy5WaXNpYmxlLENvbXBvbmVudHMuU2Nyb2xsRmFjdG9yLE1lc2hSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gTWVzaChzY2VuZSx4LHksdmVydGljZXMsdXYsaW5kaWNlcyxjb2xvcnMsYWxwaGFzLHRleHR1cmUsZnJhbWUpe0dhbWVPYmplY3QuY2FsbCh0aGlzLHNjZW5lLCdNZXNoJyk7dGhpcy5zZXRUZXh0dXJlKHRleHR1cmUsZnJhbWUpO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLnNldFNpemVUb0ZyYW1lKCk7dGhpcy5zZXRPcmlnaW4oKTtpZih2ZXJ0aWNlcy5sZW5ndGghPT11di5sZW5ndGgpe3Rocm93IG5ldyBFcnJvcignUGhhc2VyOiBWZXJ0ZXggY291bnQgbXVzdCBtYXRjaCBVViBjb3VudCcpO312YXIgdmVydGljZXNVQj12ZXJ0aWNlcy5sZW5ndGgvMnwwO2lmKGNvbG9ycy5sZW5ndGg+MCYmY29sb3JzLmxlbmd0aDx2ZXJ0aWNlc1VCKXt0aHJvdyBuZXcgRXJyb3IoJ1BoYXNlcjogQ29sb3IgY291bnQgbXVzdCBtYXRjaCBWZXJ0ZXggY291bnQnKTt9aWYoYWxwaGFzLmxlbmd0aD4wJiZhbHBoYXMubGVuZ3RoPHZlcnRpY2VzVUIpe3Rocm93IG5ldyBFcnJvcignUGhhc2VyOiBBbHBoYSBjb3VudCBtdXN0IG1hdGNoIFZlcnRleCBjb3VudCcpO312YXIgaTtpZihjb2xvcnMubGVuZ3RoPT09MCl7Zm9yKGk9MDtpPHZlcnRpY2VzVUI7KytpKXtjb2xvcnNbaV09MHhGRkZGRkY7fX1pZihhbHBoYXMubGVuZ3RoPT09MCl7Zm9yKGk9MDtpPHZlcnRpY2VzVUI7KytpKXthbHBoYXNbaV09MS4wO319dGhpcy52ZXJ0aWNlcz1uZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKTt0aGlzLnV2PW5ldyBGbG9hdDMyQXJyYXkodXYpO3RoaXMuaW5kaWNlcz1uZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7dGhpcy5jb2xvcnM9bmV3IFVpbnQzMkFycmF5KGNvbG9ycyk7dGhpcy5hbHBoYXM9bmV3IEZsb2F0MzJBcnJheShhbHBoYXMpO319KTttb2R1bGUuZXhwb3J0cz1NZXNoOy8qKiovfSwvKiA1NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDb250YWlucz1mdW5jdGlvbiBDb250YWlucyhlbGxpcHNlLHgseSl7aWYoZWxsaXBzZS53aWR0aDw9MHx8ZWxsaXBzZS5oZWlnaHQ8PTApe3JldHVybiBmYWxzZTt9Ly8gIE5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwIGFuZCBhIHJhZGl1cyBvZiAwLjVcbnZhciBub3JteD0oeC1lbGxpcHNlLngpL2VsbGlwc2Uud2lkdGgtMC41O3ZhciBub3JteT0oeS1lbGxpcHNlLnkpL2VsbGlwc2UuaGVpZ2h0LTAuNTtub3JteCo9bm9ybXg7bm9ybXkqPW5vcm15O3JldHVybiBub3JteCtub3JteTwwLjI1O307bW9kdWxlLmV4cG9ydHM9Q29udGFpbnM7LyoqKi99LC8qIDU3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNvcnRTY2VuZXM9ZnVuY3Rpb24gU29ydFNjZW5lcyhzY2VuZUEsc2NlbmVCKXsvLyBjb25zb2xlLmxvZygnc29ydFNjZW5lcycsIHNjZW5lQS5zY2VuZS5zeXMuc2V0dGluZ3Mua2V5LCBzY2VuZUEuaW5kZXgsIHNjZW5lQi5zY2VuZS5zeXMuc2V0dGluZ3Mua2V5LCBzY2VuZUIuaW5kZXgpO1xuLy8gIFNvcnQgZGVzY2VuZGluZ1xuaWYoc2NlbmVBLmluZGV4PHNjZW5lQi5pbmRleCl7cmV0dXJuLTE7fWVsc2UgaWYoc2NlbmVBLmluZGV4PnNjZW5lQi5pbmRleCl7cmV0dXJuIDE7fWVsc2V7cmV0dXJuIDA7fX07bW9kdWxlLmV4cG9ydHM9U29ydFNjZW5lczsvKioqL30sLyogNTggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgVGhpcyBpcyBiYXNlZCBvZmYgYW4gZXhwbGFuYXRpb24gYW5kIGV4cGFuZGVkIG1hdGggcHJlc2VudGVkIGJ5IFBhdWwgQm91cmtlOlxuLy8gIFNlZSBodHRwOidsb2NhbC53YXNwLnV3YS5lZHUuYXUvfnBib3Vya2UvZ2VvbWV0cnkvbGluZWxpbmUyZC9cbnZhciBMaW5lVG9MaW5lPWZ1bmN0aW9uIExpbmVUb0xpbmUobGluZTEsbGluZTIsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD17eDowLHk6MH07fXZhciB4MT1saW5lMS54MTt2YXIgeTE9bGluZTEueTE7dmFyIHgyPWxpbmUxLngyO3ZhciB5Mj1saW5lMS55Mjt2YXIgeDM9bGluZTIueDE7dmFyIHkzPWxpbmUyLnkxO3ZhciB4ND1saW5lMi54Mjt2YXIgeTQ9bGluZTIueTI7dmFyIG51bUE9KHg0LXgzKSooeTEteTMpLSh5NC15MykqKHgxLXgzKTt2YXIgbnVtQj0oeDIteDEpKih5MS15MyktKHkyLXkxKSooeDEteDMpO3ZhciBkZU5vbT0oeTQteTMpKih4Mi14MSktKHg0LXgzKSooeTIteTEpOy8vICBNYWtlIHN1cmUgdGhlcmUgaXMgbm90IGEgZGl2aXNpb24gYnkgemVybyAtIHRoaXMgYWxzbyBpbmRpY2F0ZXMgdGhhdCB0aGUgbGluZXMgYXJlIHBhcmFsbGVsLlxuLy8gIElmIG51bUEgYW5kIG51bUIgd2VyZSBib3RoIGVxdWFsIHRvIHplcm8gdGhlIGxpbmVzIHdvdWxkIGJlIG9uIHRvcCBvZiBlYWNoIG90aGVyIChjb2luY2lkZW50YWwpLlxuLy8gIFRoaXMgY2hlY2sgaXMgbm90IGRvbmUgYmVjYXVzZSBpdCBpcyBub3QgbmVjZXNzYXJ5IGZvciB0aGlzIGltcGxlbWVudGF0aW9uICh0aGUgcGFyYWxsZWwgY2hlY2sgYWNjb3VudHMgZm9yIHRoaXMpLlxuaWYoZGVOb209PT0wKXtyZXR1cm4gZmFsc2U7fS8vICBDYWxjdWxhdGUgdGhlIGludGVybWVkaWF0ZSBmcmFjdGlvbmFsIHBvaW50IHRoYXQgdGhlIGxpbmVzIHBvdGVudGlhbGx5IGludGVyc2VjdC5cbnZhciB1QT1udW1BL2RlTm9tO3ZhciB1Qj1udW1CL2RlTm9tOy8vICBUaGUgZnJhY3Rpb25hbCBwb2ludCB3aWxsIGJlIGJldHdlZW4gMCBhbmQgMSBpbmNsdXNpdmUgaWYgdGhlIGxpbmVzIGludGVyc2VjdC5cbi8vICBJZiB0aGUgZnJhY3Rpb25hbCBjYWxjdWxhdGlvbiBpcyBsYXJnZXIgdGhhbiAxIG9yIHNtYWxsZXIgdGhhbiAwIHRoZSBsaW5lcyB3b3VsZCBuZWVkIHRvIGJlIGxvbmdlciB0byBpbnRlcnNlY3QuXG5pZih1QT49MCYmdUE8PTEmJnVCPj0wJiZ1Qjw9MSl7b3V0Lng9eDErdUEqKHgyLXgxKTtvdXQueT15MSt1QSooeTIteTEpO3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTttb2R1bGUuZXhwb3J0cz1MaW5lVG9MaW5lOy8qKiovfSwvKiA1OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIENvbGxpc2lvbiBUeXBlcyAtIERldGVybWluZSBpZiBhbmQgaG93IGVudGl0aWVzIGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyXG4vLyBJbiBBQ1RJVkUgdnMuIExJVEUgb3IgRklYRUQgdnMuIEFOWSBjb2xsaXNpb25zLCBvbmx5IHRoZSBcIndlYWtcIiBlbnRpdHkgbW92ZXMsXG4vLyB3aGlsZSB0aGUgb3RoZXIgb25lIHN0YXlzIGZpeGVkLiBJbiBBQ1RJVkUgdnMuIEFDVElWRSBhbmQgQUNUSVZFIHZzLiBQQVNTSVZFXG4vLyBjb2xsaXNpb25zLCBib3RoIGVudGl0aWVzIGFyZSBtb3ZlZC4gTElURSBvciBQQVNTSVZFIGVudGl0aWVzIGRvbid0IGNvbGxpZGVcbi8vIHdpdGggb3RoZXIgTElURSBvciBQQVNTSVZFIGVudGl0aWVzIGF0IGFsbC4gVGhlIGJlaGFpdmlvdXIgZm9yIEZJWEVEIHZzLlxuLy8gRklYRUQgY29sbGlzaW9ucyBpcyB1bmRlZmluZWQuXG5tb2R1bGUuZXhwb3J0cz17TkVWRVI6MCxMSVRFOjEsUEFTU0lWRToyLEFDVElWRTo0LEZJWEVEOjh9Oy8qKiovfSwvKiA2MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIElzUGxhaW5PYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5OCk7LyoqXG4qIFRoaXMgaXMgYSBzbGlnaHRseSBtb2RpZmllZCB2ZXJzaW9uIG9mIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuZXh0ZW5kL1xuKiBcbiogQG1ldGhvZCBQaGFzZXIuVXRpbHMuZXh0ZW5kXG4qIEBwYXJhbSB7Ym9vbGVhbn0gZGVlcCAtIFBlcmZvcm0gYSBkZWVwIGNvcHk/XG4qIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9iamVjdCB0byBjb3B5IHRvLlxuKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBleHRlbmRlZCBvYmplY3QuXG4qL3ZhciBFeHRlbmQ9ZnVuY3Rpb24gRXh0ZW5kKCl7dmFyIG9wdGlvbnMsbmFtZSxzcmMsY29weSxjb3B5SXNBcnJheSxjbG9uZSx0YXJnZXQ9YXJndW1lbnRzWzBdfHx7fSxpPTEsbGVuZ3RoPWFyZ3VtZW50cy5sZW5ndGgsZGVlcD1mYWxzZTsvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5pZih0eXBlb2YgdGFyZ2V0PT09XCJib29sZWFuXCIpe2RlZXA9dGFyZ2V0O3RhcmdldD1hcmd1bWVudHNbMV18fHt9Oy8vIHNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcbmk9Mjt9Ly8gZXh0ZW5kIFBoYXNlciBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcbmlmKGxlbmd0aD09PWkpe3RhcmdldD10aGlzOy0taTt9Zm9yKDtpPGxlbmd0aDtpKyspey8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcbmlmKChvcHRpb25zPWFyZ3VtZW50c1tpXSkhPW51bGwpey8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3RcbmZvcihuYW1lIGluIG9wdGlvbnMpe3NyYz10YXJnZXRbbmFtZV07Y29weT1vcHRpb25zW25hbWVdOy8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcbmlmKHRhcmdldD09PWNvcHkpe2NvbnRpbnVlO30vLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcbmlmKGRlZXAmJmNvcHkmJihJc1BsYWluT2JqZWN0KGNvcHkpfHwoY29weUlzQXJyYXk9QXJyYXkuaXNBcnJheShjb3B5KSkpKXtpZihjb3B5SXNBcnJheSl7Y29weUlzQXJyYXk9ZmFsc2U7Y2xvbmU9c3JjJiZBcnJheS5pc0FycmF5KHNyYyk/c3JjOltdO31lbHNle2Nsb25lPXNyYyYmSXNQbGFpbk9iamVjdChzcmMpP3NyYzp7fTt9Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG50YXJnZXRbbmFtZV09RXh0ZW5kKGRlZXAsY2xvbmUsY29weSk7Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xufWVsc2UgaWYoY29weSE9PXVuZGVmaW5lZCl7dGFyZ2V0W25hbWVdPWNvcHk7fX19fS8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5yZXR1cm4gdGFyZ2V0O307bW9kdWxlLmV4cG9ydHM9RXh0ZW5kOy8qKiovfSwvKiA2MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEJsZW5kTW9kZXM9X193ZWJwYWNrX3JlcXVpcmVfXygzMSk7dmFyIENpcmNsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTt2YXIgQ2lyY2xlQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXygzNik7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO3ZhciBSZWN0YW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxNCk7dmFyIFJlY3RhbmdsZUNvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oMjcpOy8vICBBIFpvbmUgaXMgYSBub24tcmVuZGVyaW5nIEdhbWUgT2JqZWN0IHRoYXQgaGFzIGEgcG9zaXRpb24gYW5kIHNpemUuXG4vLyAgSXQgaGFzIG5vIHRleHR1cmUgYW5kIG5ldmVyIHJlbmRlcnMsIGJ1dCBkb2VzIGxpdmUgb24gdGhlIGRpc3BsYXkgbGlzdCBhbmRcbi8vICBjYW4gYmUgbW92ZWQsIHNjYWxlZCBhbmQgcm90YXRlZCBsaWtlIGFueSBvdGhlciBHYW1lIE9iamVjdC5cbi8vICBUaGUgZGVmYXVsdCBvcmlnaW4gaXMgMC41LCB0aGUgY2VudGVyIG9mIHRoZSBab25lLCB0aGUgc2FtZSBhcyB3aXRoIEdhbWUgT2JqZWN0cy5cbi8vICBJdCdzIHVzZWZ1bCBmb3IgbGlua2luZyB0byBkcm9wIHpvbmVzIGFuZCBpbnB1dCBoaXQgYXJlYXMgYW5kIGhhcyBhIGNvdXBsZSBvZiBoZWxwZXIgbWV0aG9kcyBzcGVjaWZpY2FsbHkgZm9yIHRoaXMuXG4vLyAgQWxzbyB1c2VmdWwgZm9yIG9iamVjdCBvdmVybGFwIGNoZWNrcywgb3IgYXMgYSBiYXNlIGZvciB5b3VyIG93biBub24tZGlzcGxheWluZyBvYmplY3RzLlxudmFyIFpvbmU9bmV3IENsYXNzKHtFeHRlbmRzOkdhbWVPYmplY3QsTWl4aW5zOltDb21wb25lbnRzLkdldEJvdW5kcyxDb21wb25lbnRzLk9yaWdpbixDb21wb25lbnRzLlNjYWxlTW9kZSxDb21wb25lbnRzLlNpemUsQ29tcG9uZW50cy5UcmFuc2Zvcm0sQ29tcG9uZW50cy5TY3JvbGxGYWN0b3IsQ29tcG9uZW50cy5WaXNpYmxlXSxpbml0aWFsaXplOmZ1bmN0aW9uIFpvbmUoc2NlbmUseCx5LHdpZHRoLGhlaWdodCl7aWYod2lkdGg9PT11bmRlZmluZWQpe3dpZHRoPTE7fWlmKGhlaWdodD09PXVuZGVmaW5lZCl7aGVpZ2h0PXdpZHRoO31HYW1lT2JqZWN0LmNhbGwodGhpcyxzY2VuZSwnWm9uZScpO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLnNldFNpemUod2lkdGgsaGVpZ2h0KTt0aGlzLmJsZW5kTW9kZT1CbGVuZE1vZGVzLk5PUk1BTDt9LC8vICBDZW50ZXJlZCBvbiB0aGUgWm9uZXMgeC95XG5zZXRDaXJjbGVEcm9wWm9uZTpmdW5jdGlvbiBzZXRDaXJjbGVEcm9wWm9uZShyYWRpdXMpe3JldHVybiB0aGlzLnNldERyb3Bab25lKG5ldyBDaXJjbGUoMCwwLHJhZGl1cyksQ2lyY2xlQ29udGFpbnMpO30sLy8gIENlbnRlcmVkIG9uIHRoZSBab25lcyB4L3kgcG9zaXRpb25cbnNldFJlY3RhbmdsZURyb3Bab25lOmZ1bmN0aW9uIHNldFJlY3RhbmdsZURyb3Bab25lKHdpZHRoLGhlaWdodCl7dmFyIHg9LSh3aWR0aC8yKTt2YXIgeT0tKGhlaWdodC8yKTtyZXR1cm4gdGhpcy5zZXREcm9wWm9uZShuZXcgUmVjdGFuZ2xlKHgseSx3aWR0aCxoZWlnaHQpLFJlY3RhbmdsZUNvbnRhaW5zKTt9LC8vICBEZWZpbmUgeW91ciBvd24gc2hhcGUgYXMgdGhlIGRyb3Agem9uZVxuc2V0RHJvcFpvbmU6ZnVuY3Rpb24gc2V0RHJvcFpvbmUoc2hhcGUsY2FsbGJhY2spe2lmKHNoYXBlPT09dW5kZWZpbmVkKXt0aGlzLnNldFJlY3RhbmdsZURyb3Bab25lKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO31lbHNle2lmKCF0aGlzLmlucHV0KXt0aGlzLnNldEludGVyYWN0aXZlKHNoYXBlLGNhbGxiYWNrKTt9dGhpcy5pbnB1dC5kcm9wWm9uZT10cnVlO31yZXR1cm4gdGhpczt9LHJlbmRlckNhbnZhczpmdW5jdGlvbiByZW5kZXJDYW52YXMoKXtyZXR1cm47fSxyZW5kZXJXZWJHTDpmdW5jdGlvbiByZW5kZXJXZWJHTCgpe3JldHVybjt9fSk7bW9kdWxlLmV4cG9ydHM9Wm9uZTsvKioqL30sLyogNjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogVXNpbmcgQnJlc2VuaGFtJ3MgbGluZSBhbGdvcml0aG0gdGhpcyB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBhbGwgY29vcmRpbmF0ZXMgb24gdGhpcyBsaW5lLlxuKiBUaGUgc3RhcnQgYW5kIGVuZCBwb2ludHMgYXJlIHJvdW5kZWQgYmVmb3JlIHRoaXMgcnVucyBhcyB0aGUgYWxnb3JpdGhtIHdvcmtzIG9uIGludGVnZXJzLlxuKi92YXIgR2V0UG9pbnRzT25MaW5lPWZ1bmN0aW9uIEdldFBvaW50c09uTGluZShsaW5lLHN0ZXBSYXRlLHJlc3VsdHMpe2lmKHN0ZXBSYXRlPT09dW5kZWZpbmVkKXtzdGVwUmF0ZT0xO31pZihyZXN1bHRzPT09dW5kZWZpbmVkKXtyZXN1bHRzPVtdO312YXIgeDE9TWF0aC5yb3VuZChsaW5lLngxKTt2YXIgeTE9TWF0aC5yb3VuZChsaW5lLnkxKTt2YXIgeDI9TWF0aC5yb3VuZChsaW5lLngyKTt2YXIgeTI9TWF0aC5yb3VuZChsaW5lLnkyKTt2YXIgZHg9TWF0aC5hYnMoeDIteDEpO3ZhciBkeT1NYXRoLmFicyh5Mi15MSk7dmFyIHN4PXgxPHgyPzE6LTE7dmFyIHN5PXkxPHkyPzE6LTE7dmFyIGVycj1keC1keTtyZXN1bHRzLnB1c2goW3gxLHkxXSk7dmFyIGk9MTt3aGlsZSghKHgxPT09eDImJnkxPT09eTIpKXt2YXIgZTI9ZXJyPDwxO2lmKGUyPi1keSl7ZXJyLT1keTt4MSs9c3g7fWlmKGUyPGR4KXtlcnIrPWR4O3kxKz1zeTt9aWYoaSVzdGVwUmF0ZT09PTApe3Jlc3VsdHMucHVzaChbeDEseTFdKTt9aSsrO31yZXR1cm4gcmVzdWx0czt9O21vZHVsZS5leHBvcnRzPUdldFBvaW50c09uTGluZTsvKioqL30sLyogNjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgcCA9IFBvaW50IG9yIGFueSBvYmplY3Qgd2l0aCBwdWJsaWMgeC95IHByb3BlcnRpZXMsIHRoZSBpdGVtIHRvIGJlIHJvdGF0ZWRcbi8vICB4L3kgPSB0aGUgY29vcmRpbmF0ZSB0byByb3RhdGUgYXJvdW5kXG4vLyAgYW5nbGUgPSByYWRpYW5zXG4vLyAgZGlzdGFuY2UgPSBpbiBweFxudmFyIFJvdGF0ZUFyb3VuZERpc3RhbmNlPWZ1bmN0aW9uIFJvdGF0ZUFyb3VuZERpc3RhbmNlKHBvaW50LHgseSxhbmdsZSxkaXN0YW5jZSl7dmFyIHQ9YW5nbGUrTWF0aC5hdGFuMihwb2ludC55LXkscG9pbnQueC14KTtwb2ludC54PXgrZGlzdGFuY2UqTWF0aC5jb3ModCk7cG9pbnQueT15K2Rpc3RhbmNlKk1hdGguc2luKHQpO3JldHVybiBwb2ludDt9O21vZHVsZS5leHBvcnRzPVJvdGF0ZUFyb3VuZERpc3RhbmNlOy8qKiovfSwvKiA2NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBCcm93c2VyIHNwZWNpZmljIHByZWZpeCwgc28gbm90IGdvaW5nIHRvIGNoYW5nZSBiZXR3ZWVuIGNvbnRleHRzLCBvbmx5IGJldHdlZW4gYnJvd3NlcnNcbnZhciBwcmVmaXg9Jyc7dmFyIFNtb290aGluZz1mdW5jdGlvbiBTbW9vdGhpbmcoKXsvLyBHZXRzIHRoZSBTbW9vdGhpbmcgRW5hYmxlZCB2ZW5kb3IgcHJlZml4IGJlaW5nIHVzZWQgb24gdGhlIGdpdmVuIGNvbnRleHQsIG9yIG51bGwgaWYgbm90IHNldC5cbnZhciBnZXRQcmVmaXg9ZnVuY3Rpb24gZ2V0UHJlZml4KGNvbnRleHQpe3ZhciB2ZW5kb3JzPVsnaScsJ3dlYmtpdEknLCdtc0knLCdtb3pJJywnb0knXTtmb3IodmFyIGk9MDtpPHZlbmRvcnMubGVuZ3RoO2krKyl7dmFyIHM9dmVuZG9yc1tpXSsnbWFnZVNtb290aGluZ0VuYWJsZWQnO2lmKHMgaW4gY29udGV4dCl7cmV0dXJuIHM7fX1yZXR1cm4gbnVsbDt9Oy8qKlxuICAgICogU2V0cyB0aGUgSW1hZ2UgU21vb3RoaW5nIHByb3BlcnR5IG9uIHRoZSBnaXZlbiBjb250ZXh0LiBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSBpbWFnZSBzbW9vdGhpbmcuXG4gICAgKiBCeSBkZWZhdWx0IGJyb3dzZXJzIGhhdmUgaW1hZ2Ugc21vb3RoaW5nIGVuYWJsZWQsIHdoaWNoIGlzbid0IGFsd2F5cyB3aGF0IHlvdSB2aXN1YWxseSB3YW50LCBlc3BlY2lhbGx5XG4gICAgKiB3aGVuIHVzaW5nIHBpeGVsIGFydCBpbiBhIGdhbWUuIE5vdGUgdGhhdCB0aGlzIHNldHMgdGhlIHByb3BlcnR5IG9uIHRoZSBjb250ZXh0IGl0c2VsZiwgc28gdGhhdCBhbnkgaW1hZ2VcbiAgICAqIGRyYXduIHRvIHRoZSBjb250ZXh0IHdpbGwgYmUgYWZmZWN0ZWQuIFRoaXMgc2V0cyB0aGUgcHJvcGVydHkgYWNyb3NzIGFsbCBjdXJyZW50IGJyb3dzZXJzIGJ1dCBzdXBwb3J0IGlzXG4gICAgKiBwYXRjaHkgb24gZWFybGllciBicm93c2VycywgZXNwZWNpYWxseSBvbiBtb2JpbGUuXG4gICAgKi92YXIgZW5hYmxlPWZ1bmN0aW9uIGVuYWJsZShjb250ZXh0KXtpZihwcmVmaXg9PT0nJyl7cHJlZml4PWdldFByZWZpeChjb250ZXh0KTt9aWYocHJlZml4KXtjb250ZXh0W3ByZWZpeF09dHJ1ZTt9cmV0dXJuIGNvbnRleHQ7fTsvKipcbiAgICAqIFNldHMgdGhlIEltYWdlIFNtb290aGluZyBwcm9wZXJ0eSBvbiB0aGUgZ2l2ZW4gY29udGV4dC4gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgaW1hZ2Ugc21vb3RoaW5nLlxuICAgICogQnkgZGVmYXVsdCBicm93c2VycyBoYXZlIGltYWdlIHNtb290aGluZyBlbmFibGVkLCB3aGljaCBpc24ndCBhbHdheXMgd2hhdCB5b3UgdmlzdWFsbHkgd2FudCwgZXNwZWNpYWxseVxuICAgICogd2hlbiB1c2luZyBwaXhlbCBhcnQgaW4gYSBnYW1lLiBOb3RlIHRoYXQgdGhpcyBzZXRzIHRoZSBwcm9wZXJ0eSBvbiB0aGUgY29udGV4dCBpdHNlbGYsIHNvIHRoYXQgYW55IGltYWdlXG4gICAgKiBkcmF3biB0byB0aGUgY29udGV4dCB3aWxsIGJlIGFmZmVjdGVkLiBUaGlzIHNldHMgdGhlIHByb3BlcnR5IGFjcm9zcyBhbGwgY3VycmVudCBicm93c2VycyBidXQgc3VwcG9ydCBpc1xuICAgICogcGF0Y2h5IG9uIGVhcmxpZXIgYnJvd3NlcnMsIGVzcGVjaWFsbHkgb24gbW9iaWxlLlxuICAgICovdmFyIGRpc2FibGU9ZnVuY3Rpb24gZGlzYWJsZShjb250ZXh0KXtpZihwcmVmaXg9PT0nJyl7cHJlZml4PWdldFByZWZpeChjb250ZXh0KTt9aWYocHJlZml4KXtjb250ZXh0W3ByZWZpeF09ZmFsc2U7fXJldHVybiBjb250ZXh0O307LyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIGNvbnRleHQgaGFzIGltYWdlIHNtb290aGluZyBlbmFibGVkLCBvdGhlcndpc2UgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqIFJldHVybnMgbnVsbCBpZiBubyBzbW9vdGhpbmcgcHJlZml4IGlzIGF2YWlsYWJsZS5cbiAgICAgKi92YXIgaXNFbmFibGVkPWZ1bmN0aW9uIGlzRW5hYmxlZChjb250ZXh0KXtyZXR1cm4gcHJlZml4IT09bnVsbD9jb250ZXh0W3ByZWZpeF06bnVsbDt9O3JldHVybntkaXNhYmxlOmRpc2FibGUsZW5hYmxlOmVuYWJsZSxnZXRQcmVmaXg6Z2V0UHJlZml4LGlzRW5hYmxlZDppc0VuYWJsZWR9O307bW9kdWxlLmV4cG9ydHM9U21vb3RoaW5nKCk7LyoqKi99LC8qIDY1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENhbnZhc0ludGVycG9sYXRpb249ey8vICBTZXRzIHRoZSBDU1MgaW1hZ2UtcmVuZGVyaW5nIHByb3BlcnR5IG9uIHRoZSBnaXZlbiBjYW52YXMgdG8gYmUgJ2NyaXNwJyAoYWthICdvcHRpbWl6ZSBjb250cmFzdCcgb24gd2Via2l0KS5cbi8vICBOb3RlIHRoYXQgaWYgdGhpcyBkb2Vzbid0IGdpdmVuIHRoZSBkZXNpcmVkIHJlc3VsdCB0aGVuIHNlZSB0aGUgc2V0U21vb3RoaW5nRW5hYmxlZC5cbnNldENyaXNwOmZ1bmN0aW9uIHNldENyaXNwKGNhbnZhcyl7dmFyIHR5cGVzPVsnb3B0aW1pemVTcGVlZCcsJ2NyaXNwLWVkZ2VzJywnLW1vei1jcmlzcC1lZGdlcycsJy13ZWJraXQtb3B0aW1pemUtY29udHJhc3QnLCdvcHRpbWl6ZS1jb250cmFzdCcsJ3BpeGVsYXRlZCddO3R5cGVzLmZvckVhY2goZnVuY3Rpb24odHlwZSl7Y2FudmFzLnN0eWxlWydpbWFnZS1yZW5kZXJpbmcnXT10eXBlO30pO2NhbnZhcy5zdHlsZS5tc0ludGVycG9sYXRpb25Nb2RlPSduZWFyZXN0LW5laWdoYm9yJztyZXR1cm4gY2FudmFzO30sLy8gIFNldHMgdGhlIENTUyBpbWFnZS1yZW5kZXJpbmcgcHJvcGVydHkgb24gdGhlIGdpdmVuIGNhbnZhcyB0byBiZSAnYmljdWJpYycgKGFrYSAnYXV0bycpLlxuLy8gIE5vdGUgdGhhdCBpZiB0aGlzIGRvZXNuJ3QgZ2l2ZW4gdGhlIGRlc2lyZWQgcmVzdWx0IHRoZW4gc2VlIHRoZSBDYW52YXNVdGlscy5zZXRTbW9vdGhpbmdFbmFibGVkIG1ldGhvZC5cbnNldEJpY3ViaWM6ZnVuY3Rpb24gc2V0QmljdWJpYyhjYW52YXMpe2NhbnZhcy5zdHlsZVsnaW1hZ2UtcmVuZGVyaW5nJ109J2F1dG8nO2NhbnZhcy5zdHlsZS5tc0ludGVycG9sYXRpb25Nb2RlPSdiaWN1YmljJztyZXR1cm4gY2FudmFzO319O21vZHVsZS5leHBvcnRzPUNhbnZhc0ludGVycG9sYXRpb247LyoqKi99LC8qIDY2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUk5EPV9fd2VicGFja19yZXF1aXJlX18oMzI0KTttb2R1bGUuZXhwb3J0cz17Ly8gIENPTlNUcyAobWFrZXMgdGhlbSB2aXNpYmxlIHVuZGVyIFBoYXNlci5NYXRoKVxuUEkyOk1hdGguUEkqMixUQVU6TWF0aC5QSSowLjUsRVBTSUxPTjoxLjBlLTYsREVHX1RPX1JBRDpNYXRoLlBJLzE4MCxSQURfVE9fREVHOjE4MC9NYXRoLlBJLC8vICBDb2xsZWN0aW9ucyBvZiBmdW5jdGlvbnNcbkFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oMzI1KSxEaXN0YW5jZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDMzMyksRWFzaW5nOl9fd2VicGFja19yZXF1aXJlX18oMzM2KSxGdXp6eTpfX3dlYnBhY2tfcmVxdWlyZV9fKDMzNyksSW50ZXJwb2xhdGlvbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MyksUG93MjpfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NiksU25hcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDM0OSksLy8gIFJhbmRvbSBEYXRhIEdlbmVyYXRvclxuUk5EOm5ldyBSTkQoKSwvLyAgU2luZ2xlIGZ1bmN0aW9uc1xuQXZlcmFnZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MyksQmVybnN0ZWluOl9fd2VicGFja19yZXF1aXJlX18oMTQyKSxCZXR3ZWVuOl9fd2VicGFja19yZXF1aXJlX18oNjgpLENhdG11bGxSb206X193ZWJwYWNrX3JlcXVpcmVfXygxNDQpLENlaWxUbzpfX3dlYnBhY2tfcmVxdWlyZV9fKDM1NCksQ2xhbXA6X193ZWJwYWNrX3JlcXVpcmVfXyg0OSksRGVnVG9SYWQ6X193ZWJwYWNrX3JlcXVpcmVfXygzNTUpLERpZmZlcmVuY2U6X193ZWJwYWNrX3JlcXVpcmVfXygzNTYpLEZhY3RvcmlhbDpfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MyksRmxvYXRCZXR3ZWVuOl9fd2VicGFja19yZXF1aXJlX18oMzU3KSxGbG9vclRvOl9fd2VicGFja19yZXF1aXJlX18oMzU4KSxHZXRTcGVlZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDM1OSksSXNFdmVuOl9fd2VicGFja19yZXF1aXJlX18oMzYwKSxJc0V2ZW5TdHJpY3Q6X193ZWJwYWNrX3JlcXVpcmVfXygzNjEpLExpbmVhcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NiksTWF4QWRkOl9fd2VicGFja19yZXF1aXJlX18oMzYyKSxNaW5TdWI6X193ZWJwYWNrX3JlcXVpcmVfXygzNjMpLFBlcmNlbnQ6X193ZWJwYWNrX3JlcXVpcmVfXygzNjQpLFJhZFRvRGVnOl9fd2VicGFja19yZXF1aXJlX18oMzY1KSxSb3RhdGU6X193ZWJwYWNrX3JlcXVpcmVfXygzNjYpLFJvdGF0ZUFyb3VuZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDM2NyksUm90YXRlQXJvdW5kRGlzdGFuY2U6X193ZWJwYWNrX3JlcXVpcmVfXyg2MyksUm91bmRBd2F5RnJvbVplcm86X193ZWJwYWNrX3JlcXVpcmVfXygxNDcpLFJvdW5kVG86X193ZWJwYWNrX3JlcXVpcmVfXygzNjgpLFNpbkNvc1RhYmxlR2VuZXJhdG9yOl9fd2VicGFja19yZXF1aXJlX18oMzY5KSxTbW9vdGhlclN0ZXA6X193ZWJwYWNrX3JlcXVpcmVfXygxMjIpLFNtb290aFN0ZXA6X193ZWJwYWNrX3JlcXVpcmVfXygxMjMpLFdpdGhpbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDM3MCksV3JhcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDUwKX07LyoqKi99LC8qIDY3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZGltZW5zaW9ucyBtYWtlIGEgcG93ZXIgb2YgdHdvIHRleHR1cmUuXG4qIFxuKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gY2hlY2suXG4qIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIGNoZWNrLlxuKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBhIHBvd2VyIG9mIHR3by5cbiovdmFyIElzU2l6ZVBvd2VyT2ZUd289ZnVuY3Rpb24gSXNTaXplUG93ZXJPZlR3byh3aWR0aCxoZWlnaHQpe3JldHVybiB3aWR0aD4wJiYod2lkdGgmd2lkdGgtMSk9PT0wJiZoZWlnaHQ+MCYmKGhlaWdodCZoZWlnaHQtMSk9PT0wO307bW9kdWxlLmV4cG9ydHM9SXNTaXplUG93ZXJPZlR3bzsvKioqL30sLyogNjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQmV0d2Vlbj1mdW5jdGlvbiBCZXR3ZWVuKG1pbixtYXgpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKG1heC1taW4rMSkrbWluKTt9O21vZHVsZS5leHBvcnRzPUJldHdlZW47LyoqKi99LC8qIDY5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4gKiBHaXZlbiAzIGNvbG9yIHZhbHVlcyB0aGlzIHdpbGwgcmV0dXJuIGFuIGludGVnZXIgcmVwcmVzZW50YXRpb24gb2YgaXQuXG4gKi92YXIgR2V0Q29sb3I9ZnVuY3Rpb24gR2V0Q29sb3IocmVkLGdyZWVuLGJsdWUpe3JldHVybiByZWQ8PDE2fGdyZWVuPDw4fGJsdWU7fTttb2R1bGUuZXhwb3J0cz1HZXRDb2xvcjsvKioqL30sLyogNzAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogVGhpcyB3aWxsIHJldHVybiB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHNwZWNpZmllZCBkaXNwbGF5T2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBQb2ludGVyLlxuKi92YXIgR2V0VHJhbnNmb3JtZWRQb2ludD1mdW5jdGlvbiBHZXRUcmFuc2Zvcm1lZFBvaW50KG1hdHJpeCxnYW1lT2JqZWN0LHgseSxvdXRwdXQpe2lmKG91dHB1dD09PXVuZGVmaW5lZCl7b3V0cHV0PXt4OjAseTowfTt9bWF0cml4LmFwcGx5SVRSUyhnYW1lT2JqZWN0LngsZ2FtZU9iamVjdC55LC1nYW1lT2JqZWN0LnJvdGF0aW9uLGdhbWVPYmplY3Quc2NhbGVYLGdhbWVPYmplY3Quc2NhbGVZKTttYXRyaXguaW52ZXJ0KCk7cmV0dXJuIG1hdHJpeC50cmFuc2Zvcm1Qb2ludCh4LHksb3V0cHV0KTt9O21vZHVsZS5leHBvcnRzPUdldFRyYW5zZm9ybWVkUG9pbnQ7LyoqKi99LC8qIDcxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9e0JBQ0tTUEFDRTo4LFRBQjo5LEVOVEVSOjEzLFNISUZUOjE2LENUUkw6MTcsQUxUOjE4LFBBVVNFOjE5LENBUFNfTE9DSzoyMCxFU0M6MjcsU1BBQ0U6MzIsUEFHRV9VUDozMyxQQUdFX0RPV046MzQsRU5EOjM1LEhPTUU6MzYsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLFBSSU5UX1NDUkVFTjo0MixJTlNFUlQ6NDUsREVMRVRFOjQ2LFpFUk86NDgsT05FOjQ5LFRXTzo1MCxUSFJFRTo1MSxGT1VSOjUyLEZJVkU6NTMsU0lYOjU0LFNFVkVOOjU1LEVJR0hUOjU2LE5JTkU6NTcsQTo2NSxCOjY2LEM6NjcsRDo2OCxFOjY5LEY6NzAsRzo3MSxIOjcyLEk6NzMsSjo3NCxLOjc1LEw6NzYsTTo3NyxOOjc4LE86NzksUDo4MCxROjgxLFI6ODIsUzo4MyxUOjg0LFU6ODUsVjo4NixXOjg3LFg6ODgsWTo4OSxaOjkwLEYxOjExMixGMjoxMTMsRjM6MTE0LEY0OjExNSxGNToxMTYsRjY6MTE3LEY3OjExOCxGODoxMTksRjk6MTIwLEYxMDoxMjEsRjExOjEyMixGMTI6MTIzLFNFTUlDT0xPTjoxODYsUExVUzoxODcsQ09NTUE6MTg4LE1JTlVTOjE4OSxQRVJJT0Q6MTkwLEZPUldBRF9TTEFTSDoxOTEsQkFDS19TTEFTSDoyMjAsUVVPVEVTOjIyMn07LyoqKi99LC8qIDcyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmxpdHRlclJlbmRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUwOCk7dmFyIEJvYj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxMSk7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgRGlzcGxheUxpc3Q9X193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7LyoqXG4qIEEgQmxpdHRlciBHYW1lIE9iamVjdC5cbipcbiogVGhlIEJsaXR0ZXIgR2FtZSBPYmplY3QgaXMgYSBzcGVjaWFsIHR5cGUgb2YgQ29udGFpbmVyLCB0aGF0IGNvbnRhaW5zIEJsaXR0ZXIuQm9iIG9iamVjdHMuXG4qIFRoZXNlIG9iamVjdHMgY2FuIGJlIHRob3VnaHQgb2YgYXMganVzdCB0ZXh0dXJlIGZyYW1lcyB3aXRoIGEgcG9zaXRpb24gYW5kIG5vdGhpbmcgbW9yZS5cbiogQm9icyBkb24ndCBoYXZlIGFueSB1cGRhdGUgbWV0aG9kcywgb3IgdGhlIGFiaWxpdHkgdG8gaGF2ZSBjaGlsZHJlbiwgb3IgYW55IGtpbmQgb2Ygc3BlY2lhbCBlZmZlY3RzLlxuKiBUaGV5IGFyZSBlc3NlbnRpYWxseSBqdXN0IHN1cGVyLWZhc3QgdGV4dHVyZSBmcmFtZSByZW5kZXJlcnMsIGFuZCB0aGUgQmxpdHRlciBvYmplY3QgY3JlYXRlcyBhbmQgbWFuYWdlcyB0aGVtLlxuKi92YXIgQmxpdHRlcj1uZXcgQ2xhc3Moe0V4dGVuZHM6R2FtZU9iamVjdCxNaXhpbnM6W0NvbXBvbmVudHMuQWxwaGEsQ29tcG9uZW50cy5CbGVuZE1vZGUsQ29tcG9uZW50cy5SZW5kZXJUYXJnZXQsQ29tcG9uZW50cy5TY2FsZU1vZGUsQ29tcG9uZW50cy5TaXplLENvbXBvbmVudHMuVGV4dHVyZSxDb21wb25lbnRzLlRyYW5zZm9ybSxDb21wb25lbnRzLlZpc2libGUsQ29tcG9uZW50cy5TY3JvbGxGYWN0b3IsQmxpdHRlclJlbmRlcl0saW5pdGlhbGl6ZTpmdW5jdGlvbiBCbGl0dGVyKHNjZW5lLHgseSx0ZXh0dXJlLGZyYW1lKXtHYW1lT2JqZWN0LmNhbGwodGhpcyxzY2VuZSwnQmxpdHRlcicpO3RoaXMuc2V0VGV4dHVyZSh0ZXh0dXJlLGZyYW1lKTt0aGlzLnNldFBvc2l0aW9uKHgseSk7dGhpcy5jaGlsZHJlbj1uZXcgRGlzcGxheUxpc3QodGhpcyk7dGhpcy5yZW5kZXJMaXN0PVtdO3RoaXMuZGlydHk9ZmFsc2U7fSwvLyAgZnJhbWUgTVVTVCBiZSBwYXJ0IG9mIHRoZSBCbGl0dGVyIHRleHR1cmVcbmNyZWF0ZTpmdW5jdGlvbiBjcmVhdGUoeCx5LGZyYW1lLHZpc2libGUsaW5kZXgpe2lmKGZyYW1lPT09dW5kZWZpbmVkKXtmcmFtZT10aGlzLmZyYW1lO31pZih2aXNpYmxlPT09dW5kZWZpbmVkKXt2aXNpYmxlPXRydWU7fWlmKGluZGV4PT09dW5kZWZpbmVkKXtpbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aDt9aWYodHlwZW9mIGZyYW1lPT09J3N0cmluZycpe2ZyYW1lPXRoaXMudGV4dHVyZS5nZXQoZnJhbWUpO312YXIgYm9iPW5ldyBCb2IoeCx5LGZyYW1lLHZpc2libGUpO3RoaXMuY2hpbGRyZW4uYWRkQXQoYm9iLGluZGV4LGZhbHNlKTt0aGlzLmRpcnR5PXRydWU7cmV0dXJuIGJvYjt9LC8vICBmcmFtZSBNVVNUIGJlIHBhcnQgb2YgdGhlIEJsaXR0ZXIgdGV4dHVyZVxuY3JlYXRlRnJvbUNhbGxiYWNrOmZ1bmN0aW9uIGNyZWF0ZUZyb21DYWxsYmFjayhjYWxsYmFjayxxdWFudGl0eSxmcmFtZSx2aXNpYmxlKXt2YXIgYm9icz10aGlzLmNyZWF0ZU11bHRpcGxlKHF1YW50aXR5LGZyYW1lLHZpc2libGUpO2Zvcih2YXIgaT0wO2k8Ym9icy5sZW5ndGg7aSsrKXt2YXIgYm9iPWJvYnNbaV07Y2FsbGJhY2suY2FsbCh0aGlzLGJvYixpKTt9cmV0dXJuIGJvYnM7fSwvLyAgZnJhbWUgTVVTVCBiZSBwYXJ0IG9mIHRoZSBCbGl0dGVyIHRleHR1cmVcbmNyZWF0ZU11bHRpcGxlOmZ1bmN0aW9uIGNyZWF0ZU11bHRpcGxlKHF1YW50aXR5LGZyYW1lLHZpc2libGUpe2lmKGZyYW1lPT09dW5kZWZpbmVkKXtmcmFtZT10aGlzLmZyYW1lO31pZih2aXNpYmxlPT09dW5kZWZpbmVkKXt2aXNpYmxlPXRydWU7fWlmKCFBcnJheS5pc0FycmF5KGZyYW1lKSl7ZnJhbWU9W2ZyYW1lXTt9dmFyIGJvYnM9W107dmFyIF90aGlzPXRoaXM7ZnJhbWUuZm9yRWFjaChmdW5jdGlvbihzaW5nbGVGcmFtZSl7Zm9yKHZhciBpPTA7aTxxdWFudGl0eTtpKyspe2JvYnMucHVzaChfdGhpcy5jcmVhdGUoMCwwLHNpbmdsZUZyYW1lLHZpc2libGUpKTt9fSk7cmV0dXJuIGJvYnM7fSxjaGlsZENhblJlbmRlcjpmdW5jdGlvbiBjaGlsZENhblJlbmRlcihjaGlsZCl7cmV0dXJuIGNoaWxkLnZpc2libGUmJmNoaWxkLmFscGhhPjA7fSxnZXRSZW5kZXJMaXN0OmZ1bmN0aW9uIGdldFJlbmRlckxpc3QoKXtpZih0aGlzLmRpcnR5KXt0aGlzLnJlbmRlckxpc3Q9dGhpcy5jaGlsZHJlbi5saXN0LmZpbHRlcih0aGlzLmNoaWxkQ2FuUmVuZGVyLHRoaXMpO3RoaXMuZGlydHk9ZmFsc2U7fXJldHVybiB0aGlzLnJlbmRlckxpc3Q7fSxjbGVhcjpmdW5jdGlvbiBjbGVhcigpe3RoaXMuY2hpbGRyZW4ucmVtb3ZlQWxsKCk7dGhpcy5kaXJ0eT10cnVlO319KTttb2R1bGUuZXhwb3J0cz1CbGl0dGVyOy8qKiovfSwvKiA3MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg2KTt2YXIgQ29tcG9uZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO3ZhciBSZW5kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1MTMpO3ZhciBHZXRCaXRtYXBUZXh0U2l6ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7dmFyIER5bmFtaWNCaXRtYXBUZXh0PW5ldyBDbGFzcyh7RXh0ZW5kczpHYW1lT2JqZWN0LE1peGluczpbQ29tcG9uZW50cy5BbHBoYSxDb21wb25lbnRzLkJsZW5kTW9kZSxDb21wb25lbnRzLk9yaWdpbixDb21wb25lbnRzLlJlbmRlclRhcmdldCxDb21wb25lbnRzLlRleHR1cmUsQ29tcG9uZW50cy5UaW50LENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxDb21wb25lbnRzLlNjcm9sbEZhY3RvcixSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gRHluYW1pY0JpdG1hcFRleHQoc2NlbmUseCx5LGZvbnQsdGV4dCxzaXplKXtpZih0ZXh0PT09dW5kZWZpbmVkKXt0ZXh0PScnO31HYW1lT2JqZWN0LmNhbGwodGhpcyxzY2VuZSwnRHluYW1pY0JpdG1hcFRleHQnKTt0aGlzLmZvbnQ9Zm9udDt2YXIgZW50cnk9dGhpcy5zY2VuZS5zeXMuY2FjaGUuYml0bWFwRm9udC5nZXQoZm9udCk7dGhpcy5mb250RGF0YT1lbnRyeS5kYXRhO3RoaXMudGV4dD1BcnJheS5pc0FycmF5KHRleHQpP3RleHQuam9pbignXFxuJyk6dGV4dDt0aGlzLmZvbnRTaXplPXNpemV8fHRoaXMuZm9udERhdGEuc2l6ZTt0aGlzLnNldFRleHR1cmUoZW50cnkudGV4dHVyZSxlbnRyeS5mcmFtZSk7dGhpcy5zZXRQb3NpdGlvbih4LHkpO3RoaXMuc2V0T3JpZ2luKDAsMCk7dGhpcy5fYm91bmRzPXRoaXMuZ2V0VGV4dEJvdW5kcygpO3RoaXMuc2Nyb2xsWD0wO3RoaXMuc2Nyb2xsWT0wO3RoaXMud2lkdGg9MDt0aGlzLmhlaWdodD0wO3RoaXMuZGlzcGxheUNhbGxiYWNrO30sc2V0U2l6ZTpmdW5jdGlvbiBzZXRTaXplKHdpZHRoLGhlaWdodCl7dGhpcy53aWR0aD13aWR0aDt0aGlzLmhlaWdodD1oZWlnaHQ7cmV0dXJuIHRoaXM7fSxzZXREaXNwbGF5Q2FsbGJhY2s6ZnVuY3Rpb24gc2V0RGlzcGxheUNhbGxiYWNrKGNhbGxiYWNrKXt0aGlzLmRpc3BsYXlDYWxsYmFjaz1jYWxsYmFjaztyZXR1cm4gdGhpczt9LHNldEZvbnRTaXplOmZ1bmN0aW9uIHNldEZvbnRTaXplKHNpemUpe3RoaXMuZm9udFNpemU9c2l6ZTtyZXR1cm4gdGhpczt9LHNldFRleHQ6ZnVuY3Rpb24gc2V0VGV4dCh0ZXh0KXt0aGlzLnRleHQ9dGV4dDtyZXR1cm4gdGhpczt9LHNldFNjcm9sbFg6ZnVuY3Rpb24gc2V0U2Nyb2xsWCh2YWx1ZSl7dGhpcy5zY3JvbGxYPXZhbHVlO3JldHVybiB0aGlzO30sc2V0U2Nyb2xsWTpmdW5jdGlvbiBzZXRTY3JvbGxZKHZhbHVlKXt0aGlzLnNjcm9sbFk9dmFsdWU7cmV0dXJuIHRoaXM7fSwvLyB7XG4vLyAgICAgbG9jYWw6IHtcbi8vICAgICAgICAgeCxcbi8vICAgICAgICAgeSxcbi8vICAgICAgICAgd2lkdGgsXG4vLyAgICAgICAgIGhlaWdodFxuLy8gICAgIH0sXG4vLyAgICAgZ2xvYmFsOiB7XG4vLyAgICAgICAgIHgsXG4vLyAgICAgICAgIHksXG4vLyAgICAgICAgIHdpZHRoLFxuLy8gICAgICAgICBoZWlnaHRcbi8vICAgICB9XG4vLyB9XG5nZXRUZXh0Qm91bmRzOmZ1bmN0aW9uIGdldFRleHRCb3VuZHMoKXsvLyAgbG9jYWwgPSB0aGUgQml0bWFwVGV4dCBiYXNlZCBvbiBmb250U2l6ZSBhbmQgMHgwIGNvb3Jkc1xuLy8gIGdsb2JhbCA9IHRoZSBCaXRtYXBUZXh0LCB0YWtpbmcgaW50byBhY2NvdW50IHNjYWxlIGFuZCB3b3JsZCBwb3NpdGlvblxucmV0dXJuIEdldEJpdG1hcFRleHRTaXplKHRoaXMpO319KTttb2R1bGUuZXhwb3J0cz1EeW5hbWljQml0bWFwVGV4dDsvKioqL30sLyogNzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgVGlsZW1hcFJlbmRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxNyk7dmFyIFRpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg1MjApO3ZhciBUaWxlbWFwPW5ldyBDbGFzcyh7RXh0ZW5kczpHYW1lT2JqZWN0LE1peGluczpbQ29tcG9uZW50cy5BbHBoYSxDb21wb25lbnRzLkJsZW5kTW9kZSxDb21wb25lbnRzLkZsaXAsQ29tcG9uZW50cy5HZXRCb3VuZHMsQ29tcG9uZW50cy5PcmlnaW4sQ29tcG9uZW50cy5SZW5kZXJUYXJnZXQsQ29tcG9uZW50cy5TY2FsZU1vZGUsQ29tcG9uZW50cy5TaXplLENvbXBvbmVudHMuVGV4dHVyZSxDb21wb25lbnRzLlRyYW5zZm9ybSxDb21wb25lbnRzLlZpc2libGUsQ29tcG9uZW50cy5TY3JvbGxGYWN0b3IsVGlsZW1hcFJlbmRlcl0saW5pdGlhbGl6ZTpmdW5jdGlvbiBUaWxlbWFwKHNjZW5lLG1hcERhdGEseCx5LHRpbGVXaWR0aCx0aWxlSGVpZ2h0LG1hcFdpZHRoLG1hcEhlaWdodCx0aWxlQm9yZGVyLHRleHR1cmUsZnJhbWUpe0dhbWVPYmplY3QuY2FsbCh0aGlzLHNjZW5lLCdUaWxlbWFwJyk7dGhpcy5tYXBEYXRhPW1hcERhdGEhPT1udWxsP25ldyBVaW50MzJBcnJheShtYXBEYXRhKTpuZXcgVWludDMyQXJyYXkobWFwV2lkdGgqbWFwSGVpZ2h0KTt0aGlzLnRpbGVXaWR0aD10aWxlV2lkdGg7dGhpcy50aWxlSGVpZ2h0PXRpbGVIZWlnaHQ7dGhpcy5tYXBXaWR0aD1tYXBXaWR0aDt0aGlzLm1hcEhlaWdodD1tYXBIZWlnaHQ7dGhpcy50aWxlQXJyYXk9W107dGhpcy5jdWxsZWRUaWxlcz1bXTt0aGlzLnRpbGVCb3JkZXI9dGlsZUJvcmRlcjt0aGlzLnNldFRleHR1cmUodGV4dHVyZSxmcmFtZSk7dGhpcy5zZXRQb3NpdGlvbih4LHkpO3RoaXMuc2V0U2l6ZVRvRnJhbWUoKTt0aGlzLnNldE9yaWdpbigpO3RoaXMuc2V0U2l6ZSh0aWxlV2lkdGgqbWFwV2lkdGgsdGlsZUhlaWdodCptYXBIZWlnaHQpO3RoaXMuYnVpbGRUaWxlbWFwKCk7fSxnZXRUb3RhbFRpbGVDb3VudDpmdW5jdGlvbiBnZXRUb3RhbFRpbGVDb3VudCgpe3JldHVybiB0aGlzLnRpbGVBcnJheS5sZW5ndGg7fSxnZXRWaXNpYmxlVGlsZUNvdW50OmZ1bmN0aW9uIGdldFZpc2libGVUaWxlQ291bnQoY2FtZXJhKXtyZXR1cm4gdGhpcy5jdWxsKGNhbWVyYSkubGVuZ3RoO30sYnVpbGRUaWxlbWFwOmZ1bmN0aW9uIGJ1aWxkVGlsZW1hcCgpe3ZhciB0aWxlQXJyYXk9dGhpcy50aWxlQXJyYXk7dmFyIG1hcERhdGE9dGhpcy5tYXBEYXRhO3ZhciBib3JkZXI9dGhpcy50aWxlQm9yZGVyO3ZhciB0aWxlV2lkdGg9dGhpcy50aWxlV2lkdGg7dmFyIHRpbGVIZWlnaHQ9dGhpcy50aWxlSGVpZ2h0O3ZhciB0aWxlV2lkdGhCb3JkZXI9dGlsZVdpZHRoK2JvcmRlcioyO3ZhciB0aWxlSGVpZ2h0Qm9yZGVyPXRpbGVIZWlnaHQrYm9yZGVyKjI7dmFyIHdpZHRoPXRoaXMudGV4dHVyZS5zb3VyY2VbMF0ud2lkdGg7dmFyIGhlaWdodD10aGlzLnRleHR1cmUuc291cmNlWzBdLmhlaWdodDt2YXIgbWFwV2lkdGg9dGhpcy5tYXBXaWR0aDt2YXIgbWFwSGVpZ2h0PXRoaXMubWFwSGVpZ2h0O3ZhciBzZXRXaWR0aD13aWR0aC90aWxlV2lkdGg7dGlsZUFycmF5Lmxlbmd0aD0wO2Zvcih2YXIgeT0wO3k8bWFwSGVpZ2h0OysreSl7Zm9yKHZhciB4PTA7eDxtYXBXaWR0aDsrK3gpe3ZhciB0aWxlSWQ9bWFwRGF0YVt5Km1hcFdpZHRoK3hdO3ZhciBoYWxmVGlsZVdpZHRoPXRpbGVXaWR0aEJvcmRlciowLjU7dmFyIGhhbGZUaWxlSGVpZ2h0PXRpbGVIZWlnaHRCb3JkZXIqMC41O3ZhciByZWN0eD0odGlsZUlkJXNldFdpZHRofDApKnRpbGVXaWR0aEJvcmRlcitoYWxmVGlsZVdpZHRoO3ZhciByZWN0eT0odGlsZUlkL3NldFdpZHRofDApKnRpbGVIZWlnaHRCb3JkZXIraGFsZlRpbGVIZWlnaHQ7dmFyIHR4PXgqdGlsZVdpZHRoO3ZhciB0eT15KnRpbGVIZWlnaHQ7dGlsZUFycmF5LnB1c2gobmV3IFRpbGUoe2luZGV4OngreSxpZDp0aWxlSWQseDp0eCx5OnR5LHdpZHRoOnRpbGVXaWR0aCxoZWlnaHQ6dGlsZUhlaWdodCxmcmFtZVg6cmVjdHgsZnJhbWVZOnJlY3R5LGZyYW1lV2lkdGg6dGlsZVdpZHRoLGZyYW1lSGVpZ2h0OnRpbGVIZWlnaHQsdGV4dHVyZVdpZHRoOndpZHRoLHRleHR1cmVIZWlnaHQ6aGVpZ2h0LGJvcmRlcjpib3JkZXJ9KSk7fX19LGN1bGw6ZnVuY3Rpb24gY3VsbChjYW1lcmEpe3ZhciBjdWxsZWRUaWxlcz10aGlzLmN1bGxlZFRpbGVzO3ZhciB0aWxlcz10aGlzLnRpbGVBcnJheTt2YXIgbGVuZ3RoPXRpbGVzLmxlbmd0aDt2YXIgc2Nyb2xsWD1jYW1lcmEuc2Nyb2xsWCp0aGlzLnNjcm9sbEZhY3Rvclg7dmFyIHNjcm9sbFk9Y2FtZXJhLnNjcm9sbFkqdGhpcy5zY3JvbGxGYWN0b3JZO3ZhciBjYW1lcmFXPWNhbWVyYS53aWR0aDt2YXIgY2FtZXJhSD1jYW1lcmEuaGVpZ2h0O2N1bGxlZFRpbGVzLmxlbmd0aD0wO2Zvcih2YXIgaW5kZXg9MDtpbmRleDxsZW5ndGg7KytpbmRleCl7dmFyIHRpbGU9dGlsZXNbaW5kZXhdO3ZhciB0aWxlWD10aWxlLngtc2Nyb2xsWDt2YXIgdGlsZVk9dGlsZS55LXNjcm9sbFk7dmFyIHRpbGVXPXRpbGUud2lkdGg7dmFyIHRpbGVIPXRpbGUuaGVpZ2h0O3ZhciBjdWxsVz1jYW1lcmFXK3RpbGVXO3ZhciBjdWxsSD1jYW1lcmFIK3RpbGVIO2lmKHRpbGUudmlzaWJsZSYmdGlsZVg+LXRpbGVXJiZ0aWxlWT4tdGlsZUgmJnRpbGVYPGN1bGxXJiZ0aWxlWTxjdWxsSCl7Y3VsbGVkVGlsZXMucHVzaCh0aWxlKTt9fXJldHVybiBjdWxsZWRUaWxlczt9LGZvckVhY2g6ZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjayl7dGhpcy50aWxlQXJyYXkuZm9yRWFjaChjYWxsYmFjayk7fSwvLyAgUmV0dXJucyBPYmplY3QgY29udGFpbmluZzpcbi8vICB7XG4vLyAgICAgIGFscGhhXG4vLyAgICAgIGZyYW1lV2lkdGgsXG4vLyAgICAgIGZyYW1lSGVpZ2h0LFxuLy8gICAgICBmcmFtZVhcbi8vICAgICAgZnJhbWVZXG4vLyAgICAgIGlkXG4vLyAgICAgIGluZGV4ID0gdGhlIHRpbGUgaW4gdGhlIHRpbHNldCB0byByZW5kZXJcbi8vICAgICAgdGV4dHVyZVdpZHRoID0gdGlsZXNldCB0ZXh0dXJlIHNpemVcbi8vICAgICAgdGV4dHVyZUhlaWdodFxuLy8gICAgICB0aW50XG4vLyAgICAgIHZpc2libGVcbi8vICAgICAgd2lkdGhcbi8vICAgICAgeFxuLy8gICAgICB5XG4vLyAgfVxuZ2V0VGlsZUF0OmZ1bmN0aW9uIGdldFRpbGVBdCh4LHkpe3ZhciBpeD14fDA7dmFyIGl5PXl8MDt2YXIgdGlsZXM9dGhpcy50aWxlQXJyYXk7dmFyIGluZGV4PWl5KnRoaXMubWFwV2lkdGgraXg7aWYoaW5kZXg8dGlsZXMubGVuZ3RoKXtyZXR1cm4gdGlsZXNbaW5kZXhdO31yZXR1cm4gbnVsbDt9LGdldFRpbGVBdEluZGV4OmZ1bmN0aW9uIGdldFRpbGVBdEluZGV4KGluZGV4KXt2YXIgdGlsZXM9dGhpcy50aWxlQXJyYXk7aWYoaW5kZXg8dGlsZXMubGVuZ3RoKXtyZXR1cm4gdGlsZXNbaW5kZXhdO31yZXR1cm4gbnVsbDt9fSk7bW9kdWxlLmV4cG9ydHM9VGlsZW1hcDsvKioqL30sLyogNzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgUmVuZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTIyKTt2YXIgVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMzgpOy8vICBFZmZlY3RMYXllciByZW5kZXJzIGFsbCBlbGVtZW50cyBvbiB0aGUgbGF5ZXIgdG8gYW4gb2Zmc2NyZWVuIHJlbmRlciB0YXJnZXRcbi8vICBhbmQgdGhlbiB3aGVuIHJlbmRlcmluZyB0aGUgY29sb3IgYnVmZmVyIG9mIHRoYXQgcmVuZGVyIHRhcmdldCB0byB0aGUgbWFpbiBzY3JlZW5cbi8vICBpdCBhcHBsaWVzIHRoZSBlZmZlY3QgbGF5ZXIgc2hhZGVyLlxudmFyIEVmZmVjdExheWVyPW5ldyBDbGFzcyh7RXh0ZW5kczpHYW1lT2JqZWN0LE1peGluczpbQ29tcG9uZW50cy5BbHBoYSxDb21wb25lbnRzLkJsZW5kTW9kZSxDb21wb25lbnRzLkZsaXAsQ29tcG9uZW50cy5HZXRCb3VuZHMsQ29tcG9uZW50cy5PcmlnaW4sQ29tcG9uZW50cy5SZW5kZXJUYXJnZXQsQ29tcG9uZW50cy5TY2FsZU1vZGUsQ29tcG9uZW50cy5TaXplLENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxDb21wb25lbnRzLlNjcm9sbEZhY3RvcixSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gRWZmZWN0TGF5ZXIoc2NlbmUseCx5LHdpZHRoLGhlaWdodCxlZmZlY3ROYW1lLGZyYWdtZW50U2hhZGVyKXtHYW1lT2JqZWN0LmNhbGwodGhpcyxzY2VuZSwnRWZmZWN0TGF5ZXInKTt2YXIgcG90PSh3aWR0aCZ3aWR0aC0xKT09MCYmKGhlaWdodCZoZWlnaHQtMSk9PTA7dmFyIHJlc291cmNlTWFuYWdlcj1zY2VuZS5nYW1lLnJlbmRlcmVyLnJlc291cmNlTWFuYWdlcjt2YXIgd3JhcDt2YXIgZ2w7dGhpcy5kc3RSZW5kZXJUYXJnZXQ9bnVsbDt0aGlzLnJlbmRlclRleHR1cmU9bnVsbDt0aGlzLmRzdFNoYWRlcj1udWxsO3RoaXMudW5pZm9ybXM9e307aWYocmVzb3VyY2VNYW5hZ2VyIT09dW5kZWZpbmVkKXtnbD1zY2VuZS5nYW1lLnJlbmRlcmVyLmdsO3dyYXA9cG90P2dsLlJFUEVBVDpnbC5DTEFNUF9UT19FREdFO3RoaXMuZHN0U2hhZGVyPXJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoZWZmZWN0TmFtZSx7dmVydDpUZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXIudmVydCxmcmFnOmZyYWdtZW50U2hhZGVyfSk7dGhpcy5yZW5kZXJUZXh0dXJlPXJlc291cmNlTWFuYWdlci5jcmVhdGVUZXh0dXJlKDAsZ2wuTElORUFSLGdsLkxJTkVBUix3cmFwLHdyYXAsZ2wuUkdCQSxudWxsLHdpZHRoLGhlaWdodCk7dGhpcy5kc3RSZW5kZXJUYXJnZXQ9cmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVJlbmRlclRhcmdldCh3aWR0aCxoZWlnaHQsdGhpcy5yZW5kZXJUZXh0dXJlLG51bGwpO3NjZW5lLmdhbWUucmVuZGVyZXIuY3VycmVudFRleHR1cmVbMF09bnVsbDsvLyBmb3JjZSByZWJpbmRpbmcgb2YgcHJldiB0ZXh0dXJlXG59dGhpcy5mbGlwWT10cnVlO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLnNldFNpemUod2lkdGgsaGVpZ2h0KTt0aGlzLnNldE9yaWdpbigwLDApO30sc2V0Q2xlYXJBbHBoYTpmdW5jdGlvbiBzZXRDbGVhckFscGhhKGFscGhhKXtpZih0aGlzLmRzdFJlbmRlclRhcmdldCl7dGhpcy5kc3RSZW5kZXJUYXJnZXQuY2xlYXJBbHBoYT1hbHBoYTt9fSxyZW5kZXJPZmZTY3JlZW46ZnVuY3Rpb24gcmVuZGVyT2ZmU2NyZWVuKCl7dGhpcy5yZW5kZXJUYXJnZXQ9dGhpcy5kc3RSZW5kZXJUYXJnZXQ7fSxyZW5kZXJPblNjcmVlbjpmdW5jdGlvbiByZW5kZXJPblNjcmVlbigpe3RoaXMucmVuZGVyVGFyZ2V0PW51bGw7fSxhZGQ6ZnVuY3Rpb24gYWRkKGdhbWVPYmplY3Qpe2lmKGdhbWVPYmplY3QucmVuZGVyVGFyZ2V0IT09dW5kZWZpbmVkKXtnYW1lT2JqZWN0LnJlbmRlclRhcmdldD10aGlzLmRzdFJlbmRlclRhcmdldDt9fSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKGdhbWVPYmplY3Qpe2lmKGdhbWVPYmplY3QucmVuZGVyVGFyZ2V0IT09dW5kZWZpbmVkKXtnYW1lT2JqZWN0LnJlbmRlclRhcmdldD1udWxsO319LGdldFVuaWZvcm1Mb2NhdGlvbjpmdW5jdGlvbiBnZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpe3ZhciBkc3RTaGFkZXI9dGhpcy5kc3RTaGFkZXI7dmFyIHVuaWZvcm1zPXRoaXMudW5pZm9ybXM7dmFyIGxvY2F0aW9uO2lmKHVuaWZvcm1OYW1lIGluIHVuaWZvcm1zKXtsb2NhdGlvbj11bmlmb3Jtc1t1bmlmb3JtTmFtZV07fWVsc2V7bG9jYXRpb249ZHN0U2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSk7dW5pZm9ybXNbdW5pZm9ybU5hbWVdPWxvY2F0aW9uO31yZXR1cm4gbG9jYXRpb247fSxzZXRGbG9hdDpmdW5jdGlvbiBzZXRGbG9hdCh1bmlmb3JtTmFtZSx4KXt2YXIgZHN0U2hhZGVyPXRoaXMuZHN0U2hhZGVyO2lmKGRzdFNoYWRlcj09PW51bGwpe3JldHVybjt9ZHN0U2hhZGVyLnNldENvbnN0YW50RmxvYXQxKHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHVuaWZvcm1OYW1lKSx4KTt9LHNldEZsb2F0MjpmdW5jdGlvbiBzZXRGbG9hdDIodW5pZm9ybU5hbWUseCx5KXt2YXIgZHN0U2hhZGVyPXRoaXMuZHN0U2hhZGVyO2lmKGRzdFNoYWRlcj09PW51bGwpe3JldHVybjt9ZHN0U2hhZGVyLnNldENvbnN0YW50RmxvYXQyKHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHVuaWZvcm1OYW1lKSx4LHkpO30sc2V0RmxvYXQzOmZ1bmN0aW9uIHNldEZsb2F0Myh1bmlmb3JtTmFtZSx4LHkseil7dmFyIGRzdFNoYWRlcj10aGlzLmRzdFNoYWRlcjtpZihkc3RTaGFkZXI9PT1udWxsKXtyZXR1cm47fWRzdFNoYWRlci5zZXRDb25zdGFudEZsb2F0Myh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCx5LHopO30sc2V0RmxvYXQ0OmZ1bmN0aW9uIHNldEZsb2F0NCh1bmlmb3JtTmFtZSx4LHkseix3KXt2YXIgZHN0U2hhZGVyPXRoaXMuZHN0U2hhZGVyO2lmKGRzdFNoYWRlcj09PW51bGwpe3JldHVybjt9ZHN0U2hhZGVyLnNldENvbnN0YW50RmxvYXQ0KHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHVuaWZvcm1OYW1lKSx4LHkseix3KTt9LHNldEludDpmdW5jdGlvbiBzZXRJbnQodW5pZm9ybU5hbWUseCl7dmFyIGRzdFNoYWRlcj10aGlzLmRzdFNoYWRlcjtpZihkc3RTaGFkZXI9PT1udWxsKXtyZXR1cm47fWRzdFNoYWRlci5zZXRDb25zdGFudEludDEodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLHgpO30sc2V0SW50MjpmdW5jdGlvbiBzZXRJbnQyKHVuaWZvcm1OYW1lLHgseSl7dmFyIGRzdFNoYWRlcj10aGlzLmRzdFNoYWRlcjtpZihkc3RTaGFkZXI9PT1udWxsKXtyZXR1cm47fWRzdFNoYWRlci5zZXRDb25zdGFudEludDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLHgseSk7fSxzZXRJbnQzOmZ1bmN0aW9uIHNldEludDModW5pZm9ybU5hbWUseCx5LHope3ZhciBkc3RTaGFkZXI9dGhpcy5kc3RTaGFkZXI7aWYoZHN0U2hhZGVyPT09bnVsbCl7cmV0dXJuO31kc3RTaGFkZXIuc2V0Q29uc3RhbnRJbnQzKHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHVuaWZvcm1OYW1lKSx4LHkseik7fSxzZXRJbnQ0OmZ1bmN0aW9uIHNldEludDQodW5pZm9ybU5hbWUseCx5LHosdyl7dmFyIGRzdFNoYWRlcj10aGlzLmRzdFNoYWRlcjtpZihkc3RTaGFkZXI9PT1udWxsKXtyZXR1cm47fWRzdFNoYWRlci5zZXRDb25zdGFudEludDQodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLHgseSx6LHcpO30sc2V0TWF0cml4MngyOmZ1bmN0aW9uIHNldE1hdHJpeDJ4Mih1bmlmb3JtTmFtZSxtYXRyaXgpe3ZhciBkc3RTaGFkZXI9dGhpcy5kc3RTaGFkZXI7aWYoZHN0U2hhZGVyPT09bnVsbCl7cmV0dXJuO31kc3RTaGFkZXIuc2V0Q29uc3RhbnRNYXRyaXgyeDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLG1hdHJpeCk7fSxzZXRNYXRyaXgzeDM6ZnVuY3Rpb24gc2V0TWF0cml4M3gzKHVuaWZvcm1OYW1lLG1hdHJpeCl7dmFyIGRzdFNoYWRlcj10aGlzLmRzdFNoYWRlcjtpZihkc3RTaGFkZXI9PT1udWxsKXtyZXR1cm47fWRzdFNoYWRlci5zZXRDb25zdGFudE1hdHJpeDN4Myh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSksbWF0cml4KTt9LHNldE1hdHJpeDR4NDpmdW5jdGlvbiBzZXRNYXRyaXg0eDQodW5pZm9ybU5hbWUsbWF0cml4KXt2YXIgZHN0U2hhZGVyPXRoaXMuZHN0U2hhZGVyO2lmKGRzdFNoYWRlcj09PW51bGwpe3JldHVybjt9ZHN0U2hhZGVyLnNldENvbnN0YW50TWF0cml4NHg0KHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9uKHVuaWZvcm1OYW1lKSxtYXRyaXgpO319KTttb2R1bGUuZXhwb3J0cz1FZmZlY3RMYXllcjsvKioqL30sLyogNzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgUmVuZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTI2KTt2YXIgQ29tbWFuZHM9X193ZWJwYWNrX3JlcXVpcmVfXyg3Nyk7dmFyIE1BVEhfQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIENhbnZhc1Bvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7dmFyIENhbWVyYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7dmFyIEdyYXBoaWNzPW5ldyBDbGFzcyh7RXh0ZW5kczpHYW1lT2JqZWN0LE1peGluczpbQ29tcG9uZW50cy5BbHBoYSxDb21wb25lbnRzLkJsZW5kTW9kZSxDb21wb25lbnRzLlRyYW5zZm9ybSxDb21wb25lbnRzLlJlbmRlclRhcmdldCxDb21wb25lbnRzLlZpc2libGUsQ29tcG9uZW50cy5TY3JvbGxGYWN0b3IsUmVuZGVyXSxpbml0aWFsaXplOmZ1bmN0aW9uIEdyYXBoaWNzKHNjZW5lLG9wdGlvbnMpe3ZhciB4PUdldFZhbHVlKG9wdGlvbnMsJ3gnLDApO3ZhciB5PUdldFZhbHVlKG9wdGlvbnMsJ3knLDApO0dhbWVPYmplY3QuY2FsbCh0aGlzLHNjZW5lLCdHcmFwaGljcycpO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLmNvbW1hbmRCdWZmZXI9W107dGhpcy5kZWZhdWx0RmlsbENvbG9yPS0xO3RoaXMuZGVmYXVsdEZpbGxBbHBoYT0xO3RoaXMuZGVmYXVsdFN0cm9rZVdpZHRoPTE7dGhpcy5kZWZhdWx0U3Ryb2tlQ29sb3I9LTE7dGhpcy5kZWZhdWx0U3Ryb2tlQWxwaGE9MTt0aGlzLnNldERlZmF1bHRTdHlsZXMob3B0aW9ucyk7dmFyIHJlc291cmNlTWFuYWdlcj1zY2VuZS5nYW1lLnJlbmRlcmVyLnJlc291cmNlTWFuYWdlcjtpZihyZXNvdXJjZU1hbmFnZXIhPT11bmRlZmluZWQpe3RoaXMucmVzb3VyY2VNYW5hZ2VyPXJlc291cmNlTWFuYWdlcjt0aGlzLmdsPXNjZW5lLmdhbWUucmVuZGVyZXIuZ2w7fX0sLy8gIFNUWUxFU1xuc2V0RGVmYXVsdFN0eWxlczpmdW5jdGlvbiBzZXREZWZhdWx0U3R5bGVzKG9wdGlvbnMpe2lmKEdldFZhbHVlKG9wdGlvbnMsJ2xpbmVTdHlsZScsbnVsbCkpe3RoaXMuZGVmYXVsdFN0cm9rZVdpZHRoPUdldFZhbHVlKG9wdGlvbnMsJ2xpbmVTdHlsZS53aWR0aCcsMSk7dGhpcy5kZWZhdWx0U3Ryb2tlQ29sb3I9R2V0VmFsdWUob3B0aW9ucywnbGluZVN0eWxlLmNvbG9yJywweGZmZmZmZik7dGhpcy5kZWZhdWx0U3Ryb2tlQWxwaGE9R2V0VmFsdWUob3B0aW9ucywnbGluZVN0eWxlLmFscGhhJywxKTt0aGlzLmxpbmVTdHlsZSh0aGlzLmRlZmF1bHRTdHJva2VXaWR0aCx0aGlzLmRlZmF1bHRTdHJva2VDb2xvcix0aGlzLmRlZmF1bHRTdHJva2VBbHBoYSk7fWlmKEdldFZhbHVlKG9wdGlvbnMsJ2ZpbGxTdHlsZScsbnVsbCkpe3RoaXMuZGVmYXVsdEZpbGxDb2xvcj1HZXRWYWx1ZShvcHRpb25zLCdmaWxsU3R5bGUuY29sb3InLDB4ZmZmZmZmKTt0aGlzLmRlZmF1bHRGaWxsQWxwaGE9R2V0VmFsdWUob3B0aW9ucywnZmlsbFN0eWxlLmFscGhhJywxKTt0aGlzLmZpbGxTdHlsZSh0aGlzLmRlZmF1bHRGaWxsQ29sb3IsdGhpcy5kZWZhdWx0RmlsbEFscGhhKTt9cmV0dXJuIHRoaXM7fSxsaW5lU3R5bGU6ZnVuY3Rpb24gbGluZVN0eWxlKGxpbmVXaWR0aCxjb2xvcixhbHBoYSl7aWYoYWxwaGE9PT11bmRlZmluZWQpe2FscGhhPTE7fXRoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLkxJTkVfU1RZTEUsbGluZVdpZHRoLGNvbG9yLGFscGhhKTtyZXR1cm4gdGhpczt9LGZpbGxTdHlsZTpmdW5jdGlvbiBmaWxsU3R5bGUoY29sb3IsYWxwaGEpe2lmKGFscGhhPT09dW5kZWZpbmVkKXthbHBoYT0xO310aGlzLmNvbW1hbmRCdWZmZXIucHVzaChDb21tYW5kcy5GSUxMX1NUWUxFLGNvbG9yLGFscGhhKTtyZXR1cm4gdGhpczt9LC8vICBQQVRIXG5iZWdpblBhdGg6ZnVuY3Rpb24gYmVnaW5QYXRoKCl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuQkVHSU5fUEFUSCk7cmV0dXJuIHRoaXM7fSxjbG9zZVBhdGg6ZnVuY3Rpb24gY2xvc2VQYXRoKCl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuQ0xPU0VfUEFUSCk7cmV0dXJuIHRoaXM7fSxmaWxsUGF0aDpmdW5jdGlvbiBmaWxsUGF0aCgpe3RoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLkZJTExfUEFUSCk7cmV0dXJuIHRoaXM7fSxzdHJva2VQYXRoOmZ1bmN0aW9uIHN0cm9rZVBhdGgoKXt0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChDb21tYW5kcy5TVFJPS0VfUEFUSCk7cmV0dXJuIHRoaXM7fSwvLyAgQ0lSQ0xFXG5maWxsQ2lyY2xlU2hhcGU6ZnVuY3Rpb24gZmlsbENpcmNsZVNoYXBlKGNpcmNsZSl7cmV0dXJuIHRoaXMuZmlsbENpcmNsZShjaXJjbGUueCxjaXJjbGUueSxjaXJjbGUucmFkaXVzKTt9LHN0cm9rZUNpcmNsZVNoYXBlOmZ1bmN0aW9uIHN0cm9rZUNpcmNsZVNoYXBlKGNpcmNsZSl7cmV0dXJuIHRoaXMuc3Ryb2tlQ2lyY2xlKGNpcmNsZS54LGNpcmNsZS55LGNpcmNsZS5yYWRpdXMpO30sZmlsbENpcmNsZTpmdW5jdGlvbiBmaWxsQ2lyY2xlKHgseSxyYWRpdXMpe3RoaXMuYmVnaW5QYXRoKCk7dGhpcy5hcmMoeCx5LHJhZGl1cywwLE1BVEhfQ09OU1QuUEkyKTt0aGlzLmZpbGxQYXRoKCk7dGhpcy5jbG9zZVBhdGgoKTtyZXR1cm4gdGhpczt9LHN0cm9rZUNpcmNsZTpmdW5jdGlvbiBzdHJva2VDaXJjbGUoeCx5LHJhZGl1cyl7dGhpcy5iZWdpblBhdGgoKTt0aGlzLmFyYyh4LHkscmFkaXVzLDAsTUFUSF9DT05TVC5QSTIpO3RoaXMuY2xvc2VQYXRoKCk7dGhpcy5zdHJva2VQYXRoKCk7cmV0dXJuIHRoaXM7fSwvLyAgUkVDVEFOR0xFXG5maWxsUmVjdFNoYXBlOmZ1bmN0aW9uIGZpbGxSZWN0U2hhcGUocmVjdCl7cmV0dXJuIHRoaXMuZmlsbFJlY3QocmVjdC54LHJlY3QueSxyZWN0LndpZHRoLHJlY3QuaGVpZ2h0KTt9LHN0cm9rZVJlY3RTaGFwZTpmdW5jdGlvbiBzdHJva2VSZWN0U2hhcGUocmVjdCl7cmV0dXJuIHRoaXMuc3Ryb2tlUmVjdChyZWN0LngscmVjdC55LHJlY3Qud2lkdGgscmVjdC5oZWlnaHQpO30sZmlsbFJlY3Q6ZnVuY3Rpb24gZmlsbFJlY3QoeCx5LHdpZHRoLGhlaWdodCl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuRklMTF9SRUNULHgseSx3aWR0aCxoZWlnaHQpO3JldHVybiB0aGlzO30sc3Ryb2tlUmVjdDpmdW5jdGlvbiBzdHJva2VSZWN0KHgseSx3aWR0aCxoZWlnaHQpe3RoaXMuYmVnaW5QYXRoKCk7dGhpcy5tb3ZlVG8oeCx5KTt0aGlzLmxpbmVUbyh4K3dpZHRoLHkpO3RoaXMubGluZVRvKHgrd2lkdGgseStoZWlnaHQpO3RoaXMubGluZVRvKHgseStoZWlnaHQpO3RoaXMubGluZVRvKHgseSk7dGhpcy5zdHJva2VQYXRoKCk7dGhpcy5jbG9zZVBhdGgoKTtyZXR1cm4gdGhpczt9LC8vICBQT0lOVFxuZmlsbFBvaW50U2hhcGU6ZnVuY3Rpb24gZmlsbFBvaW50U2hhcGUocG9pbnQsc2l6ZSl7cmV0dXJuIHRoaXMuZmlsbFBvaW50KHBvaW50LngscG9pbnQueSxzaXplKTt9LGZpbGxQb2ludDpmdW5jdGlvbiBmaWxsUG9pbnQoeCx5LHNpemUpe3RoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLkZJTExfUkVDVCx4LHksc2l6ZSxzaXplKTtyZXR1cm4gdGhpczt9LC8vICBUUklBTkdMRVxuZmlsbFRyaWFuZ2xlU2hhcGU6ZnVuY3Rpb24gZmlsbFRyaWFuZ2xlU2hhcGUodHJpYW5nbGUpe3JldHVybiB0aGlzLmZpbGxUcmlhbmdsZSh0cmlhbmdsZS54MSx0cmlhbmdsZS55MSx0cmlhbmdsZS54Mix0cmlhbmdsZS55Mix0cmlhbmdsZS54Myx0cmlhbmdsZS55Myk7fSxzdHJva2VUcmlhbmdsZVNoYXBlOmZ1bmN0aW9uIHN0cm9rZVRyaWFuZ2xlU2hhcGUodHJpYW5nbGUpe3JldHVybiB0aGlzLnN0cm9rZVRyaWFuZ2xlKHRyaWFuZ2xlLngxLHRyaWFuZ2xlLnkxLHRyaWFuZ2xlLngyLHRyaWFuZ2xlLnkyLHRyaWFuZ2xlLngzLHRyaWFuZ2xlLnkzKTt9LGZpbGxUcmlhbmdsZTpmdW5jdGlvbiBmaWxsVHJpYW5nbGUoeDAseTAseDEseTEseDIseTIpe3RoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLkZJTExfVFJJQU5HTEUseDAseTAseDEseTEseDIseTIpO3JldHVybiB0aGlzO30sc3Ryb2tlVHJpYW5nbGU6ZnVuY3Rpb24gc3Ryb2tlVHJpYW5nbGUoeDAseTAseDEseTEseDIseTIpe3RoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLlNUUk9LRV9UUklBTkdMRSx4MCx5MCx4MSx5MSx4Mix5Mik7cmV0dXJuIHRoaXM7fSwvLyAgTElORVxuc3Ryb2tlTGluZVNoYXBlOmZ1bmN0aW9uIHN0cm9rZUxpbmVTaGFwZShsaW5lKXtyZXR1cm4gdGhpcy5saW5lQmV0d2VlbihsaW5lLngxLGxpbmUueTEsbGluZS54MixsaW5lLnkyKTt9LGxpbmVCZXR3ZWVuOmZ1bmN0aW9uIGxpbmVCZXR3ZWVuKHgxLHkxLHgyLHkyKXt0aGlzLmJlZ2luUGF0aCgpO3RoaXMubW92ZVRvKHgxLHkxKTt0aGlzLmxpbmVUbyh4Mix5Mik7dGhpcy5zdHJva2VQYXRoKCk7dGhpcy5jbG9zZVBhdGgoKTtyZXR1cm4gdGhpczt9LGxpbmVUbzpmdW5jdGlvbiBsaW5lVG8oeCx5KXt0aGlzLmNvbW1hbmRCdWZmZXIucHVzaChDb21tYW5kcy5MSU5FX1RPLHgseSk7cmV0dXJuIHRoaXM7fSxtb3ZlVG86ZnVuY3Rpb24gbW92ZVRvKHgseSl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuTU9WRV9UTyx4LHkpO3JldHVybiB0aGlzO30sbGluZUZ4VG86ZnVuY3Rpb24gbGluZUZ4VG8oeCx5LHdpZHRoLHJnYil7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuTElORV9GWF9UTyx4LHksd2lkdGgscmdiLDEpO3JldHVybiB0aGlzO30sbW92ZUZ4VG86ZnVuY3Rpb24gbW92ZUZ4VG8oeCx5LHdpZHRoLHJnYil7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuTU9WRV9GWF9UTyx4LHksd2lkdGgscmdiLDEpO3JldHVybiB0aGlzO30sLy8gIEFSQ1xuYXJjOmZ1bmN0aW9uIGFyYyh4LHkscmFkaXVzLHN0YXJ0QW5nbGUsZW5kQW5nbGUsYW50aWNsb2Nrd2lzZSl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuQVJDLHgseSxyYWRpdXMsc3RhcnRBbmdsZSxlbmRBbmdsZSxhbnRpY2xvY2t3aXNlKTtyZXR1cm4gdGhpczt9LHNhdmU6ZnVuY3Rpb24gc2F2ZSgpe3RoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLlNBVkUpO3JldHVybiB0aGlzO30scmVzdG9yZTpmdW5jdGlvbiByZXN0b3JlKCl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuUkVTVE9SRSk7cmV0dXJuIHRoaXM7fSx0cmFuc2xhdGU6ZnVuY3Rpb24gdHJhbnNsYXRlKHgseSl7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuVFJBTlNMQVRFLHgseSk7cmV0dXJuIHRoaXM7fSxzY2FsZTpmdW5jdGlvbiBzY2FsZSh4LHkpe3RoaXMuY29tbWFuZEJ1ZmZlci5wdXNoKENvbW1hbmRzLlNDQUxFLHgseSk7cmV0dXJuIHRoaXM7fSxyb3RhdGU6ZnVuY3Rpb24gcm90YXRlKHJhZGlhbil7dGhpcy5jb21tYW5kQnVmZmVyLnB1c2goQ29tbWFuZHMuUk9UQVRFLHJhZGlhbik7cmV0dXJuIHRoaXM7fSxjbGVhcjpmdW5jdGlvbiBjbGVhcigpe3RoaXMuY29tbWFuZEJ1ZmZlci5sZW5ndGg9MDtpZih0aGlzLmRlZmF1bHRGaWxsQ29sb3I+LTEpe3RoaXMuZmlsbFN0eWxlKHRoaXMuZGVmYXVsdEZpbGxDb2xvcix0aGlzLmRlZmF1bHRGaWxsQWxwaGEpO31pZih0aGlzLmRlZmF1bHRTdHJva2VDb2xvcj4tMSl7dGhpcy5saW5lU3R5bGUodGhpcy5kZWZhdWx0U3Ryb2tlV2lkdGgsdGhpcy5kZWZhdWx0U3Ryb2tlQ29sb3IsdGhpcy5kZWZhdWx0U3Ryb2tlQWxwaGEpO31yZXR1cm4gdGhpczt9LGdlbmVyYXRlVGV4dHVyZTpmdW5jdGlvbiBnZW5lcmF0ZVRleHR1cmUoa2V5LHdpZHRoLGhlaWdodCl7dmFyIHNjcmVlbldpZHRoPXRoaXMuc2NlbmUuZ2FtZS5jb25maWcud2lkdGg7dmFyIHNjcmVlbkhlaWdodD10aGlzLnNjZW5lLmdhbWUuY29uZmlnLmhlaWdodDt3aWR0aD10eXBlb2Ygd2lkdGg9PT0nbnVtYmVyJz93aWR0aDpzY3JlZW5XaWR0aDtoZWlnaHQ9dHlwZW9mIGhlaWdodD09PSdudW1iZXInP2hlaWdodDpzY3JlZW5IZWlnaHQ7R3JhcGhpY3MuVGFyZ2V0Q2FtZXJhLnNldFZpZXdwb3J0KDAsMCx3aWR0aCxoZWlnaHQpO0dyYXBoaWNzLlRhcmdldENhbWVyYS5zY3JvbGxYPXRoaXMueDtHcmFwaGljcy5UYXJnZXRDYW1lcmEuc2Nyb2xsWT10aGlzLnk7dmFyIHRleHR1cmU9dGhpcy5zY2VuZS5nYW1lLnRleHR1cmVzLmNyZWF0ZUNhbnZhcyhrZXksd2lkdGgsaGVpZ2h0KTt2YXIgY3R4PXRleHR1cmUuc291cmNlWzBdLmltYWdlLmdldENvbnRleHQoJzJkJyk7dGV4dHVyZS5hZGQoJ19fQkFTRScsMCwwLDAsd2lkdGgsaGVpZ2h0KTt0aGlzLnJlbmRlckNhbnZhcyh0aGlzLnNjZW5lLmdhbWUucmVuZGVyZXIsdGhpcywwLEdyYXBoaWNzLlRhcmdldENhbWVyYSxjdHgpO2lmKHRoaXMuZ2wpe3RoaXMuc2NlbmUuZ2FtZS5yZW5kZXJlci51cGxvYWRDYW52YXNUb0dQVShjdHguY2FudmFzLHRleHR1cmUuc291cmNlWzBdLmdsVGV4dHVyZSx0cnVlKTt9fX0pO0dyYXBoaWNzLlRhcmdldENhbWVyYT1uZXcgQ2FtZXJhKDAsMCwwLDApO21vZHVsZS5leHBvcnRzPUdyYXBoaWNzOy8qKiovfSwvKiA3NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXtBUkM6MCxCRUdJTl9QQVRIOjEsQ0xPU0VfUEFUSDoyLEZJTExfUkVDVDozLExJTkVfVE86NCxNT1ZFX1RPOjUsTElORV9TVFlMRTo2LEZJTExfU1RZTEU6NyxGSUxMX1BBVEg6OCxTVFJPS0VfUEFUSDo5LEZJTExfVFJJQU5HTEU6MTAsU1RST0tFX1RSSUFOR0xFOjExLExJTkVfRlhfVE86MTIsTU9WRV9GWF9UTzoxMyxTQVZFOjE0LFJFU1RPUkU6MTUsVFJBTlNMQVRFOjE2LFNDQUxFOjE3LFJPVEFURToxOH07LyoqKi99LC8qIDc4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgU2V0PV9fd2VicGFja19yZXF1aXJlX18oNTQpO3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBSYW5nZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7dmFyIEFjdGlvbnM9X193ZWJwYWNrX3JlcXVpcmVfXyg5OSk7dmFyIFNwcml0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTt2YXIgR3JvdXA9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEdyb3VwKHNjZW5lLGNoaWxkcmVuLGNvbmZpZyl7dGhpcy5zY2VuZT1zY2VuZTt0aGlzLmNoaWxkcmVuPW5ldyBTZXQoY2hpbGRyZW4pO3RoaXMuY2xhc3NUeXBlPVNwcml0ZTtpZihjb25maWcpe3RoaXMuY3JlYXRlTXVsdGlwbGUoY29uZmlnKTt9fSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKHRpbWUsZGVsdGEpey8vICBCZWNhdXNlIGEgR3JvdXAgY2hpbGQgbWF5IG1lc3Mgd2l0aCB0aGUgbGVuZ3RoIG9mIHRoZSBHcm91cCBkdXJpbmcgaXRzIHVwZGF0ZVxudmFyIHRlbXA9dGhpcy5jaGlsZHJlbi5lbnRyaWVzLnNsaWNlKCk7Zm9yKHZhciBpPTA7aTx0ZW1wLmxlbmd0aDtpKyspe2lmKHRlbXBbaV0udXBkYXRlKHRpbWUsZGVsdGEpPT09ZmFsc2Upe2JyZWFrO319fSwvLyAgR3JvdXAgbWFuYWdlbWVudCBtZXRob2RzOlxuYWRkOmZ1bmN0aW9uIGFkZChjaGlsZCl7dGhpcy5jaGlsZHJlbi5zZXQoY2hpbGQpO3JldHVybiB0aGlzO30sYWRkTXVsdGlwbGU6ZnVuY3Rpb24gYWRkTXVsdGlwbGUoY2hpbGRyZW4pe2lmKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKXtmb3IodmFyIGk9MDtpPGNoaWxkcmVuLmxlbmd0aDtpKyspe3RoaXMuY2hpbGRyZW4uc2V0KGNoaWxkcmVuW2ldKTt9fXJldHVybiB0aGlzO30sY3JlYXRlOmZ1bmN0aW9uIGNyZWF0ZSh4LHksa2V5LGZyYW1lLHZpc2libGUpe2lmKHZpc2libGU9PT11bmRlZmluZWQpe3Zpc2libGU9dHJ1ZTt9dmFyIGNoaWxkPW5ldyB0aGlzLmNsYXNzVHlwZSh0aGlzLnNjZW5lLHgseSxrZXksZnJhbWUpO3RoaXMuc2NlbmUuc3lzLmRpc3BsYXlMaXN0LmFkZChjaGlsZCk7aWYoY2hpbGQucHJlVXBkYXRlKXt0aGlzLnNjZW5lLnN5cy51cGRhdGVMaXN0LmFkZChjaGlsZCk7fWNoaWxkLnZpc2libGU9dmlzaWJsZTt0aGlzLmNoaWxkcmVuLnNldChjaGlsZCk7cmV0dXJuIGNoaWxkO30sY3JlYXRlRnJvbUNvbmZpZzpmdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnKG9wdGlvbnMpe3RoaXMuY2xhc3NUeXBlPUdldFZhbHVlKG9wdGlvbnMsJ2NsYXNzVHlwZScsdGhpcy5jbGFzc1R5cGUpO3ZhciBrZXk9R2V0VmFsdWUob3B0aW9ucywna2V5Jyx1bmRlZmluZWQpO3ZhciBmcmFtZT1HZXRWYWx1ZShvcHRpb25zLCdmcmFtZScsbnVsbCk7dmFyIHZpc2libGU9R2V0VmFsdWUob3B0aW9ucywndmlzaWJsZScsdHJ1ZSk7dmFyIGVudHJpZXM9W107Ly8gIENhbid0IGRvIGFueXRoaW5nIHdpdGhvdXQgYXQgbGVhc3QgYSBrZXlcbmlmKGtleT09PXVuZGVmaW5lZCl7cmV0dXJuIGVudHJpZXM7fWVsc2V7aWYoIUFycmF5LmlzQXJyYXkoa2V5KSl7a2V5PVtrZXldO31pZighQXJyYXkuaXNBcnJheShmcmFtZSkpe2ZyYW1lPVtmcmFtZV07fX0vLyAgQnVpbGQgYW4gYXJyYXkgb2Yga2V5IGZyYW1lIHBhaXJzIHRvIGxvb3AgdGhyb3VnaFxudmFyIHJlcGVhdD1HZXRWYWx1ZShvcHRpb25zLCdyZXBlYXQnLDApO3ZhciByYW5kb21LZXk9R2V0VmFsdWUob3B0aW9ucywncmFuZG9tS2V5JyxmYWxzZSk7dmFyIHJhbmRvbUZyYW1lPUdldFZhbHVlKG9wdGlvbnMsJ3JhbmRvbUZyYW1lJyxmYWxzZSk7dmFyIHlveW89R2V0VmFsdWUob3B0aW9ucywneW95bycsZmFsc2UpO3ZhciBxdWFudGl0eT1HZXRWYWx1ZShvcHRpb25zLCdmcmFtZVF1YW50aXR5JywxKTt2YXIgbWF4PUdldFZhbHVlKG9wdGlvbnMsJ21heCcsMCk7dmFyIHJhbmdlPVJhbmdlKGtleSxmcmFtZSx7bWF4Om1heCxxdHk6cXVhbnRpdHkscmFuZG9tOnJhbmRvbUtleSxyYW5kb21COnJhbmRvbUZyYW1lLHJlcGVhdDpyZXBlYXQseW95bzp5b3lvfSk7Zm9yKHZhciBjPTA7YzxyYW5nZS5sZW5ndGg7YysrKXtlbnRyaWVzLnB1c2godGhpcy5jcmVhdGUoMCwwLHJhbmdlW2NdLmEscmFuZ2VbY10uYix2aXNpYmxlKSk7fS8vICBQb3N0LWNyZWF0aW9uIG9wdGlvbnMgKGFwcGxpZWQgb25seSB0byB0aG9zZSBpdGVtcyBjcmVhdGVkIGluIHRoaXMgY2FsbCk6XG52YXIgeD1HZXRWYWx1ZShvcHRpb25zLCdzZXRYWS54JywwKTt2YXIgeT1HZXRWYWx1ZShvcHRpb25zLCdzZXRYWS55JywwKTt2YXIgc3RlcFg9R2V0VmFsdWUob3B0aW9ucywnc2V0WFkuc3RlcFgnLDApO3ZhciBzdGVwWT1HZXRWYWx1ZShvcHRpb25zLCdzZXRYWS5zdGVwWScsMCk7QWN0aW9ucy5TZXRYWShlbnRyaWVzLHgseSxzdGVwWCxzdGVwWSk7dmFyIHJvdGF0aW9uPUdldFZhbHVlKG9wdGlvbnMsJ3NldFJvdGF0aW9uLnZhbHVlJywwKTt2YXIgc3RlcFJvdGF0aW9uPUdldFZhbHVlKG9wdGlvbnMsJ3NldFJvdGF0aW9uLnN0ZXAnLDApO0FjdGlvbnMuU2V0Um90YXRpb24oZW50cmllcyxyb3RhdGlvbixzdGVwUm90YXRpb24pO3ZhciBzY2FsZVg9R2V0VmFsdWUob3B0aW9ucywnc2V0U2NhbGUueCcsMSk7dmFyIHNjYWxlWT1HZXRWYWx1ZShvcHRpb25zLCdzZXRTY2FsZS55JyxzY2FsZVgpO3ZhciBzdGVwU2NhbGVYPUdldFZhbHVlKG9wdGlvbnMsJ3NldFNjYWxlLnN0ZXBYJywwKTt2YXIgc3RlcFNjYWxlWT1HZXRWYWx1ZShvcHRpb25zLCdzZXRTY2FsZS5zdGVwWScsMCk7QWN0aW9ucy5TZXRTY2FsZShlbnRyaWVzLHNjYWxlWCxzY2FsZVksc3RlcFNjYWxlWCxzdGVwU2NhbGVZKTt2YXIgYWxwaGE9R2V0VmFsdWUob3B0aW9ucywnc2V0QWxwaGEudmFsdWUnLDEpO3ZhciBzdGVwQWxwaGE9R2V0VmFsdWUob3B0aW9ucywnc2V0QWxwaGEuc3RlcCcsMCk7QWN0aW9ucy5TZXRBbHBoYShlbnRyaWVzLGFscGhhLHN0ZXBBbHBoYSk7dmFyIGhpdEFyZWE9R2V0VmFsdWUob3B0aW9ucywnaGl0QXJlYScsbnVsbCk7dmFyIGhpdEFyZWFDYWxsYmFjaz1HZXRWYWx1ZShvcHRpb25zLCdoaXRBcmVhQ2FsbGJhY2snLG51bGwpO2lmKGhpdEFyZWEpe0FjdGlvbnMuU2V0SGl0QXJlYShlbnRyaWVzLGhpdEFyZWEsaGl0QXJlYUNhbGxiYWNrKTt9dmFyIGdyaWQ9R2V0VmFsdWUob3B0aW9ucywnZ3JpZEFsaWduJyxmYWxzZSk7aWYoZ3JpZCl7QWN0aW9ucy5HcmlkQWxpZ24oZW50cmllcyxncmlkKTt9cmV0dXJuIGVudHJpZXM7fSxjcmVhdGVNdWx0aXBsZTpmdW5jdGlvbiBjcmVhdGVNdWx0aXBsZShjb25maWcpe2lmKCFBcnJheS5pc0FycmF5KGNvbmZpZykpe2NvbmZpZz1bY29uZmlnXTt9dmFyIG91dHB1dD1bXTtmb3IodmFyIGk9MDtpPGNvbmZpZy5sZW5ndGg7aSsrKXt2YXIgZW50cmllcz10aGlzLmNyZWF0ZUZyb21Db25maWcoY29uZmlnW2ldKTtvdXRwdXQ9b3V0cHV0LmNvbmNhdChlbnRyaWVzKTt9cmV0dXJuIG91dHB1dDt9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoY2hpbGQpe3RoaXMuY2hpbGRyZW4uZGVsZXRlKGNoaWxkKTtyZXR1cm4gdGhpczt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7dGhpcy5jaGlsZHJlbi5jbGVhcigpO3JldHVybiB0aGlzO30sZ2V0Q2hpbGRyZW46ZnVuY3Rpb24gZ2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbi5lbnRyaWVzO30sZ2V0TGVuZ3RoOmZ1bmN0aW9uIGdldExlbmd0aCgpe3JldHVybiB0aGlzLmNoaWxkcmVuLnNpemU7fSxnZXRGaXJzdDpmdW5jdGlvbiBnZXRGaXJzdChjb21wYXJlLGluZGV4KXtpZihpbmRleD09PXVuZGVmaW5lZCl7aW5kZXg9MDt9cmV0dXJuIEFjdGlvbnMuR2V0Rmlyc3QodGhpcy5jaGlsZHJlbi5lbnRyaWVzLGNvbXBhcmUsaW5kZXgpO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5jaGlsZHJlbi5jbGVhcigpO3RoaXMuc2NlbmU9dW5kZWZpbmVkO3RoaXMuY2hpbGRyZW49dW5kZWZpbmVkO30sLy8gIENoaWxkIHJlbGF0ZWQgbWV0aG9kc1xuYW5nbGU6ZnVuY3Rpb24gYW5nbGUodmFsdWUpe0FjdGlvbnMuQW5nbGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHZhbHVlKTtyZXR1cm4gdGhpczt9LGdyaWRBbGlnbjpmdW5jdGlvbiBncmlkQWxpZ24ob3B0aW9ucyl7QWN0aW9ucy5HcmlkQWxpZ24odGhpcy5jaGlsZHJlbi5lbnRyaWVzLG9wdGlvbnMpO3JldHVybiB0aGlzO30saW5jQWxwaGE6ZnVuY3Rpb24gaW5jQWxwaGEodmFsdWUsc3RlcCl7QWN0aW9ucy5JbmNBbHBoYSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdmFsdWUsc3RlcCk7cmV0dXJuIHRoaXM7fSxpbmNYOmZ1bmN0aW9uIGluY1godmFsdWUpe0FjdGlvbnMuSW5jWCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdmFsdWUpO3JldHVybiB0aGlzO30saW5jWFk6ZnVuY3Rpb24gaW5jWFkoeCx5KXtBY3Rpb25zLkluY1hZKHRoaXMuY2hpbGRyZW4uZW50cmllcyx4LHkpO3JldHVybiB0aGlzO30saW5jWTpmdW5jdGlvbiBpbmNZKHZhbHVlKXtBY3Rpb25zLkluY1kodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHZhbHVlKTtyZXR1cm4gdGhpczt9LHBsYWNlT25DaXJjbGU6ZnVuY3Rpb24gcGxhY2VPbkNpcmNsZShjaXJjbGUsc3RhcnRBbmdsZSxlbmRBbmdsZSl7QWN0aW9ucy5QbGFjZU9uQ2lyY2xlKHRoaXMuY2hpbGRyZW4uZW50cmllcyxjaXJjbGUsc3RhcnRBbmdsZSxlbmRBbmdsZSk7cmV0dXJuIHRoaXM7fSxwbGFjZU9uRWxsaXBzZTpmdW5jdGlvbiBwbGFjZU9uRWxsaXBzZShlbGxpcHNlLHN0YXJ0QW5nbGUsZW5kQW5nbGUpe0FjdGlvbnMuUGxhY2VPbkVsbGlwc2UodGhpcy5jaGlsZHJlbi5lbnRyaWVzLGVsbGlwc2Usc3RhcnRBbmdsZSxlbmRBbmdsZSk7cmV0dXJuIHRoaXM7fSxwbGFjZU9uTGluZTpmdW5jdGlvbiBwbGFjZU9uTGluZShsaW5lKXtBY3Rpb25zLlBsYWNlT25MaW5lKHRoaXMuY2hpbGRyZW4uZW50cmllcyxsaW5lKTtyZXR1cm4gdGhpczt9LHBsYWNlT25SZWN0YW5nbGU6ZnVuY3Rpb24gcGxhY2VPblJlY3RhbmdsZShyZWN0LHNoaWZ0KXtBY3Rpb25zLlBsYWNlT25SZWN0YW5nbGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHJlY3Qsc2hpZnQpO3JldHVybiB0aGlzO30scGxhY2VPblRyaWFuZ2xlOmZ1bmN0aW9uIHBsYWNlT25UcmlhbmdsZSh0cmlhbmdsZSxzdGVwUmF0ZSl7QWN0aW9ucy5QbGFjZU9uVHJpYW5nbGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHRyaWFuZ2xlLHN0ZXBSYXRlKTtyZXR1cm4gdGhpczt9LHBsYXlBbmltYXRpb246ZnVuY3Rpb24gcGxheUFuaW1hdGlvbihrZXksc3RhcnRGcmFtZSl7QWN0aW9ucy5QbGF5QW5pbWF0aW9uKHRoaXMuY2hpbGRyZW4uZW50cmllcyxrZXksc3RhcnRGcmFtZSk7cmV0dXJuIHRoaXM7fSxyYW5kb21DaXJjbGU6ZnVuY3Rpb24gcmFuZG9tQ2lyY2xlKGNpcmNsZSl7QWN0aW9ucy5SYW5kb21DaXJjbGUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLGNpcmNsZSk7cmV0dXJuIHRoaXM7fSxyYW5kb21FbGxpcHNlOmZ1bmN0aW9uIHJhbmRvbUVsbGlwc2UoZWxsaXBzZSl7QWN0aW9ucy5SYW5kb21FbGxpcHNlKHRoaXMuY2hpbGRyZW4uZW50cmllcyxlbGxpcHNlKTtyZXR1cm4gdGhpczt9LHJhbmRvbUxpbmU6ZnVuY3Rpb24gcmFuZG9tTGluZShsaW5lKXtBY3Rpb25zLlJhbmRvbUxpbmUodGhpcy5jaGlsZHJlbi5lbnRyaWVzLGxpbmUpO3JldHVybiB0aGlzO30scmFuZG9tUmVjdGFuZ2xlOmZ1bmN0aW9uIHJhbmRvbVJlY3RhbmdsZShyZWN0KXtBY3Rpb25zLlJhbmRvbVJlY3RhbmdsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMscmVjdCk7cmV0dXJuIHRoaXM7fSxyYW5kb21UcmlhbmdsZTpmdW5jdGlvbiByYW5kb21UcmlhbmdsZSh0cmlhbmdsZSl7QWN0aW9ucy5SYW5kb21UcmlhbmdsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdHJpYW5nbGUpO3JldHVybiB0aGlzO30scm90YXRlOmZ1bmN0aW9uIHJvdGF0ZSh2YWx1ZSxzdGVwKXtBY3Rpb25zLlJvdGF0ZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdmFsdWUsc3RlcCk7cmV0dXJuIHRoaXM7fSxyb3RhdGVBcm91bmQ6ZnVuY3Rpb24gcm90YXRlQXJvdW5kKHBvaW50LGFuZ2xlKXtBY3Rpb25zLlJvdGF0ZUFyb3VuZCh0aGlzLmNoaWxkcmVuLmVudHJpZXMscG9pbnQsYW5nbGUpO3JldHVybiB0aGlzO30scm90YXRlQXJvdW5kRGlzdGFuY2U6ZnVuY3Rpb24gcm90YXRlQXJvdW5kRGlzdGFuY2UocG9pbnQsYW5nbGUsZGlzdGFuY2Upe0FjdGlvbnMuUm90YXRlQXJvdW5kRGlzdGFuY2UodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHBvaW50LGFuZ2xlLGRpc3RhbmNlKTtyZXR1cm4gdGhpczt9LHNldEFscGhhOmZ1bmN0aW9uIHNldEFscGhhKHZhbHVlLHN0ZXApe0FjdGlvbnMuU2V0QWxwaGEodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHZhbHVlLHN0ZXApO3JldHVybiB0aGlzO30sc2V0T3JpZ2luOmZ1bmN0aW9uIHNldE9yaWdpbih4LHkpe0FjdGlvbnMuU2V0T3JpZ2luKHRoaXMuY2hpbGRyZW4uZW50cmllcyx4LHkpO3JldHVybiB0aGlzO30sc2NhbGVYOmZ1bmN0aW9uIHNjYWxlWCh2YWx1ZSl7QWN0aW9ucy5TY2FsZVgodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHZhbHVlKTtyZXR1cm4gdGhpczt9LHNjYWxlWFk6ZnVuY3Rpb24gc2NhbGVYWSh4LHkpe0FjdGlvbnMuU2NhbGVYWSh0aGlzLmNoaWxkcmVuLmVudHJpZXMseCx5KTtyZXR1cm4gdGhpczt9LHNjYWxlWTpmdW5jdGlvbiBzY2FsZVkodmFsdWUpe0FjdGlvbnMuU2NhbGVZKHRoaXMuY2hpbGRyZW4uZW50cmllcyx2YWx1ZSk7cmV0dXJuIHRoaXM7fSxzZXRSb3RhdGlvbjpmdW5jdGlvbiBzZXRSb3RhdGlvbih2YWx1ZSxzdGVwKXtBY3Rpb25zLlNldFJvdGF0aW9uKHRoaXMuY2hpbGRyZW4uZW50cmllcyx2YWx1ZSxzdGVwKTtyZXR1cm4gdGhpczt9LHNldFNjYWxlOmZ1bmN0aW9uIHNldFNjYWxlKHgseSxzdGVwWCxzdGVwWSl7QWN0aW9ucy5TZXRTY2FsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMseCx5LHN0ZXBYLHN0ZXBZKTtyZXR1cm4gdGhpczt9LHNldFNjYWxlWDpmdW5jdGlvbiBzZXRTY2FsZVgodmFsdWUsc3RlcCl7QWN0aW9ucy5TZXRTY2FsZVgodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHZhbHVlLHN0ZXApO3JldHVybiB0aGlzO30sc2V0U2NhbGVZOmZ1bmN0aW9uIHNldFNjYWxlWSh2YWx1ZSxzdGVwKXtBY3Rpb25zLlNldFNjYWxlWSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdmFsdWUsc3RlcCk7cmV0dXJuIHRoaXM7fSxzZXRWaXNpYmxlOmZ1bmN0aW9uIHNldFZpc2libGUodmFsdWUpe0FjdGlvbnMuU2V0VmlzaWJsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdmFsdWUpO3JldHVybiB0aGlzO30sc2V0WDpmdW5jdGlvbiBzZXRYKHZhbHVlLHN0ZXApe0FjdGlvbnMuU2V0WCh0aGlzLmNoaWxkcmVuLmVudHJpZXMsdmFsdWUsc3RlcCk7cmV0dXJuIHRoaXM7fSxzZXRYWTpmdW5jdGlvbiBzZXRYWSh4LHksc3RlcFgsc3RlcFkpe0FjdGlvbnMuU2V0WFkodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHgseSxzdGVwWCxzdGVwWSk7cmV0dXJuIHRoaXM7fSxzZXRZOmZ1bmN0aW9uIHNldFkodmFsdWUsc3RlcCl7QWN0aW9ucy5TZXRZKHRoaXMuY2hpbGRyZW4uZW50cmllcyx2YWx1ZSxzdGVwKTtyZXR1cm4gdGhpczt9LHNldFo6ZnVuY3Rpb24gc2V0Wih2YWx1ZSxzdGVwKXtBY3Rpb25zLlNldFoodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHZhbHVlLHN0ZXApO3JldHVybiB0aGlzO30sc2hpZnRQb3NpdGlvbjpmdW5jdGlvbiBzaGlmdFBvc2l0aW9uKHgseSxkaXJlY3Rpb24sb3V0cHV0KXtBY3Rpb25zLlNoaWZ0UG9zaXRpb24odGhpcy5jaGlsZHJlbi5lbnRyaWVzLHgseSxkaXJlY3Rpb24sb3V0cHV0KTtyZXR1cm4gdGhpczt9LHNtb290aGVyU3RlcDpmdW5jdGlvbiBzbW9vdGhlclN0ZXAocHJvcGVydHksbWluLG1heCxpbmMpe0FjdGlvbnMuU21vb3RoZXJTdGVwKHRoaXMuY2hpbGRyZW4uZW50cmllcyxwcm9wZXJ0eSxtaW4sbWF4LGluYyk7cmV0dXJuIHRoaXM7fSxzbW9vdGhTdGVwOmZ1bmN0aW9uIHNtb290aFN0ZXAocHJvcGVydHksbWluLG1heCxpbmMpe0FjdGlvbnMuU21vb3RoU3RlcCh0aGlzLmNoaWxkcmVuLmVudHJpZXMscHJvcGVydHksbWluLG1heCxpbmMpO3JldHVybiB0aGlzO30sc3ByZWFkOmZ1bmN0aW9uIHNwcmVhZChwcm9wZXJ0eSxtaW4sbWF4LGluYyl7QWN0aW9ucy5TcHJlYWQodGhpcy5jaGlsZHJlbi5lbnRyaWVzLHByb3BlcnR5LG1pbixtYXgsaW5jKTtyZXR1cm4gdGhpczt9LHRvZ2dsZVZpc2libGU6ZnVuY3Rpb24gdG9nZ2xlVmlzaWJsZSgpe0FjdGlvbnMuVG9nZ2xlVmlzaWJsZSh0aGlzLmNoaWxkcmVuLmVudHJpZXMpO3JldHVybiB0aGlzO319KTttb2R1bGUuZXhwb3J0cz1Hcm91cDsvKioqL30sLyogNzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgSW1hZ2VSZW5kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1MzQpO3ZhciBJbWFnZT1uZXcgQ2xhc3Moe0V4dGVuZHM6R2FtZU9iamVjdCxNaXhpbnM6W0NvbXBvbmVudHMuQWxwaGEsQ29tcG9uZW50cy5CbGVuZE1vZGUsQ29tcG9uZW50cy5GbGlwLENvbXBvbmVudHMuR2V0Qm91bmRzLENvbXBvbmVudHMuT3JpZ2luLENvbXBvbmVudHMuUmVuZGVyVGFyZ2V0LENvbXBvbmVudHMuU2NhbGVNb2RlLENvbXBvbmVudHMuU2Nyb2xsRmFjdG9yLENvbXBvbmVudHMuU2l6ZSxDb21wb25lbnRzLlRleHR1cmUsQ29tcG9uZW50cy5UaW50LENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxJbWFnZVJlbmRlcl0saW5pdGlhbGl6ZTpmdW5jdGlvbiBJbWFnZShzY2VuZSx4LHksdGV4dHVyZSxmcmFtZSl7R2FtZU9iamVjdC5jYWxsKHRoaXMsc2NlbmUsJ0ltYWdlJyk7dGhpcy5zZXRUZXh0dXJlKHRleHR1cmUsZnJhbWUpO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLnNldFNpemVUb0ZyYW1lKCk7dGhpcy5zZXRPcmlnaW4oKTt9fSk7bW9kdWxlLmV4cG9ydHM9SW1hZ2U7LyoqKi99LC8qIDgwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgTWVzaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU1KTt2YXIgUXVhZD1uZXcgQ2xhc3Moe0V4dGVuZHM6TWVzaCxpbml0aWFsaXplOmZ1bmN0aW9uIFF1YWQoc2NlbmUseCx5LHRleHR1cmUsZnJhbWUpey8vICAwLS0tLTNcbi8vICB8XFwgIEJ8XG4vLyAgfCBcXCAgfFxuLy8gIHwgIFxcIHxcbi8vICB8IEEgXFx8XG4vLyAgfCAgICBcXFxuLy8gIDEtLS0tMlxuLy8gIEFycmF5IHNlcXVlbmNlOiB0bCwgYmwsIGJyLCB0clxudmFyIHZlcnRpY2VzPVswLDAsMCwwLDAsMCwwLDBdO3ZhciB1dj1bMCwwLDAsMSwxLDEsMSwwXTt2YXIgaW5kaWNlcz1bMCwxLDIsMCwyLDNdO3ZhciBjb2xvcnM9WzB4ZmZmZmZmLDB4ZmZmZmZmLDB4ZmZmZmZmLDB4ZmZmZmZmXTt2YXIgYWxwaGFzPVsxLDEsMSwxXTtNZXNoLmNhbGwodGhpcyxzY2VuZSx4LHksdmVydGljZXMsdXYsaW5kaWNlcyxjb2xvcnMsYWxwaGFzLHRleHR1cmUsZnJhbWUpO3RoaXMucmVzZXRQb3NpdGlvbigpO30sdG9wTGVmdFg6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54K3RoaXMudmVydGljZXNbMF07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnZlcnRpY2VzWzBdPXZhbHVlLXRoaXMueDt9fSx0b3BMZWZ0WTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnkrdGhpcy52ZXJ0aWNlc1sxXTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMudmVydGljZXNbMV09dmFsdWUtdGhpcy55O319LHRvcFJpZ2h0WDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLngrdGhpcy52ZXJ0aWNlc1s2XTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMudmVydGljZXNbNl09dmFsdWUtdGhpcy54O319LHRvcFJpZ2h0WTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnkrdGhpcy52ZXJ0aWNlc1s3XTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMudmVydGljZXNbN109dmFsdWUtdGhpcy55O319LGJvdHRvbUxlZnRYOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMueCt0aGlzLnZlcnRpY2VzWzJdO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy52ZXJ0aWNlc1syXT12YWx1ZS10aGlzLng7fX0sYm90dG9tTGVmdFk6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy55K3RoaXMudmVydGljZXNbM107fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnZlcnRpY2VzWzNdPXZhbHVlLXRoaXMueTt9fSxib3R0b21SaWdodFg6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54K3RoaXMudmVydGljZXNbNF07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnZlcnRpY2VzWzRdPXZhbHVlLXRoaXMueDt9fSxib3R0b21SaWdodFk6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy55K3RoaXMudmVydGljZXNbNV07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnZlcnRpY2VzWzVdPXZhbHVlLXRoaXMueTt9fSwvLyAgdGwsIGJsLCBiciwgdHJcbnRvcExlZnRBbHBoYTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmFscGhhc1swXTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuYWxwaGFzWzBdPXZhbHVlO319LHRvcFJpZ2h0QWxwaGE6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5hbHBoYXNbM107fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLmFscGhhc1szXT12YWx1ZTt9fSxib3R0b21MZWZ0QWxwaGE6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5hbHBoYXNbMV07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLmFscGhhc1sxXT12YWx1ZTt9fSxib3R0b21SaWdodEFscGhhOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuYWxwaGFzWzJdO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5hbHBoYXNbMl09dmFsdWU7fX0sdG9wTGVmdENvbG9yOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuY29sb3JzWzBdO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5jb2xvcnNbMF09dmFsdWU7fX0sdG9wUmlnaHRDb2xvcjp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmNvbG9yc1szXTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuY29sb3JzWzNdPXZhbHVlO319LGJvdHRvbUxlZnRDb2xvcjp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmNvbG9yc1sxXTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuY29sb3JzWzFdPXZhbHVlO319LGJvdHRvbVJpZ2h0Q29sb3I6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5jb2xvcnNbMl07fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLmNvbG9yc1syXT12YWx1ZTt9fSxzZXRUb3BMZWZ0OmZ1bmN0aW9uIHNldFRvcExlZnQoeCx5KXt0aGlzLnRvcExlZnRYPXg7dGhpcy50b3BMZWZ0WT15O3JldHVybiB0aGlzO30sc2V0VG9wUmlnaHQ6ZnVuY3Rpb24gc2V0VG9wUmlnaHQoeCx5KXt0aGlzLnRvcFJpZ2h0WD14O3RoaXMudG9wUmlnaHRZPXk7cmV0dXJuIHRoaXM7fSxzZXRCb3R0b21MZWZ0OmZ1bmN0aW9uIHNldEJvdHRvbUxlZnQoeCx5KXt0aGlzLmJvdHRvbUxlZnRYPXg7dGhpcy5ib3R0b21MZWZ0WT15O3JldHVybiB0aGlzO30sc2V0Qm90dG9tUmlnaHQ6ZnVuY3Rpb24gc2V0Qm90dG9tUmlnaHQoeCx5KXt0aGlzLmJvdHRvbVJpZ2h0WD14O3RoaXMuYm90dG9tUmlnaHRZPXk7cmV0dXJuIHRoaXM7fSxyZXNldFBvc2l0aW9uOmZ1bmN0aW9uIHJlc2V0UG9zaXRpb24oKXt2YXIgeD10aGlzLng7dmFyIHk9dGhpcy55O3ZhciBoYWxmV2lkdGg9TWF0aC5mbG9vcih0aGlzLndpZHRoLzIpO3ZhciBoYWxmSGVpZ2h0PU1hdGguZmxvb3IodGhpcy5oZWlnaHQvMik7dGhpcy5zZXRUb3BMZWZ0KHgtaGFsZldpZHRoLHktaGFsZkhlaWdodCk7dGhpcy5zZXRUb3BSaWdodCh4K2hhbGZXaWR0aCx5LWhhbGZIZWlnaHQpO3RoaXMuc2V0Qm90dG9tTGVmdCh4LWhhbGZXaWR0aCx5K2hhbGZIZWlnaHQpO3RoaXMuc2V0Qm90dG9tUmlnaHQoeCtoYWxmV2lkdGgseStoYWxmSGVpZ2h0KTtyZXR1cm4gdGhpczt9LHJlc2V0QWxwaGE6ZnVuY3Rpb24gcmVzZXRBbHBoYSgpe3ZhciBhbHBoYXM9dGhpcy5hbHBoYXM7YWxwaGFzWzBdPTE7YWxwaGFzWzFdPTE7YWxwaGFzWzJdPTE7YWxwaGFzWzNdPTE7cmV0dXJuIHRoaXM7fSxyZXNldENvbG9yczpmdW5jdGlvbiByZXNldENvbG9ycygpe3ZhciBjb2xvcnM9dGhpcy5jb2xvcnM7Y29sb3JzWzBdPTB4ZmZmZmZmO2NvbG9yc1sxXT0weGZmZmZmZjtjb2xvcnNbMl09MHhmZmZmZmY7Y29sb3JzWzNdPTB4ZmZmZmZmO3JldHVybiB0aGlzO30scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXt0aGlzLnJlc2V0UG9zaXRpb24oKTt0aGlzLnJlc2V0QWxwaGEoKTt0aGlzLnJlc2V0Q29sb3JzKCk7fX0pO21vZHVsZS5leHBvcnRzPVF1YWQ7LyoqKi99LC8qIDgxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyBSZW5kZXJQYXNzIFdpbGwgb25seSB3b3JrIHdpdGggU3ByaXRlIGFuZCBJbWFnZSBHYW1lT2JqZWN0cy5cbnZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygzKTt2YXIgUmVuZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTQzKTt2YXIgVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMzgpOy8vICAgUmVuZGVyUGFzcyAtIHRoZSB1c2VyIGhhcyBhIGhpZ2hlciBjb250cm9sIG9uIHRoZSByZW5kZXJpbmcgc2luY2UgeW91IGV4cGxpY2l0bHlcbi8vICAgaW5kaWNhdGUgd2hhdCBpcyByZW5kZXJlZC4gUmVuZGVyUGFzcyBhbHNvIGhhcyBhIHJlbmRlciB0YXJnZXQgYnV0IHRoZSBkaWZmZXJlbmNlXG4vLyAgIGlzIHRoYXQgd2hlbiBleHBsaWNpdGx5IHJlbmRlcmluZyBhbiBvYmplY3QgdG8gdGhlIHJlbmRlciBwYXNzIHRoZSBzaGFkZXIgZnJvbSB0aGF0XG4vLyAgIHJlbmRlciBwYXNzIGlzIGFwcGxpZWQuIFRoaXMgaXMgdXNlZnVsIGZvciBhZGRpdGl2ZSBwYXNzZXMgYW5kIHNwZWNpZmljIG9iamVjdCBlZmZlY3RzLlxudmFyIFJlbmRlclBhc3M9bmV3IENsYXNzKHtFeHRlbmRzOkdhbWVPYmplY3QsTWl4aW5zOltDb21wb25lbnRzLkFscGhhLENvbXBvbmVudHMuQmxlbmRNb2RlLENvbXBvbmVudHMuRmxpcCxDb21wb25lbnRzLkdldEJvdW5kcyxDb21wb25lbnRzLk9yaWdpbixDb21wb25lbnRzLlJlbmRlclRhcmdldCxDb21wb25lbnRzLlNjYWxlTW9kZSxDb21wb25lbnRzLlNjcm9sbEZhY3RvcixDb21wb25lbnRzLlNpemUsQ29tcG9uZW50cy5UaW50LENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gUmVuZGVyUGFzcyhzY2VuZSx4LHksd2lkdGgsaGVpZ2h0LHNoYWRlck5hbWUsZnJhZ21lbnRTaGFkZXIpe0dhbWVPYmplY3QuY2FsbCh0aGlzLHNjZW5lLCdSZW5kZXJQYXNzJyk7dmFyIHJlc291cmNlTWFuYWdlcj1zY2VuZS5nYW1lLnJlbmRlcmVyLnJlc291cmNlTWFuYWdlcjt2YXIgcG90PSh3aWR0aCZ3aWR0aC0xKT09MCYmKGhlaWdodCZoZWlnaHQtMSk9PTA7dmFyIGdsO3ZhciB3cmFwO3RoaXMucmVuZGVyZXI9c2NlbmUuZ2FtZS5yZW5kZXJlcjt0aGlzLnBhc3NSZW5kZXJUYXJnZXQ9bnVsbDt0aGlzLnJlbmRlclRleHR1cmU9bnVsbDt0aGlzLnBhc3NTaGFkZXI9bnVsbDt0aGlzLnVuaWZvcm1zPXt9O3RoaXMudGV4dHVyZXM9e307aWYocmVzb3VyY2VNYW5hZ2VyIT09dW5kZWZpbmVkKXtnbD1zY2VuZS5nYW1lLnJlbmRlcmVyLmdsO3dyYXA9cG90P2dsLlJFUEVBVDpnbC5DTEFNUF9UT19FREdFO3RoaXMucGFzc1NoYWRlcj1yZXNvdXJjZU1hbmFnZXIuY3JlYXRlU2hhZGVyKHNoYWRlck5hbWUse3ZlcnQ6VGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyLnZlcnQsZnJhZzpmcmFnbWVudFNoYWRlcn0pO3RoaXMucmVuZGVyVGV4dHVyZT1yZXNvdXJjZU1hbmFnZXIuY3JlYXRlVGV4dHVyZSgwLGdsLkxJTkVBUixnbC5MSU5FQVIsd3JhcCx3cmFwLGdsLlJHQkEsbnVsbCx3aWR0aCxoZWlnaHQpO3RoaXMucGFzc1JlbmRlclRhcmdldD1yZXNvdXJjZU1hbmFnZXIuY3JlYXRlUmVuZGVyVGFyZ2V0KHdpZHRoLGhlaWdodCx0aGlzLnJlbmRlclRleHR1cmUsbnVsbCk7c2NlbmUuZ2FtZS5yZW5kZXJlci5jdXJyZW50VGV4dHVyZVswXT1udWxsOy8vIGZvcmNlIHJlYmluZGluZyBvZiBwcmV2IHRleHR1cmVcbn10aGlzLmZsaXBZPXRydWU7dGhpcy5zZXRQb3NpdGlvbih4LHkpO3RoaXMuc2V0U2l6ZSh3aWR0aCxoZWlnaHQpO3RoaXMuc2V0T3JpZ2luKDAsMCk7fSxjbGVhckNvbG9yQnVmZmVyOmZ1bmN0aW9uIGNsZWFyQ29sb3JCdWZmZXIocixnLGIsYSl7dmFyIGdsPXRoaXMucmVuZGVyZXIuZ2w7aWYoZ2wpe2dsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLnBhc3NSZW5kZXJUYXJnZXQuZnJhbWVidWZmZXJPYmplY3QpO2dsLmNsZWFyQ29sb3IocixnLGIsYSk7Z2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpO319LGNsZWFyRGVwdGhTdGVuY2lsQnVmZmVyczpmdW5jdGlvbiBjbGVhckRlcHRoU3RlbmNpbEJ1ZmZlcnMoZGVwdGgsc3RlbmNpbCl7dmFyIGdsPXRoaXMucmVuZGVyZXIuZ2w7aWYoZ2wpe2dsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUix0aGlzLnBhc3NSZW5kZXJUYXJnZXQuZnJhbWVidWZmZXJPYmplY3QpO2dsLmNsZWFyRGVwdGgoZGVwdGgpO2dsLmNsZWFyU3RlbmNpbChzdGVuY2lsKTtnbC5jbGVhcihnbC5ERVBUSF9CVUZGRVJfQklUfGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpO319LGNsZWFyQWxsQnVmZmVyczpmdW5jdGlvbiBjbGVhckFsbEJ1ZmZlcnMocixnLGIsYSxkZXB0aCxzdGVuY2lsKXt2YXIgZ2w9dGhpcy5yZW5kZXJlci5nbDtpZihnbCl7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHRoaXMucGFzc1JlbmRlclRhcmdldC5mcmFtZWJ1ZmZlck9iamVjdCk7Z2wuY2xlYXJDb2xvcihyLGcsYixhKTtnbC5jbGVhckRlcHRoKGRlcHRoKTtnbC5jbGVhclN0ZW5jaWwoc3RlbmNpbCk7Z2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVHxnbC5ERVBUSF9CVUZGRVJfQklUfGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpO319LHJlbmRlcjpmdW5jdGlvbiByZW5kZXIoZ2FtZU9iamVjdCxjYW1lcmEpe3ZhciBnbD10aGlzLnJlbmRlcmVyLmdsO2lmKGdsKXt0aGlzLnJlbmRlcmVyLnNldFJlbmRlcmVyKHRoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2gsbnVsbCxudWxsKTt0aGlzLnJlbmRlcmVyLnNwcml0ZUJhdGNoLmFkZFNwcml0ZShnYW1lT2JqZWN0LGNhbWVyYSk7Zm9yKHZhciBrZXkgaW4gdGhpcy50ZXh0dXJlcyl7dmFyIHRleHR1cmVEYXRhPXRoaXMudGV4dHVyZXNba2V5XTt0aGlzLnNldEludChrZXksdGV4dHVyZURhdGEudW5pdCk7Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCt0ZXh0dXJlRGF0YS51bml0KTtnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRleHR1cmVEYXRhLnRleHR1cmUpO2dsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO310aGlzLnJlbmRlcmVyLnNwcml0ZUJhdGNoLmZsdXNoKHRoaXMucGFzc1NoYWRlcix0aGlzLnBhc3NSZW5kZXJUYXJnZXQuZnJhbWVidWZmZXJPYmplY3QpO319LHJlbmRlclJlY3Q6ZnVuY3Rpb24gcmVuZGVyUmVjdCh4LHksd2lkdGgsaGVpZ2h0LGNhbWVyYSl7dmFyIGdsPXRoaXMucmVuZGVyZXIuZ2w7aWYoZ2wpe3RoaXMucmVuZGVyZXIuc2V0UmVuZGVyZXIodGhpcy5yZW5kZXJlci5zcHJpdGVCYXRjaCxudWxsLG51bGwpO3RoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2guYWRkVGlsZVRleHR1cmVSZWN0KG51bGwseCx5LHdpZHRoLGhlaWdodCwxLjAsMHhGRkZGRkZGRix0aGlzLnNjcm9sbEZhY3RvclgsdGhpcy5zY3JvbGxGYWN0b3JZLHdpZHRoLGhlaWdodCwwLDAsd2lkdGgsaGVpZ2h0LGNhbWVyYSxudWxsKTtmb3IodmFyIGtleSBpbiB0aGlzLnRleHR1cmVzKXt2YXIgdGV4dHVyZURhdGE9dGhpcy50ZXh0dXJlc1trZXldO3RoaXMuc2V0SW50KGtleSx0ZXh0dXJlRGF0YS51bml0KTtnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwK3RleHR1cmVEYXRhLnVuaXQpO2dsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGV4dHVyZURhdGEudGV4dHVyZSk7Z2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7fXRoaXMucmVuZGVyZXIuc3ByaXRlQmF0Y2guZmx1c2godGhpcy5wYXNzU2hhZGVyLHRoaXMucGFzc1JlbmRlclRhcmdldC5mcmFtZWJ1ZmZlck9iamVjdCk7fX0sc2V0UmVuZGVyVGV4dHVyZUF0OmZ1bmN0aW9uIHNldFJlbmRlclRleHR1cmVBdChyZW5kZXJUZXh0dXJlLHNhbXBsZXJOYW1lLHVuaXQpe3ZhciBnbD10aGlzLnJlbmRlcmVyLmdsO2lmKGdsKXsvKiBUZXh0dXJlIDEgaXMgcmVzZXJ2ZWQgZm9yIFBoYXNlcnMgTWFpbiBSZW5kZXJlciAqL3VuaXQ9dW5pdD4wP3VuaXQ6MTt0aGlzLnRleHR1cmVzW3NhbXBsZXJOYW1lXT17dGV4dHVyZTpyZW5kZXJUZXh0dXJlLnRleHR1cmUsdW5pdDp1bml0fTsvL3RoaXMuc2V0SW50KHNhbXBsZXJOYW1lLCB1bml0KTtcbi8vZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIHVuaXQpO1xuLy9nbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCByZW5kZXJUZXh0dXJlLnRleHR1cmUpO1xuLy9nbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbn19LGdldFVuaWZvcm1Mb2NhdGlvbjpmdW5jdGlvbiBnZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpe3ZhciBwYXNzU2hhZGVyPXRoaXMucGFzc1NoYWRlcjt2YXIgdW5pZm9ybXM9dGhpcy51bmlmb3Jtczt2YXIgbG9jYXRpb247aWYodW5pZm9ybU5hbWUgaW4gdW5pZm9ybXMpe2xvY2F0aW9uPXVuaWZvcm1zW3VuaWZvcm1OYW1lXTt9ZWxzZXtsb2NhdGlvbj1wYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSk7dW5pZm9ybXNbdW5pZm9ybU5hbWVdPWxvY2F0aW9uO31yZXR1cm4gbG9jYXRpb247fSxzZXRGbG9hdDpmdW5jdGlvbiBzZXRGbG9hdCh1bmlmb3JtTmFtZSx4KXt2YXIgcGFzc1NoYWRlcj10aGlzLnBhc3NTaGFkZXI7aWYocGFzc1NoYWRlcj09PW51bGwpe3JldHVybjt9cGFzc1NoYWRlci5zZXRDb25zdGFudEZsb2F0MSh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCk7fSxzZXRGbG9hdDI6ZnVuY3Rpb24gc2V0RmxvYXQyKHVuaWZvcm1OYW1lLHgseSl7dmFyIHBhc3NTaGFkZXI9dGhpcy5wYXNzU2hhZGVyO2lmKHBhc3NTaGFkZXI9PT1udWxsKXtyZXR1cm47fXBhc3NTaGFkZXIuc2V0Q29uc3RhbnRGbG9hdDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLHgseSk7fSxzZXRGbG9hdDM6ZnVuY3Rpb24gc2V0RmxvYXQzKHVuaWZvcm1OYW1lLHgseSx6KXt2YXIgcGFzc1NoYWRlcj10aGlzLnBhc3NTaGFkZXI7aWYocGFzc1NoYWRlcj09PW51bGwpe3JldHVybjt9cGFzc1NoYWRlci5zZXRDb25zdGFudEZsb2F0Myh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCx5LHopO30sc2V0RmxvYXQ0OmZ1bmN0aW9uIHNldEZsb2F0NCh1bmlmb3JtTmFtZSx4LHkseix3KXt2YXIgcGFzc1NoYWRlcj10aGlzLnBhc3NTaGFkZXI7aWYocGFzc1NoYWRlcj09PW51bGwpe3JldHVybjt9cGFzc1NoYWRlci5zZXRDb25zdGFudEZsb2F0NCh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCx5LHosdyk7fSxzZXRJbnQ6ZnVuY3Rpb24gc2V0SW50KHVuaWZvcm1OYW1lLHgpe3ZhciBwYXNzU2hhZGVyPXRoaXMucGFzc1NoYWRlcjtpZihwYXNzU2hhZGVyPT09bnVsbCl7cmV0dXJuO31wYXNzU2hhZGVyLnNldENvbnN0YW50SW50MSh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCk7fSxzZXRJbnQyOmZ1bmN0aW9uIHNldEludDIodW5pZm9ybU5hbWUseCx5KXt2YXIgcGFzc1NoYWRlcj10aGlzLnBhc3NTaGFkZXI7aWYocGFzc1NoYWRlcj09PW51bGwpe3JldHVybjt9cGFzc1NoYWRlci5zZXRDb25zdGFudEludDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLHgseSk7fSxzZXRJbnQzOmZ1bmN0aW9uIHNldEludDModW5pZm9ybU5hbWUseCx5LHope3ZhciBwYXNzU2hhZGVyPXRoaXMucGFzc1NoYWRlcjtpZihwYXNzU2hhZGVyPT09bnVsbCl7cmV0dXJuO31wYXNzU2hhZGVyLnNldENvbnN0YW50SW50Myh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCx5LHopO30sc2V0SW50NDpmdW5jdGlvbiBzZXRJbnQ0KHVuaWZvcm1OYW1lLHgseSx6LHcpe3ZhciBwYXNzU2hhZGVyPXRoaXMucGFzc1NoYWRlcjtpZihwYXNzU2hhZGVyPT09bnVsbCl7cmV0dXJuO31wYXNzU2hhZGVyLnNldENvbnN0YW50SW50NCh0aGlzLmdldFVuaWZvcm1Mb2NhdGlvbih1bmlmb3JtTmFtZSkseCx5LHosdyk7fSxzZXRNYXRyaXgyeDI6ZnVuY3Rpb24gc2V0TWF0cml4MngyKHVuaWZvcm1OYW1lLG1hdHJpeCl7dmFyIHBhc3NTaGFkZXI9dGhpcy5wYXNzU2hhZGVyO2lmKHBhc3NTaGFkZXI9PT1udWxsKXtyZXR1cm47fXBhc3NTaGFkZXIuc2V0Q29uc3RhbnRNYXRyaXgyeDIodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLG1hdHJpeCk7fSxzZXRNYXRyaXgzeDM6ZnVuY3Rpb24gc2V0TWF0cml4M3gzKHVuaWZvcm1OYW1lLG1hdHJpeCl7dmFyIHBhc3NTaGFkZXI9dGhpcy5wYXNzU2hhZGVyO2lmKHBhc3NTaGFkZXI9PT1udWxsKXtyZXR1cm47fXBhc3NTaGFkZXIuc2V0Q29uc3RhbnRNYXRyaXgzeDModGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLG1hdHJpeCk7fSxzZXRNYXRyaXg0eDQ6ZnVuY3Rpb24gc2V0TWF0cml4NHg0KHVuaWZvcm1OYW1lLG1hdHJpeCl7dmFyIHBhc3NTaGFkZXI9dGhpcy5wYXNzU2hhZGVyO2lmKHBhc3NTaGFkZXI9PT1udWxsKXtyZXR1cm47fXBhc3NTaGFkZXIuc2V0Q29uc3RhbnRNYXRyaXg0eDQodGhpcy5nZXRVbmlmb3JtTG9jYXRpb24odW5pZm9ybU5hbWUpLG1hdHJpeCk7fX0pO21vZHVsZS5leHBvcnRzPVJlbmRlclBhc3M7LyoqKi99LC8qIDgyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ29tcG9uZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO3ZhciBHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNik7dmFyIEdldEJpdG1hcFRleHRTaXplPV9fd2VicGFja19yZXF1aXJlX18oMTczKTt2YXIgUGFyc2VGcm9tQXRsYXM9X193ZWJwYWNrX3JlcXVpcmVfXyg1NDkpO3ZhciBQYXJzZVJldHJvRm9udD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU1MCk7dmFyIFJlbmRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU1MSk7dmFyIEJpdG1hcFRleHQ9bmV3IENsYXNzKHtFeHRlbmRzOkdhbWVPYmplY3QsTWl4aW5zOltDb21wb25lbnRzLkFscGhhLENvbXBvbmVudHMuQmxlbmRNb2RlLENvbXBvbmVudHMuT3JpZ2luLENvbXBvbmVudHMuUmVuZGVyVGFyZ2V0LENvbXBvbmVudHMuU2NhbGVNb2RlLENvbXBvbmVudHMuVGV4dHVyZSxDb21wb25lbnRzLlRpbnQsQ29tcG9uZW50cy5UcmFuc2Zvcm0sQ29tcG9uZW50cy5WaXNpYmxlLENvbXBvbmVudHMuU2Nyb2xsRmFjdG9yLFJlbmRlcl0saW5pdGlhbGl6ZTpmdW5jdGlvbiBCaXRtYXBUZXh0KHNjZW5lLHgseSxmb250LHRleHQsc2l6ZSl7aWYodGV4dD09PXVuZGVmaW5lZCl7dGV4dD0nJzt9R2FtZU9iamVjdC5jYWxsKHRoaXMsc2NlbmUsJ0JpdG1hcFRleHQnKTt0aGlzLmZvbnQ9Zm9udDt2YXIgZW50cnk9dGhpcy5zY2VuZS5zeXMuY2FjaGUuYml0bWFwRm9udC5nZXQoZm9udCk7dGhpcy5mb250RGF0YT1lbnRyeS5kYXRhO3RoaXMudGV4dD1BcnJheS5pc0FycmF5KHRleHQpP3RleHQuam9pbignXFxuJyk6dGV4dDt0aGlzLmZvbnRTaXplPXNpemV8fHRoaXMuZm9udERhdGEuc2l6ZTt0aGlzLnNldFRleHR1cmUoZW50cnkudGV4dHVyZSxlbnRyeS5mcmFtZSk7dGhpcy5zZXRQb3NpdGlvbih4LHkpO3RoaXMuc2V0T3JpZ2luKDAsMCk7dGhpcy5fYm91bmRzPXRoaXMuZ2V0VGV4dEJvdW5kcygpO30sc2V0Rm9udFNpemU6ZnVuY3Rpb24gc2V0Rm9udFNpemUoc2l6ZSl7dGhpcy5mb250U2l6ZT1zaXplO3JldHVybiB0aGlzO30sc2V0VGV4dDpmdW5jdGlvbiBzZXRUZXh0KHRleHQpe3RoaXMudGV4dD10ZXh0O3JldHVybiB0aGlzO30sLy8ge1xuLy8gICAgIGxvY2FsOiB7XG4vLyAgICAgICAgIHgsXG4vLyAgICAgICAgIHksXG4vLyAgICAgICAgIHdpZHRoLFxuLy8gICAgICAgICBoZWlnaHRcbi8vICAgICB9LFxuLy8gICAgIGdsb2JhbDoge1xuLy8gICAgICAgICB4LFxuLy8gICAgICAgICB5LFxuLy8gICAgICAgICB3aWR0aCxcbi8vICAgICAgICAgaGVpZ2h0XG4vLyAgICAgfVxuLy8gfVxuZ2V0VGV4dEJvdW5kczpmdW5jdGlvbiBnZXRUZXh0Qm91bmRzKHJvdW5kKXsvLyAgbG9jYWwgPSB0aGUgQml0bWFwVGV4dCBiYXNlZCBvbiBmb250U2l6ZSBhbmQgMHgwIGNvb3Jkc1xuLy8gIGdsb2JhbCA9IHRoZSBCaXRtYXBUZXh0LCB0YWtpbmcgaW50byBhY2NvdW50IHNjYWxlIGFuZCB3b3JsZCBwb3NpdGlvblxudGhpcy5fYm91bmRzPUdldEJpdG1hcFRleHRTaXplKHRoaXMscm91bmQpO3JldHVybiB0aGlzLl9ib3VuZHM7fSx3aWR0aDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3RoaXMuZ2V0VGV4dEJvdW5kcyhmYWxzZSk7cmV0dXJuIHRoaXMuX2JvdW5kcy5nbG9iYWwud2lkdGg7fX0saGVpZ2h0OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7dGhpcy5nZXRUZXh0Qm91bmRzKGZhbHNlKTtyZXR1cm4gdGhpcy5fYm91bmRzLmdsb2JhbC5oZWlnaHQ7fX0sdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3ZhciBvdXQ9Q29tcG9uZW50cy5Ub0pTT04odGhpcyk7Ly8gIEV4dHJhIGRhdGEgaXMgYWRkZWQgaGVyZVxudmFyIGRhdGE9e2ZvbnQ6dGhpcy5mb250LHRleHQ6dGhpcy50ZXh0LGZvbnRTaXplOnRoaXMuZm9udFNpemV9O291dC5kYXRhPWRhdGE7cmV0dXJuIG91dDt9fSk7Qml0bWFwVGV4dC5QYXJzZVJldHJvRm9udD1QYXJzZVJldHJvRm9udDtCaXRtYXBUZXh0LlBhcnNlRnJvbUF0bGFzPVBhcnNlRnJvbUF0bGFzO21vZHVsZS5leHBvcnRzPUJpdG1hcFRleHQ7LyoqKi99LC8qIDgzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO3ZhciBDb21wb25lbnRzPV9fd2VicGFja19yZXF1aXJlX18oMyk7dmFyIFN0YXRpY1RpbGVtYXBSZW5kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1NTUpO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2Mik7dmFyIFN0YXRpY1RpbGVtYXA9bmV3IENsYXNzKHtFeHRlbmRzOkdhbWVPYmplY3QsTWl4aW5zOltDb21wb25lbnRzLkFscGhhLENvbXBvbmVudHMuQmxlbmRNb2RlLENvbXBvbmVudHMuRmxpcCxDb21wb25lbnRzLkdldEJvdW5kcyxDb21wb25lbnRzLk9yaWdpbixDb21wb25lbnRzLlJlbmRlclRhcmdldCxDb21wb25lbnRzLlNjYWxlTW9kZSxDb21wb25lbnRzLlNpemUsQ29tcG9uZW50cy5UZXh0dXJlLENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxDb21wb25lbnRzLlNjcm9sbEZhY3RvcixTdGF0aWNUaWxlbWFwUmVuZGVyXSxpbml0aWFsaXplOmZ1bmN0aW9uIFN0YXRpY1RpbGVtYXAoc2NlbmUsbWFwRGF0YSx4LHksdGlsZVdpZHRoLHRpbGVIZWlnaHQsbWFwV2lkdGgsbWFwSGVpZ2h0LHRpbGVCb3JkZXIsdGV4dHVyZSxmcmFtZSl7R2FtZU9iamVjdC5jYWxsKHRoaXMsc2NlbmUsJ1N0YXRpY1RpbGVtYXAnKTt0aGlzLnZibz1udWxsO3RoaXMuZ2w9c2NlbmUuZ2FtZS5yZW5kZXJlci5nbD9zY2VuZS5nYW1lLnJlbmRlcmVyLmdsOm51bGw7dGhpcy50aWxlbWFwUmVuZGVyZXI9c2NlbmUuZ2FtZS5yZW5kZXJlci50aWxlbWFwUmVuZGVyZXI/c2NlbmUuZ2FtZS5yZW5kZXJlci50aWxlbWFwUmVuZGVyZXI6bnVsbDt0aGlzLnJlc291cmNlTWFuYWdlcj10aGlzLmdsP3NjZW5lLmdhbWUucmVuZGVyZXIucmVzb3VyY2VNYW5hZ2VyOm51bGw7dGhpcy5idWZmZXJEYXRhPW51bGw7dGhpcy5tYXBEYXRhPW1hcERhdGE7dGhpcy50aWxlV2lkdGg9dGlsZVdpZHRoO3RoaXMudGlsZUhlaWdodD10aWxlSGVpZ2h0O3RoaXMubWFwV2lkdGg9bWFwV2lkdGg7dGhpcy5tYXBIZWlnaHQ9bWFwSGVpZ2h0O3RoaXMuZGlydHk9dHJ1ZTt0aGlzLnZlcnRleENvdW50PTA7dGhpcy5jdWxsU3RhcnQ9MDt0aGlzLmN1bGxFbmQ9MDt0aGlzLnRpbGVCb3JkZXI9dGlsZUJvcmRlcjt0aGlzLnNldFRleHR1cmUodGV4dHVyZSxmcmFtZSk7dGhpcy5zZXRQb3NpdGlvbih4LHkpO3RoaXMuc2V0U2l6ZVRvRnJhbWUoKTt0aGlzLnNldE9yaWdpbigpO3RoaXMuc2V0U2l6ZSh0aWxlV2lkdGgqbWFwV2lkdGgsdGlsZUhlaWdodCptYXBIZWlnaHQpO30sdXBsb2FkOmZ1bmN0aW9uIHVwbG9hZChjYW1lcmEpe2lmKHRoaXMuZ2wpe2lmKHRoaXMuZGlydHkpe3ZhciBnbD10aGlzLmdsO3ZhciB2Ym89dGhpcy52Ym87dmFyIG1hcFdpZHRoPXRoaXMubWFwV2lkdGg7dmFyIG1hcEhlaWdodD10aGlzLm1hcEhlaWdodDt2YXIgYm9yZGVyPXRoaXMudGlsZUJvcmRlcjt2YXIgdGlsZVdpZHRoPXRoaXMudGlsZVdpZHRoO3ZhciB0aWxlSGVpZ2h0PXRoaXMudGlsZUhlaWdodDt2YXIgdGlsZVdpZHRoQm9yZGVyPXRpbGVXaWR0aCtib3JkZXIqMjt2YXIgdGlsZUhlaWdodEJvcmRlcj10aWxlSGVpZ2h0K2JvcmRlcioyO3ZhciBidWZmZXJEYXRhPXRoaXMuYnVmZmVyRGF0YTt2YXIgYnVmZmVyRjMyLGJ1ZmZlclUzMjt2YXIgdm9mZnNldD0wO3ZhciB2ZXJ0ZXhDb3VudD0wO3ZhciB3aWR0aD10aGlzLnRleHR1cmUuc291cmNlWzBdLndpZHRoO3ZhciBoZWlnaHQ9dGhpcy50ZXh0dXJlLnNvdXJjZVswXS5oZWlnaHQ7dmFyIHNldFdpZHRoPXdpZHRoL3RpbGVXaWR0aDt2YXIgbWFwRGF0YT10aGlzLm1hcERhdGE7aWYodGhpcy52Ym89PT1udWxsKXt2Ym89dGhpcy5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiw0KjYqKG1hcFdpZHRoKm1hcEhlaWdodCkqNCxnbC5TVEFUSUNfRFJBVyk7dmJvLmFkZEF0dHJpYnV0ZSh0aGlzLnRpbGVtYXBSZW5kZXJlci5zaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfcG9zaXRpb24nKSwyLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDApO3Ziby5hZGRBdHRyaWJ1dGUodGhpcy50aWxlbWFwUmVuZGVyZXIuc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX3RleF9jb29yZCcpLDIsZ2wuRkxPQVQsZmFsc2UsQ09OU1QuVkVSVEVYX1NJWkUsOCk7YnVmZmVyRGF0YT10aGlzLmJ1ZmZlckRhdGE9bmV3IEFycmF5QnVmZmVyKDQqNioobWFwV2lkdGgqbWFwSGVpZ2h0KSo0KTt0aGlzLnZibz12Ym87fWJ1ZmZlckYzMj1uZXcgRmxvYXQzMkFycmF5KGJ1ZmZlckRhdGEpO2Zvcih2YXIgeT0wO3k8bWFwSGVpZ2h0OysreSl7Zm9yKHZhciB4PTA7eDxtYXBXaWR0aDsrK3gpe3ZhciB0aWxlSWQ9bWFwRGF0YVt5Km1hcFdpZHRoK3hdO3ZhciBoYWxmVGlsZVdpZHRoPXRpbGVXaWR0aEJvcmRlciowLjU7dmFyIGhhbGZUaWxlSGVpZ2h0PXRpbGVIZWlnaHRCb3JkZXIqMC41O3ZhciByZWN0eD0odGlsZUlkJXNldFdpZHRofDApKnRpbGVXaWR0aEJvcmRlcitoYWxmVGlsZVdpZHRoO3ZhciByZWN0eT0odGlsZUlkL3NldFdpZHRofDApKnRpbGVIZWlnaHRCb3JkZXIraGFsZlRpbGVIZWlnaHQ7dmFyIHR4PXgqdGlsZVdpZHRoO3ZhciB0eT15KnRpbGVIZWlnaHQ7dmFyIHR4dz10eCt0aWxlV2lkdGg7dmFyIHR5aD10eSt0aWxlSGVpZ2h0O3ZhciB1MD0ocmVjdHgtKGhhbGZUaWxlV2lkdGgtMC41KSkvd2lkdGg7dmFyIHYwPShyZWN0eS0oaGFsZlRpbGVIZWlnaHQtMC41KSkvaGVpZ2h0O3ZhciB1MT0ocmVjdHgrKGhhbGZUaWxlV2lkdGgtMC41KSkvd2lkdGg7dmFyIHYxPShyZWN0eSsoaGFsZlRpbGVIZWlnaHQtMC41KSkvaGVpZ2h0O3ZhciB0eDA9dHg7dmFyIHR5MD10eTt2YXIgdHgxPXR4O3ZhciB0eTE9dHloO3ZhciB0eDI9dHh3O3ZhciB0eTI9dHloO3ZhciB0eDM9dHh3O3ZhciB0eTM9dHk7YnVmZmVyRjMyW3ZvZmZzZXQrMF09dHgwO2J1ZmZlckYzMlt2b2Zmc2V0KzFdPXR5MDtidWZmZXJGMzJbdm9mZnNldCsyXT11MDtidWZmZXJGMzJbdm9mZnNldCszXT12MDtidWZmZXJGMzJbdm9mZnNldCs0XT10eDE7YnVmZmVyRjMyW3ZvZmZzZXQrNV09dHkxO2J1ZmZlckYzMlt2b2Zmc2V0KzZdPXUwO2J1ZmZlckYzMlt2b2Zmc2V0KzddPXYxO2J1ZmZlckYzMlt2b2Zmc2V0KzhdPXR4MjtidWZmZXJGMzJbdm9mZnNldCs5XT10eTI7YnVmZmVyRjMyW3ZvZmZzZXQrMTBdPXUxO2J1ZmZlckYzMlt2b2Zmc2V0KzExXT12MTtidWZmZXJGMzJbdm9mZnNldCsxMl09dHgwO2J1ZmZlckYzMlt2b2Zmc2V0KzEzXT10eTA7YnVmZmVyRjMyW3ZvZmZzZXQrMTRdPXUwO2J1ZmZlckYzMlt2b2Zmc2V0KzE1XT12MDtidWZmZXJGMzJbdm9mZnNldCsxNl09dHgyO2J1ZmZlckYzMlt2b2Zmc2V0KzE3XT10eTI7YnVmZmVyRjMyW3ZvZmZzZXQrMThdPXUxO2J1ZmZlckYzMlt2b2Zmc2V0KzE5XT12MTtidWZmZXJGMzJbdm9mZnNldCsyMF09dHgzO2J1ZmZlckYzMlt2b2Zmc2V0KzIxXT10eTM7YnVmZmVyRjMyW3ZvZmZzZXQrMjJdPXUxO2J1ZmZlckYzMlt2b2Zmc2V0KzIzXT12MDt2b2Zmc2V0Kz0yNDt2ZXJ0ZXhDb3VudCs9Njt9fXRoaXMudmVydGV4Q291bnQ9dmVydGV4Q291bnQ7dmJvLnVwZGF0ZVJlc291cmNlKGJ1ZmZlckRhdGEsMCk7dGhpcy5kaXJ0eT1mYWxzZTt9dGhpcy50aWxlbWFwUmVuZGVyZXIuc2hhZGVyLnNldENvbnN0YW50RmxvYXQyKHRoaXMudGlsZW1hcFJlbmRlcmVyLnNjcm9sbExvY2F0aW9uLC1jYW1lcmEuc2Nyb2xsWCwtY2FtZXJhLnNjcm9sbFkpO3RoaXMudGlsZW1hcFJlbmRlcmVyLnNoYWRlci5zZXRDb25zdGFudEZsb2F0Mih0aGlzLnRpbGVtYXBSZW5kZXJlci5zY3JvbGxGYWN0b3JMb2NhdGlvbix0aGlzLnNjcm9sbEZhY3RvclgsdGhpcy5zY3JvbGxGYWN0b3JZKTt0aGlzLnRpbGVtYXBSZW5kZXJlci5zaGFkZXIuc2V0Q29uc3RhbnRGbG9hdDIodGhpcy50aWxlbWFwUmVuZGVyZXIudGlsZW1hcFBvc2l0aW9uTG9jYXRpb24sdGhpcy54LHRoaXMueSk7fX0sZ2V0VG90YWxUaWxlQ291bnQ6ZnVuY3Rpb24gZ2V0VG90YWxUaWxlQ291bnQoKXtyZXR1cm4gdGhpcy5tYXBEYXRhLmxlbmd0aDt9LGdldFZpc2libGVUaWxlQ291bnQ6ZnVuY3Rpb24gZ2V0VmlzaWJsZVRpbGVDb3VudChjYW1lcmEpe3RoaXMuY3VsbChjYW1lcmEpO3JldHVybih0aGlzLmN1bGxFbmQtdGhpcy5jdWxsU3RhcnQpLzY7fSxjdWxsOmZ1bmN0aW9uIGN1bGwoY2FtZXJhKXt0aGlzLmN1bGxTdGFydD0wO3RoaXMuY3VsbEVuZD0wO3ZhciB0aWxlV2lkdGg9dGhpcy50aWxlV2lkdGg7dmFyIHRpbGVIZWlnaHQ9dGhpcy50aWxlSGVpZ2h0O3ZhciBwaXhlbFg9dGhpcy54LWNhbWVyYS5zY3JvbGxYKnRoaXMuc2Nyb2xsRmFjdG9yWDt2YXIgcGl4ZWxZPXRoaXMueS1jYW1lcmEuc2Nyb2xsWSp0aGlzLnNjcm9sbEZhY3Rvclk7dmFyIHBpeGVsV2lkdGg9dGhpcy5tYXBXaWR0aCp0aWxlV2lkdGg7dmFyIHBpeGVsSGVpZ2h0PXRoaXMubWFwSGVpZ2h0KnRpbGVIZWlnaHQ7aWYocGl4ZWxYPGNhbWVyYS54K2NhbWVyYS53aWR0aCt0aWxlV2lkdGgqMiYmcGl4ZWxYK3BpeGVsV2lkdGg+Y2FtZXJhLngrLSh0aWxlV2lkdGgqMikmJnBpeGVsWTxjYW1lcmEueStjYW1lcmEuaGVpZ2h0K3RpbGVIZWlnaHQqMiYmcGl4ZWxZK3BpeGVsSGVpZ2h0PmNhbWVyYS55Ky0odGlsZUhlaWdodCoyKSl7dmFyIGludGVyWD1NYXRoLm1heChwaXhlbFgsY2FtZXJhLngrLSh0aWxlV2lkdGgqMikpO3ZhciBpbnRlclk9TWF0aC5tYXgocGl4ZWxZLGNhbWVyYS55Ky0odGlsZUhlaWdodCoyKSk7dmFyIGludGVyV2lkdGg9TWF0aC5taW4ocGl4ZWxYK3BpeGVsV2lkdGgsY2FtZXJhLngrY2FtZXJhLndpZHRoK3RpbGVXaWR0aCoyKS1pbnRlclg7dmFyIGludGVySGVpZ2h0PU1hdGgubWluKHBpeGVsWStwaXhlbEhlaWdodCxjYW1lcmEueStjYW1lcmEuaGVpZ2h0K3RpbGVIZWlnaHQqMiktaW50ZXJZO2ludGVyWD0oaW50ZXJYK2NhbWVyYS5zY3JvbGxYKnRoaXMuc2Nyb2xsRmFjdG9yWCkvdGlsZVdpZHRofDA7aW50ZXJZPShpbnRlclkrY2FtZXJhLnNjcm9sbFkqdGhpcy5zY3JvbGxGYWN0b3JZKS90aWxlSGVpZ2h0fDA7aW50ZXJXaWR0aD1pbnRlcldpZHRoL3RpbGVXaWR0aHwwO2ludGVySGVpZ2h0PWludGVySGVpZ2h0L3RpbGVIZWlnaHR8MDt0aGlzLmN1bGxTdGFydD0oaW50ZXJZKnRoaXMubWFwV2lkdGgraW50ZXJYKSo2O3RoaXMuY3VsbEVuZD0oKGludGVyWStpbnRlckhlaWdodCkqdGhpcy5tYXBXaWR0aCtpbnRlclgpKjY7fX19KTttb2R1bGUuZXhwb3J0cz1TdGF0aWNUaWxlbWFwOy8qKiovfSwvKiA4NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg2KTt2YXIgQ29tcG9uZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO3ZhciBDYW52YXNQb29sPV9fd2VicGFja19yZXF1aXJlX18oMTEpO3ZhciBUZXh0UmVuZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTU5KTt2YXIgVGV4dFN0eWxlPV9fd2VicGFja19yZXF1aXJlX18oNTYyKTt2YXIgR2V0VGV4dFNpemU9X193ZWJwYWNrX3JlcXVpcmVfXyg1NjQpO3ZhciBUZXh0PW5ldyBDbGFzcyh7RXh0ZW5kczpHYW1lT2JqZWN0LE1peGluczpbQ29tcG9uZW50cy5BbHBoYSxDb21wb25lbnRzLkJsZW5kTW9kZSxDb21wb25lbnRzLkZsaXAsQ29tcG9uZW50cy5HZXRCb3VuZHMsQ29tcG9uZW50cy5PcmlnaW4sQ29tcG9uZW50cy5SZW5kZXJUYXJnZXQsQ29tcG9uZW50cy5TY2FsZU1vZGUsQ29tcG9uZW50cy5TY3JvbGxGYWN0b3IsQ29tcG9uZW50cy5UaW50LENvbXBvbmVudHMuVHJhbnNmb3JtLENvbXBvbmVudHMuVmlzaWJsZSxUZXh0UmVuZGVyXSxpbml0aWFsaXplOmZ1bmN0aW9uIFRleHQoc2NlbmUseCx5LHRleHQsc3R5bGUpe2lmKHg9PT11bmRlZmluZWQpe3g9MDt9aWYoeT09PXVuZGVmaW5lZCl7eT0wO31pZih0ZXh0PT09dW5kZWZpbmVkKXt0ZXh0PScnO31HYW1lT2JqZWN0LmNhbGwodGhpcyxzY2VuZSwnVGV4dCcpO3RoaXMuc2V0UG9zaXRpb24oeCx5KTt0aGlzLnNldE9yaWdpbigwLDApOy8qKlxuICAgICAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCB0aGUgdGV4dCBpcyByZW5kZXJlZC5cbiAgICAgICAgICovdGhpcy5jYW52YXM9Q2FudmFzUG9vbC5jcmVhdGUodGhpcyk7LyoqXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IGNvbnRleHQgLSBUaGUgY29udGV4dCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB0aGUgdGV4dCBpcyByZW5kZXJlZCB0by5cbiAgICAgICAgICovdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7dGhpcy5zdHlsZT1uZXcgVGV4dFN0eWxlKHRoaXMsc3R5bGUpO3RoaXMuYXV0b1JvdW5kPXRydWU7LyoqXG4gICAgICAgICAqIFRoZSBSZWd1bGFyIEV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIHRvIHNwbGl0IHRoZSB0ZXh0IHVwIGludG8gbGluZXMsIGluXG4gICAgICAgICAqIG11bHRpLWxpbmUgdGV4dC4gQnkgZGVmYXVsdCB0aGlzIGlzIGAvKD86XFxyXFxufFxccnxcXG4pL2AuXG4gICAgICAgICAqIFlvdSBjYW4gY2hhbmdlIHRoaXMgUmVnRXhwIHRvIGJlIGFueXRoaW5nIGVsc2UgdGhhdCB5b3UgbWF5IG5lZWQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBzcGxpdFJlZ0V4cFxuICAgICAgICAgKi90aGlzLnNwbGl0UmVnRXhwPS8oPzpcXHJcXG58XFxyfFxcbikvO3RoaXMudGV4dD1BcnJheS5pc0FycmF5KHRleHQpP3RleHQuam9pbignXFxuJyk6dGV4dDt0aGlzLnJlc29sdXRpb249MTsvKipcbiAgICAgICAgKiBTcGVjaWZ5IGEgcGFkZGluZyB2YWx1ZSB3aGljaCBpcyBhZGRlZCB0byB0aGUgbGluZSB3aWR0aCBhbmQgaGVpZ2h0IHdoZW4gY2FsY3VsYXRpbmcgdGhlIFRleHQgc2l6ZS5cbiAgICAgICAgKiBBbGxvd3MgeW91IHRvIGFkZCBleHRyYSBzcGFjaW5nIGlmIFBoYXNlciBpcyB1bmFibGUgdG8gYWNjdXJhdGVseSBkZXRlcm1pbmUgdGhlIHRydWUgZm9udCBkaW1lbnNpb25zLlxuICAgICAgICAqIEBwcm9wZXJ0eSB7UGhhc2VyLlBvaW50fSBwYWRkaW5nXG4gICAgICAgICovdGhpcy5wYWRkaW5nPXt4OjAseTowfTt0aGlzLndpZHRoPTE7dGhpcy5oZWlnaHQ9MTt0aGlzLmNhbnZhc1RleHR1cmU9bnVsbDt0aGlzLmRpcnR5PWZhbHNlO2lmKHRleHQhPT0nJyl7dGhpcy51cGRhdGVUZXh0KCk7fX0sc2V0VGV4dDpmdW5jdGlvbiBzZXRUZXh0KHZhbHVlKXtpZihBcnJheS5pc0FycmF5KHZhbHVlKSl7dmFsdWU9dmFsdWUuam9pbignXFxuJyk7fWlmKHZhbHVlIT09dGhpcy50ZXh0KXt0aGlzLnRleHQ9dmFsdWUudG9TdHJpbmcoKTt0aGlzLnVwZGF0ZVRleHQoKTt9cmV0dXJuIHRoaXM7fSxzZXRTdHlsZTpmdW5jdGlvbiBzZXRTdHlsZShzdHlsZSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0U3R5bGUoc3R5bGUpO30sc2V0Rm9udDpmdW5jdGlvbiBzZXRGb250KGZvbnQpe3JldHVybiB0aGlzLnN0eWxlLnNldEZvbnQoZm9udCk7fSxzZXRGaXhlZFNpemU6ZnVuY3Rpb24gc2V0Rml4ZWRTaXplKHdpZHRoLGhlaWdodCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0Rml4ZWRTaXplKHdpZHRoLGhlaWdodCk7fSxzZXRCYWNrZ3JvdW5kQ29sb3I6ZnVuY3Rpb24gc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3IpO30sc2V0RmlsbDpmdW5jdGlvbiBzZXRGaWxsKGNvbG9yKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRGaWxsKGNvbG9yKTt9LHNldFN0cm9rZTpmdW5jdGlvbiBzZXRTdHJva2UoY29sb3IsdGhpY2tuZXNzKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRTdHJva2UoY29sb3IsdGhpY2tuZXNzKTt9LHNldFNoYWRvdzpmdW5jdGlvbiBzZXRTaGFkb3coeCx5LGNvbG9yLGJsdXIsc2hhZG93U3Ryb2tlLHNoYWRvd0ZpbGwpe3JldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvdyh4LHksY29sb3IsYmx1cixzaGFkb3dTdHJva2Usc2hhZG93RmlsbCk7fSxzZXRTaGFkb3dPZmZzZXQ6ZnVuY3Rpb24gc2V0U2hhZG93T2Zmc2V0KHgseSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0U2hhZG93T2Zmc2V0KHgseSk7fSxzZXRTaGFkb3dDb2xvcjpmdW5jdGlvbiBzZXRTaGFkb3dDb2xvcihjb2xvcil7cmV0dXJuIHRoaXMuc3R5bGUuc2V0U2hhZG93Q29sb3IoY29sb3IpO30sc2V0U2hhZG93Qmx1cjpmdW5jdGlvbiBzZXRTaGFkb3dCbHVyKGJsdXIpe3JldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvd0JsdXIoYmx1cik7fSxzZXRTaGFkb3dTdHJva2U6ZnVuY3Rpb24gc2V0U2hhZG93U3Ryb2tlKGVuYWJsZWQpe3JldHVybiB0aGlzLnN0eWxlLnNldFNoYWRvd1N0cm9rZShlbmFibGVkKTt9LHNldFNoYWRvd0ZpbGw6ZnVuY3Rpb24gc2V0U2hhZG93RmlsbChlbmFibGVkKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRTaGFkb3dGaWxsKGVuYWJsZWQpO30sc2V0QWxpZ246ZnVuY3Rpb24gc2V0QWxpZ24oYWxpZ24pe3JldHVybiB0aGlzLnN0eWxlLnNldEFsaWduKGFsaWduKTt9LHNldE1heExpbmVzOmZ1bmN0aW9uIHNldE1heExpbmVzKG1heCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TWF4TGluZXMobWF4KTt9LHVwZGF0ZVRleHQ6ZnVuY3Rpb24gdXBkYXRlVGV4dCgpe3ZhciBjYW52YXM9dGhpcy5jYW52YXM7dmFyIGNvbnRleHQ9dGhpcy5jb250ZXh0O3ZhciBzdHlsZT10aGlzLnN0eWxlO3ZhciBzaXplPXN0eWxlLm1ldHJpY3M7dmFyIG91dHB1dFRleHQ9dGhpcy50ZXh0Oy8vIGlmIChzdHlsZS53b3JkV3JhcClcbi8vIHtcbi8vICAgICBvdXRwdXRUZXh0ID0gdGhpcy5ydW5Xb3JkV3JhcCh0aGlzLnRleHQpO1xuLy8gfVxuLy8gIFNwbGl0IHRleHQgaW50byBsaW5lc1xudmFyIGxpbmVzPW91dHB1dFRleHQuc3BsaXQodGhpcy5zcGxpdFJlZ0V4cCk7dmFyIHRleHRTaXplPUdldFRleHRTaXplKHRoaXMsc2l6ZSxsaW5lcyk7aWYoIXN0eWxlLmZpeGVkV2lkdGgpe3RoaXMud2lkdGg9dGV4dFNpemUud2lkdGg7fWlmKCFzdHlsZS5maXhlZEhlaWdodCl7dGhpcy5oZWlnaHQ9dGV4dFNpemUuaGVpZ2h0O310aGlzLnVwZGF0ZU9yaWdpbigpO3ZhciBwYWRkaW5nPXRoaXMucGFkZGluZzt2YXIgdz0odGV4dFNpemUud2lkdGgrcGFkZGluZy54KjIpKnRoaXMucmVzb2x1dGlvbjt2YXIgaD0odGV4dFNpemUuaGVpZ2h0K3BhZGRpbmcueSoyKSp0aGlzLnJlc29sdXRpb247aWYoY2FudmFzLndpZHRoIT09d3x8Y2FudmFzLmhlaWdodCE9PWgpe2NhbnZhcy53aWR0aD13O2NhbnZhcy5oZWlnaHQ9aDt9ZWxzZXtjb250ZXh0LmNsZWFyUmVjdCgwLDAsdyxoKTt9aWYoc3R5bGUuYmFja2dyb3VuZENvbG9yKXtjb250ZXh0LmZpbGxTdHlsZT1zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7Y29udGV4dC5maWxsUmVjdCgwLDAsdyxoKTt9c3R5bGUuc3luY0ZvbnQoY2FudmFzLGNvbnRleHQpO2NvbnRleHQudGV4dEJhc2VsaW5lPSdhbHBoYWJldGljJzsvLyAgQXBwbHkgcGFkZGluZ1xuY29udGV4dC50cmFuc2xhdGUocGFkZGluZy54LHBhZGRpbmcueSk7dmFyIGxpbmVQb3NpdGlvblg7dmFyIGxpbmVQb3NpdGlvblk7Ly8gIERyYXcgdGV4dCBsaW5lIGJ5IGxpbmVcbmZvcih2YXIgaT0wO2k8dGV4dFNpemUubGluZXM7aSsrKXtsaW5lUG9zaXRpb25YPXN0eWxlLnN0cm9rZVRoaWNrbmVzcy8yO2xpbmVQb3NpdGlvblk9c3R5bGUuc3Ryb2tlVGhpY2tuZXNzLzIraSp0ZXh0U2l6ZS5saW5lSGVpZ2h0K3NpemUuYXNjZW50O2lmKGk+MCl7bGluZVBvc2l0aW9uWSs9dGV4dFNpemUubGluZVNwYWNpbmcqaTt9aWYoc3R5bGUuYWxpZ249PT0ncmlnaHQnKXtsaW5lUG9zaXRpb25YKz10ZXh0U2l6ZS53aWR0aC10ZXh0U2l6ZS5saW5lV2lkdGhzW2ldO31lbHNlIGlmKHN0eWxlLmFsaWduPT09J2NlbnRlcicpe2xpbmVQb3NpdGlvblgrPSh0ZXh0U2l6ZS53aWR0aC10ZXh0U2l6ZS5saW5lV2lkdGhzW2ldKS8yO31pZih0aGlzLmF1dG9Sb3VuZCl7bGluZVBvc2l0aW9uWD1NYXRoLnJvdW5kKGxpbmVQb3NpdGlvblgpO2xpbmVQb3NpdGlvblk9TWF0aC5yb3VuZChsaW5lUG9zaXRpb25ZKTt9aWYoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKXt0aGlzLnN0eWxlLnN5bmNTaGFkb3coY29udGV4dCxzdHlsZS5zaGFkb3dTdHJva2UpO2NvbnRleHQuc3Ryb2tlVGV4dChsaW5lc1tpXSxsaW5lUG9zaXRpb25YLGxpbmVQb3NpdGlvblkpO31pZihzdHlsZS5maWxsKXt0aGlzLnN0eWxlLnN5bmNTaGFkb3coY29udGV4dCxzdHlsZS5zaGFkb3dGaWxsKTtjb250ZXh0LmZpbGxUZXh0KGxpbmVzW2ldLGxpbmVQb3NpdGlvblgsbGluZVBvc2l0aW9uWSk7fX10aGlzLmRpcnR5PXRydWU7cmV0dXJuIHRoaXM7fSxnZXRUZXh0TWV0cmljczpmdW5jdGlvbiBnZXRUZXh0TWV0cmljcygpe3JldHVybiB0aGlzLnN0eWxlLmdldFRleHRNZXRyaWNzKCk7fSx0b0pTT046ZnVuY3Rpb24gdG9KU09OKCl7dmFyIG91dD1Db21wb25lbnRzLlRvSlNPTih0aGlzKTsvLyAgRXh0cmEgVGV4dCBkYXRhIGlzIGFkZGVkIGhlcmVcbnZhciBkYXRhPXthdXRvUm91bmQ6dGhpcy5hdXRvUm91bmQsdGV4dDp0aGlzLnRleHQsc3R5bGU6dGhpcy5zdHlsZS50b0pTT04oKSxyZXNvbHV0aW9uOnRoaXMucmVzb2x1dGlvbixwYWRkaW5nOnt4OnRoaXMucGFkZGluZy54LHk6dGhpcy5wYWRkaW5nLnl9fTtvdXQuZGF0YT1kYXRhO3JldHVybiBvdXQ7fX0pO21vZHVsZS5leHBvcnRzPVRleHQ7LyoqKi99LC8qIDg1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO3ZhciBDb21wb25lbnRzPV9fd2VicGFja19yZXF1aXJlX18oMyk7dmFyIFRpbGVTcHJpdGVSZW5kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1NjYpO3ZhciBDYW52YXNQb29sPV9fd2VicGFja19yZXF1aXJlX18oMTEpO3ZhciBUaWxlU3ByaXRlPW5ldyBDbGFzcyh7RXh0ZW5kczpHYW1lT2JqZWN0LE1peGluczpbQ29tcG9uZW50cy5BbHBoYSxDb21wb25lbnRzLkJsZW5kTW9kZSxDb21wb25lbnRzLkZsaXAsQ29tcG9uZW50cy5HZXRCb3VuZHMsQ29tcG9uZW50cy5PcmlnaW4sQ29tcG9uZW50cy5SZW5kZXJUYXJnZXQsQ29tcG9uZW50cy5TY2FsZU1vZGUsQ29tcG9uZW50cy5TY3JvbGxGYWN0b3IsQ29tcG9uZW50cy5TaXplLENvbXBvbmVudHMuVGV4dHVyZSxDb21wb25lbnRzLlRpbnQsQ29tcG9uZW50cy5UcmFuc2Zvcm0sQ29tcG9uZW50cy5WaXNpYmxlLFRpbGVTcHJpdGVSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gVGlsZVNwcml0ZShzY2VuZSx4LHksd2lkdGgsaGVpZ2h0LHRleHR1cmUsZnJhbWUpe3ZhciByZXNvdXJjZU1hbmFnZXI9c2NlbmUuZ2FtZS5yZW5kZXJlci5yZXNvdXJjZU1hbmFnZXI7R2FtZU9iamVjdC5jYWxsKHRoaXMsc2NlbmUsJ1RpbGVTcHJpdGUnKTt0aGlzLnRpbGVQb3NpdGlvblg9MDt0aGlzLnRpbGVQb3NpdGlvblk9MDt0aGlzLmRpcnR5PXRydWU7dGhpcy50aWxlVGV4dHVyZT1udWxsO3RoaXMucmVuZGVyZXI9bnVsbDt0aGlzLnNldFRleHR1cmUodGV4dHVyZSxmcmFtZSk7dGhpcy5zZXRQb3NpdGlvbih4LHkpO3RoaXMuc2V0U2l6ZVRvRnJhbWUoKTt0aGlzLnNldE9yaWdpbigpO3RoaXMuc2V0U2l6ZSh3aWR0aCxoZWlnaHQpO3RoaXMucG90V2lkdGg9dGhpcy5mcmFtZS53aWR0aDt0aGlzLnBvdEhlaWdodD10aGlzLmZyYW1lLmhlaWdodDt0aGlzLmNhbnZhc1BhdHRlcm49bnVsbDtpZihyZXNvdXJjZU1hbmFnZXIpe3RoaXMucG90V2lkdGgtLTt0aGlzLnBvdFdpZHRofD10aGlzLnBvdFdpZHRoPj4xO3RoaXMucG90V2lkdGh8PXRoaXMucG90V2lkdGg+PjI7dGhpcy5wb3RXaWR0aHw9dGhpcy5wb3RXaWR0aD4+NDt0aGlzLnBvdFdpZHRofD10aGlzLnBvdFdpZHRoPj44O3RoaXMucG90V2lkdGh8PXRoaXMucG90V2lkdGg+PjE2O3RoaXMucG90V2lkdGgrKzt0aGlzLnBvdEhlaWdodC0tO3RoaXMucG90SGVpZ2h0fD10aGlzLnBvdEhlaWdodD4+MTt0aGlzLnBvdEhlaWdodHw9dGhpcy5wb3RIZWlnaHQ+PjI7dGhpcy5wb3RIZWlnaHR8PXRoaXMucG90SGVpZ2h0Pj40O3RoaXMucG90SGVpZ2h0fD10aGlzLnBvdEhlaWdodD4+ODt0aGlzLnBvdEhlaWdodHw9dGhpcy5wb3RIZWlnaHQ+PjE2O3RoaXMucG90SGVpZ2h0Kys7dGhpcy5yZW5kZXJlcj1zY2VuZS5nYW1lLnJlbmRlcmVyO3ZhciBnbD1zY2VuZS5nYW1lLnJlbmRlcmVyLmdsO3RoaXMudGlsZVRleHR1cmU9cmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVRleHR1cmUoMCxnbC5MSU5FQVIsZ2wuTElORUFSLGdsLlJFUEVBVCxnbC5SRVBFQVQsZ2wuUkdCQSx0aGlzLmNhbnZhc0J1ZmZlcix0aGlzLnBvdFdpZHRoLHRoaXMucG90SGVpZ2h0KTt9dGhpcy5jYW52YXNCdWZmZXI9Q2FudmFzUG9vbC5jcmVhdGUyRChudWxsLHRoaXMucG90V2lkdGgsdGhpcy5wb3RIZWlnaHQpO3RoaXMuY2FudmFzQnVmZmVyQ3R4PXRoaXMuY2FudmFzQnVmZmVyLmdldENvbnRleHQoJzJkJyk7dGhpcy51cGRhdGVUaWxlVGV4dHVyZSgpO30sdXBkYXRlVGlsZVRleHR1cmU6ZnVuY3Rpb24gdXBkYXRlVGlsZVRleHR1cmUoKXtpZighdGhpcy5kaXJ0eSl7cmV0dXJuO310aGlzLmNhbnZhc0J1ZmZlci53aWR0aD10aGlzLmNhbnZhc0J1ZmZlci53aWR0aDt0aGlzLmNhbnZhc0J1ZmZlckN0eC5kcmF3SW1hZ2UodGhpcy5mcmFtZS5zb3VyY2UuaW1hZ2UsdGhpcy5mcmFtZS5jdXRYLHRoaXMuZnJhbWUuY3V0WSx0aGlzLmZyYW1lLmN1dFdpZHRoLHRoaXMuZnJhbWUuY3V0SGVpZ2h0LDAsMCx0aGlzLnBvdFdpZHRoLHRoaXMucG90SGVpZ2h0KTtpZih0aGlzLnJlbmRlcmVyKXt0aGlzLnJlbmRlcmVyLnVwbG9hZENhbnZhc1RvR1BVKHRoaXMuY2FudmFzQnVmZmVyLHRoaXMudGlsZVRleHR1cmUsdHJ1ZSk7fWVsc2V7dGhpcy5jYW52YXNQYXR0ZXJuPXRoaXMuY2FudmFzQnVmZmVyQ3R4LmNyZWF0ZVBhdHRlcm4odGhpcy5jYW52YXNCdWZmZXIsJ3JlcGVhdCcpO310aGlzLmRpcnR5PWZhbHNlO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7aWYodGhpcy5yZW5kZXJlcil7dGhpcy5yZW5kZXJlci5nbC5kZWxldGVUZXh0dXJlKHRoaXMudGlsZVRleHR1cmUpO31DYW52YXNQb29sLnJlbW92ZSh0aGlzLmNhbnZhc0J1ZmZlcik7dGhpcy5jYW52YXNQYXR0ZXJuPW51bGw7dGhpcy5jYW52YXNCdWZmZXJDdHg9bnVsbDt0aGlzLmNhbnZhc0J1ZmZlcj1udWxsO3RoaXMucmVuZGVyZXI9bnVsbDt0aGlzLnZpc2libGU9ZmFsc2U7fX0pO21vZHVsZS5leHBvcnRzPVRpbGVTcHJpdGU7LyoqKi99LC8qIDg2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRWxsaXBzZT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gRWxsaXBzZSh4LHksd2lkdGgsaGVpZ2h0KXtpZih4PT09dW5kZWZpbmVkKXt4PTA7fWlmKHk9PT11bmRlZmluZWQpe3k9MDt9aWYod2lkdGg9PT11bmRlZmluZWQpe3dpZHRoPTA7fWlmKGhlaWdodD09PXVuZGVmaW5lZCl7aGVpZ2h0PTA7fXRoaXMueD14O3RoaXMueT15O3RoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O30sc2V0VG86ZnVuY3Rpb24gc2V0VG8oeCx5LHdpZHRoLGhlaWdodCl7dGhpcy54PXg7dGhpcy55PXk7dGhpcy53aWR0aD13aWR0aDt0aGlzLmhlaWdodD1oZWlnaHQ7cmV0dXJuIHRoaXM7fSxzZXRFbXB0eTpmdW5jdGlvbiBzZXRFbXB0eSgpe3JldHVybiB0aGlzLnNldFRvKDAsMCwwLDApO30sc2V0UG9zaXRpb246ZnVuY3Rpb24gc2V0UG9zaXRpb24oeCx5KXtpZih5PT09dW5kZWZpbmVkKXt5PXg7fXRoaXMueD14O3RoaXMueT15O3JldHVybiB0aGlzO30sc2V0U2l6ZTpmdW5jdGlvbiBzZXRTaXplKHdpZHRoLGhlaWdodCl7aWYoaGVpZ2h0PT09dW5kZWZpbmVkKXtoZWlnaHQ9d2lkdGg7fXRoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3JldHVybiB0aGlzO30saXNFbXB0eTpmdW5jdGlvbiBpc0VtcHR5KCl7cmV0dXJuIHRoaXMud2lkdGg8PTB8fHRoaXMuaGVpZ2h0PD0wO30sLy8gIEFLQSBTZW1pIE1pbm9yIEF4aXNcbmdldE1pbm9yUmFkaXVzOmZ1bmN0aW9uIGdldE1pbm9yUmFkaXVzKCl7cmV0dXJuIE1hdGgubWluKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLzI7fSwvLyAgQUtBIFNlbWkgTWFqb3IgQXhpc1xuZ2V0TWFqb3JSYWRpdXM6ZnVuY3Rpb24gZ2V0TWFqb3JSYWRpdXMoKXtyZXR1cm4gTWF0aC5tYXgodGhpcy53aWR0aCx0aGlzLmhlaWdodCkvMjt9LGxlZnQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy54O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodmFsdWU+PXRoaXMucmlnaHQpe3RoaXMud2lkdGg9MDt9ZWxzZXt0aGlzLndpZHRoPXRoaXMucmlnaHQtdmFsdWU7fXRoaXMueD12YWx1ZTt9fSxyaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLngrdGhpcy53aWR0aDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlPD10aGlzLngpe3RoaXMud2lkdGg9MDt9ZWxzZXt0aGlzLndpZHRoPXZhbHVlLXRoaXMueDt9fX0sdG9wOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMueTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHZhbHVlPj10aGlzLmJvdHRvbSl7dGhpcy5oZWlnaHQ9MDt0aGlzLnk9dmFsdWU7fWVsc2V7dGhpcy5oZWlnaHQ9dGhpcy5ib3R0b20tdmFsdWU7fX19LGJvdHRvbTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnkrdGhpcy5oZWlnaHQ7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZTw9dGhpcy55KXt0aGlzLmhlaWdodD0wO31lbHNle3RoaXMuaGVpZ2h0PXZhbHVlLXRoaXMueTt9fX19KTttb2R1bGUuZXhwb3J0cz1FbGxpcHNlOy8qKiovfSwvKiA4NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBDcmVhdGVzIGFuIFhIUlNldHRpbmdzIE9iamVjdCB3aXRoIGRlZmF1bHQgdmFsdWVzXG52YXIgWEhSU2V0dGluZ3M9ZnVuY3Rpb24gWEhSU2V0dGluZ3MocmVzcG9uc2VUeXBlLGFzeW5jLHVzZXIscGFzc3dvcmQsdGltZW91dCl7aWYocmVzcG9uc2VUeXBlPT09dW5kZWZpbmVkKXtyZXNwb25zZVR5cGU9Jyc7fWlmKGFzeW5jPT09dW5kZWZpbmVkKXthc3luYz10cnVlO31pZih1c2VyPT09dW5kZWZpbmVkKXt1c2VyPScnO31pZihwYXNzd29yZD09PXVuZGVmaW5lZCl7cGFzc3dvcmQ9Jyc7fWlmKHRpbWVvdXQ9PT11bmRlZmluZWQpe3RpbWVvdXQ9MDt9Ly8gQmVmb3JlIHNlbmRpbmcgYSByZXF1ZXN0LCBzZXQgdGhlIHhoci5yZXNwb25zZVR5cGUgdG8gXCJ0ZXh0XCIsIFxuLy8gXCJhcnJheWJ1ZmZlclwiLCBcImJsb2JcIiwgb3IgXCJkb2N1bWVudFwiLCBkZXBlbmRpbmcgb24geW91ciBkYXRhIG5lZWRzLiBcbi8vIE5vdGUsIHNldHRpbmcgeGhyLnJlc3BvbnNlVHlwZSA9ICcnIChvciBvbWl0dGluZykgd2lsbCBkZWZhdWx0IHRoZSByZXNwb25zZSB0byBcInRleHRcIi5cbnJldHVybnsvLyAgSWdub3JlZCBieSB0aGUgTG9hZGVyLCBvbmx5IHVzZWQgYnkgRmlsZS5cbnJlc3BvbnNlVHlwZTpyZXNwb25zZVR5cGUsYXN5bmM6YXN5bmMsLy8gIGNyZWRlbnRpYWxzXG51c2VyOnVzZXIscGFzc3dvcmQ6cGFzc3dvcmQsLy8gIHRpbWVvdXQgaW4gbXMgKDAgPSBubyB0aW1lb3V0KVxudGltZW91dDp0aW1lb3V0LC8vICBzZXRSZXF1ZXN0SGVhZGVyXG5oZWFkZXI6dW5kZWZpbmVkLGhlYWRlclZhbHVlOnVuZGVmaW5lZCwvLyAgb3ZlcnJpZGVNaW1lVHlwZVxub3ZlcnJpZGVNaW1lVHlwZTp1bmRlZmluZWR9O307bW9kdWxlLmV4cG9ydHM9WEhSU2V0dGluZ3M7LyoqKi99LC8qIDg4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMik7dmFyIEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXygyMyk7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpOy8vICBQaGFzZXIuTG9hZGVyLkZpbGVUeXBlcy5KU09ORmlsZVxudmFyIEpTT05GaWxlPW5ldyBDbGFzcyh7RXh0ZW5kczpGaWxlLGluaXRpYWxpemU6ZnVuY3Rpb24gSlNPTkZpbGUoa2V5LHVybCxwYXRoLHhoclNldHRpbmdzKXt2YXIgZmlsZUtleT10eXBlb2Yga2V5PT09J3N0cmluZyc/a2V5OkdldEZhc3RWYWx1ZShrZXksJ2tleScsJycpO3ZhciBmaWxlQ29uZmlnPXt0eXBlOidqc29uJyxleHRlbnNpb246R2V0RmFzdFZhbHVlKGtleSwnZXh0ZW5zaW9uJywnanNvbicpLHJlc3BvbnNlVHlwZTondGV4dCcsa2V5OmZpbGVLZXksdXJsOkdldEZhc3RWYWx1ZShrZXksJ2ZpbGUnLHVybCkscGF0aDpwYXRoLHhoclNldHRpbmdzOkdldEZhc3RWYWx1ZShrZXksJ3hocicseGhyU2V0dGluZ3MpfTtGaWxlLmNhbGwodGhpcyxmaWxlQ29uZmlnKTt9LG9uUHJvY2VzczpmdW5jdGlvbiBvblByb2Nlc3MoY2FsbGJhY2spe3RoaXMuc3RhdGU9Q09OU1QuRklMRV9QUk9DRVNTSU5HO3RoaXMuZGF0YT1KU09OLnBhcnNlKHRoaXMueGhyTG9hZGVyLnJlc3BvbnNlVGV4dCk7dGhpcy5vbkNvbXBsZXRlKCk7Y2FsbGJhY2sodGhpcyk7fX0pO0pTT05GaWxlLmNyZWF0ZT1mdW5jdGlvbihsb2FkZXIsa2V5LHVybCx4aHJTZXR0aW5ncyl7aWYoQXJyYXkuaXNBcnJheShrZXkpKXtmb3IodmFyIGk9MDtpPGtleS5sZW5ndGg7aSsrKXsvLyAgSWYgaXQncyBhbiBhcnJheSBpdCBoYXMgdG8gYmUgYW4gYXJyYXkgb2YgT2JqZWN0cywgc28gd2UgZ2V0IGV2ZXJ5dGhpbmcgb3V0IG9mIHRoZSAna2V5JyBvYmplY3RcbmxvYWRlci5hZGRGaWxlKG5ldyBKU09ORmlsZShrZXlbaV0sdXJsLGxvYWRlci5wYXRoLHhoclNldHRpbmdzKSk7fX1lbHNle2xvYWRlci5hZGRGaWxlKG5ldyBKU09ORmlsZShrZXksdXJsLGxvYWRlci5wYXRoLHhoclNldHRpbmdzKSk7fS8vICBGb3IgbWV0aG9kIGNoYWluaW5nXG5yZXR1cm4gbG9hZGVyO307bW9kdWxlLmV4cG9ydHM9SlNPTkZpbGU7LyoqKi99LC8qIDg5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdhbWVPYmplY3RzLk9iamVjdFBvb2xcbnZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApOy8vICBBbiBPYmplY3QgUG9vbFxudmFyIE9iamVjdFBvb2w9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIE9iamVjdFBvb2wobWFuYWdlcixjbGFzc1R5cGUsbWF4U2l6ZSxjcmVhdGVDYWxsYmFjayxjYWxsYmFja1Njb3BlKXtpZihtYXhTaXplPT09dW5kZWZpbmVkKXttYXhTaXplPS0xO31pZihjcmVhdGVDYWxsYmFjaz09PXVuZGVmaW5lZCl7Y3JlYXRlQ2FsbGJhY2s9dGhpcy5tYWtlR2FtZU9iamVjdDt9aWYoY2FsbGJhY2tTY29wZT09PXVuZGVmaW5lZCl7Y2FsbGJhY2tTY29wZT10aGlzO310aGlzLm1hbmFnZXI9bWFuYWdlcjt0aGlzLnNjZW5lPW1hbmFnZXIuc2NlbmU7dGhpcy5kaXNwbGF5TGlzdD10aGlzLnNjZW5lLnN5cy5kaXNwbGF5TGlzdDt0aGlzLnVwZGF0ZUxpc3Q9dGhpcy5zY2VuZS5zeXMudXBkYXRlTGlzdDt0aGlzLmNyZWF0ZUNhbGxiYWNrPWNyZWF0ZUNhbGxiYWNrO3RoaXMuY2FsbGJhY2tTY29wZT1jYWxsYmFja1Njb3BlO3RoaXMubWF4U2l6ZT1tYXhTaXplO3RoaXMuY2xhc3NUeXBlPWNsYXNzVHlwZTt0aGlzLl9saXN0PVtdO30sbWFrZUdhbWVPYmplY3Q6ZnVuY3Rpb24gbWFrZUdhbWVPYmplY3QoKXt2YXIgZ2FtZU9iamVjdD1uZXcgdGhpcy5jbGFzc1R5cGUodGhpcy5zY2VuZSk7dGhpcy5kaXNwbGF5TGlzdC5hZGQoZ2FtZU9iamVjdCk7Z2FtZU9iamVjdC5zZXRBY3RpdmUoZmFsc2UpO2dhbWVPYmplY3Quc2V0VmlzaWJsZShmYWxzZSk7cmV0dXJuIGdhbWVPYmplY3Q7fSwvLyAgQWRkIGFuIGV4aXN0aW5nIEdhbWVPYmplY3QsIG9yIEFycmF5IG9yIEdyb3VwIG9mIEdhbWVPYmplY3RzIGludG8gdGhpcyBQb29sXG5hZGQ6ZnVuY3Rpb24gYWRkKGNoaWxkKXt2YXIgY2hpbGRyZW47aWYoQXJyYXkuaXNBcnJheShjaGlsZCkpe2NoaWxkcmVuPWNoaWxkO31lbHNlIGlmKGNoaWxkLmhhc093blByb3BlcnR5KCdjaGlsZHJlbicpKXtjaGlsZHJlbj1jaGlsZC5jaGlsZHJlbi5nZXRBcnJheSgpO31lbHNle2NoaWxkcmVuPVtjaGlsZF07fXZhciBsZW49Y2hpbGRyZW4ubGVuZ3RoO2lmKHRoaXMubWF4U2l6ZT4tMSl7dmFyIGZyZWU9dGhpcy5tYXhTaXplLXRoaXMuX2xpc3QubGVuZ3RoO2lmKGxlbj5mcmVlKXtsZW49ZnJlZTt9fWZvcih2YXIgaT0wO2k8bGVuO2krKyl7dGhpcy5fbGlzdC5wdXNoKGNoaWxkcmVuW2ldKTt9cmV0dXJuIHRoaXM7fSwvLyAgQ3JlYXRlIFggbmV3IEdhbWVPYmplY3RzIGluIHRoaXMgUG9vbCBpZiB0aGVyZSBpcyBjYXBhY2l0eSB0byBkbyBzb1xuY3JlYXRlOmZ1bmN0aW9uIGNyZWF0ZShxdWFudGl0eSl7Zm9yKHZhciBpPTA7aTxxdWFudGl0eTtpKyspe2lmKCF0aGlzLmlzRnVsbCgpKXt0aGlzLl9saXN0LnB1c2godGhpcy5jcmVhdGVDYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tTY29wZSkpO319cmV0dXJuIHRoaXM7fSwvLyAgUHJveHkgbWV0aG9kIGZvciBzdWItY2xhc3NlcyB0byBvdmVycmlkZVxuZ2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmdldEZyZWVHYW1lT2JqZWN0KCk7fSxnZXRGcmVlR2FtZU9iamVjdDpmdW5jdGlvbiBnZXRGcmVlR2FtZU9iamVjdCgpe3ZhciBnYW1lT2JqZWN0O2Zvcih2YXIgaT0wO2k8dGhpcy5fbGlzdC5sZW5ndGg7aSsrKXtnYW1lT2JqZWN0PXRoaXMuX2xpc3RbaV07aWYoIWdhbWVPYmplY3QuYWN0aXZlKXtnYW1lT2JqZWN0LnNldEFjdGl2ZSh0cnVlKTtnYW1lT2JqZWN0LnNldFZpc2libGUodHJ1ZSk7cmV0dXJuIGdhbWVPYmplY3Q7fX1pZighdGhpcy5pc0Z1bGwoKSl7Z2FtZU9iamVjdD10aGlzLmNyZWF0ZUNhbGxiYWNrLmNhbGwodGhpcy5jYWxsYmFja1Njb3BlKTtnYW1lT2JqZWN0LnNldEFjdGl2ZSh0cnVlKTtnYW1lT2JqZWN0LnNldFZpc2libGUodHJ1ZSk7dGhpcy5fbGlzdC5wdXNoKGdhbWVPYmplY3QpO3JldHVybiBnYW1lT2JqZWN0O31yZXR1cm4gbnVsbDt9LGtpbGw6ZnVuY3Rpb24ga2lsbChnYW1lT2JqZWN0KXtpZih0aGlzLl9saXN0LmluZGV4T2YoZ2FtZU9iamVjdCk+LTEpe2dhbWVPYmplY3Quc2V0QWN0aXZlKGZhbHNlKTt9fSxraWxsQW5kSGlkZTpmdW5jdGlvbiBraWxsQW5kSGlkZShnYW1lT2JqZWN0KXtpZih0aGlzLl9saXN0LmluZGV4T2YoZ2FtZU9iamVjdCk+LTEpe2dhbWVPYmplY3Quc2V0QWN0aXZlKGZhbHNlKTtnYW1lT2JqZWN0LnNldFZpc2libGUoZmFsc2UpO319LHB1cmdlOmZ1bmN0aW9uIHB1cmdlKGRlc3Ryb3lDaGlsZHJlbil7aWYoZGVzdHJveUNoaWxkcmVuPT09dW5kZWZpbmVkKXtkZXN0cm95Q2hpbGRyZW49dHJ1ZTt9aWYoZGVzdHJveUNoaWxkcmVuKXtmb3IodmFyIGk9MDtpPHRoaXMuX2xpc3QubGVuZ3RoO2krKyl7dGhpcy5fbGlzdFtpXS5kZXN0cm95KCk7fX10aGlzLl9saXN0Lmxlbmd0aD0wO30saXNGdWxsOmZ1bmN0aW9uIGlzRnVsbCgpe2lmKHRoaXMubWF4U2l6ZT09PS0xKXtyZXR1cm4gZmFsc2U7fWVsc2V7cmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoPT09dGhpcy5tYXhTaXplO319LHVwZGF0ZTpmdW5jdGlvbiB1cGRhdGUodGltZSxkZWx0YSl7Zm9yKHZhciBpPTA7aTx0aGlzLl9saXN0Lmxlbmd0aDtpKyspe3ZhciBnYW1lT2JqZWN0PXRoaXMuX2xpc3RbaV07aWYoZ2FtZU9iamVjdC5hY3RpdmUpe2dhbWVPYmplY3QudXBkYXRlKHRpbWUsZGVsdGEpO319fSxnZXRUb3RhbFVzZWQ6ZnVuY3Rpb24gZ2V0VG90YWxVc2VkKCl7dmFyIHRvdGFsPTA7Zm9yKHZhciBpPTA7aTx0aGlzLl9saXN0Lmxlbmd0aDtpKyspe2lmKHRoaXMuX2xpc3RbaV0uYWN0aXZlKXt0b3RhbCsrO319cmV0dXJuIHRvdGFsO30sZ2V0VG90YWxGcmVlOmZ1bmN0aW9uIGdldFRvdGFsRnJlZSgpe3ZhciB1c2VkPXRoaXMuZ2V0VG90YWxVc2VkKCk7dmFyIGNhcGFjaXR5PXRoaXMubWF4U2l6ZT09PS0xPzk5OTk5OTk5OTk5OTp0aGlzLm1heFNpemU7cmV0dXJuIGNhcGFjaXR5LXVzZWQ7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLm1hbmFnZXI9dW5kZWZpbmVkO3RoaXMuc2NlbmU9dW5kZWZpbmVkO3RoaXMuZGlzcGxheUxpc3Q9dW5kZWZpbmVkO3RoaXMudXBkYXRlTGlzdD11bmRlZmluZWQ7dGhpcy5jcmVhdGVDYWxsYmFjaz11bmRlZmluZWQ7dGhpcy5jYWxsYmFja1Njb3BlPXVuZGVmaW5lZDt0aGlzLl9saXN0Lmxlbmd0aD0wO319KTttb2R1bGUuZXhwb3J0cz1PYmplY3RQb29sOy8qKiovfSwvKiA5MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBodHRwOi8vd3d3LmJsYWNrcGF3bi5jb20vdGV4dHMvcG9pbnRpbnBvbHkvXG4vLyAgcG9pbnRzIGlzIGFuIGFycmF5IG9mIFBvaW50LWxpa2Ugb2JqZWN0cyB3aXRoIHB1YmxpYyB4L3kgcHJvcGVydGllc1xuLy8gIHJldHVybnMgYW4gYXJyYXkgY29udGFpbmluZyBhbGwgcG9pbnRzIHRoYXQgYXJlIHdpdGhpbiB0aGUgdHJpYW5nbGUsIG9yIGFuIGVtcHR5IGFycmF5IGlmIG5vbmVcbi8vICBpZiAncmV0dXJuRmlyc3QnIGlzIHRydWUgaXQgd2lsbCByZXR1cm4gYWZ0ZXIgdGhlIGZpcnN0IHBvaW50IHdpdGhpbiB0aGUgdHJpYW5nbGUgaXMgZm91bmRcbnZhciBDb250YWluc0FycmF5PWZ1bmN0aW9uIENvbnRhaW5zQXJyYXkodHJpYW5nbGUscG9pbnRzLHJldHVybkZpcnN0LG91dCl7aWYocmV0dXJuRmlyc3Q9PT11bmRlZmluZWQpe3JldHVybkZpcnN0PWZhbHNlO31pZihvdXQ9PT11bmRlZmluZWQpe291dD1bXTt9dmFyIHYweD10cmlhbmdsZS54My10cmlhbmdsZS54MTt2YXIgdjB5PXRyaWFuZ2xlLnkzLXRyaWFuZ2xlLnkxO3ZhciB2MXg9dHJpYW5nbGUueDItdHJpYW5nbGUueDE7dmFyIHYxeT10cmlhbmdsZS55Mi10cmlhbmdsZS55MTt2YXIgZG90MDA9djB4KnYweCt2MHkqdjB5O3ZhciBkb3QwMT12MHgqdjF4K3YweSp2MXk7dmFyIGRvdDExPXYxeCp2MXgrdjF5KnYxeTsvLyBDb21wdXRlIGJhcnljZW50cmljIGNvb3JkaW5hdGVzXG52YXIgYj1kb3QwMCpkb3QxMS1kb3QwMSpkb3QwMTt2YXIgaW52PWI9PT0wPzA6MS9iO3ZhciB1O3ZhciB2O3ZhciB2Mng7dmFyIHYyeTt2YXIgZG90MDI7dmFyIGRvdDEyO3ZhciB4MT10cmlhbmdsZS54MTt2YXIgeTE9dHJpYW5nbGUueTE7Zm9yKHZhciBpPTA7aTxwb2ludHMubGVuZ3RoO2krKyl7djJ4PXBvaW50c1tpXS54LXgxO3YyeT1wb2ludHNbaV0ueS15MTtkb3QwMj12MHgqdjJ4K3YweSp2Mnk7ZG90MTI9djF4KnYyeCt2MXkqdjJ5O3U9KGRvdDExKmRvdDAyLWRvdDAxKmRvdDEyKSppbnY7dj0oZG90MDAqZG90MTItZG90MDEqZG90MDIpKmludjtpZih1Pj0wJiZ2Pj0wJiZ1K3Y8MSl7b3V0LnB1c2goe3g6cG9pbnRzW2ldLngseTpwb2ludHNbaV0ueX0pO2lmKHJldHVybkZpcnN0KXticmVhazt9fX1yZXR1cm4gb3V0O307bW9kdWxlLmV4cG9ydHM9Q29udGFpbnNBcnJheTsvKioqL30sLyogOTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUm90YXRlQXJvdW5kWFk9ZnVuY3Rpb24gUm90YXRlQXJvdW5kWFkobGluZSx4LHksYW5nbGUpe3ZhciBjPU1hdGguY29zKGFuZ2xlKTt2YXIgcz1NYXRoLnNpbihhbmdsZSk7dmFyIHR4PWxpbmUueDEteDt2YXIgdHk9bGluZS55MS15O2xpbmUueDE9dHgqYy10eSpzK3g7bGluZS55MT10eCpzK3R5KmMreTt0eD1saW5lLngyLXg7dHk9bGluZS55Mi15O2xpbmUueDI9dHgqYy10eSpzK3g7bGluZS55Mj10eCpzK3R5KmMreTtyZXR1cm4gbGluZTt9O21vZHVsZS5leHBvcnRzPVJvdGF0ZUFyb3VuZFhZOy8qKiovfSwvKiA5MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEb3Q9ZnVuY3Rpb24gRG90KHBvaW50QSxwb2ludEIpe3JldHVybiBwb2ludEEueCpwb2ludEIueCtwb2ludEEueSpwb2ludEIueTt9O21vZHVsZS5leHBvcnRzPURvdDsvKioqL30sLyogOTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0QXNwZWN0UmF0aW89ZnVuY3Rpb24gR2V0QXNwZWN0UmF0aW8ocmVjdCl7cmV0dXJuIHJlY3QuaGVpZ2h0PT09MD9OYU46cmVjdC53aWR0aC9yZWN0LmhlaWdodDt9O21vZHVsZS5leHBvcnRzPUdldEFzcGVjdFJhdGlvOy8qKiovfSwvKiA5NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBSb3RhdGVBcm91bmRYWT1mdW5jdGlvbiBSb3RhdGVBcm91bmRYWSh0cmlhbmdsZSx4LHksYW5nbGUpe3ZhciBjPU1hdGguY29zKGFuZ2xlKTt2YXIgcz1NYXRoLnNpbihhbmdsZSk7dmFyIHR4PXRyaWFuZ2xlLngxLXg7dmFyIHR5PXRyaWFuZ2xlLnkxLXk7dHJpYW5nbGUueDE9dHgqYy10eSpzK3g7dHJpYW5nbGUueTE9dHgqcyt0eSpjK3k7dHg9dHJpYW5nbGUueDIteDt0eT10cmlhbmdsZS55Mi15O3RyaWFuZ2xlLngyPXR4KmMtdHkqcyt4O3RyaWFuZ2xlLnkyPXR4KnMrdHkqYyt5O3R4PXRyaWFuZ2xlLngzLXg7dHk9dHJpYW5nbGUueTMteTt0cmlhbmdsZS54Mz10eCpjLXR5KnMreDt0cmlhbmdsZS55Mz10eCpzK3R5KmMreTtyZXR1cm4gdHJpYW5nbGU7fTttb2R1bGUuZXhwb3J0cz1Sb3RhdGVBcm91bmRYWTsvKioqL30sLyogOTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyBDb2xsaXNpb24gVHlwZXMgLSBEZXRlcm1pbmUgaWYgYW5kIGhvdyBlbnRpdGllcyBjb2xsaWRlIHdpdGggZWFjaCBvdGhlclxuLy8gSW4gQUNUSVZFIHZzLiBMSVRFIG9yIEZJWEVEIHZzLiBBTlkgY29sbGlzaW9ucywgb25seSB0aGUgXCJ3ZWFrXCIgZW50aXR5IG1vdmVzLFxuLy8gd2hpbGUgdGhlIG90aGVyIG9uZSBzdGF5cyBmaXhlZC4gSW4gQUNUSVZFIHZzLiBBQ1RJVkUgYW5kIEFDVElWRSB2cy4gUEFTU0lWRVxuLy8gY29sbGlzaW9ucywgYm90aCBlbnRpdGllcyBhcmUgbW92ZWQuIExJVEUgb3IgUEFTU0lWRSBlbnRpdGllcyBkb24ndCBjb2xsaWRlXG4vLyB3aXRoIG90aGVyIExJVEUgb3IgUEFTU0lWRSBlbnRpdGllcyBhdCBhbGwuIFRoZSBiZWhhdmlvciBmb3IgRklYRUQgdnMuXG4vLyBGSVhFRCBjb2xsaXNpb25zIGlzIHVuZGVmaW5lZC5cbm1vZHVsZS5leHBvcnRzPXtOT05FOjAsQToxLEI6MixCT1RIOjN9Oy8qKiovfSwvKiA5NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBTaGFsbG93IE9iamVjdCBDbG9uZS4gV2lsbCBub3QgY2xvbmUgbmVzdGVkIG9iamVjdHMuXG52YXIgQ2xvbmU9ZnVuY3Rpb24gQ2xvbmUob2JqKXt2YXIgY2xvbmU9e307Zm9yKHZhciBrZXkgaW4gb2JqKXtpZihBcnJheS5pc0FycmF5KG9ialtrZXldKSl7Y2xvbmVba2V5XT1vYmpba2V5XS5zbGljZSgwKTt9ZWxzZXtjbG9uZVtrZXldPW9ialtrZXldO319cmV0dXJuIGNsb25lO307bW9kdWxlLmV4cG9ydHM9Q2xvbmU7LyoqKi99LC8qIDk3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGc7Ly8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpczt9KCk7dHJ5ey8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuZz1nfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl8fCgxLGV2YWwpKFwidGhpc1wiKTt9Y2F0Y2goZSl7Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcbmlmKCh0eXBlb2Ygd2luZG93PT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZih3aW5kb3cpKT09PVwib2JqZWN0XCIpZz13aW5kb3c7fS8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5tb2R1bGUuZXhwb3J0cz1nOy8qKiovfSwvKiA5OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUaGlzIGlzIGEgc2xpZ2h0bHkgbW9kaWZpZWQgdmVyc2lvbiBvZiBqUXVlcnkuaXNQbGFpbk9iamVjdC5cbiogQSBwbGFpbiBvYmplY3QgaXMgYW4gb2JqZWN0IHdob3NlIGludGVybmFsIGNsYXNzIHByb3BlcnR5IGlzIFtvYmplY3QgT2JqZWN0XS5cbiogQG1ldGhvZCBQaGFzZXIuVXRpbHMuaXNQbGFpbk9iamVjdFxuKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuKiBAcmV0dXJuIHtib29sZWFufSAtIHRydWUgaWYgdGhlIG9iamVjdCBpcyBwbGFpbiwgb3RoZXJ3aXNlIGZhbHNlLlxuKi92YXIgSXNQbGFpbk9iamVjdD1mdW5jdGlvbiBJc1BsYWluT2JqZWN0KG9iail7Ly8gTm90IHBsYWluIG9iamVjdHM6XG4vLyAtIEFueSBvYmplY3Qgb3IgdmFsdWUgd2hvc2UgaW50ZXJuYWwgW1tDbGFzc11dIHByb3BlcnR5IGlzIG5vdCBcIltvYmplY3QgT2JqZWN0XVwiXG4vLyAtIERPTSBub2Rlc1xuLy8gLSB3aW5kb3dcbmlmKCh0eXBlb2Ygb2JqPT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihvYmopKSE9PSdvYmplY3QnfHxvYmoubm9kZVR5cGV8fG9iaj09PW9iai53aW5kb3cpe3JldHVybiBmYWxzZTt9Ly8gU3VwcG9ydDogRmlyZWZveCA8MjBcbi8vIFRoZSB0cnkvY2F0Y2ggc3VwcHJlc3NlcyBleGNlcHRpb25zIHRocm93biB3aGVuIGF0dGVtcHRpbmcgdG8gYWNjZXNzXG4vLyB0aGUgXCJjb25zdHJ1Y3RvclwiIHByb3BlcnR5IG9mIGNlcnRhaW4gaG9zdCBvYmplY3RzLCBpZS4gfHdpbmRvdy5sb2NhdGlvbnxcbi8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTgxNDYyMlxudHJ5e2lmKG9iai5jb25zdHJ1Y3RvciYmIXt9Lmhhc093blByb3BlcnR5LmNhbGwob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwnaXNQcm90b3R5cGVPZicpKXtyZXR1cm4gZmFsc2U7fX1jYXRjaChlKXtyZXR1cm4gZmFsc2U7fS8vIElmIHRoZSBmdW5jdGlvbiBoYXNuJ3QgcmV0dXJuZWQgYWxyZWFkeSwgd2UncmUgY29uZmlkZW50IHRoYXRcbi8vIHxvYmp8IGlzIGEgcGxhaW4gb2JqZWN0LCBjcmVhdGVkIGJ5IHt9IG9yIGNvbnN0cnVjdGVkIHdpdGggbmV3IE9iamVjdFxucmV0dXJuIHRydWU7fTttb2R1bGUuZXhwb3J0cz1Jc1BsYWluT2JqZWN0Oy8qKiovfSwvKiA5OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5BY3Rpb25zXG5tb2R1bGUuZXhwb3J0cz17QW5nbGU6X193ZWJwYWNrX3JlcXVpcmVfXygyMjgpLENhbGw6X193ZWJwYWNrX3JlcXVpcmVfXygyMjkpLEdldEZpcnN0Ol9fd2VicGFja19yZXF1aXJlX18oMjMwKSxHcmlkQWxpZ246X193ZWJwYWNrX3JlcXVpcmVfXygyMzEpLEluY0FscGhhOl9fd2VicGFja19yZXF1aXJlX18oMjcwKSxJbmNYOl9fd2VicGFja19yZXF1aXJlX18oMjcxKSxJbmNYWTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI3MiksSW5jWTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI3MyksUGxhY2VPbkNpcmNsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI3NCksUGxhY2VPbkVsbGlwc2U6X193ZWJwYWNrX3JlcXVpcmVfXygyNzUpLFBsYWNlT25MaW5lOl9fd2VicGFja19yZXF1aXJlX18oMjc2KSxQbGFjZU9uUmVjdGFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oMjc3KSxQbGFjZU9uVHJpYW5nbGU6X193ZWJwYWNrX3JlcXVpcmVfXygyNzgpLFBsYXlBbmltYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXygyNzkpLFJhbmRvbUNpcmNsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI4MCksUmFuZG9tRWxsaXBzZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI4MSksUmFuZG9tTGluZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI4MiksUmFuZG9tUmVjdGFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oMjgzKSxSYW5kb21UcmlhbmdsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI4NCksUm90YXRlOl9fd2VicGFja19yZXF1aXJlX18oMjg1KSxSb3RhdGVBcm91bmQ6X193ZWJwYWNrX3JlcXVpcmVfXygyODYpLFJvdGF0ZUFyb3VuZERpc3RhbmNlOl9fd2VicGFja19yZXF1aXJlX18oMjg3KSxTY2FsZVg6X193ZWJwYWNrX3JlcXVpcmVfXygyODgpLFNjYWxlWFk6X193ZWJwYWNrX3JlcXVpcmVfXygyODkpLFNjYWxlWTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI5MCksU2V0QWxwaGE6X193ZWJwYWNrX3JlcXVpcmVfXygyOTEpLFNldEhpdEFyZWE6X193ZWJwYWNrX3JlcXVpcmVfXygyOTIpLFNldE9yaWdpbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDI5MyksU2V0Um90YXRpb246X193ZWJwYWNrX3JlcXVpcmVfXygyOTQpLFNldFNjYWxlOl9fd2VicGFja19yZXF1aXJlX18oMjk1KSxTZXRTY2FsZVg6X193ZWJwYWNrX3JlcXVpcmVfXygyOTYpLFNldFNjYWxlWTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI5NyksU2V0VmlzaWJsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI5OCksU2V0WDpfX3dlYnBhY2tfcmVxdWlyZV9fKDI5OSksU2V0WFk6X193ZWJwYWNrX3JlcXVpcmVfXygzMDApLFNldFk6X193ZWJwYWNrX3JlcXVpcmVfXygzMDEpLFNldFo6X193ZWJwYWNrX3JlcXVpcmVfXygzMDIpLFNoaWZ0UG9zaXRpb246X193ZWJwYWNrX3JlcXVpcmVfXygzMDMpLFNtb290aGVyU3RlcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMwNCksU21vb3RoU3RlcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMwNSksU3ByZWFkOl9fd2VicGFja19yZXF1aXJlX18oMzA2KSxUb2dnbGVWaXNpYmxlOl9fd2VicGFja19yZXF1aXJlX18oMzA3KX07LyoqKi99LC8qIDEwMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDT05TVD17LyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIHRvcC1sZWZ0IGFsaWdubWVudCBvciBwb3NpdGlvbi5cbiAgICAqIEBjb25zdGFudFxuICAgICogQHR5cGUge2ludGVnZXJ9XG4gICAgKi9UT1BfTEVGVDowLC8qKlxuICAgICogQSBjb25zdGFudCByZXByZXNlbnRpbmcgYSB0b3AtY2VudGVyIGFsaWdubWVudCBvciBwb3NpdGlvbi5cbiAgICAqIEBjb25zdGFudFxuICAgICogQHR5cGUge2ludGVnZXJ9XG4gICAgKi9UT1BfQ0VOVEVSOjEsLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIHRvcC1yaWdodCBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovVE9QX1JJR0hUOjIsLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIGxlZnQtdG9wIGFsaWdubWVudCBvciBwb3NpdGlvbi5cbiAgICAqIEBjb25zdGFudFxuICAgICogQHR5cGUge2ludGVnZXJ9XG4gICAgKi9MRUZUX1RPUDozLC8qKlxuICAgICogQSBjb25zdGFudCByZXByZXNlbnRpbmcgYSBsZWZ0LWNlbnRlciBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovTEVGVF9DRU5URVI6NCwvKipcbiAgICAqIEEgY29uc3RhbnQgcmVwcmVzZW50aW5nIGEgbGVmdC1ib3R0b20gYWxpZ25tZW50IG9yIHBvc2l0aW9uLlxuICAgICogQGNvbnN0YW50XG4gICAgKiBAdHlwZSB7aW50ZWdlcn1cbiAgICAqL0xFRlRfQk9UVE9NOjUsLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIGNlbnRlciBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovQ0VOVEVSOjYsLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIHJpZ2h0LXRvcCBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovUklHSFRfVE9QOjcsLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIHJpZ2h0LWNlbnRlciBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovUklHSFRfQ0VOVEVSOjgsLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIHJpZ2h0LWJvdHRvbSBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovUklHSFRfQk9UVE9NOjksLyoqXG4gICAgKiBBIGNvbnN0YW50IHJlcHJlc2VudGluZyBhIGJvdHRvbS1sZWZ0IGFsaWdubWVudCBvciBwb3NpdGlvbi5cbiAgICAqIEBjb25zdGFudFxuICAgICogQHR5cGUge2ludGVnZXJ9XG4gICAgKi9CT1RUT01fTEVGVDoxMCwvKipcbiAgICAqIEEgY29uc3RhbnQgcmVwcmVzZW50aW5nIGEgYm90dG9tLWNlbnRlciBhbGlnbm1lbnQgb3IgcG9zaXRpb24uXG4gICAgKiBAY29uc3RhbnRcbiAgICAqIEB0eXBlIHtpbnRlZ2VyfVxuICAgICovQk9UVE9NX0NFTlRFUjoxMSwvKipcbiAgICAqIEEgY29uc3RhbnQgcmVwcmVzZW50aW5nIGEgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBvciBwb3NpdGlvbi5cbiAgICAqIEBjb25zdGFudFxuICAgICogQHR5cGUge2ludGVnZXJ9XG4gICAgKi9CT1RUT01fUklHSFQ6MTJ9O21vZHVsZS5leHBvcnRzPUNPTlNUOy8qKiovfSwvKiAxMDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRDZW50ZXJYPV9fd2VicGFja19yZXF1aXJlX18oMzIpO3ZhciBHZXRCb3R0b209X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFNldENlbnRlclg9X193ZWJwYWNrX3JlcXVpcmVfXygzMyk7dmFyIFNldEJvdHRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTt2YXIgSW5Cb3R0b21DZW50ZXI9ZnVuY3Rpb24gSW5Cb3R0b21DZW50ZXIoZ2FtZU9iamVjdCxjb250YWluZXIsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0Q2VudGVyWChnYW1lT2JqZWN0LEdldENlbnRlclgoY29udGFpbmVyKStvZmZzZXRYKTtTZXRCb3R0b20oZ2FtZU9iamVjdCxHZXRCb3R0b20oY29udGFpbmVyKStvZmZzZXRZKTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPUluQm90dG9tQ2VudGVyOy8qKiovfSwvKiAxMDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRMZWZ0PV9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBHZXRCb3R0b209X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFNldExlZnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOCk7dmFyIFNldEJvdHRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTt2YXIgSW5Cb3R0b21MZWZ0PWZ1bmN0aW9uIEluQm90dG9tTGVmdChnYW1lT2JqZWN0LGNvbnRhaW5lcixvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31TZXRMZWZ0KGdhbWVPYmplY3QsR2V0TGVmdChjb250YWluZXIpLW9mZnNldFgpO1NldEJvdHRvbShnYW1lT2JqZWN0LEdldEJvdHRvbShjb250YWluZXIpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9SW5Cb3R0b21MZWZ0Oy8qKiovfSwvKiAxMDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTt2YXIgR2V0Qm90dG9tPV9fd2VicGFja19yZXF1aXJlX18oMTUpO3ZhciBTZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTt2YXIgU2V0Qm90dG9tPV9fd2VicGFja19yZXF1aXJlX18oMTYpO3ZhciBJbkJvdHRvbVJpZ2h0PWZ1bmN0aW9uIEluQm90dG9tUmlnaHQoZ2FtZU9iamVjdCxjb250YWluZXIsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0UmlnaHQoZ2FtZU9iamVjdCxHZXRSaWdodChjb250YWluZXIpK29mZnNldFgpO1NldEJvdHRvbShnYW1lT2JqZWN0LEdldEJvdHRvbShjb250YWluZXIpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9SW5Cb3R0b21SaWdodDsvKioqL30sLyogMTA0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0Q2VudGVyWD1fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTt2YXIgR2V0Q2VudGVyWT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTt2YXIgQ2VudGVyT249X193ZWJwYWNrX3JlcXVpcmVfXygxMDUpO3ZhciBJbkNlbnRlcj1mdW5jdGlvbiBJbkNlbnRlcihnYW1lT2JqZWN0LGNvbnRhaW5lcixvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31DZW50ZXJPbihnYW1lT2JqZWN0LEdldENlbnRlclgoY29udGFpbmVyKStvZmZzZXRYLEdldENlbnRlclkoY29udGFpbmVyKStvZmZzZXRZKTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPUluQ2VudGVyOy8qKiovfSwvKiAxMDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTZXRDZW50ZXJYPV9fd2VicGFja19yZXF1aXJlX18oMzMpO3ZhciBTZXRDZW50ZXJZPV9fd2VicGFja19yZXF1aXJlX18oMzUpOy8qKlxuKiBUaGUgY2VudGVyIHggY29vcmRpbmF0ZSBvZiB0aGUgR2FtZSBPYmplY3QuXG4qIFRoaXMgaXMgdGhlIHNhbWUgYXMgYCh4IC0gb2Zmc2V0WCkgKyAod2lkdGggLyAyKWAuXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSBjZW50ZXJYXG4qL3ZhciBDZW50ZXJPbj1mdW5jdGlvbiBDZW50ZXJPbihnYW1lT2JqZWN0LHgseSl7U2V0Q2VudGVyWChnYW1lT2JqZWN0LHgpO3JldHVybiBTZXRDZW50ZXJZKGdhbWVPYmplY3QseSk7fTttb2R1bGUuZXhwb3J0cz1DZW50ZXJPbjsvKioqL30sLyogMTA2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0TGVmdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTt2YXIgR2V0Q2VudGVyWT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTt2YXIgU2V0TGVmdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTt2YXIgU2V0Q2VudGVyWT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTt2YXIgSW5MZWZ0Q2VudGVyPWZ1bmN0aW9uIEluTGVmdENlbnRlcihnYW1lT2JqZWN0LGNvbnRhaW5lcixvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31TZXRMZWZ0KGdhbWVPYmplY3QsR2V0TGVmdChjb250YWluZXIpLW9mZnNldFgpO1NldENlbnRlclkoZ2FtZU9iamVjdCxHZXRDZW50ZXJZKGNvbnRhaW5lcikrb2Zmc2V0WSk7cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1JbkxlZnRDZW50ZXI7LyoqKi99LC8qIDEwNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldFJpZ2h0PV9fd2VicGFja19yZXF1aXJlX18oMTkpO3ZhciBHZXRDZW50ZXJZPV9fd2VicGFja19yZXF1aXJlX18oMzQpO3ZhciBTZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTt2YXIgU2V0Q2VudGVyWT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTt2YXIgSW5SaWdodENlbnRlcj1mdW5jdGlvbiBJblJpZ2h0Q2VudGVyKGdhbWVPYmplY3QsY29udGFpbmVyLG9mZnNldFgsb2Zmc2V0WSl7aWYob2Zmc2V0WD09PXVuZGVmaW5lZCl7b2Zmc2V0WD0wO31pZihvZmZzZXRZPT09dW5kZWZpbmVkKXtvZmZzZXRZPTA7fVNldFJpZ2h0KGdhbWVPYmplY3QsR2V0UmlnaHQoY29udGFpbmVyKStvZmZzZXRYKTtTZXRDZW50ZXJZKGdhbWVPYmplY3QsR2V0Q2VudGVyWShjb250YWluZXIpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9SW5SaWdodENlbnRlcjsvKioqL30sLyogMTA4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0Q2VudGVyWD1fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKTt2YXIgR2V0VG9wPV9fd2VicGFja19yZXF1aXJlX18oMjEpO3ZhciBTZXRDZW50ZXJYPV9fd2VicGFja19yZXF1aXJlX18oMzMpO3ZhciBTZXRUb3A9X193ZWJwYWNrX3JlcXVpcmVfXygyMik7dmFyIEluVG9wQ2VudGVyPWZ1bmN0aW9uIEluVG9wQ2VudGVyKGdhbWVPYmplY3QsY29udGFpbmVyLG9mZnNldFgsb2Zmc2V0WSl7aWYob2Zmc2V0WD09PXVuZGVmaW5lZCl7b2Zmc2V0WD0wO31pZihvZmZzZXRZPT09dW5kZWZpbmVkKXtvZmZzZXRZPTA7fVNldENlbnRlclgoZ2FtZU9iamVjdCxHZXRDZW50ZXJYKGNvbnRhaW5lcikrb2Zmc2V0WCk7U2V0VG9wKGdhbWVPYmplY3QsR2V0VG9wKGNvbnRhaW5lciktb2Zmc2V0WSk7cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1JblRvcENlbnRlcjsvKioqL30sLyogMTA5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0TGVmdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTt2YXIgR2V0VG9wPV9fd2VicGFja19yZXF1aXJlX18oMjEpO3ZhciBTZXRMZWZ0PV9fd2VicGFja19yZXF1aXJlX18oMTgpO3ZhciBTZXRUb3A9X193ZWJwYWNrX3JlcXVpcmVfXygyMik7dmFyIEluVG9wTGVmdD1mdW5jdGlvbiBJblRvcExlZnQoZ2FtZU9iamVjdCxjb250YWluZXIsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0TGVmdChnYW1lT2JqZWN0LEdldExlZnQoY29udGFpbmVyKS1vZmZzZXRYKTtTZXRUb3AoZ2FtZU9iamVjdCxHZXRUb3AoY29udGFpbmVyKS1vZmZzZXRZKTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPUluVG9wTGVmdDsvKioqL30sLyogMTEwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0UmlnaHQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOSk7dmFyIEdldFRvcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTt2YXIgU2V0UmlnaHQ9X193ZWJwYWNrX3JlcXVpcmVfXygyMCk7dmFyIFNldFRvcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTt2YXIgSW5Ub3BSaWdodD1mdW5jdGlvbiBJblRvcFJpZ2h0KGdhbWVPYmplY3QsY29udGFpbmVyLG9mZnNldFgsb2Zmc2V0WSl7aWYob2Zmc2V0WD09PXVuZGVmaW5lZCl7b2Zmc2V0WD0wO31pZihvZmZzZXRZPT09dW5kZWZpbmVkKXtvZmZzZXRZPTA7fVNldFJpZ2h0KGdhbWVPYmplY3QsR2V0UmlnaHQoY29udGFpbmVyKStvZmZzZXRYKTtTZXRUb3AoZ2FtZU9iamVjdCxHZXRUb3AoY29udGFpbmVyKS1vZmZzZXRZKTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPUluVG9wUmlnaHQ7LyoqKi99LC8qIDExMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE1hdGhXcmFwPV9fd2VicGFja19yZXF1aXJlX18oNTApO3ZhciBXcmFwPWZ1bmN0aW9uIFdyYXAoYW5nbGUpe3JldHVybiBNYXRoV3JhcChhbmdsZSwtTWF0aC5QSSxNYXRoLlBJKTt9O21vZHVsZS5leHBvcnRzPVdyYXA7LyoqKi99LC8qIDExMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFdyYXA9X193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7dmFyIFdyYXBEZWdyZWVzPWZ1bmN0aW9uIFdyYXBEZWdyZWVzKGFuZ2xlKXtyZXR1cm4gV3JhcChhbmdsZSwtMTgwLDE4MCk7fTttb2R1bGUuZXhwb3J0cz1XcmFwRGVncmVlczsvKioqL30sLyogMTEzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUGVyaW1ldGVyPV9fd2VicGFja19yZXF1aXJlX18oMTE0KTsvLyAgUmV0dXJuIGFuIGFycmF5IG9mIHBvaW50cyBmcm9tIHRoZSBwZXJpbWV0ZXIgb2YgdGhlIHJlY3RhbmdsZVxuLy8gIGVhY2ggc3BhY2VkIG91dCBiYXNlZCBvbiB0aGUgcXVhbnRpdHkgb3Igc3RlcCByZXF1aXJlZFxudmFyIE1hcmNoaW5nQW50cz1mdW5jdGlvbiBNYXJjaGluZ0FudHMocmVjdCxzdGVwLHF1YW50aXR5LG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9W107fWlmKCFzdGVwJiYhcXVhbnRpdHkpey8vICBCYWlsIG91dFxucmV0dXJuIG91dDt9Ly8gIElmIHN0ZXAgaXMgYSBmYWxzZXkgdmFsdWUgKGZhbHNlLCBudWxsLCAwLCB1bmRlZmluZWQsIGV0YykgdGhlbiB3ZSBjYWxjdWxhdGVcbi8vICBpdCBiYXNlZCBvbiB0aGUgcXVhbnRpdHkgaW5zdGVhZCwgb3RoZXJ3aXNlIHdlIGFsd2F5cyB1c2UgdGhlIHN0ZXAgdmFsdWVcbmlmKCFzdGVwKXtzdGVwPVBlcmltZXRlcihyZWN0KS9xdWFudGl0eTt9ZWxzZXtxdWFudGl0eT1NYXRoLnJvdW5kKFBlcmltZXRlcihyZWN0KS9zdGVwKTt9dmFyIHg9cmVjdC54O3ZhciB5PXJlY3QueTt2YXIgZmFjZT0wOy8vICBMb29wIGFjcm9zcyBlYWNoIGZhY2Ugb2YgdGhlIHJlY3RhbmdsZVxuZm9yKHZhciBpPTA7aTxxdWFudGl0eTtpKyspe291dC5wdXNoKHt4OngseTp5fSk7c3dpdGNoKGZhY2Upey8vICBUb3AgZmFjZVxuY2FzZSAwOngrPXN0ZXA7aWYoeD49cmVjdC5yaWdodCl7ZmFjZT0xO3krPXgtcmVjdC5yaWdodDt4PXJlY3QucmlnaHQ7fWJyZWFrOy8vICBSaWdodCBmYWNlXG5jYXNlIDE6eSs9c3RlcDtpZih5Pj1yZWN0LmJvdHRvbSl7ZmFjZT0yO3gtPXktcmVjdC5ib3R0b207eT1yZWN0LmJvdHRvbTt9YnJlYWs7Ly8gIEJvdHRvbSBmYWNlXG5jYXNlIDI6eC09c3RlcDtpZih4PD1yZWN0LmxlZnQpe2ZhY2U9Mzt5LT1yZWN0LmxlZnQteDt4PXJlY3QubGVmdDt9YnJlYWs7Ly8gIExlZnQgZmFjZVxuY2FzZSAzOnktPXN0ZXA7aWYoeTw9cmVjdC50b3Ape2ZhY2U9MDt5PXJlY3QudG9wO31icmVhazt9fXJldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1NYXJjaGluZ0FudHM7LyoqKi99LC8qIDExNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQZXJpbWV0ZXI9ZnVuY3Rpb24gUGVyaW1ldGVyKHJlY3Qpe3JldHVybiAyKihyZWN0LndpZHRoK3JlY3QuaGVpZ2h0KTt9O21vZHVsZS5leHBvcnRzPVBlcmltZXRlcjsvKioqL30sLyogMTE1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIE1vdmVzIHRoZSBlbGVtZW50IGF0IHRoZSBzdGFydCBvZiB0aGUgYXJyYXkgdG8gdGhlIGVuZCwgc2hpZnRpbmcgYWxsIGl0ZW1zIGluIHRoZSBwcm9jZXNzLlxuKiBUaGUgXCJyb3RhdGlvblwiIGhhcHBlbnMgdG8gdGhlIGxlZnQuXG4qXG4qIEBtZXRob2QgUGhhc2VyLkFycmF5VXRpbHMucm90YXRlXG4qIEBwYXJhbSB7YW55W119IGFycmF5IC0gVGhlIGFycmF5IHRvIHNoaWZ0L3JvdGF0ZS4gVGhlIGFycmF5IGlzIG1vZGlmaWVkLlxuKiBAcGFyYW0ge2ludGVnZXJ9IFt0b3RhbD0xXSAtIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gc2hpZnQgdGhlIGFycmF5LiBPbmx5IHRoZSBtb3N0IHJlY2VudGx5IHNoaWZ0ZWQgZWxlbWVudCBpcyByZXR1cm5lZC5cbiogQHJldHVybiB7YW55fSBUaGUgc2hpZnRlZCB2YWx1ZS5cbiovdmFyIFJvdGF0ZUxlZnQ9ZnVuY3Rpb24gUm90YXRlTGVmdChhcnJheSx0b3RhbCl7aWYodG90YWw9PT11bmRlZmluZWQpe3RvdGFsPTE7fXZhciBlbGVtZW50PW51bGw7Zm9yKHZhciBpPTA7aTx0b3RhbDtpKyspe2VsZW1lbnQ9YXJyYXkuc2hpZnQoKTthcnJheS5wdXNoKGVsZW1lbnQpO31yZXR1cm4gZWxlbWVudDt9O21vZHVsZS5leHBvcnRzPVJvdGF0ZUxlZnQ7LyoqKi99LC8qIDExNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBNb3ZlcyB0aGUgZWxlbWVudCBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSB0byB0aGUgc3RhcnQsIHNoaWZ0aW5nIGFsbCBpdGVtcyBpbiB0aGUgcHJvY2Vzcy5cbiogVGhlIFwicm90YXRpb25cIiBoYXBwZW5zIHRvIHRoZSByaWdodC5cbipcbiogQHBhcmFtIHthbnlbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdG8gc2hpZnQvcm90YXRlLiBUaGUgYXJyYXkgaXMgbW9kaWZpZWQuXG4qIEBwYXJhbSB7aW50ZWdlcn0gW3RvdGFsPTFdIC0gVGhlIG51bWJlciBvZiB0aW1lcyB0byBzaGlmdCB0aGUgYXJyYXkuIE9ubHkgdGhlIG1vc3QgcmVjZW50bHkgc2hpZnRlZCBlbGVtZW50IGlzIHJldHVybmVkLlxuKiBAcmV0dXJuIHthbnl9IFRoZSBzaGlmdGVkIHZhbHVlLlxuKi92YXIgUm90YXRlUmlnaHQ9ZnVuY3Rpb24gUm90YXRlUmlnaHQoYXJyYXksdG90YWwpe2lmKHRvdGFsPT09dW5kZWZpbmVkKXt0b3RhbD0xO312YXIgZWxlbWVudD1udWxsO2Zvcih2YXIgaT0wO2k8dG90YWw7aSsrKXtlbGVtZW50PWFycmF5LnBvcCgpO2FycmF5LnVuc2hpZnQoZWxlbWVudCk7fXJldHVybiBlbGVtZW50O307bW9kdWxlLmV4cG9ydHM9Um90YXRlUmlnaHQ7LyoqKi99LC8qIDExNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oOCk7LyoqXG4qIFJldHVybnMgYSB1bmlmb3JtbHkgZGlzdHJpYnV0ZWQgcmFuZG9tIHBvaW50IGZyb20gYW55d2hlcmUgd2l0aGluIHRoaXMgQ2lyY2xlLlxuKi92YXIgUmFuZG9tPWZ1bmN0aW9uIFJhbmRvbShjaXJjbGUsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD1uZXcgUG9pbnQoKTt9dmFyIHQ9MipNYXRoLlBJKk1hdGgucmFuZG9tKCk7dmFyIHU9TWF0aC5yYW5kb20oKStNYXRoLnJhbmRvbSgpO3ZhciByPXU+MT8yLXU6dTt2YXIgeD1yKk1hdGguY29zKHQpO3ZhciB5PXIqTWF0aC5zaW4odCk7b3V0Lng9Y2lyY2xlLngreCpjaXJjbGUucmFkaXVzO291dC55PWNpcmNsZS55K3kqY2lyY2xlLnJhZGl1cztyZXR1cm4gb3V0O307bW9kdWxlLmV4cG9ydHM9UmFuZG9tOy8qKiovfSwvKiAxMTggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBSYW5kb209ZnVuY3Rpb24gUmFuZG9tKGVsbGlwc2Usb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD1uZXcgUG9pbnQoKTt9dmFyIHA9TWF0aC5yYW5kb20oKSpNYXRoLlBJKjI7dmFyIHM9TWF0aC5zcXJ0KE1hdGgucmFuZG9tKCkpO291dC54PWVsbGlwc2UueCtzKk1hdGguY29zKHApKmVsbGlwc2Uud2lkdGgvMjtvdXQueT1lbGxpcHNlLnkrcypNYXRoLnNpbihwKSplbGxpcHNlLmhlaWdodC8yO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1SYW5kb207LyoqKi99LC8qIDExOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oOCk7dmFyIFJhbmRvbT1mdW5jdGlvbiBSYW5kb20obGluZSxvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PW5ldyBQb2ludCgpO312YXIgdD1NYXRoLnJhbmRvbSgpO291dC54PWxpbmUueDErdCoobGluZS54Mi1saW5lLngxKTtvdXQueT1saW5lLnkxK3QqKGxpbmUueTItbGluZS55MSk7cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPVJhbmRvbTsvKioqL30sLyogMTIwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4KTt2YXIgUmFuZG9tPWZ1bmN0aW9uIFJhbmRvbShyZWN0LG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9bmV3IFBvaW50KCk7fW91dC54PXJlY3QueCtNYXRoLnJhbmRvbSgpKnJlY3Qud2lkdGg7b3V0Lnk9cmVjdC55K01hdGgucmFuZG9tKCkqcmVjdC5oZWlnaHQ7cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPVJhbmRvbTsvKioqL30sLyogMTIxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFJhbmRvbT1mdW5jdGlvbiBSYW5kb20odHJpYW5nbGUsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD17eDowLHk6MH07fS8vICBCYXNpcyB2ZWN0b3JzXG52YXIgdXg9dHJpYW5nbGUueDItdHJpYW5nbGUueDE7dmFyIHV5PXRyaWFuZ2xlLnkyLXRyaWFuZ2xlLnkxO3ZhciB2eD10cmlhbmdsZS54My10cmlhbmdsZS54MTt2YXIgdnk9dHJpYW5nbGUueTMtdHJpYW5nbGUueTE7Ly8gIFJhbmRvbSBwb2ludCB3aXRoaW4gdGhlIHVuaXQgc3F1YXJlXG52YXIgcj1NYXRoLnJhbmRvbSgpO3ZhciBzPU1hdGgucmFuZG9tKCk7Ly8gIFBvaW50IG91dHNpZGUgdGhlIHRyaWFuZ2xlPyBSZW1hcCBpdC5cbmlmKHIrcz49MSl7cj0xLXI7cz0xLXM7fW91dC54PXRyaWFuZ2xlLngxKyh1eCpyK3Z4KnMpO291dC55PXRyaWFuZ2xlLnkxKyh1eSpyK3Z5KnMpO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1SYW5kb207LyoqKi99LC8qIDEyMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTbW9vdGhlclN0ZXA9ZnVuY3Rpb24gU21vb3RoZXJTdGVwKHgsbWluLG1heCl7eD1NYXRoLm1heCgwLE1hdGgubWluKDEsKHgtbWluKS8obWF4LW1pbikpKTtyZXR1cm4geCp4KngqKHgqKHgqNi0xNSkrMTApO307bW9kdWxlLmV4cG9ydHM9U21vb3RoZXJTdGVwOy8qKiovfSwvKiAxMjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU21vb3RoU3RlcD1mdW5jdGlvbiBTbW9vdGhTdGVwKHgsbWluLG1heCl7eD1NYXRoLm1heCgwLE1hdGgubWluKDEsKHgtbWluKS8obWF4LW1pbikpKTtyZXR1cm4geCp4KigzLTIqeCk7fTttb2R1bGUuZXhwb3J0cz1TbW9vdGhTdGVwOy8qKiovfSwvKiAxMjQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBBcm5lMTY9X193ZWJwYWNrX3JlcXVpcmVfXygxMjUpO3ZhciBDYW52YXNQb29sPV9fd2VicGFja19yZXF1aXJlX18oMTEpO3ZhciBHZW5lcmF0ZVRleHR1cmU9ZnVuY3Rpb24gR2VuZXJhdGVUZXh0dXJlKGNvbmZpZyl7dmFyIGRhdGE9R2V0VmFsdWUoY29uZmlnLCdkYXRhJyxbXSk7dmFyIGNhbnZhcz1HZXRWYWx1ZShjb25maWcsJ2NhbnZhcycsbnVsbCk7dmFyIHBhbGV0dGU9R2V0VmFsdWUoY29uZmlnLCdwYWxldHRlJyxBcm5lMTYpO3ZhciBwaXhlbFdpZHRoPUdldFZhbHVlKGNvbmZpZywncGl4ZWxXaWR0aCcsMSk7dmFyIHBpeGVsSGVpZ2h0PUdldFZhbHVlKGNvbmZpZywncGl4ZWxIZWlnaHQnLHBpeGVsV2lkdGgpO3ZhciByZXNpemVDYW52YXM9R2V0VmFsdWUoY29uZmlnLCdyZXNpemVDYW52YXMnLHRydWUpO3ZhciBjbGVhckNhbnZhcz1HZXRWYWx1ZShjb25maWcsJ2NsZWFyQ2FudmFzJyx0cnVlKTt2YXIgcHJlUmVuZGVyPUdldFZhbHVlKGNvbmZpZywncHJlUmVuZGVyJyxudWxsKTt2YXIgcG9zdFJlbmRlcj1HZXRWYWx1ZShjb25maWcsJ3Bvc3RSZW5kZXInLG51bGwpO3ZhciB3aWR0aD1NYXRoLmZsb29yKE1hdGguYWJzKGRhdGFbMF0ubGVuZ3RoKnBpeGVsV2lkdGgpKTt2YXIgaGVpZ2h0PU1hdGguZmxvb3IoTWF0aC5hYnMoZGF0YS5sZW5ndGgqcGl4ZWxIZWlnaHQpKTtpZighY2FudmFzKXtjYW52YXM9Q2FudmFzUG9vbC5jcmVhdGUyRCh0aGlzLHdpZHRoLGhlaWdodCk7cmVzaXplQ2FudmFzPWZhbHNlO2NsZWFyQ2FudmFzPWZhbHNlO31pZihyZXNpemVDYW52YXMpe2NhbnZhcy53aWR0aD13aWR0aDtjYW52YXMuaGVpZ2h0PWhlaWdodDt9dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtpZihjbGVhckNhbnZhcyl7Y3R4LmNsZWFyUmVjdCgwLDAsd2lkdGgsaGVpZ2h0KTt9Ly8gIHByZVJlbmRlciBDYWxsYmFjaz9cbmlmKHByZVJlbmRlcil7cHJlUmVuZGVyKGNhbnZhcyxjdHgpO30vLyAgRHJhdyBpdFxuZm9yKHZhciB5PTA7eTxkYXRhLmxlbmd0aDt5Kyspe3ZhciByb3c9ZGF0YVt5XTtmb3IodmFyIHg9MDt4PHJvdy5sZW5ndGg7eCsrKXt2YXIgZD1yb3dbeF07aWYoZCE9PScuJyYmZCE9PScgJyl7Y3R4LmZpbGxTdHlsZT1wYWxldHRlW2RdO2N0eC5maWxsUmVjdCh4KnBpeGVsV2lkdGgseSpwaXhlbEhlaWdodCxwaXhlbFdpZHRoLHBpeGVsSGVpZ2h0KTt9fX0vLyAgcG9zdFJlbmRlciBDYWxsYmFjaz9cbmlmKHBvc3RSZW5kZXIpe3Bvc3RSZW5kZXIoY2FudmFzLGN0eCk7fXJldHVybiBjYW52YXM7fTttb2R1bGUuZXhwb3J0cz1HZW5lcmF0ZVRleHR1cmU7LyoqKi99LC8qIDEyNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIEEgMTYgY29sb3IgcGFsZXR0ZSBieSBbQXJuZV0oaHR0cDovL2FuZHJvaWRhcnRzLmNvbS9wYWxldHRlLzE2cGFsLmh0bSlcbm1vZHVsZS5leHBvcnRzPXswOicjMDAwJywxOicjOUQ5RDlEJywyOicjRkZGJywzOicjQkUyNjMzJyw0OicjRTA2RjhCJyw1OicjNDkzQzJCJyw2OicjQTQ2NDIyJyw3OicjRUI4OTMxJyw4OicjRjdFMjZCJyw5OicjMkY0ODRFJyxBOicjNDQ4OTFBJyxCOicjQTNDRTI3JyxDOicjMUIyNjMyJyxEOicjMDA1Nzg0JyxFOicjMzFBMkYyJyxGOicjQjJEQ0VGJ307LyoqKi99LC8qIDEyNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBBZGRUb0RPTT1mdW5jdGlvbiBBZGRUb0RPTShlbGVtZW50LHBhcmVudCxvdmVyZmxvd0hpZGRlbil7aWYob3ZlcmZsb3dIaWRkZW49PT11bmRlZmluZWQpe292ZXJmbG93SGlkZGVuPXRydWU7fXZhciB0YXJnZXQ7aWYocGFyZW50KXtpZih0eXBlb2YgcGFyZW50PT09J3N0cmluZycpey8vICBIb3BlZnVsbHkgYW4gZWxlbWVudCBJRFxudGFyZ2V0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudCk7fWVsc2UgaWYoKHR5cGVvZiBwYXJlbnQ9PT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKHBhcmVudCkpPT09J29iamVjdCcmJnBhcmVudC5ub2RlVHlwZT09PTEpey8vICBRdWljayB0ZXN0IGZvciBhIEhUTUxlbGVtZW50XG50YXJnZXQ9cGFyZW50O319Ly8gIEZhbGxiYWNrLCBjb3ZlcnMgYW4gaW52YWxpZCBJRCBhbmQgYSBub24gSFRNTGVsZW1lbnQgb2JqZWN0XG5pZighdGFyZ2V0KXt0YXJnZXQ9ZG9jdW1lbnQuYm9keTt9aWYob3ZlcmZsb3dIaWRkZW4mJnRhcmdldC5zdHlsZSl7dGFyZ2V0LnN0eWxlLm92ZXJmbG93PSdoaWRkZW4nO310YXJnZXQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7cmV0dXJuIGVsZW1lbnQ7fTttb2R1bGUuZXhwb3J0cz1BZGRUb0RPTTsvKioqL30sLyogMTI3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgT1M9X193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7dmFyIGlzQm9vdGVkPWZhbHNlO3ZhciBET01Db250ZW50TG9hZGVkPWZ1bmN0aW9uIERPTUNvbnRlbnRMb2FkZWQoY2FsbGJhY2spe2lmKGlzQm9vdGVkKXtyZXR1cm47fWlmKGRvY3VtZW50LnJlYWR5U3RhdGU9PT0nY29tcGxldGUnfHxkb2N1bWVudC5yZWFkeVN0YXRlPT09J2ludGVyYWN0aXZlJyl7aXNCb290ZWQ9dHJ1ZTtjYWxsYmFjaygpO3JldHVybjt9dmFyIGNoZWNrPWZ1bmN0aW9uIGNoZWNrKCl7aXNCb290ZWQ9dHJ1ZTtkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkZXZpY2VyZWFkeScsY2hlY2ssdHJ1ZSk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsY2hlY2ssdHJ1ZSk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLGNoZWNrLHRydWUpO2NhbGxiYWNrKCk7fTtpZighZG9jdW1lbnQuYm9keSl7d2luZG93LnNldFRpbWVvdXQoY2hlY2ssMjApO31lbHNlIGlmKE9TLmNvcmRvdmEmJiFPUy5jb2Nvb25KUyl7Ly8gIFJlZi4gaHR0cDovL2RvY3MucGhvbmVnYXAuY29tL2VuLzMuNS4wL2NvcmRvdmFfZXZlbnRzX2V2ZW50cy5tZC5odG1sI2RldmljZXJlYWR5XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkZXZpY2VyZWFkeScsY2hlY2ssZmFsc2UpO31lbHNle2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLGNoZWNrLHRydWUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJyxjaGVjayx0cnVlKTt9fTttb2R1bGUuZXhwb3J0cz1ET01Db250ZW50TG9hZGVkOy8qKiovfSwvKiAxMjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUGFyc2VYTUw9ZnVuY3Rpb24gUGFyc2VYTUwoZGF0YSl7dmFyIHhtbD0nJzt0cnl7aWYod2luZG93WydET01QYXJzZXInXSl7dmFyIGRvbXBhcnNlcj1uZXcgRE9NUGFyc2VyKCk7eG1sPWRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcoZGF0YSwndGV4dC94bWwnKTt9ZWxzZXt4bWw9bmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxET00nKTt4bWwubG9hZFhNTChkYXRhKTt9fWNhdGNoKGUpe3htbD1udWxsO31pZigheG1sfHwheG1sLmRvY3VtZW50RWxlbWVudHx8eG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYXJzZXJlcnJvcicpLmxlbmd0aCl7cmV0dXJuIG51bGw7fWVsc2V7cmV0dXJuIHhtbDt9fTttb2R1bGUuZXhwb3J0cz1QYXJzZVhNTDsvKioqL30sLyogMTI5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgTk9PUD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTsvLyBBYnN0cmFjdHMgYXdheSB0aGUgdXNlIG9mIFJBRiBvciBzZXRUaW1lT3V0IGZvciB0aGUgY29yZSBnYW1lIHVwZGF0ZSBsb29wLlxudmFyIFJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbiBSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKXsvLyBAcHJvcGVydHkge2Jvb2xlYW59IGlzUnVubmluZyAtIHRydWUgaWYgUmVxdWVzdEFuaW1hdGlvbkZyYW1lIGlzIHJ1bm5pbmcsIG90aGVyd2lzZSBmYWxzZS5cbnRoaXMuaXNSdW5uaW5nPWZhbHNlO3RoaXMuY2FsbGJhY2s9Tk9PUDt0aGlzLnRpY2s9MDsvLyBAcHJvcGVydHkge2Jvb2xlYW59IGlzU2V0VGltZU91dCAgLSBUcnVlIGlmIHRoZSBicm93c2VyIGlzIHVzaW5nIHNldFRpbWVvdXQgaW5zdGVhZCBvZiByQWYuXG50aGlzLmlzU2V0VGltZU91dD1mYWxzZTsvLyBAcHJvcGVydHkge251bWJlcn0gdGltZU91dElEIC0gVGhlIGNhbGxiYWNrIHNldFRpbWVvdXQgb3IgckFmIGNhbGxiYWNrIElEIHVzZWQgd2hlbiBjYWxsaW5nIGNhbmNlbC5cbnRoaXMudGltZU91dElEPW51bGw7dmFyIF90aGlzPXRoaXM7Ly8gIHRpbWVzdGFtcCA9IERPTUhpZ2hSZXNUaW1lU3RhbXBcbnZhciBzdGVwPWZ1bmN0aW9uIHN0ZXAodGltZXN0YW1wKXtfdGhpcy50aWNrPXRpbWVzdGFtcDtfdGhpcy5jYWxsYmFjayh0aW1lc3RhbXApO190aGlzLnRpbWVPdXRJRD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO307dmFyIHN0ZXBUaW1lb3V0PWZ1bmN0aW9uIHN0ZXBUaW1lb3V0KCl7dmFyIGQ9RGF0ZS5ub3coKTtfdGhpcy50aWNrPWQ7X3RoaXMuY2FsbGJhY2soZCk7X3RoaXMudGltZU91dElEPXdpbmRvdy5zZXRUaW1lb3V0KHN0ZXBUaW1lb3V0LF90aGlzLnRpbWVUb0NhbGwpO307dGhpcy5zdGVwPXN0ZXA7dGhpcy5zdGVwVGltZW91dD1zdGVwVGltZW91dDt9O1JlcXVlc3RBbmltYXRpb25GcmFtZS5wcm90b3R5cGUuY29uc3RydWN0b3I9UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1JlcXVlc3RBbmltYXRpb25GcmFtZS5wcm90b3R5cGU9ey8vIFN0YXJ0cyB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHJ1bm5pbmcgb3Igc2V0VGltZW91dCBpZiB1bmF2YWlsYWJsZSBpbiBicm93c2VyXG5zdGFydDpmdW5jdGlvbiBzdGFydChjYWxsYmFjayxmb3JjZVNldFRpbWVPdXQpe3RoaXMuY2FsbGJhY2s9Y2FsbGJhY2s7dGhpcy5pc1NldFRpbWVPdXQ9Zm9yY2VTZXRUaW1lT3V0O3RoaXMuaXNSdW5uaW5nPXRydWU7dmFyIF90aGlzPXRoaXM7dGhpcy50aW1lT3V0SUQ9Zm9yY2VTZXRUaW1lT3V0P3dpbmRvdy5zZXRUaW1lb3V0KF90aGlzLnN0ZXBUaW1lb3V0LDApOndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuc3RlcCk7fSwvLyBTdG9wcyB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZyb20gcnVubmluZy5cbnN0b3A6ZnVuY3Rpb24gc3RvcCgpe3RoaXMuaXNSdW5uaW5nPWZhbHNlO2lmKHRoaXMuaXNTZXRUaW1lT3V0KXtjbGVhclRpbWVvdXQodGhpcy50aW1lT3V0SUQpO31lbHNle3dpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnRpbWVPdXRJRCk7fX0sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5zdG9wKCk7dGhpcy5jYWxsYmFjaz1OT09QO319O21vZHVsZS5leHBvcnRzPVJlcXVlc3RBbmltYXRpb25GcmFtZTsvKioqL30sLyogMTMwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE5vcm1hbGl6ZT1mdW5jdGlvbiBOb3JtYWxpemUoYW5nbGUpe2FuZ2xlPWFuZ2xlJSgyKk1hdGguUEkpO2lmKGFuZ2xlPj0wKXtyZXR1cm4gYW5nbGU7fWVsc2V7cmV0dXJuIGFuZ2xlKzIqTWF0aC5QSTt9fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWxpemU7LyoqKi99LC8qIDEzMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIEluKHYsb3ZlcnNob290KXtpZihvdmVyc2hvb3Q9PT11bmRlZmluZWQpe292ZXJzaG9vdD0xLjcwMTU4O31yZXR1cm4gdip2Kigob3ZlcnNob290KzEpKnYtb3ZlcnNob290KTt9ZnVuY3Rpb24gT3V0KHYsb3ZlcnNob290KXtpZihvdmVyc2hvb3Q9PT11bmRlZmluZWQpe292ZXJzaG9vdD0xLjcwMTU4O31yZXR1cm4tLXYqdiooKG92ZXJzaG9vdCsxKSp2K292ZXJzaG9vdCkrMTt9ZnVuY3Rpb24gSW5PdXQodixvdmVyc2hvb3Qpe2lmKG92ZXJzaG9vdD09PXVuZGVmaW5lZCl7b3ZlcnNob290PTEuNzAxNTg7fXZhciBzPW92ZXJzaG9vdCoxLjUyNTtpZigodio9Mik8MSl7cmV0dXJuIDAuNSoodip2KigocysxKSp2LXMpKTt9ZWxzZXtyZXR1cm4gMC41Kigodi09MikqdiooKHMrMSkqditzKSsyKTt9fW1vZHVsZS5leHBvcnRzPXtJbjpJbixPdXQ6T3V0LEluT3V0OkluT3V0fTsvKioqL30sLyogMTMyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gSW4odil7dj0xLXY7aWYodjwxLzIuNzUpe3JldHVybiAxLTcuNTYyNSp2KnY7fWVsc2UgaWYodjwyLzIuNzUpe3JldHVybiAxLSg3LjU2MjUqKHYtPTEuNS8yLjc1KSp2KzAuNzUpO31lbHNlIGlmKHY8Mi41LzIuNzUpe3JldHVybiAxLSg3LjU2MjUqKHYtPTIuMjUvMi43NSkqdiswLjkzNzUpO31lbHNle3JldHVybiAxLSg3LjU2MjUqKHYtPTIuNjI1LzIuNzUpKnYrMC45ODQzNzUpO319ZnVuY3Rpb24gT3V0KHYpe2lmKHY8MS8yLjc1KXtyZXR1cm4gNy41NjI1KnYqdjt9ZWxzZSBpZih2PDIvMi43NSl7cmV0dXJuIDcuNTYyNSoodi09MS41LzIuNzUpKnYrMC43NTt9ZWxzZSBpZih2PDIuNS8yLjc1KXtyZXR1cm4gNy41NjI1Kih2LT0yLjI1LzIuNzUpKnYrMC45Mzc1O31lbHNle3JldHVybiA3LjU2MjUqKHYtPTIuNjI1LzIuNzUpKnYrMC45ODQzNzU7fX1mdW5jdGlvbiBJbk91dCh2KXt2YXIgcmV2ZXJzZT1mYWxzZTtpZih2PDAuNSl7dj0xLXYqMjtyZXZlcnNlPXRydWU7fWVsc2V7dj12KjItMTt9aWYodjwxLzIuNzUpe3Y9Ny41NjI1KnYqdjt9ZWxzZSBpZih2PDIvMi43NSl7dj03LjU2MjUqKHYtPTEuNS8yLjc1KSp2KzAuNzU7fWVsc2UgaWYodjwyLjUvMi43NSl7dj03LjU2MjUqKHYtPTIuMjUvMi43NSkqdiswLjkzNzU7fWVsc2V7dj03LjU2MjUqKHYtPTIuNjI1LzIuNzUpKnYrMC45ODQzNzU7fWlmKHJldmVyc2Upe3JldHVybigxLXYpKjAuNTt9ZWxzZXtyZXR1cm4gdiowLjUrMC41O319bW9kdWxlLmV4cG9ydHM9e0luOkluLE91dDpPdXQsSW5PdXQ6SW5PdXR9Oy8qKiovfSwvKiAxMzMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBJbih2KXtyZXR1cm4gMS1NYXRoLnNxcnQoMS12KnYpO31mdW5jdGlvbiBPdXQodil7cmV0dXJuIE1hdGguc3FydCgxLSAtLXYqdik7fWZ1bmN0aW9uIEluT3V0KHYpe2lmKCh2Kj0yKTwxKXtyZXR1cm4tMC41KihNYXRoLnNxcnQoMS12KnYpLTEpO31lbHNle3JldHVybiAwLjUqKE1hdGguc3FydCgxLSh2LT0yKSp2KSsxKTt9fW1vZHVsZS5leHBvcnRzPXtJbjpJbixPdXQ6T3V0LEluT3V0OkluT3V0fTsvKioqL30sLyogMTM0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gSW4odil7cmV0dXJuIHYqdip2O31mdW5jdGlvbiBPdXQodil7cmV0dXJuLS12KnYqdisxO31mdW5jdGlvbiBJbk91dCh2KXtpZigodio9Mik8MSl7cmV0dXJuIDAuNSp2KnYqdjt9ZWxzZXtyZXR1cm4gMC41Kigodi09Mikqdip2KzIpO319bW9kdWxlLmV4cG9ydHM9e0luOkluLE91dDpPdXQsSW5PdXQ6SW5PdXR9Oy8qKiovfSwvKiAxMzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBJbih2LGFtcGxpdHVkZSxwZXJpb2Qpe2lmKGFtcGxpdHVkZT09PXVuZGVmaW5lZCl7YW1wbGl0dWRlPTAuMTt9aWYocGVyaW9kPT09dW5kZWZpbmVkKXtwZXJpb2Q9MC4xO31pZih2PT09MCl7cmV0dXJuIDA7fWVsc2UgaWYodj09PTEpe3JldHVybiAxO31lbHNle3ZhciBzPXBlcmlvZC80O2lmKGFtcGxpdHVkZTwxKXthbXBsaXR1ZGU9MTt9ZWxzZXtzPXBlcmlvZCpNYXRoLmFzaW4oMS9hbXBsaXR1ZGUpLygyKk1hdGguUEkpO31yZXR1cm4tKGFtcGxpdHVkZSpNYXRoLnBvdygyLDEwKih2LT0xKSkqTWF0aC5zaW4oKHYtcykqKDIqTWF0aC5QSSkvcGVyaW9kKSk7fX1mdW5jdGlvbiBPdXQodixhbXBsaXR1ZGUscGVyaW9kKXtpZihhbXBsaXR1ZGU9PT11bmRlZmluZWQpe2FtcGxpdHVkZT0wLjE7fWlmKHBlcmlvZD09PXVuZGVmaW5lZCl7cGVyaW9kPTAuMTt9aWYodj09PTApe3JldHVybiAwO31lbHNlIGlmKHY9PT0xKXtyZXR1cm4gMTt9ZWxzZXt2YXIgcz1wZXJpb2QvNDtpZihhbXBsaXR1ZGU8MSl7YW1wbGl0dWRlPTE7fWVsc2V7cz1wZXJpb2QqTWF0aC5hc2luKDEvYW1wbGl0dWRlKS8oMipNYXRoLlBJKTt9cmV0dXJuIGFtcGxpdHVkZSpNYXRoLnBvdygyLC0xMCp2KSpNYXRoLnNpbigodi1zKSooMipNYXRoLlBJKS9wZXJpb2QpKzE7fX1mdW5jdGlvbiBJbk91dCh2LGFtcGxpdHVkZSxwZXJpb2Qpe2lmKGFtcGxpdHVkZT09PXVuZGVmaW5lZCl7YW1wbGl0dWRlPTAuMTt9aWYocGVyaW9kPT09dW5kZWZpbmVkKXtwZXJpb2Q9MC4xO31pZih2PT09MCl7cmV0dXJuIDA7fWVsc2UgaWYodj09PTEpe3JldHVybiAxO31lbHNle3ZhciBzPXBlcmlvZC80O2lmKGFtcGxpdHVkZTwxKXthbXBsaXR1ZGU9MTt9ZWxzZXtzPXBlcmlvZCpNYXRoLmFzaW4oMS9hbXBsaXR1ZGUpLygyKk1hdGguUEkpO31pZigodio9Mik8MSl7cmV0dXJuLTAuNSooYW1wbGl0dWRlKk1hdGgucG93KDIsMTAqKHYtPTEpKSpNYXRoLnNpbigodi1zKSooMipNYXRoLlBJKS9wZXJpb2QpKTt9ZWxzZXtyZXR1cm4gYW1wbGl0dWRlKk1hdGgucG93KDIsLTEwKih2LT0xKSkqTWF0aC5zaW4oKHYtcykqKDIqTWF0aC5QSSkvcGVyaW9kKSowLjUrMTt9fX1tb2R1bGUuZXhwb3J0cz17SW46SW4sT3V0Ok91dCxJbk91dDpJbk91dH07LyoqKi99LC8qIDEzNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIEluKHYpe3JldHVybiBNYXRoLnBvdygyLDEwKih2LTEpKS0wLjAwMTt9ZnVuY3Rpb24gT3V0KHYpe3JldHVybiAxLU1hdGgucG93KDIsLTEwKnYpO31mdW5jdGlvbiBJbk91dCh2KXtpZigodio9Mik8MSl7cmV0dXJuIDAuNSpNYXRoLnBvdygyLDEwKih2LTEpKTt9ZWxzZXtyZXR1cm4gMC41KigyLU1hdGgucG93KDIsLTEwKih2LTEpKSk7fX1tb2R1bGUuZXhwb3J0cz17SW46SW4sT3V0Ok91dCxJbk91dDpJbk91dH07LyoqKi99LC8qIDEzNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBMaW5lYXIgRWFzaW5nIChubyB2YXJpYXRpb24pLlxuKlxuKiBAbWV0aG9kIExhemVyLkVhc2luZy5MaW5lYXIjTm9uZVxuKiBAcGFyYW0ge251bWJlcn0gdiAtIFRoZSB2YWx1ZSB0byBiZSB0d2VlbmVkLlxuKiBAcmV0dXJucyB7bnVtYmVyfSB2LlxuKi92YXIgTGluZWFyPWZ1bmN0aW9uIExpbmVhcih2KXtyZXR1cm4gdjt9O21vZHVsZS5leHBvcnRzPUxpbmVhcjsvKioqL30sLyogMTM4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7ZnVuY3Rpb24gSW4odil7cmV0dXJuIHYqdjt9ZnVuY3Rpb24gT3V0KHYpe3JldHVybiB2KigyLXYpO31mdW5jdGlvbiBJbk91dCh2KXtpZigodio9Mik8MSl7cmV0dXJuIDAuNSp2KnY7fWVsc2V7cmV0dXJuLTAuNSooLS12Kih2LTIpLTEpO319bW9kdWxlLmV4cG9ydHM9e0luOkluLE91dDpPdXQsSW5PdXQ6SW5PdXR9Oy8qKiovfSwvKiAxMzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBJbih2KXtyZXR1cm4gdip2KnYqdjt9ZnVuY3Rpb24gT3V0KHYpe3JldHVybiAxLSAtLXYqdip2KnY7fWZ1bmN0aW9uIEluT3V0KHYpe2lmKCh2Kj0yKTwxKXtyZXR1cm4gMC41KnYqdip2KnY7fWVsc2V7cmV0dXJuLTAuNSooKHYtPTIpKnYqdip2LTIpO319bW9kdWxlLmV4cG9ydHM9e0luOkluLE91dDpPdXQsSW5PdXQ6SW5PdXR9Oy8qKiovfSwvKiAxNDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBJbih2KXtyZXR1cm4gdip2KnYqdip2O31mdW5jdGlvbiBPdXQodil7cmV0dXJuLS12KnYqdip2KnYrMTt9ZnVuY3Rpb24gSW5PdXQodil7aWYoKHYqPTIpPDEpe3JldHVybiAwLjUqdip2KnYqdip2O31lbHNle3JldHVybiAwLjUqKCh2LT0yKSp2KnYqdip2KzIpO319bW9kdWxlLmV4cG9ydHM9e0luOkluLE91dDpPdXQsSW5PdXQ6SW5PdXR9Oy8qKiovfSwvKiAxNDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBJbih2KXtpZih2PT09MCl7cmV0dXJuIDA7fWVsc2UgaWYodj09PTEpe3JldHVybiAxO31lbHNle3JldHVybiAxLU1hdGguY29zKHYqTWF0aC5QSS8yKTt9fWZ1bmN0aW9uIE91dCh2KXtpZih2PT09MCl7cmV0dXJuIDA7fWVsc2UgaWYodj09PTEpe3JldHVybiAxO31lbHNle3JldHVybiBNYXRoLnNpbih2Kk1hdGguUEkvMik7fX1mdW5jdGlvbiBJbk91dCh2KXtpZih2PT09MCl7cmV0dXJuIDA7fWVsc2UgaWYodj09PTEpe3JldHVybiAxO31lbHNle3JldHVybiAwLjUqKDEtTWF0aC5jb3MoTWF0aC5QSSp2KSk7fX1tb2R1bGUuZXhwb3J0cz17SW46SW4sT3V0Ok91dCxJbk91dDpJbk91dH07LyoqKi99LC8qIDE0MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEZhY3RvcmlhbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Myk7dmFyIEJlcm5zdGVpbj1mdW5jdGlvbiBCZXJuc3RlaW4obixpKXtyZXR1cm4gRmFjdG9yaWFsKG4pL0ZhY3RvcmlhbChpKS9GYWN0b3JpYWwobi1pKTt9O21vZHVsZS5leHBvcnRzPUJlcm5zdGVpbjsvKioqL30sLyogMTQzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEZhY3RvcmlhbD1mdW5jdGlvbiBGYWN0b3JpYWwodmFsdWUpe2lmKHZhbHVlPT09MCl7cmV0dXJuIDE7fXZhciByZXM9dmFsdWU7d2hpbGUoLS12YWx1ZSl7cmVzKj12YWx1ZTt9cmV0dXJuIHJlczt9O21vZHVsZS5leHBvcnRzPUZhY3RvcmlhbDsvKioqL30sLyogMTQ0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENhdG11bGxSb209ZnVuY3Rpb24gQ2F0bXVsbFJvbShwMCxwMSxwMixwMyx0KXt2YXIgdjA9KHAyLXAwKSowLjUsdjE9KHAzLXAxKSowLjUsdDI9dCp0LHQzPXQqdDI7cmV0dXJuKDIqcDEtMipwMit2MCt2MSkqdDMrKC0zKnAxKzMqcDItMip2MC12MSkqdDIrdjAqdCtwMTt9O21vZHVsZS5leHBvcnRzPUNhdG11bGxSb207LyoqKi99LC8qIDE0NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIExpbmVhcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nik7dmFyIExpbmVhckludGVycG9sYXRpb249ZnVuY3Rpb24gTGluZWFySW50ZXJwb2xhdGlvbih2LGspe3ZhciBtPXYubGVuZ3RoLTE7dmFyIGY9bSprO3ZhciBpPU1hdGguZmxvb3IoZik7aWYoazwwKXtyZXR1cm4gTGluZWFyKHZbMF0sdlsxXSxmKTt9aWYoaz4xKXtyZXR1cm4gTGluZWFyKHZbbV0sdlttLTFdLG0tZik7fXJldHVybiBMaW5lYXIodltpXSx2W2krMT5tP206aSsxXSxmLWkpO307bW9kdWxlLmV4cG9ydHM9TGluZWFySW50ZXJwb2xhdGlvbjsvKioqL30sLyogMTQ2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIExpbmVhcj1mdW5jdGlvbiBMaW5lYXIocDAscDEsdCl7cmV0dXJuKHAxLXAwKSp0K3AwO307bW9kdWxlLmV4cG9ydHM9TGluZWFyOy8qKiovfSwvKiAxNDcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUm91bmRBd2F5RnJvbVplcm89ZnVuY3Rpb24gUm91bmRBd2F5RnJvbVplcm8odmFsdWUpey8vIFwiT3Bwb3NpdGVcIiBvZiB0cnVuY2F0ZS5cbnJldHVybiB2YWx1ZT4wP01hdGguY2VpbCh2YWx1ZSk6TWF0aC5mbG9vcih2YWx1ZSk7fTttb2R1bGUuZXhwb3J0cz1Sb3VuZEF3YXlGcm9tWmVybzsvKioqL30sLyogMTQ4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7LyoqXG4qIENvbnZlcnRzIGEgQ1NTICd3ZWInIHN0cmluZyBpbnRvIGEgUGhhc2VyIENvbG9yIG9iamVjdC5cbipcbiogVGhlIHdlYiBzdHJpbmcgY2FuIGJlIGluIHRoZSBmb3JtYXQgYCdyZ2IocixnLGIpJ2Agb3IgYCdyZ2JhKHIsZyxiLGEpJ2Agd2hlcmUgci9nL2IgYXJlIGluIHRoZSByYW5nZSBbMC4uMjU1XSBhbmQgYSBpcyBpbiB0aGUgcmFuZ2UgWzAuLjFdLlxuKi92YXIgUkdCU3RyaW5nVG9Db2xvcj1mdW5jdGlvbiBSR0JTdHJpbmdUb0NvbG9yKHJnYil7dmFyIGNvbG9yPW5ldyBDb2xvcigpO3ZhciByZXN1bHQ9L15yZ2JhP1xcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPykpP1xccypcXCkkLy5leGVjKHJnYi50b0xvd2VyQ2FzZSgpKTtpZihyZXN1bHQpe3ZhciByPXBhcnNlSW50KHJlc3VsdFsxXSwxMCk7dmFyIGc9cGFyc2VJbnQocmVzdWx0WzJdLDEwKTt2YXIgYj1wYXJzZUludChyZXN1bHRbM10sMTApO3ZhciBhPXJlc3VsdFs0XSE9PXVuZGVmaW5lZD9wYXJzZUZsb2F0KHJlc3VsdFs0XSk6MTtjb2xvci5zZXRUbyhyLGcsYixhKjI1NSk7fXJldHVybiBjb2xvcjt9O21vZHVsZS5leHBvcnRzPVJHQlN0cmluZ1RvQ29sb3I7LyoqKi99LC8qIDE0OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuICogR2l2ZW4gYW4gYWxwaGEgYW5kIDMgY29sb3IgdmFsdWVzIHRoaXMgd2lsbCByZXR1cm4gYW4gaW50ZWdlciByZXByZXNlbnRhdGlvbiBvZiBpdC5cbiAqL3ZhciBHZXRDb2xvcjMyPWZ1bmN0aW9uIEdldENvbG9yMzIocmVkLGdyZWVuLGJsdWUsYWxwaGEpe3JldHVybiBhbHBoYTw8MjR8cmVkPDwxNnxncmVlbjw8OHxibHVlO307bW9kdWxlLmV4cG9ydHM9R2V0Q29sb3IzMjsvKioqL30sLyogMTUwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7LyoqXG4qIENvbnZlcnRzIGEgaGV4IHN0cmluZyBpbnRvIGEgUGhhc2VyIENvbG9yIG9iamVjdC5cbipcbiogVGhlIGhleCBzdHJpbmcgY2FuIHN1cHBsaWVkIGFzIGAnIzAwMzNmZidgIG9yIHRoZSBzaG9ydC1oYW5kIGZvcm1hdCBvZiBgJyMwM2YnYDsgaXQgY2FuIGJlZ2luIHdpdGggYW4gb3B0aW9uYWwgXCIjXCIgb3IgXCIweFwiLCBvciBiZSB1bnByZWZpeGVkLiAgICBcbipcbiogQW4gYWxwaGEgY2hhbm5lbCBpcyBfbm90XyBzdXBwb3J0ZWQuXG4qL3ZhciBIZXhTdHJpbmdUb0NvbG9yPWZ1bmN0aW9uIEhleFN0cmluZ1RvQ29sb3IoaGV4KXt2YXIgY29sb3I9bmV3IENvbG9yKCk7Ly8gRXhwYW5kIHNob3J0aGFuZCBmb3JtIChlLmcuIFwiMDNGXCIpIHRvIGZ1bGwgZm9ybSAoZS5nLiBcIjAwMzNGRlwiKVxuaGV4PWhleC5yZXBsYWNlKC9eKD86I3wweCk/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLGZ1bmN0aW9uKG0scixnLGIpe3JldHVybiByK3IrZytnK2IrYjt9KTt2YXIgcmVzdWx0PS9eKD86I3wweCk/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtpZihyZXN1bHQpe3ZhciByPXBhcnNlSW50KHJlc3VsdFsxXSwxNik7dmFyIGc9cGFyc2VJbnQocmVzdWx0WzJdLDE2KTt2YXIgYj1wYXJzZUludChyZXN1bHRbM10sMTYpO2NvbG9yLnNldFRvKHIsZyxiKTt9cmV0dXJuIGNvbG9yO307bW9kdWxlLmV4cG9ydHM9SGV4U3RyaW5nVG9Db2xvcjsvKioqL30sLyogMTUxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7dmFyIEludGVnZXJUb1JHQj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7dmFyIEludGVnZXJUb0NvbG9yPWZ1bmN0aW9uIEludGVnZXJUb0NvbG9yKGlucHV0KXt2YXIgcmdiPUludGVnZXJUb1JHQihpbnB1dCk7cmV0dXJuIG5ldyBDb2xvcihyZ2IucixyZ2IuZyxyZ2IuYixyZ2IuYSk7fTttb2R1bGUuZXhwb3J0cz1JbnRlZ2VyVG9Db2xvcjsvKioqL30sLyogMTUyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFJldHVybiB0aGUgY29tcG9uZW50IHBhcnRzIG9mIGEgY29sb3IgYXMgYW4gT2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgYWxwaGEsIHJlZCwgZ3JlZW4sIGJsdWUuXG4qXG4qIEFscGhhIHdpbGwgb25seSBiZSBzZXQgaWYgaXQgZXhpc3RzIGluIHRoZSBnaXZlbiBjb2xvciAoMHhBQVJSR0dCQilcbiovdmFyIEludGVnZXJUb1JHQj1mdW5jdGlvbiBJbnRlZ2VyVG9SR0IoY29sb3Ipe2lmKGNvbG9yPjE2Nzc3MjE1KXsvLyAgVGhlIGNvbG9yIHZhbHVlIGhhcyBhbiBhbHBoYSBjb21wb25lbnRcbnJldHVybnthOmNvbG9yPj4+MjQscjpjb2xvcj4+MTYmMHhGRixnOmNvbG9yPj44JjB4RkYsYjpjb2xvciYweEZGfTt9ZWxzZXtyZXR1cm57YToyNTUscjpjb2xvcj4+MTYmMHhGRixnOmNvbG9yPj44JjB4RkYsYjpjb2xvciYweEZGfTt9fTttb2R1bGUuZXhwb3J0cz1JbnRlZ2VyVG9SR0I7LyoqKi99LC8qIDE1MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE9TPV9fd2VicGFja19yZXF1aXJlX18oNDIpO3ZhciBCcm93c2VyPV9fd2VicGFja19yZXF1aXJlX18oNTMpO3ZhciBDYW52YXNQb29sPV9fd2VicGFja19yZXF1aXJlX18oMTEpO3ZhciBGZWF0dXJlcz17Ly8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2FudmFzIC0gSXMgY2FudmFzIGF2YWlsYWJsZT9cbmNhbnZhczpmYWxzZSwvLyAgQHByb3BlcnR5IHs/Ym9vbGVhbn0gY2FudmFzQml0Qmx0U2hpZnQgLSBUcnVlIGlmIGNhbnZhcyBzdXBwb3J0cyBhICdjb3B5JyBiaXRibHQgb250byBpdHNlbGYgd2hlbiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiByZWdpb25zIG92ZXJsYXAuXG5jYW52YXNCaXRCbHRTaGlmdDpudWxsLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IHdlYkdMIC0gSXMgd2ViR0wgYXZhaWxhYmxlP1xud2ViR0w6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZmlsZSAtIElzIGZpbGUgYXZhaWxhYmxlP1xuZmlsZTpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBmaWxlU3lzdGVtIC0gSXMgZmlsZVN5c3RlbSBhdmFpbGFibGU/XG5maWxlU3lzdGVtOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGxvY2FsU3RvcmFnZSAtIElzIGxvY2FsU3RvcmFnZSBhdmFpbGFibGU/XG5sb2NhbFN0b3JhZ2U6ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gd29ya2VyIC0gSXMgd29ya2VyIGF2YWlsYWJsZT9cbndvcmtlcjpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBwb2ludGVyTG9jayAtIElzIFBvaW50ZXIgTG9jayBhdmFpbGFibGU/XG5wb2ludGVyTG9jazpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSB2aWJyYXRpb24gLSBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0aGUgVmlicmF0aW9uIEFQST9cbnZpYnJhdGlvbjpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBnZXRVc2VyTWVkaWEgLSBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0aGUgZ2V0VXNlck1lZGlhIEFQST9cbmdldFVzZXJNZWRpYTp0cnVlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGxpdHRsZUVuZGlhbiAtIElzIHRoZSBkZXZpY2UgYmlnIG9yIGxpdHRsZSBlbmRpYW4/IChvbmx5IGRldGVjdGVkIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIFR5cGVkQXJyYXlzKVxubGl0dGxlRW5kaWFuOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IHN1cHBvcnQzMmJpdCAtIERvZXMgdGhlIGRldmljZSBjb250ZXh0IHN1cHBvcnQgMzJiaXQgcGl4ZWwgbWFuaXB1bGF0aW9uIHVzaW5nIGFycmF5IGJ1ZmZlciB2aWV3cz9cbnN1cHBvcnQzMmJpdDpmYWxzZX07Ly8gQ2hlY2sgTGl0dGxlIG9yIEJpZyBFbmRpYW4gc3lzdGVtLlxuLy8gQGF1dGhvciBNYXR0IERlc0xhdXJpZXJzIChAbWF0dGRlc2wpXG5mdW5jdGlvbiBjaGVja0lzTGl0dGxlRW5kaWFuKCl7dmFyIGE9bmV3IEFycmF5QnVmZmVyKDQpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEpO3ZhciBjPW5ldyBVaW50MzJBcnJheShhKTtiWzBdPTB4YTE7YlsxXT0weGIyO2JbMl09MHhjMztiWzNdPTB4ZDQ7aWYoY1swXT09PTB4ZDRjM2IyYTEpe3JldHVybiB0cnVlO31pZihjWzBdPT09MHhhMWIyYzNkNCl7cmV0dXJuIGZhbHNlO31lbHNley8vICBDb3VsZCBub3QgZGV0ZXJtaW5lIGVuZGlhbm5lc3NcbnJldHVybiBudWxsO319ZnVuY3Rpb24gaW5pdCgpe0ZlYXR1cmVzLmNhbnZhcz0hIXdpbmRvd1snQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEJ118fE9TLmNvY29vbkpTO3RyeXtGZWF0dXJlcy5sb2NhbFN0b3JhZ2U9ISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbTt9Y2F0Y2goZXJyb3Ipe0ZlYXR1cmVzLmxvY2FsU3RvcmFnZT1mYWxzZTt9RmVhdHVyZXMuZmlsZT0hIXdpbmRvd1snRmlsZSddJiYhIXdpbmRvd1snRmlsZVJlYWRlciddJiYhIXdpbmRvd1snRmlsZUxpc3QnXSYmISF3aW5kb3dbJ0Jsb2InXTtGZWF0dXJlcy5maWxlU3lzdGVtPSEhd2luZG93WydyZXF1ZXN0RmlsZVN5c3RlbSddO3ZhciBpc1VpbnQ4PWZhbHNlO3ZhciB0ZXN0V2ViR0w9ZnVuY3Rpb24gdGVzdFdlYkdMKCl7aWYod2luZG93WydXZWJHTFJlbmRlcmluZ0NvbnRleHQnXSl7dHJ5e3ZhciBjYW52YXM9Q2FudmFzUG9vbC5jcmVhdGVXZWJHTCh0aGlzKTtpZihPUy5jb2Nvb25KUyl7Y2FudmFzLnNjcmVlbmNhbnZhcz1mYWxzZTt9dmFyIGN0eD1jYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKXx8Y2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO3ZhciBjYW52YXMyRD1DYW52YXNQb29sLmNyZWF0ZTJEKHRoaXMpO3ZhciBjdHgyRD1jYW52YXMyRC5nZXRDb250ZXh0KCcyZCcpOy8vICBDYW4ndCBiZSBkb25lIG9uIGEgd2ViZ2wgY29udGV4dFxudmFyIGltYWdlPWN0eDJELmNyZWF0ZUltYWdlRGF0YSgxLDEpOy8qKlxuICAgICAgICAgICAgICAgICogVGVzdCB0byBzZWUgaWYgSW1hZ2VEYXRhIHVzZXMgQ2FudmFzUGl4ZWxBcnJheSBvciBVaW50OENsYW1wZWRBcnJheS5cbiAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgKiBAYXV0aG9yIE1hdHQgRGVzTGF1cmllcnMgKEBtYXR0ZGVzbClcbiAgICAgICAgICAgICAgICAqL2lzVWludDg9aW1hZ2UuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5O0NhbnZhc1Bvb2wucmVtb3ZlKGNhbnZhcyk7Q2FudmFzUG9vbC5yZW1vdmUoY2FudmFzMkQpO3JldHVybiBjdHghPT1udWxsO31jYXRjaChlKXtyZXR1cm4gZmFsc2U7fX1yZXR1cm4gZmFsc2U7fTtGZWF0dXJlcy53ZWJHTD10cnVlOy8vdGVzdFdlYkdMKCk7XG5GZWF0dXJlcy53b3JrZXI9ISF3aW5kb3dbJ1dvcmtlciddO0ZlYXR1cmVzLnBvaW50ZXJMb2NrPSdwb2ludGVyTG9ja0VsZW1lbnQnaW4gZG9jdW1lbnR8fCdtb3pQb2ludGVyTG9ja0VsZW1lbnQnaW4gZG9jdW1lbnR8fCd3ZWJraXRQb2ludGVyTG9ja0VsZW1lbnQnaW4gZG9jdW1lbnQ7bmF2aWdhdG9yLmdldFVzZXJNZWRpYT1uYXZpZ2F0b3IuZ2V0VXNlck1lZGlhfHxuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhfHxuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWF8fG5hdmlnYXRvci5vR2V0VXNlck1lZGlhO3dpbmRvdy5VUkw9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTHx8d2luZG93Lm1velVSTHx8d2luZG93Lm1zVVJMO0ZlYXR1cmVzLmdldFVzZXJNZWRpYT1GZWF0dXJlcy5nZXRVc2VyTWVkaWEmJiEhbmF2aWdhdG9yLmdldFVzZXJNZWRpYSYmISF3aW5kb3cuVVJMOy8vIE9sZGVyIHZlcnNpb25zIG9mIGZpcmVmb3ggKDwgMjEpIGFwcGFyZW50bHkgY2xhaW0gc3VwcG9ydCBidXQgdXNlciBtZWRpYSBkb2VzIG5vdCBhY3R1YWxseSB3b3JrXG5pZihCcm93c2VyLmZpcmVmb3gmJkJyb3dzZXIuZmlyZWZveFZlcnNpb248MjEpe0ZlYXR1cmVzLmdldFVzZXJNZWRpYT1mYWxzZTt9Ly8gRXhjbHVkZXMgaU9TIHZlcnNpb25zIGFzIHRoZXkgZ2VuZXJhbGx5IHdyYXAgVUlXZWJWaWV3IChlZy4gU2FmYXJpIFdlYktpdCkgYW5kIGl0XG4vLyBpcyBzYWZlciB0byBub3QgdHJ5IGFuZCB1c2UgdGhlIGZhc3QgY29weS1vdmVyIG1ldGhvZC5cbmlmKCFPUy5pT1MmJihCcm93c2VyLmllfHxCcm93c2VyLmZpcmVmb3h8fEJyb3dzZXIuY2hyb21lKSl7RmVhdHVyZXMuY2FudmFzQml0Qmx0U2hpZnQ9dHJ1ZTt9Ly8gS25vd24gbm90IHRvIHdvcmtcbmlmKEJyb3dzZXIuc2FmYXJpfHxCcm93c2VyLm1vYmlsZVNhZmFyaSl7RmVhdHVyZXMuY2FudmFzQml0Qmx0U2hpZnQ9ZmFsc2U7fW5hdmlnYXRvci52aWJyYXRlPW5hdmlnYXRvci52aWJyYXRlfHxuYXZpZ2F0b3Iud2Via2l0VmlicmF0ZXx8bmF2aWdhdG9yLm1velZpYnJhdGV8fG5hdmlnYXRvci5tc1ZpYnJhdGU7aWYobmF2aWdhdG9yLnZpYnJhdGUpe0ZlYXR1cmVzLnZpYnJhdGlvbj10cnVlO31pZih0eXBlb2YgQXJyYXlCdWZmZXIhPT0ndW5kZWZpbmVkJyYmdHlwZW9mIFVpbnQ4QXJyYXkhPT0ndW5kZWZpbmVkJyYmdHlwZW9mIFVpbnQzMkFycmF5IT09J3VuZGVmaW5lZCcpe0ZlYXR1cmVzLmxpdHRsZUVuZGlhbj1jaGVja0lzTGl0dGxlRW5kaWFuKCk7fUZlYXR1cmVzLnN1cHBvcnQzMmJpdD10eXBlb2YgQXJyYXlCdWZmZXIhPT0ndW5kZWZpbmVkJyYmdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5IT09J3VuZGVmaW5lZCcmJnR5cGVvZiBJbnQzMkFycmF5IT09J3VuZGVmaW5lZCcmJkZlYXR1cmVzLmxpdHRsZUVuZGlhbiE9PW51bGwmJmlzVWludDg7cmV0dXJuIEZlYXR1cmVzO31tb2R1bGUuZXhwb3J0cz1pbml0KCk7LyoqKi99LC8qIDE1NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENhbnZhc1Bvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7dmFyIENhbnZhc0ZlYXR1cmVzPXtzdXBwb3J0TmV3QmxlbmRNb2RlczpmYWxzZSxzdXBwb3J0SW52ZXJzZUFscGhhOmZhbHNlfTtmdW5jdGlvbiBjaGVja0JsZW5kTW9kZSgpe3ZhciBwbmdIZWFkPSdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFRQUFBQUJBUU1BQUFERDhwMk9BQUFBQTFCTVZFWC8nO3ZhciBwbmdFbmQ9J0FBQUFDa2xFUVZRSTEyTmdBQUFBQWdBQjRpRzhNd0FBQUFCSlJVNUVya0pnZ2c9PSc7dmFyIG1hZ2VudGE9bmV3IEltYWdlKCk7bWFnZW50YS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgeWVsbG93PW5ldyBJbWFnZSgpO3llbGxvdy5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgY2FudmFzPUNhbnZhc1Bvb2wuY3JlYXRlKHllbGxvdyw2LDEpO3ZhciBjb250ZXh0PWNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO2NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPSdtdWx0aXBseSc7Y29udGV4dC5kcmF3SW1hZ2UobWFnZW50YSwwLDApO2NvbnRleHQuZHJhd0ltYWdlKHllbGxvdywyLDApO2lmKCFjb250ZXh0LmdldEltYWdlRGF0YSgyLDAsMSwxKSl7cmV0dXJuIGZhbHNlO312YXIgZGF0YT1jb250ZXh0LmdldEltYWdlRGF0YSgyLDAsMSwxKS5kYXRhO0NhbnZhc1Bvb2wucmVtb3ZlKHllbGxvdyk7Q2FudmFzRmVhdHVyZXMuc3VwcG9ydE5ld0JsZW5kTW9kZXM9ZGF0YVswXT09PTI1NSYmZGF0YVsxXT09PTAmJmRhdGFbMl09PT0wO307eWVsbG93LnNyYz1wbmdIZWFkKycvd0NLeHZSRicrcG5nRW5kO307bWFnZW50YS5zcmM9cG5nSGVhZCsnQVA4MDRPYTYnK3BuZ0VuZDtyZXR1cm4gZmFsc2U7fWZ1bmN0aW9uIGNoZWNrSW52ZXJzZUFscGhhKCl7dmFyIGNhbnZhcz1DYW52YXNQb29sLmNyZWF0ZSh0aGlzLDIsMSk7dmFyIGNvbnRleHQ9Y2FudmFzLmdldENvbnRleHQoJzJkJyk7Y29udGV4dC5maWxsU3R5bGU9J3JnYmEoMTAsIDIwLCAzMCwgMC41KSc7Ly8gIERyYXcgYSBzaW5nbGUgcGl4ZWxcbmNvbnRleHQuZmlsbFJlY3QoMCwwLDEsMSk7Ly8gIEdldCB0aGUgY29sb3IgdmFsdWVzXG52YXIgczE9Y29udGV4dC5nZXRJbWFnZURhdGEoMCwwLDEsMSk7aWYoczE9PT1udWxsKXtyZXR1cm4gZmFsc2U7fS8vICBQbG90IHRoZW0gdG8geDJcbmNvbnRleHQucHV0SW1hZ2VEYXRhKHMxLDEsMCk7Ly8gIEdldCB0aG9zZSB2YWx1ZXNcbnZhciBzMj1jb250ZXh0LmdldEltYWdlRGF0YSgxLDAsMSwxKTsvLyAgQ29tcGFyZSBhbmQgcmV0dXJuXG5yZXR1cm4gczIuZGF0YVswXT09PXMxLmRhdGFbMF0mJnMyLmRhdGFbMV09PT1zMS5kYXRhWzFdJiZzMi5kYXRhWzJdPT09czEuZGF0YVsyXSYmczIuZGF0YVszXT09PXMxLmRhdGFbM107fWZ1bmN0aW9uIGluaXQoKXtpZihkb2N1bWVudCE9PXVuZGVmaW5lZCl7Q2FudmFzRmVhdHVyZXMuc3VwcG9ydE5ld0JsZW5kTW9kZXM9Y2hlY2tCbGVuZE1vZGUoKTtDYW52YXNGZWF0dXJlcy5zdXBwb3J0SW52ZXJzZUFscGhhPWNoZWNrSW52ZXJzZUFscGhhKCk7fXJldHVybiBDYW52YXNGZWF0dXJlczt9bW9kdWxlLmV4cG9ydHM9aW5pdCgpOy8qKiovfSwvKiAxNTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRVZFTlRfQ09OU1Q9e0RJU1BBVENIRVJfSURMRTowLERJU1BBVENIRVJfRElTUEFUQ0hJTkc6MSxESVNQQVRDSEVSX1JFTU9WSU5HOjIsRElTUEFUQ0hFUl9ERVNUUk9ZRUQ6MyxMSVNURU5FUl9QRU5ESU5HOjQsTElTVEVORVJfQUNUSVZFOjUsTElTVEVORVJfUkVNT1ZJTkc6Nn07bW9kdWxlLmV4cG9ydHM9RVZFTlRfQ09OU1Q7LyoqKi99LC8qIDE1NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEZyYW1lPV9fd2VicGFja19yZXF1aXJlX18oMzkwKTt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgR2V0RnJhbWVzPWZ1bmN0aW9uIEdldEZyYW1lcyh0ZXh0dXJlTWFuYWdlcixmcmFtZXMpey8vICAgICAgZnJhbWVzOiBbXG4vLyAgICAgICAgICB7IGtleTogdGV4dHVyZUtleSwgZnJhbWU6IHRleHR1cmVGcmFtZSB9LFxuLy8gICAgICAgICAgeyBrZXk6IHRleHR1cmVLZXksIGZyYW1lOiB0ZXh0dXJlRnJhbWUsIGR1cmF0aW9uOiBmbG9hdCB9LFxuLy8gICAgICAgICAgeyBrZXk6IHRleHR1cmVLZXksIGZyYW1lOiB0ZXh0dXJlRnJhbWUsIG9uVXBkYXRlOiBmdW5jdGlvbiB9XG4vLyAgICAgICAgICB7IGtleTogdGV4dHVyZUtleSwgZnJhbWU6IHRleHR1cmVGcmFtZSwgdmlzaWJsZTogYm9vbGVhbiB9XG4vLyAgICAgIF0sXG52YXIgb3V0PVtdO3ZhciBwcmV2O3ZhciBhbmltYXRpb25GcmFtZTt2YXIgaW5kZXg9MTt2YXIgaTt2YXIgdGV4dHVyZUtleTsvLyAgaWYgZnJhbWVzIGlzIGEgc3RyaW5nLCB3ZSdsbCBnZXQgYWxsIHRoZSBmcmFtZXMgZnJvbSB0aGUgdGV4dHVyZSBtYW5hZ2VyIGFzIGlmIGl0J3MgYSBzcHJpdGUgc2hlZXRcbmlmKHR5cGVvZiBmcmFtZXM9PT0nc3RyaW5nJyl7dGV4dHVyZUtleT1mcmFtZXM7dmFyIHRleHR1cmU9dGV4dHVyZU1hbmFnZXIuZ2V0KHRleHR1cmVLZXkpO3ZhciBmcmFtZUtleXM9dGV4dHVyZS5nZXRGcmFtZU5hbWVzKCk7ZnJhbWVzPVtdO2ZyYW1lS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGlkeCx2YWx1ZSl7ZnJhbWVzLnB1c2goe2tleTp0ZXh0dXJlS2V5LGZyYW1lOnZhbHVlfSk7fSk7fS8vIGNvbnNvbGUudGFibGUoZnJhbWVzKTtcbmlmKCFBcnJheS5pc0FycmF5KGZyYW1lcyl8fGZyYW1lcy5sZW5ndGg9PT0wKXtyZXR1cm4gb3V0O31mb3IoaT0wO2k8ZnJhbWVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPWZyYW1lc1tpXTt2YXIga2V5PUdldFZhbHVlKGl0ZW0sJ2tleScsbnVsbCk7aWYoIWtleSl7Y29udGludWU7fXZhciBmcmFtZT1HZXRWYWx1ZShpdGVtLCdmcmFtZScsMCk7dmFyIHRleHR1cmVGcmFtZT10ZXh0dXJlTWFuYWdlci5nZXRGcmFtZShrZXksZnJhbWUpO2FuaW1hdGlvbkZyYW1lPW5ldyBGcmFtZShrZXksZnJhbWUsaW5kZXgsdGV4dHVyZUZyYW1lKTthbmltYXRpb25GcmFtZS5kdXJhdGlvbj1HZXRWYWx1ZShpdGVtLCdkdXJhdGlvbicsMCk7YW5pbWF0aW9uRnJhbWUub25VcGRhdGU9R2V0VmFsdWUoaXRlbSwnb25VcGRhdGUnLG51bGwpO3ZhciB2aXNpYmxlPUdldFZhbHVlKGl0ZW0sJ3Zpc2libGUnLG51bGwpO2lmKHZpc2libGUhPT1udWxsKXthbmltYXRpb25GcmFtZS5zZXRWaXNpYmxlPXRydWU7YW5pbWF0aW9uRnJhbWUudmlzaWJsZT12aXNpYmxlO31hbmltYXRpb25GcmFtZS5pc0ZpcnN0PSFwcmV2Oy8vICBUaGUgcHJldmlvdXNseSBjcmVhdGVkIGFuaW1hdGlvbkZyYW1lXG5pZihwcmV2KXtwcmV2Lm5leHRGcmFtZT1hbmltYXRpb25GcmFtZTthbmltYXRpb25GcmFtZS5wcmV2RnJhbWU9cHJldjt9b3V0LnB1c2goYW5pbWF0aW9uRnJhbWUpO3ByZXY9YW5pbWF0aW9uRnJhbWU7aW5kZXgrKzt9aWYob3V0Lmxlbmd0aD4wKXthbmltYXRpb25GcmFtZS5pc0xhc3Q9dHJ1ZTsvLyAgTGluayB0aGVtIGVuZC10by1lbmQsIHNvIHRoZXkgbG9vcFxuYW5pbWF0aW9uRnJhbWUubmV4dEZyYW1lPW91dFswXTtvdXRbMF0ucHJldkZyYW1lPWFuaW1hdGlvbkZyYW1lOy8vICBHZW5lcmF0ZSB0aGUgcHJvZ3Jlc3MgZGF0YVxudmFyIHNsaWNlPTEvKG91dC5sZW5ndGgtMSk7Zm9yKGk9MDtpPG91dC5sZW5ndGg7aSsrKXtvdXRbaV0ucHJvZ3Jlc3M9aSpzbGljZTt9fXJldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1HZXRGcmFtZXM7LyoqKi99LC8qIDE1NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUYWtlcyB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCBwYWRzIGl0IG91dCwgdG8gdGhlIGxlbmd0aCByZXF1aXJlZCwgdXNpbmcgdGhlIGNoYXJhY3RlclxuKiBzcGVjaWZpZWQuIEZvciBleGFtcGxlIGlmIHlvdSBuZWVkIGEgc3RyaW5nIHRvIGJlIDYgY2hhcmFjdGVycyBsb25nLCB5b3UgY2FuIGNhbGw6XG4qXG4qIGBwYWQoJ2JvYicsIDYsICctJywgMilgXG4qXG4qIFRoaXMgd291bGQgcmV0dXJuOiBgYm9iLS0tYCBhcyBpdCBoYXMgcGFkZGVkIGl0IG91dCB0byA2IGNoYXJhY3RlcnMsIHVzaW5nIHRoZSBgLWAgb24gdGhlIHJpZ2h0LlxuKlxuKiBZb3UgY2FuIGFsc28gdXNlIGl0IHRvIHBhZCBudW1iZXJzICh0aGV5IGFyZSBhbHdheXMgcmV0dXJuZWQgYXMgc3RyaW5ncyk6XG4qIFxuKiBgcGFkKDUxMiwgNiwgJzAnLCAxKWBcbipcbiogV291bGQgcmV0dXJuOiBgMDAwNTEyYCB3aXRoIHRoZSBzdHJpbmcgcGFkZGVkIHRvIHRoZSBsZWZ0LlxuKlxuKiBJZiB5b3UgZG9uJ3Qgc3BlY2lmeSBhIGRpcmVjdGlvbiBpdCdsbCBwYWQgdG8gYm90aCBzaWRlczpcbiogXG4qIGBwYWQoJ2M2NCcsIDcsICcqJylgXG4qXG4qIFdvdWxkIHJldHVybjogYCoqYzY0KipgXG4qXG4qIEBtZXRob2QgUGhhc2VyLlV0aWxzLnBhZFxuKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHRhcmdldCBzdHJpbmcuIGB0b1N0cmluZygpYCB3aWxsIGJlIGNhbGxlZCBvbiB0aGUgc3RyaW5nLCB3aGljaCBtZWFucyB5b3UgY2FuIGFsc28gcGFzcyBpbiBjb21tb24gZGF0YSB0eXBlcyBsaWtlIG51bWJlcnMuXG4qIEBwYXJhbSB7aW50ZWdlcn0gW2xlbj0wXSAtIFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyB0byBiZSBhZGRlZC5cbiogQHBhcmFtIHtzdHJpbmd9IFtwYWQ9XCIgXCJdIC0gVGhlIHN0cmluZyB0byBwYWQgaXQgb3V0IHdpdGggKGRlZmF1bHRzIHRvIGEgc3BhY2UpLlxuKiBAcGFyYW0ge2ludGVnZXJ9IFtkaXI9M10gLSBUaGUgZGlyZWN0aW9uIGRpciA9IDEgKGxlZnQpLCAyIChyaWdodCksIDMgKGJvdGgpLlxuKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBwYWRkZWQgc3RyaW5nLlxuKi92YXIgUGFkPWZ1bmN0aW9uIFBhZChzdHIsbGVuLHBhZCxkaXIpe2lmKGxlbj09PXVuZGVmaW5lZCl7bGVuPTA7fWlmKHBhZD09PXVuZGVmaW5lZCl7cGFkPScgJzt9aWYoZGlyPT09dW5kZWZpbmVkKXtkaXI9Mzt9c3RyPXN0ci50b1N0cmluZygpO3ZhciBwYWRsZW49MDtpZihsZW4rMT49c3RyLmxlbmd0aCl7c3dpdGNoKGRpcil7Y2FzZSAxOnN0cj1uZXcgQXJyYXkobGVuKzEtc3RyLmxlbmd0aCkuam9pbihwYWQpK3N0cjticmVhaztjYXNlIDM6dmFyIHJpZ2h0PU1hdGguY2VpbCgocGFkbGVuPWxlbi1zdHIubGVuZ3RoKS8yKTt2YXIgbGVmdD1wYWRsZW4tcmlnaHQ7c3RyPW5ldyBBcnJheShsZWZ0KzEpLmpvaW4ocGFkKStzdHIrbmV3IEFycmF5KHJpZ2h0KzEpLmpvaW4ocGFkKTticmVhaztkZWZhdWx0OnN0cj1zdHIrbmV3IEFycmF5KGxlbisxLXN0ci5sZW5ndGgpLmpvaW4ocGFkKTticmVhazt9fXJldHVybiBzdHI7fTttb2R1bGUuZXhwb3J0cz1QYWQ7LyoqKi99LC8qIDE1OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7Ly8gVGhlIGtleXMgb2YgYSBNYXAgY2FuIGJlIGFyYml0cmFyeSB2YWx1ZXMuXG4vKlxudmFyIG1hcCA9IG5ldyBNYXAoW1xuICAgIFsgMSwgJ29uZScgXSxcbiAgICBbIDIsICd0d28nIF0sXG4gICAgWyAzLCAndGhyZWUnIF1cbl0pO1xuKi92YXIgTWFwPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBNYXAoZWxlbWVudHMpe3RoaXMuZW50cmllcz17fTt0aGlzLnNpemU9MDtpZihBcnJheS5pc0FycmF5KGVsZW1lbnRzKSl7Zm9yKHZhciBpPTA7aTxlbGVtZW50cy5sZW5ndGg7aSsrKXt0aGlzLnNldChlbGVtZW50c1tpXVswXSxlbGVtZW50c1tpXVsxXSk7fX19LHNldDpmdW5jdGlvbiBzZXQoa2V5LHZhbHVlKXtpZighdGhpcy5oYXMoa2V5KSl7dGhpcy5lbnRyaWVzW2tleV09dmFsdWU7dGhpcy5zaXplKys7fXJldHVybiB0aGlzO30sZ2V0OmZ1bmN0aW9uIGdldChrZXkpe2lmKHRoaXMuaGFzKGtleSkpe3JldHVybiB0aGlzLmVudHJpZXNba2V5XTt9fSxnZXRBcnJheTpmdW5jdGlvbiBnZXRBcnJheSgpe3ZhciBvdXRwdXQ9W107dmFyIGVudHJpZXM9dGhpcy5lbnRyaWVzO2Zvcih2YXIga2V5IGluIGVudHJpZXMpe291dHB1dC5wdXNoKGVudHJpZXNba2V5XSk7fXJldHVybiBvdXRwdXQ7fSxoYXM6ZnVuY3Rpb24gaGFzKGtleSl7cmV0dXJuIHRoaXMuZW50cmllcy5oYXNPd25Qcm9wZXJ0eShrZXkpO30sZGVsZXRlOmZ1bmN0aW9uIF9kZWxldGUoa2V5KXtpZih0aGlzLmhhcyhrZXkpKXtkZWxldGUgdGhpcy5lbnRyaWVzW2tleV07dGhpcy5zaXplLS07fXJldHVybiB0aGlzO30sY2xlYXI6ZnVuY3Rpb24gY2xlYXIoKXtPYmplY3Qua2V5cyh0aGlzLmVudHJpZXMpLmZvckVhY2goZnVuY3Rpb24ocHJvcCl7ZGVsZXRlIHRoaXMuZW50cmllc1twcm9wXTt9KTt0aGlzLnNpemU9MDtyZXR1cm4gdGhpczt9LGtleXM6ZnVuY3Rpb24ga2V5cygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmVudHJpZXMpO30sdmFsdWVzOmZ1bmN0aW9uIHZhbHVlcygpe3ZhciBvdXRwdXQ9W107dmFyIGVudHJpZXM9dGhpcy5lbnRyaWVzO2Zvcih2YXIga2V5IGluIGVudHJpZXMpe291dHB1dC5wdXNoKGVudHJpZXNba2V5XSk7fXJldHVybiBvdXRwdXQ7fSxkdW1wOmZ1bmN0aW9uIGR1bXAoKXt2YXIgZW50cmllcz10aGlzLmVudHJpZXM7Y29uc29sZS5ncm91cCgnTWFwJyk7Zm9yKHZhciBrZXkgaW4gZW50cmllcyl7Y29uc29sZS5sb2coa2V5LGVudHJpZXNba2V5XSk7fWNvbnNvbGUuZ3JvdXBFbmQoKTt9LGVhY2g6ZnVuY3Rpb24gZWFjaChjYWxsYmFjayl7dmFyIGVudHJpZXM9dGhpcy5lbnRyaWVzO2Zvcih2YXIga2V5IGluIGVudHJpZXMpe2lmKGNhbGxiYWNrKGtleSxlbnRyaWVzW2tleV0pPT09ZmFsc2Upe2JyZWFrO319cmV0dXJuIHRoaXM7fSxjb250YWluczpmdW5jdGlvbiBjb250YWlucyh2YWx1ZSl7dmFyIGVudHJpZXM9dGhpcy5lbnRyaWVzO2Zvcih2YXIga2V5IGluIGVudHJpZXMpe2lmKGVudHJpZXNba2V5XT09PXZhbHVlKXtyZXR1cm4gdHJ1ZTt9fXJldHVybiBmYWxzZTt9LC8vICBNZXJnZXMgYWxsIG5ldyBrZXlzIGZyb20gdGhlIGdpdmVuIE1hcCBpbnRvIHRoaXMgb25lXG4vLyAgSWYgaXQgZW5jb3VudGVycyBhIGtleSB0aGF0IGFscmVhZHkgZXhpc3RzIGl0IHdpbGwgYmUgc2tpcHBlZFxuLy8gIHVubGVzcyBvdmVycmlkZSA9IHRydWVcbm1lcmdlOmZ1bmN0aW9uIG1lcmdlKG1hcCxvdmVycmlkZSl7aWYob3ZlcnJpZGU9PT11bmRlZmluZWQpe292ZXJyaWRlPWZhbHNlO312YXIgbG9jYWw9dGhpcy5lbnRyaWVzO3ZhciBzb3VyY2U9bWFwLmVudHJpZXM7Zm9yKHZhciBrZXkgaW4gc291cmNlKXtpZihsb2NhbC5oYXNPd25Qcm9wZXJ0eShrZXkpJiZvdmVycmlkZSl7bG9jYWxba2V5XT1zb3VyY2Vba2V5XTt9ZWxzZXt0aGlzLnNldChrZXksc291cmNlW2tleV0pO319cmV0dXJuIHRoaXM7fX0pO21vZHVsZS5leHBvcnRzPU1hcDsvKioqL30sLyogMTU5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldENvbnRleHQ9ZnVuY3Rpb24gR2V0Q29udGV4dChjYW52YXMsb3B0aW9ucyl7cmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsb3B0aW9ucyl8fG51bGw7fTttb2R1bGUuZXhwb3J0cz1HZXRDb250ZXh0Oy8qKiovfSwvKiAxNjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtJbmRleEJ1ZmZlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDQzNCksUmVuZGVyVGFyZ2V0Ol9fd2VicGFja19yZXF1aXJlX18oNDM1KSxTaGFkZXI6X193ZWJwYWNrX3JlcXVpcmVfXyg0MzYpLFRleHR1cmU6X193ZWJwYWNrX3JlcXVpcmVfXyg0MzcpLFZlcnRleEJ1ZmZlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDQzOCl9Oy8qKiovfSwvKiAxNjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOy8vICAyLjEuMSAoTWFyIDE3LCAyMDE2KVxuLypcbklTQyBMaWNlbnNlXG5cbkNvcHlyaWdodCAoYykgMjAxNiwgTWFwYm94XG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueSBwdXJwb3NlXG53aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLCBwcm92aWRlZCB0aGF0IHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlXG5hbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBhcHBlYXIgaW4gYWxsIGNvcGllcy5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORFxuRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST00gTE9TU1xuT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SIE9USEVSXG5UT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SIFBFUkZPUk1BTkNFIE9GXG5USElTIFNPRlRXQVJFLlxuICovbW9kdWxlLmV4cG9ydHM9ZWFyY3V0Oy8qXG52ZXJ0aWNlcyBpcyBhIGZsYXQgYXJyYXkgb2YgdmVydGljZSBjb29yZGluYXRlcyBsaWtlIFt4MCx5MCwgeDEseTEsIHgyLHkyLCAuLi5dLlxuaG9sZXMgaXMgYW4gYXJyYXkgb2YgaG9sZSBpbmRpY2VzIGlmIGFueSAoZS5nLiBbNSwgOF0gZm9yIGEgMTItdmVydGljZSBpbnB1dCB3b3VsZCBtZWFuIG9uZSBob2xlIHdpdGggdmVydGljZXMgNeKAkzcgYW5kIGFub3RoZXIgd2l0aCA44oCTMTEpLlxuZGltZW5zaW9ucyBpcyB0aGUgbnVtYmVyIG9mIGNvb3JkaW5hdGVzIHBlciB2ZXJ0aWNlIGluIHRoZSBpbnB1dCBhcnJheSAoMiBieSBkZWZhdWx0KS5cbkVhY2ggZ3JvdXAgb2YgdGhyZWUgdmVydGljZSBpbmRpY2VzIGluIHRoZSByZXN1bHRpbmcgYXJyYXkgZm9ybXMgYSB0cmlhbmdsZS5cbiAqL2Z1bmN0aW9uIGVhcmN1dChkYXRhLGhvbGVJbmRpY2VzLGRpbSl7ZGltPWRpbXx8Mjt2YXIgaGFzSG9sZXM9aG9sZUluZGljZXMmJmhvbGVJbmRpY2VzLmxlbmd0aCxvdXRlckxlbj1oYXNIb2xlcz9ob2xlSW5kaWNlc1swXSpkaW06ZGF0YS5sZW5ndGgsb3V0ZXJOb2RlPWxpbmtlZExpc3QoZGF0YSwwLG91dGVyTGVuLGRpbSx0cnVlKSx0cmlhbmdsZXM9W107aWYoIW91dGVyTm9kZSlyZXR1cm4gdHJpYW5nbGVzO3ZhciBtaW5YLG1pblksbWF4WCxtYXhZLHgseSxzaXplO2lmKGhhc0hvbGVzKW91dGVyTm9kZT1lbGltaW5hdGVIb2xlcyhkYXRhLGhvbGVJbmRpY2VzLG91dGVyTm9kZSxkaW0pOy8vIGlmIHRoZSBzaGFwZSBpcyBub3QgdG9vIHNpbXBsZSwgd2UnbGwgdXNlIHotb3JkZXIgY3VydmUgaGFzaCBsYXRlcjsgY2FsY3VsYXRlIHBvbHlnb24gYmJveFxuaWYoZGF0YS5sZW5ndGg+ODAqZGltKXttaW5YPW1heFg9ZGF0YVswXTttaW5ZPW1heFk9ZGF0YVsxXTtmb3IodmFyIGk9ZGltO2k8b3V0ZXJMZW47aSs9ZGltKXt4PWRhdGFbaV07eT1kYXRhW2krMV07aWYoeDxtaW5YKW1pblg9eDtpZih5PG1pblkpbWluWT15O2lmKHg+bWF4WCltYXhYPXg7aWYoeT5tYXhZKW1heFk9eTt9Ly8gbWluWCwgbWluWSBhbmQgc2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbnNpemU9TWF0aC5tYXgobWF4WC1taW5YLG1heFktbWluWSk7fWVhcmN1dExpbmtlZChvdXRlck5vZGUsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksc2l6ZSk7cmV0dXJuIHRyaWFuZ2xlczt9Ly8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsc3RhcnQsZW5kLGRpbSxjbG9ja3dpc2Upe3ZhciBpLGxhc3Q7aWYoY2xvY2t3aXNlPT09c2lnbmVkQXJlYShkYXRhLHN0YXJ0LGVuZCxkaW0pPjApe2ZvcihpPXN0YXJ0O2k8ZW5kO2krPWRpbSl7bGFzdD1pbnNlcnROb2RlKGksZGF0YVtpXSxkYXRhW2krMV0sbGFzdCk7fX1lbHNle2ZvcihpPWVuZC1kaW07aT49c3RhcnQ7aS09ZGltKXtsYXN0PWluc2VydE5vZGUoaSxkYXRhW2ldLGRhdGFbaSsxXSxsYXN0KTt9fWlmKGxhc3QmJmVxdWFscyhsYXN0LGxhc3QubmV4dCkpe3JlbW92ZU5vZGUobGFzdCk7bGFzdD1sYXN0Lm5leHQ7fXJldHVybiBsYXN0O30vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LGVuZCl7aWYoIXN0YXJ0KXJldHVybiBzdGFydDtpZighZW5kKWVuZD1zdGFydDt2YXIgcD1zdGFydCxhZ2Fpbjtkb3thZ2Fpbj1mYWxzZTtpZighcC5zdGVpbmVyJiYoZXF1YWxzKHAscC5uZXh0KXx8YXJlYShwLnByZXYscCxwLm5leHQpPT09MCkpe3JlbW92ZU5vZGUocCk7cD1lbmQ9cC5wcmV2O2lmKHA9PT1wLm5leHQpcmV0dXJuIG51bGw7YWdhaW49dHJ1ZTt9ZWxzZXtwPXAubmV4dDt9fXdoaWxlKGFnYWlufHxwIT09ZW5kKTtyZXR1cm4gZW5kO30vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksc2l6ZSxwYXNzKXtpZighZWFyKXJldHVybjsvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5pZighcGFzcyYmc2l6ZSlpbmRleEN1cnZlKGVhcixtaW5YLG1pblksc2l6ZSk7dmFyIHN0b3A9ZWFyLHByZXYsbmV4dDsvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbndoaWxlKGVhci5wcmV2IT09ZWFyLm5leHQpe3ByZXY9ZWFyLnByZXY7bmV4dD1lYXIubmV4dDtpZihzaXplP2lzRWFySGFzaGVkKGVhcixtaW5YLG1pblksc2l6ZSk6aXNFYXIoZWFyKSl7Ly8gY3V0IG9mZiB0aGUgdHJpYW5nbGVcbnRyaWFuZ2xlcy5wdXNoKHByZXYuaS9kaW0pO3RyaWFuZ2xlcy5wdXNoKGVhci5pL2RpbSk7dHJpYW5nbGVzLnB1c2gobmV4dC5pL2RpbSk7cmVtb3ZlTm9kZShlYXIpOy8vIHNraXBwaW5nIHRoZSBuZXh0IHZlcnRpY2UgbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG5lYXI9bmV4dC5uZXh0O3N0b3A9bmV4dC5uZXh0O2NvbnRpbnVlO31lYXI9bmV4dDsvLyBpZiB3ZSBsb29wZWQgdGhyb3VnaCB0aGUgd2hvbGUgcmVtYWluaW5nIHBvbHlnb24gYW5kIGNhbid0IGZpbmQgYW55IG1vcmUgZWFyc1xuaWYoZWFyPT09c3RvcCl7Ly8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbmlmKCFwYXNzKXtlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksc2l6ZSwxKTsvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxufWVsc2UgaWYocGFzcz09PTEpe2Vhcj1jdXJlTG9jYWxJbnRlcnNlY3Rpb25zKGVhcix0cmlhbmdsZXMsZGltKTtlYXJjdXRMaW5rZWQoZWFyLHRyaWFuZ2xlcyxkaW0sbWluWCxtaW5ZLHNpemUsMik7Ly8gYXMgYSBsYXN0IHJlc29ydCwgdHJ5IHNwbGl0dGluZyB0aGUgcmVtYWluaW5nIHBvbHlnb24gaW50byB0d29cbn1lbHNlIGlmKHBhc3M9PT0yKXtzcGxpdEVhcmN1dChlYXIsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksc2l6ZSk7fWJyZWFrO319fS8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKXt2YXIgYT1lYXIucHJldixiPWVhcixjPWVhci5uZXh0O2lmKGFyZWEoYSxiLGMpPj0wKXJldHVybiBmYWxzZTsvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbnZhciBwPWVhci5uZXh0Lm5leHQ7d2hpbGUocCE9PWVhci5wcmV2KXtpZihwb2ludEluVHJpYW5nbGUoYS54LGEueSxiLngsYi55LGMueCxjLnkscC54LHAueSkmJmFyZWEocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4gZmFsc2U7cD1wLm5leHQ7fXJldHVybiB0cnVlO31mdW5jdGlvbiBpc0Vhckhhc2hlZChlYXIsbWluWCxtaW5ZLHNpemUpe3ZhciBhPWVhci5wcmV2LGI9ZWFyLGM9ZWFyLm5leHQ7aWYoYXJlYShhLGIsYyk+PTApcmV0dXJuIGZhbHNlOy8vIHJlZmxleCwgY2FuJ3QgYmUgYW4gZWFyXG4vLyB0cmlhbmdsZSBiYm94OyBtaW4gJiBtYXggYXJlIGNhbGN1bGF0ZWQgbGlrZSB0aGlzIGZvciBzcGVlZFxudmFyIG1pblRYPWEueDxiLng/YS54PGMueD9hLng6Yy54OmIueDxjLng/Yi54OmMueCxtaW5UWT1hLnk8Yi55P2EueTxjLnk/YS55OmMueTpiLnk8Yy55P2IueTpjLnksbWF4VFg9YS54PmIueD9hLng+Yy54P2EueDpjLng6Yi54PmMueD9iLng6Yy54LG1heFRZPWEueT5iLnk/YS55PmMueT9hLnk6Yy55OmIueT5jLnk/Yi55OmMueTsvLyB6LW9yZGVyIHJhbmdlIGZvciB0aGUgY3VycmVudCB0cmlhbmdsZSBiYm94O1xudmFyIG1pblo9ek9yZGVyKG1pblRYLG1pblRZLG1pblgsbWluWSxzaXplKSxtYXhaPXpPcmRlcihtYXhUWCxtYXhUWSxtaW5YLG1pblksc2l6ZSk7Ly8gZmlyc3QgbG9vayBmb3IgcG9pbnRzIGluc2lkZSB0aGUgdHJpYW5nbGUgaW4gaW5jcmVhc2luZyB6LW9yZGVyXG52YXIgcD1lYXIubmV4dFo7d2hpbGUocCYmcC56PD1tYXhaKXtpZihwIT09ZWFyLnByZXYmJnAhPT1lYXIubmV4dCYmcG9pbnRJblRyaWFuZ2xlKGEueCxhLnksYi54LGIueSxjLngsYy55LHAueCxwLnkpJiZhcmVhKHAucHJldixwLHAubmV4dCk+PTApcmV0dXJuIGZhbHNlO3A9cC5uZXh0Wjt9Ly8gdGhlbiBsb29rIGZvciBwb2ludHMgaW4gZGVjcmVhc2luZyB6LW9yZGVyXG5wPWVhci5wcmV2Wjt3aGlsZShwJiZwLno+PW1pblope2lmKHAhPT1lYXIucHJldiYmcCE9PWVhci5uZXh0JiZwb2ludEluVHJpYW5nbGUoYS54LGEueSxiLngsYi55LGMueCxjLnkscC54LHAueSkmJmFyZWEocC5wcmV2LHAscC5uZXh0KT49MClyZXR1cm4gZmFsc2U7cD1wLnByZXZaO31yZXR1cm4gdHJ1ZTt9Ly8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsdHJpYW5nbGVzLGRpbSl7dmFyIHA9c3RhcnQ7ZG97dmFyIGE9cC5wcmV2LGI9cC5uZXh0Lm5leHQ7aWYoIWVxdWFscyhhLGIpJiZpbnRlcnNlY3RzKGEscCxwLm5leHQsYikmJmxvY2FsbHlJbnNpZGUoYSxiKSYmbG9jYWxseUluc2lkZShiLGEpKXt0cmlhbmdsZXMucHVzaChhLmkvZGltKTt0cmlhbmdsZXMucHVzaChwLmkvZGltKTt0cmlhbmdsZXMucHVzaChiLmkvZGltKTsvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG5yZW1vdmVOb2RlKHApO3JlbW92ZU5vZGUocC5uZXh0KTtwPXN0YXJ0PWI7fXA9cC5uZXh0O313aGlsZShwIT09c3RhcnQpO3JldHVybiBwO30vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsdHJpYW5nbGVzLGRpbSxtaW5YLG1pblksc2l6ZSl7Ly8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbnZhciBhPXN0YXJ0O2Rve3ZhciBiPWEubmV4dC5uZXh0O3doaWxlKGIhPT1hLnByZXYpe2lmKGEuaSE9PWIuaSYmaXNWYWxpZERpYWdvbmFsKGEsYikpey8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbnZhciBjPXNwbGl0UG9seWdvbihhLGIpOy8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG5hPWZpbHRlclBvaW50cyhhLGEubmV4dCk7Yz1maWx0ZXJQb2ludHMoYyxjLm5leHQpOy8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG5lYXJjdXRMaW5rZWQoYSx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxzaXplKTtlYXJjdXRMaW5rZWQoYyx0cmlhbmdsZXMsZGltLG1pblgsbWluWSxzaXplKTtyZXR1cm47fWI9Yi5uZXh0O31hPWEubmV4dDt9d2hpbGUoYSE9PXN0YXJ0KTt9Ly8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSxob2xlSW5kaWNlcyxvdXRlck5vZGUsZGltKXt2YXIgcXVldWU9W10saSxsZW4sc3RhcnQsZW5kLGxpc3Q7Zm9yKGk9MCxsZW49aG9sZUluZGljZXMubGVuZ3RoO2k8bGVuO2krKyl7c3RhcnQ9aG9sZUluZGljZXNbaV0qZGltO2VuZD1pPGxlbi0xP2hvbGVJbmRpY2VzW2krMV0qZGltOmRhdGEubGVuZ3RoO2xpc3Q9bGlua2VkTGlzdChkYXRhLHN0YXJ0LGVuZCxkaW0sZmFsc2UpO2lmKGxpc3Q9PT1saXN0Lm5leHQpbGlzdC5zdGVpbmVyPXRydWU7cXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7fXF1ZXVlLnNvcnQoY29tcGFyZVgpOy8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG5mb3IoaT0wO2k8cXVldWUubGVuZ3RoO2krKyl7ZWxpbWluYXRlSG9sZShxdWV1ZVtpXSxvdXRlck5vZGUpO291dGVyTm9kZT1maWx0ZXJQb2ludHMob3V0ZXJOb2RlLG91dGVyTm9kZS5uZXh0KTt9cmV0dXJuIG91dGVyTm9kZTt9ZnVuY3Rpb24gY29tcGFyZVgoYSxiKXtyZXR1cm4gYS54LWIueDt9Ly8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsb3V0ZXJOb2RlKXtvdXRlck5vZGU9ZmluZEhvbGVCcmlkZ2UoaG9sZSxvdXRlck5vZGUpO2lmKG91dGVyTm9kZSl7dmFyIGI9c3BsaXRQb2x5Z29uKG91dGVyTm9kZSxob2xlKTtmaWx0ZXJQb2ludHMoYixiLm5leHQpO319Ly8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSxvdXRlck5vZGUpe3ZhciBwPW91dGVyTm9kZSxoeD1ob2xlLngsaHk9aG9sZS55LHF4PS1JbmZpbml0eSxtOy8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbi8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbmRve2lmKGh5PD1wLnkmJmh5Pj1wLm5leHQueSYmcC5uZXh0LnkhPT1wLnkpe3ZhciB4PXAueCsoaHktcC55KSoocC5uZXh0LngtcC54KS8ocC5uZXh0LnktcC55KTtpZih4PD1oeCYmeD5xeCl7cXg9eDtpZih4PT09aHgpe2lmKGh5PT09cC55KXJldHVybiBwO2lmKGh5PT09cC5uZXh0LnkpcmV0dXJuIHAubmV4dDt9bT1wLng8cC5uZXh0Lng/cDpwLm5leHQ7fX1wPXAubmV4dDt9d2hpbGUocCE9PW91dGVyTm9kZSk7aWYoIW0pcmV0dXJuIG51bGw7aWYoaHg9PT1xeClyZXR1cm4gbS5wcmV2Oy8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxvd2VyIGVuZHBvaW50XG4vLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4vLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbi8vIG90aGVyd2lzZSBjaG9vc2UgdGhlIHBvaW50IG9mIHRoZSBtaW5pbXVtIGFuZ2xlIHdpdGggdGhlIHJheSBhcyBjb25uZWN0aW9uIHBvaW50XG52YXIgc3RvcD1tLG14PW0ueCxteT1tLnksdGFuTWluPUluZmluaXR5LHRhbjtwPW0ubmV4dDt3aGlsZShwIT09c3RvcCl7aWYoaHg+PXAueCYmcC54Pj1teCYmaHghPT1wLngmJnBvaW50SW5UcmlhbmdsZShoeTxteT9oeDpxeCxoeSxteCxteSxoeTxteT9xeDpoeCxoeSxwLngscC55KSl7dGFuPU1hdGguYWJzKGh5LXAueSkvKGh4LXAueCk7Ly8gdGFuZ2VudGlhbFxuaWYoKHRhbjx0YW5NaW58fHRhbj09PXRhbk1pbiYmcC54Pm0ueCkmJmxvY2FsbHlJbnNpZGUocCxob2xlKSl7bT1wO3Rhbk1pbj10YW47fX1wPXAubmV4dDt9cmV0dXJuIG07fS8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsbWluWCxtaW5ZLHNpemUpe3ZhciBwPXN0YXJ0O2Rve2lmKHAuej09PW51bGwpcC56PXpPcmRlcihwLngscC55LG1pblgsbWluWSxzaXplKTtwLnByZXZaPXAucHJldjtwLm5leHRaPXAubmV4dDtwPXAubmV4dDt9d2hpbGUocCE9PXN0YXJ0KTtwLnByZXZaLm5leHRaPW51bGw7cC5wcmV2Wj1udWxsO3NvcnRMaW5rZWQocCk7fS8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KXt2YXIgaSxwLHEsZSx0YWlsLG51bU1lcmdlcyxwU2l6ZSxxU2l6ZSxpblNpemU9MTtkb3twPWxpc3Q7bGlzdD1udWxsO3RhaWw9bnVsbDtudW1NZXJnZXM9MDt3aGlsZShwKXtudW1NZXJnZXMrKztxPXA7cFNpemU9MDtmb3IoaT0wO2k8aW5TaXplO2krKyl7cFNpemUrKztxPXEubmV4dFo7aWYoIXEpYnJlYWs7fXFTaXplPWluU2l6ZTt3aGlsZShwU2l6ZT4wfHxxU2l6ZT4wJiZxKXtpZihwU2l6ZSE9PTAmJihxU2l6ZT09PTB8fCFxfHxwLno8PXEueikpe2U9cDtwPXAubmV4dFo7cFNpemUtLTt9ZWxzZXtlPXE7cT1xLm5leHRaO3FTaXplLS07fWlmKHRhaWwpdGFpbC5uZXh0Wj1lO2Vsc2UgbGlzdD1lO2UucHJldlo9dGFpbDt0YWlsPWU7fXA9cTt9dGFpbC5uZXh0Wj1udWxsO2luU2l6ZSo9Mjt9d2hpbGUobnVtTWVyZ2VzPjEpO3JldHVybiBsaXN0O30vLyB6LW9yZGVyIG9mIGEgcG9pbnQgZ2l2ZW4gY29vcmRzIGFuZCBzaXplIG9mIHRoZSBkYXRhIGJvdW5kaW5nIGJveFxuZnVuY3Rpb24gek9yZGVyKHgseSxtaW5YLG1pblksc2l6ZSl7Ly8gY29vcmRzIGFyZSB0cmFuc2Zvcm1lZCBpbnRvIG5vbi1uZWdhdGl2ZSAxNS1iaXQgaW50ZWdlciByYW5nZVxueD0zMjc2NyooeC1taW5YKS9zaXplO3k9MzI3NjcqKHktbWluWSkvc2l6ZTt4PSh4fHg8PDgpJjB4MDBGRjAwRkY7eD0oeHx4PDw0KSYweDBGMEYwRjBGO3g9KHh8eDw8MikmMHgzMzMzMzMzMzt4PSh4fHg8PDEpJjB4NTU1NTU1NTU7eT0oeXx5PDw4KSYweDAwRkYwMEZGO3k9KHl8eTw8NCkmMHgwRjBGMEYwRjt5PSh5fHk8PDIpJjB4MzMzMzMzMzM7eT0oeXx5PDwxKSYweDU1NTU1NTU1O3JldHVybiB4fHk8PDE7fS8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KXt2YXIgcD1zdGFydCxsZWZ0bW9zdD1zdGFydDtkb3tpZihwLng8bGVmdG1vc3QueClsZWZ0bW9zdD1wO3A9cC5uZXh0O313aGlsZShwIT09c3RhcnQpO3JldHVybiBsZWZ0bW9zdDt9Ly8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LGF5LGJ4LGJ5LGN4LGN5LHB4LHB5KXtyZXR1cm4oY3gtcHgpKihheS1weSktKGF4LXB4KSooY3ktcHkpPj0wJiYoYXgtcHgpKihieS1weSktKGJ4LXB4KSooYXktcHkpPj0wJiYoYngtcHgpKihjeS1weSktKGN4LXB4KSooYnktcHkpPj0wO30vLyBjaGVjayBpZiBhIGRpYWdvbmFsIGJldHdlZW4gdHdvIHBvbHlnb24gbm9kZXMgaXMgdmFsaWQgKGxpZXMgaW4gcG9seWdvbiBpbnRlcmlvcilcbmZ1bmN0aW9uIGlzVmFsaWREaWFnb25hbChhLGIpe3JldHVybiBhLm5leHQuaSE9PWIuaSYmYS5wcmV2LmkhPT1iLmkmJiFpbnRlcnNlY3RzUG9seWdvbihhLGIpJiZsb2NhbGx5SW5zaWRlKGEsYikmJmxvY2FsbHlJbnNpZGUoYixhKSYmbWlkZGxlSW5zaWRlKGEsYik7fS8vIHNpZ25lZCBhcmVhIG9mIGEgdHJpYW5nbGVcbmZ1bmN0aW9uIGFyZWEocCxxLHIpe3JldHVybihxLnktcC55KSooci54LXEueCktKHEueC1wLngpKihyLnktcS55KTt9Ly8gY2hlY2sgaWYgdHdvIHBvaW50cyBhcmUgZXF1YWxcbmZ1bmN0aW9uIGVxdWFscyhwMSxwMil7cmV0dXJuIHAxLng9PT1wMi54JiZwMS55PT09cDIueTt9Ly8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSxxMSxwMixxMil7aWYoZXF1YWxzKHAxLHExKSYmZXF1YWxzKHAyLHEyKXx8ZXF1YWxzKHAxLHEyKSYmZXF1YWxzKHAyLHExKSlyZXR1cm4gdHJ1ZTtyZXR1cm4gYXJlYShwMSxxMSxwMik+MCE9PWFyZWEocDEscTEscTIpPjAmJmFyZWEocDIscTIscDEpPjAhPT1hcmVhKHAyLHEyLHExKT4wO30vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSxiKXt2YXIgcD1hO2Rve2lmKHAuaSE9PWEuaSYmcC5uZXh0LmkhPT1hLmkmJnAuaSE9PWIuaSYmcC5uZXh0LmkhPT1iLmkmJmludGVyc2VjdHMocCxwLm5leHQsYSxiKSlyZXR1cm4gdHJ1ZTtwPXAubmV4dDt9d2hpbGUocCE9PWEpO3JldHVybiBmYWxzZTt9Ly8gY2hlY2sgaWYgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGxvY2FsbHkgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBsb2NhbGx5SW5zaWRlKGEsYil7cmV0dXJuIGFyZWEoYS5wcmV2LGEsYS5uZXh0KTwwP2FyZWEoYSxiLGEubmV4dCk+PTAmJmFyZWEoYSxhLnByZXYsYik+PTA6YXJlYShhLGIsYS5wcmV2KTwwfHxhcmVhKGEsYS5uZXh0LGIpPDA7fS8vIGNoZWNrIGlmIHRoZSBtaWRkbGUgcG9pbnQgb2YgYSBwb2x5Z29uIGRpYWdvbmFsIGlzIGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbWlkZGxlSW5zaWRlKGEsYil7dmFyIHA9YSxpbnNpZGU9ZmFsc2UscHg9KGEueCtiLngpLzIscHk9KGEueStiLnkpLzI7ZG97aWYocC55PnB5IT09cC5uZXh0Lnk+cHkmJnAubmV4dC55IT09cC55JiZweDwocC5uZXh0LngtcC54KSoocHktcC55KS8ocC5uZXh0LnktcC55KStwLngpaW5zaWRlPSFpbnNpZGU7cD1wLm5leHQ7fXdoaWxlKHAhPT1hKTtyZXR1cm4gaW5zaWRlO30vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLGIpe3ZhciBhMj1uZXcgTm9kZShhLmksYS54LGEueSksYjI9bmV3IE5vZGUoYi5pLGIueCxiLnkpLGFuPWEubmV4dCxicD1iLnByZXY7YS5uZXh0PWI7Yi5wcmV2PWE7YTIubmV4dD1hbjthbi5wcmV2PWEyO2IyLm5leHQ9YTI7YTIucHJldj1iMjticC5uZXh0PWIyO2IyLnByZXY9YnA7cmV0dXJuIGIyO30vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLHgseSxsYXN0KXt2YXIgcD1uZXcgTm9kZShpLHgseSk7aWYoIWxhc3Qpe3AucHJldj1wO3AubmV4dD1wO31lbHNle3AubmV4dD1sYXN0Lm5leHQ7cC5wcmV2PWxhc3Q7bGFzdC5uZXh0LnByZXY9cDtsYXN0Lm5leHQ9cDt9cmV0dXJuIHA7fWZ1bmN0aW9uIHJlbW92ZU5vZGUocCl7cC5uZXh0LnByZXY9cC5wcmV2O3AucHJldi5uZXh0PXAubmV4dDtpZihwLnByZXZaKXAucHJldloubmV4dFo9cC5uZXh0WjtpZihwLm5leHRaKXAubmV4dFoucHJldlo9cC5wcmV2Wjt9ZnVuY3Rpb24gTm9kZShpLHgseSl7Ly8gdmVydGljZSBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxudGhpcy5pPWk7Ly8gdmVydGV4IGNvb3JkaW5hdGVzXG50aGlzLng9eDt0aGlzLnk9eTsvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0aWNlIG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG50aGlzLnByZXY9bnVsbDt0aGlzLm5leHQ9bnVsbDsvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG50aGlzLno9bnVsbDsvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG50aGlzLnByZXZaPW51bGw7dGhpcy5uZXh0Wj1udWxsOy8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG50aGlzLnN0ZWluZXI9ZmFsc2U7fS8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uPWZ1bmN0aW9uKGRhdGEsaG9sZUluZGljZXMsZGltLHRyaWFuZ2xlcyl7dmFyIGhhc0hvbGVzPWhvbGVJbmRpY2VzJiZob2xlSW5kaWNlcy5sZW5ndGg7dmFyIG91dGVyTGVuPWhhc0hvbGVzP2hvbGVJbmRpY2VzWzBdKmRpbTpkYXRhLmxlbmd0aDt2YXIgcG9seWdvbkFyZWE9TWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLDAsb3V0ZXJMZW4sZGltKSk7aWYoaGFzSG9sZXMpe2Zvcih2YXIgaT0wLGxlbj1ob2xlSW5kaWNlcy5sZW5ndGg7aTxsZW47aSsrKXt2YXIgc3RhcnQ9aG9sZUluZGljZXNbaV0qZGltO3ZhciBlbmQ9aTxsZW4tMT9ob2xlSW5kaWNlc1tpKzFdKmRpbTpkYXRhLmxlbmd0aDtwb2x5Z29uQXJlYS09TWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLHN0YXJ0LGVuZCxkaW0pKTt9fXZhciB0cmlhbmdsZXNBcmVhPTA7Zm9yKGk9MDtpPHRyaWFuZ2xlcy5sZW5ndGg7aSs9Myl7dmFyIGE9dHJpYW5nbGVzW2ldKmRpbTt2YXIgYj10cmlhbmdsZXNbaSsxXSpkaW07dmFyIGM9dHJpYW5nbGVzW2krMl0qZGltO3RyaWFuZ2xlc0FyZWErPU1hdGguYWJzKChkYXRhW2FdLWRhdGFbY10pKihkYXRhW2IrMV0tZGF0YVthKzFdKS0oZGF0YVthXS1kYXRhW2JdKSooZGF0YVtjKzFdLWRhdGFbYSsxXSkpO31yZXR1cm4gcG9seWdvbkFyZWE9PT0wJiZ0cmlhbmdsZXNBcmVhPT09MD8wOk1hdGguYWJzKCh0cmlhbmdsZXNBcmVhLXBvbHlnb25BcmVhKS9wb2x5Z29uQXJlYSk7fTtmdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsc3RhcnQsZW5kLGRpbSl7dmFyIHN1bT0wO2Zvcih2YXIgaT1zdGFydCxqPWVuZC1kaW07aTxlbmQ7aSs9ZGltKXtzdW0rPShkYXRhW2pdLWRhdGFbaV0pKihkYXRhW2krMV0rZGF0YVtqKzFdKTtqPWk7fXJldHVybiBzdW07fS8vIHR1cm4gYSBwb2x5Z29uIGluIGEgbXVsdGktZGltZW5zaW9uYWwgYXJyYXkgZm9ybSAoZS5nLiBhcyBpbiBHZW9KU09OKSBpbnRvIGEgZm9ybSBFYXJjdXQgYWNjZXB0c1xuZWFyY3V0LmZsYXR0ZW49ZnVuY3Rpb24oZGF0YSl7dmFyIGRpbT1kYXRhWzBdWzBdLmxlbmd0aCxyZXN1bHQ9e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6ZGltfSxob2xlSW5kZXg9MDtmb3IodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7Zm9yKHZhciBqPTA7ajxkYXRhW2ldLmxlbmd0aDtqKyspe2Zvcih2YXIgZD0wO2Q8ZGltO2QrKyl7cmVzdWx0LnZlcnRpY2VzLnB1c2goZGF0YVtpXVtqXVtkXSk7fX1pZihpPjApe2hvbGVJbmRleCs9ZGF0YVtpLTFdLmxlbmd0aDtyZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO319cmV0dXJuIHJlc3VsdDt9Oy8qKiovfSwvKiAxNjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ09OU1Q9ey8vIFZFUlRFWF9TSVpFID0gc2l6ZW9mKHZlYzIpICsgc2l6ZW9mKHZlYzIpXG5WRVJURVhfU0laRToxNixJTkRFWF9TSVpFOjIsVElMRU1BUF9WRVJURVhfQ09VTlQ6NCxUSUxFTUFQX0lOREVYX0NPVU5UOjYsLy8gSG93IG1hbnkgMzItYml0IGNvbXBvbmVudHMgZG9lcyB0aGUgdmVydGV4IGhhdmUuXG5USUxFTUFQX1ZFUlRFWF9DT01QT05FTlRfQ09VTlQ6NCxNQVhfVElMRU1BUDoyMDAwfTttb2R1bGUuZXhwb3J0cz1DT05TVDsvKioqL30sLyogMTYzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgRXZlbnREaXNwYXRjaGVyPV9fd2VicGFja19yZXF1aXJlX18oMjUpOy8qKlxuKiBUaGUgRGF0YSBDb21wb25lbnQgZmVhdHVyZXMgYSBtZWFucyB0byBzdG9yZSBwaWVjZXMgb2YgZGF0YSBzcGVjaWZpYyB0byBhIEdhbWUgT2JqZWN0LFxuKiBzZWFyY2ggaXQsIHF1ZXJ5IGl0LCBhbmQgcmV0cmlldmUgaXQuXG4qL3ZhciBEYXRhPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBEYXRhKHBhcmVudCl7dGhpcy5wYXJlbnQ9cGFyZW50O3RoaXMuZXZlbnRzPW5ldyBFdmVudERpc3BhdGNoZXIoKTt0aGlzLmxpc3Q9e307dGhpcy5fYmVmb3JlQ2FsbGJhY2tzPXt9O3RoaXMuX2FmdGVyQ2FsbGJhY2tzPXt9O3RoaXMuX2Zyb3plbj1mYWxzZTt9LC8vICBSZXRyaWV2ZXMgdGhlIHZhbHVlIGZvciB0aGUgZ2l2ZW4ga2V5LCBvciB1bmRlZmluZWQgaWYgaXQgZG9lc24ndCBleGlzdC5cbmdldDpmdW5jdGlvbiBnZXQoa2V5KXtyZXR1cm4gdGhpcy5saXN0W2tleV07fSxnZXRBbGw6ZnVuY3Rpb24gZ2V0QWxsKCl7dmFyIHJlc3VsdHM9e307Zm9yKHZhciBrZXkgaW4gdGhpcy5saXN0KXtyZXN1bHRzW2tleV09dGhpcy5saXN0W2tleV07fXJldHVybiByZXN1bHRzO30scXVlcnk6ZnVuY3Rpb24gcXVlcnkoc2VhcmNoKXt2YXIgcmVzdWx0cz17fTtmb3IodmFyIGtleSBpbiB0aGlzLmxpc3Qpe2lmKGtleS5tYXRjaChzZWFyY2gpKXtyZXN1bHRzW2tleV09dGhpcy5saXN0W2tleV07fX1yZXR1cm4gcmVzdWx0czt9LHNldDpmdW5jdGlvbiBzZXQoa2V5LGRhdGEpe2lmKHRoaXMuX2Zyb3plbil7cmV0dXJuIHRoaXM7fXZhciBsaXN0ZW5lcjt2YXIgcmVzdWx0Oy8vICBJZiB0aGVyZSBpcyBhICdiZWZvcmUnIGNhbGxiYWNrLCB0aGVuIGNoZWNrIGl0IGZvciBhIHJlc3VsdFxuLy8gIFRoaXMgbWVhbnMgYSBwcm9wZXJ0eSBjYW4gb25seSBldmVyIGhhdmUgMSBjYWxsYmFjaywgd2hpY2ggaXNuJ3QgcmlnaHQgLSB3ZSBtYXkgbmVlZCBtb3JlXG4vLyAgRGlzcGF0Y2ggZXZlbnQgaW5zdGVhZD9cbmlmKHRoaXMuX2JlZm9yZUNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtsaXN0ZW5lcj10aGlzLl9iZWZvcmVDYWxsYmFja3Nba2V5XTtyZXN1bHQ9bGlzdGVuZXIuY2FsbGJhY2suY2FsbChsaXN0ZW5lci5zY29wZSx0aGlzLnBhcmVudCxrZXksZGF0YSk7aWYocmVzdWx0IT09dW5kZWZpbmVkKXtkYXRhPXJlc3VsdDt9fS8vIHRoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBFdmVudC5MT0FERVJfU1RBUlRfRVZFTlQodGhpcykpO1xudGhpcy5saXN0W2tleV09ZGF0YTsvLyAgSWYgdGhlcmUgaXMgYSAnYWZ0ZXInIGNhbGxiYWNrLCB0aGVuIGNoZWNrIGl0IGZvciBhIHJlc3VsdFxuaWYodGhpcy5fYWZ0ZXJDYWxsYmFja3MuaGFzT3duUHJvcGVydHkoa2V5KSl7bGlzdGVuZXI9dGhpcy5fYWZ0ZXJDYWxsYmFja3Nba2V5XTtyZXN1bHQ9bGlzdGVuZXIuY2FsbGJhY2suY2FsbChsaXN0ZW5lci5zY29wZSx0aGlzLnBhcmVudCxrZXksZGF0YSk7aWYocmVzdWx0IT09dW5kZWZpbmVkKXt0aGlzLmxpc3Rba2V5XT1yZXN1bHQ7fX1yZXR1cm4gdGhpczt9LGJlZm9yZTpmdW5jdGlvbiBiZWZvcmUoa2V5LGNhbGxiYWNrLHNjb3BlKXtpZihjYWxsYmFjaz09PXVuZGVmaW5lZCl7Ly8gIFJlbW92ZSBlbnRyeVxuZGVsZXRlIHRoaXMuX2JlZm9yZUNhbGxiYWNrc1trZXldO31lbHNle3RoaXMuX2JlZm9yZUNhbGxiYWNrc1trZXldPXtjYWxsYmFjazpjYWxsYmFjayxzY29wZTpzY29wZX07fX0sYWZ0ZXI6ZnVuY3Rpb24gYWZ0ZXIoa2V5LGNhbGxiYWNrLHNjb3BlKXtpZihjYWxsYmFjaz09PXVuZGVmaW5lZCl7Ly8gIFJlbW92ZSBlbnRyeVxuZGVsZXRlIHRoaXMuX2FmdGVyQ2FsbGJhY2tzW2tleV07fWVsc2V7dGhpcy5fYWZ0ZXJDYWxsYmFja3Nba2V5XT17Y2FsbGJhY2s6Y2FsbGJhY2ssc2NvcGU6c2NvcGV9O319LC8qKlxuICAgICogUGFzc2VzIGFsbCBkYXRhIGVudHJpZXMgdG8gdGhlIGdpdmVuIGNhbGxiYWNrLiBTdG9yZXMgdGhlIHJlc3VsdCBvZiB0aGUgY2FsbGJhY2suXG4gICAgKlxuICAgICogQG1ldGhvZCBlYWNoXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0byBjYWxsLlxuICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZV0gLSBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGNhbGxiYWNrLlxuICAgICogQHBhcmFtIHsuLi4qfSBbYXJndW1lbnRzXSAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLCBhZnRlciB0aGUgZ2FtZSBvYmplY3QsIGtleSwgYW5kIGRhdGEuXG4gICAgKi9lYWNoOmZ1bmN0aW9uIGVhY2goY2FsbGJhY2ssc2NvcGUpe3ZhciBhcmdzPVt0aGlzLnBhcmVudCxudWxsLHVuZGVmaW5lZF07Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7YXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7fWZvcih2YXIga2V5IGluIHRoaXMubGlzdCl7YXJnc1sxXT1rZXk7YXJnc1syXT10aGlzLmxpc3Rba2V5XTtjYWxsYmFjay5hcHBseShzY29wZSxhcmdzKTt9fSxtZXJnZTpmdW5jdGlvbiBtZXJnZShkYXRhLG92ZXJ3cml0ZSl7aWYob3ZlcndyaXRlPT09dW5kZWZpbmVkKXtvdmVyd3JpdGU9dHJ1ZTt9Ly8gIE1lcmdlIGRhdGEgZnJvbSBhbm90aGVyIGNvbXBvbmVudCBpbnRvIHRoaXMgb25lXG5mb3IodmFyIGtleSBpbiBkYXRhKXtpZihvdmVyd3JpdGV8fCFvdmVyd3JpdGUmJiF0aGlzLmhhcyhrZXkpKXt0aGlzLmxpc3Rba2V5XT1kYXRhO319fSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKGtleSl7aWYoIXRoaXMuX2Zyb3plbiYmdGhpcy5oYXMoa2V5KSl7ZGVsZXRlIHRoaXMubGlzdFtrZXldO3RoaXMucmVtb3ZlTGlzdGVuZXJzKGtleSk7fX0scmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycyhrZXkpe2lmKHRoaXMuX2JlZm9yZUNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtkZWxldGUgdGhpcy5fYmVmb3JlQ2FsbGJhY2tzW2tleV07fWlmKHRoaXMuX2FmdGVyQ2FsbGJhY2tzLmhhc093blByb3BlcnR5KGtleSkpe2RlbGV0ZSB0aGlzLl9hZnRlckNhbGxiYWNrc1trZXldO319LC8vICBHZXRzIHRoZSBkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gJ2tleScsIGRlbGV0ZXMgaXQgZnJvbSB0aGlzIERhdGEgc3RvcmUsIHRoZW4gcmV0dXJucyBpdC5cbnBvcDpmdW5jdGlvbiBwb3Aoa2V5KXt2YXIgZGF0YT11bmRlZmluZWQ7aWYoIXRoaXMuX2Zyb3plbiYmdGhpcy5oYXMoa2V5KSl7ZGF0YT10aGlzLmxpc3Rba2V5XTtkZWxldGUgdGhpcy5saXN0W2tleV07dGhpcy5yZW1vdmVMaXN0ZW5lcnMoa2V5KTt9cmV0dXJuIGRhdGE7fSxoYXM6ZnVuY3Rpb24gaGFzKGtleSl7cmV0dXJuIHRoaXMubGlzdC5oYXNPd25Qcm9wZXJ0eShrZXkpO30scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXtmb3IodmFyIGtleSBpbiB0aGlzLmxpc3Qpe2RlbGV0ZSB0aGlzLmxpc3Rba2V5XTt9Zm9yKGtleSBpbiB0aGlzLl9iZWZvcmVDYWxsYmFja3Mpe2RlbGV0ZSB0aGlzLl9iZWZvcmVDYWxsYmFja3Nba2V5XTt9Zm9yKGtleSBpbiB0aGlzLl9hZnRlckNhbGxiYWNrcyl7ZGVsZXRlIHRoaXMuX2FmdGVyQ2FsbGJhY2tzW2tleV07fXRoaXMuX2Zyb3plbj1mYWxzZTt9LC8qKlxuICAgICogRnJlZXplIHRoaXMgRGF0YSBjb21wb25lbnQsIHNvIG5vIGNoYW5nZXMgY2FuIGJlIHdyaXR0ZW4gdG8gaXQuXG4gICAgKlxuICAgICogQG5hbWUgZnJlZXplXG4gICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZyZWV6ZVxuICAgICovZnJlZXplOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX2Zyb3plbjt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX2Zyb3plbj12YWx1ZT90cnVlOmZhbHNlO319LGNvdW50OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7dmFyIGk9MDtmb3IodmFyIGtleSBpbiB0aGlzLmxpc3Qpe2lmKHRoaXMubGlzdFtrZXldIT09dW5kZWZpbmVkKXtpKys7fX1yZXR1cm4gaTt9fX0pO21vZHVsZS5leHBvcnRzPURhdGE7LyoqKi99LC8qIDE2NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oNDU1KTt2YXIgS2V5PV9fd2VicGFja19yZXF1aXJlX18oMTY1KTt2YXIgS2V5Q29kZXM9X193ZWJwYWNrX3JlcXVpcmVfXyg3MSk7dmFyIEtleUNvbWJvPV9fd2VicGFja19yZXF1aXJlX18oMTY2KTt2YXIgUHJvY2Vzc0tleUNvbWJvPV9fd2VicGFja19yZXF1aXJlX18oMTY3KTt2YXIgUHJvY2Vzc0tleURvd249X193ZWJwYWNrX3JlcXVpcmVfXyg0NjEpO3ZhciBQcm9jZXNzS2V5VXA9X193ZWJwYWNrX3JlcXVpcmVfXyg0NjIpOy8qKlxuKiBUaGUgS2V5Ym9hcmQgY2xhc3MgbW9uaXRvcnMga2V5Ym9hcmQgaW5wdXQgYW5kIGRpc3BhdGNoZXMga2V5Ym9hcmQgZXZlbnRzLlxuKlxuKiBfTm90ZV86IG1hbnkga2V5Ym9hcmRzIGFyZSB1bmFibGUgdG8gcHJvY2VzcyBjZXJ0YWluIGNvbWJpbmF0aW9ucyBvZiBrZXlzIGR1ZSB0byBoYXJkd2FyZSBsaW1pdGF0aW9ucyBrbm93biBhcyBnaG9zdGluZy5cbiogU2VlIGh0dHA6Ly93d3cuaHRtbDVnYW1lZGV2cy5jb20vdG9waWMvNDg3Ni1pbXBvc3NpYmxlLXRvLXVzZS1tb3JlLXRoYW4tMi1rZXlib2FyZC1pbnB1dC1idXR0b25zLWF0LXRoZS1zYW1lLXRpbWUvIGZvciBtb3JlIGRldGFpbHMuXG4qXG4qIEFsc28gcGxlYXNlIGJlIGF3YXJlIHRoYXQgY2VydGFpbiBicm93c2VyIGV4dGVuc2lvbnMgY2FuIGRpc2FibGUgb3Igb3ZlcnJpZGUgUGhhc2VyIGtleWJvYXJkIGhhbmRsaW5nLlxuKiBGb3IgZXhhbXBsZSB0aGUgQ2hyb21lIGV4dGVuc2lvbiB2aW1pdW0gaXMga25vd24gdG8gZGlzYWJsZSBQaGFzZXIgZnJvbSB1c2luZyB0aGUgRCBrZXkuIEFuZCB0aGVyZSBhcmUgb3RoZXJzLlxuKiBTbyBwbGVhc2UgY2hlY2sgeW91ciBleHRlbnNpb25zIGJlZm9yZSBvcGVuaW5nIFBoYXNlciBpc3N1ZXMuXG4qL3ZhciBLZXlib2FyZE1hbmFnZXI9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEtleWJvYXJkTWFuYWdlcihpbnB1dE1hbmFnZXIpe3RoaXMubWFuYWdlcj1pbnB1dE1hbmFnZXI7dGhpcy5lbmFibGVkPWZhbHNlO3RoaXMudGFyZ2V0O3RoaXMua2V5cz1bXTt0aGlzLmNvbWJvcz1bXTt0aGlzLmNhcHR1cmVzPVtdOy8vICAgU3RhbmRhcmQgRklGTyBxdWV1ZVxudGhpcy5xdWV1ZT1bXTt0aGlzLmhhbmRsZXI7fSwvKipcbiAgICAqIFRoZSBCb290IGhhbmRsZXIgaXMgY2FsbGVkIGJ5IFBoYXNlci5HYW1lIHdoZW4gaXQgZmlyc3Qgc3RhcnRzIHVwLlxuICAgICogVGhlIHJlbmRlcmVyIGlzIGF2YWlsYWJsZSBieSBub3cuXG4gICAgKi9ib290OmZ1bmN0aW9uIGJvb3QoKXt2YXIgY29uZmlnPXRoaXMubWFuYWdlci5jb25maWc7dGhpcy5lbmFibGVkPWNvbmZpZy5pbnB1dEtleWJvYXJkO3RoaXMudGFyZ2V0PWNvbmZpZy5pbnB1dEtleWJvYXJkRXZlbnRUYXJnZXQ7aWYodGhpcy5lbmFibGVkKXt0aGlzLnN0YXJ0TGlzdGVuZXJzKCk7fX0sc3RhcnRMaXN0ZW5lcnM6ZnVuY3Rpb24gc3RhcnRMaXN0ZW5lcnMoKXt2YXIgcXVldWU9dGhpcy5xdWV1ZTt2YXIgY2FwdHVyZXM9dGhpcy5jYXB0dXJlczt2YXIgaGFuZGxlcj1mdW5jdGlvbiBoYW5kbGVyKGV2ZW50KXtpZihldmVudC5wcmV2ZW50RGVmYXVsdGVkKXsvLyBEbyBub3RoaW5nIGlmIGV2ZW50IGFscmVhZHkgaGFuZGxlZFxucmV0dXJuO31xdWV1ZS5wdXNoKGV2ZW50KTtpZihjYXB0dXJlc1tldmVudC5rZXlDb2RlXSl7ZXZlbnQucHJldmVudERlZmF1bHQoKTt9fTt0aGlzLmhhbmRsZXI9aGFuZGxlcjt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyxoYW5kbGVyLGZhbHNlKTt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsaGFuZGxlcixmYWxzZSk7fSxzdG9wTGlzdGVuZXJzOmZ1bmN0aW9uIHN0b3BMaXN0ZW5lcnMoKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJyx0aGlzLmhhbmRsZXIpO3RoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJyx0aGlzLmhhbmRsZXIpO30sLyoqXG4gICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIDQgaG90a2V5cyBmb3IgVXAsIERvd24sIExlZnQgYW5kIFJpZ2h0LlxuICAgICovY3JlYXRlQ3Vyc29yS2V5czpmdW5jdGlvbiBjcmVhdGVDdXJzb3JLZXlzKCl7cmV0dXJuIHRoaXMuYWRkS2V5cyh7dXA6S2V5Q29kZXMuVVAsZG93bjpLZXlDb2Rlcy5ET1dOLGxlZnQ6S2V5Q29kZXMuTEVGVCxyaWdodDpLZXlDb2Rlcy5SSUdIVH0pO30sLyoqXG4gICAgKiBBIHByYWN0aWNhbCB3YXkgdG8gY3JlYXRlIGFuIG9iamVjdCBjb250YWluaW5nIHVzZXIgc2VsZWN0ZWQgaG90a2V5cy5cbiAgICAqXG4gICAgKiBGb3IgZXhhbXBsZSxcbiAgICAqXG4gICAgKiAgICAgYWRkS2V5cyggeyAndXAnOiBQaGFzZXIuS2V5Q29kZS5XLCAnZG93bic6IFBoYXNlci5LZXlDb2RlLlMsICdsZWZ0JzogUGhhc2VyLktleUNvZGUuQSwgJ3JpZ2h0JzogUGhhc2VyLktleUNvZGUuRCB9ICk7XG4gICAgKlxuICAgICogd291bGQgcmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgKGB1cGAsIGBkb3duYCwgYGxlZnRgIGFuZCBgcmlnaHRgKSByZWZlcnJpbmcgdG8ge0BsaW5rIFBoYXNlci5LZXl9IG9iamVjdC5cbiAgICAqL2FkZEtleXM6ZnVuY3Rpb24gYWRkS2V5cyhrZXlzKXt2YXIgb3V0cHV0PXt9O2Zvcih2YXIga2V5IGluIGtleXMpe291dHB1dFtrZXldPXRoaXMuYWRkS2V5KGtleXNba2V5XSk7fXJldHVybiBvdXRwdXQ7fSwvKipcbiAgICAqIElmIHlvdSBuZWVkIG1vcmUgZmluZS1ncmFpbmVkIGNvbnRyb2wgb3ZlciBhIEtleSB5b3UgY2FuIGNyZWF0ZSBhIG5ldyBQaGFzZXIuS2V5IG9iamVjdCB2aWEgdGhpcyBtZXRob2QuXG4gICAgKiBUaGUgS2V5IG9iamVjdCBjYW4gdGhlbiBiZSBwb2xsZWQsIGhhdmUgZXZlbnRzIGF0dGFjaGVkIHRvIGl0LCBldGMuXG4gICAgKi9hZGRLZXk6ZnVuY3Rpb24gYWRkS2V5KGtleUNvZGUpe3ZhciBrZXlzPXRoaXMua2V5cztpZigha2V5c1trZXlDb2RlXSl7a2V5c1trZXlDb2RlXT1uZXcgS2V5KGtleUNvZGUpO3RoaXMuY2FwdHVyZXNba2V5Q29kZV09dHJ1ZTt9cmV0dXJuIGtleXNba2V5Q29kZV07fSwvKipcbiAgICAqIFJlbW92ZXMgYSBLZXkgb2JqZWN0IGZyb20gdGhlIEtleWJvYXJkIG1hbmFnZXIuXG4gICAgKi9yZW1vdmVLZXk6ZnVuY3Rpb24gcmVtb3ZlS2V5KGtleUNvZGUpe2lmKHRoaXMua2V5c1trZXlDb2RlXSl7dGhpcy5rZXlzW2tleUNvZGVdPXVuZGVmaW5lZDt0aGlzLmNhcHR1cmVzW2tleUNvZGVdPWZhbHNlO319LGFkZEtleUNhcHR1cmU6ZnVuY3Rpb24gYWRkS2V5Q2FwdHVyZShrZXlDb2Rlcyl7aWYoIUFycmF5LmlzQXJyYXkoa2V5Q29kZXMpKXtrZXlDb2Rlcz1ba2V5Q29kZXNdO31mb3IodmFyIGk9MDtpPGtleUNvZGVzLmxlbmd0aDtpKyspe3RoaXMuY2FwdHVyZXNba2V5Q29kZXNbaV1dPXRydWU7fX0scmVtb3ZlS2V5Q2FwdHVyZTpmdW5jdGlvbiByZW1vdmVLZXlDYXB0dXJlKGtleUNvZGVzKXtpZighQXJyYXkuaXNBcnJheShrZXlDb2Rlcykpe2tleUNvZGVzPVtrZXlDb2Rlc107fWZvcih2YXIgaT0wO2k8a2V5Q29kZXMubGVuZ3RoO2krKyl7dGhpcy5jYXB0dXJlc1trZXlDb2Rlc1tpXV09ZmFsc2U7fX0sY3JlYXRlQ29tYm86ZnVuY3Rpb24gY3JlYXRlQ29tYm8oa2V5cyxjb25maWcpe3JldHVybiBuZXcgS2V5Q29tYm8odGhpcyxrZXlzLGNvbmZpZyk7fSwvLyAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0tleWJvYXJkRXZlbnQvS2V5Ym9hcmRFdmVudFxuLy8gIHR5cGUgPSAna2V5ZG93bicsICdrZXl1cCdcbi8vICBrZXlDb2RlID0gaW50ZWdlclxudXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZSgpe3ZhciBsZW49dGhpcy5xdWV1ZS5sZW5ndGg7aWYoIXRoaXMuZW5hYmxlZHx8bGVuPT09MCl7cmV0dXJuO30vLyAgQ2xlYXJzIHRoZSBxdWV1ZSBhcnJheSwgYW5kIGFsc28gbWVhbnMgd2UgZG9uJ3Qgd29yayBvbiBhcnJheSBkYXRhIHRoYXQgY291bGQgcG90ZW50aWFsbHlcbi8vICBiZSBtb2RpZmllZCBkdXJpbmcgdGhlIHByb2Nlc3NpbmcgcGhhc2VcbnZhciBxdWV1ZT10aGlzLnF1ZXVlLnNwbGljZSgwLGxlbik7dmFyIGtleXM9dGhpcy5rZXlzO3ZhciBzaW5nbGVLZXk7Ly8gIFByb2Nlc3MgdGhlIGV2ZW50IHF1ZXVlLCBkaXNwYXRjaGluZyBhbGwgb2YgdGhlIGV2ZW50cyB0aGF0IGhhdmUgc3RvcmVkIHVwXG5mb3IodmFyIGk9MDtpPGxlbjtpKyspe3ZhciBldmVudD1xdWV1ZVtpXTtpZihldmVudC50eXBlPT09J2tleWRvd24nKXt0aGlzLm1hbmFnZXIuZXZlbnRzLmRpc3BhdGNoKG5ldyBFdmVudC5LRVlfRE9XTl9FVkVOVChldmVudCkpO3NpbmdsZUtleT1FdmVudC5fRE9XTltldmVudC5rZXlDb2RlXTtpZihzaW5nbGVLZXkpe3RoaXMubWFuYWdlci5ldmVudHMuZGlzcGF0Y2gobmV3IHNpbmdsZUtleShldmVudCkpO31pZihrZXlzW2V2ZW50LmtleUNvZGVdKXtQcm9jZXNzS2V5RG93bihrZXlzW2V2ZW50LmtleUNvZGVdLGV2ZW50KTt9fWVsc2V7dGhpcy5tYW5hZ2VyLmV2ZW50cy5kaXNwYXRjaChuZXcgRXZlbnQuS0VZX1VQX0VWRU5UKGV2ZW50KSk7c2luZ2xlS2V5PUV2ZW50Ll9VUFtldmVudC5rZXlDb2RlXTtpZihzaW5nbGVLZXkpe3RoaXMubWFuYWdlci5ldmVudHMuZGlzcGF0Y2gobmV3IHNpbmdsZUtleShldmVudCkpO31pZihrZXlzW2V2ZW50LmtleUNvZGVdKXtQcm9jZXNzS2V5VXAoa2V5c1tldmVudC5rZXlDb2RlXSxldmVudCk7fX19fX0pO21vZHVsZS5leHBvcnRzPUtleWJvYXJkTWFuYWdlcjsvKioqL30sLyogMTY1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTsvLyAgUGhhc2VyLklucHV0LktleWJvYXJkLktleVxuLy8gIEEgZ2VuZXJpYyBLZXkgb2JqZWN0IHdoaWNoIGNhbiBiZSBwYXNzZWQgdG8gdGhlIFByb2Nlc3MgZnVuY3Rpb25zIChhbmQgc28gb24pXG4vLyAga2V5Y29kZSBtdXN0IGJlIGFuIGludGVnZXJcbnZhciBLZXk9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEtleShrZXlDb2RlKXsvLyAgQHByb3BlcnR5IHtpbnRlZ2VyfSBrZXlDb2RlIC0gVGhlIGtleWNvZGUgb2YgdGhpcyBrZXkuXG50aGlzLmtleUNvZGU9a2V5Q29kZTsvLyAgQHByb3BlcnR5IHtLZXlib2FyZEV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbnRoaXMub3JpZ2luYWxFdmVudD11bmRlZmluZWQ7Ly8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJldmVudERlZmF1bHQgLSBTaG91bGQgdGhpcyBLZXkgcHJldmVudCBldmVudCBwcm9wYWdhdGlvbj9cbi8vICBAZGVmYXVsdFxudGhpcy5wcmV2ZW50RGVmYXVsdD10cnVlOy8vICBAcHJvcGVydHkge2Jvb2xlYW59IGVuYWJsZWQgLSBDYW4gdGhpcyBLZXkgYmUgcHJvY2Vzc2VkP1xuLy8gIEBkZWZhdWx0XG50aGlzLmVuYWJsZWQ9dHJ1ZTsvLyAgQHByb3BlcnR5IHtib29sZWFufSBpc0Rvd24gLSBUaGUgXCJkb3duXCIgc3RhdGUgb2YgdGhlIGtleS4gVGhpcyB3aWxsIHJlbWFpbiBgdHJ1ZWAgZm9yIGFzIGxvbmcgYXMgdGhlIGtleWJvYXJkIHRoaW5rcyB0aGlzIGtleSBpcyBoZWxkIGRvd24uXG4vLyAgQGRlZmF1bHRcbnRoaXMuaXNEb3duPWZhbHNlOy8vICBAcHJvcGVydHkge2Jvb2xlYW59IGlzVXAgLSBUaGUgXCJ1cFwiIHN0YXRlIG9mIHRoZSBrZXkuIFRoaXMgd2lsbCByZW1haW4gYHRydWVgIGZvciBhcyBsb25nIGFzIHRoZSBrZXlib2FyZCB0aGlua3MgdGhpcyBrZXkgaXMgdXAuXG4vLyAgQGRlZmF1bHRcbnRoaXMuaXNVcD10cnVlOy8vICBAcHJvcGVydHkge2Jvb2xlYW59IGFsdEtleSAtIFRoZSBkb3duIHN0YXRlIG9mIHRoZSBBTFQga2V5LCBpZiBwcmVzc2VkIGF0IHRoZSBzYW1lIHRpbWUgYXMgdGhpcyBrZXkuXG4vLyAgQGRlZmF1bHRcbnRoaXMuYWx0S2V5PWZhbHNlOy8vICBAcHJvcGVydHkge2Jvb2xlYW59IGN0cmxLZXkgLSBUaGUgZG93biBzdGF0ZSBvZiB0aGUgQ1RSTCBrZXksIGlmIHByZXNzZWQgYXQgdGhlIHNhbWUgdGltZSBhcyB0aGlzIGtleS5cbi8vICBAZGVmYXVsdFxudGhpcy5jdHJsS2V5PWZhbHNlOy8vICBAcHJvcGVydHkge2Jvb2xlYW59IHNoaWZ0S2V5IC0gVGhlIGRvd24gc3RhdGUgb2YgdGhlIFNISUZUIGtleSwgaWYgcHJlc3NlZCBhdCB0aGUgc2FtZSB0aW1lIGFzIHRoaXMga2V5LlxuLy8gIEBkZWZhdWx0XG50aGlzLnNoaWZ0S2V5PWZhbHNlOy8vICBAcHJvcGVydHkge2ludGVnZXJ9IGxvY2F0aW9uIC0gVGhlIGxvY2F0aW9uIG9mIHRoZSBtb2RpZmllciBrZXkuIDAgZm9yIHN0YW5kYXJkIChvciB1bmtub3duKSwgMSBmb3IgbGVmdCwgMiBmb3IgcmlnaHQsIDMgZm9yIG51bXBhZC5cbi8vICBAZGVmYXVsdFxudGhpcy5sb2NhdGlvbj0wOy8vICBAcHJvcGVydHkge251bWJlcn0gdGltZURvd24gLSBUaGUgdGltZXN0YW1wIHdoZW4gdGhlIGtleSB3YXMgbGFzdCBwcmVzc2VkIGRvd24uIFRoaXMgaXMgYmFzZWQgb24gR2FtZS50aW1lLm5vdy5cbnRoaXMudGltZURvd249MDsvLyAgSWYgdGhlIGtleSBpcyBkb3duIHRoaXMgdmFsdWUgaG9sZHMgdGhlIGR1cmF0aW9uIG9mIHRoYXQga2V5IHByZXNzIGFuZCBpcyBjb25zdGFudGx5IHVwZGF0ZWQuXG4vLyAgSWYgdGhlIGtleSBpcyB1cCBpdCBob2xkcyB0aGUgZHVyYXRpb24gb2YgdGhlIHByZXZpb3VzIGRvd24gc2Vzc2lvbi5cbi8vICBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb24gLSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGlzIGtleSBoYXMgYmVlbiBoZWxkIGRvd24gZm9yLlxuLy8gIEBkZWZhdWx0XG50aGlzLmR1cmF0aW9uPTA7Ly8gIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lVXAgLSBUaGUgdGltZXN0YW1wIHdoZW4gdGhlIGtleSB3YXMgbGFzdCByZWxlYXNlZC4gVGhpcyBpcyBiYXNlZCBvbiBHYW1lLnRpbWUubm93LlxuLy8gIEBkZWZhdWx0XG50aGlzLnRpbWVVcD0wOy8vICBAcHJvcGVydHkge251bWJlcn0gcmVwZWF0cyAtIElmIGEga2V5IGlzIGhlbGQgZG93biB0aGlzIGhvbGRzIGRvd24gdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IGhhcyAncmVwZWF0ZWQnLlxuLy8gIEBkZWZhdWx0XG50aGlzLnJlcGVhdHM9MDsvLyBAcHJvcGVydHkge2Jvb2xlYW59IF9qdXN0RG93biAtIFRydWUgaWYgdGhlIGtleSBoYXMganVzdCBiZWVuIHByZXNzZWQgKE5PVEU6IHJlcXVpcmVzIHRvIGJlIHJlc2V0LCBzZWUganVzdERvd24gZ2V0dGVyKVxuLy8gQHByaXZhdGVcbnRoaXMuX2p1c3REb3duPWZhbHNlOy8vIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gX2p1c3RVcCAtIFRydWUgaWYgdGhlIGtleSBoYXMganVzdCBiZWVuIHByZXNzZWQgKE5PVEU6IHJlcXVpcmVzIHRvIGJlIHJlc2V0LCBzZWUganVzdERvd24gZ2V0dGVyKVxuLy8gQHByaXZhdGVcbnRoaXMuX2p1c3RVcD1mYWxzZTt9fSk7bW9kdWxlLmV4cG9ydHM9S2V5Oy8qKiovfSwvKiAxNjYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHZXRGYXN0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTt2YXIgS2V5Q29tYm9NYXRjaEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oNDU4KTt2YXIgUHJvY2Vzc0tleUNvbWJvPV9fd2VicGFja19yZXF1aXJlX18oMTY3KTt2YXIgUmVzZXRLZXlDb21ibz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2MCk7Ly8gIEtleXMgY2FuIGJlIGVpdGhlcjpcbi8vXG4vLyAgQSBzdHJpbmcgKEFUQVJJKVxuLy8gIEFuIGFycmF5IG9mIGVpdGhlciBpbnRlZ2VycyAoa2V5IGNvZGVzKSBvciBzdHJpbmdzLCBvciBhIG1peHR1cmUgb2YgYm90aFxuLy8gIEFuIGFycmF5IG9mIG9iamVjdHMgKHN1Y2ggYXMgS2V5IG9iamVjdHMpIHdpdGggYSBwdWJsaWMgJ2tleUNvZGUnIHByb3BlcnR5XG52YXIgS2V5Q29tYm89bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEtleUNvbWJvKGtleWJvYXJkTWFuYWdlcixrZXlzLGNvbmZpZyl7aWYoY29uZmlnPT09dW5kZWZpbmVkKXtjb25maWc9e307fS8vICBDYW4ndCBoYXZlIGEgemVybyBvciBzaW5nbGUgbGVuZ3RoIGNvbWJvIChzdHJpbmcgb3IgYXJyYXkgYmFzZWQpXG5pZihrZXlzLmxlbmd0aDwyKXtyZXR1cm4gZmFsc2U7fXRoaXMubWFuYWdlcj1rZXlib2FyZE1hbmFnZXI7dGhpcy5lbmFibGVkPXRydWU7dGhpcy5rZXlDb2Rlcz1bXTsvLyAgaWYgJ2tleXMnIGlzIGEgc3RyaW5nIHdlIG5lZWQgdG8gZ2V0IHRoZSBrZXljb2RlIG9mIGVhY2ggY2hhcmFjdGVyIGluIGl0XG5mb3IodmFyIGk9MDtpPGtleXMubGVuZ3RoO2krKyl7dmFyIGNoYXI9a2V5c1tpXTtpZih0eXBlb2YgY2hhcj09PSdzdHJpbmcnKXt0aGlzLmtleUNvZGVzLnB1c2goY2hhci50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpO31lbHNlIGlmKHR5cGVvZiBjaGFyPT09J251bWJlcicpe3RoaXMua2V5Q29kZXMucHVzaChjaGFyKTt9ZWxzZSBpZihjaGFyLmhhc093blByb3BlcnR5KCdrZXlDb2RlJykpe3RoaXMua2V5Q29kZXMucHVzaChjaGFyLmtleUNvZGUpO319Ly8gIFRoZSBjdXJyZW50IGtleUNvZGUgdGhlIGNvbWJvIGlzIHdhaXRpbmcgZm9yXG50aGlzLmN1cnJlbnQ9dGhpcy5rZXlDb2Rlc1swXTsvLyAgVGhlIGN1cnJlbnQgaW5kZXggb2YgdGhlIGtleSBiZWluZyB3YWl0ZWQgZm9yIGluIHRoZSAna2V5cycgc3RyaW5nXG50aGlzLmluZGV4PTA7Ly8gIFRoZSBsZW5ndGggb2YgdGhpcyBjb21ibyAoaW4ga2V5Y29kZXMpXG50aGlzLnNpemU9dGhpcy5rZXlDb2Rlcy5sZW5ndGg7Ly8gIFRoZSB0aW1lIHRoZSBwcmV2aW91cyBrZXkgaW4gdGhlIGNvbWJvIHdhcyBtYXRjaGVkXG50aGlzLnRpbWVMYXN0TWF0Y2hlZD0wOy8vICBIYXMgdGhpcyBLZXkgQ29tYm8gYmVlbiBtYXRjaGVkIHlldD9cbnRoaXMubWF0Y2hlZD1mYWxzZTsvLyAgVGhlIHRpbWUgdGhlIGVudGlyZSBjb21ibyB3YXMgbWF0Y2hlZFxudGhpcy50aW1lTWF0Y2hlZD0wOy8vICBDdXN0b20gb3B0aW9ucyAuLi5cbi8vICBJZiB0aGV5IHByZXNzIHRoZSB3cm9uZyBrZXkgZG8gd2UgcmVzZXQgdGhlIGNvbWJvP1xudGhpcy5yZXNldE9uV3JvbmdLZXk9R2V0RmFzdFZhbHVlKGNvbmZpZywncmVzZXRPbldyb25nS2V5Jyx0cnVlKTsvLyAgVGhlIG1heCBkZWxheSBpbiBtcyBiZXR3ZWVuIGVhY2gga2V5IHByZXNzLiBBYm92ZSB0aGlzIHRoZSBjb21ibyBpcyByZXNldC4gMCBtZWFucyBkaXNhYmxlZC5cbnRoaXMubWF4S2V5RGVsYXk9R2V0RmFzdFZhbHVlKGNvbmZpZywnbWF4S2V5RGVsYXknLDApOy8vICBJZiBwcmV2aW91c2x5IG1hdGNoZWQgYW5kIHRoZXkgcHJlc3MgS2V5IDEgYWdhaW4sIHdpbGwgaXQgcmVzZXQ/XG50aGlzLnJlc2V0T25NYXRjaD1HZXRGYXN0VmFsdWUoY29uZmlnLCdyZXNldE9uTWF0Y2gnLGZhbHNlKTsvLyAgSWYgdGhlIGNvbWJvIG1hdGNoZXMsIHdpbGwgaXQgZGVsZXRlIGl0c2VsZj9cbnRoaXMuZGVsZXRlT25NYXRjaD1HZXRGYXN0VmFsdWUoY29uZmlnLCdkZWxldGVPbk1hdGNoJyxmYWxzZSk7dmFyIF90aGlzPXRoaXM7dmFyIG9uS2V5RG93bkhhbmRsZXI9ZnVuY3Rpb24gb25LZXlEb3duSGFuZGxlcihldmVudCl7aWYoX3RoaXMubWF0Y2hlZHx8IV90aGlzLmVuYWJsZWQpe3JldHVybjt9dmFyIG1hdGNoZWQ9UHJvY2Vzc0tleUNvbWJvKGV2ZW50LmRhdGEsX3RoaXMpO2lmKG1hdGNoZWQpe190aGlzLm1hbmFnZXIuZXZlbnRzLmRpc3BhdGNoKG5ldyBLZXlDb21ib01hdGNoRXZlbnQoX3RoaXMsZXZlbnQpKTtpZihfdGhpcy5yZXNldE9uTWF0Y2gpe1Jlc2V0S2V5Q29tYm8oX3RoaXMpO31lbHNlIGlmKF90aGlzLmRlbGV0ZU9uTWF0Y2gpe190aGlzLmRlc3Ryb3koKTt9fX07dGhpcy5vbktleURvd249b25LZXlEb3duSGFuZGxlcjt0aGlzLm1hbmFnZXIuZXZlbnRzLm9uKCdLRVlfRE9XTl9FVkVOVCcsb25LZXlEb3duSGFuZGxlcik7fSxwcm9ncmVzczp7Ly8gIEhvdyBmYXIgY29tcGxldGUgaXMgdGhpcyBjb21ibz8gQSB2YWx1ZSBiZXR3ZWVuIDAgYW5kIDEuXG5nZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuaW5kZXgvdGhpcy5zaXplO319LGRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuZW5hYmxlZD1mYWxzZTt0aGlzLmtleUNvZGVzPVtdO3RoaXMubWFuYWdlci5ldmVudHMub2ZmKCdLRVlfRE9XTicsdGhpcy5vbktleURvd24pO3RoaXMubWFuYWdlcj11bmRlZmluZWQ7fX0pO21vZHVsZS5leHBvcnRzPUtleUNvbWJvOy8qKiovfSwvKiAxNjcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBBZHZhbmNlS2V5Q29tYm89X193ZWJwYWNrX3JlcXVpcmVfXyg0NTkpO3ZhciBQcm9jZXNzS2V5Q29tYm89ZnVuY3Rpb24gUHJvY2Vzc0tleUNvbWJvKGV2ZW50LGNvbWJvKXtpZihjb21iby5tYXRjaGVkKXtyZXR1cm4gdHJ1ZTt9dmFyIGNvbWJvTWF0Y2hlZD1mYWxzZTt2YXIga2V5TWF0Y2hlZD1mYWxzZTtpZihldmVudC5rZXlDb2RlPT09Y29tYm8uY3VycmVudCl7Ly8gIEtleSB3YXMgY29ycmVjdFxuaWYoY29tYm8uaW5kZXg+MCYmY29tYm8ubWF4S2V5RGVsYXk+MCl7Ly8gIFdlIGhhdmUgdG8gY2hlY2sgdG8gc2VlIGlmIHRoZSBkZWxheSBiZXR3ZWVuXG4vLyAgdGhlIG5ldyBrZXkgYW5kIHRoZSBvbGQgb25lIHdhcyB0b28gbG9uZyAoaWYgZW5hYmxlZClcbnZhciB0aW1lTGltaXQ9Y29tYm8udGltZUxhc3RNYXRjaGVkK2NvbWJvLm1heEtleURlbGF5Oy8vICBDaGVjayBpZiB0aGV5IHByZXNzZWQgaXQgaW4gdGltZSBvciBub3RcbmlmKGV2ZW50LnRpbWVTdGFtcDw9dGltZUxpbWl0KXtrZXlNYXRjaGVkPXRydWU7Y29tYm9NYXRjaGVkPUFkdmFuY2VLZXlDb21ibyhldmVudCxjb21ibyk7fX1lbHNle2tleU1hdGNoZWQ9dHJ1ZTsvLyAgV2UgZG9uJ3QgY2hlY2sgdGhlIHRpbWUgZm9yIHRoZSBmaXJzdCBrZXkgcHJlc3NlZCwgc28ganVzdCBhZHZhbmNlIGl0XG5jb21ib01hdGNoZWQ9QWR2YW5jZUtleUNvbWJvKGV2ZW50LGNvbWJvKTt9fWlmKCFrZXlNYXRjaGVkJiZjb21iby5yZXNldE9uV3JvbmdLZXkpey8vICBXcm9uZyBrZXkgd2FzIHByZXNzZWRcbmNvbWJvLmluZGV4PTA7Y29tYm8uY3VycmVudD1jb21iby5rZXlDb2Rlc1swXTt9aWYoY29tYm9NYXRjaGVkKXtjb21iby50aW1lTGFzdE1hdGNoZWQ9ZXZlbnQudGltZVN0YW1wO2NvbWJvLm1hdGNoZWQ9dHJ1ZTtjb21iby50aW1lTWF0Y2hlZD1ldmVudC50aW1lU3RhbXA7fXJldHVybiBjb21ib01hdGNoZWQ7fTttb2R1bGUuZXhwb3J0cz1Qcm9jZXNzS2V5Q29tYm87LyoqKi99LC8qIDE2OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7Ly8gIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4vLyAgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWRcbnZhciBNb3VzZU1hbmFnZXI9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIE1vdXNlTWFuYWdlcihpbnB1dE1hbmFnZXIpe3RoaXMubWFuYWdlcj1pbnB1dE1hbmFnZXI7Ly8gQHByb3BlcnR5IHtib29sZWFufSBjYXB0dXJlIC0gSWYgdHJ1ZSB0aGUgRE9NIG1vdXNlIGV2ZW50cyB3aWxsIGhhdmUgZXZlbnQucHJldmVudERlZmF1bHQgYXBwbGllZCB0byB0aGVtLCBpZiBmYWxzZSB0aGV5IHdpbGwgcHJvcGFnYXRlIGZ1bGx5LlxudGhpcy5jYXB0dXJlPWZhbHNlO3RoaXMuZW5hYmxlZD1mYWxzZTt0aGlzLnRhcmdldDt0aGlzLmhhbmRsZXI7fSxib290OmZ1bmN0aW9uIGJvb3QoKXt2YXIgY29uZmlnPXRoaXMubWFuYWdlci5jb25maWc7dGhpcy5lbmFibGVkPWNvbmZpZy5pbnB1dE1vdXNlO3RoaXMudGFyZ2V0PWNvbmZpZy5pbnB1dE1vdXNlRXZlbnRUYXJnZXQ7aWYoIXRoaXMudGFyZ2V0KXt0aGlzLnRhcmdldD10aGlzLm1hbmFnZXIuZ2FtZS5jYW52YXM7fWlmKGNvbmZpZy5kaXNhYmxlQ29udGV4dE1lbnUpe3RoaXMuZGlzYWJsZUNvbnRleHRNZW51KCk7fWlmKHRoaXMuZW5hYmxlZCl7dGhpcy5zdGFydExpc3RlbmVycygpO319LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbiBkaXNhYmxlQ29udGV4dE1lbnUoKXtkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JyxmdW5jdGlvbihldmVudCl7ZXZlbnQucHJldmVudERlZmF1bHQoKTtyZXR1cm4gZmFsc2U7fSk7cmV0dXJuIHRoaXM7fSxzdGFydExpc3RlbmVyczpmdW5jdGlvbiBzdGFydExpc3RlbmVycygpe3ZhciBxdWV1ZT10aGlzLm1hbmFnZXIucXVldWU7dmFyIF90aGlzPXRoaXM7dmFyIGhhbmRsZXI9ZnVuY3Rpb24gaGFuZGxlcihldmVudCl7aWYoZXZlbnQucHJldmVudERlZmF1bHRlZCl7Ly8gRG8gbm90aGluZyBpZiBldmVudCBhbHJlYWR5IGhhbmRsZWRcbnJldHVybjt9cXVldWUucHVzaChldmVudCk7aWYoX3RoaXMuY2FwdHVyZSl7ZXZlbnQucHJldmVudERlZmF1bHQoKTt9fTt0aGlzLmhhbmRsZXI9aGFuZGxlcjt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLGhhbmRsZXIsZmFsc2UpO3RoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsaGFuZGxlcixmYWxzZSk7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsaGFuZGxlcixmYWxzZSk7fSxzdG9wTGlzdGVuZXJzOmZ1bmN0aW9uIHN0b3BMaXN0ZW5lcnMoKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLHRoaXMuaGFuZGxlcik7dGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyx0aGlzLmhhbmRsZXIpO3RoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLHRoaXMuaGFuZGxlcik7fX0pO21vZHVsZS5leHBvcnRzPU1vdXNlTWFuYWdlcjsvKioqL30sLyogMTY5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIHgveSBNVVNUIGJlIHRyYW5zbGF0ZWQgYmVmb3JlIGJlaW5nIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uLCB1bmxlc3MgdGhlIGdhbWVPYmplY3QgaXMgZ3Vhcm5hdGVlZCB0b1xuLy8gIGJlIG5vdCByb3RhdGVkIG9yIHNjYWxlZCBpbiBhbnkgd2F5XG52YXIgUG9pbnRXaXRoaW5HYW1lT2JqZWN0PWZ1bmN0aW9uIFBvaW50V2l0aGluR2FtZU9iamVjdChnYW1lT2JqZWN0LHgseSl7aWYoIWdhbWVPYmplY3QuaGl0QXJlYSl7cmV0dXJuIGZhbHNlO30vLyAgTm9ybWFsaXplIHRoZSBvcmlnaW5cbngrPWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblg7eSs9Z2FtZU9iamVjdC5kaXNwbGF5T3JpZ2luWTtyZXR1cm4gZ2FtZU9iamVjdC5oaXRBcmVhQ2FsbGJhY2soZ2FtZU9iamVjdC5oaXRBcmVhLHgseSk7fTttb2R1bGUuZXhwb3J0cz1Qb2ludFdpdGhpbkdhbWVPYmplY3Q7LyoqKi99LC8qIDE3MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENhbWVyYU1hbmFnZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0NzUpO3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDbG9jaz1fX3dlYnBhY2tfcmVxdWlyZV9fKDUwNCk7dmFyIERhdGE9X193ZWJwYWNrX3JlcXVpcmVfXygxNjMpO3ZhciBEaXNwbGF5TGlzdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7dmFyIEV2ZW50RGlzcGF0Y2hlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTt2YXIgR2FtZU9iamVjdENyZWF0b3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1MDYpO3ZhciBHYW1lT2JqZWN0RmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2OSk7dmFyIElucHV0TWFuYWdlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU5NSk7dmFyIExvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0OSk7dmFyIFBvb2xNYW5hZ2VyPV9fd2VicGFja19yZXF1aXJlX18oNjY2KTt2YXIgU2V0dGluZ3M9X193ZWJwYWNrX3JlcXVpcmVfXyg2NjgpO3ZhciBTdGFibGVTb3J0PV9fd2VicGFja19yZXF1aXJlX18oNjcxKTt2YXIgU2NlbmVNYW5hZ2VyPV9fd2VicGFja19yZXF1aXJlX18oNjcyKTt2YXIgVHdlZW5NYW5hZ2VyPV9fd2VicGFja19yZXF1aXJlX18oNjczKTt2YXIgVXBkYXRlTGlzdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5Mik7dmFyIFN5c3RlbXM9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFN5c3RlbXMoc2NlbmUsY29uZmlnKXt0aGlzLnNjZW5lPXNjZW5lO3RoaXMuY29uZmlnPWNvbmZpZzt0aGlzLnNldHRpbmdzPVNldHRpbmdzLmNyZWF0ZShjb25maWcpO3RoaXMuc29ydENoaWxkcmVuRmxhZz1mYWxzZTsvLyAgU2V0IGJ5IHRoZSBHbG9iYWxTY2VuZU1hbmFnZXJcbnRoaXMubWFzaz1udWxsO3RoaXMuY2FudmFzO3RoaXMuY29udGV4dDsvLyAgQ09SRSAoR0xPQkFMKSBTWVNURU1TIC8gUFJPUEVSVElFU1xudGhpcy5nYW1lO3RoaXMuYW5pbXM7dGhpcy5jYWNoZTt0aGlzLnJlZ2lzdHJ5O3RoaXMudGV4dHVyZXM7Ly8gIFJlZmVyZW5jZSB0byBTY2VuZSBzcGVjaWZpYyBtYW5hZ2VycyAoRmFjdG9yeSwgVHdlZW5zLCBMb2FkZXIsIFBoeXNpY3MsIGV0YylcbnRoaXMuYWRkO3RoaXMuY2FtZXJhczt0aGlzLmV2ZW50czt0aGlzLmlucHV0TWFuYWdlcjt0aGlzLmxvYWQ7dGhpcy5tYWtlO3RoaXMucG9vbDt0aGlzLnNjZW5lTWFuYWdlcjt0aGlzLnRpbWU7dGhpcy50d2VlbnM7Ly8gIFNjZW5lIHByb3BlcnRpZXNcbnRoaXMudXBkYXRlTGlzdDt0aGlzLmRpc3BsYXlMaXN0O3RoaXMuZGF0YTt9LGluaXQ6ZnVuY3Rpb24gaW5pdChnYW1lKXt2YXIgc2NlbmU9dGhpcy5zY2VuZTt0aGlzLmdhbWU9Z2FtZTsvLyAgR2FtZSAoR2xvYmFsKSBsZXZlbCBtYW5hZ2Vyc1xudGhpcy5hbmltcz1nYW1lLmFuaW1zO3RoaXMuY2FjaGU9Z2FtZS5jYWNoZTt0aGlzLnJlZ2lzdHJ5PWdhbWUucmVnaXN0cnk7dGhpcy50ZXh0dXJlcz1nYW1lLnRleHR1cmVzOy8vICBTY2VuZSBzcGVjaWZpYyBwcm9wZXJ0aWVzICh0cmFuc2Zvcm0sIGRhdGEsIGNoaWxkcmVuLCBldGMpXG50aGlzLmlucHV0TWFuYWdlcj1uZXcgSW5wdXRNYW5hZ2VyKHNjZW5lLGdhbWUpO3RoaXMudXBkYXRlTGlzdD1uZXcgVXBkYXRlTGlzdChzY2VuZSk7dGhpcy5kaXNwbGF5TGlzdD1uZXcgRGlzcGxheUxpc3Qoc2NlbmUpO3RoaXMuZGF0YT1uZXcgRGF0YShzY2VuZSk7Ly8gIFNjZW5lIHNwZWNpZmljIG1hbmFnZXJzIChGYWN0b3J5LCBUd2VlbnMsIExvYWRlciwgUGh5c2ljcywgZXRjKVxudGhpcy5hZGQ9bmV3IEdhbWVPYmplY3RGYWN0b3J5KHNjZW5lKTt0aGlzLmNhbWVyYXM9bmV3IENhbWVyYU1hbmFnZXIoc2NlbmUpO3RoaXMuZXZlbnRzPW5ldyBFdmVudERpc3BhdGNoZXIoKTt0aGlzLmxvYWQ9bmV3IExvYWRlcihzY2VuZSk7dGhpcy5tYWtlPW5ldyBHYW1lT2JqZWN0Q3JlYXRvcihzY2VuZSk7dGhpcy5wb29sPW5ldyBQb29sTWFuYWdlcihzY2VuZSk7dGhpcy5zY2VuZU1hbmFnZXI9bmV3IFNjZW5lTWFuYWdlcihzY2VuZSxnYW1lKTt0aGlzLnRpbWU9bmV3IENsb2NrKHNjZW5lKTt0aGlzLnR3ZWVucz1uZXcgVHdlZW5NYW5hZ2VyKHNjZW5lKTsvLyAgU29tZXRpbWVzIHRoZSBtYW5hZ2VycyBuZWVkIGFjY2VzcyB0byBhIHN5c3RlbSBjcmVhdGVkIGFmdGVyIHRoZW1cbnRoaXMuaW5wdXRNYW5hZ2VyLmJvb3QoKTt0aGlzLmluamVjdCgpO30saW5qZWN0OmZ1bmN0aW9uIGluamVjdCgpe3ZhciBtYXA9dGhpcy5zZXR0aW5ncy5tYXA7Zm9yKHZhciBrZXkgaW4gbWFwKXtpZihrZXk9PT0nc3lzJyl7Y29udGludWU7fXRoaXMuc2NlbmVbbWFwW2tleV1dPXRoaXNba2V5XTt9fSxzdGVwOmZ1bmN0aW9uIHN0ZXAodGltZSxkZWx0YSl7Ly8gIEFyZSB0aGVyZSBhbnkgcGVuZGluZyBTY2VuZU1hbmFnZXIgYWN0aW9ucz9cbnRoaXMuc2NlbmVNYW5hZ2VyLnVwZGF0ZSgpO2lmKCF0aGlzLnNldHRpbmdzLmFjdGl2ZSl7cmV0dXJuO310aGlzLnBvb2wuYmVnaW4odGltZSk7dGhpcy51cGRhdGVMaXN0LmJlZ2luKHRpbWUpO3RoaXMudGltZS5iZWdpbih0aW1lKTt0aGlzLnR3ZWVucy5iZWdpbih0aW1lKTt0aGlzLmlucHV0TWFuYWdlci5iZWdpbih0aW1lKTt0aGlzLnBvb2wudXBkYXRlKHRpbWUsZGVsdGEpO3RoaXMudXBkYXRlTGlzdC51cGRhdGUodGltZSxkZWx0YSk7dGhpcy50aW1lLnVwZGF0ZSh0aW1lLGRlbHRhKTt0aGlzLnR3ZWVucy51cGRhdGUodGltZSxkZWx0YSk7dGhpcy5jYW1lcmFzLnVwZGF0ZSh0aW1lLGRlbHRhKTt0aGlzLmlucHV0TWFuYWdlci51cGRhdGUodGltZSxkZWx0YSk7dGhpcy5zY2VuZS51cGRhdGUuY2FsbCh0aGlzLnNjZW5lLHRpbWUsZGVsdGEpO30scmVuZGVyOmZ1bmN0aW9uIHJlbmRlcihpbnRlcnBvbGF0aW9uLHJlbmRlcmVyKXtpZighdGhpcy5zZXR0aW5ncy52aXNpYmxlKXtyZXR1cm47fXRoaXMuZGVwdGhTb3J0KCk7dGhpcy5jYW1lcmFzLnJlbmRlcihyZW5kZXJlcix0aGlzLmRpc3BsYXlMaXN0LGludGVycG9sYXRpb24pO30sLy8gIEZvcmNlIGEgc29ydCBvZiB0aGUgZGlzcGxheSBsaXN0IG9uIHRoZSBuZXh0IHJlbmRlclxucXVldWVEZXB0aFNvcnQ6ZnVuY3Rpb24gcXVldWVEZXB0aFNvcnQoKXt0aGlzLnNvcnRDaGlsZHJlbkZsYWc9dHJ1ZTt9LC8vICBJbW1lZGlhdGVseSBzb3J0cyB0aGUgZGlzcGxheSBsaXN0IGlmIHRoZSBmbGFnIGlzIHNldFxuZGVwdGhTb3J0OmZ1bmN0aW9uIGRlcHRoU29ydCgpe2lmKHRoaXMuc29ydENoaWxkcmVuRmxhZyl7U3RhYmxlU29ydC5pbnBsYWNlKHRoaXMuZGlzcGxheUxpc3QubGlzdCx0aGlzLnNvcnRaKTt0aGlzLnNvcnRDaGlsZHJlbkZsYWc9ZmFsc2U7fX0sc29ydFo6ZnVuY3Rpb24gc29ydFooY2hpbGRBLGNoaWxkQil7cmV0dXJuIGNoaWxkQS5fei1jaGlsZEIuX3o7fSwvLyAgQSBwYXVzZWQgU2NlbmUgc3RpbGwgcmVuZGVycywgaXQganVzdCBkb2Vzbid0IHJ1biBBTlkgb2YgaXRzIHVwZGF0ZSBoYW5kbGVycyBvciBzeXN0ZW1zXG5wYXVzZTpmdW5jdGlvbiBwYXVzZSgpey8vICBXYXMgcGF1c2VkIGJ5IHRoZSBHbG9iYWxTY2VuZU1hbmFnZXJcbnRoaXMuc2V0dGluZ3MuYWN0aXZlPWZhbHNlO2lmKHRoaXMuc2NlbmUucGF1c2Upe3RoaXMuc2NlbmUucGF1c2UuY2FsbCh0aGlzLnNjZW5lKTt9fSxyZXN1bWU6ZnVuY3Rpb24gcmVzdW1lKCl7Ly8gIFdhcyByZXN1bWVkIGJ5IHRoZSBHbG9iYWxTY2VuZU1hbmFnZXJcbnRoaXMuc2V0dGluZ3MuYWN0aXZlPXRydWU7aWYodGhpcy5zY2VuZS5yZXN1bWUpe3RoaXMuc2NlbmUucmVzdW1lLmNhbGwodGhpcy5zY2VuZSk7fX0sc2xlZXA6ZnVuY3Rpb24gc2xlZXAoKXsvLyAgV2FzIHNlbnQgdG8gc2xlZXAgYnkgdGhlIEdsb2JhbFNjZW5lTWFuYWdlclxudGhpcy5zZXR0aW5ncy5hY3RpdmU9ZmFsc2U7dGhpcy5zZXR0aW5ncy52aXNpYmxlPWZhbHNlO2lmKHRoaXMuc2NlbmUuc2xlZXApe3RoaXMuc2NlbmUuc2xlZXAuY2FsbCh0aGlzLnNjZW5lKTt9fSx3YWtlOmZ1bmN0aW9uIHdha2UoKXsvLyAgV2FzIHdva2VuIHVwIGJ5IHRoZSBHbG9iYWxTY2VuZU1hbmFnZXJcbnRoaXMuc2V0dGluZ3MuYWN0aXZlPXRydWU7dGhpcy5zZXR0aW5ncy52aXNpYmxlPXRydWU7aWYodGhpcy5zY2VuZS53YWtlKXt0aGlzLnNjZW5lLndha2UuY2FsbCh0aGlzLnNjZW5lKTt9fSxzdGFydDpmdW5jdGlvbiBzdGFydChkYXRhKXsvLyAgV2FzIHN0YXJ0ZWQgYnkgdGhlIEdsb2JhbFNjZW5lTWFuYWdlclxudGhpcy5zZXR0aW5ncy5kYXRhPWRhdGE7dGhpcy5zZXR0aW5ncy5hY3RpdmU9dHJ1ZTt0aGlzLnNldHRpbmdzLnZpc2libGU9dHJ1ZTt9LHNodXRkb3duOmZ1bmN0aW9uIHNodXRkb3duKCl7Ly8gIFdhcyBzdG9wcGVkIGJ5IHRoZSBHbG9iYWxTY2VuZU1hbmFnZXJcbnRoaXMuc2V0dGluZ3MuYWN0aXZlPWZhbHNlO3RoaXMuc2V0dGluZ3MudmlzaWJsZT1mYWxzZTt0aGlzLnBvb2wuc2h1dGRvd24oKTt0aGlzLmRpc3BsYXlMaXN0LnNodXRkb3duKCk7dGhpcy51cGRhdGVMaXN0LnNodXRkb3duKCk7dGhpcy50aW1lLnNodXRkb3duKCk7dGhpcy50d2VlbnMuc2h1dGRvd24oKTtpZih0aGlzLnNjZW5lLnNodXRkb3duKXt0aGlzLnNjZW5lLnNodXRkb3duLmNhbGwodGhpcy5zY2VuZSk7fX0sLy8gIEdhbWUgbGV2ZWwgbnVrZVxuZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7Ly8gIFRPRE9cbnRoaXMucG9vbC5kZXN0cm95KCk7dGhpcy50aW1lLmRlc3Ryb3koKTt0aGlzLnR3ZWVucy5kZXN0cm95KCk7Ly8gIGV0Y1xuaWYodGhpcy5zY2VuZS5kZXN0cm95KXt0aGlzLnNjZW5lLmRlc3Ryb3kuY2FsbCh0aGlzLnNjZW5lKTt9fX0pO21vZHVsZS5leHBvcnRzPVN5c3RlbXM7LyoqKi99LC8qIDE3MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIFJlY3RhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTt2YXIgVHJhbnNmb3JtTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMTMpO3ZhciBWYWx1ZVRvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7dmFyIENhbWVyYT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gQ2FtZXJhKHgseSx3aWR0aCxoZWlnaHQpe3RoaXMuc2NlbmU7dGhpcy5uYW1lPScnO3RoaXMueD14O3RoaXMueT15O3RoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3RoaXMucm91bmRQaXhlbHM9ZmFsc2U7Ly8gIEJvdW5kc1xudGhpcy51c2VCb3VuZHM9ZmFsc2U7dGhpcy5fYm91bmRzPW5ldyBSZWN0YW5nbGUoKTt0aGlzLmlucHV0RW5hYmxlZD10cnVlO3RoaXMuc2Nyb2xsWD0wLjA7dGhpcy5zY3JvbGxZPTAuMDt0aGlzLnpvb209MS4wO3RoaXMucm90YXRpb249MC4wO3RoaXMubWF0cml4PW5ldyBUcmFuc2Zvcm1NYXRyaXgoMSwwLDAsMSwwLDApO3RoaXMudHJhbnNwYXJlbnQ9dHJ1ZTt0aGlzLmNsZWFyQmVmb3JlUmVuZGVyPXRydWU7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9VmFsdWVUb0NvbG9yKCdyZ2JhKDAsMCwwLDApJyk7dGhpcy5kaXNhYmxlQ3VsbD1mYWxzZTt0aGlzLmN1bGxlZE9iamVjdHM9W107Ly8gIFNoYWtlXG50aGlzLl9zaGFrZUR1cmF0aW9uPTA7dGhpcy5fc2hha2VJbnRlbnNpdHk9MDt0aGlzLl9zaGFrZU9mZnNldFg9MDt0aGlzLl9zaGFrZU9mZnNldFk9MDsvLyAgRmFkZVxudGhpcy5fZmFkZUR1cmF0aW9uPTA7dGhpcy5fZmFkZVJlZD0wO3RoaXMuX2ZhZGVHcmVlbj0wO3RoaXMuX2ZhZGVCbHVlPTA7dGhpcy5fZmFkZUFscGhhPTA7Ly8gIEZsYXNoXG50aGlzLl9mbGFzaER1cmF0aW9uPTA7dGhpcy5fZmxhc2hSZWQ9MTt0aGlzLl9mbGFzaEdyZWVuPTE7dGhpcy5fZmxhc2hCbHVlPTE7dGhpcy5fZmxhc2hBbHBoYT0wOy8vICBGb2xsb3dcbnRoaXMuX2ZvbGxvdz1udWxsO30sY2FtZXJhVG9TY3JlZW46X193ZWJwYWNrX3JlcXVpcmVfXyg0NzYpLGNlbnRlclRvQm91bmRzOl9fd2VicGFja19yZXF1aXJlX18oNDc3KSxjZW50ZXJUb1NpemU6X193ZWJwYWNrX3JlcXVpcmVfXyg0NzgpLGN1bGw6X193ZWJwYWNrX3JlcXVpcmVfXyg0NzkpLGN1bGxIaXRUZXN0Ol9fd2VicGFja19yZXF1aXJlX18oNDgwKSxkZXN0cm95Ol9fd2VicGFja19yZXF1aXJlX18oNDgxKSxmYWRlOl9fd2VicGFja19yZXF1aXJlX18oNDgyKSxmbGFzaDpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4MykscHJlUmVuZGVyOl9fd2VicGFja19yZXF1aXJlX18oNDg0KSxyZW1vdmVCb3VuZHM6X193ZWJwYWNrX3JlcXVpcmVfXyg0ODUpLHNldEJhY2tncm91bmRDb2xvcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4Niksc2V0Qm91bmRzOl9fd2VicGFja19yZXF1aXJlX18oNDg3KSxzZXROYW1lOl9fd2VicGFja19yZXF1aXJlX18oNDg4KSxzZXRQb3NpdGlvbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ4OSksc2V0Um90YXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg0OTApLHNldFJvdW5kUGl4ZWxzOl9fd2VicGFja19yZXF1aXJlX18oNDkxKSxzZXRTY2VuZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5Miksc2V0U2Nyb2xsOl9fd2VicGFja19yZXF1aXJlX18oNDkzKSxzZXRTaXplOl9fd2VicGFja19yZXF1aXJlX18oNDk0KSxzZXRWaWV3cG9ydDpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5NSksc2V0Wm9vbTpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ5Niksc2hha2U6X193ZWJwYWNrX3JlcXVpcmVfXyg0OTcpLHN0YXJ0Rm9sbG93Ol9fd2VicGFja19yZXF1aXJlX18oNDk4KSxzdG9wRm9sbG93Ol9fd2VicGFja19yZXF1aXJlX18oNDk5KSx0b0pTT046X193ZWJwYWNrX3JlcXVpcmVfXyg1MDApLHVwZGF0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDUwMSl9KTttb2R1bGUuZXhwb3J0cz1DYW1lcmE7LyoqKi99LC8qIDE3MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIERpc3BsYXlMaXN0PW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBEaXNwbGF5TGlzdChzY2VuZSl7Ly8gIFRoZSBTY2VuZSB0aGF0IG93bnMgdGhpcyBwbHVnaW5cbnRoaXMuc2NlbmU9c2NlbmU7Ly8gIFRoZSBvYmplY3RzIHRoYXQgYmVsb25nIHRvIHRoaXMgY29sbGVjdGlvbi5cbi8vICBUaGUgZXF1aXZhbGVudCBvZiB0aGUgb2xkIGBTcHJpdGUuY2hpbGRyZW5gIGFycmF5LlxudGhpcy5saXN0PVtdO3RoaXMucG9zaXRpb249MDt9LGFkZDpmdW5jdGlvbiBhZGQoY2hpbGQpe2lmKGNoaWxkLnBhcmVudD09PXRoaXMuc2NlbmUpe3JldHVybiBjaGlsZDt9ZWxzZSBpZihjaGlsZC5wYXJlbnQpe2NoaWxkLnBhcmVudC5jaGlsZHJlbi5yZW1vdmUoY2hpbGQpO31jaGlsZC5wYXJlbnQ9dGhpcy5zY2VuZTt0aGlzLmxpc3QucHVzaChjaGlsZCk7cmV0dXJuIGNoaWxkO30sYWRkQXQ6ZnVuY3Rpb24gYWRkQXQoY2hpbGQsaW5kZXgpe2lmKGluZGV4PT09dW5kZWZpbmVkKXtpbmRleD0wO31pZih0aGlzLmxpc3QubGVuZ3RoPT09MCl7cmV0dXJuIHRoaXMuYWRkKGNoaWxkKTt9aWYoaW5kZXg+PTAmJmluZGV4PD10aGlzLmxpc3QubGVuZ3RoKXtpZihjaGlsZC5wYXJlbnQpe2NoaWxkLnBhcmVudC5jaGlsZHJlbi5yZW1vdmUoY2hpbGQpO31jaGlsZC5wYXJlbnQ9dGhpcy5zY2VuZTt0aGlzLmxpc3Quc3BsaWNlKGluZGV4LDAsY2hpbGQpO31yZXR1cm4gY2hpbGQ7fSxhZGRNdWx0aXBsZTpmdW5jdGlvbiBhZGRNdWx0aXBsZShjaGlsZHJlbil7aWYoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpe2Zvcih2YXIgaT0wO2k8Y2hpbGRyZW4ubGVuZ3RoO2krKyl7dGhpcy5hZGQoY2hpbGRyZW5baV0pO319cmV0dXJuIGNoaWxkcmVuO30sZ2V0QXQ6ZnVuY3Rpb24gZ2V0QXQoaW5kZXgpe3JldHVybiB0aGlzLmxpc3RbaW5kZXhdO30sZ2V0SW5kZXg6ZnVuY3Rpb24gZ2V0SW5kZXgoY2hpbGQpey8vICBSZXR1cm4gLTEgaWYgZ2l2ZW4gY2hpbGQgaXNuJ3QgYSBjaGlsZCBvZiB0aGlzIHBhcmVudFxucmV0dXJuIHRoaXMubGlzdC5pbmRleE9mKGNoaWxkKTt9LC8vICBHaXZlbiBhbiBhcnJheSBvZiBHYW1lIE9iamVjdHMsIHNvcnQgdGhlIGFycmF5IGFuZCByZXR1cm4gaXQsXG4vLyAgc28gdGhhdCB0aGUgb2JqZWN0cyBhcmUgaW4gaW5kZXggb3JkZXIgd2l0aCB0aGUgbG93ZXN0IGF0IHRoZSBib3R0b20uXG5zb3J0R2FtZU9iamVjdHM6ZnVuY3Rpb24gc29ydEdhbWVPYmplY3RzKGdhbWVPYmplY3RzKXtpZihnYW1lT2JqZWN0cz09PXVuZGVmaW5lZCl7Z2FtZU9iamVjdHM9dGhpcy5saXN0O310aGlzLnNjZW5lLnN5cy5kZXB0aFNvcnQoKTtyZXR1cm4gZ2FtZU9iamVjdHMuc29ydCh0aGlzLnNvcnRJbmRleEhhbmRsZXIuYmluZCh0aGlzKSk7fSwvLyAgTm90ZSB0aGF0IHRoZSBnaXZlbiBhcnJheSBpcyBzb3J0ZWQgaW4gcGxhY2UsIGV2ZW4gdGhvdWdoIGl0IGlzbid0IHJldHVybmVkIGRpcmVjdGx5IGl0IHdpbGwgc3RpbGwgYmUgdXBkYXRlZC5cbmdldFRvcEdhbWVPYmplY3Q6ZnVuY3Rpb24gZ2V0VG9wR2FtZU9iamVjdChnYW1lT2JqZWN0cyl7dGhpcy5zb3J0R2FtZU9iamVjdHMoZ2FtZU9iamVjdHMpO3JldHVybiBnYW1lT2JqZWN0c1tnYW1lT2JqZWN0cy5sZW5ndGgtMV07fSwvLyAgUmV0dXJuIHRoZSBjaGlsZCBsb3dlc3QgZG93biB0aGUgZGlzcGxheSBsaXN0ICh3aXRoIHRoZSBzbWFsbGVzdCBpbmRleClcbnNvcnRJbmRleEhhbmRsZXI6ZnVuY3Rpb24gc29ydEluZGV4SGFuZGxlcihjaGlsZEEsY2hpbGRCKXsvLyAgVGhlIGxvd2VyIHRoZSBpbmRleCwgdGhlIGxvd2VyIGRvd24gdGhlIGRpc3BsYXkgbGlzdCB0aGV5IGFyZVxudmFyIGluZGV4QT10aGlzLmdldEluZGV4KGNoaWxkQSk7dmFyIGluZGV4Qj10aGlzLmdldEluZGV4KGNoaWxkQik7aWYoaW5kZXhBPGluZGV4Qil7cmV0dXJuLTE7fWVsc2UgaWYoaW5kZXhBPmluZGV4Qil7cmV0dXJuIDE7fS8vICBUZWNobmljYWxseSB0aGlzIHNob3VsZG4ndCBoYXBwZW4sIGJ1dCBpZiB0aGUgR08gd2Fzbid0IHBhcnQgb2YgdGhpcyBkaXNwbGF5IGxpc3QgdGhlbiBpdCdsbFxuLy8gIGhhdmUgYW4gaW5kZXggb2YgLTEsIHNvIGluIHNvbWUgY2FzZXMgaXQgY2FuXG5yZXR1cm4gMDt9LC8qKlxuICAgICogR2V0cyB0aGUgZmlyc3QgaXRlbSBmcm9tIHRoZSBzZXQgYmFzZWQgb24gdGhlIHByb3BlcnR5IHN0cmljdGx5IGVxdWFsaW5nIHRoZSB2YWx1ZSBnaXZlbi5cbiAgICAqIFJldHVybnMgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuQXJyYXlTZXQjZ2V0QnlLZXlcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIFRoZSBwcm9wZXJ0eSB0byBjaGVjayBhZ2FpbnN0IHRoZSB2YWx1ZS5cbiAgICAqIEBwYXJhbSB7YW55fSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjayBpZiB0aGUgcHJvcGVydHkgc3RyaWN0bHkgZXF1YWxzLlxuICAgICogQHJldHVybiB7YW55fSBUaGUgaXRlbSB0aGF0IHdhcyBmb3VuZCwgb3IgbnVsbCBpZiBub3RoaW5nIG1hdGNoZWQuXG4gICAgKi9nZXRCeUtleTpmdW5jdGlvbiBnZXRCeUtleShwcm9wZXJ0eSx2YWx1ZSl7Zm9yKHZhciBpPTA7aTx0aGlzLmxpc3QubGVuZ3RoO2krKyl7aWYodGhpcy5saXN0W2ldW3Byb3BlcnR5XT09PXZhbHVlKXtyZXR1cm4gdGhpcy5saXN0W2ldO319cmV0dXJuIG51bGw7fSwvKipcbiAgICAqIFNlYXJjaGVzIHRoZSBHcm91cCBmb3IgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGEgY2hpbGQgd2l0aCB0aGUgYG5hbWVgXG4gICAgKiBwcm9wZXJ0eSBtYXRjaGluZyB0aGUgZ2l2ZW4gYXJndW1lbnQuIFNob3VsZCBtb3JlIHRoYW4gb25lIGNoaWxkIGhhdmVcbiAgICAqIHRoZSBzYW1lIG5hbWUgb25seSB0aGUgZmlyc3QgaW5zdGFuY2UgaXMgcmV0dXJuZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR3JvdXAjZ2V0QnlOYW1lXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIHRvIHNlYXJjaCBmb3IuXG4gICAgKiBAcmV0dXJuIHthbnl9IFRoZSBmaXJzdCBjaGlsZCB3aXRoIGEgbWF0Y2hpbmcgbmFtZSwgb3IgbnVsbCBpZiBub25lIHdlcmUgZm91bmQuXG4gICAgKi9nZXRCeU5hbWU6ZnVuY3Rpb24gZ2V0QnlOYW1lKG5hbWUpe3JldHVybiB0aGlzLmdldEJ5S2V5KCduYW1lJyxuYW1lKTt9LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSBjaGlsZCBmcm9tIHRoZSBncm91cC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5Hcm91cCNnZXRSYW5kb21cbiAgICAqIEBwYXJhbSB7aW50ZWdlcn0gW3N0YXJ0SW5kZXg9MF0gLSBPZmZzZXQgZnJvbSB0aGUgZnJvbnQgb2YgdGhlIGdyb3VwIChsb3dlc3QgY2hpbGQpLlxuICAgICogQHBhcmFtIHtpbnRlZ2VyfSBbbGVuZ3RoPSh0byB0b3ApXSAtIFJlc3RyaWN0aW9uIG9uIHRoZSBudW1iZXIgb2YgdmFsdWVzIHlvdSB3YW50IHRvIHJhbmRvbWx5IHNlbGVjdCBmcm9tLlxuICAgICogQHJldHVybiB7YW55fSBBIHJhbmRvbSBjaGlsZCBvZiB0aGlzIEdyb3VwLlxuICAgICovZ2V0UmFuZG9tOmZ1bmN0aW9uIGdldFJhbmRvbShzdGFydEluZGV4LGxlbmd0aCl7aWYoc3RhcnRJbmRleD09PXVuZGVmaW5lZCl7c3RhcnRJbmRleD0wO31pZihsZW5ndGg9PT11bmRlZmluZWQpe2xlbmd0aD10aGlzLmxpc3QubGVuZ3RoO31pZihsZW5ndGg9PT0wfHxsZW5ndGg+dGhpcy5saXN0Lmxlbmd0aCl7cmV0dXJuIG51bGw7fXZhciByYW5kb21JbmRleD1zdGFydEluZGV4K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsZW5ndGgpO3JldHVybiB0aGlzLmxpc3RbcmFuZG9tSW5kZXhdO30sZ2V0Rmlyc3Q6ZnVuY3Rpb24gZ2V0Rmlyc3QocHJvcGVydHksdmFsdWUsc3RhcnRJbmRleCxlbmRJbmRleCl7aWYoc3RhcnRJbmRleD09PXVuZGVmaW5lZCl7c3RhcnRJbmRleD0wO31pZihlbmRJbmRleD09PXVuZGVmaW5lZCl7ZW5kSW5kZXg9dGhpcy5saXN0Lmxlbmd0aDt9Zm9yKHZhciBpPXN0YXJ0SW5kZXg7aTxlbmRJbmRleDtpKyspe3ZhciBjaGlsZD10aGlzLmxpc3RbaV07aWYoY2hpbGRbcHJvcGVydHldPT09dmFsdWUpe3JldHVybiBjaGlsZDt9fXJldHVybiBudWxsO30sLyoqXG4gICAgKiBSZXR1cm5zIGFsbCBjaGlsZHJlbiBpbiB0aGlzIEdyb3VwLlxuICAgICpcbiAgICAqIFlvdSBjYW4gb3B0aW9uYWxseSBzcGVjaWZ5IGEgbWF0Y2hpbmcgY3JpdGVyaWEgdXNpbmcgdGhlIGBwcm9wZXJ0eWAgYW5kIGB2YWx1ZWAgYXJndW1lbnRzLlxuICAgICpcbiAgICAqIEZvciBleGFtcGxlOiBgZ2V0QWxsKCdleGlzdHMnLCB0cnVlKWAgd291bGQgcmV0dXJuIG9ubHkgY2hpbGRyZW4gdGhhdCBoYXZlIHRoZWlyIGV4aXN0cyBwcm9wZXJ0eSBzZXQuXG4gICAgKlxuICAgICogT3B0aW9uYWxseSB5b3UgY2FuIHNwZWNpZnkgYSBzdGFydCBhbmQgZW5kIGluZGV4LiBGb3IgZXhhbXBsZSBpZiB0aGlzIEdyb3VwIGhhZCAxMDAgY2hpbGRyZW4sXG4gICAgKiBhbmQgeW91IHNldCBgc3RhcnRJbmRleGAgdG8gMCBhbmQgYGVuZEluZGV4YCB0byA1MCwgaXQgd291bGQgcmV0dXJuIG1hdGNoZXMgZnJvbSBvbmx5XG4gICAgKiB0aGUgZmlyc3QgNTAgY2hpbGRyZW4gaW4gdGhlIEdyb3VwLlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLkdyb3VwI2dldEFsbFxuICAgICogQHBhcmFtIHtzdHJpbmd9IFtwcm9wZXJ0eV0gLSBBbiBvcHRpb25hbCBwcm9wZXJ0eSB0byB0ZXN0IGFnYWluc3QgdGhlIHZhbHVlIGFyZ3VtZW50LlxuICAgICogQHBhcmFtIHthbnl9IFt2YWx1ZV0gLSBJZiBwcm9wZXJ0eSBpcyBzZXQgdGhlbiBDaGlsZC5wcm9wZXJ0eSBtdXN0IHN0cmljdGx5IGVxdWFsIHRoaXMgdmFsdWUgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdHMuXG4gICAgKiBAcGFyYW0ge2ludGVnZXJ9IFtzdGFydEluZGV4PTBdIC0gVGhlIGZpcnN0IGNoaWxkIGluZGV4IHRvIHN0YXJ0IHRoZSBzZWFyY2ggZnJvbS5cbiAgICAqIEBwYXJhbSB7aW50ZWdlcn0gW2VuZEluZGV4XSAtIFRoZSBsYXN0IGNoaWxkIGluZGV4IHRvIHNlYXJjaCB1cCB1bnRpbC5cbiAgICAqIEByZXR1cm4ge2FueX0gQSByYW5kb20gZXhpc3RpbmcgY2hpbGQgb2YgdGhpcyBHcm91cC5cbiAgICAqL2dldEFsbDpmdW5jdGlvbiBnZXRBbGwocHJvcGVydHksdmFsdWUsc3RhcnRJbmRleCxlbmRJbmRleCl7aWYoc3RhcnRJbmRleD09PXVuZGVmaW5lZCl7c3RhcnRJbmRleD0wO31pZihlbmRJbmRleD09PXVuZGVmaW5lZCl7ZW5kSW5kZXg9dGhpcy5saXN0Lmxlbmd0aDt9dmFyIG91dHB1dD1bXTtmb3IodmFyIGk9c3RhcnRJbmRleDtpPGVuZEluZGV4O2krKyl7dmFyIGNoaWxkPXRoaXMubGlzdFtpXTtpZihwcm9wZXJ0eSl7aWYoY2hpbGRbcHJvcGVydHldPT09dmFsdWUpe291dHB1dC5wdXNoKGNoaWxkKTt9fWVsc2V7b3V0cHV0LnB1c2goY2hpbGQpO319cmV0dXJuIG91dHB1dDt9LHN3YXA6ZnVuY3Rpb24gc3dhcChjaGlsZDEsY2hpbGQyKXtpZihjaGlsZDE9PT1jaGlsZDIpe3JldHVybjt9dmFyIGluZGV4MT10aGlzLmdldEluZGV4KGNoaWxkMSk7dmFyIGluZGV4Mj10aGlzLmdldEluZGV4KGNoaWxkMik7aWYoaW5kZXgxPDB8fGluZGV4MjwwKXt0aHJvdyBuZXcgRXJyb3IoJ0Rpc3BsYXlMaXN0LnN3YXA6IFN1cHBsaWVkIG9iamVjdHMgbXVzdCBiZSBjaGlsZHJlbiBvZiB0aGUgc2FtZSBsaXN0Jyk7fXRoaXMubGlzdFtpbmRleDFdPWNoaWxkMjt0aGlzLmxpc3RbaW5kZXgyXT1jaGlsZDE7fSwvLyAgIHdhcyBzZXRJbmRleFxubW92ZVRvOmZ1bmN0aW9uIG1vdmVUbyhjaGlsZCxpbmRleCl7dmFyIGN1cnJlbnRJbmRleD10aGlzLmdldEluZGV4KGNoaWxkKTtpZihjdXJyZW50SW5kZXg9PT0tMXx8aW5kZXg8MHx8aW5kZXg+PXRoaXMubGlzdC5sZW5ndGgpe3Rocm93IG5ldyBFcnJvcignRGlzcGxheUxpc3QubW92ZVRvOiBUaGUgc3VwcGxpZWQgaW5kZXggaXMgb3V0IG9mIGJvdW5kcycpO30vLyAgUmVtb3ZlXG50aGlzLmxpc3Quc3BsaWNlKGN1cnJlbnRJbmRleCwxKTsvLyAgQWRkIGluIG5ldyBsb2NhdGlvblxudGhpcy5saXN0LnNwbGljZShpbmRleCwwLGNoaWxkKTtyZXR1cm4gY2hpbGQ7fSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKGNoaWxkKXt2YXIgaW5kZXg9dGhpcy5saXN0LmluZGV4T2YoY2hpbGQpO2lmKGluZGV4IT09LTEpe2NoaWxkLnBhcmVudD11bmRlZmluZWQ7dGhpcy5saXN0LnNwbGljZShpbmRleCwxKTt9cmV0dXJuIGNoaWxkO30scmVtb3ZlQXQ6ZnVuY3Rpb24gcmVtb3ZlQXQoaW5kZXgpe3ZhciBjaGlsZD10aGlzLmxpc3RbaW5kZXhdO2lmKGNoaWxkKXtjaGlsZC5wYXJlbnQ9dW5kZWZpbmVkO3RoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LDEpO31yZXR1cm4gY2hpbGQ7fSxyZW1vdmVCZXR3ZWVuOmZ1bmN0aW9uIHJlbW92ZUJldHdlZW4oYmVnaW5JbmRleCxlbmRJbmRleCl7aWYoYmVnaW5JbmRleD09PXVuZGVmaW5lZCl7YmVnaW5JbmRleD0wO31pZihlbmRJbmRleD09PXVuZGVmaW5lZCl7ZW5kSW5kZXg9dGhpcy5saXN0Lmxlbmd0aDt9dmFyIHJhbmdlPWVuZEluZGV4LWJlZ2luSW5kZXg7aWYocmFuZ2U+MCYmcmFuZ2U8PWVuZEluZGV4KXt2YXIgcmVtb3ZlZD10aGlzLmxpc3Quc3BsaWNlKGJlZ2luSW5kZXgscmFuZ2UpO2Zvcih2YXIgaT0wO2k8cmVtb3ZlZC5sZW5ndGg7aSsrKXtyZW1vdmVkW2ldLnBhcmVudD11bmRlZmluZWQ7fXJldHVybiByZW1vdmVkO31lbHNlIGlmKHJhbmdlPT09MCYmdGhpcy5saXN0Lmxlbmd0aD09PTApe3JldHVybltdO31lbHNle3Rocm93IG5ldyBFcnJvcignRGlzcGxheUxpc3QucmVtb3ZlQmV0d2VlbjogUmFuZ2UgRXJyb3IsIG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlJyk7fX0sLyoqXG4gICAgKiBSZW1vdmVzIGFsbCB0aGUgaXRlbXMuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuQXJyYXlTZXQjcmVtb3ZlQWxsXG4gICAgKi9yZW1vdmVBbGw6ZnVuY3Rpb24gcmVtb3ZlQWxsKCl7dmFyIGk9dGhpcy5saXN0Lmxlbmd0aDt3aGlsZShpLS0pe3RoaXMucmVtb3ZlKHRoaXMubGlzdFtpXSk7fXJldHVybiB0aGlzO30sc2h1dGRvd246ZnVuY3Rpb24gc2h1dGRvd24oKXt0aGlzLnJlbW92ZUFsbCgpO30sLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgZ2l2ZW4gY2hpbGQgaXMgYSBjaGlsZCBvZiB0aGlzIG9iamVjdCwgYXQgYW55IGRlcHRoIChyZWN1cnNpdmVseSBzY2FucyB1cCB0aGUgdHJlZSlcbmNvbnRhaW5zOmZ1bmN0aW9uIGNvbnRhaW5zKGNoaWxkKXtpZighY2hpbGQpe3JldHVybiBmYWxzZTt9ZWxzZSBpZihjaGlsZC5wYXJlbnQ9PT10aGlzLnNjZW5lKXtyZXR1cm4gdHJ1ZTt9ZWxzZXtyZXR1cm4gdGhpcy5jb250YWlucyhjaGlsZC5wYXJlbnQpO319LC8qKlxuICAgICogQnJpbmdzIHRoZSBnaXZlbiBjaGlsZCB0byB0aGUgdG9wIG9mIHRoaXMgZ3JvdXAgc28gaXQgcmVuZGVycyBhYm92ZSBhbGwgb3RoZXIgY2hpbGRyZW4uXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR3JvdXAjYnJpbmdUb1RvcFxuICAgICogQHBhcmFtIHthbnl9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIGJyaW5nIHRvIHRoZSB0b3Agb2YgdGhpcyBncm91cC5cbiAgICAqIEByZXR1cm4ge2FueX0gVGhlIGNoaWxkIHRoYXQgd2FzIG1vdmVkLlxuICAgICovYnJpbmdUb1RvcDpmdW5jdGlvbiBicmluZ1RvVG9wKGNoaWxkKXtpZihjaGlsZC5wYXJlbnQ9PT10aGlzLnNjZW5lJiZ0aGlzLmdldEluZGV4KGNoaWxkKTx0aGlzLmxpc3QubGVuZ3RoKXt0aGlzLnJlbW92ZShjaGlsZCk7dGhpcy5hZGQoY2hpbGQpO31yZXR1cm4gY2hpbGQ7fSwvKipcbiAgICAqIFNlbmRzIHRoZSBnaXZlbiBjaGlsZCB0byB0aGUgYm90dG9tIG9mIHRoaXMgZ3JvdXAgc28gaXQgcmVuZGVycyBiZWxvdyBhbGwgb3RoZXIgY2hpbGRyZW4uXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR3JvdXAjc2VuZFRvQmFja1xuICAgICogQHBhcmFtIHthbnl9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIHNlbmQgdG8gdGhlIGJvdHRvbSBvZiB0aGlzIGdyb3VwLlxuICAgICogQHJldHVybiB7YW55fSBUaGUgY2hpbGQgdGhhdCB3YXMgbW92ZWQuXG4gICAgKi9zZW5kVG9CYWNrOmZ1bmN0aW9uIHNlbmRUb0JhY2soY2hpbGQpe2lmKGNoaWxkLnBhcmVudD09PXRoaXMuc2NlbmUmJnRoaXMuZ2V0SW5kZXgoY2hpbGQpPjApe3RoaXMucmVtb3ZlKGNoaWxkKTt0aGlzLmFkZEF0KGNoaWxkLDApO31yZXR1cm4gY2hpbGQ7fSwvKipcbiAgICAqIE1vdmVzIHRoZSBnaXZlbiBjaGlsZCB1cCBvbmUgcGxhY2UgaW4gdGhpcyBncm91cCB1bmxlc3MgaXQncyBhbHJlYWR5IGF0IHRoZSB0b3AuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR3JvdXAjbW92ZVVwXG4gICAgKiBAcGFyYW0ge2FueX0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gbW92ZSB1cCBpbiB0aGUgZ3JvdXAuXG4gICAgKiBAcmV0dXJuIHthbnl9IFRoZSBjaGlsZCB0aGF0IHdhcyBtb3ZlZC5cbiAgICAqL21vdmVVcDpmdW5jdGlvbiBtb3ZlVXAoY2hpbGQpe3ZhciBhPXRoaXMuZ2V0SW5kZXgoY2hpbGQpO2lmKGEhPT0tMSYmYTx0aGlzLmxpc3QubGVuZ3RoLTEpe3ZhciBiPXRoaXMuZ2V0QXQoYSsxKTtpZihiKXt0aGlzLnN3YXAoY2hpbGQsYik7fX1yZXR1cm4gY2hpbGQ7fSwvKipcbiAgICAqIE1vdmVzIHRoZSBnaXZlbiBjaGlsZCBkb3duIG9uZSBwbGFjZSBpbiB0aGlzIGdyb3VwIHVubGVzcyBpdCdzIGFscmVhZHkgYXQgdGhlIGJvdHRvbS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5Hcm91cCNtb3ZlRG93blxuICAgICogQHBhcmFtIHthbnl9IGNoaWxkIC0gVGhlIGNoaWxkIHRvIG1vdmUgZG93biBpbiB0aGUgZ3JvdXAuXG4gICAgKiBAcmV0dXJuIHthbnl9IFRoZSBjaGlsZCB0aGF0IHdhcyBtb3ZlZC5cbiAgICAqL21vdmVEb3duOmZ1bmN0aW9uIG1vdmVEb3duKGNoaWxkKXt2YXIgYT10aGlzLmdldEluZGV4KGNoaWxkKTtpZihhPjApe3ZhciBiPXRoaXMuZ2V0QXQoYS0xKTtpZihiKXt0aGlzLnN3YXAoY2hpbGQsYik7fX1yZXR1cm4gY2hpbGQ7fSwvKipcbiAgICAqIFJldmVyc2VzIGFsbCBjaGlsZHJlbiBpbiB0aGlzIGdyb3VwLlxuICAgICpcbiAgICAqIFRoaXMgb3BlcmF0aW9uIGFwcGxpZXMgb25seSB0byBpbW1lZGlhdGUgY2hpbGRyZW4gYW5kIGRvZXMgbm90IHByb3BhZ2F0ZSB0byBzdWJncm91cHMuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuR3JvdXAjcmV2ZXJzZVxuICAgICovcmV2ZXJzZTpmdW5jdGlvbiByZXZlcnNlKCl7dGhpcy5saXN0LnJldmVyc2UoKTtyZXR1cm4gdGhpczt9LHNodWZmbGU6ZnVuY3Rpb24gc2h1ZmZsZSgpe2Zvcih2YXIgaT10aGlzLmxpc3QubGVuZ3RoLTE7aT4wO2ktLSl7dmFyIGo9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihpKzEpKTt2YXIgdGVtcD10aGlzLmxpc3RbaV07dGhpcy5saXN0W2ldPXRoaXMubGlzdFtqXTt0aGlzLmxpc3Rbal09dGVtcDt9cmV0dXJuIHRoaXM7fSwvKipcbiAgICAqIFJlcGxhY2VzIGEgY2hpbGQgb2YgdGhpcyBHcm91cCB3aXRoIHRoZSBnaXZlbiBuZXdDaGlsZC4gVGhlIG5ld0NoaWxkIGNhbm5vdCBiZSBhIG1lbWJlciBvZiB0aGlzIEdyb3VwLlxuICAgICpcbiAgICAqIElmIGBHcm91cC5lbmFibGVCb2R5YCBpcyBzZXQsIHRoZW4gYSBwaHlzaWNzIGJvZHkgd2lsbCBiZSBjcmVhdGVkIG9uIHRoZSBvYmplY3QsIHNvIGxvbmcgYXMgb25lIGRvZXMgbm90IGFscmVhZHkgZXhpc3QuXG4gICAgKlxuICAgICogSWYgYEdyb3VwLmlucHV0RW5hYmxlQ2hpbGRyZW5gIGlzIHNldCwgdGhlbiBhbiBJbnB1dCBIYW5kbGVyIHdpbGwgYmUgY3JlYXRlZCBvbiB0aGUgb2JqZWN0LCBzbyBsb25nIGFzIG9uZSBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLkdyb3VwI3JlcGxhY2VcbiAgICAqIEBwYXJhbSB7YW55fSBvbGRDaGlsZCAtIFRoZSBjaGlsZCBpbiB0aGlzIGdyb3VwIHRoYXQgd2lsbCBiZSByZXBsYWNlZC5cbiAgICAqIEBwYXJhbSB7YW55fSBuZXdDaGlsZCAtIFRoZSBjaGlsZCB0byBiZSBpbnNlcnRlZCBpbnRvIHRoaXMgZ3JvdXAuXG4gICAgKiBAcmV0dXJuIHthbnl9IFJldHVybnMgdGhlIG9sZENoaWxkIHRoYXQgd2FzIHJlcGxhY2VkIHdpdGhpbiB0aGlzIGdyb3VwLlxuICAgICovcmVwbGFjZTpmdW5jdGlvbiByZXBsYWNlKG9sZENoaWxkLG5ld0NoaWxkKXt2YXIgaW5kZXg9dGhpcy5nZXRJbmRleChvbGRDaGlsZCk7aWYoaW5kZXghPT0tMSl7aWYobmV3Q2hpbGQucGFyZW50KXtuZXdDaGlsZC5wYXJlbnQucmVtb3ZlKG5ld0NoaWxkKTt9dGhpcy5yZW1vdmUob2xkQ2hpbGQpO3RoaXMuYWRkQXQobmV3Q2hpbGQsaW5kZXgpO3JldHVybiBvbGRDaGlsZDt9fSwvLyAgU3dhcHMgYSBjaGlsZCBmcm9tIGFub3RoZXIgcGFyZW50LCB3aXRoIG9uZSBmcm9tIHRoaXMgcGFyZW50LlxuLy8gIGNoaWxkMSA9IHRoZSBjaGlsZCBvZiBUSElTIHBhcmVudFxuLy8gIGNoaWxkMiA9IHRoZSBjaGlsZCBvZiB0aGUgT1RIRVIgcGFyZW50XG5leGNoYW5nZTpmdW5jdGlvbiBleGNoYW5nZShjaGlsZDEsY2hpbGQyKXtpZihjaGlsZDE9PT1jaGlsZDJ8fGNoaWxkMS5wYXJlbnQ9PT1jaGlsZDIucGFyZW50KXtyZXR1cm47fXZhciBwYXJlbnRDaGlsZHJlbj1jaGlsZDIucGFyZW50LmNoaWxkcmVuO3ZhciBpbmRleDE9dGhpcy5nZXRJbmRleChjaGlsZDEpO3ZhciBpbmRleDI9cGFyZW50Q2hpbGRyZW4uZ2V0SW5kZXgoY2hpbGQyKTtpZihpbmRleDE8MHx8aW5kZXgyPDApe3Rocm93IG5ldyBFcnJvcignQ2hpbGRyZW4uc3dhcDogU3VwcGxpZWQgb2JqZWN0cyBtdXN0IGJlIGNoaWxkcmVuIG9mIHBhcmVudHMnKTt9dGhpcy5yZW1vdmUoY2hpbGQxKTtwYXJlbnRDaGlsZHJlbi5yZW1vdmUoY2hpbGQyKTt0aGlzLmFkZEF0KGNoaWxkMixpbmRleDEpO3BhcmVudENoaWxkcmVuLmFkZEF0KGNoaWxkMSxpbmRleDIpO30sLyoqXG4gICAgKiBDaGVja3MgZm9yIHRoZSBpdGVtIHdpdGhpbiB0aGlzIGxpc3QuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuQXJyYXlTZXQjZXhpc3RzXG4gICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBlbGVtZW50IHRvIGdldCB0aGUgbGlzdCBpbmRleCBmb3IuXG4gICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBpdGVtIGlzIGZvdW5kIGluIHRoZSBsaXN0LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgKi9leGlzdHM6ZnVuY3Rpb24gZXhpc3RzKGNoaWxkKXtyZXR1cm4gdGhpcy5saXN0LmluZGV4T2YoY2hpbGQpPi0xO30sLyoqXG4gICAgKiBTZXRzIHRoZSBwcm9wZXJ0eSBga2V5YCB0byB0aGUgZ2l2ZW4gdmFsdWUgb24gYWxsIG1lbWJlcnMgb2YgdGhpcyBsaXN0LlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLkFycmF5U2V0I3NldEFsbFxuICAgICogQHBhcmFtIHthbnl9IGtleSAtIFRoZSBwcm9wZXJ0eSBvZiB0aGUgaXRlbSB0byBzZXQuXG4gICAgKiBAcGFyYW0ge2FueX0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBwcm9wZXJ0eSB0by5cbiAgICAqL3NldEFsbDpmdW5jdGlvbiBzZXRBbGwoa2V5LHZhbHVlKXtmb3IodmFyIGk9MDtpPHRoaXMubGlzdC5sZW5ndGg7aSsrKXtpZih0aGlzLmxpc3RbaV0pe3RoaXMubGlzdFtpXVtrZXldPXZhbHVlO319fSwvKipcbiAgICAqIFBhc3NlcyBhbGwgY2hpbGRyZW4gdG8gdGhlIGdpdmVuIGNhbGxiYWNrLlxuICAgICpcbiAgICAqIEBtZXRob2QgZWFjaFxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGhpc0FyZ10gLSBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGNhbGxiYWNrLlxuICAgICogQHBhcmFtIHsuLi4qfSBbYXJndW1lbnRzXSAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLCBhZnRlciB0aGUgY2hpbGQuXG4gICAgKi9lYWNoOmZ1bmN0aW9uIGVhY2goY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGFyZ3M9W251bGxdO2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe2FyZ3MucHVzaChhcmd1bWVudHNbaV0pO31mb3IoaT0wO2k8dGhpcy5saXN0Lmxlbmd0aDtpKyspe2FyZ3NbMF09dGhpcy5saXN0W2ldO2NhbGxiYWNrLmFwcGx5KHRoaXNBcmcsYXJncyk7fX0sLyoqXG4gICAgKiBNb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIEdyb3VwIHRvIHRoZSBHcm91cCBnaXZlbi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5Hcm91cCNtb3ZlQWxsXG4gICAgKiBAcGFyYW0ge1BoYXNlci5Hcm91cH0gZ3JvdXAgLSBUaGUgbmV3IEdyb3VwIHRvIHdoaWNoIHRoZSBjaGlsZHJlbiB3aWxsIGJlIG1vdmVkIHRvLlxuICAgICogQHBhcmFtIHtib29sZWFufSBbc2lsZW50PWZhbHNlXSAtIElmIHRydWUgdGhlIGNoaWxkcmVuIHdpbGwgbm90IGRpc3BhdGNoIHRoZSBgb25BZGRlZFRvR3JvdXBgIGV2ZW50IGZvciB0aGUgbmV3IEdyb3VwLlxuICAgICogQHJldHVybiB7UGhhc2VyLkdyb3VwfSBUaGUgR3JvdXAgdG8gd2hpY2ggYWxsIHRoZSBjaGlsZHJlbiB3ZXJlIG1vdmVkLlxuICAgICovcmVwYXJlbnQ6ZnVuY3Rpb24gcmVwYXJlbnQobmV3UGFyZW50KXtpZihuZXdQYXJlbnQhPT10aGlzLnNjZW5lKXtmb3IodmFyIGk9MDtpPHRoaXMubGlzdC5sZW5ndGg7aSsrKXt2YXIgY2hpbGQ9dGhpcy5yZW1vdmUodGhpcy5saXN0W2ldKTtuZXdQYXJlbnQuYWRkKGNoaWxkKTt9fXJldHVybiBuZXdQYXJlbnQ7fSxsZW5ndGg6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5saXN0Lmxlbmd0aDt9fSxmaXJzdDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3RoaXMucG9zaXRpb249MDtpZih0aGlzLmxpc3QubGVuZ3RoPjApe3JldHVybiB0aGlzLmxpc3RbMF07fWVsc2V7cmV0dXJuIG51bGw7fX19LGxhc3Q6e2dldDpmdW5jdGlvbiBnZXQoKXtpZih0aGlzLmxpc3QubGVuZ3RoPjApe3RoaXMucG9zaXRpb249dGhpcy5saXN0Lmxlbmd0aC0xO3JldHVybiB0aGlzLmxpc3RbdGhpcy5wb3NpdGlvbl07fWVsc2V7cmV0dXJuIG51bGw7fX19LG5leHQ6e2dldDpmdW5jdGlvbiBnZXQoKXtpZih0aGlzLnBvc2l0aW9uPHRoaXMubGlzdC5sZW5ndGgpe3RoaXMucG9zaXRpb24rKztyZXR1cm4gdGhpcy5saXN0W3RoaXMucG9zaXRpb25dO31lbHNle3JldHVybiBudWxsO319fSxwcmV2aW91czp7Z2V0OmZ1bmN0aW9uIGdldCgpe2lmKHRoaXMucG9zaXRpb24+MCl7dGhpcy5wb3NpdGlvbi0tO3JldHVybiB0aGlzLmxpc3RbdGhpcy5wb3NpdGlvbl07fWVsc2V7cmV0dXJuIG51bGw7fX19fSk7bW9kdWxlLmV4cG9ydHM9RGlzcGxheUxpc3Q7LyoqKi99LC8qIDE3MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBHZXRCaXRtYXBUZXh0U2l6ZT1mdW5jdGlvbiBHZXRCaXRtYXBUZXh0U2l6ZShzcmMscm91bmQpe3ZhciB0ZXh0PXNyYy50ZXh0O3ZhciB0ZXh0TGVuZ3RoPXRleHQubGVuZ3RoO3ZhciBieD1OdW1iZXIuTUFYX1ZBTFVFO3ZhciBieT1OdW1iZXIuTUFYX1ZBTFVFO3ZhciBidz0wO3ZhciBiaD0wO3ZhciBjaGFycz1zcmMuZm9udERhdGEuY2hhcnM7dmFyIGxpbmVIZWlnaHQ9c3JjLmZvbnREYXRhLmxpbmVIZWlnaHQ7dmFyIHhBZHZhbmNlPTA7dmFyIHlBZHZhbmNlPTA7dmFyIGluZGV4Q291bnQ9MDt2YXIgY2hhckNvZGU9MDt2YXIgZ2x5cGg9bnVsbDt2YXIgZ2x5cGhXPTA7dmFyIGdseXBoSD0wO3ZhciB4PTA7dmFyIHk9MDt2YXIgbGFzdEdseXBoPW51bGw7dmFyIGxhc3RDaGFyQ29kZT0wO2Zvcih2YXIgaW5kZXg9MDtpbmRleDx0ZXh0TGVuZ3RoOysraW5kZXgpe2NoYXJDb2RlPXRleHQuY2hhckNvZGVBdChpbmRleCk7aWYoY2hhckNvZGU9PT0xMCl7eEFkdmFuY2U9MDtpbmRleENvdW50PTA7eUFkdmFuY2UrPWxpbmVIZWlnaHQ7bGFzdEdseXBoPW51bGw7Y29udGludWU7fWdseXBoPWNoYXJzW2NoYXJDb2RlXTtpZighZ2x5cGgpe2NvbnRpbnVlO31nbHlwaFc9Z2x5cGgud2lkdGg7Z2x5cGhIPWdseXBoLmhlaWdodDt4PWluZGV4Q291bnQrZ2x5cGgueE9mZnNldCt4QWR2YW5jZTt5PWdseXBoLnlPZmZzZXQreUFkdmFuY2U7aWYobGFzdEdseXBoIT09bnVsbCl7dmFyIGtlcm5pbmdPZmZzZXQ9Z2x5cGgua2VybmluZ1tsYXN0Q2hhckNvZGVdO3grPWtlcm5pbmdPZmZzZXQhPT11bmRlZmluZWQ/a2VybmluZ09mZnNldDowO31pZihieD54KXtieD14O31pZihieT55KXtieT15O312YXIgZ3c9eCtnbHlwaFctYng7dmFyIGdoPXkrZ2x5cGhILWJ5O2lmKGJ3PGd3KXtidz1ndzt9aWYoYmg8Z2gpe2JoPWdoO314QWR2YW5jZSs9Z2x5cGgueEFkdmFuY2U7aW5kZXhDb3VudCs9MTtsYXN0R2x5cGg9Z2x5cGg7bGFzdENoYXJDb2RlPWNoYXJDb2RlO312YXIgc2NhbGU9c3JjLmZvbnRTaXplL3NyYy5mb250RGF0YS5zaXplO3ZhciBzeD1zY2FsZSpzcmMuc2NhbGVYO3ZhciBzeT1zY2FsZSpzcmMuc2NhbGVZO3ZhciBvdXQ9e2xvY2FsOnt4OmJ4KnNjYWxlLHk6Ynkqc2NhbGUsd2lkdGg6Yncqc2NhbGUsaGVpZ2h0OmJoKnNjYWxlfSxnbG9iYWw6e3g6c3JjLngrYngqc3gseTpzcmMueStieSpzeSx3aWR0aDpidypzeCxoZWlnaHQ6Ymgqc3l9fTtpZihyb3VuZCl7b3V0LmxvY2FsLng9TWF0aC5yb3VuZChvdXQubG9jYWwueCk7b3V0LmxvY2FsLnk9TWF0aC5yb3VuZChvdXQubG9jYWwueSk7b3V0LmxvY2FsLndpZHRoPU1hdGgucm91bmQob3V0LmxvY2FsLndpZHRoKTtvdXQubG9jYWwuaGVpZ2h0PU1hdGgucm91bmQob3V0LmxvY2FsLmhlaWdodCk7b3V0Lmdsb2JhbC54PU1hdGgucm91bmQob3V0Lmdsb2JhbC54KTtvdXQuZ2xvYmFsLnk9TWF0aC5yb3VuZChvdXQuZ2xvYmFsLnkpO291dC5nbG9iYWwud2lkdGg9TWF0aC5yb3VuZChvdXQuZ2xvYmFsLndpZHRoKTtvdXQuZ2xvYmFsLmhlaWdodD1NYXRoLnJvdW5kKG91dC5nbG9iYWwuaGVpZ2h0KTt9cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUdldEJpdG1hcFRleHRTaXplOy8qKiovfSwvKiAxNzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTaHVmZmxlPV9fd2VicGFja19yZXF1aXJlX18oMTc1KTt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgQnVpbGRDaHVuaz1mdW5jdGlvbiBCdWlsZENodW5rKGEsYixxdHkpe3ZhciBvdXQ9W107Zm9yKHZhciBhSW5kZXg9MDthSW5kZXg8YS5sZW5ndGg7YUluZGV4Kyspe2Zvcih2YXIgYkluZGV4PTA7YkluZGV4PGIubGVuZ3RoO2JJbmRleCsrKXtmb3IodmFyIGk9MDtpPHF0eTtpKyspe291dC5wdXNoKHthOmFbYUluZGV4XSxiOmJbYkluZGV4XX0pO319fXJldHVybiBvdXQ7fTsvLyAgb3B0aW9ucyA9IHJlcGVhdCwgcmFuZG9tLCByYW5kb21CLCB5b3lvLCBtYXgsIHF0eVxuLy8gIFJhbmdlIChbYSxiLGNdLCBbMSwyLDNdKSA9XG4vLyAgYTEsIGEyLCBhMywgYjEsIGIyLCBiMywgYzEsIGMyLCBjM1xuLy8gIFJhbmdlIChbYSxiXSwgWzEsMiwzXSwgcXR5ID0gMykgPVxuLy8gIGExLCBhMSwgYTEsIGEyLCBhMiwgYTIsIGEzLCBhMywgYTMsIGIxLCBiMSwgYjEsIGIyLCBiMiwgYjIsIGIzLCBiMywgYjNcbi8vICBSYW5nZSAoW2EsYixjXSwgWzEsMiwzXSwgcmVwZWF0IHgxKSA9XG4vLyAgYTEsIGEyLCBhMywgYjEsIGIyLCBiMywgYzEsIGMyLCBjMywgYTEsIGEyLCBhMywgYjEsIGIyLCBiMywgYzEsIGMyLCBjM1xuLy8gIFJhbmdlIChbYSxiXSwgWzEsMl0sIHJlcGVhdCAtMSA9IGVuZGxlc3MsIG1heCA9IDE0KSA9XG4vLyAgTWF5YmUgaWYgbWF4IGlzIHNldCB0aGVuIHJlcGVhdCBnb2VzIHRvIC0xIGF1dG9tYXRpY2FsbHk/XG4vLyAgYTEsIGEyLCBiMSwgYjIsIGExLCBhMiwgYjEsIGIyLCBhMSwgYTIsIGIxLCBiMiwgYTEsIGEyIChjYXBwZWQgYXQgMTQgZWxlbWVudHMpXG4vLyAgUmFuZ2UgKFthXSwgWzEsMiwzLDQsNV0sIHJhbmRvbSA9IHRydWUpID1cbi8vICBhNCwgYTEsIGE1LCBhMiwgYTNcbi8vICBSYW5nZSAoW2EsIGJdLCBbMSwyLDNdLCByYW5kb20gPSB0cnVlKSA9XG4vLyAgYjMsIGEyLCBhMSwgYjEsIGEzLCBiMlxuLy8gIFJhbmdlIChbYSwgYiwgY10sIFsxLDIsM10sIHJhbmRvbUIgPSB0cnVlKSA9XG4vLyAgYTMsIGExLCBhMiwgYjIsIGIzLCBiMSwgYzEsIGMzLCBjMlxuLy8gIFJhbmdlIChbYV0sIFsxLDIsMyw0LDVdLCB5b3lvID0gdHJ1ZSkgPVxuLy8gIGExLCBhMiwgYTMsIGE0LCBhNSwgYTUsIGE0LCBhMywgYTIsIGExXG4vLyAgUmFuZ2UgKFthLCBiXSwgWzEsMiwzXSwgeW95byA9IHRydWUpID1cbi8vICBhMSwgYTIsIGEzLCBiMSwgYjIsIGIzLCBiMywgYjIsIGIxLCBhMywgYTIsIGExXG52YXIgUmFuZ2U9ZnVuY3Rpb24gUmFuZ2UoYSxiLG9wdGlvbnMpe3ZhciBtYXg9R2V0VmFsdWUob3B0aW9ucywnbWF4JywwKTt2YXIgcXR5PUdldFZhbHVlKG9wdGlvbnMsJ3F0eScsMSk7dmFyIHJhbmRvbT1HZXRWYWx1ZShvcHRpb25zLCdyYW5kb20nLGZhbHNlKTt2YXIgcmFuZG9tQj1HZXRWYWx1ZShvcHRpb25zLCdyYW5kb21CJyxmYWxzZSk7dmFyIHJlcGVhdD1HZXRWYWx1ZShvcHRpb25zLCdyZXBlYXQnLDApO3ZhciB5b3lvPUdldFZhbHVlKG9wdGlvbnMsJ3lveW8nLGZhbHNlKTt2YXIgb3V0PVtdO2lmKHJhbmRvbUIpe1NodWZmbGUoYik7fS8vICBFbmRsZXNzIHJlcGVhdCwgc28gbGltaXQgYnkgbWF4XG5pZihyZXBlYXQ9PT0tMSl7aWYobWF4PT09MCl7cmVwZWF0PTA7fWVsc2V7Ly8gIFdvcmsgb3V0IGhvdyBtYW55IHJlcGVhdHMgd2UgbmVlZFxudmFyIHRvdGFsPWEubGVuZ3RoKmIubGVuZ3RoKnF0eTtpZih5b3lvKXt0b3RhbCo9Mjt9cmVwZWF0PU1hdGguY2VpbChtYXgvdG90YWwpO319Zm9yKHZhciBpPTA7aTw9cmVwZWF0O2krKyl7dmFyIGNodW5rPUJ1aWxkQ2h1bmsoYSxiLHF0eSk7aWYocmFuZG9tKXtTaHVmZmxlKGNodW5rKTt9b3V0PW91dC5jb25jYXQoY2h1bmspO2lmKHlveW8pe2NodW5rLnJldmVyc2UoKTtvdXQ9b3V0LmNvbmNhdChjaHVuayk7fX1pZihtYXgpe291dC5zcGxpY2UobWF4KTt9cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPVJhbmdlOy8qKiovfSwvKiAxNzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogQSBzdGFuZGFyZCBGaXNoZXItWWF0ZXMgQXJyYXkgc2h1ZmZsZSBpbXBsZW1lbnRhdGlvbiB3aGljaCBtb2RpZmllcyB0aGUgYXJyYXkgaW4gcGxhY2UuXG4qXG4qIEBtZXRob2RcbiogQHBhcmFtIHthbnlbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiogQHJldHVybiB7YW55W119IFRoZSBvcmlnaW5hbCBhcnJheSwgbm93IHNodWZmbGVkLlxuKi92YXIgU2h1ZmZsZT1mdW5jdGlvbiBTaHVmZmxlKGFycmF5KXtmb3IodmFyIGk9YXJyYXkubGVuZ3RoLTE7aT4wO2ktLSl7dmFyIGo9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihpKzEpKTt2YXIgdGVtcD1hcnJheVtpXTthcnJheVtpXT1hcnJheVtqXTthcnJheVtqXT10ZW1wO31yZXR1cm4gYXJyYXk7fTttb2R1bGUuZXhwb3J0cz1TaHVmZmxlOy8qKiovfSwvKiAxNzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmdW5jdGlvbiBnZXRWYWx1ZShub2RlLGF0dHJpYnV0ZSl7cmV0dXJuIHBhcnNlSW50KG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSksMTApO312YXIgUGFyc2VYTUxCaXRtYXBGb250PWZ1bmN0aW9uIFBhcnNlWE1MQml0bWFwRm9udCh4bWwseFNwYWNpbmcseVNwYWNpbmcsZnJhbWUpe2lmKHhTcGFjaW5nPT09dW5kZWZpbmVkKXt4U3BhY2luZz0wO31pZih5U3BhY2luZz09PXVuZGVmaW5lZCl7eVNwYWNpbmc9MDt9dmFyIGRhdGE9e307dmFyIGluZm89eG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF07dmFyIGNvbW1vbj14bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpWzBdO2RhdGEuZm9udD1pbmZvLmdldEF0dHJpYnV0ZSgnZmFjZScpO2RhdGEuc2l6ZT1nZXRWYWx1ZShpbmZvLCdzaXplJyk7ZGF0YS5saW5lSGVpZ2h0PWdldFZhbHVlKGNvbW1vbiwnbGluZUhlaWdodCcpK3lTcGFjaW5nO2RhdGEuY2hhcnM9e307dmFyIGxldHRlcnM9eG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7dmFyIHg9MDt2YXIgeT0wO3ZhciBjeD0wO3ZhciBjeT0wO3ZhciBhZGp1c3RGb3JUcmltPWZyYW1lIT09dW5kZWZpbmVkJiZmcmFtZS50cmltbWVkO2lmKGFkanVzdEZvclRyaW0pe3ZhciB0b3A9ZnJhbWUuaGVpZ2h0O3ZhciBsZWZ0PWZyYW1lLndpZHRoO312YXIgZGlmZj0wO2Zvcih2YXIgaT0wO2k8bGV0dGVycy5sZW5ndGg7aSsrKXt2YXIgbm9kZT1sZXR0ZXJzW2ldO3ZhciBjaGFyQ29kZT1nZXRWYWx1ZShub2RlLCdpZCcpO3ZhciBneD1nZXRWYWx1ZShub2RlLCd4Jyk7dmFyIGd5PWdldFZhbHVlKG5vZGUsJ3knKTt2YXIgZ3c9Z2V0VmFsdWUobm9kZSwnd2lkdGgnKTt2YXIgZ2g9Z2V0VmFsdWUobm9kZSwnaGVpZ2h0Jyk7Ly8gIEhhbmRsZSBmcmFtZSB0cmltIGlzc3Vlc1xuaWYoYWRqdXN0Rm9yVHJpbSl7Ly8gaWYgKGd4ICsgZ3cgPiBmcmFtZS53aWR0aClcbi8vIHtcbi8vICAgICBkaWZmID0gZnJhbWUud2lkdGggLSAoZ3ggKyBndyk7XG4vLyBndyAtPSBkaWZmO1xuLy8gfVxuLy8gaWYgKGd5ICsgZ2ggPiBmcmFtZS5oZWlnaHQpXG4vLyB7XG4vLyAgICAgZGlmZiA9IGZyYW1lLmhlaWdodCAtIChneSArIGdoKTtcbi8vIGdoIC09IGRpZmY7XG4vLyB9XG5pZihneDxsZWZ0KXtsZWZ0PWd4O31pZihneTx0b3Ape3RvcD1neTt9fWRhdGEuY2hhcnNbY2hhckNvZGVdPXt4Omd4LHk6Z3ksd2lkdGg6Z3csaGVpZ2h0OmdoLGNlbnRlclg6TWF0aC5mbG9vcihndy8yKSxjZW50ZXJZOk1hdGguZmxvb3IoZ2gvMikseE9mZnNldDpnZXRWYWx1ZShub2RlLCd4b2Zmc2V0JykseU9mZnNldDpnZXRWYWx1ZShub2RlLCd5b2Zmc2V0JykseEFkdmFuY2U6Z2V0VmFsdWUobm9kZSwneGFkdmFuY2UnKSt4U3BhY2luZyxkYXRhOnt9LGtlcm5pbmc6e319O31pZihhZGp1c3RGb3JUcmltJiZ0b3AhPT0wJiZsZWZ0IT09MCl7Ly8gY29uc29sZS5sb2coJ3RvcCBhbmQgbGVmdCcsIHRvcCwgbGVmdCwgZnJhbWUueCwgZnJhbWUueSk7XG4vLyAgTm93IHdlIGtub3cgdGhlIHRvcCBhbmQgbGVmdCBjb29yZGluYXRlcyBvZiB0aGUgZ2x5cGhzIGluIHRoZSBvcmlnaW5hbCBkYXRhXG4vLyAgc28gd2UgY2FuIHdvcmsgb3V0IGhvdyBtdWNoIHRvIGFkanVzdCB0aGUgZ2x5cGhzIGJ5XG5mb3IodmFyIGNvZGUgaW4gZGF0YS5jaGFycyl7dmFyIGdseXBoPWRhdGEuY2hhcnNbY29kZV07Z2x5cGgueC09ZnJhbWUueDtnbHlwaC55LT1mcmFtZS55O319dmFyIGtlcm5pbmdzPXhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO2ZvcihpPTA7aTxrZXJuaW5ncy5sZW5ndGg7aSsrKXt2YXIga2Vybj1rZXJuaW5nc1tpXTt2YXIgZmlyc3Q9Z2V0VmFsdWUoa2VybiwnZmlyc3QnKTt2YXIgc2Vjb25kPWdldFZhbHVlKGtlcm4sJ3NlY29uZCcpO3ZhciBhbW91bnQ9Z2V0VmFsdWUoa2VybiwnYW1vdW50Jyk7ZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdPWFtb3VudDt9cmV0dXJuIGRhdGE7fTttb2R1bGUuZXhwb3J0cz1QYXJzZVhNTEJpdG1hcEZvbnQ7LyoqKi99LC8qIDE3NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg2KTt2YXIgQ29tcG9uZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO3ZhciBSZW5kZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1ODcpO3ZhciBMaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU5Mik7dmFyIFNwcml0ZU5vcm1hbFBhaXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1OTMpO3ZhciBXZWJHTFN1cHBvcnRlZEV4dGVuc2lvbnM9X193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO3ZhciBUZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzOCk7dmFyIENvbnN0PV9fd2VicGFja19yZXF1aXJlX18oNTk0KTt2YXIgTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMTMpO3ZhciBUZW1wTWF0cml4PW5ldyBNYXRyaXgoKTsvLyBodHRwOi8vY3BldHJ5LmdpdGh1Yi5pby9Ob3JtYWxNYXAtT25saW5lL1xudmFyIExpZ2h0TGF5ZXI9bmV3IENsYXNzKHtFeHRlbmRzOkdhbWVPYmplY3QsTWl4aW5zOltDb21wb25lbnRzLkFscGhhLENvbXBvbmVudHMuQmxlbmRNb2RlLENvbXBvbmVudHMuT3JpZ2luLENvbXBvbmVudHMuUmVuZGVyVGFyZ2V0LENvbXBvbmVudHMuU2Nyb2xsRmFjdG9yLENvbXBvbmVudHMuVmlzaWJsZSxSZW5kZXJdLGluaXRpYWxpemU6ZnVuY3Rpb24gTGlnaHRMYXllcihzY2VuZSl7R2FtZU9iamVjdC5jYWxsKHRoaXMsc2NlbmUsJ0xpZ2h0TGF5ZXInKTt2YXIgcmVzb3VyY2VNYW5hZ2VyPXNjZW5lLmdhbWUucmVuZGVyZXIucmVzb3VyY2VNYW5hZ2VyO3RoaXMucmVuZGVyZXI9c2NlbmUuZ2FtZS5yZW5kZXJlcjt0aGlzLnBhc3NTaGFkZXI9bnVsbDt0aGlzLmdsPW51bGw7dGhpcy5kZWZlcnJlZD1XZWJHTFN1cHBvcnRlZEV4dGVuc2lvbnMuaGFzKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTt0aGlzLmFtYmllbnRMaWdodENvbG9yUj0wLjA7dGhpcy5hbWJpZW50TGlnaHRDb2xvckc9MC4wO3RoaXMuYW1iaWVudExpZ2h0Q29sb3JCPTAuMDt0aGlzLmxpZ2h0UG9vbD1bXTt0aGlzLnNwcml0ZVBvb2w9W107dGhpcy5saWdodHM9W107dGhpcy5zcHJpdGVzPVtdO3RoaXMubGlnaHRzTG9jYXRpb25zPVtdO3RoaXMuX3o9MDtpZihyZXNvdXJjZU1hbmFnZXIhPT11bmRlZmluZWQmJiF0aGlzLmRlZmVycmVkKXt0aGlzLmdsPXNjZW5lLmdhbWUucmVuZGVyZXIuZ2w7dGhpcy5wYXNzU2hhZGVyPXJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoJ1Bob25nMkRTaGFkZXJGb3J3YXJkJyx7dmVydDpUZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXIudmVydCxmcmFnOidcXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuXFxuICAgICAgICAgICAgICAgIHN0cnVjdCBMaWdodFxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICB2ZWMzIHBvc2l0aW9uO1xcbiAgICAgICAgICAgICAgICAgICAgdmVjMyBjb2xvcjtcXG4gICAgICAgICAgICAgICAgICAgIGZsb2F0IGF0dGVudWF0aW9uO1xcbiAgICAgICAgICAgICAgICB9O1xcblxcbiAgICAgICAgICAgICAgICB1bmlmb3JtIHZlYzIgdVJlc29sdXRpb247XFxuICAgICAgICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVNYWluVGV4dHVyZTtcXG4gICAgICAgICAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdU5vcm1UZXh0dXJlO1xcbiAgICAgICAgICAgICAgICB1bmlmb3JtIHZlYzMgdUFtYmllbnRMaWdodENvbG9yO1xcbiAgICAgICAgICAgICAgICB1bmlmb3JtIExpZ2h0IHVMaWdodHNbJytDb25zdC5NQVhfTElHSFRTKyddO1xcblxcbiAgICAgICAgICAgICAgICB2YXJ5aW5nIHZlYzIgdl90ZXhfY29vcmQ7XFxuICAgICAgICAgICAgICAgIHZhcnlpbmcgdmVjMyB2X2NvbG9yO1xcbiAgICAgICAgICAgICAgICB2YXJ5aW5nIGZsb2F0IHZfYWxwaGE7XFxuICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICB2b2lkIG1haW4oKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICB2ZWMzIGZpbmFsQ29sb3IgPSB2ZWMzKDAuMCwgMC4wLCAwLjApO1xcbiAgICAgICAgICAgICAgICAgICAgdmVjNCBzcHJpdGVDb2xvciA9IHRleHR1cmUyRCh1TWFpblRleHR1cmUsIHZfdGV4X2Nvb3JkKSAqIHZlYzQodl9jb2xvciwgdl9hbHBoYSk7XFxuICAgICAgICAgICAgICAgICAgICB2ZWMzIHNwcml0ZU5vcm1hbCA9IHRleHR1cmUyRCh1Tm9ybVRleHR1cmUsIHZfdGV4X2Nvb3JkKS5yZ2I7XFxuICAgICAgICAgICAgICAgICAgICB2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSh2ZWMzKHNwcml0ZU5vcm1hbCAqIDIuMCAtIDEuMCkpO1xcblxcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaW5kZXggPSAwOyBpbmRleCA8ICcrQ29uc3QuTUFYX0xJR0hUUysnOyArK2luZGV4KVxcbiAgICAgICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIExpZ2h0IGxpZ2h0ID0gdUxpZ2h0c1tpbmRleF07XFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQgbGlnaHRZID0gdVJlc29sdXRpb24ueSAtIGxpZ2h0LnBvc2l0aW9uLnk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVjMyBsaWdodERpciA9IHZlYzMoKHZlYzIobGlnaHQucG9zaXRpb24ueCwgbGlnaHRZKSAvIHVSZXNvbHV0aW9uKSAtIChnbF9GcmFnQ29vcmQueHkgLyB1UmVzb2x1dGlvbiksIGxpZ2h0LnBvc2l0aW9uLnopOyBcXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWMzIGxpZ2h0Tm9ybWFsID0gbm9ybWFsaXplKGxpZ2h0RGlyKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBkaXN0VG9TdXJmID0gbGVuZ3RoKGxpZ2h0RGlyKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBkaWZmdXNlRmFjdG9yID0gbWF4KGRvdChub3JtYWwsIGxpZ2h0Tm9ybWFsKSwgMC4wKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBhdHRlbnVhdGlvbiA9IDEuMCAvICgxLjAgKyBsaWdodC5hdHRlbnVhdGlvbiAqIChkaXN0VG9TdXJmICogZGlzdFRvU3VyZikpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzMgZGlmZnVzZSA9IGxpZ2h0LmNvbG9yICogc3ByaXRlQ29sb3IucmdiICogZGlmZnVzZUZhY3RvcjtcXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbENvbG9yICs9IGF0dGVudWF0aW9uICogZGlmZnVzZTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQodUFtYmllbnRMaWdodENvbG9yICsgZmluYWxDb2xvciwgc3ByaXRlQ29sb3IuYSk7XFxuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgJ30pO3RoaXMuYW1iaWVudExpZ2h0Q29sb3JMb2M9dGhpcy5wYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndUFtYmllbnRMaWdodENvbG9yJyk7dGhpcy51TWFpblRleHR1cmVMb2M9dGhpcy5wYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndU1haW5UZXh0dXJlJyk7dGhpcy51Tm9ybVRleHR1cmVMb2M9dGhpcy5wYXNzU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndU5vcm1UZXh0dXJlJyk7dGhpcy51UmVzb2x1dGlvbkxvYz10aGlzLnBhc3NTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKCd1UmVzb2x1dGlvbicpO3RoaXMucGFzc1NoYWRlci5zZXRDb25zdGFudEludDEodGhpcy51TWFpblRleHR1cmVMb2MsMCk7dGhpcy5wYXNzU2hhZGVyLnNldENvbnN0YW50SW50MSh0aGlzLnVOb3JtVGV4dHVyZUxvYywxKTtmb3IodmFyIGluZGV4PTA7aW5kZXg8Q29uc3QuTUFYX0xJR0hUUzsrK2luZGV4KXt0aGlzLmxpZ2h0c0xvY2F0aW9uc1tpbmRleF09e3Bvc2l0aW9uOnRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VMaWdodHNbJytpbmRleCsnXS5wb3NpdGlvbicpLGNvbG9yOnRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VMaWdodHNbJytpbmRleCsnXS5jb2xvcicpLGF0dGVudWF0aW9uOnRoaXMucGFzc1NoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VMaWdodHNbJytpbmRleCsnXS5hdHRlbnVhdGlvbicpfTt9fXRoaXMuc2V0T3JpZ2luKDAsMCk7fSxnZXQgeigpe3JldHVybiB0aGlzLl96O30sc2V0IHoobmV3Wil7dGhpcy5fej1uZXdaO30sc2V0QW1iaWVudExpZ2h0Q29sb3I6ZnVuY3Rpb24gc2V0QW1iaWVudExpZ2h0Q29sb3IocixnLGIpe3RoaXMuYW1iaWVudExpZ2h0Q29sb3JSPXI7dGhpcy5hbWJpZW50TGlnaHRDb2xvckc9Zzt0aGlzLmFtYmllbnRMaWdodENvbG9yQj1iO30sZ2V0TWF4TGlnaHRzOmZ1bmN0aW9uIGdldE1heExpZ2h0cygpe3JldHVybiBDb25zdC5NQVhfTElHSFRTO30sLyogVGhpcyB3aWxsIHByb2JhYmx5IGJlIHJlbW92ZWQgbGF0ZXIgKi9hZGRTcHJpdGU6ZnVuY3Rpb24gYWRkU3ByaXRlKHNwcml0ZSxub3JtYWxUZXh0dXJlKXt2YXIgc3ByaXRlTm9ybWFsUGFpcjtpZih0aGlzLnNwcml0ZVBvb2wubGVuZ3RoPjApe3Nwcml0ZU5vcm1hbFBhaXI9dGhpcy5zcHJpdGVQb29sLnBvcCgpO3Nwcml0ZU5vcm1hbFBhaXIuc2V0KHNwcml0ZSxub3JtYWxUZXh0dXJlKTt9ZWxzZXtzcHJpdGVOb3JtYWxQYWlyPW5ldyBTcHJpdGVOb3JtYWxQYWlyKHNwcml0ZSxub3JtYWxUZXh0dXJlKTt9dGhpcy5zY2VuZS5zeXMuZGlzcGxheUxpc3QucmVtb3ZlKHNwcml0ZSk7dGhpcy5zcHJpdGVzLnB1c2goc3ByaXRlTm9ybWFsUGFpcik7fSxyZW1vdmVTcHJpdGU6ZnVuY3Rpb24gcmVtb3ZlU3ByaXRlKHNwcml0ZSl7dmFyIGxlbmd0aD10aGlzLnNwcml0ZXMubGVuZ3RoO2Zvcih2YXIgaW5kZXg9MDtpbmRleDxsZW5ndGg7KytpbmRleCl7aWYodGhpcy5zcHJpdGVzW2luZGV4XS5zcHJpdGVSZWY9PT1zcHJpdGUpe3RoaXMuc3ByaXRlUG9vbC5wdXNoKHRoaXMuc3ByaXRlc1tpbmRleF0pO3RoaXMuc3ByaXRlcy5zcGxpY2UoaW5kZXgsMSk7YnJlYWs7fX1yZXR1cm4gc3ByaXRlO30sYWRkTGlnaHQ6ZnVuY3Rpb24gYWRkTGlnaHQoeCx5LHoscixnLGIsYXR0ZW51YXRpb24pe2lmKHRoaXMubGlnaHRzLmxlbmd0aDxDb25zdC5NQVhfTElHSFRTKXt2YXIgbGlnaHQ9bnVsbDtpZih0aGlzLmxpZ2h0UG9vbC5sZW5ndGg+MCl7bGlnaHQ9dGhpcy5saWdodFBvb2wucG9wKCk7bGlnaHQuc2V0KHgseSx6LHIsZyxiLGF0dGVudWF0aW9uKTt9ZWxzZXtsaWdodD1uZXcgTGlnaHQoeCx5LHoscixnLGIsYXR0ZW51YXRpb24pO310aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtyZXR1cm4gbGlnaHQ7fXJldHVybiBudWxsO30scmVtb3ZlTGlnaHQ6ZnVuY3Rpb24gcmVtb3ZlTGlnaHQobGlnaHQpe3ZhciBpbmRleD10aGlzLmxpZ2h0cy5pbmRleE9mKGxpZ2h0KTtpZihpbmRleD49MCl7dGhpcy5saWdodFBvb2wucHVzaChsaWdodCk7dGhpcy5saWdodHMuc3BsaWNlKGluZGV4LDEpO319LHVwZGF0ZUxpZ2h0czpmdW5jdGlvbiB1cGRhdGVMaWdodHMocmVuZGVyZXIsY2FtZXJhKXtpZih0aGlzLmdsIT09bnVsbCl7dmFyIGxvY2F0aW9ucz10aGlzLmxpZ2h0c0xvY2F0aW9uczt2YXIgbGlnaHRzPXRoaXMubGlnaHRzO3ZhciBsZW5ndGg9bGlnaHRzLmxlbmd0aDt2YXIgZ2w9dGhpcy5nbDt2YXIgcGFzc1NoYWRlcj10aGlzLnBhc3NTaGFkZXI7dmFyIHBvaW50PXt4OjAseTowfTtwYXNzU2hhZGVyLnNldENvbnN0YW50RmxvYXQyKHRoaXMudVJlc29sdXRpb25Mb2MscmVuZGVyZXIud2lkdGgscmVuZGVyZXIuaGVpZ2h0KTtwYXNzU2hhZGVyLnNldENvbnN0YW50RmxvYXQzKHRoaXMuYW1iaWVudExpZ2h0Q29sb3JMb2MsdGhpcy5hbWJpZW50TGlnaHRDb2xvclIsdGhpcy5hbWJpZW50TGlnaHRDb2xvckcsdGhpcy5hbWJpZW50TGlnaHRDb2xvckIpO1RlbXBNYXRyaXguYXBwbHlJVFJTKGNhbWVyYS54LGNhbWVyYS55LGNhbWVyYS5yb3RhdGlvbixjYW1lcmEuem9vbSxjYW1lcmEuem9vbSk7Zm9yKHZhciBpbmRleD0wO2luZGV4PGxlbmd0aDsrK2luZGV4KXt2YXIgbGlnaHQ9bGlnaHRzW2luZGV4XTtUZW1wTWF0cml4LnRyYW5zZm9ybVBvaW50KGxpZ2h0LngsbGlnaHQueSxwb2ludCk7cGFzc1NoYWRlci5zZXRDb25zdGFudEZsb2F0Myhsb2NhdGlvbnNbaW5kZXhdLnBvc2l0aW9uLHBvaW50LngtY2FtZXJhLnNjcm9sbFgqbGlnaHQuc2Nyb2xsRmFjdG9yWCxwb2ludC55LWNhbWVyYS5zY3JvbGxZKmxpZ2h0LnNjcm9sbEZhY3RvclksbGlnaHQueik7cGFzc1NoYWRlci5zZXRDb25zdGFudEZsb2F0Myhsb2NhdGlvbnNbaW5kZXhdLmNvbG9yLGxpZ2h0LnIsbGlnaHQuZyxsaWdodC5iKTtwYXNzU2hhZGVyLnNldENvbnN0YW50RmxvYXQxKGxvY2F0aW9uc1tpbmRleF0uYXR0ZW51YXRpb24sbGlnaHQuYXR0ZW51YXRpb24pO319fX0pO21vZHVsZS5leHBvcnRzPUxpZ2h0TGF5ZXI7LyoqKi99LC8qIDE3OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBXZWJHTFN1cHBvcnRlZEV4dGVuc2lvbnM9ZnVuY3Rpb24oKXt2YXIgZ2w9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnd2ViZ2wnKTt2YXIgZXh0ZW5zaW9uTGlzdD1nbD9nbC5nZXRTdXBwb3J0ZWRFeHRlbnNpb25zKCk6W107cmV0dXJue2hhczpmdW5jdGlvbiBoYXMobmFtZSl7cmV0dXJuIGZhbHNlOy8vZXh0ZW5zaW9uTGlzdC5pbmRleE9mKG5hbWUpID49IDA7XG59fTt9KCk7bW9kdWxlLmV4cG9ydHM9V2ViR0xTdXBwb3J0ZWRFeHRlbnNpb25zOy8qKiovfSwvKiAxNzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBOT09QPV9fd2VicGFja19yZXF1aXJlX18oMjgpOy8vICBQaGFzZXIuSW5wdXQuSW50ZXJhY3RpdmVPYmplY3RcbnZhciBJbnRlcmFjdGl2ZU9iamVjdD1mdW5jdGlvbiBJbnRlcmFjdGl2ZU9iamVjdChnYW1lT2JqZWN0LGhpdEFyZWEsaGl0QXJlYUNhbGxiYWNrKXtyZXR1cm57Z2FtZU9iamVjdDpnYW1lT2JqZWN0LGVuYWJsZWQ6dHJ1ZSxkcmFnZ2FibGU6ZmFsc2UsZHJvcFpvbmU6ZmFsc2UsdGFyZ2V0Om51bGwsY2FtZXJhOm51bGwsaGl0QXJlYTpoaXRBcmVhLGhpdEFyZWFDYWxsYmFjazpoaXRBcmVhQ2FsbGJhY2ssbG9jYWxYOjAsbG9jYWxZOjAsLy8gIDAgPSBOb3QgYmVpbmcgZHJhZ2dlZFxuLy8gIDEgPSBCZWluZyBjaGVja2VkIGZvciBkcmFnZ2luZ1xuLy8gIDIgPSBCZWluZyBkcmFnZ2VkXG5kcmFnU3RhdGU6MCxkcmFnU3RhcnRYOjAsZHJhZ1N0YXJ0WTowLGRyYWdYOjAsZHJhZ1k6MCwvLyAgQ2FsbGJhY2tzXG5jYWxsYmFja0NvbnRleHQ6Z2FtZU9iamVjdCwvLyAgZ2FtZU9iamVjdCwgcG9pbnRlciwgeCwgeVxub25VcDpOT09QLC8vICBnYW1lT2JqZWN0LCBwb2ludGVyLCB4LCB5XG5vbkRvd246Tk9PUCwvLyAgZ2FtZU9iamVjdCwgcG9pbnRlciwgeCwgeVxub25PdmVyOk5PT1AsLy8gIGdhbWVPYmplY3QsIHBvaW50ZXJcbm9uT3V0Ok5PT1AsLy8gIGdhbWVPYmplY3QsIHBvaW50ZXIsIHgsIHlcbm9uTW92ZTpOT09QLG9uRHJhZ1N0YXJ0Ok5PT1Asb25EcmFnOk5PT1Asb25EcmFnRW5kOk5PT1B9O307bW9kdWxlLmV4cG9ydHM9SW50ZXJhY3RpdmVPYmplY3Q7LyoqKi99LC8qIDE4MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBDcmVhdGUgYW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSByYW5nZSBvZiBudW1iZXJzICh1c3VhbGx5IGludGVnZXJzKSwgYmV0d2VlbiwgYW5kIGluY2x1c2l2ZSBvZixcbiogdGhlIGdpdmVuIGBzdGFydGAgYW5kIGBlbmRgIGFyZ3VtZW50cy4gRm9yIGV4YW1wbGU6XG4qXG4qIGB2YXIgYXJyYXkgPSBudW1iZXJBcnJheSgyLCA0KTsgLy8gYXJyYXkgPSBbMiwgMywgNF1gXG4qIGB2YXIgYXJyYXkgPSBudW1iZXJBcnJheSgwLCA5KTsgLy8gYXJyYXkgPSBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV1gXG4qIFxuKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gYG51bWJlckFycmF5U3RlcChzdGFydCwgZW5kLCAxKWAuXG4qIFxuKiBZb3UgY2FuIG9wdGlvbmFsbHkgcHJvdmlkZSBhIHByZWZpeCBhbmQgLyBvciBzdWZmaXggc3RyaW5nLiBJZiBnaXZlbiB0aGUgYXJyYXkgd2lsbCBjb250YWluXG4qIHN0cmluZ3MsIG5vdCBpbnRlZ2Vycy4gRm9yIGV4YW1wbGU6XG4qIFxuKiBgdmFyIGFycmF5ID0gbnVtYmVyQXJyYXkoMSwgNCwgJ0xldmVsICcpOyAvLyBhcnJheSA9IFtcIkxldmVsIDFcIiwgXCJMZXZlbCAyXCIsIFwiTGV2ZWwgM1wiLCBcIkxldmVsIDRcIl1gXG4qIGB2YXIgYXJyYXkgPSBudW1iZXJBcnJheSg1LCA3LCAnSEQtJywgJy5wbmcnKTsgLy8gYXJyYXkgPSBbXCJIRC01LnBuZ1wiLCBcIkhELTYucG5nXCIsIFwiSEQtNy5wbmdcIl1gXG4qXG4qIEBtZXRob2QgUGhhc2VyLkFycmF5VXRpbHMjbnVtYmVyQXJyYXlcbiogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IC0gVGhlIG1pbmltdW0gdmFsdWUgdGhlIGFycmF5IHN0YXJ0cyB3aXRoLlxuKiBAcGFyYW0ge251bWJlcn0gZW5kIC0gVGhlIG1heGltdW0gdmFsdWUgdGhlIGFycmF5IGNvbnRhaW5zLlxuKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeF0gLSBPcHRpb25hbCBwcmVmaXggdG8gcGxhY2UgYmVmb3JlIHRoZSBudW1iZXIuIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGNvbnRhaW4gc3RyaW5ncywgbm90IGludGVnZXJzLlxuKiBAcGFyYW0ge3N0cmluZ30gW3N1ZmZpeF0gLSBPcHRpb25hbCBzdWZmaXggdG8gcGxhY2UgYWZ0ZXIgdGhlIG51bWJlci4gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgY29udGFpbiBzdHJpbmdzLCBub3QgaW50ZWdlcnMuXG4qIEByZXR1cm4ge251bWJlcltdfHN0cmluZ1tdfSBUaGUgYXJyYXkgb2YgbnVtYmVyIHZhbHVlcywgb3Igc3RyaW5ncyBpZiBhIHByZWZpeCBvciBzdWZmaXggd2FzIHByb3ZpZGVkLlxuKi92YXIgTnVtYmVyQXJyYXk9ZnVuY3Rpb24gTnVtYmVyQXJyYXkoc3RhcnQsZW5kLHByZWZpeCxzdWZmaXgpe3ZhciByZXN1bHQ9W107Zm9yKHZhciBpPXN0YXJ0O2k8PWVuZDtpKyspe2lmKHByZWZpeHx8c3VmZml4KXt2YXIga2V5PXByZWZpeD9wcmVmaXgraS50b1N0cmluZygpOmkudG9TdHJpbmcoKTtpZihzdWZmaXgpe2tleT1rZXkuY29uY2F0KHN1ZmZpeCk7fXJlc3VsdC5wdXNoKGtleSk7fWVsc2V7cmVzdWx0LnB1c2goaSk7fX1yZXR1cm4gcmVzdWx0O307bW9kdWxlLmV4cG9ydHM9TnVtYmVyQXJyYXk7LyoqKi99LC8qIDE4MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFhIUlNldHRpbmdzPV9fd2VicGFja19yZXF1aXJlX18oODcpOy8vICBUYWtlcyB0d28gWEhSIE9iamVjdHMgYW5kIGNyZWF0ZXMgYSBuZXcgb2JqZWN0XG4vLyAgVGhlIG5ldyBvYmplY3QgaXMgYmFzZWQgb24gZ2xvYmFsIGluaXRpYWxseSwgYnV0IGFueSBzZXR0aW5nIGluXG4vLyAgbG9jYWwgb3ZlcnJpZGVzIHRoZSBnbG9iYWwgdmFsdWUuXG52YXIgTWVyZ2VYSFJTZXR0aW5ncz1mdW5jdGlvbiBNZXJnZVhIUlNldHRpbmdzKGdsb2JhbCxsb2NhbCl7dmFyIG91dHB1dD1nbG9iYWw9PT11bmRlZmluZWQ/WEhSU2V0dGluZ3MoKTpPYmplY3QuYXNzaWduKGdsb2JhbCk7aWYobG9jYWwpe2Zvcih2YXIgc2V0dGluZyBpbiBsb2NhbCl7aWYobG9jYWxbc2V0dGluZ10hPT11bmRlZmluZWQpe291dHB1dFtzZXR0aW5nXT1sb2NhbFtzZXR0aW5nXTt9fX1yZXR1cm4gb3V0cHV0O307bW9kdWxlLmV4cG9ydHM9TWVyZ2VYSFJTZXR0aW5nczsvKioqL30sLyogMTgyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMik7dmFyIEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXygyMyk7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO3ZhciBQYXJzZVhNTD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyOCk7Ly8gIFBoYXNlci5Mb2FkZXIuRmlsZVR5cGVzLlhNTEZpbGVcbnZhciBYTUxGaWxlPW5ldyBDbGFzcyh7RXh0ZW5kczpGaWxlLGluaXRpYWxpemU6ZnVuY3Rpb24gWE1MRmlsZShrZXksdXJsLHBhdGgseGhyU2V0dGluZ3Mpe3ZhciBmaWxlS2V5PXR5cGVvZiBrZXk9PT0nc3RyaW5nJz9rZXk6R2V0RmFzdFZhbHVlKGtleSwna2V5JywnJyk7dmFyIGZpbGVDb25maWc9e3R5cGU6J3htbCcsZXh0ZW5zaW9uOkdldEZhc3RWYWx1ZShrZXksJ2V4dGVuc2lvbicsJ3htbCcpLHJlc3BvbnNlVHlwZTondGV4dCcsa2V5OmZpbGVLZXksdXJsOkdldEZhc3RWYWx1ZShrZXksJ2ZpbGUnLHVybCkscGF0aDpwYXRoLHhoclNldHRpbmdzOkdldEZhc3RWYWx1ZShrZXksJ3hocicseGhyU2V0dGluZ3MpfTtGaWxlLmNhbGwodGhpcyxmaWxlQ29uZmlnKTt9LG9uUHJvY2VzczpmdW5jdGlvbiBvblByb2Nlc3MoY2FsbGJhY2spe3RoaXMuc3RhdGU9Q09OU1QuRklMRV9QUk9DRVNTSU5HO3RoaXMuZGF0YT1QYXJzZVhNTCh0aGlzLnhockxvYWRlci5yZXNwb25zZVRleHQpO2lmKHRoaXMuZGF0YT09PW51bGwpe3Rocm93IG5ldyBFcnJvcignWE1MRmlsZTogSW52YWxpZCBYTUwnKTt9dGhpcy5vbkNvbXBsZXRlKCk7Y2FsbGJhY2sodGhpcyk7fX0pO1hNTEZpbGUuY3JlYXRlPWZ1bmN0aW9uKGxvYWRlcixrZXksdXJsLHhoclNldHRpbmdzKXtpZihBcnJheS5pc0FycmF5KGtleSkpe2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspey8vICBJZiBpdCdzIGFuIGFycmF5IGl0IGhhcyB0byBiZSBhbiBhcnJheSBvZiBPYmplY3RzLCBzbyB3ZSBnZXQgZXZlcnl0aGluZyBvdXQgb2YgdGhlICdrZXknIG9iamVjdFxubG9hZGVyLmFkZEZpbGUobmV3IFhNTEZpbGUoa2V5W2ldLHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO319ZWxzZXtsb2FkZXIuYWRkRmlsZShuZXcgWE1MRmlsZShrZXksdXJsLGxvYWRlci5wYXRoLHhoclNldHRpbmdzKSk7fS8vICBGb3IgbWV0aG9kIGNoYWluaW5nXG5yZXR1cm4gbG9hZGVyO307bW9kdWxlLmV4cG9ydHM9WE1MRmlsZTsvKioqL30sLyogMTgzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFJlY3RhbmdsZVRvUmVjdGFuZ2xlPWZ1bmN0aW9uIFJlY3RhbmdsZVRvUmVjdGFuZ2xlKHJlY3RBLHJlY3RCKXtpZihyZWN0QS53aWR0aDw9MHx8cmVjdEEuaGVpZ2h0PD0wfHxyZWN0Qi53aWR0aDw9MHx8cmVjdEIuaGVpZ2h0PD0wKXtyZXR1cm4gZmFsc2U7fXJldHVybiEocmVjdEEucmlnaHQ8cmVjdEIueHx8cmVjdEEuYm90dG9tPHJlY3RCLnl8fHJlY3RBLng+cmVjdEIucmlnaHR8fHJlY3RBLnk+cmVjdEIuYm90dG9tKTt9O21vZHVsZS5leHBvcnRzPVJlY3RhbmdsZVRvUmVjdGFuZ2xlOy8qKiovfSwvKiAxODQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBCYXNlZCBvbiBjb2RlIGJ5IE1hdHQgRGVzTGF1cmllcnNcbi8vICBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvbGluZS1jaXJjbGUtY29sbGlzaW9uL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbnZhciBDb250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTt2YXIgdG1wPXt4OjAseTowfTt2YXIgTGluZVRvQ2lyY2xlPWZ1bmN0aW9uIExpbmVUb0NpcmNsZShsaW5lLGNpcmNsZSxuZWFyZXN0KXtpZihuZWFyZXN0PT09dW5kZWZpbmVkKXtuZWFyZXN0PXRtcDt9aWYoQ29udGFpbnMoY2lyY2xlLGxpbmUueDEsbGluZS55MSkpe25lYXJlc3QueD1saW5lLngxO25lYXJlc3QueT1saW5lLnkxO3JldHVybiB0cnVlO31pZihDb250YWlucyhjaXJjbGUsbGluZS54MixsaW5lLnkyKSl7bmVhcmVzdC54PWxpbmUueDI7bmVhcmVzdC55PWxpbmUueTI7cmV0dXJuIHRydWU7fXZhciBkeD1saW5lLngyLWxpbmUueDE7dmFyIGR5PWxpbmUueTItbGluZS55MTt2YXIgbGN4PWNpcmNsZS54LWxpbmUueDE7dmFyIGxjeT1jaXJjbGUueS1saW5lLnkxOy8vICBwcm9qZWN0IGxjIG9udG8gZCwgcmVzdWx0aW5nIGluIHZlY3RvciBwXG52YXIgZExlbjI9ZHgqZHgrZHkqZHk7dmFyIHB4PWR4O3ZhciBweT1keTtpZihkTGVuMj4wKXt2YXIgZHA9KGxjeCpkeCtsY3kqZHkpL2RMZW4yO3B4Kj1kcDtweSo9ZHA7fW5lYXJlc3QueD1saW5lLngxK3B4O25lYXJlc3QueT1saW5lLnkxK3B5Oy8vICBsZW4yIG9mIHBcbnZhciBwTGVuMj1weCpweCtweSpweTtyZXR1cm4gcExlbjI8PWRMZW4yJiZweCpkeCtweSpkeT49MCYmQ29udGFpbnMoY2lyY2xlLG5lYXJlc3QueCxuZWFyZXN0LnkpO307bW9kdWxlLmV4cG9ydHM9TGluZVRvQ2lyY2xlOy8qKiovfSwvKiAxODUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUG9pbnRUb0xpbmU9ZnVuY3Rpb24gUG9pbnRUb0xpbmUocG9pbnQsbGluZSl7cmV0dXJuKHBvaW50LngtbGluZS54MSkqKGxpbmUueTItbGluZS55MSk9PT0obGluZS54Mi1saW5lLngxKSoocG9pbnQueS1saW5lLnkxKTt9O21vZHVsZS5leHBvcnRzPVBvaW50VG9MaW5lOy8qKiovfSwvKiAxODYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRGVjb21wb3NlPWZ1bmN0aW9uIERlY29tcG9zZShyZWN0LG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9W107fW91dC5wdXNoKHt4OnJlY3QueCx5OnJlY3QueX0pO291dC5wdXNoKHt4OnJlY3QucmlnaHQseTpyZWN0Lnl9KTtvdXQucHVzaCh7eDpyZWN0LnJpZ2h0LHk6cmVjdC5ib3R0b219KTtvdXQucHVzaCh7eDpyZWN0LngseTpyZWN0LmJvdHRvbX0pO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1EZWNvbXBvc2U7LyoqKi99LC8qIDE4NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEZWNvbXBvc2U9ZnVuY3Rpb24gRGVjb21wb3NlKHRyaWFuZ2xlLG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9W107fW91dC5wdXNoKHt4OnRyaWFuZ2xlLngxLHk6dHJpYW5nbGUueTF9KTtvdXQucHVzaCh7eDp0cmlhbmdsZS54Mix5OnRyaWFuZ2xlLnkyfSk7b3V0LnB1c2goe3g6dHJpYW5nbGUueDMseTp0cmlhbmdsZS55M30pO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1EZWNvbXBvc2U7LyoqKi99LC8qIDE4OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7Ly8gIERlZmluZXMgYSBMaW5lIHNlZ21lbnQsIGEgcGFydCBvZiBhIGxpbmUgYmV0d2VlbiB0d28gZW5kcG9pbnRzXG52YXIgTGluZT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gTGluZSh4MSx5MSx4Mix5Mil7dGhpcy54MT0wO3RoaXMueTE9MDt0aGlzLngyPTA7dGhpcy55Mj0wO3RoaXMuc2V0VG8oeDEseTEseDIseTIpO30sc2V0VG86ZnVuY3Rpb24gc2V0VG8oeDEseTEseDIseTIpe2lmKHgxPT09dW5kZWZpbmVkKXt4MT0wO31pZih5MT09PXVuZGVmaW5lZCl7eTE9MDt9aWYoeDI9PT11bmRlZmluZWQpe3gyPTA7fWlmKHkyPT09dW5kZWZpbmVkKXt5Mj0wO310aGlzLngxPXgxO3RoaXMueTE9eTE7dGhpcy54Mj14Mjt0aGlzLnkyPXkyO3JldHVybiB0aGlzO30sZ2V0UG9pbnRBOmZ1bmN0aW9uIGdldFBvaW50QSgpe3JldHVybnt4MTp0aGlzLngxLHkxOnRoaXMueTF9O30sZ2V0UG9pbnRCOmZ1bmN0aW9uIGdldFBvaW50Qigpe3JldHVybnt4MTp0aGlzLngyLHkxOnRoaXMueTJ9O30sbGVmdDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBNYXRoLm1pbih0aGlzLngxLHRoaXMueDIpO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodGhpcy54MTw9dGhpcy54Mil7dGhpcy54MT12YWx1ZTt9ZWxzZXt0aGlzLngyPXZhbHVlO319fSxyaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBNYXRoLm1heCh0aGlzLngxLHRoaXMueDIpO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodGhpcy54MT50aGlzLngyKXt0aGlzLngxPXZhbHVlO31lbHNle3RoaXMueDI9dmFsdWU7fX19LHRvcDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiBNYXRoLm1pbih0aGlzLnkxLHRoaXMueTIpO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodGhpcy55MTw9dGhpcy55Mil7dGhpcy55MT12YWx1ZTt9ZWxzZXt0aGlzLnkyPXZhbHVlO319fSxib3R0b206e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gTWF0aC5tYXgodGhpcy55MSx0aGlzLnkyKTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe2lmKHRoaXMueTE+dGhpcy55Mil7dGhpcy55MT12YWx1ZTt9ZWxzZXt0aGlzLnkyPXZhbHVlO319fX0pO21vZHVsZS5leHBvcnRzPUxpbmU7LyoqKi99LC8qIDE4OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE1BVEhfQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7dmFyIFdyYXA9X193ZWJwYWNrX3JlcXVpcmVfXyg1MCk7dmFyIEFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oNDEpO3ZhciBOb3JtYWxBbmdsZT1mdW5jdGlvbiBOb3JtYWxBbmdsZShsaW5lKXt2YXIgYW5nbGU9QW5nbGUobGluZSktTUFUSF9DT05TVC5UQVU7cmV0dXJuIFdyYXAoYW5nbGUsLU1hdGguUEksTWF0aC5QSSk7fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWxBbmdsZTsvKioqL30sLyogMTkwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldE1hZ25pdHVkZT1mdW5jdGlvbiBHZXRNYWduaXR1ZGUocG9pbnQpe3JldHVybiBNYXRoLnNxcnQocG9pbnQueCpwb2ludC54K3BvaW50LnkqcG9pbnQueSk7fTttb2R1bGUuZXhwb3J0cz1HZXRNYWduaXR1ZGU7LyoqKi99LC8qIDE5MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBHZXRNYWduaXR1ZGVTcT1mdW5jdGlvbiBHZXRNYWduaXR1ZGVTcShwb2ludCl7cmV0dXJuIHBvaW50LngqcG9pbnQueCtwb2ludC55KnBvaW50Lnk7fTttb2R1bGUuZXhwb3J0cz1HZXRNYWduaXR1ZGVTcTsvKioqL30sLyogMTkyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE11bHRpcGx5PWZ1bmN0aW9uIE11bHRpcGx5KHBvaW50LHgseSl7cG9pbnQueCo9eDtwb2ludC55Kj15O3JldHVybiBwb2ludDt9O21vZHVsZS5leHBvcnRzPU11bHRpcGx5Oy8qKiovfSwvKiAxOTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRNYWduaXR1ZGU9X193ZWJwYWNrX3JlcXVpcmVfXygxOTApO3ZhciBOb3JtYWxpemU9ZnVuY3Rpb24gTm9ybWFsaXplKHBvaW50KXtpZihwb2ludC54IT09MCYmcG9pbnQueSE9PTApe3ZhciBtPUdldE1hZ25pdHVkZShwb2ludCk7cG9pbnQueC89bTtwb2ludC55Lz1tO31yZXR1cm4gcG9pbnQ7fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWxpemU7LyoqKi99LC8qIDE5NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIFBvbHlnb249bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFBvbHlnb24ocG9pbnRzKXsvLyBAcHJvcGVydHkge251bWJlcn0gYXJlYSAtIFRoZSBhcmVhIG9mIHRoaXMgUG9seWdvbi5cbnRoaXMuYXJlYT0wOy8vIEBwcm9wZXJ0eSB7YXJyYXl9IHBvaW50cyAtIEFuIGFycmF5IG9mIG51bWJlciBwYWlyIG9iamVjdHMgdGhhdCBtYWtlIHVwIHRoaXMgcG9seWdvbi4gSS5lLiBbIHt4LHl9LCB7eCx5fSwge3gseX0gXVxudGhpcy5wb2ludHM9W107aWYocG9pbnRzKXt0aGlzLnNldFRvKHBvaW50cyk7fX0sLyoqXG4gICAgICogU2V0cyB0aGlzIFBvbHlnb24gdG8gdGhlIGdpdmVuIHBvaW50cy5cbiAgICAgKlxuICAgICAqIFRoZSBwb2ludHMgY2FuIGJlIHNldCBmcm9tIGEgdmFyaWV0eSBvZiBmb3JtYXRzOlxuICAgICAqXG4gICAgICogLSBBbiBhcnJheSBvZiBQb2ludCBvYmplY3RzOiBgW25ldyBQaGFzZXIuUG9pbnQoeDEsIHkxKSwgLi4uXWBcbiAgICAgKiAtIEFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCBwdWJsaWMgeC95IHByb3BlcnRpZXM6IGBbb2JqMSwgb2JqMiwgLi4uXWBcbiAgICAgKiAtIEFuIGFycmF5IG9mIHBhaXJlZCBudW1iZXJzIHRoYXQgcmVwcmVzZW50IHBvaW50IGNvb3JkaW5hdGVzOiBgW3gxLHkxLCB4Mix5MiwgLi4uXWBcbiAgICAgKiAtIEFuIGFycmF5IG9mIGFycmF5cyB3aXRoIHR3byBlbGVtZW50cyByZXByZXNlbnRpbmcgeC95IGNvb3JkaW5hdGVzOiBgW1t4MSwgeTFdLCBbeDIsIHkyXSwgLi4uXWBcbiAgICAgKlxuICAgICAqIGBzZXRUb2AgbWF5IGFsc28gYmUgY2FsbGVkIHdpdGhvdXQgYW55IGFyZ3VtZW50cyB0byByZW1vdmUgYWxsIHBvaW50cy5cbiAgICAgKi9zZXRUbzpmdW5jdGlvbiBzZXRUbyhwb2ludHMpe3RoaXMuYXJlYT0wO3RoaXMucG9pbnRzPVtdO2lmKCFBcnJheS5pc0FycmF5KHBvaW50cykpe3JldHVybiB0aGlzO312YXIgZW50cnk7dmFyIHkwPU51bWJlci5NQVhfVkFMVUU7dmFyIHA7Ly8gIFRoZSBwb2ludHMgYXJndW1lbnQgaXMgYW4gYXJyYXksIHNvIGl0ZXJhdGUgdGhyb3VnaCBpdFxuZm9yKHZhciBpPTA7aTxwb2ludHMubGVuZ3RoO2krKyl7cD17eDowLHk6MH07aWYodHlwZW9mIHBvaW50c1tpXT09PSdudW1iZXInKXtwLng9cG9pbnRzW2ldO3AueT1wb2ludHNbaSsxXTtpKys7fWVsc2UgaWYoQXJyYXkuaXNBcnJheShlbnRyeSkpey8vICBBbiBhcnJheSBvZiBhcnJheXM/XG5wLng9cG9pbnRzW2ldWzBdO3AueT1wb2ludHNbaV1bMV07fWVsc2V7cC54PXBvaW50c1tpXS54O3AueT1wb2ludHNbaV0ueTt9dGhpcy5wb2ludHMucHVzaChwKTsvLyAgTG93ZXN0IGJvdW5kYXJ5XG5pZihwLnk8eTApe3kwPXAueTt9fXRoaXMuY2FsY3VsYXRlQXJlYSh5MCk7cmV0dXJuIHRoaXM7fSwvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhcmVhIG9mIHRoZSBQb2x5Z29uLiBUaGlzIGlzIGF2YWlsYWJsZSBpbiB0aGUgcHJvcGVydHkgUG9seWdvbi5hcmVhXG4gICAgICovY2FsY3VsYXRlQXJlYTpmdW5jdGlvbiBjYWxjdWxhdGVBcmVhKHkwKXtpZih0aGlzLnBvaW50cy5sZW5ndGg8Myl7dGhpcy5hcmVhPTA7cmV0dXJuIHRoaXMuYXJlYTt9dmFyIHN1bT0wO3ZhciBwMTt2YXIgcDI7Zm9yKHZhciBpPTA7aTx0aGlzLnBvaW50cy5sZW5ndGgtMTtpKyspe3AxPXRoaXMucG9pbnRzW2ldO3AyPXRoaXMucG9pbnRzW2krMV07c3VtKz0ocDIueC1wMS54KSoocDEueStwMi55KTt9cDE9dGhpcy5wb2ludHNbMF07cDI9dGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoLTFdO3N1bSs9KHAxLngtcDIueCkqKHAyLnkrcDEueSk7dGhpcy5hcmVhPS1zdW0qMC41Oy8vIHZhciBwMTtcbi8vIHZhciBwMjtcbi8vIHZhciBhdmdIZWlnaHQ7XG4vLyB2YXIgd2lkdGg7XG4vLyBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4vLyB7XG4vLyAgICAgcDEgPSB0aGlzLnBvaW50c1tpXTtcbi8vICAgICBpZiAoaSA9PT0gbGVuIC0gMSlcbi8vICAgICB7XG4vLyAgICAgICAgIHAyID0gdGhpcy5wb2ludHNbMF07XG4vLyAgICAgfVxuLy8gICAgIGVsc2Vcbi8vICAgICB7XG4vLyAgICAgICAgIHAyID0gdGhpcy5wb2ludHNbaSArIDFdO1xuLy8gICAgIH1cbi8vICAgICBhdmdIZWlnaHQgPSAoKHAxLnkgLSB5MCkgKyAocDIueSAtIHkwKSkgLyAyO1xuLy8gICAgIHdpZHRoID0gcDEueCAtIHAyLng7XG4vLyAgICAgdGhpcy5hcmVhICs9IGF2Z0hlaWdodCAqIHdpZHRoO1xuLy8gfVxucmV0dXJuIHRoaXMuYXJlYTt9fSk7bW9kdWxlLmV4cG9ydHM9UG9seWdvbjsvKioqL30sLyogMTk1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvbi5cbiovdmFyIENvbnRhaW5zPWZ1bmN0aW9uIENvbnRhaW5zKHBvbHlnb24seCx5KXsvLyAgQWRhcHRlZCBmcm9tIGh0dHA6Ly93d3cuZWNzZS5ycGkuZWR1L0hvbWVwYWdlcy93cmYvUmVzZWFyY2gvU2hvcnRfTm90ZXMvcG5wb2x5Lmh0bWwgYnkgSm9uYXMgUmFvbmkgU29hcmVzIFNpbHZhXG52YXIgaW5zaWRlPWZhbHNlO2Zvcih2YXIgaT0tMSxqPXBvbHlnb24ucG9pbnRzLmxlbmd0aC0xOysraTxwb2x5Z29uLnBvaW50cy5sZW5ndGg7aj1pKXt2YXIgaXg9cG9seWdvbi5wb2ludHNbaV0ueDt2YXIgaXk9cG9seWdvbi5wb2ludHNbaV0ueTt2YXIgang9cG9seWdvbi5wb2ludHNbal0ueDt2YXIgank9cG9seWdvbi5wb2ludHNbal0ueTtpZigoaXk8PXkmJnk8anl8fGp5PD15JiZ5PGl5KSYmeDwoangtaXgpKih5LWl5KS8oanktaXkpK2l4KXtpbnNpZGU9IWluc2lkZTt9fXJldHVybiBpbnNpZGU7fTttb2R1bGUuZXhwb3J0cz1Db250YWluczsvKioqL30sLyogMTk2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFRoZSB0aHJlZSBtZWRpYW5zICh0aGUgbGluZXMgZHJhd24gZnJvbSB0aGUgdmVydGljZXMgdG8gdGhlIGJpc2VjdG9ycyBvZiB0aGUgb3Bwb3NpdGUgc2lkZXMpXG4vLyAgbWVldCBpbiB0aGUgY2VudHJvaWQgb3IgY2VudGVyIG9mIG1hc3MgKGNlbnRlciBvZiBncmF2aXR5KS5cbi8vICBUaGUgY2VudHJvaWQgZGl2aWRlcyBlYWNoIG1lZGlhbiBpbiBhIHJhdGlvIG9mIDI6MVxudmFyIENlbnRyb2lkPWZ1bmN0aW9uIENlbnRyb2lkKHRyaWFuZ2xlLG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9e3g6MCx5OjB9O31vdXQueD0odHJpYW5nbGUueDErdHJpYW5nbGUueDIrdHJpYW5nbGUueDMpLzM7b3V0Lnk9KHRyaWFuZ2xlLnkxK3RyaWFuZ2xlLnkyK3RyaWFuZ2xlLnkzKS8zO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1DZW50cm9pZDsvKioqL30sLyogMTk3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE9mZnNldD1mdW5jdGlvbiBPZmZzZXQodHJpYW5nbGUseCx5KXt0cmlhbmdsZS54MSs9eDt0cmlhbmdsZS55MSs9eTt0cmlhbmdsZS54Mis9eDt0cmlhbmdsZS55Mis9eTt0cmlhbmdsZS54Mys9eDt0cmlhbmdsZS55Mys9eTtyZXR1cm4gdHJpYW5nbGU7fTttb2R1bGUuZXhwb3J0cz1PZmZzZXQ7LyoqKi99LC8qIDE5OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIFRoZSB0aHJlZSBhbmdsZSBiaXNlY3RvcnMgb2YgYSB0cmlhbmdsZSBtZWV0IGluIG9uZSBwb2ludCBjYWxsZWQgdGhlIGluY2VudGVyLlxuLy8gSXQgaXMgdGhlIGNlbnRlciBvZiB0aGUgaW5jaXJjbGUsIHRoZSBjaXJjbGUgaW5zY3JpYmVkIGluIHRoZSB0cmlhbmdsZS5cbmZ1bmN0aW9uIGdldExlbmd0aCh4MSx5MSx4Mix5Mil7dmFyIHg9eDEteDI7dmFyIHk9eTEteTI7dmFyIG1hZ25pdHVkZT14KngreSp5O3JldHVybiBNYXRoLnNxcnQobWFnbml0dWRlKTt9dmFyIEluQ2VudGVyPWZ1bmN0aW9uIEluQ2VudGVyKHRyaWFuZ2xlLG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9e3g6MCx5OjB9O312YXIgeDE9dHJpYW5nbGUueDE7dmFyIHkxPXRyaWFuZ2xlLnkxO3ZhciB4Mj10cmlhbmdsZS54Mjt2YXIgeTI9dHJpYW5nbGUueTI7dmFyIHgzPXRyaWFuZ2xlLngzO3ZhciB5Mz10cmlhbmdsZS55Mzt2YXIgZDE9Z2V0TGVuZ3RoKHgzLHkzLHgyLHkyKTt2YXIgZDI9Z2V0TGVuZ3RoKHgxLHkxLHgzLHkzKTt2YXIgZDM9Z2V0TGVuZ3RoKHgyLHkyLHgxLHkxKTt2YXIgcD1kMStkMitkMztvdXQueD0oeDEqZDEreDIqZDIreDMqZDMpL3A7b3V0Lnk9KHkxKmQxK3kyKmQyK3kzKmQzKS9wO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1JbkNlbnRlcjsvKioqL30sLyogMTk5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIEFkZHMgdGhlIHNvdXJjZSBhbmQgYmFja2Ryb3AgY29sb3JzIHRvZ2V0aGVyIGFuZCByZXR1cm5zIHRoZSB2YWx1ZSwgdXAgdG8gYSBtYXhpbXVtIG9mIDI1NS5cbiovdmFyIEFkZD1mdW5jdGlvbiBBZGQoYSxiKXtyZXR1cm4gTWF0aC5taW4oMjU1LGErYik7fTttb2R1bGUuZXhwb3J0cz1BZGQ7LyoqKi99LC8qIDIwMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBEYXJrZW5zIHRoZSBiYWNrZHJvcCBjb2xvciB0byByZWZsZWN0IHRoZSBzb3VyY2UgY29sb3IuXG4qIFBhaW50aW5nIHdpdGggd2hpdGUgcHJvZHVjZXMgbm8gY2hhbmdlLiBcbiovdmFyIENvbG9yQnVybj1mdW5jdGlvbiBDb2xvckJ1cm4oYSxiKXtyZXR1cm4gYj09PTA/YjpNYXRoLm1heCgwLDI1NS0oMjU1LWE8PDgpL2IpO307bW9kdWxlLmV4cG9ydHM9Q29sb3JCdXJuOy8qKiovfSwvKiAyMDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogQnJpZ2h0ZW5zIHRoZSBiYWNrZHJvcCBjb2xvciB0byByZWZsZWN0IHRoZSBzb3VyY2UgY29sb3IuIFxuKiBQYWludGluZyB3aXRoIGJsYWNrIHByb2R1Y2VzIG5vIGNoYW5nZS5cbiovdmFyIENvbG9yRG9kZ2U9ZnVuY3Rpb24gQ29sb3JEb2RnZShhLGIpe3JldHVybiBiPT09MjU1P2I6TWF0aC5taW4oMjU1LChhPDw4KS8oMjU1LWIpKTt9O21vZHVsZS5leHBvcnRzPUNvbG9yRG9kZ2U7LyoqKi99LC8qIDIwMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBTZWxlY3RzIHRoZSBkYXJrZXIgb2YgdGhlIGJhY2tkcm9wIGFuZCBzb3VyY2UgY29sb3JzLlxuKi92YXIgRGFya2VuPWZ1bmN0aW9uIERhcmtlbihhLGIpe3JldHVybiBiPmE/YTpiO307bW9kdWxlLmV4cG9ydHM9RGFya2VuOy8qKiovfSwvKiAyMDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogUmVmbGVjdCBibGVuZCBtb2RlLiBUaGlzIG1vZGUgaXMgdXNlZnVsIHdoZW4gYWRkaW5nIHNoaW5pbmcgb2JqZWN0cyBvciBsaWdodCB6b25lcyB0byBpbWFnZXMuIFxuKi92YXIgUmVmbGVjdD1mdW5jdGlvbiBSZWZsZWN0KGEsYil7cmV0dXJuIGI9PT0yNTU/YjpNYXRoLm1pbigyNTUsYSphLygyNTUtYikpO307bW9kdWxlLmV4cG9ydHM9UmVmbGVjdDsvKioqL30sLyogMjA0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIE11bHRpcGxpZXMgb3Igc2NyZWVucyB0aGUgY29sb3JzLCBkZXBlbmRpbmcgb24gdGhlIGJhY2tkcm9wIGNvbG9yLlxuKiBTb3VyY2UgY29sb3JzIG92ZXJsYXkgdGhlIGJhY2tkcm9wIHdoaWxlIHByZXNlcnZpbmcgaXRzIGhpZ2hsaWdodHMgYW5kIHNoYWRvd3MuIFxuKiBUaGUgYmFja2Ryb3AgY29sb3IgaXMgbm90IHJlcGxhY2VkLCBidXQgaXMgbWl4ZWQgd2l0aCB0aGUgc291cmNlIGNvbG9yIHRvIHJlZmxlY3QgdGhlIGxpZ2h0bmVzcyBvciBkYXJrbmVzcyBvZiB0aGUgYmFja2Ryb3AuXG4qL3ZhciBPdmVybGF5PWZ1bmN0aW9uIE92ZXJsYXkoYSxiKXtyZXR1cm4gYjwxMjg/MiphKmIvMjU1OjI1NS0yKigyNTUtYSkqKDI1NS1iKS8yNTU7fTttb2R1bGUuZXhwb3J0cz1PdmVybGF5Oy8qKiovfSwvKiAyMDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDb2xvckJ1cm49X193ZWJwYWNrX3JlcXVpcmVfXygyMDApO3ZhciBDb2xvckRvZGdlPV9fd2VicGFja19yZXF1aXJlX18oMjAxKTsvKipcbiogVGhpcyBibGVuZCBtb2RlIGNvbWJpbmVzIENvbG9yIERvZGdlIGFuZCBDb2xvciBCdXJuIChyZXNjYWxlZCBzbyB0aGF0IG5ldXRyYWwgY29sb3JzIGJlY29tZSBtaWRkbGUgZ3JheSkuXG4qIERvZGdlIGFwcGxpZXMgd2hlbiB2YWx1ZXMgaW4gdGhlIHRvcCBsYXllciBhcmUgbGlnaHRlciB0aGFuIG1pZGRsZSBncmF5LCBhbmQgYnVybiB0byBkYXJrZXIgdmFsdWVzLlxuKiBUaGUgbWlkZGxlIGdyYXkgaXMgdGhlIG5ldXRyYWwgY29sb3IuIFdoZW4gY29sb3IgaXMgbGlnaHRlciB0aGFuIHRoaXMsIHRoaXMgZWZmZWN0aXZlbHkgbW92ZXMgdGhlIHdoaXRlIHBvaW50IG9mIHRoZSBib3R0b20gXG4qIGxheWVyIGRvd24gYnkgdHdpY2UgdGhlIGRpZmZlcmVuY2U7IHdoZW4gaXQgaXMgZGFya2VyLCB0aGUgYmxhY2sgcG9pbnQgaXMgbW92ZWQgdXAgYnkgdHdpY2UgdGhlIGRpZmZlcmVuY2UuIFRoZSBwZXJjZWl2ZWQgY29udHJhc3QgaW5jcmVhc2VzLlxuKi92YXIgVml2aWRMaWdodD1mdW5jdGlvbiBWaXZpZExpZ2h0KGEsYil7cmV0dXJuIGI8MTI4P0NvbG9yQnVybihhLDIqYik6Q29sb3JEb2RnZShhLDIqKGItMTI4KSk7fTttb2R1bGUuZXhwb3J0cz1WaXZpZExpZ2h0Oy8qKiovfSwvKiAyMDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogU2VsZWN0cyB0aGUgbGlnaHRlciBvZiB0aGUgYmFja2Ryb3AgYW5kIHNvdXJjZSBjb2xvcnMuXG4qL3ZhciBMaWdodGVuPWZ1bmN0aW9uIExpZ2h0ZW4oYSxiKXtyZXR1cm4gYj5hP2I6YTt9O21vZHVsZS5leHBvcnRzPUxpZ2h0ZW47LyoqKi99LC8qIDIwNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFN1YnRyYWN0PV9fd2VicGFja19yZXF1aXJlX18oMjA4KTsvKipcbiogQW4gYWxpYXMgZm9yIGJsZW5kU3VidHJhY3QsIGl0IHNpbXBseSBzdW1zIHRoZSB2YWx1ZXMgb2YgdGhlIHR3byBjb2xvcnMgYW5kIHN1YnRyYWN0cyAyNTUuXG4qL3ZhciBMaW5lYXJCdXJuPWZ1bmN0aW9uIExpbmVhckJ1cm4oYSxiKXtyZXR1cm4gU3VidHJhY3QoYSxiKTt9O21vZHVsZS5leHBvcnRzPUxpbmVhckJ1cm47LyoqKi99LC8qIDIwOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBDb21iaW5lcyB0aGUgc291cmNlIGFuZCBiYWNrZHJvcCBjb2xvcnMgYW5kIHJldHVybnMgdGhlaXIgdmFsdWUgbWludXMgMjU1LlxuKi92YXIgU3VidHJhY3Q9ZnVuY3Rpb24gU3VidHJhY3QoYSxiKXtyZXR1cm4gTWF0aC5tYXgoMCxhK2ItMjU1KTt9O21vZHVsZS5leHBvcnRzPVN1YnRyYWN0Oy8qKiovfSwvKiAyMDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBBZGQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOTkpOy8qKlxuKiBBbiBhbGlhcyBmb3IgYmxlbmRBZGQsIGl0IHNpbXBseSBzdW1zIHRoZSB2YWx1ZXMgb2YgdGhlIHR3byBjb2xvcnMuXG4qL3ZhciBMaW5lYXJEb2RnZT1mdW5jdGlvbiBMaW5lYXJEb2RnZShhLGIpe3JldHVybiBBZGQoYSxiKTt9O21vZHVsZS5leHBvcnRzPUxpbmVhckRvZGdlOy8qKiovfSwvKiAyMTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgUmV0dXJuIGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGNvbG9yIGNvbXBvbmVudC5cbi8vICBAcGFyYW0ge2ludGVnZXJ9IGNvbG9yIC0gVGhlIGNvbG9yIGNoYW5uZWwgdG8gZ2V0IHRoZSBoZXggdmFsdWUgZm9yLCBtdXN0IGJlIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUuXG4vLyAgQHJldHVybiB7c3RyaW5nfSBBIHN0cmluZyBvZiBsZW5ndGggMiBjaGFyYWN0ZXJzLCBpLmUuIDI1NSA9IGZmLCAxMDAgPSA2NC5cbnZhciBDb21wb25lbnRUb0hleD1mdW5jdGlvbiBDb21wb25lbnRUb0hleChjb2xvcil7dmFyIGhleD1jb2xvci50b1N0cmluZygxNik7cmV0dXJuIGhleC5sZW5ndGg9PT0xPycwJytoZXg6aGV4O307bW9kdWxlLmV4cG9ydHM9Q29tcG9uZW50VG9IZXg7LyoqKi99LC8qIDIxMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKG1vZHVsZSl7LyoqXG4qIENvbnZlcnRzIGEgaHVlIHRvIGFuIFJHQiBjb2xvci5cbiogQmFzZWQgb24gY29kZSBieSBNaWNoYWVsIEphY2tzb24gKGh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uKVxuKi92YXIgSHVlVG9Db21wb25lbnQ9ZnVuY3Rpb24gSHVlVG9Db21wb25lbnQocCxxLHQpe2lmKHQ8MCl7dCs9MTt9aWYodD4xKXt0LT0xO31pZih0PDEvNil7cmV0dXJuIHArKHEtcCkqNip0O31pZih0PDEvMil7cmV0dXJuIHE7fWlmKHQ8Mi8zKXtyZXR1cm4gcCsocS1wKSooMi8zLXQpKjY7fXJldHVybiBwO307bW9kdWxlLmV4cG9ydD1IdWVUb0NvbXBvbmVudDsvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99KS5jYWxsKGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyg4NzkpKG1vZHVsZSkpOy8qKiovfSwvKiAyMTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5KTsvKipcbiAqIENvbnZlcnRzIGFuIEhTViAoaHVlLCBzYXR1cmF0aW9uIGFuZCB2YWx1ZSkgY29sb3IgdmFsdWUgdG8gUkdCLlxuICogQ29udmVyc2lvbiBmb3JtdWxhIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXG4gKiBBc3N1bWVzIEhTViB2YWx1ZXMgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAxXSBhbmQgcmV0dXJucyByLCBnIGFuZCBiIHZhbHVlcyBpbiB0aGUgc2V0IFswLCAyNTVdLlxuICogQmFzZWQgb24gY29kZSBieSBNaWNoYWVsIEphY2tzb24gKGh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uKVxuICovdmFyIEhTVlRvUkdCPWZ1bmN0aW9uIEhTVlRvUkdCKGgscyx2KXtpZihzPT09dW5kZWZpbmVkKXtzPTE7fWlmKHY9PT11bmRlZmluZWQpe3Y9MTt9dmFyIGk9TWF0aC5mbG9vcihoKjYpO3ZhciBmPWgqNi1pO3ZhciBwPU1hdGguZmxvb3IodiooMS1zKSoyNTUpO3ZhciBxPU1hdGguZmxvb3IodiooMS1mKnMpKjI1NSk7dmFyIHQ9TWF0aC5mbG9vcih2KigxLSgxLWYpKnMpKjI1NSk7dj1NYXRoLmZsb29yKHYqPTI1NSk7dmFyIG91dHB1dD17cjp2LGc6dixiOnYsY29sb3I6MH07dmFyIHI9aSU2O2lmKHI9PT0wKXtvdXRwdXQuZz10O291dHB1dC5iPXA7fWVsc2UgaWYocj09PTEpe291dHB1dC5yPXE7b3V0cHV0LmI9cDt9ZWxzZSBpZihyPT09Mil7b3V0cHV0LnI9cDtvdXRwdXQuYj10O31lbHNlIGlmKHI9PT0zKXtvdXRwdXQucj1wO291dHB1dC5nPXE7fWVsc2UgaWYocj09PTQpe291dHB1dC5yPXQ7b3V0cHV0Lmc9cDt9ZWxzZSBpZihyPT09NSl7b3V0cHV0Lmc9cDtvdXRwdXQuYj1xO31vdXRwdXQuY29sb3I9R2V0Q29sb3Iob3V0cHV0LnIsb3V0cHV0Lmcsb3V0cHV0LmIpO3JldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1IU1ZUb1JHQjsvKioqL30sLyogMjEzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFRoaXMgaXMgZnJvbSB0aGUgcXVpY2tzZWxlY3QgbnBtIHBhY2thZ2U6IGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3F1aWNrc2VsZWN0XG4vLyAgQ29kZWQgYnkgaHR0cHM6Ly93d3cubnBtanMuY29tL35tb3VybmVyIChWbGFkaW1pciBBZ2Fmb25raW4pXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GbG95ZCVFMiU4MCU5M1JpdmVzdF9hbGdvcml0aG1cbi8vIEZsb3lkLVJpdmVzdCBzZWxlY3Rpb24gYWxnb3JpdGhtOlxuLy8gUmVhcnJhbmdlIGl0ZW1zIHNvIHRoYXQgYWxsIGl0ZW1zIGluIHRoZSBbbGVmdCwga10gcmFuZ2UgYXJlIHNtYWxsZXIgdGhhbiBhbGwgaXRlbXMgaW4gKGssIHJpZ2h0XTtcbi8vIFRoZSBrLXRoIGVsZW1lbnQgd2lsbCBoYXZlIHRoZSAoayAtIGxlZnQgKyAxKXRoIHNtYWxsZXN0IHZhbHVlIGluIFtsZWZ0LCByaWdodF1cbnZhciBRdWlja1NlbGVjdD1mdW5jdGlvbiBRdWlja1NlbGVjdChhcnIsayxsZWZ0LHJpZ2h0LGNvbXBhcmUpe2xlZnQ9bGVmdHx8MDtyaWdodD1yaWdodHx8YXJyLmxlbmd0aC0xO2NvbXBhcmU9Y29tcGFyZXx8ZGVmYXVsdENvbXBhcmU7d2hpbGUocmlnaHQ+bGVmdCl7aWYocmlnaHQtbGVmdD42MDApe3ZhciBuPXJpZ2h0LWxlZnQrMTt2YXIgbT1rLWxlZnQrMTt2YXIgej1NYXRoLmxvZyhuKTt2YXIgcz0wLjUqTWF0aC5leHAoMip6LzMpO3ZhciBzZD0wLjUqTWF0aC5zcXJ0KHoqcyoobi1zKS9uKSoobS1uLzI8MD8tMToxKTt2YXIgbmV3TGVmdD1NYXRoLm1heChsZWZ0LE1hdGguZmxvb3Ioay1tKnMvbitzZCkpO3ZhciBuZXdSaWdodD1NYXRoLm1pbihyaWdodCxNYXRoLmZsb29yKGsrKG4tbSkqcy9uK3NkKSk7UXVpY2tTZWxlY3QoYXJyLGssbmV3TGVmdCxuZXdSaWdodCxjb21wYXJlKTt9dmFyIHQ9YXJyW2tdO3ZhciBpPWxlZnQ7dmFyIGo9cmlnaHQ7c3dhcChhcnIsbGVmdCxrKTtpZihjb21wYXJlKGFycltyaWdodF0sdCk+MCl7c3dhcChhcnIsbGVmdCxyaWdodCk7fXdoaWxlKGk8ail7c3dhcChhcnIsaSxqKTtpKys7ai0tO3doaWxlKGNvbXBhcmUoYXJyW2ldLHQpPDApe2krKzt9d2hpbGUoY29tcGFyZShhcnJbal0sdCk+MCl7ai0tO319aWYoY29tcGFyZShhcnJbbGVmdF0sdCk9PT0wKXtzd2FwKGFycixsZWZ0LGopO31lbHNle2orKztzd2FwKGFycixqLHJpZ2h0KTt9aWYoajw9ayl7bGVmdD1qKzE7fWlmKGs8PWope3JpZ2h0PWotMTt9fX07ZnVuY3Rpb24gc3dhcChhcnIsaSxqKXt2YXIgdG1wPWFycltpXTthcnJbaV09YXJyW2pdO2FycltqXT10bXA7fWZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowO31tb2R1bGUuZXhwb3J0cz1RdWlja1NlbGVjdDsvKioqL30sLyogMjE0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLlBoeXNpY3MuSW1wYWN0LkJvZHlcbnZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHZXRWZWxvY2l0eT1fX3dlYnBhY2tfcmVxdWlyZV9fKDkwMCk7dmFyIFVwZGF0ZU1vdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDkwMSk7dmFyIENPTExJREVTPV9fd2VicGFja19yZXF1aXJlX18oNTkpO3ZhciBUWVBFPV9fd2VicGFja19yZXF1aXJlX18oOTUpOy8qKlxuKiBBbiBJbXBhY3QuanMgY29tcGF0aWJsZSBwaHlzaWNzIGJvZHkuXG4qIFRoaXMgcmUtY3JlYXRlcyB0aGUgcHJvcGVydGllcyB5b3UnZCBnZXQgb24gYW4gRW50aXR5IGFuZCB0aGUgbWF0aCBuZWVkZWQgdG8gdXBkYXRlIHRoZW0uXG4qL3ZhciBCb2R5PW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBCb2R5KHdvcmxkLHgseSxzeCxzeSl7aWYoc3g9PT11bmRlZmluZWQpe3N4PTE2O31pZihzeT09PXVuZGVmaW5lZCl7c3k9MTY7fXRoaXMud29ybGQ9d29ybGQ7dGhpcy5lbmFibGVkPXRydWU7dGhpcy5wYXJlbnQ7dGhpcy5uYW1lPScnO3RoaXMuc2l6ZT17eDpzeCx5OnN5fTt0aGlzLnBvcz17eDp4LHk6eX07dGhpcy5sYXN0PXt4OngseTp5fTt0aGlzLnZlbD17eDowLHk6MH07dGhpcy5hY2NlbD17eDowLHk6MH07dGhpcy5mcmljdGlvbj17eDowLHk6MH07dGhpcy5tYXhWZWw9e3g6MTAwLHk6MTAwfTt0aGlzLmdyYXZpdHlGYWN0b3I9MTt0aGlzLnN0YW5kaW5nPWZhbHNlO3RoaXMuYm91bmNpbmVzcz0wO3RoaXMubWluQm91bmNlVmVsb2NpdHk9NDA7dGhpcy5hY2NlbEdyb3VuZD0wO3RoaXMuYWNjZWxBaXI9MDt0aGlzLmp1bXBTcGVlZD0wO3RoaXMudHlwZT1UWVBFLk5PTkU7dGhpcy5jaGVja0FnYWluc3Q9VFlQRS5OT05FO3RoaXMuY29sbGlkZXM9Q09MTElERVMuTkVWRVI7Ly8gIG1pbiA0NCBkZWcsIG1heCAxMzYgZGVnXG50aGlzLnNsb3BlU3RhbmRpbmc9e21pbjowLjc2Nzk0NDg3MDg3NzUwNSxtYXg6Mi4zNzM2NDc3ODI3MTIyODg0fTt9LHJlc2V0OmZ1bmN0aW9uIHJlc2V0KCl7Ly8gIFRPRE9cbn0sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZShkZWx0YSl7dGhpcy5sYXN0Lng9dGhpcy5wb3MueDt0aGlzLmxhc3QueT10aGlzLnBvcy55O3RoaXMudmVsLnkrPXRoaXMud29ybGQuZ3Jhdml0eSpkZWx0YSp0aGlzLmdyYXZpdHlGYWN0b3I7dGhpcy52ZWwueD1HZXRWZWxvY2l0eShkZWx0YSx0aGlzLnZlbC54LHRoaXMuYWNjZWwueCx0aGlzLmZyaWN0aW9uLngsdGhpcy5tYXhWZWwueCk7dGhpcy52ZWwueT1HZXRWZWxvY2l0eShkZWx0YSx0aGlzLnZlbC55LHRoaXMuYWNjZWwueSx0aGlzLmZyaWN0aW9uLnksdGhpcy5tYXhWZWwueSk7aWYod2luZG93LmR1bXBpdCl7Y29uc29sZS5sb2coJycpO2NvbnNvbGUubG9nKCdVUERBVEU6IHBvcycsdGhpcy5wb3MueCx0aGlzLnBvcy55LCd2ZWwnLHRoaXMudmVsLngsdGhpcy52ZWwueSk7fXZhciBteD10aGlzLnZlbC54KmRlbHRhO3ZhciBteT10aGlzLnZlbC55KmRlbHRhO3ZhciByZXM9dGhpcy53b3JsZC5jb2xsaXNpb25NYXAudHJhY2UodGhpcy5wb3MueCx0aGlzLnBvcy55LG14LG15LHRoaXMuc2l6ZS54LHRoaXMuc2l6ZS55KTtpZih0aGlzLmhhbmRsZU1vdmVtZW50VHJhY2UocmVzKSl7VXBkYXRlTW90aW9uKHRoaXMscmVzKTt9aWYod2luZG93LmR1bXBpdCl7Y29uc29sZS5sb2coJ0VORCByZXMnLHJlcy5wb3MueCxyZXMucG9zLnkpO319LGhhbmRsZU1vdmVtZW50VHJhY2U6ZnVuY3Rpb24gaGFuZGxlTW92ZW1lbnRUcmFjZShyZXMpe3JldHVybiB0cnVlO30sc2tpcEhhc2g6ZnVuY3Rpb24gc2tpcEhhc2goKXtyZXR1cm4hdGhpcy5lbmFibGVkfHx0aGlzLnR5cGU9PT0wJiZ0aGlzLmNoZWNrQWdhaW5zdD09PTAmJnRoaXMuY29sbGlkZXM9PT0wO30sdG91Y2hlczpmdW5jdGlvbiB0b3VjaGVzKG90aGVyKXtyZXR1cm4hKHRoaXMucG9zLng+PW90aGVyLnBvcy54K290aGVyLnNpemUueHx8dGhpcy5wb3MueCt0aGlzLnNpemUueDw9b3RoZXIucG9zLnh8fHRoaXMucG9zLnk+PW90aGVyLnBvcy55K290aGVyLnNpemUueXx8dGhpcy5wb3MueSt0aGlzLnNpemUueTw9b3RoZXIucG9zLnkpO30sc2V0Qm91bmNlOmZ1bmN0aW9uIHNldEJvdW5jZSh2YWx1ZSl7dGhpcy5ib3VuY2luZXNzPXZhbHVlO3JldHVybiB0aGlzO30sc2V0VmVsb2NpdHlYOmZ1bmN0aW9uIHNldFZlbG9jaXR5WCh4KXt0aGlzLnZlbC54PXg7cmV0dXJuIHRoaXM7fSxzZXRWZWxvY2l0eVk6ZnVuY3Rpb24gc2V0VmVsb2NpdHlZKHkpe3RoaXMudmVsLnk9eTtyZXR1cm4gdGhpczt9LHNldFZlbG9jaXR5OmZ1bmN0aW9uIHNldFZlbG9jaXR5KHgseSl7dGhpcy52ZWwueD14O3RoaXMudmVsLnk9eTtyZXR1cm4gdGhpczt9LHNldE1heFZlbG9jaXR5OmZ1bmN0aW9uIHNldE1heFZlbG9jaXR5KHgseSl7aWYoeT09PXVuZGVmaW5lZCl7eT14O310aGlzLm1heFZlbC54PXg7dGhpcy5tYXhWZWwueT15O3JldHVybiB0aGlzO30sc2V0QWNjZWxlcmF0aW9uWDpmdW5jdGlvbiBzZXRBY2NlbGVyYXRpb25YKHgpe3RoaXMuYWNjZWwueD14O3JldHVybiB0aGlzO30sc2V0QWNjZWxlcmF0aW9uWTpmdW5jdGlvbiBzZXRBY2NlbGVyYXRpb25ZKHkpe3RoaXMuYWNjZWwueT15O3JldHVybiB0aGlzO30sc2V0QWNjZWxlcmF0aW9uOmZ1bmN0aW9uIHNldEFjY2VsZXJhdGlvbih4LHkpe3RoaXMuYWNjZWwueD14O3RoaXMuYWNjZWwueT15O3JldHVybiB0aGlzO30sc2V0VHlwZU5vbmU6ZnVuY3Rpb24gc2V0VHlwZU5vbmUoKXt0aGlzLnR5cGU9VFlQRS5OT05FO3JldHVybiB0aGlzO30sc2V0VHlwZUE6ZnVuY3Rpb24gc2V0VHlwZUEoKXt0aGlzLnR5cGU9VFlQRS5BO3JldHVybiB0aGlzO30sc2V0VHlwZUI6ZnVuY3Rpb24gc2V0VHlwZUIoKXt0aGlzLnR5cGU9VFlQRS5CO3JldHVybiB0aGlzO30sc2V0Q2hlY2tBZ2FpbnN0Tm9uZTpmdW5jdGlvbiBzZXRDaGVja0FnYWluc3ROb25lKCl7dGhpcy5jaGVja0FnYWluc3Q9VFlQRS5OT05FO3JldHVybiB0aGlzO30sc2V0Q2hlY2tBZ2FpbnN0QTpmdW5jdGlvbiBzZXRDaGVja0FnYWluc3RBKCl7dGhpcy5jaGVja0FnYWluc3Q9VFlQRS5BO3JldHVybiB0aGlzO30sc2V0Q2hlY2tBZ2FpbnN0QjpmdW5jdGlvbiBzZXRDaGVja0FnYWluc3RCKCl7dGhpcy5jaGVja0FnYWluc3Q9VFlQRS5CO3JldHVybiB0aGlzO30sc2V0Q29sbGlkZXNOZXZlcjpmdW5jdGlvbiBzZXRDb2xsaWRlc05ldmVyKCl7dGhpcy5jb2xsaWRlcz1DT0xMSURFUy5ORVZFUjtyZXR1cm4gdGhpczt9LHNldExpdGU6ZnVuY3Rpb24gc2V0TGl0ZSgpe3RoaXMuY29sbGlkZXM9Q09MTElERVMuTElURTtyZXR1cm4gdGhpczt9LHNldFBhc3NpdmU6ZnVuY3Rpb24gc2V0UGFzc2l2ZSgpe3RoaXMuY29sbGlkZXM9Q09MTElERVMuUEFTU0lWRTtyZXR1cm4gdGhpczt9LHNldEFjdGl2ZTpmdW5jdGlvbiBzZXRBY3RpdmUoKXt0aGlzLmNvbGxpZGVzPUNPTExJREVTLkFDVElWRTtyZXR1cm4gdGhpczt9LHNldEZpeGVkOmZ1bmN0aW9uIHNldEZpeGVkKCl7dGhpcy5jb2xsaWRlcz1DT0xMSURFUy5GSVhFRDtyZXR1cm4gdGhpczt9LGNoZWNrOmZ1bmN0aW9uIGNoZWNrKG90aGVyKXsvLyAgT3ZlcnJpZGRlbiBieSB1c2VyIGNvZGVcbn0sY29sbGlkZVdpdGg6ZnVuY3Rpb24gY29sbGlkZVdpdGgob3RoZXIsYXhpcyl7Ly8gIE92ZXJyaWRkZW4gYnkgdXNlciBjb2RlXG59fSk7bW9kdWxlLmV4cG9ydHM9Qm9keTsvKioqL30sLyogMjE1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLlBoeXNpY3MuSW1wYWN0LkNvbGxpc2lvbk1hcFxudmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIERlZmF1bHREZWZzPV9fd2VicGFja19yZXF1aXJlX18oOTAyKTt2YXIgQ29sbGlzaW9uTWFwPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBDb2xsaXNpb25NYXAodGlsZXNpemUsZGF0YSl7dGhpcy50aWxlc2l6ZT10aWxlc2l6ZTt0aGlzLmRhdGE9ZGF0YTt0aGlzLndpZHRoPUFycmF5LmlzQXJyYXkoZGF0YSk/ZGF0YVswXS5sZW5ndGg6MDt0aGlzLmhlaWdodD1BcnJheS5pc0FycmF5KGRhdGEpP2RhdGEubGVuZ3RoOjA7dGhpcy5sYXN0U2xvcGU9NTU7dGhpcy50aWxlZGVmPURlZmF1bHREZWZzO30sdHJhY2U6ZnVuY3Rpb24gdHJhY2UoeCx5LHZ4LHZ5LG9iamVjdFdpZHRoLG9iamVjdEhlaWdodCl7Ly8gU2V0IHVwIHRoZSB0cmFjZS1yZXN1bHRcbnZhciByZXM9e2NvbGxpc2lvbjp7eDpmYWxzZSx5OmZhbHNlLHNsb3BlOmZhbHNlfSxwb3M6e3g6eCx5Onl9LHRpbGU6e3g6MCx5OjB9fTtpZighdGhpcy5kYXRhKXtyZXMucG9zLngrPXZ4O3Jlcy5wb3MueSs9dnk7cmV0dXJuIHJlczt9dmFyIHN0ZXBzPU1hdGguY2VpbChNYXRoLm1heChNYXRoLmFicyh2eCksTWF0aC5hYnModnkpKS90aGlzLnRpbGVzaXplKTtpZihzdGVwcz4xKXt2YXIgc3g9dngvc3RlcHM7dmFyIHN5PXZ5L3N0ZXBzO2Zvcih2YXIgaT0wO2k8c3RlcHMmJihzeHx8c3kpO2krKyl7dGhpcy5zdGVwKHJlcyx4LHksc3gsc3ksb2JqZWN0V2lkdGgsb2JqZWN0SGVpZ2h0LHZ4LHZ5LGkpO3g9cmVzLnBvcy54O3k9cmVzLnBvcy55O2lmKHJlcy5jb2xsaXNpb24ueCl7c3g9MDt2eD0wO31pZihyZXMuY29sbGlzaW9uLnkpe3N5PTA7dnk9MDt9aWYocmVzLmNvbGxpc2lvbi5zbG9wZSl7YnJlYWs7fX19ZWxzZXt0aGlzLnN0ZXAocmVzLHgseSx2eCx2eSxvYmplY3RXaWR0aCxvYmplY3RIZWlnaHQsdngsdnksMCk7fXJldHVybiByZXM7fSxzdGVwOmZ1bmN0aW9uIHN0ZXAocmVzLHgseSx2eCx2eSx3aWR0aCxoZWlnaHQscnZ4LHJ2eSxfc3RlcCl7cmVzLnBvcy54Kz12eDtyZXMucG9zLnkrPXZ5O2lmKHdpbmRvdy5kdW1waXQpe2NvbnNvbGUubG9nKCdTVEVQJyxyZXMucG9zLngscmVzLnBvcy55LCdWWCcsdngsJ1ZZJyx2eSwnc3RlcCcsX3N0ZXApO312YXIgdD0wO3ZhciB0aWxlc2l6ZT10aGlzLnRpbGVzaXplO3ZhciBtYXBXaWR0aD10aGlzLndpZHRoO3ZhciBtYXBIZWlnaHQ9dGhpcy5oZWlnaHQ7Ly8gIEhvcml6b250YWxcbmlmKHZ4KXt2YXIgcHhPZmZzZXRYPXZ4PjA/d2lkdGg6MDt2YXIgdGlsZU9mZnNldFg9dng8MD90aWxlc2l6ZTowO3ZhciBmaXJzdFRpbGVZPU1hdGgubWF4KE1hdGguZmxvb3IoeS90aWxlc2l6ZSksMCk7dmFyIGxhc3RUaWxlWT1NYXRoLm1pbihNYXRoLmNlaWwoKHkraGVpZ2h0KS90aWxlc2l6ZSksbWFwSGVpZ2h0KTt2YXIgdGlsZVg9TWF0aC5mbG9vcigocmVzLnBvcy54K3B4T2Zmc2V0WCkvdGlsZXNpemUpO3ZhciBwcmV2VGlsZVg9TWF0aC5mbG9vcigoeCtweE9mZnNldFgpL3RpbGVzaXplKTtpZihfc3RlcD4wfHx0aWxlWD09PXByZXZUaWxlWHx8cHJldlRpbGVYPDB8fHByZXZUaWxlWD49bWFwV2lkdGgpe3ByZXZUaWxlWD0tMTt9aWYod2luZG93LmRlYnVnc2xvcGVzKXtjb25zb2xlLmdyb3VwKCdWWCcpO2NvbnNvbGUubG9nKCdweE9mZnNldFgnLHB4T2Zmc2V0WCk7Y29uc29sZS5sb2coJ3RpbGVPZmZzZXRYJyx0aWxlT2Zmc2V0WCk7Y29uc29sZS5sb2coJ2ZpcnN0VGlsZVknLGZpcnN0VGlsZVkpO2NvbnNvbGUubG9nKCdsYXN0VGlsZVknLGxhc3RUaWxlWSk7Y29uc29sZS5sb2coJ3RpbGVYJyx0aWxlWCk7Y29uc29sZS5sb2coJ3ByZXZUaWxlWCcscHJldlRpbGVYKTt9aWYodGlsZVg+PTAmJnRpbGVYPG1hcFdpZHRoKXsvLyBjb25zb2xlLmxvZygnWDonLCB0aWxlWCk7XG5mb3IodmFyIHRpbGVZPWZpcnN0VGlsZVk7dGlsZVk8bGFzdFRpbGVZO3RpbGVZKyspey8vIGNvbnNvbGUubG9nKCdZOicsIHRpbGVZKTtcbmlmKHByZXZUaWxlWCE9PS0xKXt0PXRoaXMuZGF0YVt0aWxlWV1bcHJldlRpbGVYXTsvLyBjb25zb2xlLmxvZygndDEnLCB0KTtcbmlmKHQ+MSYmdDw9dGhpcy5sYXN0U2xvcGUmJnRoaXMuY2hlY2tEZWYocmVzLHQseCx5LHJ2eCxydnksd2lkdGgsaGVpZ2h0LHByZXZUaWxlWCx0aWxlWSkpey8vIGNvbnNvbGUubG9nKCd0MSBicmVhaycpO1xuYnJlYWs7fX10PXRoaXMuZGF0YVt0aWxlWV1bdGlsZVhdO2lmKHdpbmRvdy5kZWJ1Z3Nsb3Blcyl7Y29uc29sZS5sb2coJ1RpbGUgYXQnLHRpbGVYLCd4Jyx0aWxlWSwnPScsdCk7fWlmKHQ9PT0xfHx0PnRoaXMubGFzdFNsb3BlfHx0PjEmJnRoaXMuY2hlY2tEZWYocmVzLHQseCx5LHJ2eCxydnksd2lkdGgsaGVpZ2h0LHRpbGVYLHRpbGVZKSl7aWYodD4xJiZ0PD10aGlzLmxhc3RTbG9wZSYmcmVzLmNvbGxpc2lvbi5zbG9wZSl7Ly8gY29uc29sZS5sb2coJ3QyIGJyZWFrJyk7XG5icmVhazt9cmVzLmNvbGxpc2lvbi54PXRydWU7cmVzLnRpbGUueD10O3Jlcy5wb3MueD10aWxlWCp0aWxlc2l6ZS1weE9mZnNldFgrdGlsZU9mZnNldFg7eD1yZXMucG9zLng7cnZ4PTA7aWYod2luZG93LmRlYnVnc2xvcGVzKXtjb25zb2xlLmxvZygnPj4+IEhpdCBzb2xpZCB0aWxlIDw8PCcpO2NvbnNvbGUubG9nKCd0aWxlWCcsdGlsZVgpO2NvbnNvbGUubG9nKCd0aWxlc2l6ZScsdGlsZXNpemUpO2NvbnNvbGUubG9nKCdweE9mZnNldFgnLHB4T2Zmc2V0WCk7Y29uc29sZS5sb2coJ3RpbGVPZmZzZXRYJyx0aWxlT2Zmc2V0WCk7Y29uc29sZS5sb2coJz0nLHJlcy5wb3MueCk7fS8vICA5ICogMzIgPSAyODhcbi8vICAtIDE2ID0gMjcyXG4vLyAgKyAwID0gMjcyXG4vLyAgV2hlcmUgZG9lcyB0aGUgMTYgY29tZSBmcm9tP1xuYnJlYWs7fX19aWYod2luZG93LmRlYnVnc2xvcGVzKXtjb25zb2xlLmdyb3VwRW5kKCk7fX0vLyAgVmVydGljYWxcbmlmKHZ5KXt2YXIgcHhPZmZzZXRZPXZ5PjA/aGVpZ2h0OjA7dmFyIHRpbGVPZmZzZXRZPXZ5PDA/dGlsZXNpemU6MDt2YXIgZmlyc3RUaWxlWD1NYXRoLm1heChNYXRoLmZsb29yKHJlcy5wb3MueC90aWxlc2l6ZSksMCk7dmFyIGxhc3RUaWxlWD1NYXRoLm1pbihNYXRoLmNlaWwoKHJlcy5wb3MueCt3aWR0aCkvdGlsZXNpemUpLG1hcFdpZHRoKTt2YXIgdGlsZVk9TWF0aC5mbG9vcigocmVzLnBvcy55K3B4T2Zmc2V0WSkvdGlsZXNpemUpO3ZhciBwcmV2VGlsZVk9TWF0aC5mbG9vcigoeStweE9mZnNldFkpL3RpbGVzaXplKTtpZihfc3RlcD4wfHx0aWxlWT09PXByZXZUaWxlWXx8cHJldlRpbGVZPDB8fHByZXZUaWxlWT49bWFwSGVpZ2h0KXtwcmV2VGlsZVk9LTE7fWlmKHRpbGVZPj0wJiZ0aWxlWTxtYXBIZWlnaHQpe2Zvcih2YXIgdGlsZVg9Zmlyc3RUaWxlWDt0aWxlWDxsYXN0VGlsZVg7dGlsZVgrKyl7aWYocHJldlRpbGVZIT09LTEpe3Q9dGhpcy5kYXRhW3ByZXZUaWxlWV1bdGlsZVhdO2lmKHQ+MSYmdDw9dGhpcy5sYXN0U2xvcGUmJnRoaXMuY2hlY2tEZWYocmVzLHQseCx5LHJ2eCxydnksd2lkdGgsaGVpZ2h0LHRpbGVYLHByZXZUaWxlWSkpe2JyZWFrO319dD10aGlzLmRhdGFbdGlsZVldW3RpbGVYXTtpZih0PT09MXx8dD50aGlzLmxhc3RTbG9wZXx8dD4xJiZ0aGlzLmNoZWNrRGVmKHJlcyx0LHgseSxydngscnZ5LHdpZHRoLGhlaWdodCx0aWxlWCx0aWxlWSkpe2lmKHQ+MSYmdDw9dGhpcy5sYXN0U2xvcGUmJnJlcy5jb2xsaXNpb24uc2xvcGUpe2JyZWFrO31yZXMuY29sbGlzaW9uLnk9dHJ1ZTtyZXMudGlsZS55PXQ7cmVzLnBvcy55PXRpbGVZKnRpbGVzaXplLXB4T2Zmc2V0WSt0aWxlT2Zmc2V0WTticmVhazt9fX19fSxjaGVja0RlZjpmdW5jdGlvbiBjaGVja0RlZihyZXMsdCx4LHksdngsdnksd2lkdGgsaGVpZ2h0LHRpbGVYLHRpbGVZKXt2YXIgZGVmPXRoaXMudGlsZWRlZlt0XTtpZighZGVmKXtyZXR1cm4gZmFsc2U7fXZhciB0aWxlc2l6ZT10aGlzLnRpbGVzaXplO3ZhciBseD0odGlsZVgrZGVmWzBdKSp0aWxlc2l6ZTt2YXIgbHk9KHRpbGVZK2RlZlsxXSkqdGlsZXNpemU7dmFyIGx2eD0oZGVmWzJdLWRlZlswXSkqdGlsZXNpemU7dmFyIGx2eT0oZGVmWzNdLWRlZlsxXSkqdGlsZXNpemU7dmFyIHNvbGlkPWRlZls0XTt2YXIgdHg9eCt2eCsobHZ5PDA/d2lkdGg6MCktbHg7dmFyIHR5PXkrdnkrKGx2eD4wP2hlaWdodDowKS1seTtpZihsdngqdHktbHZ5KnR4PjApe2lmKHZ4Ki1sdnkrdnkqbHZ4PDApe3JldHVybiBzb2xpZDt9dmFyIGxlbmd0aD1NYXRoLnNxcnQobHZ4Kmx2eCtsdnkqbHZ5KTt2YXIgbng9bHZ5L2xlbmd0aDt2YXIgbnk9LWx2eC9sZW5ndGg7dmFyIHByb2o9dHgqbngrdHkqbnk7dmFyIHB4PW54KnByb2o7dmFyIHB5PW55KnByb2o7aWYocHgqcHgrcHkqcHk+PXZ4KnZ4K3Z5KnZ5KXtyZXR1cm4gc29saWR8fGx2eCoodHktdnkpLWx2eSoodHgtdngpPDAuNTt9cmVzLnBvcy54PXgrdngtcHg7cmVzLnBvcy55PXkrdnktcHk7cmVzLmNvbGxpc2lvbi5zbG9wZT17eDpsdngseTpsdnksbng6bngsbnk6bnl9O3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fX0pO21vZHVsZS5leHBvcnRzPUNvbGxpc2lvbk1hcDsvKioqL30sLyogMjE2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFJlbW92ZXMgYSBzaW5nbGUgaXRlbSBmcm9tIGFuIGFycmF5IGFuZCByZXR1cm5zIGl0XG4vLyAgd2l0aG91dCBjcmVhdGluZyBnYyAobGlrZSB0aGUgbmF0aXZlIHNwbGljZSBkb2VzKVxuLy8gIEJhc2VkIG9uIGNvZGUgYnkgTWlrZSBSZWluc3RlaW5cbnZhciBTcGxpY2VPbmU9ZnVuY3Rpb24gU3BsaWNlT25lKGFycmF5LGluZGV4KXtpZihpbmRleD49YXJyYXkubGVuZ3RoKXtyZXR1cm47fXZhciBsZW49YXJyYXkubGVuZ3RoLTE7dmFyIGl0ZW09YXJyYXlbaW5kZXhdO2Zvcih2YXIgaT1pbmRleDtpPGxlbjtpKyspe2FycmF5W2ldPWFycmF5W2krMV07fWFycmF5Lmxlbmd0aD1sZW47cmV0dXJuIGl0ZW07fTttb2R1bGUuZXhwb3J0cz1TcGxpY2VPbmU7LyoqKi99LC8qIDIxNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCl7X193ZWJwYWNrX3JlcXVpcmVfXygyMTgpO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO3ZhciBFeHRlbmQ9X193ZWJwYWNrX3JlcXVpcmVfXyg2MCk7Ly8gIFRoaXMgb2JqZWN0IGlzIGV4cG9ydGVkIGdsb2JhbGx5XG52YXIgUGhhc2VyPXtBY3Rpb25zOl9fd2VicGFja19yZXF1aXJlX18oOTkpLENyZWF0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDMwOCksRE9NOl9fd2VicGFja19yZXF1aXJlX18oMzE1KSxHYW1lOl9fd2VicGFja19yZXF1aXJlX18oMzIyKSxFdmVudDpfX3dlYnBhY2tfcmVxdWlyZV9fKDEpLEV2ZW50RGlzcGF0Y2hlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxNYXRoOl9fd2VicGFja19yZXF1aXJlX18oNjYpLEdlb206X193ZWJwYWNrX3JlcXVpcmVfXyg3MzkpLEdyYXBoaWNzOl9fd2VicGFja19yZXF1aXJlX18oODU5KSxJbnB1dDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg4NSksR2FtZU9iamVjdHM6X193ZWJwYWNrX3JlcXVpcmVfXyg4OTIpLFNjZW5lOl9fd2VicGFja19yZXF1aXJlX18oNDQpLExvYWRlcjp7SW1hZ2VGaWxlOl9fd2VicGFja19yZXF1aXJlX18oNDcpfSxTb3VuZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg5MyksU3RydWN0czpfX3dlYnBhY2tfcmVxdWlyZV9fKDg5NiksUGh5c2ljczpfX3dlYnBhY2tfcmVxdWlyZV9fKDg5OCksQ2xhc3M6X193ZWJwYWNrX3JlcXVpcmVfXygwKSxVdGlsczpfX3dlYnBhY2tfcmVxdWlyZV9fKDkwOCl9Oy8vICAgTWVyZ2UgaW4gdGhlIGNvbnN0c1xuUGhhc2VyPUV4dGVuZChmYWxzZSxQaGFzZXIsQ09OU1QpOy8vICBFeHBvcnQgaXRcbm1vZHVsZS5leHBvcnRzPVBoYXNlcjtnbG9iYWwuUGhhc2VyPVBoYXNlcjsvKlxuICogXCJEb2N1bWVudGF0aW9uIGlzIGxpa2Ugc2V4OiAgd2hlbiBpdCBpcyBnb29kLCBpdCBpcyB2ZXJ5LCB2ZXJ5IGdvb2Q7XG4gKiBhbmQgd2hlbiBpdCBpcyBiYWQsIGl0IGlzIGJldHRlciB0aGFuIG5vdGhpbmcuXCJcbiAqICAtLSBEaWNrIEJyYW5kb25cbiAqLy8qXG4gKiBcIlNvbWV0aW1lcywgdGhlIGVsZWdhbnQgaW1wbGVtZW50YXRpb24gaXMganVzdCBhIGZ1bmN0aW9uLlxuICogTm90IGEgbWV0aG9kLiBOb3QgYSBjbGFzcy4gTm90IGEgZnJhbWV3b3JrLiBKdXN0IGEgZnVuY3Rpb24uXCJcbiAqICAtLSBKb2huIENhcm1hY2tcbiAqLy8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30pLmNhbGwoZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KSk7LyoqKi99LC8qIDIxOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7X193ZWJwYWNrX3JlcXVpcmVfXygyMTkpO19fd2VicGFja19yZXF1aXJlX18oMjIwKTtfX3dlYnBhY2tfcmVxdWlyZV9fKDIyMSk7X193ZWJwYWNrX3JlcXVpcmVfXygyMjIpO19fd2VicGFja19yZXF1aXJlX18oMjIzKTtfX3dlYnBhY2tfcmVxdWlyZV9fKDIyNCk7X193ZWJwYWNrX3JlcXVpcmVfXygyMjUpO19fd2VicGFja19yZXF1aXJlX18oMjI2KTtfX3dlYnBhY2tfcmVxdWlyZV9fKDIyNyk7LyoqKi99LC8qIDIxOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBBIHBvbHlmaWxsIGZvciBBcnJheS5mb3JFYWNoXG4qIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZvckVhY2hcbiovaWYoIUFycmF5LnByb3RvdHlwZS5mb3JFYWNoKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihmdW4vKiwgdGhpc0FyZyAqLyl7J3VzZSBzdHJpY3QnO2lmKHRoaXM9PT12b2lkIDB8fHRoaXM9PT1udWxsKXt0aHJvdyBuZXcgVHlwZUVycm9yKCk7fXZhciB0PU9iamVjdCh0aGlzKTt2YXIgbGVuPXQubGVuZ3RoPj4+MDtpZih0eXBlb2YgZnVuIT09J2Z1bmN0aW9uJyl7dGhyb3cgbmV3IFR5cGVFcnJvcigpO312YXIgdGhpc0FyZz1hcmd1bWVudHMubGVuZ3RoPj0yP2FyZ3VtZW50c1sxXTp2b2lkIDA7Zm9yKHZhciBpPTA7aTxsZW47aSsrKXtpZihpIGluIHQpe2Z1bi5jYWxsKHRoaXNBcmcsdFtpXSxpLHQpO319fTt9LyoqKi99LC8qIDIyMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBBIHBvbHlmaWxsIGZvciBBcnJheS5pc0FycmF5XG4qL2lmKCFBcnJheS5pc0FycmF5KXtBcnJheS5pc0FycmF5PWZ1bmN0aW9uKGFyZyl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpPT09J1tvYmplY3QgQXJyYXldJzt9O30vKioqL30sLyogMjIxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyogQ29weXJpZ2h0IDIwMTMgQ2hyaXMgV2lsc29uXG5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcblxuICAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG4gICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAgIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAgIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi8vKlxuXG5UaGlzIG1vbmtleXBhdGNoIGxpYnJhcnkgaXMgaW50ZW5kZWQgdG8gYmUgaW5jbHVkZWQgaW4gcHJvamVjdHMgdGhhdCBhcmVcbndyaXR0ZW4gdG8gdGhlIHByb3BlciBBdWRpb0NvbnRleHQgc3BlYyAoaW5zdGVhZCBvZiB3ZWJraXRBdWRpb0NvbnRleHQpLFxuYW5kIHRoYXQgdXNlIHRoZSBuZXcgbmFtaW5nIGFuZCBwcm9wZXIgYml0cyBvZiB0aGUgV2ViIEF1ZGlvIEFQSSAoZS5nLlxudXNpbmcgQnVmZmVyU291cmNlTm9kZS5zdGFydCgpIGluc3RlYWQgb2YgQnVmZmVyU291cmNlTm9kZS5ub3RlT24oKSksIGJ1dCBtYXlcbmhhdmUgdG8gcnVuIG9uIHN5c3RlbXMgdGhhdCBvbmx5IHN1cHBvcnQgdGhlIGRlcHJlY2F0ZWQgYml0cy5cblxuVGhpcyBsaWJyYXJ5IHNob3VsZCBiZSBoYXJtbGVzcyB0byBpbmNsdWRlIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzXG51bnByZWZpeGVkIFwiQXVkaW9Db250ZXh0XCIsIGFuZC9vciBpZiBpdCBzdXBwb3J0cyB0aGUgbmV3IG5hbWVzLlxuXG5UaGUgcGF0Y2hlcyB0aGlzIGxpYnJhcnkgaGFuZGxlczpcbmlmIHdpbmRvdy5BdWRpb0NvbnRleHQgaXMgdW5zdXBwb3J0ZWQsIGl0IHdpbGwgYmUgYWxpYXNlZCB0byB3ZWJraXRBdWRpb0NvbnRleHQoKS5cbmlmIEF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdGFydCgpIGlzIHVuaW1wbGVtZW50ZWQsIGl0IHdpbGwgYmUgcm91dGVkIHRvIG5vdGVPbigpIG9yXG5ub3RlR3JhaW5PbigpLCBkZXBlbmRpbmcgb24gcGFyYW1ldGVycy5cblxuVGhlIGZvbGxvd2luZyBhbGlhc2VzIG9ubHkgdGFrZSBlZmZlY3QgaWYgdGhlIG5ldyBuYW1lcyBhcmUgbm90IGFscmVhZHkgaW4gcGxhY2U6XG5cbkF1ZGlvQnVmZmVyU291cmNlTm9kZS5zdG9wKCkgaXMgYWxpYXNlZCB0byBub3RlT2ZmKClcbkF1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCkgaXMgYWxpYXNlZCB0byBjcmVhdGVHYWluTm9kZSgpXG5BdWRpb0NvbnRleHQuY3JlYXRlRGVsYXkoKSBpcyBhbGlhc2VkIHRvIGNyZWF0ZURlbGF5Tm9kZSgpXG5BdWRpb0NvbnRleHQuY3JlYXRlU2NyaXB0UHJvY2Vzc29yKCkgaXMgYWxpYXNlZCB0byBjcmVhdGVKYXZhU2NyaXB0Tm9kZSgpXG5BdWRpb0NvbnRleHQuY3JlYXRlUGVyaW9kaWNXYXZlKCkgaXMgYWxpYXNlZCB0byBjcmVhdGVXYXZlVGFibGUoKVxuT3NjaWxsYXRvck5vZGUuc3RhcnQoKSBpcyBhbGlhc2VkIHRvIG5vdGVPbigpXG5Pc2NpbGxhdG9yTm9kZS5zdG9wKCkgaXMgYWxpYXNlZCB0byBub3RlT2ZmKClcbk9zY2lsbGF0b3JOb2RlLnNldFBlcmlvZGljV2F2ZSgpIGlzIGFsaWFzZWQgdG8gc2V0V2F2ZVRhYmxlKClcbkF1ZGlvUGFyYW0uc2V0VGFyZ2V0QXRUaW1lKCkgaXMgYWxpYXNlZCB0byBzZXRUYXJnZXRWYWx1ZUF0VGltZSgpXG5cblRoaXMgbGlicmFyeSBkb2VzIE5PVCBwYXRjaCB0aGUgZW51bWVyYXRlZCB0eXBlIGNoYW5nZXMsIGFzIGl0IGlzXG5yZWNvbW1lbmRlZCBpbiB0aGUgc3BlY2lmaWNhdGlvbiB0aGF0IGltcGxlbWVudGF0aW9ucyBzdXBwb3J0IGJvdGggaW50ZWdlclxuYW5kIHN0cmluZyB0eXBlcyBmb3IgQXVkaW9QYW5uZXJOb2RlLnBhbm5pbmdNb2RlbCwgQXVkaW9QYW5uZXJOb2RlLmRpc3RhbmNlTW9kZWxcbkJpcXVhZEZpbHRlck5vZGUudHlwZSBhbmQgT3NjaWxsYXRvck5vZGUudHlwZS5cblxuKi8oZnVuY3Rpb24oZ2xvYmFsLGV4cG9ydHMscGVyZil7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIGZpeFNldFRhcmdldChwYXJhbSl7aWYoIXBhcmFtKS8vIGlmIE5ZSSwganVzdCByZXR1cm5cbnJldHVybjtpZighcGFyYW0uc2V0VGFyZ2V0QXRUaW1lKXBhcmFtLnNldFRhcmdldEF0VGltZT1wYXJhbS5zZXRUYXJnZXRWYWx1ZUF0VGltZTt9aWYod2luZG93Lmhhc093blByb3BlcnR5KCd3ZWJraXRBdWRpb0NvbnRleHQnKSYmIXdpbmRvdy5oYXNPd25Qcm9wZXJ0eSgnQXVkaW9Db250ZXh0Jykpe3dpbmRvdy5BdWRpb0NvbnRleHQ9d2Via2l0QXVkaW9Db250ZXh0O2lmKCFBdWRpb0NvbnRleHQucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdjcmVhdGVHYWluJykpQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVHYWluPUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2Fpbk5vZGU7aWYoIUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2NyZWF0ZURlbGF5JykpQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVEZWxheT1BdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZURlbGF5Tm9kZTtpZighQXVkaW9Db250ZXh0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnY3JlYXRlU2NyaXB0UHJvY2Vzc29yJykpQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVTY3JpcHRQcm9jZXNzb3I9QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVKYXZhU2NyaXB0Tm9kZTtpZighQXVkaW9Db250ZXh0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnY3JlYXRlUGVyaW9kaWNXYXZlJykpQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVQZXJpb2RpY1dhdmU9QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVXYXZlVGFibGU7QXVkaW9Db250ZXh0LnByb3RvdHlwZS5pbnRlcm5hbF9jcmVhdGVHYWluPUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlR2FpbjtBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUdhaW49ZnVuY3Rpb24oKXt2YXIgbm9kZT10aGlzLmludGVybmFsX2NyZWF0ZUdhaW4oKTtmaXhTZXRUYXJnZXQobm9kZS5nYWluKTtyZXR1cm4gbm9kZTt9O0F1ZGlvQ29udGV4dC5wcm90b3R5cGUuaW50ZXJuYWxfY3JlYXRlRGVsYXk9QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVEZWxheTtBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZURlbGF5PWZ1bmN0aW9uKG1heERlbGF5VGltZSl7dmFyIG5vZGU9bWF4RGVsYXlUaW1lP3RoaXMuaW50ZXJuYWxfY3JlYXRlRGVsYXkobWF4RGVsYXlUaW1lKTp0aGlzLmludGVybmFsX2NyZWF0ZURlbGF5KCk7Zml4U2V0VGFyZ2V0KG5vZGUuZGVsYXlUaW1lKTtyZXR1cm4gbm9kZTt9O0F1ZGlvQ29udGV4dC5wcm90b3R5cGUuaW50ZXJuYWxfY3JlYXRlQnVmZmVyU291cmNlPUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQnVmZmVyU291cmNlO0F1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQnVmZmVyU291cmNlPWZ1bmN0aW9uKCl7dmFyIG5vZGU9dGhpcy5pbnRlcm5hbF9jcmVhdGVCdWZmZXJTb3VyY2UoKTtpZighbm9kZS5zdGFydCl7bm9kZS5zdGFydD1mdW5jdGlvbih3aGVuLG9mZnNldCxkdXJhdGlvbil7aWYob2Zmc2V0fHxkdXJhdGlvbil0aGlzLm5vdGVHcmFpbk9uKHdoZW58fDAsb2Zmc2V0LGR1cmF0aW9uKTtlbHNlIHRoaXMubm90ZU9uKHdoZW58fDApO307fWVsc2V7bm9kZS5pbnRlcm5hbF9zdGFydD1ub2RlLnN0YXJ0O25vZGUuc3RhcnQ9ZnVuY3Rpb24od2hlbixvZmZzZXQsZHVyYXRpb24pe2lmKHR5cGVvZiBkdXJhdGlvbiE9PSd1bmRlZmluZWQnKW5vZGUuaW50ZXJuYWxfc3RhcnQod2hlbnx8MCxvZmZzZXQsZHVyYXRpb24pO2Vsc2Ugbm9kZS5pbnRlcm5hbF9zdGFydCh3aGVufHwwLG9mZnNldHx8MCk7fTt9aWYoIW5vZGUuc3RvcCl7bm9kZS5zdG9wPWZ1bmN0aW9uKHdoZW4pe3RoaXMubm90ZU9mZih3aGVufHwwKTt9O31lbHNle25vZGUuaW50ZXJuYWxfc3RvcD1ub2RlLnN0b3A7bm9kZS5zdG9wPWZ1bmN0aW9uKHdoZW4pe25vZGUuaW50ZXJuYWxfc3RvcCh3aGVufHwwKTt9O31maXhTZXRUYXJnZXQobm9kZS5wbGF5YmFja1JhdGUpO3JldHVybiBub2RlO307QXVkaW9Db250ZXh0LnByb3RvdHlwZS5pbnRlcm5hbF9jcmVhdGVEeW5hbWljc0NvbXByZXNzb3I9QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3I7QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3I9ZnVuY3Rpb24oKXt2YXIgbm9kZT10aGlzLmludGVybmFsX2NyZWF0ZUR5bmFtaWNzQ29tcHJlc3NvcigpO2ZpeFNldFRhcmdldChub2RlLnRocmVzaG9sZCk7Zml4U2V0VGFyZ2V0KG5vZGUua25lZSk7Zml4U2V0VGFyZ2V0KG5vZGUucmF0aW8pO2ZpeFNldFRhcmdldChub2RlLnJlZHVjdGlvbik7Zml4U2V0VGFyZ2V0KG5vZGUuYXR0YWNrKTtmaXhTZXRUYXJnZXQobm9kZS5yZWxlYXNlKTtyZXR1cm4gbm9kZTt9O0F1ZGlvQ29udGV4dC5wcm90b3R5cGUuaW50ZXJuYWxfY3JlYXRlQmlxdWFkRmlsdGVyPUF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQmlxdWFkRmlsdGVyO0F1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQmlxdWFkRmlsdGVyPWZ1bmN0aW9uKCl7dmFyIG5vZGU9dGhpcy5pbnRlcm5hbF9jcmVhdGVCaXF1YWRGaWx0ZXIoKTtmaXhTZXRUYXJnZXQobm9kZS5mcmVxdWVuY3kpO2ZpeFNldFRhcmdldChub2RlLmRldHVuZSk7Zml4U2V0VGFyZ2V0KG5vZGUuUSk7Zml4U2V0VGFyZ2V0KG5vZGUuZ2Fpbik7cmV0dXJuIG5vZGU7fTtpZihBdWRpb0NvbnRleHQucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdjcmVhdGVPc2NpbGxhdG9yJykpe0F1ZGlvQ29udGV4dC5wcm90b3R5cGUuaW50ZXJuYWxfY3JlYXRlT3NjaWxsYXRvcj1BdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZU9zY2lsbGF0b3I7QXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVPc2NpbGxhdG9yPWZ1bmN0aW9uKCl7dmFyIG5vZGU9dGhpcy5pbnRlcm5hbF9jcmVhdGVPc2NpbGxhdG9yKCk7aWYoIW5vZGUuc3RhcnQpe25vZGUuc3RhcnQ9ZnVuY3Rpb24od2hlbil7dGhpcy5ub3RlT24od2hlbnx8MCk7fTt9ZWxzZXtub2RlLmludGVybmFsX3N0YXJ0PW5vZGUuc3RhcnQ7bm9kZS5zdGFydD1mdW5jdGlvbih3aGVuKXtub2RlLmludGVybmFsX3N0YXJ0KHdoZW58fDApO307fWlmKCFub2RlLnN0b3Ape25vZGUuc3RvcD1mdW5jdGlvbih3aGVuKXt0aGlzLm5vdGVPZmYod2hlbnx8MCk7fTt9ZWxzZXtub2RlLmludGVybmFsX3N0b3A9bm9kZS5zdG9wO25vZGUuc3RvcD1mdW5jdGlvbih3aGVuKXtub2RlLmludGVybmFsX3N0b3Aod2hlbnx8MCk7fTt9aWYoIW5vZGUuc2V0UGVyaW9kaWNXYXZlKW5vZGUuc2V0UGVyaW9kaWNXYXZlPW5vZGUuc2V0V2F2ZVRhYmxlO2ZpeFNldFRhcmdldChub2RlLmZyZXF1ZW5jeSk7Zml4U2V0VGFyZ2V0KG5vZGUuZGV0dW5lKTtyZXR1cm4gbm9kZTt9O319aWYod2luZG93Lmhhc093blByb3BlcnR5KCd3ZWJraXRPZmZsaW5lQXVkaW9Db250ZXh0JykmJiF3aW5kb3cuaGFzT3duUHJvcGVydHkoJ09mZmxpbmVBdWRpb0NvbnRleHQnKSl7d2luZG93Lk9mZmxpbmVBdWRpb0NvbnRleHQ9d2Via2l0T2ZmbGluZUF1ZGlvQ29udGV4dDt9fSkod2luZG93KTsvKioqL30sLyogMjIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4gKiBBbHNvIGZpeCBmb3IgdGhlIGFic2VudCBjb25zb2xlIGluIElFOVxuICovaWYoIXdpbmRvdy5jb25zb2xlKXt3aW5kb3cuY29uc29sZT17fTt3aW5kb3cuY29uc29sZS5sb2c9d2luZG93LmNvbnNvbGUuYXNzZXJ0PWZ1bmN0aW9uKCl7fTt3aW5kb3cuY29uc29sZS53YXJuPXdpbmRvdy5jb25zb2xlLmFzc2VydD1mdW5jdGlvbigpe307fS8qKiovfSwvKiAyMjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogQSBwb2x5ZmlsbCBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiovaWYoIUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKXsvKiBqc2hpbnQgZnJlZXplOiBmYWxzZSAqL0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKCl7dmFyIHNsaWNlPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm4gZnVuY3Rpb24odGhpc0FyZyl7dmFyIHRhcmdldD10aGlzLGJvdW5kQXJncz1zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZih0eXBlb2YgdGFyZ2V0IT09J2Z1bmN0aW9uJyl7dGhyb3cgbmV3IFR5cGVFcnJvcigpO31mdW5jdGlvbiBib3VuZCgpe3ZhciBhcmdzPWJvdW5kQXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKTt0YXJnZXQuYXBwbHkodGhpcyBpbnN0YW5jZW9mIGJvdW5kP3RoaXM6dGhpc0FyZyxhcmdzKTt9Ym91bmQucHJvdG90eXBlPWZ1bmN0aW9uIEYocHJvdG8pe2lmKHByb3RvKXtGLnByb3RvdHlwZT1wcm90bzt9aWYoISh0aGlzIGluc3RhbmNlb2YgRikpey8qIGpzaGludCBzdXBlcm5ldzogdHJ1ZSAqL3JldHVybiBuZXcgRigpO319KHRhcmdldC5wcm90b3R5cGUpO3JldHVybiBib3VuZDt9O30oKTt9LyoqKi99LC8qIDIyNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIEVTNiBNYXRoLnRydW5jIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aC90cnVuY1xuaWYoIU1hdGgudHJ1bmMpe01hdGgudHJ1bmM9ZnVuY3Rpb24gdHJ1bmMoeCl7cmV0dXJuIHg8MD9NYXRoLmNlaWwoeCk6TWF0aC5mbG9vcih4KTt9O30vKioqL30sLyogMjI1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4gKiBwZXJmb3JtYW5jZS5ub3dcbiAqLyhmdW5jdGlvbigpe2lmKCdwZXJmb3JtYW5jZSdpbiB3aW5kb3c9PT1mYWxzZSl7d2luZG93LnBlcmZvcm1hbmNlPXt9O30vLyAgVGhhbmtzIElFOFxuRGF0ZS5ub3c9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO307aWYoJ25vdydpbiB3aW5kb3cucGVyZm9ybWFuY2U9PT1mYWxzZSl7dmFyIG5vd09mZnNldD1EYXRlLm5vdygpO2lmKHBlcmZvcm1hbmNlLnRpbWluZyYmcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCl7bm93T2Zmc2V0PXBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7fXdpbmRvdy5wZXJmb3JtYW5jZS5ub3c9ZnVuY3Rpb24gbm93KCl7cmV0dXJuIERhdGUubm93KCktbm93T2Zmc2V0O307fX0pKCk7LyoqKi99LC8qIDIyNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKGdsb2JhbCl7Ly8gUmVmZXJlbmNlczpcbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNTc5NjcxXG4vLyBodHRwOi8vdXBkYXRlcy5odG1sNXJvY2tzLmNvbS8yMDEyLzA1L3JlcXVlc3RBbmltYXRpb25GcmFtZS1BUEktbm93LXdpdGgtc3ViLW1pbGxpc2Vjb25kLXByZWNpc2lvblxuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vdGltaGFsbC80MDc4NjE0XG4vLyBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvdHJlZS9tYXN0ZXIvcG9seWZpbGxzL3JlcXVlc3RBbmltYXRpb25GcmFtZVxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG4vLyBEYXRlLm5vd1xuaWYoIShEYXRlLm5vdyYmRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpe0RhdGUubm93PWZ1bmN0aW9uIG5vdygpe3JldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTt9O30vLyBwZXJmb3JtYW5jZS5ub3dcbmlmKCEoZ2xvYmFsLnBlcmZvcm1hbmNlJiZnbG9iYWwucGVyZm9ybWFuY2Uubm93KSl7dmFyIHN0YXJ0VGltZT1EYXRlLm5vdygpO2lmKCFnbG9iYWwucGVyZm9ybWFuY2Upe2dsb2JhbC5wZXJmb3JtYW5jZT17fTt9Z2xvYmFsLnBlcmZvcm1hbmNlLm5vdz1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLXN0YXJ0VGltZTt9O30vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbnZhciBsYXN0VGltZT1EYXRlLm5vdygpO3ZhciB2ZW5kb3JzPVsnbXMnLCdtb3onLCd3ZWJraXQnLCdvJ107Zm9yKHZhciB4PTA7eDx2ZW5kb3JzLmxlbmd0aCYmIWdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7Kyt4KXtnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWdsb2JhbFt2ZW5kb3JzW3hdKydSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWU9Z2xvYmFsW3ZlbmRvcnNbeF0rJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ118fGdsb2JhbFt2ZW5kb3JzW3hdKydDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTt9aWYoIWdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpe2dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKHR5cGVvZiBjYWxsYmFjayE9PSdmdW5jdGlvbicpe3Rocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2srJ2lzIG5vdCBhIGZ1bmN0aW9uJyk7fXZhciBjdXJyZW50VGltZT1EYXRlLm5vdygpLGRlbGF5PTE2K2xhc3RUaW1lLWN1cnJlbnRUaW1lO2lmKGRlbGF5PDApe2RlbGF5PTA7fWxhc3RUaW1lPWN1cnJlbnRUaW1lO3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bGFzdFRpbWU9RGF0ZS5ub3coKTtjYWxsYmFjayhwZXJmb3JtYW5jZS5ub3coKSk7fSxkZWxheSk7fTt9aWYoIWdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSl7Z2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKGlkKXtjbGVhclRpbWVvdXQoaWQpO307fS8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30pLmNhbGwoZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKDk3KSk7LyoqKi99LC8qIDIyNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBMb3ctYnVkZ2V0IEZsb2F0MzJBcnJheSBrbm9jay1vZmYsIHN1aXRhYmxlIGZvciB1c2Ugd2l0aCBQMi5qcyBpbiBJRTlcbiogU291cmNlOiBodHRwOi8vd3d3Lmh0bWw1Z2FtZWRldnMuY29tL3RvcGljLzU5ODgtcGhhc2VyLTEyLWllOS9cbiogQ2FtZXJvbiBGb2FsZSAoaHR0cDovL3d3dy5raWJpYnUuY29tKVxuKi9pZih0eXBlb2Ygd2luZG93LlVpbnQzMkFycmF5IT09XCJmdW5jdGlvblwiJiZfdHlwZW9mKHdpbmRvdy5VaW50MzJBcnJheSkhPT1cIm9iamVjdFwiKXt2YXIgQ2hlYXBBcnJheT1mdW5jdGlvbiBDaGVhcEFycmF5KHR5cGUpe3ZhciBwcm90bz1uZXcgQXJyYXkoKTsvLyBqc2hpbnQgaWdub3JlOmxpbmVcbndpbmRvd1t0eXBlXT1mdW5jdGlvbihhcmcpe2lmKHR5cGVvZiBhcmc9PT1cIm51bWJlclwiKXtBcnJheS5jYWxsKHRoaXMsYXJnKTt0aGlzLmxlbmd0aD1hcmc7Zm9yKHZhciBpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3RoaXNbaV09MDt9fWVsc2V7QXJyYXkuY2FsbCh0aGlzLGFyZy5sZW5ndGgpO3RoaXMubGVuZ3RoPWFyZy5sZW5ndGg7Zm9yKHZhciBpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3RoaXNbaV09YXJnW2ldO319fTt3aW5kb3dbdHlwZV0ucHJvdG90eXBlPXByb3RvO3dpbmRvd1t0eXBlXS5jb25zdHJ1Y3Rvcj13aW5kb3dbdHlwZV07fTtDaGVhcEFycmF5KCdGbG9hdDMyQXJyYXknKTsvLyBqc2hpbnQgaWdub3JlOmxpbmVcbkNoZWFwQXJyYXkoJ1VpbnQzMkFycmF5Jyk7Ly8ganNoaW50IGlnbm9yZTpsaW5lXG5DaGVhcEFycmF5KCdVaW50MTZBcnJheScpOy8vIGpzaGludCBpZ25vcmU6bGluZVxuQ2hlYXBBcnJheSgnSW50MTZBcnJheScpOy8vIGpzaGludCBpZ25vcmU6bGluZVxuQ2hlYXBBcnJheSgnQXJyYXlCdWZmZXInKTsvLyBqc2hpbnQgaWdub3JlOmxpbmVcbn0vKioqL30sLyogMjI4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEFuZ2xlPWZ1bmN0aW9uIEFuZ2xlKGl0ZW1zLHZhbHVlKXtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLmFuZ2xlKz12YWx1ZTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9QW5nbGU7LyoqKi99LC8qIDIyOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDYWxsPWZ1bmN0aW9uIENhbGwoaXRlbXMsY2FsbGJhY2ssdGhpc0FyZyl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1pdGVtc1tpXTtjYWxsYmFjay5jYWxsKHRoaXNBcmcsaXRlbSk7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPUNhbGw7LyoqKi99LC8qIDIzMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBjb21wYXJlID0gT2JqZWN0OlxuLy8gIHtcbi8vICAgICAgc2NhbGVYOiAwLjUsXG4vLyAgICAgIHNjYWxlWTogMVxuLy8gIH1cbnZhciBHZXRGaXJzdD1mdW5jdGlvbiBHZXRGaXJzdChpdGVtcyxjb21wYXJlLGluZGV4KXtmb3IodmFyIGk9aW5kZXg7aTxpdGVtcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1pdGVtc1tpXTt2YXIgbWF0Y2g9dHJ1ZTtmb3IodmFyIHByb3BlcnR5IGluIGNvbXBhcmUpe2lmKGl0ZW1bcHJvcGVydHldIT09Y29tcGFyZVtwcm9wZXJ0eV0pe21hdGNoPWZhbHNlO319aWYobWF0Y2gpe3JldHVybiBpdGVtO319cmV0dXJuIG51bGw7fTttb2R1bGUuZXhwb3J0cz1HZXRGaXJzdDsvKioqL30sLyogMjMxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMDApO3ZhciBBbGlnbkluPV9fd2VicGFja19yZXF1aXJlX18oMjMyKTt2YXIgWm9uZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYxKTt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgdGVtcFpvbmU9bmV3IFpvbmUoe3N5czp7c29ydENoaWxkcmVuRmxhZzpmYWxzZX19LDAsMCwxLDEpO3ZhciBHcmlkQWxpZ249ZnVuY3Rpb24gR3JpZEFsaWduKGl0ZW1zLG9wdGlvbnMpe3ZhciB3aWR0aD1HZXRWYWx1ZShvcHRpb25zLCd3aWR0aCcsLTEpO3ZhciBoZWlnaHQ9R2V0VmFsdWUob3B0aW9ucywnaGVpZ2h0JywtMSk7dmFyIGNlbGxXaWR0aD1HZXRWYWx1ZShvcHRpb25zLCdjZWxsV2lkdGgnLDEpO3ZhciBjZWxsSGVpZ2h0PUdldFZhbHVlKG9wdGlvbnMsJ2NlbGxIZWlnaHQnLGNlbGxXaWR0aCk7dmFyIHBvc2l0aW9uPUdldFZhbHVlKG9wdGlvbnMsJ3Bvc2l0aW9uJyxDT05TVC5UT1BfTEVGVCk7dmFyIHg9R2V0VmFsdWUob3B0aW9ucywneCcsMCk7dmFyIHk9R2V0VmFsdWUob3B0aW9ucywneScsMCk7Ly8gdmFyIGNlbnRlclggPSBHZXRWYWx1ZShvcHRpb25zLCAnY2VudGVyWCcsIG51bGwpO1xuLy8gdmFyIGNlbnRlclkgPSBHZXRWYWx1ZShvcHRpb25zLCAnY2VudGVyWScsIG51bGwpO1xudmFyIGN4PTA7dmFyIGN5PTA7dmFyIHc9d2lkdGgqY2VsbFdpZHRoO3ZhciBoPWhlaWdodCpjZWxsSGVpZ2h0Oy8vICBJZiB0aGUgR3JpZCBpcyBjZW50ZXJlZCBvbiBhIHBvc2l0aW9uIHRoZW4gd2UgbmVlZCB0byBjYWxjdWxhdGUgaXQgbm93XG4vLyBpZiAoY2VudGVyWCAhPT0gbnVsbCAmJiBjZW50ZXJZICE9PSBudWxsKVxuLy8ge1xuLy8gXG4vLyB9XG50ZW1wWm9uZS5zZXRQb3NpdGlvbih4LHkpO3RlbXBab25lLnNldFNpemUoY2VsbFdpZHRoLGNlbGxIZWlnaHQpO2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7QWxpZ25JbihpdGVtc1tpXSx0ZW1wWm9uZSxwb3NpdGlvbik7aWYod2lkdGg9PT0tMSl7Ly8gIFdlIGtlZXAgbGF5aW5nIHRoZW0gb3V0IGhvcml6b250YWxseSB1bnRpbCB3ZSd2ZSBkb25lIHRoZW0gYWxsXG5jeSs9Y2VsbEhlaWdodDt0ZW1wWm9uZS55Kz1jZWxsSGVpZ2h0O2lmKGN5PT09aCl7Y3k9MDt0ZW1wWm9uZS54Kz1jZWxsV2lkdGg7dGVtcFpvbmUueT15O319ZWxzZSBpZihoZWlnaHQ9PT0tMSl7Ly8gIFdlIGtlZXAgbGF5aW5nIHRoZW0gb3V0IHZlcnRpY2FsbHkgdW50aWwgd2UndmUgZG9uZSB0aGVtIGFsbFxuY3grPWNlbGxXaWR0aDt0ZW1wWm9uZS54Kz1jZWxsV2lkdGg7aWYoY3g9PT13KXtjeD0wO3RlbXBab25lLng9eDt0ZW1wWm9uZS55Kz1jZWxsSGVpZ2h0O319ZWxzZXsvLyAgV2Uga2VlcCBsYXlpbmcgdGhlbSBvdXQgdW50aWwgd2UgaGl0IHRoZSBjb2x1bW4gbGltaXRcbmN4Kz1jZWxsV2lkdGg7dGVtcFpvbmUueCs9Y2VsbFdpZHRoO2lmKGN4PT09dyl7Y3g9MDtjeSs9Y2VsbEhlaWdodDt0ZW1wWm9uZS54PXg7dGVtcFpvbmUueSs9Y2VsbEhlaWdodDtpZihjeT09PWgpey8vICBXZSd2ZSBoaXQgdGhlIGNvbHVtbiBsaW1pdCwgc28gcmV0dXJuLCBldmVuIGlmIHRoZXJlIGFyZSBpdGVtcyBsZWZ0XG5icmVhazt9fX19cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9R3JpZEFsaWduOy8qKiovfSwvKiAyMzIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCk7dmFyIEFsaWduSW5NYXA9W107QWxpZ25Jbk1hcFtDT05TVC5CT1RUT01fQ0VOVEVSXT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMSk7QWxpZ25Jbk1hcFtDT05TVC5CT1RUT01fTEVGVF09X193ZWJwYWNrX3JlcXVpcmVfXygxMDIpO0FsaWduSW5NYXBbQ09OU1QuQk9UVE9NX1JJR0hUXT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyk7QWxpZ25Jbk1hcFtDT05TVC5DRU5URVJdPV9fd2VicGFja19yZXF1aXJlX18oMTA0KTtBbGlnbkluTWFwW0NPTlNULkxFRlRfQ0VOVEVSXT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwNik7QWxpZ25Jbk1hcFtDT05TVC5SSUdIVF9DRU5URVJdPV9fd2VicGFja19yZXF1aXJlX18oMTA3KTtBbGlnbkluTWFwW0NPTlNULlRPUF9DRU5URVJdPV9fd2VicGFja19yZXF1aXJlX18oMTA4KTtBbGlnbkluTWFwW0NPTlNULlRPUF9MRUZUXT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSk7QWxpZ25Jbk1hcFtDT05TVC5UT1BfUklHSFRdPV9fd2VicGFja19yZXF1aXJlX18oMTEwKTt2YXIgQWxpZ25Jbj1mdW5jdGlvbiBBbGlnbkluKGNoaWxkLGNvbnRhaW5lcixwb3NpdGlvbixvZmZzZXRYLG9mZnNldFkpe3JldHVybiBBbGlnbkluTWFwW3Bvc2l0aW9uXShjaGlsZCxjb250YWluZXIsb2Zmc2V0WCxvZmZzZXRZKTt9O21vZHVsZS5leHBvcnRzPUFsaWduSW47LyoqKi99LC8qIDIzMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYW1wPV9fd2VicGFja19yZXF1aXJlX18oNDkpOy8vICBBbHBoYSBDb21wb25lbnRcbi8vICBiaXRtYXNrIGZsYWcgZm9yIEdhbWVPYmplY3QucmVuZGVyTWFza1xudmFyIF9GTEFHPTI7Ly8gMDAxMFxudmFyIEFscGhhPXtfYWxwaGE6MSxfYWxwaGFUTDoxLF9hbHBoYVRSOjEsX2FscGhhQkw6MSxfYWxwaGFCUjoxLGNsZWFyQWxwaGE6ZnVuY3Rpb24gY2xlYXJBbHBoYSgpe3JldHVybiB0aGlzLnNldEFscGhhKDEpO30sc2V0QWxwaGE6ZnVuY3Rpb24gc2V0QWxwaGEodG9wTGVmdCx0b3BSaWdodCxib3R0b21MZWZ0LGJvdHRvbVJpZ2h0KXtpZih0b3BMZWZ0PT09dW5kZWZpbmVkKXt0b3BMZWZ0PTE7fS8vICBUcmVhdCBhcyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhbHBoYSB2YWx1ZSBmb3IgdGhlIHdob2xlIEdhbWUgT2JqZWN0XG5pZih0b3BSaWdodD09PXVuZGVmaW5lZCl7dGhpcy5hbHBoYT10b3BMZWZ0O31lbHNle3RoaXMuX2FscGhhVEw9Q2xhbXAodG9wTGVmdCwwLDEpO3RoaXMuX2FscGhhVFI9Q2xhbXAodG9wUmlnaHQsMCwxKTt0aGlzLl9hbHBoYUJMPUNsYW1wKGJvdHRvbUxlZnQsMCwxKTt0aGlzLl9hbHBoYUJSPUNsYW1wKGJvdHRvbVJpZ2h0LDAsMSk7fXJldHVybiB0aGlzO30sLy8gIEdsb2JhbCBBbHBoYSB2YWx1ZS4gSWYgY2hhbmdlZCB0aGlzIGFkanVzdHMgYWxsIGFscGhhIHByb3BlcnRpZXMgKHRvcExlZnQsIHRvcFJpZ2h0LCBldGMpXG5hbHBoYTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9hbHBoYTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3ZhciB2PUNsYW1wKHZhbHVlLDAsMSk7dGhpcy5fYWxwaGE9djt0aGlzLl9hbHBoYVRMPXY7dGhpcy5fYWxwaGFUUj12O3RoaXMuX2FscGhhQkw9djt0aGlzLl9hbHBoYUJSPXY7aWYodj09PTApe3RoaXMucmVuZGVyRmxhZ3MmPX5fRkxBRzt9ZWxzZXt0aGlzLnJlbmRlckZsYWdzfD1fRkxBRzt9fX0sLy8gIEFkanVzdHMgdGhlIGFscGhhIHZhbHVlIG9mIHRoZSB0b3AtbGVmdCB2ZXJ0ZXggKFdlYkdMIG9ubHkpXG5hbHBoYVRvcExlZnQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fYWxwaGFUTDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3ZhciB2PUNsYW1wKHZhbHVlLDAsMSk7dGhpcy5fYWxwaGFUTD12O2lmKHYhPT0wKXt0aGlzLnJlbmRlckZsYWdzfD1fRkxBRzt9fX0sYWxwaGFUb3BSaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9hbHBoYVRSO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dmFyIHY9Q2xhbXAodmFsdWUsMCwxKTt0aGlzLl9hbHBoYVRSPXY7aWYodiE9PTApe3RoaXMucmVuZGVyRmxhZ3N8PV9GTEFHO319fSxhbHBoYUJvdHRvbUxlZnQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fYWxwaGFCTDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3ZhciB2PUNsYW1wKHZhbHVlLDAsMSk7dGhpcy5fYWxwaGFCTD12O2lmKHYhPT0wKXt0aGlzLnJlbmRlckZsYWdzfD1fRkxBRzt9fX0sYWxwaGFCb3R0b21SaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9hbHBoYUJSO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dmFyIHY9Q2xhbXAodmFsdWUsMCwxKTt0aGlzLl9hbHBoYUJSPXY7aWYodiE9PTApe3RoaXMucmVuZGVyRmxhZ3N8PV9GTEFHO319fX07bW9kdWxlLmV4cG9ydHM9QWxwaGE7LyoqKi99LC8qIDIzNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENvbXBvbmVudHM9X193ZWJwYWNrX3JlcXVpcmVfXygyMzUpOy8vICBHYW1lIE9iamVjdCBBbmltYXRpb24gQ29udHJvbGxlclxudmFyIEFuaW1hdGlvbj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gQW5pbWF0aW9uKHBhcmVudCl7Ly8gIFNwcml0ZSAvIEdhbWUgT2JqZWN0XG50aGlzLnBhcmVudD1wYXJlbnQ7dGhpcy5hbmltYXRpb25NYW5hZ2VyPXBhcmVudC5zY2VuZS5zeXMuYW5pbXM7dGhpcy5hbmltYXRpb25NYW5hZ2VyLmV2ZW50cy5vbmNlKCdSRU1PVkVfQU5JTUFUSU9OX0VWRU5UJyx0aGlzLnJlbW92ZS5iaW5kKHRoaXMpKTt0aGlzLmlzUGxheWluZz1mYWxzZTsvLyAgUmVmZXJlbmNlIHRvIHRoZSBQaGFzZXIuQW5pbWF0aW9uIG9iamVjdFxudGhpcy5jdXJyZW50QW5pbT1udWxsOy8vICBSZWZlcmVuY2UgdG8gdGhlIFBoYXNlci5BbmltYXRpb25GcmFtZSBvYmplY3RcbnRoaXMuY3VycmVudEZyYW1lPW51bGw7Ly8gIEFuaW1hdGlvbiBzcGVjaWZpYyB2YWx1ZXNcbi8vICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAgU2NhbGUgdGhlIHRpbWUgKG1ha2UgaXQgZ28gZmFzdGVyIC8gc2xvd2VyKVxuLy8gIEZhY3RvciB0aGF0J3MgdXNlZCB0byBzY2FsZSB0aW1lIHdoZXJlIDEgPSBub3JtYWwgc3BlZWQgKHRoZSBkZWZhdWx0KSwgMC41ID0gaGFsZiBzcGVlZCwgMiA9IGRvdWJsZSBzcGVlZCwgZXRjLlxudGhpcy5fdGltZVNjYWxlPTE7Ly8gIFRoZSBmcmFtZSByYXRlIG9mIHBsYXliYWNrIGluIGZyYW1lcyBwZXIgc2Vjb25kIChkZWZhdWx0IDI0IGlmIGR1cmF0aW9uIGlzIG51bGwpXG50aGlzLmZyYW1lUmF0ZT0wOy8vICBIb3cgbG9uZyB0aGUgYW5pbWF0aW9uIHNob3VsZCBwbGF5IGZvci4gSWYgZnJhbWVSYXRlIGlzIHNldCBpdCBvdmVycmlkZXMgdGhpcyB2YWx1ZVxuLy8gIG90aGVyd2lzZSBmcmFtZVJhdGUgaXMgZGVyaXZlZCBmcm9tIGR1cmF0aW9uXG50aGlzLmR1cmF0aW9uPTA7Ly8gIG1zIHBlciBmcmFtZSAod2l0aG91dCBpbmNsdWRpbmcgZnJhbWUgc3BlY2lmaWMgbW9kaWZpZXJzKVxudGhpcy5tc1BlckZyYW1lPTA7Ly8gIFNraXAgZnJhbWVzIGlmIHRoZSB0aW1lIGxhZ3MsIG9yIGFsd2F5cyBhZHZhbmNlZCBhbnl3YXk/XG50aGlzLnNraXBNaXNzZWRGcmFtZXM9dHJ1ZTsvLyAgRGVsYXkgYmVmb3JlIHN0YXJ0aW5nIHBsYXliYWNrIChpbiBzZWNvbmRzKVxudGhpcy5fZGVsYXk9MDsvLyAgTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgYW5pbWF0aW9uICgtMSBmb3IgaW5maW5pdHkpXG50aGlzLl9yZXBlYXQ9MDsvLyAgRGVsYXkgYmVmb3JlIHRoZSByZXBlYXQgc3RhcnRzIChpbiBzZWNvbmRzKVxudGhpcy5fcmVwZWF0RGVsYXk9MDsvLyAgU2hvdWxkIHRoZSBhbmltYXRpb24geW95bz8gKHJldmVyc2UgYmFjayBkb3duIHRvIHRoZSBzdGFydCkgYmVmb3JlIHJlcGVhdGluZz9cbnRoaXMuX3lveW89ZmFsc2U7Ly8gIFBsYXloZWFkIHZhbHVlc1xuLy8gIC0tLS0tLS0tLS0tLS0tLVxuLy8gIE1vdmUgdGhlIHBsYXloZWFkIGZvcndhcmQgKHRydWUpIG9yIGluIHJldmVyc2UgKGZhbHNlKVxudGhpcy5mb3J3YXJkPXRydWU7dGhpcy5hY2N1bXVsYXRvcj0wO3RoaXMubmV4dFRpY2s9MDt0aGlzLnJlcGVhdENvdW50ZXI9MDt0aGlzLnBlbmRpbmdSZXBlYXQ9ZmFsc2U7dGhpcy5fcGF1c2VkPWZhbHNlO3RoaXMuX3dhc1BsYXlpbmc9ZmFsc2U7dGhpcy5fY2FsbGJhY2tBcmdzPVtwYXJlbnQsbnVsbF07dGhpcy5fdXBkYXRlUGFyYW1zPVtdO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7fSxkZWxheTpDb21wb25lbnRzLkRlbGF5LGRlbGF5ZWRQbGF5OkNvbXBvbmVudHMuRGVsYXllZFBsYXksZ2V0Q3VycmVudEtleTpDb21wb25lbnRzLkdldEN1cnJlbnRLZXksbG9hZDpDb21wb25lbnRzLkxvYWQscGF1c2U6Q29tcG9uZW50cy5QYXVzZSxwYXVzZWQ6Q29tcG9uZW50cy5QYXVzZWQscGxheTpDb21wb25lbnRzLlBsYXkscHJvZ3Jlc3M6Q29tcG9uZW50cy5Qcm9ncmVzcyxyZW1vdmU6Q29tcG9uZW50cy5SZW1vdmUscmVwZWF0OkNvbXBvbmVudHMuUmVwZWF0LHJlcGVhdERlbGF5OkNvbXBvbmVudHMuUmVwZWF0RGVsYXkscmVzdGFydDpDb21wb25lbnRzLlJlc3RhcnQscmVzdW1lOkNvbXBvbmVudHMuUmVzdW1lLHN0b3A6Q29tcG9uZW50cy5TdG9wLHRpbWVTY2FsZTpDb21wb25lbnRzLlRpbWVTY2FsZSx0b3RhbEZyYW1lczpDb21wb25lbnRzLlRvdGFsRnJhbWVzLHRvdGFsUHJvZ3Jlc3M6Q29tcG9uZW50cy5Ub3RhbFByb2dyZXNzLHVwZGF0ZTpDb21wb25lbnRzLlVwZGF0ZSx1cGRhdGVGcmFtZTpDb21wb25lbnRzLlVwZGF0ZUZyYW1lLHlveW86Q29tcG9uZW50cy5Zb3lvfSk7bW9kdWxlLmV4cG9ydHM9QW5pbWF0aW9uOy8qKiovfSwvKiAyMzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuQW5pbWF0aW9uLkZyYW1lLkNvbXBvbmVudHNcbi8vICBVc2VkIGJ5IHRoZSBHYW1lT2JqZWN0IEFuaW1hdGlvbiBDb250cm9sbGVyLCBub3QgdGhlIEFuaW1hdGlvbiBpdHNlbGZcbm1vZHVsZS5leHBvcnRzPXtEZWxheTpfX3dlYnBhY2tfcmVxdWlyZV9fKDIzNiksRGVsYXllZFBsYXk6X193ZWJwYWNrX3JlcXVpcmVfXygyMzcpLEdldEN1cnJlbnRLZXk6X193ZWJwYWNrX3JlcXVpcmVfXygyMzgpLExvYWQ6X193ZWJwYWNrX3JlcXVpcmVfXygyMzkpLFBhdXNlOl9fd2VicGFja19yZXF1aXJlX18oMjQwKSxQYXVzZWQ6X193ZWJwYWNrX3JlcXVpcmVfXygyNDEpLFBsYXk6X193ZWJwYWNrX3JlcXVpcmVfXygyNDIpLFByb2dyZXNzOl9fd2VicGFja19yZXF1aXJlX18oMjQzKSxSZW1vdmU6X193ZWJwYWNrX3JlcXVpcmVfXygyNDQpLFJlcGVhdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDI0NSksUmVwZWF0RGVsYXk6X193ZWJwYWNrX3JlcXVpcmVfXygyNDYpLFJlc3RhcnQ6X193ZWJwYWNrX3JlcXVpcmVfXygyNDcpLFJlc3VtZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI0OCksU3RvcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDI0OSksVGltZVNjYWxlOl9fd2VicGFja19yZXF1aXJlX18oMjUwKSxUb3RhbEZyYW1lczpfX3dlYnBhY2tfcmVxdWlyZV9fKDI1MSksVG90YWxQcm9ncmVzczpfX3dlYnBhY2tfcmVxdWlyZV9fKDI1MiksVXBkYXRlOl9fd2VicGFja19yZXF1aXJlX18oMjUzKSxVcGRhdGVGcmFtZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NCksWW95bzpfX3dlYnBhY2tfcmVxdWlyZV9fKDI1NSl9Oy8qKiovfSwvKiAyMzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgR2V0cyBvciBzZXRzIHRoZSBhbW91bnQgb2YgdGltZSBpbiBzZWNvbmRzIGJldHdlZW4gcmVwZWF0cy5cbi8vICBGb3IgZXhhbXBsZSwgaWYgcmVwZWF0IGlzIDIgYW5kIHJlcGVhdERlbGF5IGlzIDEsIHRoZSBhbmltYXRpb24gd2lsbCBwbGF5IGluaXRpYWxseSxcbi8vICB0aGVuIHdhaXQgZm9yIDEgc2Vjb25kIGJlZm9yZSBpdCByZXBlYXRzLCB0aGVuIHBsYXkgYWdhaW4sIHRoZW4gd2FpdCAxIHNlY29uZCBhZ2FpblxuLy8gIGJlZm9yZSBkb2luZyBpdHMgZmluYWwgcmVwZWF0LlxudmFyIERlbGF5PWZ1bmN0aW9uIERlbGF5KHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMuX2RlbGF5O31lbHNle3RoaXMuX2RlbGF5PXZhbHVlO3JldHVybiB0aGlzO319O21vZHVsZS5leHBvcnRzPURlbGF5Oy8qKiovfSwvKiAyMzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRGVsYXllZFBsYXk9ZnVuY3Rpb24gRGVsYXllZFBsYXkoZGVsYXksa2V5LHN0YXJ0RnJhbWUpe3RoaXMucGxheShrZXksc3RhcnRGcmFtZSk7dGhpcy5uZXh0VGljays9ZGVsYXkqMTAwMDtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPURlbGF5ZWRQbGF5Oy8qKiovfSwvKiAyMzggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0Q3VycmVudEtleT1mdW5jdGlvbiBHZXRDdXJyZW50S2V5KCl7aWYodGhpcy5jdXJyZW50QW5pbSl7cmV0dXJuIHRoaXMuY3VycmVudEFuaW0ua2V5O319O21vZHVsZS5leHBvcnRzPUdldEN1cnJlbnRLZXk7LyoqKi99LC8qIDIzOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBMb2FkPWZ1bmN0aW9uIExvYWQoa2V5LHN0YXJ0RnJhbWUpe2lmKHN0YXJ0RnJhbWU9PT11bmRlZmluZWQpe3N0YXJ0RnJhbWU9MDt9aWYodGhpcy5pc1BsYXlpbmcpe3RoaXMuc3RvcCgpO30vLyAgTG9hZCB0aGUgbmV3IGFuaW1hdGlvbiBpblxudGhpcy5hbmltYXRpb25NYW5hZ2VyLmxvYWQodGhpcyxrZXksc3RhcnRGcmFtZSk7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1Mb2FkOy8qKiovfSwvKiAyNDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUGF1c2U9ZnVuY3Rpb24gUGF1c2UoYXRGcmFtZSl7aWYoIXRoaXMuX3BhdXNlZCl7dGhpcy5fcGF1c2VkPXRydWU7dGhpcy5fd2FzUGxheWluZz10aGlzLmlzUGxheWluZzt0aGlzLmlzUGxheWluZz1mYWxzZTt9aWYoYXRGcmFtZSE9PXVuZGVmaW5lZCl7dGhpcy51cGRhdGVGcmFtZShhdEZyYW1lKTt9cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1QYXVzZTsvKioqL30sLyogMjQxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFBhdXNlZD1mdW5jdGlvbiBQYXVzZWQodmFsdWUpe2lmKHZhbHVlIT09dW5kZWZpbmVkKXsvLyAgU2V0dGVyXG5pZih2YWx1ZSl7cmV0dXJuIHRoaXMucGF1c2UoKTt9ZWxzZXtyZXR1cm4gdGhpcy5yZXN1bWUoKTt9fWVsc2V7cmV0dXJuIHRoaXMuX3BhdXNlZDt9fTttb2R1bGUuZXhwb3J0cz1QYXVzZWQ7LyoqKi99LC8qIDI0MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQbGF5PWZ1bmN0aW9uIFBsYXkoa2V5LGlnbm9yZUlmUGxheWluZyxzdGFydEZyYW1lKXtpZihpZ25vcmVJZlBsYXlpbmc9PT11bmRlZmluZWQpe2lnbm9yZUlmUGxheWluZz1mYWxzZTt9aWYoc3RhcnRGcmFtZT09PXVuZGVmaW5lZCl7c3RhcnRGcmFtZT0wO31pZihpZ25vcmVJZlBsYXlpbmcmJnRoaXMuaXNQbGF5aW5nJiZ0aGlzLmN1cnJlbnRBbmltLmtleT09PWtleSl7cmV0dXJuIHRoaXM7fXRoaXMubG9hZChrZXksc3RhcnRGcmFtZSk7dmFyIGFuaW09dGhpcy5jdXJyZW50QW5pbTsvLyAgU2hvdWxkIGdpdmUgdXMgOSwwMDcsMTk5LDI1NCw3NDAsOTkxIHNhZmUgcmVwZWF0c1xudGhpcy5yZXBlYXRDb3VudGVyPXRoaXMuX3JlcGVhdD09PS0xP051bWJlci5NQVhfU0FGRV9JTlRFR0VSOnRoaXMuX3JlcGVhdDthbmltLmdldEZpcnN0VGljayh0aGlzKTt0aGlzLmZvcndhcmQ9dHJ1ZTt0aGlzLmlzUGxheWluZz10cnVlO3RoaXMucGVuZGluZ1JlcGVhdD1mYWxzZTtpZihhbmltLnNob3dPblN0YXJ0KXt0aGlzLnBhcmVudC52aXNpYmxlPXRydWU7fWlmKGFuaW0ub25TdGFydCl7YW5pbS5vblN0YXJ0LmFwcGx5KGFuaW0uY2FsbGJhY2tTY29wZSx0aGlzLl9jYWxsYmFja0FyZ3MuY29uY2F0KGFuaW0ub25TdGFydFBhcmFtcykpO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVBsYXk7LyoqKi99LC8qIDI0MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBWYWx1ZSBiZXR3ZWVuIDAgYW5kIDEuIEhvdyBmYXIgdGhpcyBhbmltYXRpb24gaXMgdGhyb3VnaCwgaWdub3JpbmcgcmVwZWF0cyBhbmQgeW95b3MuXG4vLyAgSWYgdGhlIGFuaW1hdGlvbiBoYXMgYSBub24temVybyByZXBlYXQgZGVmaW5lZCwgcHJvZ3Jlc3MgYW5kIHRvdGFsUHJvZ3Jlc3Mgd2lsbCBiZSBkaWZmZXJlbnRcbi8vICBiZWNhdXNlIHByb2dyZXNzIGRvZXNuJ3QgaW5jbHVkZSBhbnkgcmVwZWF0cyBvciByZXBlYXREZWxheXMgd2hlcmVhcyB0b3RhbFByb2dyZXNzIGRvZXMuXG52YXIgUHJvZ3Jlc3M9ZnVuY3Rpb24gUHJvZ3Jlc3ModmFsdWUpe2lmKHZhbHVlPT09dW5kZWZpbmVkKXt2YXIgcD10aGlzLmN1cnJlbnRGcmFtZS5wcm9ncmVzcztpZighdGhpcy5mb3J3YXJkKXtwPTEtcDt9cmV0dXJuIHA7fWVsc2V7Ly8gIFRPRE86IFNldCBwcm9ncmVzc1xucmV0dXJuIHRoaXM7fX07bW9kdWxlLmV4cG9ydHM9UHJvZ3Jlc3M7LyoqKi99LC8qIDI0NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBSZW1vdmU9ZnVuY3Rpb24gUmVtb3ZlKGV2ZW50KXtpZihldmVudD09PXVuZGVmaW5lZCl7ZXZlbnQ9dGhpcy5jdXJyZW50QW5pbTt9aWYodGhpcy5pc1BsYXlpbmcmJmV2ZW50LmtleT09PXRoaXMuY3VycmVudEFuaW0ua2V5KXt0aGlzLnN0b3AoKTt2YXIgc3ByaXRlPXRoaXMucGFyZW50O3ZhciBmcmFtZT10aGlzLmN1cnJlbnRBbmltLmZyYW1lc1swXTt0aGlzLmN1cnJlbnRGcmFtZT1mcmFtZTtzcHJpdGUudGV4dHVyZT1mcmFtZS5mcmFtZS50ZXh0dXJlO3Nwcml0ZS5mcmFtZT1mcmFtZS5mcmFtZTt9fTttb2R1bGUuZXhwb3J0cz1SZW1vdmU7LyoqKi99LC8qIDI0NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBHZXRzIG9yIHNldHMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGF0IHRoZSBhbmltYXRpb24gc2hvdWxkIHJlcGVhdFxuLy8gIGFmdGVyIGl0cyBmaXJzdCBpdGVyYXRpb24uIEZvciBleGFtcGxlLCBpZiByZXBlYXQgaXMgMSwgdGhlIGFuaW1hdGlvbiB3aWxsXG4vLyAgcGxheSBhIHRvdGFsIG9mIHR3aWNlICh0aGUgaW5pdGlhbCBwbGF5IHBsdXMgMSByZXBlYXQpLlxuLy8gIFRvIHJlcGVhdCBpbmRlZmluaXRlbHksIHVzZSAtMS4gcmVwZWF0IHNob3VsZCBhbHdheXMgYmUgYW4gaW50ZWdlci5cbnZhciBSZXBlYXQ9ZnVuY3Rpb24gUmVwZWF0KHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMuX3JlcGVhdDt9ZWxzZXt0aGlzLl9yZXBlYXQ9dmFsdWU7dGhpcy5yZXBlYXRDb3VudGVyPTA7cmV0dXJuIHRoaXM7fX07bW9kdWxlLmV4cG9ydHM9UmVwZWF0Oy8qKiovfSwvKiAyNDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgR2V0cyBvciBzZXRzIHRoZSBhbW91bnQgb2YgdGltZSBpbiBzZWNvbmRzIGJldHdlZW4gcmVwZWF0cy5cbi8vICBGb3IgZXhhbXBsZSwgaWYgcmVwZWF0IGlzIDIgYW5kIHJlcGVhdERlbGF5IGlzIDEsIHRoZSBhbmltYXRpb24gd2lsbCBwbGF5IGluaXRpYWxseSxcbi8vICB0aGVuIHdhaXQgZm9yIDEgc2Vjb25kIGJlZm9yZSBpdCByZXBlYXRzLCB0aGVuIHBsYXkgYWdhaW4sIHRoZW4gd2FpdCAxIHNlY29uZCBhZ2FpblxuLy8gIGJlZm9yZSBkb2luZyBpdHMgZmluYWwgcmVwZWF0LlxudmFyIFJlcGVhdERlbGF5PWZ1bmN0aW9uIFJlcGVhdERlbGF5KHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMuX3JlcGVhdERlbGF5O31lbHNle3RoaXMuX3JlcGVhdERlbGF5PXZhbHVlO3JldHVybiB0aGlzO319O21vZHVsZS5leHBvcnRzPVJlcGVhdERlbGF5Oy8qKiovfSwvKiAyNDcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVzdGFydD1mdW5jdGlvbiBSZXN0YXJ0KGluY2x1ZGVEZWxheSl7aWYoaW5jbHVkZURlbGF5PT09dW5kZWZpbmVkKXtpbmNsdWRlRGVsYXk9ZmFsc2U7fXRoaXMuY3VycmVudEFuaW0uZ2V0Rmlyc3RUaWNrKHRoaXMsaW5jbHVkZURlbGF5KTt0aGlzLmZvcndhcmQ9dHJ1ZTt0aGlzLmlzUGxheWluZz10cnVlO3RoaXMucGVuZGluZ1JlcGVhdD1mYWxzZTsvLyAgU2V0IGZyYW1lXG50aGlzLnVwZGF0ZUZyYW1lKHRoaXMuY3VycmVudEFuaW0uZnJhbWVzWzBdKTtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVJlc3RhcnQ7LyoqKi99LC8qIDI0OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBSZXN1bWU9ZnVuY3Rpb24gUmVzdW1lKGZyb21GcmFtZSl7aWYodGhpcy5fcGF1c2VkKXt0aGlzLl9wYXVzZWQ9ZmFsc2U7dGhpcy5pc1BsYXlpbmc9dGhpcy5fd2FzUGxheWluZzt9aWYoZnJvbUZyYW1lIT09dW5kZWZpbmVkKXt0aGlzLnVwZGF0ZUZyYW1lKGZyb21GcmFtZSk7fXJldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9UmVzdW1lOy8qKiovfSwvKiAyNDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU3RvcD1mdW5jdGlvbiBTdG9wKGRpc3BhdGNoQ2FsbGJhY2tzKXtpZihkaXNwYXRjaENhbGxiYWNrcz09PXVuZGVmaW5lZCl7ZGlzcGF0Y2hDYWxsYmFja3M9ZmFsc2U7fXRoaXMuaXNQbGF5aW5nPWZhbHNlO3ZhciBhbmltPXRoaXMuY3VycmVudEFuaW07aWYoZGlzcGF0Y2hDYWxsYmFja3MmJmFuaW0ub25Db21wbGV0ZSl7YW5pbS5vbkNvbXBsZXRlLmFwcGx5KGFuaW0uY2FsbGJhY2tTY29wZSx0aGlzLl9jYWxsYmFja0FyZ3MuY29uY2F0KGFuaW0ub25Db21wbGV0ZVBhcmFtcykpO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVN0b3A7LyoqKi99LC8qIDI1MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBUaW1lU2NhbGU9ZnVuY3Rpb24gVGltZVNjYWxlKHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMuX3RpbWVTY2FsZTt9ZWxzZXt0aGlzLl90aW1lU2NhbGU9dmFsdWU7cmV0dXJuIHRoaXM7fX07bW9kdWxlLmV4cG9ydHM9VGltZVNjYWxlOy8qKiovfSwvKiAyNTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVG90YWxGcmFtZXM9ZnVuY3Rpb24gVG90YWxGcmFtZXMoKXtyZXR1cm4gdGhpcy5jdXJyZW50QW5pbS5mcmFtZXMubGVuZ3RoO307bW9kdWxlLmV4cG9ydHM9VG90YWxGcmFtZXM7LyoqKi99LC8qIDI1MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBWYWx1ZSBiZXR3ZWVuIDAgYW5kIDEuIEhvdyBmYXIgdGhpcyBhbmltYXRpb24gaXMgdGhyb3VnaCwgaW5jbHVkaW5nIHRoaW5ncyBsaWtlIGRlbGF5c1xuLy8gIHJlcGVhdHMsIGN1c3RvbSBmcmFtZSBkdXJhdGlvbnMsIGV0Yy4gSWYgdGhlIGFuaW1hdGlvbiBpcyBzZXQgdG8gcmVwZWF0IC0xIGl0IGNhbiBuZXZlclxuLy8gIGhhdmUgYSBkdXJhdGlvbiwgdGhlcmVmb3JlIHRoaXMgd2lsbCByZXR1cm4gLTEuXG52YXIgVG90YWxQcm9ncmVzPWZ1bmN0aW9uIFRvdGFsUHJvZ3Jlcygpe307bW9kdWxlLmV4cG9ydHM9VG90YWxQcm9ncmVzOy8qKiovfSwvKiAyNTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVXBkYXRlPWZ1bmN0aW9uIFVwZGF0ZSh0aW1lc3RhbXAsZGVsdGEpe2lmKCF0aGlzLmlzUGxheWluZ3x8dGhpcy5jdXJyZW50QW5pbS5wYXVzZWQpe3JldHVybjt9dGhpcy5hY2N1bXVsYXRvcis9ZGVsdGEqdGhpcy5fdGltZVNjYWxlO2lmKHRoaXMuYWNjdW11bGF0b3I+PXRoaXMubmV4dFRpY2spe3RoaXMuY3VycmVudEFuaW0uc2V0RnJhbWUodGhpcyk7fX07bW9kdWxlLmV4cG9ydHM9VXBkYXRlOy8qKiovfSwvKiAyNTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVXBkYXRlRnJhbWU9ZnVuY3Rpb24gVXBkYXRlRnJhbWUoYW5pbWF0aW9uRnJhbWUpe3ZhciBzcHJpdGU9dGhpcy5wYXJlbnQ7dGhpcy5jdXJyZW50RnJhbWU9YW5pbWF0aW9uRnJhbWU7c3ByaXRlLnRleHR1cmU9YW5pbWF0aW9uRnJhbWUuZnJhbWUudGV4dHVyZTtzcHJpdGUuZnJhbWU9YW5pbWF0aW9uRnJhbWUuZnJhbWU7aWYodGhpcy5pc1BsYXlpbmcpe2lmKGFuaW1hdGlvbkZyYW1lLnNldEFscGhhKXtzcHJpdGUuYWxwaGE9YW5pbWF0aW9uRnJhbWUuYWxwaGE7fXZhciBhbmltPXRoaXMuY3VycmVudEFuaW07aWYoYW5pbS5vblVwZGF0ZSl7YW5pbS5vblVwZGF0ZS5hcHBseShhbmltLmNhbGxiYWNrU2NvcGUsdGhpcy5fdXBkYXRlUGFyYW1zKTt9aWYoYW5pbWF0aW9uRnJhbWUub25VcGRhdGUpe2FuaW1hdGlvbkZyYW1lLm9uVXBkYXRlKHNwcml0ZSxhbmltYXRpb25GcmFtZSk7fX19O21vZHVsZS5leHBvcnRzPVVwZGF0ZUZyYW1lOy8qKiovfSwvKiAyNTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgWW95bz1mdW5jdGlvbiBZb3lvKHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMuX3lveW87fWVsc2V7dGhpcy5feW95bz12YWx1ZTtyZXR1cm4gdGhpczt9fTttb2R1bGUuZXhwb3J0cz1Zb3lvOy8qKiovfSwvKiAyNTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCbGVuZE1vZGVzPV9fd2VicGFja19yZXF1aXJlX18oMzEpOy8vICBCbGVuZE1vZGUgQ29tcG9uZW50XG52YXIgQmxlbmRNb2RlPXtfYmxlbmRNb2RlOkJsZW5kTW9kZXMuTk9STUFMLGJsZW5kTW9kZTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9ibGVuZE1vZGU7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt2YWx1ZXwwO2lmKHZhbHVlPj0wKXt0aGlzLl9ibGVuZE1vZGU9dmFsdWU7fX19LHNldEJsZW5kTW9kZTpmdW5jdGlvbiBzZXRCbGVuZE1vZGUodmFsdWUpe3RoaXMuYmxlbmRNb2RlPXZhbHVlO3JldHVybiB0aGlzO319O21vZHVsZS5leHBvcnRzPUJsZW5kTW9kZTsvKioqL30sLyogMjU3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENvbXB1dGVkU2l6ZT17d2lkdGg6MCxoZWlnaHQ6MCxkaXNwbGF5V2lkdGg6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5zY2FsZVgqdGhpcy53aWR0aDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuc2NhbGVYPXZhbHVlL3RoaXMud2lkdGg7fX0sZGlzcGxheUhlaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNjYWxlWSp0aGlzLmhlaWdodDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuc2NhbGVZPXZhbHVlL3RoaXMuaGVpZ2h0O319fTttb2R1bGUuZXhwb3J0cz1Db21wdXRlZFNpemU7LyoqKi99LC8qIDI1OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGbGlwPXtmbGlwWDpmYWxzZSxmbGlwWTpmYWxzZSxzZXRGbGlwWDpmdW5jdGlvbiBzZXRGbGlwWCh2YWx1ZSl7dGhpcy5mbGlwWD12YWx1ZTtyZXR1cm4gdGhpczt9LHNldEZsaXBZOmZ1bmN0aW9uIHNldEZsaXBZKHZhbHVlKXt0aGlzLmZsaXBYPXZhbHVlO3JldHVybiB0aGlzO30sc2V0RmxpcDpmdW5jdGlvbiBzZXRGbGlwKHgseSl7dGhpcy5mbGlwWD14O3RoaXMuZmxpcFk9eTtyZXR1cm4gdGhpczt9LHJlc2V0RmxpcDpmdW5jdGlvbiByZXNldEZsaXAoKXt0aGlzLmZsaXBYPWZhbHNlO3RoaXMuZmxpcFk9ZmFsc2U7fX07bW9kdWxlLmV4cG9ydHM9RmxpcDsvKioqL30sLyogMjU5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldEJvdW5kcz17Z2V0Qm91bmRzOmZ1bmN0aW9uIGdldEJvdW5kcyhvdXRwdXQpe2lmKG91dHB1dD09PXVuZGVmaW5lZCl7b3V0cHV0PXt4OjAseTowLHdpZHRoOjAsaGVpZ2h0OjB9O312YXIgeD10aGlzLng7dmFyIHk9dGhpcy55O3ZhciB3PXRoaXMuZGlzcGxheVdpZHRoO3ZhciBoPXRoaXMuZGlzcGxheUhlaWdodDt2YXIgcj10aGlzLnJvdGF0aW9uO3ZhciB3Y3Q9dypNYXRoLmNvcyhyKTt2YXIgaGN0PWgqTWF0aC5jb3Mocik7dmFyIHdzdD13Kk1hdGguc2luKHIpO3ZhciBoc3Q9aCpNYXRoLnNpbihyKTt2YXIgeE1pbj14O3ZhciB4TWF4PXg7dmFyIHlNaW49eTt2YXIgeU1heD15O2lmKHI+MCl7aWYocjwxLjU3MDc5NjMyNjc5NDg5NjYpey8vIDAgPCB0aGV0YSA8IDkwXG55TWF4PXkraGN0K3dzdDt4TWluPXgtaHN0O3hNYXg9eCt3Y3Q7fWVsc2V7Ly8gOTAgPD0gdGhldGEgPD0gMTgwXG55TWluPXkraGN0O3lNYXg9eSt3c3Q7eE1pbj14LWhzdCt3Y3Q7fX1lbHNlIGlmKHI+LTEuNTcwNzk2MzI2Nzk0ODk2Nil7Ly8gLTkwIDwgdGhldGEgPD0gMFxueU1pbj15K3dzdDt5TWF4PXkraGN0O3hNYXg9eCt3Y3QtaHN0O31lbHNley8vIC0xODAgPD0gdGhldGEgPD0gLTkwXG55TWluPXkrd3N0K2hjdDt4TWluPXgrd2N0O3hNYXg9eC1oc3Q7fW91dHB1dC54PXhNaW47b3V0cHV0Lnk9eU1pbjtvdXRwdXQud2lkdGg9eE1heC14TWluO291dHB1dC5oZWlnaHQ9eU1heC15TWluO3JldHVybiBvdXRwdXQ7fX07bW9kdWxlLmV4cG9ydHM9R2V0Qm91bmRzOy8qKiovfSwvKiAyNjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgT3JpZ2luIENvbXBvbmVudFxuLy8gIFZhbHVlcyBhcmUgbm9ybWFsaXplZCwgZ2l2ZW4gaW4gdGhlIHJhbmdlIDAgdG8gMS5cbi8vICBEaXNwbGF5IHZhbHVlcyBjb250YWluIHRoZSBjYWxjdWxhdGVkIHBpeGVsIHZhbHVlcy5cbnZhciBPcmlnaW49e29yaWdpblg6MC41LG9yaWdpblk6MC41LC8vICBSRUFEIE9OTFlcbmRpc3BsYXlPcmlnaW5YOjAsZGlzcGxheU9yaWdpblk6MCxzZXRPcmlnaW46ZnVuY3Rpb24gc2V0T3JpZ2luKHgseSl7aWYoeD09PXVuZGVmaW5lZCl7eD0wLjU7fWlmKHk9PT11bmRlZmluZWQpe3k9eDt9dGhpcy5vcmlnaW5YPXg7dGhpcy5vcmlnaW5ZPXk7cmV0dXJuIHRoaXMudXBkYXRlT3JpZ2luKCk7fSxzZXREaXNwbGF5T3JpZ2luOmZ1bmN0aW9uIHNldERpc3BsYXlPcmlnaW4oeCx5KXtpZih4PT09dW5kZWZpbmVkKXt4PTA7fWlmKHk9PT11bmRlZmluZWQpe3k9eDt9dGhpcy5kaXNwbGF5T3JpZ2luWD14O3RoaXMuZGlzcGxheU9yaWdpblk9eTt0aGlzLm9yaWdpblg9dGhpcy53aWR0aC94O3RoaXMub3JpZ2luWT10aGlzLmhlaWdodC95O3JldHVybiB0aGlzO30sdXBkYXRlT3JpZ2luOmZ1bmN0aW9uIHVwZGF0ZU9yaWdpbigpe3RoaXMuZGlzcGxheU9yaWdpblg9TWF0aC5yb3VuZCh0aGlzLm9yaWdpblgqdGhpcy53aWR0aCk7dGhpcy5kaXNwbGF5T3JpZ2luWT1NYXRoLnJvdW5kKHRoaXMub3JpZ2luWSp0aGlzLmhlaWdodCk7cmV0dXJuIHRoaXM7fX07bW9kdWxlLmV4cG9ydHM9T3JpZ2luOy8qKiovfSwvKiAyNjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVuZGVyVGFyZ2V0PXtyZW5kZXJUYXJnZXQ6bnVsbH07bW9kdWxlLmV4cG9ydHM9UmVuZGVyVGFyZ2V0Oy8qKiovfSwvKiAyNjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTY2FsZU1vZGVzPV9fd2VicGFja19yZXF1aXJlX18oMjYpOy8vICBTY2FsZU1vZGUgQ29tcG9uZW50XG52YXIgU2NhbGVNb2RlPXtfc2NhbGVNb2RlOlNjYWxlTW9kZXMuREVGQVVMVCxzY2FsZU1vZGU6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2NhbGVNb2RlO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7aWYodmFsdWU9PT1TY2FsZU1vZGVzLkxJTkVBUnx8dmFsdWU9PT1TY2FsZU1vZGVzLk5FQVJFU1Qpe3RoaXMuX3NjYWxlTW9kZT12YWx1ZTt9fX0sc2V0U2NhbGVNb2RlOmZ1bmN0aW9uIHNldFNjYWxlTW9kZSh2YWx1ZSl7dGhpcy5zY2FsZU1vZGU9dmFsdWU7cmV0dXJuIHRoaXM7fX07bW9kdWxlLmV4cG9ydHM9U2NhbGVNb2RlOy8qKiovfSwvKiAyNjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2Nyb2xsRmFjdG9yPXtzY3JvbGxGYWN0b3JYOjEuMCxzY3JvbGxGYWN0b3JZOjEuMCxzZXRTY3JvbGxGYWN0b3I6ZnVuY3Rpb24gc2V0U2Nyb2xsRmFjdG9yKHgseSl7aWYoeT09PXVuZGVmaW5lZCl7eT14O310aGlzLnNjcm9sbEZhY3Rvclg9eDt0aGlzLnNjcm9sbEZhY3Rvclk9eTtyZXR1cm4gdGhpczt9fTttb2R1bGUuZXhwb3J0cz1TY3JvbGxGYWN0b3I7LyoqKi99LC8qIDI2NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTaXplPXt3aWR0aDowLGhlaWdodDowLGRpc3BsYXlXaWR0aDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLnNjYWxlWCp0aGlzLmZyYW1lLnJlYWxXaWR0aDt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuc2NhbGVYPXZhbHVlL3RoaXMuZnJhbWUucmVhbFdpZHRoO319LGRpc3BsYXlIZWlnaHQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5zY2FsZVkqdGhpcy5mcmFtZS5yZWFsSGVpZ2h0O30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5zY2FsZVk9dmFsdWUvdGhpcy5mcmFtZS5yZWFsSGVpZ2h0O319LHNldFNpemVUb0ZyYW1lOmZ1bmN0aW9uIHNldFNpemVUb0ZyYW1lKGZyYW1lKXtpZihmcmFtZT09PXVuZGVmaW5lZCl7ZnJhbWU9dGhpcy5mcmFtZTt9dGhpcy53aWR0aD1mcmFtZS5yZWFsV2lkdGg7dGhpcy5oZWlnaHQ9ZnJhbWUucmVhbEhlaWdodDtyZXR1cm4gdGhpczt9LHNldFNpemU6ZnVuY3Rpb24gc2V0U2l6ZSh3aWR0aCxoZWlnaHQpe3RoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3JldHVybiB0aGlzO319O21vZHVsZS5leHBvcnRzPVNpemU7LyoqKi99LC8qIDI2NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBUZXh0dXJlIENvbXBvbmVudFxuLy8gIGJpdG1hc2sgZmxhZyBmb3IgR2FtZU9iamVjdC5yZW5kZXJNYXNrXG52YXIgX0ZMQUc9ODsvLyAxMDAwXG52YXIgVGV4dHVyZT17dGV4dHVyZTpudWxsLGZyYW1lOm51bGwsc2V0VGV4dHVyZTpmdW5jdGlvbiBzZXRUZXh0dXJlKGtleSxmcmFtZSl7dGhpcy50ZXh0dXJlPXRoaXMuc2NlbmUuc3lzLnRleHR1cmVzLmdldChrZXkpO3RoaXMuZnJhbWU9dGhpcy50ZXh0dXJlLmdldChmcmFtZSk7aWYoIXRoaXMuZnJhbWUuY3V0V2lkdGh8fCF0aGlzLmZyYW1lLmN1dEhlaWdodCl7dGhpcy5yZW5kZXJGbGFncyY9fl9GTEFHO31lbHNle3RoaXMucmVuZGVyRmxhZ3N8PV9GTEFHO31yZXR1cm4gdGhpczt9fTttb2R1bGUuZXhwb3J0cz1UZXh0dXJlOy8qKiovfSwvKiAyNjYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0Q29sb3I9ZnVuY3Rpb24gR2V0Q29sb3IodmFsdWUpe3JldHVybih2YWx1ZT4+MTYpKyh2YWx1ZSYweGZmMDApKygodmFsdWUmMHhmZik8PDE2KTt9O3ZhciBUaW50PXsvLyAgMDogdG9wTGVmdCwgMTogdG9wUmlnaHQsIDI6IGJvdHRvbUxlZnQsIDM6IGJvdHRvbVJpZ2h0XG5fdGludFRMOjE2Nzc3MjE1LF90aW50VFI6MTY3NzcyMTUsX3RpbnRCTDoxNjc3NzIxNSxfdGludEJSOjE2Nzc3MjE1LGNsZWFyVGludDpmdW5jdGlvbiBjbGVhclRpbnQoKXt0aGlzLnNldFRpbnQoMHhmZmZmZmYpO3JldHVybiB0aGlzO30sc2V0VGludDpmdW5jdGlvbiBzZXRUaW50KHRvcExlZnQsdG9wUmlnaHQsYm90dG9tTGVmdCxib3R0b21SaWdodCl7aWYodG9wTGVmdD09PXVuZGVmaW5lZCl7dG9wTGVmdD0weGZmZmZmZjt9aWYodG9wUmlnaHQ9PT11bmRlZmluZWQpe3RvcFJpZ2h0PXRvcExlZnQ7Ym90dG9tTGVmdD10b3BMZWZ0O2JvdHRvbVJpZ2h0PXRvcExlZnQ7fXRoaXMuX3RpbnRUTD1HZXRDb2xvcih0b3BMZWZ0KTt0aGlzLl90aW50VFI9R2V0Q29sb3IodG9wUmlnaHQpO3RoaXMuX3RpbnRCTD1HZXRDb2xvcihib3R0b21MZWZ0KTt0aGlzLl90aW50QlI9R2V0Q29sb3IoYm90dG9tUmlnaHQpO3JldHVybiB0aGlzO30sdGludFRvcExlZnQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fdGludFRMO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5fdGludFRMPUdldENvbG9yKHZhbHVlKTt9fSx0aW50VG9wUmlnaHQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fdGludFRSO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5fdGludFRSPUdldENvbG9yKHZhbHVlKTt9fSx0aW50Qm90dG9tTGVmdDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl90aW50Qkw7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLl90aW50Qkw9R2V0Q29sb3IodmFsdWUpO319LHRpbnRCb3R0b21SaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl90aW50QlI7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLl90aW50QlI9R2V0Q29sb3IodmFsdWUpO319LHRpbnQ6e3NldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuc2V0VGludCh2YWx1ZSx2YWx1ZSx2YWx1ZSx2YWx1ZSk7fX19O21vZHVsZS5leHBvcnRzPVRpbnQ7LyoqKi99LC8qIDI2NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBEZWZhdWx0IEdhbWUgT2JqZWN0IEpTT04gZXhwb3J0XG4vLyAgSXMgZXh0ZW5kZWQgZnVydGhlciBieSBHYW1lIE9iamVjdCBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbnNcbnZhciBUb0pTT049ZnVuY3Rpb24gVG9KU09OKGdhbWVPYmplY3Qpe3ZhciBvdXQ9e25hbWU6Z2FtZU9iamVjdC5uYW1lLHR5cGU6Z2FtZU9iamVjdC50eXBlLHg6Z2FtZU9iamVjdC54LHk6Z2FtZU9iamVjdC55LHo6Z2FtZU9iamVjdC56LHNjYWxlOnt4OmdhbWVPYmplY3Quc2NhbGVYLHk6Z2FtZU9iamVjdC5zY2FsZVl9LG9yaWdpbjp7eDpnYW1lT2JqZWN0Lm9yaWdpblgseTpnYW1lT2JqZWN0Lm9yaWdpbll9LGZsaXBYOmdhbWVPYmplY3QuZmxpcFgsZmxpcFk6Z2FtZU9iamVjdC5mbGlwWSxyb3RhdGlvbjpnYW1lT2JqZWN0LnJvdGF0aW9uLGFscGhhOmdhbWVPYmplY3QuYWxwaGEsdmlzaWJsZTpnYW1lT2JqZWN0LnZpc2libGUsc2NhbGVNb2RlOmdhbWVPYmplY3Quc2NhbGVNb2RlLGJsZW5kTW9kZTpnYW1lT2JqZWN0LmJsZW5kTW9kZSx0ZXh0dXJlS2V5OicnLGZyYW1lS2V5OicnLGRhdGE6e319O2lmKGdhbWVPYmplY3QudGV4dHVyZSl7b3V0LnRleHR1cmVLZXk9Z2FtZU9iamVjdC50ZXh0dXJlLmtleTtvdXQuZnJhbWVLZXk9Z2FtZU9iamVjdC5mcmFtZS5uYW1lO31yZXR1cm4gb3V0O307bW9kdWxlLmV4cG9ydHM9VG9KU09OOy8qKiovfSwvKiAyNjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNQVRIX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTApO3ZhciBXcmFwQW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMTEpO3ZhciBXcmFwQW5nbGVEZWdyZWVzPV9fd2VicGFja19yZXF1aXJlX18oMTEyKTsvLyAgZ2xvYmFsIGJpdG1hc2sgZmxhZyBmb3IgR2FtZU9iamVjdC5yZW5kZXJNYXNrICh1c2VkIGJ5IFNjYWxlKVxudmFyIF9GTEFHPTQ7Ly8gMDEwMFxuLy8gIFRyYW5zZm9ybSBDb21wb25lbnRcbnZhciBUcmFuc2Zvcm09ey8vICBcInByaXZhdGVcIiBwcm9wZXJ0aWVzXG5fc2NhbGVYOjEsX3NjYWxlWToxLF9yb3RhdGlvbjowLF96OjAsLy8gIHB1YmxpYyBwcm9wZXJ0aWVzIC8gbWV0aG9kc1xueDowLHk6MCx6OntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3o7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLnNjZW5lLnN5cy5zb3J0Q2hpbGRyZW5GbGFnPXRydWU7dGhpcy5fej12YWx1ZTt9fSxzY2FsZVg6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fc2NhbGVYO30sc2V0OmZ1bmN0aW9uIHNldCh2YWx1ZSl7dGhpcy5fc2NhbGVYPXZhbHVlO2lmKHRoaXMuX3NjYWxlWD09PTApe3RoaXMucmVuZGVyRmxhZ3MmPX5fRkxBRzt9ZWxzZXt0aGlzLnJlbmRlckZsYWdzfD1fRkxBRzt9fX0sc2NhbGVZOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3NjYWxlWTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpe3RoaXMuX3NjYWxlWT12YWx1ZTtpZih0aGlzLl9zY2FsZVk9PT0wKXt0aGlzLnJlbmRlckZsYWdzJj1+X0ZMQUc7fWVsc2V7dGhpcy5yZW5kZXJGbGFnc3w9X0ZMQUc7fX19LGFuZ2xlOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIFdyYXBBbmdsZURlZ3JlZXModGhpcy5fcm90YXRpb24qTUFUSF9DT05TVC5SQURfVE9fREVHKTt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpey8vICB2YWx1ZSBpcyBpbiBkZWdyZWVzXG50aGlzLnJvdGF0aW9uPVdyYXBBbmdsZURlZ3JlZXModmFsdWUpKk1BVEhfQ09OU1QuREVHX1RPX1JBRDt9fSxyb3RhdGlvbjp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLl9yb3RhdGlvbjt9LHNldDpmdW5jdGlvbiBzZXQodmFsdWUpey8vICB2YWx1ZSBpcyBpbiByYWRpYW5zXG50aGlzLl9yb3RhdGlvbj1XcmFwQW5nbGUodmFsdWUpO319LHNldFBvc2l0aW9uOmZ1bmN0aW9uIHNldFBvc2l0aW9uKHgseSl7aWYoeD09PXVuZGVmaW5lZCl7eD0wO31pZih5PT09dW5kZWZpbmVkKXt5PXg7fXRoaXMueD14O3RoaXMueT15O3JldHVybiB0aGlzO30sc2V0Um90YXRpb246ZnVuY3Rpb24gc2V0Um90YXRpb24ocmFkaWFucyl7aWYocmFkaWFucz09PXVuZGVmaW5lZCl7cmFkaWFucz0wO310aGlzLnJvdGF0aW9uPXJhZGlhbnM7cmV0dXJuIHRoaXM7fSxzZXRBbmdsZTpmdW5jdGlvbiBzZXRBbmdsZShkZWdyZWVzKXtpZihkZWdyZWVzPT09dW5kZWZpbmVkKXtkZWdyZWVzPTA7fXRoaXMuYW5nbGU9ZGVncmVlcztyZXR1cm4gdGhpczt9LHNldFNjYWxlOmZ1bmN0aW9uIHNldFNjYWxlKHgseSl7aWYoeD09PXVuZGVmaW5lZCl7eD0xO31pZih5PT09dW5kZWZpbmVkKXt5PXg7fXRoaXMuc2NhbGVYPXg7dGhpcy5zY2FsZVk9eTtyZXR1cm4gdGhpczt9LHNldFo6ZnVuY3Rpb24gc2V0Wih2YWx1ZSl7aWYodmFsdWU9PT11bmRlZmluZWQpe3ZhbHVlPTA7fXRoaXMuej12YWx1ZTtyZXR1cm4gdGhpczt9fTttb2R1bGUuZXhwb3J0cz1UcmFuc2Zvcm07LyoqKi99LC8qIDI2OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBWaXNpYmxlIENvbXBvbmVudFxuLy8gIGJpdG1hc2sgZmxhZyBmb3IgR2FtZU9iamVjdC5yZW5kZXJNYXNrXG52YXIgX0ZMQUc9MTsvLyAwMDAxXG52YXIgVmlzaWJsZT17X3Zpc2libGU6dHJ1ZSx2aXNpYmxlOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3Zpc2libGU7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXtpZih2YWx1ZSl7dGhpcy5fdmlzaWJsZT10cnVlO3RoaXMucmVuZGVyRmxhZ3N8PV9GTEFHO31lbHNle3RoaXMuX3Zpc2libGU9ZmFsc2U7dGhpcy5yZW5kZXJGbGFncyY9fl9GTEFHO319fSxzZXRWaXNpYmxlOmZ1bmN0aW9uIHNldFZpc2libGUodmFsdWUpe3RoaXMudmlzaWJsZT12YWx1ZTtyZXR1cm4gdGhpczt9fTttb2R1bGUuZXhwb3J0cz1WaXNpYmxlOy8qKiovfSwvKiAyNzAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgSW5jQWxwaGE9ZnVuY3Rpb24gSW5jQWxwaGEoaXRlbXMsdmFsdWUpe2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0uYWxwaGErPXZhbHVlO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1JbmNBbHBoYTsvKioqL30sLyogMjcxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEluY1g9ZnVuY3Rpb24gSW5jWChpdGVtcyx2YWx1ZSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS54Kz12YWx1ZTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9SW5jWDsvKioqL30sLyogMjcyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEluY1hZPWZ1bmN0aW9uIEluY1hZKGl0ZW1zLHgseSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS54Kz14O2l0ZW1zW2ldLnkrPXk7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPUluY1hZOy8qKiovfSwvKiAyNzMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgSW5jWT1mdW5jdGlvbiBJbmNZKGl0ZW1zLHZhbHVlKXtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLnkrPXZhbHVlO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1JbmNZOy8qKiovfSwvKiAyNzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUGxhY2VPbkNpcmNsZT1mdW5jdGlvbiBQbGFjZU9uQ2lyY2xlKGl0ZW1zLGNpcmNsZSxzdGFydEFuZ2xlLGVuZEFuZ2xlKXtpZihzdGFydEFuZ2xlPT09dW5kZWZpbmVkKXtzdGFydEFuZ2xlPTA7fWlmKGVuZEFuZ2xlPT09dW5kZWZpbmVkKXtlbmRBbmdsZT02LjI4O312YXIgYW5nbGU9c3RhcnRBbmdsZTt2YXIgYW5nbGVTdGVwPShlbmRBbmdsZS1zdGFydEFuZ2xlKS9pdGVtcy5sZW5ndGg7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS54PWNpcmNsZS54K2NpcmNsZS5yYWRpdXMqTWF0aC5jb3MoYW5nbGUpO2l0ZW1zW2ldLnk9Y2lyY2xlLnkrY2lyY2xlLnJhZGl1cypNYXRoLnNpbihhbmdsZSk7YW5nbGUrPWFuZ2xlU3RlcDt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9UGxhY2VPbkNpcmNsZTsvKioqL30sLyogMjc1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFBsYWNlT25FbGxpcHNlPWZ1bmN0aW9uIFBsYWNlT25FbGxpcHNlKGl0ZW1zLGVsbGlwc2Usc3RhcnRBbmdsZSxlbmRBbmdsZSl7aWYoc3RhcnRBbmdsZT09PXVuZGVmaW5lZCl7c3RhcnRBbmdsZT0wO31pZihlbmRBbmdsZT09PXVuZGVmaW5lZCl7ZW5kQW5nbGU9Ni4yODt9dmFyIGFuZ2xlPXN0YXJ0QW5nbGU7dmFyIGFuZ2xlU3RlcD0oZW5kQW5nbGUtc3RhcnRBbmdsZSkvaXRlbXMubGVuZ3RoO3ZhciBhPWVsbGlwc2Uud2lkdGgvMjt2YXIgYj1lbGxpcHNlLmhlaWdodC8yO2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0ueD1lbGxpcHNlLngrYSpNYXRoLmNvcyhhbmdsZSk7aXRlbXNbaV0ueT1lbGxpcHNlLnkrYipNYXRoLnNpbihhbmdsZSk7YW5nbGUrPWFuZ2xlU3RlcDt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9UGxhY2VPbkVsbGlwc2U7LyoqKi99LC8qIDI3NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldFBvaW50c09uTGluZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTt2YXIgUGxhY2VPbkxpbmU9ZnVuY3Rpb24gUGxhY2VPbkxpbmUoaXRlbXMsbGluZSl7dmFyIHBvaW50cz1HZXRQb2ludHNPbkxpbmUobGluZSk7dmFyIHN0ZXA9cG9pbnRzLmxlbmd0aC9pdGVtcy5sZW5ndGg7dmFyIHA9MDtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe3ZhciBpdGVtPWl0ZW1zW2ldO3ZhciBwb2ludD1wb2ludHNbTWF0aC5mbG9vcihwKV07aXRlbS54PXBvaW50WzBdO2l0ZW0ueT1wb2ludFsxXTtwKz1zdGVwO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1QbGFjZU9uTGluZTsvKioqL30sLyogMjc3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgTWFyY2hpbmdBbnRzPV9fd2VicGFja19yZXF1aXJlX18oMTEzKTt2YXIgUm90YXRlTGVmdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDExNSk7dmFyIFJvdGF0ZVJpZ2h0PV9fd2VicGFja19yZXF1aXJlX18oMTE2KTsvLyAgUGxhY2UgdGhlIGl0ZW1zIGluIHRoZSBhcnJheSBhcm91bmQgdGhlIHBlcmltZXRlciBvZiB0aGUgZ2l2ZW4gcmVjdGFuZ2xlLlxuLy8gIFBsYWNlbWVudCBzdGFydHMgZnJvbSB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZSwgYW5kIHByb2NlZWRzIGluIGFcbi8vICBjbG9ja3dpc2UgZGlyZWN0aW9uLiBJZiB0aGUgc2hpZnQgcGFyYW1ldGVyIGlzIGdpdmVuIHlvdSBjYW4gb2Zmc2V0IHdoZXJlXG4vLyAgcGxhY2VtZW50IGJlZ2lucy5cbnZhciBQbGFjZU9uUmVjdGFuZ2xlPWZ1bmN0aW9uIFBsYWNlT25SZWN0YW5nbGUoaXRlbXMscmVjdCxzaGlmdCl7aWYoc2hpZnQ9PT11bmRlZmluZWQpe3NoaWZ0PTA7fXZhciBwb2ludHM9TWFyY2hpbmdBbnRzKHJlY3QsZmFsc2UsaXRlbXMubGVuZ3RoKTtpZihzaGlmdD4wKXtSb3RhdGVMZWZ0KHBvaW50cyxzaGlmdCk7fWVsc2UgaWYoc2hpZnQ8MCl7Um90YXRlUmlnaHQocG9pbnRzLE1hdGguYWJzKHNoaWZ0KSk7fWZvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0ueD1wb2ludHNbaV0ueDtpdGVtc1tpXS55PXBvaW50c1tpXS55O31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1QbGFjZU9uUmVjdGFuZ2xlOy8qKiovfSwvKiAyNzggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRQb2ludHNPbkxpbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2Mik7dmFyIFBsYWNlT25UcmlhbmdsZT1mdW5jdGlvbiBQbGFjZU9uVHJpYW5nbGUoaXRlbXMsdHJpYW5nbGUsc3RlcFJhdGUpe3ZhciBwMT1HZXRQb2ludHNPbkxpbmUoe3gxOnRyaWFuZ2xlLngxLHkxOnRyaWFuZ2xlLnkxLHgyOnRyaWFuZ2xlLngyLHkyOnRyaWFuZ2xlLnkyfSxzdGVwUmF0ZSk7dmFyIHAyPUdldFBvaW50c09uTGluZSh7eDE6dHJpYW5nbGUueDIseTE6dHJpYW5nbGUueTIseDI6dHJpYW5nbGUueDMseTI6dHJpYW5nbGUueTN9LHN0ZXBSYXRlKTt2YXIgcDM9R2V0UG9pbnRzT25MaW5lKHt4MTp0cmlhbmdsZS54Myx5MTp0cmlhbmdsZS55Myx4Mjp0cmlhbmdsZS54MSx5Mjp0cmlhbmdsZS55MX0sc3RlcFJhdGUpOy8vICBSZW1vdmUgb3ZlcmxhcHNcbnAxLnBvcCgpO3AyLnBvcCgpO3AzLnBvcCgpO3AxPXAxLmNvbmNhdChwMixwMyk7dmFyIHN0ZXA9cDEubGVuZ3RoL2l0ZW1zLmxlbmd0aDt2YXIgcD0wO2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7dmFyIGl0ZW09aXRlbXNbaV07dmFyIHBvaW50PXAxW01hdGguZmxvb3IocCldO2l0ZW0ueD1wb2ludFswXTtpdGVtLnk9cG9pbnRbMV07cCs9c3RlcDt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9UGxhY2VPblRyaWFuZ2xlOy8qKiovfSwvKiAyNzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUGxheUFuaW1hdGlvbj1mdW5jdGlvbiBQbGF5QW5pbWF0aW9uKGl0ZW1zLGtleSxzdGFydEZyYW1lKXtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLmFuaW1zLnBsYXkoa2V5LHN0YXJ0RnJhbWUpO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1QbGF5QW5pbWF0aW9uOy8qKiovfSwvKiAyODAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBSYW5kb209X193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO3ZhciBSYW5kb21DaXJjbGU9ZnVuY3Rpb24gUmFuZG9tQ2lyY2xlKGl0ZW1zLGNpcmNsZSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtSYW5kb20oY2lyY2xlLGl0ZW1zW2ldKTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9UmFuZG9tQ2lyY2xlOy8qKiovfSwvKiAyODEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBSYW5kb209X193ZWJwYWNrX3JlcXVpcmVfXygxMTgpO3ZhciBSYW5kb21FbGxpcHNlPWZ1bmN0aW9uIFJhbmRvbUVsbGlwc2UoaXRlbXMsZWxsaXBzZSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtSYW5kb20oZWxsaXBzZSxpdGVtc1tpXSk7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPVJhbmRvbUVsbGlwc2U7LyoqKi99LC8qIDI4MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJhbmRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7dmFyIFJhbmRvbUxpbmU9ZnVuY3Rpb24gUmFuZG9tTGluZShpdGVtcyxsaW5lKXtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe1JhbmRvbShsaW5lLGl0ZW1zW2ldKTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9UmFuZG9tTGluZTsvKioqL30sLyogMjgzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUmFuZG9tPV9fd2VicGFja19yZXF1aXJlX18oMTIwKTt2YXIgUmFuZG9tUmVjdGFuZ2xlPWZ1bmN0aW9uIFJhbmRvbVJlY3RhbmdsZShpdGVtcyxyZWN0KXtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe1JhbmRvbShyZWN0LGl0ZW1zW2ldKTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9UmFuZG9tUmVjdGFuZ2xlOy8qKiovfSwvKiAyODQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBSYW5kb209X193ZWJwYWNrX3JlcXVpcmVfXygxMjEpO3ZhciBSYW5kb21UcmlhbmdsZT1mdW5jdGlvbiBSYW5kb21UcmlhbmdsZShpdGVtcyx0cmlhbmdsZSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtSYW5kb20odHJpYW5nbGUsaXRlbXNbaV0pO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1SYW5kb21UcmlhbmdsZTsvKioqL30sLyogMjg1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFJvdGF0ZT1mdW5jdGlvbiBSb3RhdGUoaXRlbXMsdmFsdWUsc3RlcCl7aWYoc3RlcD09PXVuZGVmaW5lZCl7c3RlcD0wO31mb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLnJvdGF0aW9uKz12YWx1ZStpKnN0ZXA7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPVJvdGF0ZTsvKioqL30sLyogMjg2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUm90YXRlQXJvdW5kRGlzdGFuY2U9X193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7dmFyIERpc3RhbmNlQmV0d2Vlbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTsvLyAgcG9pbnQgPSBhbnkgb2JqZWN0IHdpdGggcHVibGljIHgveSBwcm9wZXJ0aWVzXG52YXIgUm90YXRlQXJvdW5kPWZ1bmN0aW9uIFJvdGF0ZUFyb3VuZChpdGVtcyxwb2ludCxhbmdsZSl7dmFyIHg9cG9pbnQueDt2YXIgeT1wb2ludC55O2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7dmFyIGl0ZW09aXRlbXNbaV07Um90YXRlQXJvdW5kRGlzdGFuY2UoaXRlbSx4LHksYW5nbGUsTWF0aC5tYXgoMSxEaXN0YW5jZUJldHdlZW4oaXRlbS54LGl0ZW0ueSx4LHkpKSk7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPVJvdGF0ZUFyb3VuZDsvKioqL30sLyogMjg3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgTWF0aFJvdGF0ZUFyb3VuZERpc3RhbmNlPV9fd2VicGFja19yZXF1aXJlX18oNjMpOy8vICBwb2ludCA9IGFueSBvYmplY3Qgd2l0aCBwdWJsaWMgeC95IHByb3BlcnRpZXNcbi8vICBhbmdsZSA9IHJhZGlhbnNcbi8vICBkaXN0YW5jZSA9IHB4XG52YXIgUm90YXRlQXJvdW5kRGlzdGFuY2U9ZnVuY3Rpb24gUm90YXRlQXJvdW5kRGlzdGFuY2UoaXRlbXMscG9pbnQsYW5nbGUsZGlzdGFuY2Upe3ZhciB4PXBvaW50Lng7dmFyIHk9cG9pbnQueTtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe01hdGhSb3RhdGVBcm91bmREaXN0YW5jZShpdGVtc1tpXSx4LHksYW5nbGUsZGlzdGFuY2UpO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1Sb3RhdGVBcm91bmREaXN0YW5jZTsvKioqL30sLyogMjg4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNjYWxlWD1mdW5jdGlvbiBTY2FsZVgoaXRlbXMsdmFsdWUpe2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0uc2NhbGVYKz12YWx1ZTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9U2NhbGVYOy8qKiovfSwvKiAyODkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2NhbGVYWT1mdW5jdGlvbiBTY2FsZVhZKGl0ZW1zLHgseSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS5zY2FsZVgrPXg7aXRlbXNbaV0uc2NhbGVZKz15O31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TY2FsZVhZOy8qKiovfSwvKiAyOTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2NhbGVZPWZ1bmN0aW9uIFNjYWxlWShpdGVtcyx2YWx1ZSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS5zY2FsZVkrPXZhbHVlO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TY2FsZVk7LyoqKi99LC8qIDI5MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRBbHBoYT1mdW5jdGlvbiBTZXRBbHBoYShpdGVtcyx2YWx1ZSxzdGVwKXtpZihzdGVwPT09dW5kZWZpbmVkKXtzdGVwPTA7fWZvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0uYWxwaGE9dmFsdWUraSpzdGVwO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRBbHBoYTsvKioqL30sLyogMjkyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldEhpdEFyZWE9ZnVuY3Rpb24gU2V0SGl0QXJlYShpdGVtcyxoaXRBcmVhLGhpdEFyZWFDYWxsYmFjayl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS5zZXRIaXRBcmVhKGhpdEFyZWEsaGl0QXJlYUNhbGxiYWNrKTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9U2V0SGl0QXJlYTsvKioqL30sLyogMjkzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldE9yaWdpbj1mdW5jdGlvbiBTZXRPcmlnaW4oaXRlbXMseCx5KXtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLnNldE9yaWdpbih4LHkpO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRPcmlnaW47LyoqKi99LC8qIDI5NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRSb3RhdGlvbj1mdW5jdGlvbiBTZXRSb3RhdGlvbihpdGVtcyx2YWx1ZSxzdGVwKXtpZihzdGVwPT09dW5kZWZpbmVkKXtzdGVwPTA7fWZvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0ucm90YXRpb249dmFsdWUraSpzdGVwO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRSb3RhdGlvbjsvKioqL30sLyogMjk1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFNjYWxlPWZ1bmN0aW9uIFNldFNjYWxlKGl0ZW1zLHgseSxzdGVwWCxzdGVwWSl7aWYoc3RlcFg9PT11bmRlZmluZWQpe3N0ZXBYPTA7fWlmKHN0ZXBZPT09dW5kZWZpbmVkKXtzdGVwWT0wO31mb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLnNldFNjYWxlKHgraSpzdGVwWCx5K2kqc3RlcFkpO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRTY2FsZTsvKioqL30sLyogMjk2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFNjYWxlWD1mdW5jdGlvbiBTZXRTY2FsZVgoaXRlbXMsdmFsdWUsc3RlcCl7aWYoc3RlcD09PXVuZGVmaW5lZCl7c3RlcD0wO31mb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLnNjYWxlWD12YWx1ZStpKnN0ZXA7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPVNldFNjYWxlWDsvKioqL30sLyogMjk3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFNjYWxlWT1mdW5jdGlvbiBTZXRTY2FsZVkoaXRlbXMsdmFsdWUsc3RlcCl7aWYoc3RlcD09PXVuZGVmaW5lZCl7c3RlcD0wO31mb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLnNjYWxlWT12YWx1ZStpKnN0ZXA7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPVNldFNjYWxlWTsvKioqL30sLyogMjk4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFZpc2libGU9ZnVuY3Rpb24gU2V0VmlzaWJsZShpdGVtcyx2YWx1ZSl7Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS52aXNpYmxlPXZhbHVlO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRWaXNpYmxlOy8qKiovfSwvKiAyOTkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0WD1mdW5jdGlvbiBTZXRYKGl0ZW1zLHZhbHVlLHN0ZXApe2lmKHN0ZXA9PT11bmRlZmluZWQpe3N0ZXA9MDt9Zm9yKHZhciBpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXS54PXZhbHVlK2kqc3RlcDt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9U2V0WDsvKioqL30sLyogMzAwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFhZPWZ1bmN0aW9uIFNldFhZKGl0ZW1zLHgseSxzdGVwWCxzdGVwWSl7aWYoc3RlcFg9PT11bmRlZmluZWQpe3N0ZXBYPTA7fWlmKHN0ZXBZPT09dW5kZWZpbmVkKXtzdGVwWT0wO31mb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLng9eCtpKnN0ZXBYO2l0ZW1zW2ldLnk9eStpKnN0ZXBZO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRYWTsvKioqL30sLyogMzAxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFk9ZnVuY3Rpb24gU2V0WShpdGVtcyx2YWx1ZSxzdGVwKXtpZihzdGVwPT09dW5kZWZpbmVkKXtzdGVwPTA7fWZvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0ueT12YWx1ZStpKnN0ZXA7fXJldHVybiBpdGVtczt9O21vZHVsZS5leHBvcnRzPVNldFk7LyoqKi99LC8qIDMwMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRaPWZ1bmN0aW9uIFNldFooaXRlbXMsdmFsdWUsc3RlcCl7aWYoc3RlcD09PXVuZGVmaW5lZCl7c3RlcD0wO31mb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldLno9dmFsdWUraSpzdGVwO31yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TZXRaOy8qKiovfSwvKiAzMDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSXRlcmF0ZSB0aHJvdWdoIGl0ZW1zIGNoYW5naW5nIHRoZSBwb3NpdGlvbiBvZiBlYWNoIGVsZW1lbnQgdG9cbi8vICBiZSB0aGF0IG9mIHRoZSBlbGVtZW50IHRoYXQgY2FtZSBiZWZvcmUgaXQgaW4gdGhlIGFycmF5IChvciBhZnRlciBpdCBpZiBkaXJlY3Rpb24gPSAxKVxuLy8gIFRoZSBmaXJzdCBpdGVtcyBwb3NpdGlvbiBpcyBzZXQgdG8geC95LlxuLy8gIFRoZSBmaW5hbCB4L3kgY29vcmRzIGFyZSByZXR1cm5lZFxudmFyIFNoaWZ0UG9zaXRpb249ZnVuY3Rpb24gU2hpZnRQb3NpdGlvbihpdGVtcyx4LHksZGlyZWN0aW9uLG91dHB1dCl7aWYoZGlyZWN0aW9uPT09dW5kZWZpbmVkKXtkaXJlY3Rpb249MDt9aWYob3V0cHV0PT09dW5kZWZpbmVkKXtvdXRwdXQ9e3g6MCx5OjB9O312YXIgcHg7dmFyIHB5O2lmKGl0ZW1zLmxlbmd0aD4xKXt2YXIgaTt2YXIgY3g7dmFyIGN5O3ZhciBjdXI7aWYoZGlyZWN0aW9uPT09MCl7Ly8gIEJvdHRvbSB0byBUb3BcbnZhciBsZW49aXRlbXMubGVuZ3RoLTE7cHg9aXRlbXNbbGVuXS54O3B5PWl0ZW1zW2xlbl0ueTtmb3IoaT1sZW4tMTtpPj0wO2ktLSl7Ly8gIEN1cnJlbnQgaXRlbVxuY3VyPWl0ZW1zW2ldOy8vICBHZXQgY3VycmVudCBpdGVtIHgveSwgdG8gYmUgcGFzc2VkIHRvIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIGxpc3RcbmN4PWN1ci54O2N5PWN1ci55Oy8vICBTZXQgY3VycmVudCBpdGVtIHRvIHRoZSBwcmV2aW91cyBpdGVtcyB4L3lcbmN1ci54PXB4O2N1ci55PXB5Oy8vICBTZXQgY3VycmVudCBhcyBwcmV2aW91c1xucHg9Y3g7cHk9Y3k7fS8vICBVcGRhdGUgdGhlIGhlYWQgaXRlbSB0byB0aGUgbmV3IHgveSBjb29yZGluYXRlc1xuaXRlbXNbbGVuXS54PXg7aXRlbXNbbGVuXS55PXk7fWVsc2V7Ly8gIFRvcCB0byBCb3R0b21cbnB4PWl0ZW1zWzBdLng7cHk9aXRlbXNbMF0ueTtmb3IoaT0xO2k8aXRlbXMubGVuZ3RoO2krKyl7Ly8gIEN1cnJlbnQgaXRlbVxuY3VyPWl0ZW1zW2ldOy8vICBHZXQgY3VycmVudCBpdGVtIHgveSwgdG8gYmUgcGFzc2VkIHRvIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIGxpc3RcbmN4PWN1ci54O2N5PWN1ci55Oy8vICBTZXQgY3VycmVudCBpdGVtIHRvIHRoZSBwcmV2aW91cyBpdGVtcyB4L3lcbmN1ci54PXB4O2N1ci55PXB5Oy8vICBTZXQgY3VycmVudCBhcyBwcmV2aW91c1xucHg9Y3g7cHk9Y3k7fS8vICBVcGRhdGUgdGhlIGhlYWQgaXRlbSB0byB0aGUgbmV3IHgveSBjb29yZGluYXRlc1xuaXRlbXNbMF0ueD14O2l0ZW1zWzBdLnk9eTt9fWVsc2V7cHg9aXRlbXNbMF0ueDtweT1pdGVtc1swXS55O2l0ZW1zWzBdLng9eDtpdGVtc1swXS55PXk7fS8vICBSZXR1cm4gdGhlIGZpbmFsIHNldCBvZiBjb29yZGluYXRlcyBhcyB0aGV5J3JlIGVmZmVjdGl2ZWx5IGxvc3QgZnJvbSB0aGUgc2hpZnQgYW5kIG1heSBiZSBuZWVkZWRcbm91dHB1dC54PXB4O291dHB1dC55PXB5O3JldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1TaGlmdFBvc2l0aW9uOy8qKiovfSwvKiAzMDQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNYXRoU21vb3RoZXJTdGVwPV9fd2VicGFja19yZXF1aXJlX18oMTIyKTt2YXIgU21vb3RoZXJTdGVwPWZ1bmN0aW9uIFNtb290aGVyU3RlcChpdGVtcyxwcm9wZXJ0eSxtaW4sbWF4LGluYyl7aWYoaW5jPT09dW5kZWZpbmVkKXtpbmM9ZmFsc2U7fXZhciBzdGVwPU1hdGguYWJzKG1heC1taW4pL2l0ZW1zLmxlbmd0aDt2YXIgaTtpZihpbmMpe2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXVtwcm9wZXJ0eV0rPU1hdGhTbW9vdGhlclN0ZXAoaSpzdGVwLG1pbixtYXgpO319ZWxzZXtmb3IoaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV1bcHJvcGVydHldPU1hdGhTbW9vdGhlclN0ZXAoaSpzdGVwLG1pbixtYXgpO319cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9U21vb3RoZXJTdGVwOy8qKiovfSwvKiAzMDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNYXRoU21vb3RoU3RlcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyk7dmFyIFNtb290aFN0ZXA9ZnVuY3Rpb24gU21vb3RoU3RlcChpdGVtcyxwcm9wZXJ0eSxtaW4sbWF4LGluYyl7aWYoaW5jPT09dW5kZWZpbmVkKXtpbmM9ZmFsc2U7fXZhciBzdGVwPU1hdGguYWJzKG1heC1taW4pL2l0ZW1zLmxlbmd0aDt2YXIgaTtpZihpbmMpe2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXVtwcm9wZXJ0eV0rPU1hdGhTbW9vdGhTdGVwKGkqc3RlcCxtaW4sbWF4KTt9fWVsc2V7Zm9yKGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldW3Byb3BlcnR5XT1NYXRoU21vb3RoU3RlcChpKnN0ZXAsbWluLG1heCk7fX1yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TbW9vdGhTdGVwOy8qKiovfSwvKiAzMDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU3ByZWFkPWZ1bmN0aW9uIFNwcmVhZChpdGVtcyxwcm9wZXJ0eSxtaW4sbWF4LGluYyl7aWYoaW5jPT09dW5kZWZpbmVkKXtpbmM9ZmFsc2U7fXZhciBzdGVwPU1hdGguYWJzKG1heC1taW4pL2l0ZW1zLmxlbmd0aDt2YXIgaTtpZihpbmMpe2ZvcihpPTA7aTxpdGVtcy5sZW5ndGg7aSsrKXtpdGVtc1tpXVtwcm9wZXJ0eV0rPWkqc3RlcDt9fWVsc2V7Zm9yKGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2l0ZW1zW2ldW3Byb3BlcnR5XT1pKnN0ZXA7fX1yZXR1cm4gaXRlbXM7fTttb2R1bGUuZXhwb3J0cz1TcHJlYWQ7LyoqKi99LC8qIDMwNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBUb2dnbGVWaXNpYmxlPWZ1bmN0aW9uIFRvZ2dsZVZpc2libGUoaXRlbXMpe2Zvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7aXRlbXNbaV0udmlzaWJsZT0haXRlbXNbaV0udmlzaWJsZTt9cmV0dXJuIGl0ZW1zO307bW9kdWxlLmV4cG9ydHM9VG9nZ2xlVmlzaWJsZTsvKioqL30sLyogMzA4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkNyZWF0ZVxubW9kdWxlLmV4cG9ydHM9e0dlbmVyYXRlVGV4dHVyZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCksR3JpZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMwOSksUGFsZXR0ZXM6X193ZWJwYWNrX3JlcXVpcmVfXygzMTApfTsvKioqL30sLyogMzA5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LypcbmltcG9ydCBDYW52YXMgZnJvbSAnY2FudmFzL0NhbnZhcy5qcyc7XG5pbXBvcnQgR2V0Q29udGV4dCBmcm9tICdjYW52YXMvR2V0Q29udGV4dC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdyaWQgIChcbiAgICAgICAge1xuICAgICAgICAgICAgY2FudmFzID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgd2lkdGggPSAyNTYsXG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aCxcbiAgICAgICAgICAgIGNlbGxXaWR0aCA9IDMyLFxuICAgICAgICAgICAgY2VsbEhlaWdodCA9IGNlbGxXaWR0aCxcbiAgICAgICAgICAgIGNvbG9yMSA9ICcjZmZmJyxcbiAgICAgICAgICAgIGNvbG9yMiA9ICcjMDAwJyxcbiAgICAgICAgICAgIGRyYXdMaW5lcyA9IGZhbHNlLFxuICAgICAgICAgICAgbGluZUNvbG9yID0gJyNmZjAwMDAnLFxuICAgICAgICAgICAgYWx0ZXJuYXRlID0gdHJ1ZSxcbiAgICAgICAgICAgIHJlc2l6ZUNhbnZhcyA9IHRydWUsXG4gICAgICAgICAgICBjbGVhciA9IHRydWUsXG4gICAgICAgICAgICBwcmVSZW5kZXIgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICBwb3N0UmVuZGVyID0gdW5kZWZpbmVkXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuXG4gICAgaWYgKCFjYW52YXMpXG4gICAge1xuICAgICAgICBjYW52YXMgPSBDYW52YXMod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHJlc2l6ZUNhbnZhcyA9IGZhbHNlO1xuICAgICAgICBjbGVhciA9IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyAgVGhleSBwcm92aWRlZCBvd24gY2FudmFzLCBzbyB3ZSB1c2UgaXRzIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKCFyZXNpemVDYW52YXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBjdHggPSBHZXRDb250ZXh0KGNhbnZhcyk7XG5cbiAgICBpZiAocmVzaXplQ2FudmFzKVxuICAgIHtcbiAgICAgICAgUmVzaXplKGNhbnZhcywgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKGNsZWFyKVxuICAgIHtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoZHJhd0xpbmVzKVxuICAgIHtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGxpbmVDb2xvcjtcbiAgICB9XG5cbiAgICAvLyAgcHJlUmVuZGVyIENhbGxiYWNrP1xuICAgIGlmIChwcmVSZW5kZXIpXG4gICAge1xuICAgICAgICBwcmVSZW5kZXIoY2FudmFzLCBjdHgpO1xuICAgIH1cblxuICAgIC8vICBEcmF3IHRoZSBncmlkIGNlbGxzIGZpcnN0ICh0aGUgbGluZXMgZ28gb24gdG9wKVxuXG4gICAgbGV0IGN4ID0gTWF0aC5jZWlsKHdpZHRoIC8gY2VsbFdpZHRoKTtcbiAgICBsZXQgY3kgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gY2VsbEhlaWdodCk7XG4gICAgbGV0IGMgPSAwO1xuICAgIGxldCBjb2xvciA9IGNvbG9yMTtcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY3k7IHkrKylcbiAgICB7XG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgY3g7IHgrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGMgPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBjb2xvcjE7XG4gICAgICAgICAgICAgICAgYyA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29sb3IgPSBjb2xvcjI7XG4gICAgICAgICAgICAgICAgYyA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb2xvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHggKiBjZWxsV2lkdGgsIHkgKiBjZWxsSGVpZ2h0LCBjZWxsV2lkdGgsIGNlbGxIZWlnaHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZHJhd0xpbmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vICArLSAwLjUgYmVjYXVzZSB3ZSdyZSB1c2luZyBzdHJva2UsIGFuZCB3aWxsIGdldCBhbnRpLWFsaWFzZWQgbGluZSBzdHJva2VzIHdpdGhvdXRcbiAgICAgICAgICAgICAgICBsZXQgb3ggPSAwLjU7XG4gICAgICAgICAgICAgICAgbGV0IG95ID0gMC41O1xuXG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGN4IC0gMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG94ID0gLTAuNTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoeSA9PT0gY3kgLSAxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3kgPSAtMC41O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN0eC5zdHJva2VSZWN0KCh4ICogY2VsbFdpZHRoKSArIG94LCAoeSAqIGNlbGxIZWlnaHQpICsgb3ksIGNlbGxXaWR0aCwgY2VsbEhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWx0ZXJuYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLy8gIHBvc3RSZW5kZXIgQ2FsbGJhY2s/XG4gICAgaWYgKHBvc3RSZW5kZXIpXG4gICAge1xuICAgICAgICBwb3N0UmVuZGVyKGNhbnZhcywgY3R4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FudmFzO1xuXG59XG4qLy8qKiovfSwvKiAzMTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtBUk5FMTY6X193ZWJwYWNrX3JlcXVpcmVfXygxMjUpLEM2NDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMxMSksQ0dBOl9fd2VicGFja19yZXF1aXJlX18oMzEyKSxKTVA6X193ZWJwYWNrX3JlcXVpcmVfXygzMTMpLE1TWDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMxNCl9Oy8qKiovfSwvKiAzMTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyBBIDE2IGNvbG9yIEM2NCBpbnNwaXJlZCBwYWxldHRlLlxubW9kdWxlLmV4cG9ydHM9ezA6JyMwMDAnLDE6JyNmZmYnLDI6JyM4YjQxMzEnLDM6JyM3YmJkYzUnLDQ6JyM4YjQxYWMnLDU6JyM2YWFjNDEnLDY6JyMzOTMxYTQnLDc6JyNkNWRlNzMnLDg6JyM5NDVhMjAnLDk6JyM1YTQxMDAnLEE6JyNiZDczNmEnLEI6JyM1MjUyNTInLEM6JyM4MzgzODMnLEQ6JyNhY2VlOGInLEU6JyM3YjczZGUnLEY6JyNhY2FjYWMnfTsvKioqL30sLyogMzEyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gQSAxNiBjb2xvciBDR0EgaW5zcGlyZWQgcGFsZXR0ZSBieSBbQXJuZV0oaHR0cDovL2FuZHJvaWRhcnRzLmNvbS9wYWxldHRlLzE2cGFsLmh0bSlcbm1vZHVsZS5leHBvcnRzPXswOicjMDAwJywxOicjMjIzNGQxJywyOicjMGM3ZTQ1JywzOicjNDRhYWNjJyw0OicjOGEzNjIyJyw1OicjNWMyZTc4Jyw2OicjYWE1YzNkJyw3OicjYjViNWI1Jyw4OicjNWU2MDZlJyw5OicjNGM4MWZiJyxBOicjNmNkOTQ3JyxCOicjN2JlMmY5JyxDOicjZWI4YTYwJyxEOicjZTIzZDY5JyxFOicjZmZkOTNmJyxGOicjZmZmJ307LyoqKi99LC8qIDMxMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIEEgMTYgY29sb3IgSk1QIHBhbGV0dGUgYnkgW0FybmVdKGh0dHA6Ly9hbmRyb2lkYXJ0cy5jb20vcGFsZXR0ZS8xNnBhbC5odG0pXG5tb2R1bGUuZXhwb3J0cz17MDonIzAwMCcsMTonIzE5MTAyOCcsMjonIzQ2YWY0NScsMzonI2ExZDY4NScsNDonIzQ1M2U3OCcsNTonIzc2NjRmZScsNjonIzgzMzEyOScsNzonIzllYzJlOCcsODonI2RjNTM0YicsOTonI2UxOGQ3OScsQTonI2Q2Yjk3YicsQjonI2U5ZDhhMScsQzonIzIxNmM0YicsRDonI2QzNjVjOCcsRTonI2FmYWFiOScsRjonI2Y1ZjRlYid9Oy8qKiovfSwvKiAzMTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyBBIDE2IGNvbG9yIHBhbGV0dGUgaW5zcGlyZWQgYnkgSmFwYW5lc2UgY29tcHV0ZXJzIGxpa2UgdGhlIE1TWC5cbm1vZHVsZS5leHBvcnRzPXswOicjMDAwJywxOicjMTkxMDI4JywyOicjNDZhZjQ1JywzOicjYTFkNjg1Jyw0OicjNDUzZTc4Jyw1OicjNzY2NGZlJyw2OicjODMzMTI5Jyw3OicjOWVjMmU4Jyw4OicjZGM1MzRiJyw5OicjZTE4ZDc5JyxBOicjZDZiOTdiJyxCOicjZTlkOGExJyxDOicjMjE2YzRiJyxEOicjZDM2NWM4JyxFOicjYWZhYWI5JyxGOicjZmZmJ307LyoqKi99LC8qIDMxNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5ET01cbm1vZHVsZS5leHBvcnRzPXtBZGRFdmVudExpc3RlbmVyOl9fd2VicGFja19yZXF1aXJlX18oMzE2KSxBZGRUb0RPTTpfX3dlYnBhY2tfcmVxdWlyZV9fKDEyNiksQ2FudmFzSW50ZXJwb2xhdGlvbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDY1KSxDYW52YXNQb29sOl9fd2VicGFja19yZXF1aXJlX18oMTEpLERPTUNvbnRlbnRMb2FkZWQ6X193ZWJwYWNrX3JlcXVpcmVfXygxMjcpLFBhcnNlWE1MOl9fd2VicGFja19yZXF1aXJlX18oMTI4KSxSZW1vdmVFdmVudExpc3RlbmVyOl9fd2VicGFja19yZXF1aXJlX18oMzE4KSxSZW1vdmVGcm9tRE9NOl9fd2VicGFja19yZXF1aXJlX18oMzE5KSxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU6X193ZWJwYWNrX3JlcXVpcmVfXygxMjkpLFNtb290aGluZzpfX3dlYnBhY2tfcmVxdWlyZV9fKDY0KSxUb3VjaEFjdGlvbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMCksVXNlclNlbGVjdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMyMSl9Oy8qKiovfSwvKiAzMTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbiBBZGRFdmVudExpc3RlbmVyKHRhcmdldCxldmVudCxsaXN0ZW5lcix1c2VDYXB0dXJlKXtpZih1c2VDYXB0dXJlPT09dW5kZWZpbmVkKXt1c2VDYXB0dXJlPWZhbHNlO310YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCxsaXN0ZW5lcix1c2VDYXB0dXJlKTt9O21vZHVsZS5leHBvcnRzPUFkZEV2ZW50TGlzdGVuZXI7LyoqKi99LC8qIDMxNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e307Ly8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG52YXIgY2FjaGVkU2V0VGltZW91dDt2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O2Z1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKXt0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTt9ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpe3Rocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7fShmdW5jdGlvbigpe3RyeXtpZih0eXBlb2Ygc2V0VGltZW91dD09PSdmdW5jdGlvbicpe2NhY2hlZFNldFRpbWVvdXQ9c2V0VGltZW91dDt9ZWxzZXtjYWNoZWRTZXRUaW1lb3V0PWRlZmF1bHRTZXRUaW1vdXQ7fX1jYXRjaChlKXtjYWNoZWRTZXRUaW1lb3V0PWRlZmF1bHRTZXRUaW1vdXQ7fXRyeXtpZih0eXBlb2YgY2xlYXJUaW1lb3V0PT09J2Z1bmN0aW9uJyl7Y2FjaGVkQ2xlYXJUaW1lb3V0PWNsZWFyVGltZW91dDt9ZWxzZXtjYWNoZWRDbGVhclRpbWVvdXQ9ZGVmYXVsdENsZWFyVGltZW91dDt9fWNhdGNoKGUpe2NhY2hlZENsZWFyVGltZW91dD1kZWZhdWx0Q2xlYXJUaW1lb3V0O319KSgpO2Z1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKXtpZihjYWNoZWRTZXRUaW1lb3V0PT09c2V0VGltZW91dCl7Ly9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG5yZXR1cm4gc2V0VGltZW91dChmdW4sMCk7fS8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG5pZigoY2FjaGVkU2V0VGltZW91dD09PWRlZmF1bHRTZXRUaW1vdXR8fCFjYWNoZWRTZXRUaW1lb3V0KSYmc2V0VGltZW91dCl7Y2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0O3JldHVybiBzZXRUaW1lb3V0KGZ1biwwKTt9dHJ5ey8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbnJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwwKTt9Y2F0Y2goZSl7dHJ5ey8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxucmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLGZ1biwwKTt9Y2F0Y2goZSl7Ly8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbnJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcyxmdW4sMCk7fX19ZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcil7aWYoY2FjaGVkQ2xlYXJUaW1lb3V0PT09Y2xlYXJUaW1lb3V0KXsvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbnJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTt9Ly8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuaWYoKGNhY2hlZENsZWFyVGltZW91dD09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFjYWNoZWRDbGVhclRpbWVvdXQpJiZjbGVhclRpbWVvdXQpe2NhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQ7cmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO310cnl7Ly8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xucmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO31jYXRjaChlKXt0cnl7Ly8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxucmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsbWFya2VyKTt9Y2F0Y2goZSl7Ly8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4vLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5yZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcyxtYXJrZXIpO319fXZhciBxdWV1ZT1bXTt2YXIgZHJhaW5pbmc9ZmFsc2U7dmFyIGN1cnJlbnRRdWV1ZTt2YXIgcXVldWVJbmRleD0tMTtmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKXtpZighZHJhaW5pbmd8fCFjdXJyZW50UXVldWUpe3JldHVybjt9ZHJhaW5pbmc9ZmFsc2U7aWYoY3VycmVudFF1ZXVlLmxlbmd0aCl7cXVldWU9Y3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7fWVsc2V7cXVldWVJbmRleD0tMTt9aWYocXVldWUubGVuZ3RoKXtkcmFpblF1ZXVlKCk7fX1mdW5jdGlvbiBkcmFpblF1ZXVlKCl7aWYoZHJhaW5pbmcpe3JldHVybjt9dmFyIHRpbWVvdXQ9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO2RyYWluaW5nPXRydWU7dmFyIGxlbj1xdWV1ZS5sZW5ndGg7d2hpbGUobGVuKXtjdXJyZW50UXVldWU9cXVldWU7cXVldWU9W107d2hpbGUoKytxdWV1ZUluZGV4PGxlbil7aWYoY3VycmVudFF1ZXVlKXtjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7fX1xdWV1ZUluZGV4PS0xO2xlbj1xdWV1ZS5sZW5ndGg7fWN1cnJlbnRRdWV1ZT1udWxsO2RyYWluaW5nPWZhbHNlO3J1bkNsZWFyVGltZW91dCh0aW1lb3V0KTt9cHJvY2Vzcy5uZXh0VGljaz1mdW5jdGlvbihmdW4pe3ZhciBhcmdzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7YXJnc1tpLTFdPWFyZ3VtZW50c1tpXTt9fXF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLGFyZ3MpKTtpZihxdWV1ZS5sZW5ndGg9PT0xJiYhZHJhaW5pbmcpe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSk7fX07Ly8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sYXJyYXkpe3RoaXMuZnVuPWZ1bjt0aGlzLmFycmF5PWFycmF5O31JdGVtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpO307cHJvY2Vzcy50aXRsZT0nYnJvd3Nlcic7cHJvY2Vzcy5icm93c2VyPXRydWU7cHJvY2Vzcy5lbnY9e307cHJvY2Vzcy5hcmd2PVtdO3Byb2Nlc3MudmVyc2lvbj0nJzsvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucz17fTtmdW5jdGlvbiBub29wKCl7fXByb2Nlc3Mub249bm9vcDtwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3A7cHJvY2Vzcy5vbmNlPW5vb3A7cHJvY2Vzcy5vZmY9bm9vcDtwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3A7cHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcDtwcm9jZXNzLmVtaXQ9bm9vcDtwcm9jZXNzLnByZXBlbmRMaXN0ZW5lcj1ub29wO3Byb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wO3Byb2Nlc3MubGlzdGVuZXJzPWZ1bmN0aW9uKG5hbWUpe3JldHVybltdO307cHJvY2Vzcy5iaW5kaW5nPWZ1bmN0aW9uKG5hbWUpe3Rocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTt9O3Byb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuJy8nO307cHJvY2Vzcy5jaGRpcj1mdW5jdGlvbihkaXIpe3Rocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7fTtwcm9jZXNzLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDA7fTsvKioqL30sLyogMzE4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24gUmVtb3ZlRXZlbnRMaXN0ZW5lcih0YXJnZXQsZXZlbnQsbGlzdGVuZXIpe3RhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LGxpc3RlbmVyKTt9O21vZHVsZS5leHBvcnRzPVJlbW92ZUV2ZW50TGlzdGVuZXI7LyoqKi99LC8qIDMxOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBSZW1vdmVGcm9tRE9NPWZ1bmN0aW9uIFJlbW92ZUZyb21ET00oZWxlbWVudCl7aWYoZWxlbWVudC5wYXJlbnROb2RlKXtlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7fX07bW9kdWxlLmV4cG9ydHM9UmVtb3ZlRnJvbURPTTsvKioqL30sLyogMzIwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFNldHMgdGhlIHRvdWNoLWFjdGlvbiBwcm9wZXJ0eSBvbiB0aGUgY2FudmFzIHN0eWxlLiBDYW4gYmUgdXNlZCB0byBkaXNhYmxlIGRlZmF1bHQgYnJvd3NlciB0b3VjaCBhY3Rpb25zLlxuKi92YXIgVG91Y2hBY3Rpb249ZnVuY3Rpb24gVG91Y2hBY3Rpb24oY2FudmFzLHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7dmFsdWU9J25vbmUnO31jYW52YXMuc3R5bGVbJ21zVG91Y2hBY3Rpb24nXT12YWx1ZTtjYW52YXMuc3R5bGVbJ21zLXRvdWNoLWFjdGlvbiddPXZhbHVlO2NhbnZhcy5zdHlsZVsndG91Y2gtYWN0aW9uJ109dmFsdWU7cmV0dXJuIGNhbnZhczt9O21vZHVsZS5leHBvcnRzPVRvdWNoQWN0aW9uOy8qKiovfSwvKiAzMjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogU2V0cyB0aGUgdXNlci1zZWxlY3QgcHJvcGVydHkgb24gdGhlIGNhbnZhcyBzdHlsZS4gQ2FuIGJlIHVzZWQgdG8gZGlzYWJsZSBkZWZhdWx0IGJyb3dzZXIgc2VsZWN0aW9uIGFjdGlvbnMuXG4qL3ZhciBVc2VyU2VsZWN0PWZ1bmN0aW9uIFVzZXJTZWxlY3QoY2FudmFzLHZhbHVlKXtpZih2YWx1ZT09PXVuZGVmaW5lZCl7dmFsdWU9J25vbmUnO312YXIgdmVuZG9ycz1bJy13ZWJraXQtJywnLWtodG1sLScsJy1tb3otJywnLW1zLScsJyddO3ZlbmRvcnMuZm9yRWFjaChmdW5jdGlvbih2ZW5kb3Ipe2NhbnZhcy5zdHlsZVt2ZW5kb3IrJ3VzZXItc2VsZWN0J109dmFsdWU7fSk7Y2FudmFzLnN0eWxlWyctd2Via2l0LXRvdWNoLWNhbGxvdXQnXT12YWx1ZTtjYW52YXMuc3R5bGVbJy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvciddPSdyZ2JhKDAsIDAsIDAsIDApJztyZXR1cm4gY2FudmFzO307bW9kdWxlLmV4cG9ydHM9VXNlclNlbGVjdDsvKioqL30sLyogMzIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ29uZmlnPV9fd2VicGFja19yZXF1aXJlX18oMzIzKTt2YXIgRGVidWdIZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzNzEpO3ZhciBEZXZpY2U9X193ZWJwYWNrX3JlcXVpcmVfXygzNzMpO3ZhciBOT09QPV9fd2VicGFja19yZXF1aXJlX18oMjgpO3ZhciBBZGRUb0RPTT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyNik7dmFyIERPTUNvbnRlbnRMb2FkZWQ9X193ZWJwYWNrX3JlcXVpcmVfXygxMjcpO3ZhciBFdmVudERpc3BhdGNoZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyNSk7dmFyIFZpc2liaWxpdHlIYW5kbGVyPV9fd2VicGFja19yZXF1aXJlX18oMzgwKTt2YXIgQW5pbWF0aW9uTWFuYWdlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4MSk7dmFyIENyZWF0ZVJlbmRlcmVyPV9fd2VicGFja19yZXF1aXJlX18oNDE4KTt2YXIgRGF0YT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2Myk7dmFyIEdsb2JhbENhY2hlPV9fd2VicGFja19yZXF1aXJlX18oNDQ5KTt2YXIgR2xvYmFsSW5wdXRNYW5hZ2VyPV9fd2VicGFja19yZXF1aXJlX18oNDU0KTt2YXIgR2xvYmFsU2NlbmVNYW5hZ2VyPV9fd2VicGFja19yZXF1aXJlX18oNDcyKTt2YXIgVGV4dHVyZU1hbmFnZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3MjUpO3ZhciBUaW1lU3RlcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDczOCk7dmFyIEdhbWU9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEdhbWUoY29uZmlnKXt0aGlzLmNvbmZpZz1uZXcgQ29uZmlnKGNvbmZpZyk7dGhpcy5yZW5kZXJlcj1udWxsO3RoaXMuY2FudmFzPW51bGw7dGhpcy5jb250ZXh0PW51bGw7dGhpcy5pc0Jvb3RlZD1mYWxzZTt0aGlzLmlzUnVubmluZz1mYWxzZTt0aGlzLmV2ZW50cz1uZXcgRXZlbnREaXNwYXRjaGVyKCk7dGhpcy5hbmltcz1uZXcgQW5pbWF0aW9uTWFuYWdlcih0aGlzKTt0aGlzLnRleHR1cmVzPW5ldyBUZXh0dXJlTWFuYWdlcih0aGlzKTt0aGlzLmNhY2hlPW5ldyBHbG9iYWxDYWNoZSh0aGlzKTt0aGlzLnJlZ2lzdHJ5PW5ldyBEYXRhKHRoaXMpO3RoaXMuaW5wdXQ9bmV3IEdsb2JhbElucHV0TWFuYWdlcih0aGlzLHRoaXMuY29uZmlnKTt0aGlzLnNjZW5lPW5ldyBHbG9iYWxTY2VuZU1hbmFnZXIodGhpcyx0aGlzLmNvbmZpZy5zY2VuZUNvbmZpZyk7dGhpcy5kZXZpY2U9RGV2aWNlO3RoaXMubG9vcD1uZXcgVGltZVN0ZXAodGhpcyx0aGlzLmNvbmZpZy5mcHMpO3RoaXMub25TdGVwQ2FsbGJhY2s9Tk9PUDsvLyAgV2FpdCBmb3IgdGhlIERPTSBSZWFkeSBldmVudCwgdGhlbiBjYWxsIGJvb3QuXG5ET01Db250ZW50TG9hZGVkKHRoaXMuYm9vdC5iaW5kKHRoaXMpKTsvLyAgRm9yIGRlYnVnZ2luZyBvbmx5XG53aW5kb3cuZ2FtZT10aGlzO30sYm9vdDpmdW5jdGlvbiBib290KCl7dGhpcy5pc0Jvb3RlZD10cnVlO3RoaXMuY29uZmlnLnByZUJvb3QoKTtEZWJ1Z0hlYWRlcih0aGlzKTtDcmVhdGVSZW5kZXJlcih0aGlzKTtBZGRUb0RPTSh0aGlzLmNhbnZhcyx0aGlzLmNvbmZpZy5wYXJlbnQpO3RoaXMuYW5pbXMuYm9vdCh0aGlzLnRleHR1cmVzKTt0aGlzLnNjZW5lLmJvb3QoKTt0aGlzLmlucHV0LmJvb3QoKTt0aGlzLmlzUnVubmluZz10cnVlO3RoaXMuY29uZmlnLnBvc3RCb290KCk7dGhpcy5sb29wLnN0YXJ0KHRoaXMuc3RlcC5iaW5kKHRoaXMpKTtWaXNpYmlsaXR5SGFuZGxlcih0aGlzLmV2ZW50cyk7dGhpcy5ldmVudHMub24oJ0hJRERFTicsdGhpcy5vbkhpZGRlbi5iaW5kKHRoaXMpKTt0aGlzLmV2ZW50cy5vbignVklTSUJMRScsdGhpcy5vblZpc2libGUuYmluZCh0aGlzKSk7dGhpcy5ldmVudHMub24oJ09OX0JMVVInLHRoaXMub25CbHVyLmJpbmQodGhpcykpO3RoaXMuZXZlbnRzLm9uKCdPTl9GT0NVUycsdGhpcy5vbkZvY3VzLmJpbmQodGhpcykpO30sc3RlcDpmdW5jdGlvbiBzdGVwKHRpbWUsZGVsdGEpe3ZhciBhY3RpdmU9dGhpcy5zY2VuZS5hY3RpdmU7dmFyIHJlbmRlcmVyPXRoaXMucmVuZGVyZXI7Ly8gIEdsb2JhbCBNYW5hZ2VycyAoVGltZSwgSW5wdXQsIGV0YylcbnRoaXMuaW5wdXQudXBkYXRlKHRpbWUsZGVsdGEpOy8vICBTY2VuZXNcbnRoaXMub25TdGVwQ2FsbGJhY2soKTtmb3IodmFyIGk9MDtpPGFjdGl2ZS5sZW5ndGg7aSsrKXthY3RpdmVbaV0uc2NlbmUuc3lzLnN0ZXAodGltZSxkZWx0YSk7fS8vICBSZW5kZXJcbi8vIHZhciBpbnRlcnBvbGF0aW9uID0gdGhpcy5mcmFtZURlbHRhIC8gdGhpcy50aW1lc3RlcDtcbnJlbmRlcmVyLnByZVJlbmRlcigpOy8vICBUaGlzIHVzZXMgYWN0aXZlLmxlbmd0aCwgaW4gY2FzZSBzY2VuZS51cGRhdGUgcmVtb3ZlZCB0aGUgc2NlbmUgZnJvbSB0aGUgYWN0aXZlIGxpc3RcbmZvcihpPTA7aTxhY3RpdmUubGVuZ3RoO2krKyl7YWN0aXZlW2ldLnNjZW5lLnN5cy5yZW5kZXIoMCxyZW5kZXJlcik7fXJlbmRlcmVyLnBvc3RSZW5kZXIoKTt9LG9uSGlkZGVuOmZ1bmN0aW9uIG9uSGlkZGVuKCl7dGhpcy5sb29wLnBhdXNlKCk7Ly8gdmFyIGFjdGl2ZSA9IHRoaXMuc2NlbmUuYWN0aXZlO1xuLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBhY3RpdmUubGVuZ3RoOyBpKyspXG4vLyB7XG4vLyAgICAgYWN0aXZlW2ldLnNjZW5lLnN5cy5wYXVzZSgpO1xuLy8gfVxufSxvblZpc2libGU6ZnVuY3Rpb24gb25WaXNpYmxlKCl7dGhpcy5sb29wLnJlc3VtZSgpOy8vIHZhciBhY3RpdmUgPSB0aGlzLnNjZW5lLmFjdGl2ZTtcbi8vIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKVxuLy8ge1xuLy8gICAgIGFjdGl2ZVtpXS5zY2VuZS5zeXMucmVzdW1lKCk7XG4vLyB9XG59LG9uQmx1cjpmdW5jdGlvbiBvbkJsdXIoKXt0aGlzLmxvb3AuYmx1cigpO30sb25Gb2N1czpmdW5jdGlvbiBvbkZvY3VzKCl7dGhpcy5sb29wLmZvY3VzKCk7fX0pO21vZHVsZS5leHBvcnRzPUdhbWU7LyoqKi99LC8qIDMyMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNCk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIE1BVEg9X193ZWJwYWNrX3JlcXVpcmVfXyg2Nik7dmFyIE5PT1A9X193ZWJwYWNrX3JlcXVpcmVfXygyOCk7dmFyIFZhbHVlVG9Db2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTt2YXIgQ29uZmlnPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBDb25maWcoY29uZmlnKXtpZihjb25maWc9PT11bmRlZmluZWQpe2NvbmZpZz17fTt9dmFyIGRlZmF1bHRCYW5uZXJDb2xvcj1bJyNmZjAwMDAnLCcjZmZmZjAwJywnIzAwZmYwMCcsJyMwMGZmZmYnLCcjMDAwMDAwJ107dmFyIGRlZmF1bHRCYW5uZXJUZXh0Q29sb3I9JyNmZmZmZmYnO3RoaXMud2lkdGg9R2V0VmFsdWUoY29uZmlnLCd3aWR0aCcsMTAyNCk7dGhpcy5oZWlnaHQ9R2V0VmFsdWUoY29uZmlnLCdoZWlnaHQnLDc2OCk7dGhpcy56b29tPUdldFZhbHVlKGNvbmZpZywnem9vbScsMSk7dGhpcy5yZXNvbHV0aW9uPUdldFZhbHVlKGNvbmZpZywncmVzb2x1dGlvbicsMSk7dGhpcy5yZW5kZXJUeXBlPUdldFZhbHVlKGNvbmZpZywndHlwZScsQ09OU1QuQVVUTyk7dGhpcy5wYXJlbnQ9R2V0VmFsdWUoY29uZmlnLCdwYXJlbnQnLG51bGwpO3RoaXMuY2FudmFzPUdldFZhbHVlKGNvbmZpZywnY2FudmFzJyxudWxsKTt0aGlzLmNhbnZhc1N0eWxlPUdldFZhbHVlKGNvbmZpZywnY2FudmFzU3R5bGUnLG51bGwpO3RoaXMuc2NlbmVDb25maWc9R2V0VmFsdWUoY29uZmlnLCdzY2VuZScsbnVsbCk7dGhpcy5zZWVkPUdldFZhbHVlKGNvbmZpZywnc2VlZCcsWyhEYXRlLm5vdygpKk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCldKTtNQVRILlJORC5pbml0KHRoaXMuc2VlZCk7dGhpcy5nYW1lVGl0bGU9R2V0VmFsdWUoY29uZmlnLCd0aXRsZScsJycpO3RoaXMuZ2FtZVVSTD1HZXRWYWx1ZShjb25maWcsJ3VybCcsJ2h0dHA6Ly9waGFzZXIuaW8nKTt0aGlzLmdhbWVWZXJzaW9uPUdldFZhbHVlKGNvbmZpZywndmVyc2lvbicsJycpOy8vICBJbnB1dFxudGhpcy5pbnB1dEtleWJvYXJkPUdldFZhbHVlKGNvbmZpZywnaW5wdXQua2V5Ym9hcmQnLHRydWUpO3RoaXMuaW5wdXRLZXlib2FyZEV2ZW50VGFyZ2V0PUdldFZhbHVlKGNvbmZpZywnaW5wdXQua2V5Ym9hcmQudGFyZ2V0Jyx3aW5kb3cpO3RoaXMuaW5wdXRNb3VzZT1HZXRWYWx1ZShjb25maWcsJ2lucHV0Lm1vdXNlJyx0cnVlKTt0aGlzLmlucHV0TW91c2VFdmVudFRhcmdldD1HZXRWYWx1ZShjb25maWcsJ2lucHV0Lm1vdXNlLnRhcmdldCcsbnVsbCk7dGhpcy5pbnB1dFRvdWNoPUdldFZhbHVlKGNvbmZpZywnaW5wdXQudG91Y2gnLHRydWUpO3RoaXMuaW5wdXRUb3VjaEV2ZW50VGFyZ2V0PUdldFZhbHVlKGNvbmZpZywnaW5wdXQudG91Y2gudGFyZ2V0JyxudWxsKTt0aGlzLmRpc2FibGVDb250ZXh0TWVudT1HZXRWYWx1ZShjb25maWcsJ2Rpc2FibGVDb250ZXh0TWVudScsZmFsc2UpOy8vICBJZiB5b3UgZG86IHsgYmFubmVyOiBmYWxzZSB9IGl0IHdvbid0IGRpc3BsYXkgYW55IGJhbm5lciBhdCBhbGxcbnRoaXMuaGlkZUJhbm5lcj1HZXRWYWx1ZShjb25maWcsJ2Jhbm5lcicsbnVsbCk9PT1mYWxzZTt0aGlzLmhpZGVQaGFzZXI9R2V0VmFsdWUoY29uZmlnLCdiYW5uZXIuaGlkZVBoYXNlcicsZmFsc2UpO3RoaXMuYmFubmVyVGV4dENvbG9yPUdldFZhbHVlKGNvbmZpZywnYmFubmVyLnRleHQnLGRlZmF1bHRCYW5uZXJUZXh0Q29sb3IpO3RoaXMuYmFubmVyQmFja2dyb3VuZENvbG9yPUdldFZhbHVlKGNvbmZpZywnYmFubmVyLmJhY2tncm91bmQnLGRlZmF1bHRCYW5uZXJDb2xvcik7Ly8gIEZyYW1lIFJhdGUgY29uZmlnXG4vLyAgICAgIGZwczoge1xuLy8gICAgICAgICAgbWluOiAxMCxcbi8vICAgICAgICAgIHRhcmdldDogNjAsXG4vLyAgICAgICAgICBtYXg6IDEyMFxuLy8gICAgICAgICAgZm9yY2VTZXRUaW1lT3V0OiBmYWxzZSxcbi8vICAgICAgICAgIGRlbHRhSGlzdG9yeTogMTBcbi8vICAgICB9XG50aGlzLmZwcz1HZXRWYWx1ZShjb25maWcsJ2ZwcycsbnVsbCk7dGhpcy5waXhlbEFydD1HZXRWYWx1ZShjb25maWcsJ3BpeGVsQXJ0JyxmYWxzZSk7dGhpcy50cmFuc3BhcmVudD1HZXRWYWx1ZShjb25maWcsJ3RyYW5zcGFyZW50JyxmYWxzZSk7dGhpcy5jbGVhckJlZm9yZVJlbmRlcj1HZXRWYWx1ZShjb25maWcsJ2NsZWFyQmVmb3JlUmVuZGVyJyx0cnVlKTt0aGlzLmJhY2tncm91bmRDb2xvcj1WYWx1ZVRvQ29sb3IoR2V0VmFsdWUoY29uZmlnLCdiYWNrZ3JvdW5kQ29sb3InLDApKTt0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1WYWx1ZVRvQ29sb3IoR2V0VmFsdWUoY29uZmlnLCdwcmVzZXJ2ZURyYXdpbmdCdWZmZXInLGZhbHNlKSk7Ly8gIENhbGxiYWNrc1xudGhpcy5wcmVCb290PUdldFZhbHVlKGNvbmZpZywnY2FsbGJhY2tzLnByZUJvb3QnLE5PT1ApO3RoaXMucG9zdEJvb3Q9R2V0VmFsdWUoY29uZmlnLCdjYWxsYmFja3MucG9zdEJvb3QnLE5PT1ApO3RoaXMudXNlVGlja2VyPUdldFZhbHVlKGNvbmZpZywndXNlVGlja2VyJyxmYWxzZSk7Ly8gIERlZmF1bHQgLyBNaXNzaW5nIEltYWdlc1xudmFyIHBuZ1ByZWZpeD0nZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnJzt0aGlzLmRlZmF1bHRJbWFnZT1HZXRWYWx1ZShjb25maWcsJ2ltYWdlcy5kZWZhdWx0JyxwbmdQcmVmaXgrJ0FRTUFBQUJKdE9pM0FBQUFBMUJNVkVYLy8vK254QnZJQUFBQUFYUlNUbE1BUU9iWVpnQUFBQlZKUkVGVWVGN053SUVBQUFBQWdLRDlxZGVvY0FNQW9BQUJtM0RrY0FBQUFBQkpSVTVFcmtKZ2dnPT0nKTt0aGlzLm1pc3NpbmdJbWFnZT1HZXRWYWx1ZShjb25maWcsJ2ltYWdlcy5taXNzaW5nJyxwbmdQcmVmaXgrJ0NBSUFBQUQ4R08yakFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBSjlKUkVGVWVOcTAxc3NPd3lBTVJGRzQ2di8vTXQxRVNtZ2grREZtRTJHUE9CQVJLYjJOVmpvKzE3UFhMRDhhMStwbDUrQSt3U2dGeWd5bVdZSEJiMEZ0c0toSkRkWmxuY0cySXpKNGF5b01EdjIwd1RtU016Q2xFZ2JXWU5UQWtRMForT0orQS9lV25BYVI5K294Q0Y0T3MwSDhodHNNVXArcHdjZ0JCaU1ObkF3RjhHcUlnTDJoQXphR0ZGZ1phdURQS0FCbW93WjRHTDM2OS8wcndBQ3AyeUEvdHRtdnNRQUFBQUJKUlU1RXJrSmdnZz09Jyk7fX0pO21vZHVsZS5leHBvcnRzPUNvbmZpZzsvKioqL30sLyogMzI0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgUmFuZG9tRGF0YUdlbmVyYXRvcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gUmFuZG9tRGF0YUdlbmVyYXRvcihzZWVkcyl7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGMgLSBJbnRlcm5hbCB2YXIuXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi90aGlzLmM9MTsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gczAgLSBJbnRlcm5hbCB2YXIuXG4gICAgICAgICogQHByaXZhdGVcbiAgICAgICAgKi90aGlzLnMwPTA7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHMxIC0gSW50ZXJuYWwgdmFyLlxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovdGhpcy5zMT0wOy8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzMiAtIEludGVybmFsIHZhci5cbiAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAqL3RoaXMuczI9MDsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge0FycmF5fSBzaWduIC0gSW50ZXJuYWwgdmFyLlxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICovdGhpcy5zaWduPVstMSwxXTtpZihzZWVkcyl7dGhpcy5pbml0KHNlZWRzKTt9fSwvKipcbiAgICAqIFByaXZhdGUgcmFuZG9tIGhlbHBlci5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI3JuZFxuICAgICogQHByaXZhdGVcbiAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAqL3JuZDpmdW5jdGlvbiBybmQoKXt2YXIgdD0yMDkxNjM5KnRoaXMuczArdGhpcy5jKjIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7Ly8gMl4tMzJcbnRoaXMuYz10fDA7dGhpcy5zMD10aGlzLnMxO3RoaXMuczE9dGhpcy5zMjt0aGlzLnMyPXQtdGhpcy5jO3JldHVybiB0aGlzLnMyO30sLyoqXG4gICAgKiBJbnRlcm5hbCBtZXRob2QgdGhhdCBjcmVhdGVzIGEgc2VlZCBoYXNoLlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3IjaGFzaFxuICAgICogQHByaXZhdGVcbiAgICAqIEBwYXJhbSB7YW55fSBkYXRhXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IGhhc2hlZCB2YWx1ZS5cbiAgICAqL2hhc2g6ZnVuY3Rpb24gaGFzaChkYXRhKXt2YXIgaDt2YXIgbj0weGVmYzgyNDlkO2RhdGE9ZGF0YS50b1N0cmluZygpO2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXtuKz1kYXRhLmNoYXJDb2RlQXQoaSk7aD0wLjAyNTE5NjAzMjgyNDE2OTM4Km47bj1oPj4+MDtoLT1uO2gqPW47bj1oPj4+MDtoLT1uO24rPWgqMHgxMDAwMDAwMDA7Ly8gMl4zMlxufXJldHVybihuPj4+MCkqMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsvLyAyXi0zMlxufSxpbml0OmZ1bmN0aW9uIGluaXQoc2VlZHMpe2lmKHR5cGVvZiBzZWVkcz09PSdzdHJpbmcnKXt0aGlzLnN0YXRlKHNlZWRzKTt9ZWxzZXt0aGlzLnNvdyhzZWVkcyk7fX0sLyoqXG4gICAgKiBSZXNldCB0aGUgc2VlZCBvZiB0aGUgcmFuZG9tIGRhdGEgZ2VuZXJhdG9yLlxuICAgICpcbiAgICAqIF9Ob3RlXzogdGhlIHNlZWQgYXJyYXkgaXMgb25seSBwcm9jZXNzZWQgdXAgdG8gdGhlIGZpcnN0IGB1bmRlZmluZWRgIChvciBgbnVsbGApIHZhbHVlLCBzaG91bGQgc3VjaCBiZSBwcmVzZW50LlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3Ijc293XG4gICAgKiBAcGFyYW0ge2FueVtdfSBzZWVkcyAtIFRoZSBhcnJheSBvZiBzZWVkczogdGhlIGB0b1N0cmluZygpYCBvZiBlYWNoIHZhbHVlIGlzIHVzZWQuXG4gICAgKi9zb3c6ZnVuY3Rpb24gc293KHNlZWRzKXsvLyBBbHdheXMgcmVzZXQgdG8gZGVmYXVsdCBzZWVkXG50aGlzLnMwPXRoaXMuaGFzaCgnICcpO3RoaXMuczE9dGhpcy5oYXNoKHRoaXMuczApO3RoaXMuczI9dGhpcy5oYXNoKHRoaXMuczEpO3RoaXMuYz0xO2lmKCFzZWVkcyl7cmV0dXJuO30vLyBBcHBseSBhbnkgc2VlZHNcbmZvcih2YXIgaT0wO2k8c2VlZHMubGVuZ3RoJiZzZWVkc1tpXSE9bnVsbDtpKyspe3ZhciBzZWVkPXNlZWRzW2ldO3RoaXMuczAtPXRoaXMuaGFzaChzZWVkKTt0aGlzLnMwKz1+fih0aGlzLnMwPDApO3RoaXMuczEtPXRoaXMuaGFzaChzZWVkKTt0aGlzLnMxKz1+fih0aGlzLnMxPDApO3RoaXMuczItPXRoaXMuaGFzaChzZWVkKTt0aGlzLnMyKz1+fih0aGlzLnMyPDApO319LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgMl4zMi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI2ludGVnZXJcbiAgICAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDJeMzIuXG4gICAgKi9pbnRlZ2VyOmZ1bmN0aW9uIGludGVnZXIoKXsvLyAyXjMyXG5yZXR1cm4gdGhpcy5ybmQoKSoweDEwMDAwMDAwMDt9LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuUmFuZG9tRGF0YUdlbmVyYXRvciNmcmFjXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICAqL2ZyYWM6ZnVuY3Rpb24gZnJhYygpey8vIDJeLTUzXG5yZXR1cm4gdGhpcy5ybmQoKSsodGhpcy5ybmQoKSoweDIwMDAwMHwwKSoxLjExMDIyMzAyNDYyNTE1NjVlLTE2O30sLyoqXG4gICAgKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gMCBhbmQgMl4zMi5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI3JlYWxcbiAgICAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gcmVhbCBudW1iZXIgYmV0d2VlbiAwIGFuZCAyXjMyLlxuICAgICovcmVhbDpmdW5jdGlvbiByZWFsKCl7cmV0dXJuIHRoaXMuaW50ZWdlcigpK3RoaXMuZnJhYygpO30sLyoqXG4gICAgKiBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBhbmQgaW5jbHVkaW5nIG1pbiBhbmQgbWF4LlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3IjaW50ZWdlckluUmFuZ2VcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gLSBUaGUgbWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2UuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IC0gVGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAqL2ludGVnZXJJblJhbmdlOmZ1bmN0aW9uIGludGVnZXJJblJhbmdlKG1pbixtYXgpe3JldHVybiBNYXRoLmZsb29yKHRoaXMucmVhbEluUmFuZ2UoMCxtYXgtbWluKzEpK21pbik7fSwvKipcbiAgICAqIFJldHVybnMgYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIGFuZCBpbmNsdWRpbmcgbWluIGFuZCBtYXguXG4gICAgKiBUaGlzIG1ldGhvZCBpcyBhbiBhbGlhcyBmb3IgUmFuZG9tRGF0YUdlbmVyYXRvci5pbnRlZ2VySW5SYW5nZS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI2JldHdlZW5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gLSBUaGUgbWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2UuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IC0gVGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAqL2JldHdlZW46ZnVuY3Rpb24gYmV0d2VlbihtaW4sbWF4KXtyZXR1cm4gdGhpcy5pbnRlZ2VySW5SYW5nZShtaW4sbWF4KTt9LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSByZWFsIG51bWJlciBiZXR3ZWVuIG1pbiBhbmQgbWF4LlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3IjcmVhbEluUmFuZ2VcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gLSBUaGUgbWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2UuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IC0gVGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAqL3JlYWxJblJhbmdlOmZ1bmN0aW9uIHJlYWxJblJhbmdlKG1pbixtYXgpe3JldHVybiB0aGlzLmZyYWMoKSoobWF4LW1pbikrbWluO30sLyoqXG4gICAgKiBSZXR1cm5zIGEgcmFuZG9tIHJlYWwgbnVtYmVyIGJldHdlZW4gLTEgYW5kIDEuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuUmFuZG9tRGF0YUdlbmVyYXRvciNub3JtYWxcbiAgICAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gcmVhbCBudW1iZXIgYmV0d2VlbiAtMSBhbmQgMS5cbiAgICAqL25vcm1hbDpmdW5jdGlvbiBub3JtYWwoKXtyZXR1cm4gMS0yKnRoaXMuZnJhYygpO30sLyoqXG4gICAgKiBSZXR1cm5zIGEgdmFsaWQgUkZDNDEyMiB2ZXJzaW9uNCBJRCBoZXggc3RyaW5nIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTMwODM2OFxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3IjdXVpZFxuICAgICogQHJldHVybiB7c3RyaW5nfSBBIHZhbGlkIFJGQzQxMjIgdmVyc2lvbjQgSUQgaGV4IHN0cmluZ1xuICAgICovdXVpZDpmdW5jdGlvbiB1dWlkKCl7dmFyIGE9Jyc7dmFyIGI9Jyc7Zm9yKGI9YT0nJzthKys8MzY7Yis9fmElNXxhKjMmND8oYV4xNT84XnRoaXMuZnJhYygpKihhXjIwPzE2OjQpOjQpLnRvU3RyaW5nKDE2KTonLScpe31yZXR1cm4gYjt9LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSBtZW1iZXIgb2YgYGFycmF5YC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI3BpY2tcbiAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IC0gQW4gQXJyYXkgdG8gcGljayBhIHJhbmRvbSBtZW1iZXIgb2YuXG4gICAgKiBAcmV0dXJuIHthbnl9IEEgcmFuZG9tIG1lbWJlciBvZiB0aGUgYXJyYXkuXG4gICAgKi9waWNrOmZ1bmN0aW9uIHBpY2soYXJyYXkpe3JldHVybiBhcnJheVt0aGlzLmludGVnZXJJblJhbmdlKDAsYXJyYXkubGVuZ3RoLTEpXTt9LC8qKlxuICAgICogUmV0dXJucyBhIHNpZ24gdG8gYmUgdXNlZCB3aXRoIG11bHRpcGxpY2F0aW9uIG9wZXJhdG9yLlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3Ijc2lnblxuICAgICogQHJldHVybiB7bnVtYmVyfSAtMSBvciArMS5cbiAgICAqL3NpZ246ZnVuY3Rpb24gc2lnbigpe3JldHVybiB0aGlzLnBpY2sodGhpcy5zaWduKTt9LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSBtZW1iZXIgb2YgYGFycmF5YCwgZmF2b3JpbmcgdGhlIGVhcmxpZXIgZW50cmllcy5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI3dlaWdodGVkUGlja1xuICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgLSBBbiBBcnJheSB0byBwaWNrIGEgcmFuZG9tIG1lbWJlciBvZi5cbiAgICAqIEByZXR1cm4ge2FueX0gQSByYW5kb20gbWVtYmVyIG9mIHRoZSBhcnJheS5cbiAgICAqL3dlaWdodGVkUGljazpmdW5jdGlvbiB3ZWlnaHRlZFBpY2soYXJyYXkpe3JldHVybiBhcnJheVt+fihNYXRoLnBvdyh0aGlzLmZyYWMoKSwyKSooYXJyYXkubGVuZ3RoLTEpKzAuNSldO30sLyoqXG4gICAgKiBSZXR1cm5zIGEgcmFuZG9tIHRpbWVzdGFtcCBiZXR3ZWVuIG1pbiBhbmQgbWF4LCBvciBiZXR3ZWVuIHRoZSBiZWdpbm5pbmcgb2YgMjAwMCBhbmQgdGhlIGVuZCBvZiAyMDIwIGlmIG1pbiBhbmQgbWF4IGFyZW4ndCBzcGVjaWZpZWQuXG4gICAgKlxuICAgICogQG1ldGhvZCBQaGFzZXIuUmFuZG9tRGF0YUdlbmVyYXRvciN0aW1lc3RhbXBcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW4gLSBUaGUgbWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2UuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbWF4IC0gVGhlIG1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlLlxuICAgICogQHJldHVybiB7bnVtYmVyfSBBIHJhbmRvbSB0aW1lc3RhbXAgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAqL3RpbWVzdGFtcDpmdW5jdGlvbiB0aW1lc3RhbXAobWluLG1heCl7cmV0dXJuIHRoaXMucmVhbEluUmFuZ2UobWlufHw5NDY2ODQ4MDAwMDAsbWF4fHwxNTc3ODYyMDAwMDAwKTt9LC8qKlxuICAgICogUmV0dXJucyBhIHJhbmRvbSBhbmdsZSBiZXR3ZWVuIC0xODAgYW5kIDE4MC5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5SYW5kb21EYXRhR2VuZXJhdG9yI2FuZ2xlXG4gICAgKiBAcmV0dXJuIHtudW1iZXJ9IEEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MC5cbiAgICAqL2FuZ2xlOmZ1bmN0aW9uIGFuZ2xlKCl7cmV0dXJuIHRoaXMuaW50ZWdlckluUmFuZ2UoLTE4MCwxODApO30sLyoqXG4gICAgKiBSZXR1cm5zIGEgcmFuZG9tIHJvdGF0aW9uIGluIHJhZGlhbnMsIGJldHdlZW4gLTMuMTQxIGFuZCAzLjE0MVxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3Ijcm90YXRpb25cbiAgICAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gbnVtYmVyIGJldHdlZW4gLTMuMTQxIGFuZCAzLjE0MVxuICAgICovcm90YXRpb246ZnVuY3Rpb24gcm90YXRpb24oKXtyZXR1cm4gdGhpcy5yZWFsSW5SYW5nZSgtMy4xNDE1OTI2NTM1ODk3OTMsMy4xNDE1OTI2NTM1ODk3OTMpO30sLyoqXG4gICAgKiBHZXRzIG9yIFNldHMgdGhlIHN0YXRlIG9mIHRoZSBnZW5lcmF0b3IuIFRoaXMgYWxsb3dzIHlvdSB0byByZXRhaW4gdGhlIHZhbHVlc1xuICAgICogdGhhdCB0aGUgZ2VuZXJhdG9yIGlzIHVzaW5nIGJldHdlZW4gZ2FtZXMsIGkuZS4gaW4gYSBnYW1lIHNhdmUgZmlsZS5cbiAgICAqXG4gICAgKiBUbyBzZWVkIHRoaXMgZ2VuZXJhdG9yIHdpdGggYSBwcmV2aW91c2x5IHNhdmVkIHN0YXRlIHlvdSBjYW4gcGFzcyBpdCBhcyB0aGVcbiAgICAqIGBzZWVkYCB2YWx1ZSBpbiB5b3VyIGdhbWUgY29uZmlnLCBvciBjYWxsIHRoaXMgbWV0aG9kIGRpcmVjdGx5IGFmdGVyIFBoYXNlciBoYXMgYm9vdGVkLlxuICAgICpcbiAgICAqIENhbGwgdGhpcyBtZXRob2Qgd2l0aCBubyBwYXJhbWV0ZXJzIHRvIHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAqXG4gICAgKiBJZiBwcm92aWRpbmcgYSBzdGF0ZSBpdCBzaG91bGQgbWF0Y2ggdGhlIHNhbWUgZm9ybWF0IHRoYXQgdGhpcyBtZXRob2RcbiAgICAqIHJldHVybnMsIHdoaWNoIGlzIGEgc3RyaW5nIHdpdGggYSBoZWFkZXIgYCFybmRgIGZvbGxvd2VkIGJ5IHRoZSBgY2AsXG4gICAgKiBgczBgLCBgczFgIGFuZCBgczJgIHZhbHVlcyByZXNwZWN0aXZlbHksIGVhY2ggY29tbWEtZGVsaW1pdGVkLlxuICAgICpcbiAgICAqIEBtZXRob2QgUGhhc2VyLlJhbmRvbURhdGFHZW5lcmF0b3Ijc3RhdGVcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RhdGVdIC0gR2VuZXJhdG9yIHN0YXRlIHRvIGJlIHNldC5cbiAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGdlbmVyYXRvci5cbiAgICAqL3N0YXRlOmZ1bmN0aW9uIHN0YXRlKF9zdGF0ZSl7aWYodHlwZW9mIF9zdGF0ZT09PSdzdHJpbmcnJiZfc3RhdGUubWF0Y2goL14hcm5kLykpe19zdGF0ZT1fc3RhdGUuc3BsaXQoJywnKTt0aGlzLmM9cGFyc2VGbG9hdChfc3RhdGVbMV0pO3RoaXMuczA9cGFyc2VGbG9hdChfc3RhdGVbMl0pO3RoaXMuczE9cGFyc2VGbG9hdChfc3RhdGVbM10pO3RoaXMuczI9cGFyc2VGbG9hdChfc3RhdGVbNF0pO31yZXR1cm5bJyFybmQnLHRoaXMuYyx0aGlzLnMwLHRoaXMuczEsdGhpcy5zMl0uam9pbignLCcpO319KTttb2R1bGUuZXhwb3J0cz1SYW5kb21EYXRhR2VuZXJhdG9yOy8qKiovfSwvKiAzMjUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtCZXR3ZWVuOl9fd2VicGFja19yZXF1aXJlX18oMzI2KSxCZXR3ZWVuWTpfX3dlYnBhY2tfcmVxdWlyZV9fKDMyNyksQmV0d2VlblBvaW50czpfX3dlYnBhY2tfcmVxdWlyZV9fKDMyOCksQmV0d2VlblBvaW50c1k6X193ZWJwYWNrX3JlcXVpcmVfXygzMjkpLFJldmVyc2U6X193ZWJwYWNrX3JlcXVpcmVfXygzMzApLFJvdGF0ZVRvOl9fd2VicGFja19yZXF1aXJlX18oMzMxKSxTaG9ydGVzdEJldHdlZW46X193ZWJwYWNrX3JlcXVpcmVfXygzMzIpLE5vcm1hbGl6ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCksV3JhcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSksV3JhcERlZ3JlZXM6X193ZWJwYWNrX3JlcXVpcmVfXygxMTIpfTsvKioqL30sLyogMzI2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEJldHdlZW49ZnVuY3Rpb24gQmV0d2Vlbih4MSx5MSx4Mix5Mil7cmV0dXJuIE1hdGguYXRhbjIoeTIteTEseDIteDEpO307bW9kdWxlLmV4cG9ydHM9QmV0d2VlbjsvKioqL30sLyogMzI3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEJldHdlZW5ZPWZ1bmN0aW9uIEJldHdlZW5ZKHgxLHkxLHgyLHkyKXtyZXR1cm4gTWF0aC5hdGFuMih4Mi14MSx5Mi15MSk7fTttb2R1bGUuZXhwb3J0cz1CZXR3ZWVuWTsvKioqL30sLyogMzI4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEJldHdlZW5Qb2ludHM9ZnVuY3Rpb24gQmV0d2VlblBvaW50cyhwb2ludDEscG9pbnQyKXtyZXR1cm4gTWF0aC5hdGFuMihwb2ludDIueS1wb2ludDEueSxwb2ludDIueC1wb2ludDEueCk7fTttb2R1bGUuZXhwb3J0cz1CZXR3ZWVuUG9pbnRzOy8qKiovfSwvKiAzMjkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQmV0d2VlblBvaW50c1k9ZnVuY3Rpb24gQmV0d2VlblBvaW50c1kocG9pbnQxLHBvaW50Mil7cmV0dXJuIE1hdGguYXRhbjIocG9pbnQyLngtcG9pbnQxLngscG9pbnQyLnktcG9pbnQxLnkpO307bW9kdWxlLmV4cG9ydHM9QmV0d2VlblBvaW50c1k7LyoqKi99LC8qIDMzMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE5vcm1hbGl6ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCk7dmFyIFJldmVyc2U9ZnVuY3Rpb24gUmV2ZXJzZShhbmdsZSl7cmV0dXJuIE5vcm1hbGl6ZShhbmdsZStNYXRoLlBJKTt9O21vZHVsZS5leHBvcnRzPVJldmVyc2U7LyoqKi99LC8qIDMzMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE1BVEhfQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7LyoqXG4qIFJvdGF0ZXMgY3VycmVudEFuZ2xlIHRvd2FyZHMgdGFyZ2V0QW5nbGUsIHRha2luZyB0aGUgc2hvcnRlc3Qgcm90YXRpb24gZGlzdGFuY2UuXG4qIFRoZSBsZXJwIGFyZ3VtZW50IGlzIHRoZSBhbW91bnQgdG8gcm90YXRlIGJ5IGluIHRoaXMgY2FsbC5cbiogXG4qIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50QW5nbGUgLSBUaGUgY3VycmVudCBhbmdsZSwgaW4gcmFkaWFucy5cbiogQHBhcmFtIHtudW1iZXJ9IHRhcmdldEFuZ2xlIC0gVGhlIHRhcmdldCBhbmdsZSB0byByb3RhdGUgdG8sIGluIHJhZGlhbnMuXG4qIEBwYXJhbSB7bnVtYmVyfSBbbGVycD0wLjA1XSAtIFRoZSBsZXJwIHZhbHVlIHRvIGFkZCB0byB0aGUgY3VycmVudCBhbmdsZS5cbiogQHJldHVybiB7bnVtYmVyfSBUaGUgYWRqdXN0ZWQgYW5nbGUuXG4qL3ZhciBSb3RhdGVUbz1mdW5jdGlvbiBSb3RhdGVUbyhjdXJyZW50QW5nbGUsdGFyZ2V0QW5nbGUsbGVycCl7aWYobGVycD09PXVuZGVmaW5lZCl7bGVycD0wLjA1O31pZihjdXJyZW50QW5nbGU9PT10YXJnZXRBbmdsZSl7cmV0dXJuIGN1cnJlbnRBbmdsZTt9aWYoTWF0aC5hYnModGFyZ2V0QW5nbGUtY3VycmVudEFuZ2xlKTw9bGVycHx8TWF0aC5hYnModGFyZ2V0QW5nbGUtY3VycmVudEFuZ2xlKT49TUFUSF9DT05TVC5QSTItbGVycCl7Y3VycmVudEFuZ2xlPXRhcmdldEFuZ2xlO31lbHNle2lmKE1hdGguYWJzKHRhcmdldEFuZ2xlLWN1cnJlbnRBbmdsZSk+TWF0aC5QSSl7aWYodGFyZ2V0QW5nbGU8Y3VycmVudEFuZ2xlKXt0YXJnZXRBbmdsZSs9TUFUSF9DT05TVC5QSTI7fWVsc2V7dGFyZ2V0QW5nbGUtPU1BVEhfQ09OU1QuUEkyO319aWYodGFyZ2V0QW5nbGU+Y3VycmVudEFuZ2xlKXtjdXJyZW50QW5nbGUrPWxlcnA7fWVsc2UgaWYodGFyZ2V0QW5nbGU8Y3VycmVudEFuZ2xlKXtjdXJyZW50QW5nbGUtPWxlcnA7fX1yZXR1cm4gY3VycmVudEFuZ2xlO307bW9kdWxlLmV4cG9ydHM9Um90YXRlVG87LyoqKi99LC8qIDMzMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBHZXRzIHRoZSBzaG9ydGVzdCBhbmdsZSBiZXR3ZWVuIGBhbmdsZTFgIGFuZCBgYW5nbGUyYC5cbiogQm90aCBhbmdsZXMgbXVzdCBiZSBpbiB0aGUgcmFuZ2UgLTE4MCB0byAxODAsIHdoaWNoIGlzIHRoZSBzYW1lIGNsYW1wZWRcbiogcmFuZ2UgdGhhdCBgc3ByaXRlLmFuZ2xlYCB1c2VzLCBzbyB5b3UgY2FuIHBhc3MgaW4gdHdvIHNwcml0ZSBhbmdsZXMgdG9cbiogdGhpcyBtZXRob2QsIGFuZCBnZXQgdGhlIHNob3J0ZXN0IGFuZ2xlIGJhY2sgYmV0d2VlbiB0aGUgdHdvIG9mIHRoZW0uXG4qXG4qIFRoZSBhbmdsZSByZXR1cm5lZCB3aWxsIGJlIGluIHRoZSBzYW1lIHJhbmdlLiBJZiB0aGUgcmV0dXJuZWQgYW5nbGUgaXNcbiogZ3JlYXRlciB0aGFuIDAgdGhlbiBpdCdzIGEgY291bnRlci1jbG9ja3dpc2Ugcm90YXRpb24sIGlmIDwgMCB0aGVuIGl0J3NcbiogYSBjbG9ja3dpc2Ugcm90YXRpb24uXG4qIFxuKiBAcGFyYW0ge251bWJlcn0gYW5nbGUxIC0gVGhlIGZpcnN0IGFuZ2xlLiBJbiB0aGUgcmFuZ2UgLTE4MCB0byAxODAuXG4qIEBwYXJhbSB7bnVtYmVyfSBhbmdsZTIgLSBUaGUgc2Vjb25kIGFuZ2xlLiBJbiB0aGUgcmFuZ2UgLTE4MCB0byAxODAuXG4qIEByZXR1cm4ge251bWJlcn0gVGhlIHNob3J0ZXN0IGFuZ2xlLCBpbiBkZWdyZWVzLiBJZiBncmVhdGVyIHRoYW4gemVybyBpdCdzIGEgY291bnRlci1jbG9ja3dpc2Ugcm90YXRpb24uXG4qL3ZhciBTaG9ydGVzdEJldHdlZW49ZnVuY3Rpb24gU2hvcnRlc3RCZXR3ZWVuKGFuZ2xlMSxhbmdsZTIpe3ZhciBkaWZmZXJlbmNlPWFuZ2xlMi1hbmdsZTE7aWYoZGlmZmVyZW5jZT09PTApe3JldHVybiAwO312YXIgdGltZXM9TWF0aC5mbG9vcigoZGlmZmVyZW5jZS0gLTE4MCkvMzYwKTtyZXR1cm4gZGlmZmVyZW5jZS10aW1lcyozNjA7fTttb2R1bGUuZXhwb3J0cz1TaG9ydGVzdEJldHdlZW47LyoqKi99LC8qIDMzMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e0JldHdlZW46X193ZWJwYWNrX3JlcXVpcmVfXyg1MSksUG93ZXI6X193ZWJwYWNrX3JlcXVpcmVfXygzMzQpLFNxdWFyZWQ6X193ZWJwYWNrX3JlcXVpcmVfXygzMzUpfTsvKioqL30sLyogMzM0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIERpc3RhbmNlUG93ZXI9ZnVuY3Rpb24gRGlzdGFuY2VQb3dlcih4MSx5MSx4Mix5Mixwb3cpe2lmKHBvdz09PXVuZGVmaW5lZCl7cG93PTI7fXJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coeDIteDEscG93KStNYXRoLnBvdyh5Mi15MSxwb3cpKTt9O21vZHVsZS5leHBvcnRzPURpc3RhbmNlUG93ZXI7LyoqKi99LC8qIDMzNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEaXN0YW5jZVNxdWFyZWQ9ZnVuY3Rpb24gRGlzdGFuY2VTcXVhcmVkKHgxLHkxLHgyLHkyKXt2YXIgZHg9eDEteDI7dmFyIGR5PXkxLXkyO3JldHVybiBkeCpkeCtkeSpkeTt9O21vZHVsZS5leHBvcnRzPURpc3RhbmNlU3F1YXJlZDsvKioqL30sLyogMzM2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17QmFjazpfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMSksQm91bmNlOl9fd2VicGFja19yZXF1aXJlX18oMTMyKSxDaXJjdWxhcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDEzMyksQ3ViaWM6X193ZWJwYWNrX3JlcXVpcmVfXygxMzQpLEVsYXN0aWM6X193ZWJwYWNrX3JlcXVpcmVfXygxMzUpLEV4cG86X193ZWJwYWNrX3JlcXVpcmVfXygxMzYpLExpbmVhcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNyksUXVhZHJhdGljOl9fd2VicGFja19yZXF1aXJlX18oMTM4KSxRdWFydGljOl9fd2VicGFja19yZXF1aXJlX18oMTM5KSxRdWludGljOl9fd2VicGFja19yZXF1aXJlX18oMTQwKSxTaW5lOl9fd2VicGFja19yZXF1aXJlX18oMTQxKX07LyoqKi99LC8qIDMzNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e0NlaWw6X193ZWJwYWNrX3JlcXVpcmVfXygzMzgpLEVxdWFsOl9fd2VicGFja19yZXF1aXJlX18oMzM5KSxGbG9vcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDM0MCksR3JlYXRlclRoYW46X193ZWJwYWNrX3JlcXVpcmVfXygzNDEpLExlc3NUaGFuOl9fd2VicGFja19yZXF1aXJlX18oMzQyKX07LyoqKi99LC8qIDMzOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDZWlsPWZ1bmN0aW9uIENlaWwodmFsdWUsZXBzaWxvbil7aWYoZXBzaWxvbj09PXVuZGVmaW5lZCl7ZXBzaWxvbj0wLjAwMDE7fXJldHVybiBNYXRoLmNlaWwodmFsdWUtZXBzaWxvbik7fTttb2R1bGUuZXhwb3J0cz1DZWlsOy8qKiovfSwvKiAzMzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRXF1YWw9ZnVuY3Rpb24gRXF1YWwoYSxiLGVwc2lsb24pe2lmKGVwc2lsb249PT11bmRlZmluZWQpe2Vwc2lsb249MC4wMDAxO31yZXR1cm4gTWF0aC5hYnMoYS1iKTxlcHNpbG9uO307bW9kdWxlLmV4cG9ydHM9RXF1YWw7LyoqKi99LC8qIDM0MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGbG9vcj1mdW5jdGlvbiBGbG9vcihhLGIsZXBzaWxvbil7aWYoZXBzaWxvbj09PXVuZGVmaW5lZCl7ZXBzaWxvbj0wLjAwMDE7fXJldHVybiBNYXRoLmZsb29yKHZhbHVlK2Vwc2lsb24pO307bW9kdWxlLmV4cG9ydHM9Rmxvb3I7LyoqKi99LC8qIDM0MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBHcmVhdGVyVGhhbj1mdW5jdGlvbiBHcmVhdGVyVGhhbihhLGIsZXBzaWxvbil7aWYoZXBzaWxvbj09PXVuZGVmaW5lZCl7ZXBzaWxvbj0wLjAwMDE7fXJldHVybiBhPmItZXBzaWxvbjt9O21vZHVsZS5leHBvcnRzPUdyZWF0ZXJUaGFuOy8qKiovfSwvKiAzNDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgTGVzc1RoYW49ZnVuY3Rpb24gTGVzc1RoYW4oYSxiLGVwc2lsb24pe2lmKGVwc2lsb249PT11bmRlZmluZWQpe2Vwc2lsb249MC4wMDAxO31yZXR1cm4gYTxiK2Vwc2lsb247fTttb2R1bGUuZXhwb3J0cz1MZXNzVGhhbjsvKioqL30sLyogMzQzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17QmV6aWVyOl9fd2VicGFja19yZXF1aXJlX18oMzQ0KSxDYXRtdWxsUm9tOl9fd2VicGFja19yZXF1aXJlX18oMzQ1KSxMaW5lYXI6X193ZWJwYWNrX3JlcXVpcmVfXygxNDUpfTsvKioqL30sLyogMzQ0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmVybnN0ZWluPV9fd2VicGFja19yZXF1aXJlX18oMTQyKTt2YXIgQmV6aWVySW50ZXJwb2xhdGlvbj1mdW5jdGlvbiBCZXppZXJJbnRlcnBvbGF0aW9uKHYsayl7dmFyIGI9MDt2YXIgbj12Lmxlbmd0aC0xO2Zvcih2YXIgaT0wO2k8PW47aSsrKXtiKz1NYXRoLnBvdygxLWssbi1pKSpNYXRoLnBvdyhrLGkpKnZbaV0qQmVybnN0ZWluKG4saSk7fXJldHVybiBiO307bW9kdWxlLmV4cG9ydHM9QmV6aWVySW50ZXJwb2xhdGlvbjsvKioqL30sLyogMzQ1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2F0bXVsbFJvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCk7dmFyIENhdG11bGxSb21JbnRlcnBvbGF0aW9uPWZ1bmN0aW9uIENhdG11bGxSb21JbnRlcnBvbGF0aW9uKHYsayl7dmFyIG09di5sZW5ndGgtMTt2YXIgZj1tKms7dmFyIGk9TWF0aC5mbG9vcihmKTtpZih2WzBdPT09dlttXSl7aWYoazwwKXtpPU1hdGguZmxvb3IoZj1tKigxK2spKTt9cmV0dXJuIENhdG11bGxSb20odlsoaS0xK20pJW1dLHZbaV0sdlsoaSsxKSVtXSx2WyhpKzIpJW1dLGYtaSk7fWVsc2V7aWYoazwwKXtyZXR1cm4gdlswXS0oQ2F0bXVsbFJvbSh2WzBdLHZbMF0sdlsxXSx2WzFdLC1mKS12WzBdKTt9aWYoaz4xKXtyZXR1cm4gdlttXS0oQ2F0bXVsbFJvbSh2W21dLHZbbV0sdlttLTFdLHZbbS0xXSxmLW0pLXZbbV0pO31yZXR1cm4gQ2F0bXVsbFJvbSh2W2k/aS0xOjBdLHZbaV0sdlttPGkrMT9tOmkrMV0sdlttPGkrMj9tOmkrMl0sZi1pKTt9fTttb2R1bGUuZXhwb3J0cz1DYXRtdWxsUm9tSW50ZXJwb2xhdGlvbjsvKioqL30sLyogMzQ2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17R2V0TmV4dDpfX3dlYnBhY2tfcmVxdWlyZV9fKDM0NyksSXNTaXplOl9fd2VicGFja19yZXF1aXJlX18oNjcpLElzVmFsdWU6X193ZWJwYWNrX3JlcXVpcmVfXygzNDgpfTsvKioqL30sLyogMzQ3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFRha2VzIHZhbHVlIGFuZCByZXR1cm5zIHRoZSBuZWFyZXN0IHBvd2VyIG9mIDJcbnZhciBHZXRQb3dlck9mVHdvPWZ1bmN0aW9uIEdldFBvd2VyT2ZUd28odmFsdWUpey8vICBNYXRoLmxvZygyKVxudmFyIGluZGV4PU1hdGgubG9nKHZhbHVlKS8wLjY5MzE0NzE4MDU1OTk0NTM7cmV0dXJuIDE8PE1hdGguY2VpbChpbmRleCk7fTttb2R1bGUuZXhwb3J0cz1HZXRQb3dlck9mVHdvOy8qKiovfSwvKiAzNDggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSXMgdmFsdWUgYSBwb3dlciBvZiAyP1xudmFyIElzVmFsdWVQb3dlck9mVHdvPWZ1bmN0aW9uIElzVmFsdWVQb3dlck9mVHdvKHZhbHVlKXtyZXR1cm4gdmFsdWU+MCYmKHZhbHVlJnZhbHVlLTEpPT09MDt9O21vZHVsZS5leHBvcnRzPUlzVmFsdWVQb3dlck9mVHdvOy8qKiovfSwvKiAzNDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtDZWlsOl9fd2VicGFja19yZXF1aXJlX18oMzUwKSxGbG9vcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDM1MSksVG86X193ZWJwYWNrX3JlcXVpcmVfXygzNTIpfTsvKioqL30sLyogMzUwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNuYXBDZWlsPWZ1bmN0aW9uIFNuYXBDZWlsKHZhbHVlLGdhcCxzdGFydCl7aWYoc3RhcnQ9PT11bmRlZmluZWQpe3N0YXJ0PTA7fWlmKGdhcD09PTApe3JldHVybiB2YWx1ZTt9dmFsdWUtPXN0YXJ0O3ZhbHVlPWdhcCpNYXRoLmNlaWwodmFsdWUvZ2FwKTtyZXR1cm4gc3RhcnQrdmFsdWU7fTttb2R1bGUuZXhwb3J0cz1TbmFwQ2VpbDsvKioqL30sLyogMzUxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNuYXBGbG9vcj1mdW5jdGlvbiBTbmFwRmxvb3IodmFsdWUsZ2FwLHN0YXJ0KXtpZihzdGFydD09PXVuZGVmaW5lZCl7c3RhcnQ9MDt9aWYoZ2FwPT09MCl7cmV0dXJuIHZhbHVlO312YWx1ZS09c3RhcnQ7dmFsdWU9Z2FwKk1hdGguZmxvb3IodmFsdWUvZ2FwKTtyZXR1cm4gc3RhcnQrdmFsdWU7fTttb2R1bGUuZXhwb3J0cz1TbmFwRmxvb3I7LyoqKi99LC8qIDM1MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTbmFwVG89ZnVuY3Rpb24gU25hcFRvKHZhbHVlLGdhcCxzdGFydCl7aWYoc3RhcnQ9PT11bmRlZmluZWQpe3N0YXJ0PTA7fWlmKGdhcD09PTApe3JldHVybiB2YWx1ZTt9dmFsdWUtPXN0YXJ0O3ZhbHVlPWdhcCpNYXRoLnJvdW5kKHZhbHVlL2dhcCk7cmV0dXJuIHN0YXJ0K3ZhbHVlO307bW9kdWxlLmV4cG9ydHM9U25hcFRvOy8qKiovfSwvKiAzNTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQXZlcmFnZT1mdW5jdGlvbiBBdmVyYWdlKHZhbHVlcyl7dmFyIHN1bT0wO2Zvcih2YXIgaT0wO2k8dmFsdWVzLmxlbmd0aDtpKyspe3N1bSs9K3ZhbHVlc1tpXTt9cmV0dXJuIHN1bS92YWx1ZXMubGVuZ3RoO307bW9kdWxlLmV4cG9ydHM9QXZlcmFnZTsvKioqL30sLyogMzU0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENlaWxUbz1mdW5jdGlvbiBDZWlsVG8odmFsdWUscGxhY2UsYmFzZSl7aWYocGxhY2U9PT11bmRlZmluZWQpe3BsYWNlPTA7fWlmKGJhc2U9PT11bmRlZmluZWQpe2Jhc2U9MTA7fXZhciBwPU1hdGgucG93KGJhc2UsLXBsYWNlKTtyZXR1cm4gTWF0aC5jZWlsKHZhbHVlKnApL3A7fTttb2R1bGUuZXhwb3J0cz1DZWlsVG87LyoqKi99LC8qIDM1NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTApO3ZhciBEZWdUb1JhZD1mdW5jdGlvbiBEZWdUb1JhZChkZWdyZWVzKXtyZXR1cm4gZGVncmVlcypDT05TVC5ERUdfVE9fUkFEO307bW9kdWxlLmV4cG9ydHM9RGVnVG9SYWQ7LyoqKi99LC8qIDM1NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEaWZmZXJlbmNlPWZ1bmN0aW9uIERpZmZlcmVuY2UoYSxiKXtyZXR1cm4gTWF0aC5hYnMoYS1iKTt9O21vZHVsZS5leHBvcnRzPURpZmZlcmVuY2U7LyoqKi99LC8qIDM1NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGbG9hdEJldHdlZW49ZnVuY3Rpb24gRmxvYXRCZXR3ZWVuKG1pbixtYXgpe3JldHVybiBNYXRoLnJhbmRvbSgpKihtYXgtbWluKSttaW47fTttb2R1bGUuZXhwb3J0cz1GbG9hdEJldHdlZW47LyoqKi99LC8qIDM1OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGbG9vclRvPWZ1bmN0aW9uIEZsb29yVG8odmFsdWUscGxhY2UsYmFzZSl7aWYocGxhY2U9PT11bmRlZmluZWQpe3BsYWNlPTA7fWlmKGJhc2U9PT11bmRlZmluZWQpe2Jhc2U9MTA7fXZhciBwPU1hdGgucG93KGJhc2UsLXBsYWNlKTtyZXR1cm4gTWF0aC5mbG9vcih2YWx1ZSpwKS9wO307bW9kdWxlLmV4cG9ydHM9Rmxvb3JUbzsvKioqL30sLyogMzU5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIGRpc3RhbmNlIC0gdXN1YWxseSBpbiBwaXhlbHNcbi8vICB0aW1lIC0gaG93IGxvbmcgc2hvdWxkIGl0IHRha2UgdG8gY292ZXIgdGhlIGRpc3RhbmNlPyBJbiBzZWNvbmRzXG4vLyAgUmV0dXJucyB0aGUgYW1vdW50IHlvdSB3aWxsIG5lZWQgdG8gaW5jcmVtZW50IGJ5IGVhY2ggc3RlcCB0byBjb3ZlciB0aGUgZGlzdGFuY2UgaW4gdGhlIHRpbWUgZ2l2ZW5cbnZhciBHZXRTcGVlZD1mdW5jdGlvbiBHZXRTcGVlZChkaXN0YW5jZSx0aW1lKXtyZXR1cm4gZGlzdGFuY2UvdGltZS8xMDAwO307bW9kdWxlLmV4cG9ydHM9R2V0U3BlZWQ7LyoqKi99LC8qIDM2MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBJc0V2ZW49ZnVuY3Rpb24gSXNFdmVuKHZhbHVlKXsvLyBVc2UgYWJzdHJhY3QgZXF1YWxpdHkgPT0gZm9yIFwiaXMgbnVtYmVyXCIgdGVzdFxucmV0dXJuIHZhbHVlPT1wYXJzZUZsb2F0KHZhbHVlKT8hKHZhbHVlJTIpOnZvaWQgMDt9O21vZHVsZS5leHBvcnRzPUlzRXZlbjsvKioqL30sLyogMzYxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIElzRXZlblN0cmljdD1mdW5jdGlvbiBJc0V2ZW5TdHJpY3QodmFsdWUpey8vIFVzZSBzdHJpY3QgZXF1YWxpdHkgPT09IGZvciBcImlzIG51bWJlclwiIHRlc3RcbnJldHVybiB2YWx1ZT09PXBhcnNlRmxvYXQodmFsdWUpPyEodmFsdWUlMik6dm9pZCAwO307bW9kdWxlLmV4cG9ydHM9SXNFdmVuU3RyaWN0Oy8qKiovfSwvKiAzNjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgTWF4QWRkPWZ1bmN0aW9uIE1heEFkZCh2YWx1ZSxhbW91bnQsbWF4KXtyZXR1cm4gTWF0aC5taW4odmFsdWUrYW1vdW50LG1heCk7fTttb2R1bGUuZXhwb3J0cz1NYXhBZGQ7LyoqKi99LC8qIDM2MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBNaW5TdWI9ZnVuY3Rpb24gTWluU3ViKHZhbHVlLGFtb3VudCxtaW4pe3JldHVybiBNYXRoLm1heCh2YWx1ZS1hbW91bnQsbWluKTt9O21vZHVsZS5leHBvcnRzPU1pblN1YjsvKioqL30sLyogMzY0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFBlcmNlbnQ9ZnVuY3Rpb24gUGVyY2VudChhLGIsYmFzZSl7aWYoYmFzZT09PXVuZGVmaW5lZCl7YmFzZT0wO31pZihhPmJ8fGJhc2U+Yil7cmV0dXJuIDE7fWVsc2UgaWYoYTxiYXNlfHxiYXNlPmEpe3JldHVybiAwO31lbHNle3JldHVybihhLWJhc2UpL2I7fX07bW9kdWxlLmV4cG9ydHM9UGVyY2VudDsvKioqL30sLyogMzY1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7dmFyIFJhZFRvRGVnPWZ1bmN0aW9uIFJhZFRvRGVnKHJhZGlhbnMpe3JldHVybiByYWRpYW5zKkNPTlNULlJBRF9UT19ERUc7fTttb2R1bGUuZXhwb3J0cz1SYWRUb0RlZzsvKioqL30sLyogMzY2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIHAgPSBQb2ludCBvciBhbnkgb2JqZWN0IHdpdGggcHVibGljIHgveSBwcm9wZXJ0aWVzXG52YXIgUm90YXRlPWZ1bmN0aW9uIFJvdGF0ZShwb2ludCxhbmdsZSl7dmFyIHg9cG9pbnQueDt2YXIgeT1wb2ludC55O3BvaW50Lng9eCpNYXRoLmNvcyhhbmdsZSkteSpNYXRoLnNpbihhbmdsZSk7cG9pbnQueT14Kk1hdGguc2luKGFuZ2xlKSt5Kk1hdGguY29zKGFuZ2xlKTtyZXR1cm4gcG9pbnQ7fTttb2R1bGUuZXhwb3J0cz1Sb3RhdGU7LyoqKi99LC8qIDM2NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBwID0gUG9pbnQgb3IgYW55IG9iamVjdCB3aXRoIHB1YmxpYyB4L3kgcHJvcGVydGllc1xudmFyIFJvdGF0ZUFyb3VuZD1mdW5jdGlvbiBSb3RhdGVBcm91bmQocG9pbnQseCx5LGFuZ2xlKXt2YXIgYz1NYXRoLmNvcyhhbmdsZSk7dmFyIHM9TWF0aC5zaW4oYW5nbGUpO3ZhciB0eD1wb2ludC54LXg7dmFyIHR5PXBvaW50LnkteTtwb2ludC54PXR4KmMtdHkqcyt4O3BvaW50Lnk9dHgqcyt0eSpjK3k7cmV0dXJuIHBvaW50O307bW9kdWxlLmV4cG9ydHM9Um90YXRlQXJvdW5kOy8qKiovfSwvKiAzNjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUm91bmRUbz1mdW5jdGlvbiBSb3VuZFRvKHZhbHVlLHBsYWNlLGJhc2Upe2lmKHBsYWNlPT09dW5kZWZpbmVkKXtwbGFjZT0wO31pZihiYXNlPT09dW5kZWZpbmVkKXtiYXNlPTEwO312YXIgcD1NYXRoLnBvdyhiYXNlLC1wbGFjZSk7cmV0dXJuIE1hdGgucm91bmQodmFsdWUqcCkvcDt9O21vZHVsZS5leHBvcnRzPVJvdW5kVG87LyoqKi99LC8qIDM2OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTaW5Db3NUYWJsZUdlbmVyYXRvcj1mdW5jdGlvbiBTaW5Db3NUYWJsZUdlbmVyYXRvcihsZW5ndGgsc2luQW1wLGNvc0FtcCxmcmVxdWVuY3kpe2lmKHNpbkFtcD09PXVuZGVmaW5lZCl7c2luQW1wPTE7fWlmKGNvc0FtcD09PXVuZGVmaW5lZCl7Y29zQW1wPTE7fWlmKGZyZXF1ZW5jeT09PXVuZGVmaW5lZCl7ZnJlcXVlbmN5PTE7fWZyZXF1ZW5jeSo9TWF0aC5QSS9sZW5ndGg7dmFyIGNvcz1bXTt2YXIgc2luPVtdO2Zvcih2YXIgYz0wO2M8bGVuZ3RoO2MrKyl7Y29zQW1wLT1zaW5BbXAqZnJlcXVlbmN5O3NpbkFtcCs9Y29zQW1wKmZyZXF1ZW5jeTtjb3NbY109Y29zQW1wO3NpbltjXT1zaW5BbXA7fXJldHVybntzaW46c2luLGNvczpjb3MsbGVuZ3RoOmxlbmd0aH07fTttb2R1bGUuZXhwb3J0cz1TaW5Db3NUYWJsZUdlbmVyYXRvcjsvKioqL30sLyogMzcwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIENoZWNrcyBpZiB0d28gdmFsdWVzIGFyZSB3aXRoaW4gdGhlIGdpdmVuIHRvbGVyYW5jZSBvZiBlYWNoIG90aGVyLlxuKlxuKiBAcGFyYW0ge251bWJlcn0gYSAtIFRoZSBmaXJzdCBudW1iZXIgdG8gY2hlY2tcbiogQHBhcmFtIHtudW1iZXJ9IGIgLSBUaGUgc2Vjb25kIG51bWJlciB0byBjaGVja1xuKiBAcGFyYW0ge251bWJlcn0gdG9sZXJhbmNlIC0gVGhlIHRvbGVyYW5jZS4gQW55dGhpbmcgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIHRoaXMgaXMgY29uc2lkZXJlZCB3aXRoaW4gdGhlIHJhbmdlLlxuKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGEgaXMgPD0gdG9sZXJhbmNlIG9mIGIuXG4qL3ZhciBXaXRoaW49ZnVuY3Rpb24gV2l0aGluKGEsYix0b2xlcmFuY2Upe3JldHVybiBNYXRoLmFicyhhLWIpPD10b2xlcmFuY2U7fTttb2R1bGUuZXhwb3J0cz1XaXRoaW47LyoqKi99LC8qIDM3MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNCk7dmFyIENIRUNLU1VNPV9fd2VicGFja19yZXF1aXJlX18oMzcyKTt2YXIgRGVidWdIZWFkZXI9ZnVuY3Rpb24gRGVidWdIZWFkZXIoZ2FtZSl7dmFyIGNvbmZpZz1nYW1lLmNvbmZpZztpZihjb25maWcuaGlkZUJhbm5lcil7cmV0dXJuO312YXIgcmVuZGVyVHlwZT1jb25maWcucmVuZGVyVHlwZT09PUNPTlNULkNBTlZBUz8nQ2FudmFzJzonV2ViR0wnO3ZhciBpZT1mYWxzZTtpZighaWUpe3ZhciBjPScnO3ZhciBhcmdzPVtjXTtpZihBcnJheS5pc0FycmF5KGNvbmZpZy5iYW5uZXJCYWNrZ3JvdW5kQ29sb3IpKXt2YXIgbGFzdENvbG9yO2NvbmZpZy5iYW5uZXJCYWNrZ3JvdW5kQ29sb3IuZm9yRWFjaChmdW5jdGlvbihjb2xvcil7Yz1jLmNvbmNhdCgnJWMgJyk7YXJncy5wdXNoKCdiYWNrZ3JvdW5kOiAnK2NvbG9yKTtsYXN0Q29sb3I9Y29sb3I7fSk7Ly8gIGluamVjdCB0aGUgdGV4dCBjb2xvclxuYXJnc1thcmdzLmxlbmd0aC0xXT0nY29sb3I6ICcrY29uZmlnLmJhbm5lclRleHRDb2xvcisnOyBiYWNrZ3JvdW5kOiAnK2xhc3RDb2xvcjt9ZWxzZXtjPWMuY29uY2F0KCclYyAnKTthcmdzLnB1c2goJ2NvbG9yOiAnK2NvbmZpZy5iYW5uZXJUZXh0Q29sb3IrJzsgYmFja2dyb3VuZDogJytjb25maWcuYmFubmVyQmFja2dyb3VuZENvbG9yKTt9Ly8gIFVSTCBsaW5rIGJhY2tncm91bmQgY29sb3IgKGFsd2F5cyB3aGl0ZSlcbmFyZ3MucHVzaCgnYmFja2dyb3VuZDogI2ZmZicpO2lmKGNvbmZpZy5nYW1lVGl0bGUpe2M9Yy5jb25jYXQoY29uZmlnLmdhbWVUaXRsZSk7aWYoY29uZmlnLmdhbWVWZXJzaW9uKXtjPWMuY29uY2F0KCcgdicrY29uZmlnLmdhbWVWZXJzaW9uKTt9aWYoIWNvbmZpZy5oaWRlUGhhc2VyKXtjPWMuY29uY2F0KCcgLyAnKTt9fWlmKCFjb25maWcuaGlkZVBoYXNlcil7Yz1jLmNvbmNhdCgnUGhhc2VyIHYnK0NPTlNULlZFUlNJT04rJyAoJytyZW5kZXJUeXBlKycpJyk7fWM9Yy5jb25jYXQoJyAlYyAnK2NvbmZpZy5nYW1lVVJMKTsvLyAgSW5qZWN0IHRoZSBuZXcgc3RyaW5nIGJhY2sgaW50byB0aGUgYXJncyBhcnJheVxuYXJnc1swXT1jO2NvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJncyk7fWVsc2UgaWYod2luZG93Wydjb25zb2xlJ10pe2NvbnNvbGUubG9nKCdQaGFzZXIgdicrQ09OU1QuVkVSU0lPTisnIC8gaHR0cDovL3BoYXNlci5pbycpO30vLyBLZWVwIHRoaXMgZHVyaW5nIGRldiBidWlsZCBvbmx5XG5jb25zb2xlLmxvZyhDSEVDS1NVTS5idWlsZCk7fTttb2R1bGUuZXhwb3J0cz1EZWJ1Z0hlYWRlcjsvKioqL30sLyogMzcyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENIRUNLU1VNPXtidWlsZDonYmY5MjYxMTAtN2JjMy0xMWU3LTg2NGMtNTczMmJlMjA5YjY2J307bW9kdWxlLmV4cG9ydHM9Q0hFQ0tTVU07LyoqKi99LC8qIDM3MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFRoaXMgc2luZ2xldG9uIGlzIGluc3RhbnRpYXRlZCBhcyBzb29uIGFzIFBoYXNlciBsb2Fkcyxcbi8vICBiZWZvcmUgYSBQaGFzZXIuR2FtZSBpbnN0YW5jZSBoYXMgZXZlbiBiZWVuIGNyZWF0ZWQuXG4vLyAgV2hpY2ggbWVhbnMgYWxsIGluc3RhbmNlcyBvZiBQaGFzZXIgR2FtZXMgY2FuIHNoYXJlIGl0LFxuLy8gIHdpdGhvdXQgaGF2aW5nIHRvIHJlLXBvbGwgdGhlIGRldmljZSBhbGwgb3ZlciBhZ2FpblxudmFyIE9TPV9fd2VicGFja19yZXF1aXJlX18oNDIpO3ZhciBCcm93c2VyPV9fd2VicGFja19yZXF1aXJlX18oNTMpO3ZhciBGZWF0dXJlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Myk7dmFyIElucHV0PV9fd2VicGFja19yZXF1aXJlX18oMzc0KTt2YXIgQXVkaW89X193ZWJwYWNrX3JlcXVpcmVfXygzNzUpO3ZhciBWaWRlbz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3Nik7dmFyIEZ1bGxzY3JlZW49X193ZWJwYWNrX3JlcXVpcmVfXygzNzcpO3ZhciBDYW52YXNGZWF0dXJlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7Ly8gIFBoYXNlci5EZXZpY2Vcbm1vZHVsZS5leHBvcnRzPXtPUzpPUyxCcm93c2VyOkJyb3dzZXIsRmVhdHVyZXM6RmVhdHVyZXMsSW5wdXQ6SW5wdXQsQXVkaW86QXVkaW8sVmlkZW86VmlkZW8sRnVsbHNjcmVlbjpGdWxsc2NyZWVuLENhbnZhc0ZlYXR1cmVzOkNhbnZhc0ZlYXR1cmVzfTsvKioqL30sLyogMzc0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgT1M9X193ZWJwYWNrX3JlcXVpcmVfXyg0Mik7dmFyIEJyb3dzZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7dmFyIElucHV0PXsvLyBAcHJvcGVydHkge2Jvb2xlYW59IHRvdWNoIC0gSXMgdG91Y2ggYXZhaWxhYmxlP1xudG91Y2g6ZmFsc2UsLy8gQHByb3BlcnR5IHtib29sZWFufSBtc3BvaW50ZXIgLSBJcyBtc3BvaW50ZXIgYXZhaWxhYmxlP1xubXNwb2ludGVyOmZhbHNlLC8vIEBwcm9wZXJ0eSB7P3N0cmluZ30gd2hlZWxUeXBlIC0gVGhlIG5ld2VzdCB0eXBlIG9mIFdoZWVsL1Njcm9sbCBldmVudCBzdXBwb3J0ZWQ6ICd3aGVlbCcsICdtb3VzZXdoZWVsJywgJ0RPTU1vdXNlU2Nyb2xsJ1xud2hlZWxFdmVudDpudWxsfTtmdW5jdGlvbiBpbml0KCl7aWYoJ29udG91Y2hzdGFydCdpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fHdpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+PTEpe0lucHV0LnRvdWNoPXRydWU7fWlmKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZHx8d2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCl7SW5wdXQubXNwb2ludGVyPXRydWU7fWlmKCFPUy5jb2Nvb25KUyl7Ly8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy93aGVlbFxuaWYoJ29ud2hlZWwnaW4gd2luZG93fHxCcm93c2VyLmllJiYnV2hlZWxFdmVudCdpbiB3aW5kb3cpey8vIERPTTMgV2hlZWwgRXZlbnQ6IEZGIDE3KywgSUUgOSssIENocm9tZSAzMSssIFNhZmFyaSA3K1xuSW5wdXQud2hlZWxFdmVudD0nd2hlZWwnO31lbHNlIGlmKCdvbm1vdXNld2hlZWwnaW4gd2luZG93KXsvLyBOb24tRkYgbGVnYWN5OiBJRSA2LTksIENocm9tZSAxLTMxLCBTYWZhcmkgNS03LlxuSW5wdXQud2hlZWxFdmVudD0nbW91c2V3aGVlbCc7fWVsc2UgaWYoQnJvd3Nlci5maXJlZm94JiYnTW91c2VTY3JvbGxFdmVudCdpbiB3aW5kb3cpey8vIEZGIHByaW9yIHRvIDE3LiBUaGlzIHNob3VsZCBwcm9iYWJseSBiZSBzY3J1YmJlZC5cbklucHV0LndoZWVsRXZlbnQ9J0RPTU1vdXNlU2Nyb2xsJzt9fXJldHVybiBJbnB1dDt9bW9kdWxlLmV4cG9ydHM9aW5pdCgpOy8qKiovfSwvKiAzNzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCcm93c2VyPV9fd2VicGFja19yZXF1aXJlX18oNTMpO3ZhciBBdWRpbz17Ly8gQHByb3BlcnR5IHtib29sZWFufSBhdWRpb0RhdGEgLSBBcmUgQXVkaW8gdGFncyBhdmFpbGFibGU/XG5hdWRpb0RhdGE6ZmFsc2UsLy8gQHByb3BlcnR5IHtib29sZWFufSB3ZWJBdWRpbyAtIElzIHRoZSBXZWJBdWRpbyBBUEkgYXZhaWxhYmxlP1xud2ViQXVkaW86ZmFsc2UsLy8gQHByb3BlcnR5IHtib29sZWFufSBvZ2cgLSBDYW4gdGhpcyBkZXZpY2UgcGxheSBvZ2cgZmlsZXM/XG5vZ2c6ZmFsc2UsLy8gQHByb3BlcnR5IHtib29sZWFufSBvcHVzIC0gQ2FuIHRoaXMgZGV2aWNlIHBsYXkgb3B1cyBmaWxlcz9cbm9wdXM6ZmFsc2UsLy8gQHByb3BlcnR5IHtib29sZWFufSBtcDMgLSBDYW4gdGhpcyBkZXZpY2UgcGxheSBtcDMgZmlsZXM/XG5tcDM6ZmFsc2UsLy8gQHByb3BlcnR5IHtib29sZWFufSB3YXYgLSBDYW4gdGhpcyBkZXZpY2UgcGxheSB3YXYgZmlsZXM/XG53YXY6ZmFsc2UsLy8gQ2FuIHRoaXMgZGV2aWNlIHBsYXkgbTRhIGZpbGVzP1xuLy8gQHByb3BlcnR5IHtib29sZWFufSBtNGEgLSBUcnVlIGlmIHRoaXMgZGV2aWNlIGNhbiBwbGF5IG00YSBmaWxlcy5cbm00YTpmYWxzZSwvLyBAcHJvcGVydHkge2Jvb2xlYW59IHdlYm0gLSBDYW4gdGhpcyBkZXZpY2UgcGxheSB3ZWJtIGZpbGVzP1xud2VibTpmYWxzZSwvLyBAcHJvcGVydHkge2Jvb2xlYW59IGRvbGJ5IC0gQ2FuIHRoaXMgZGV2aWNlIHBsYXkgRUMtMyBEb2xieSBEaWdpdGFsIFBsdXMgZmlsZXM/XG5kb2xieTpmYWxzZX07ZnVuY3Rpb24gaW5pdCgpe0F1ZGlvLmF1ZGlvRGF0YT0hIXdpbmRvd1snQXVkaW8nXTtBdWRpby53ZWJBdWRpbz0hISh3aW5kb3dbJ0F1ZGlvQ29udGV4dCddfHx3aW5kb3dbJ3dlYmtpdEF1ZGlvQ29udGV4dCddKTt2YXIgYXVkaW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7dmFyIHJlc3VsdD0hIWF1ZGlvRWxlbWVudC5jYW5QbGF5VHlwZTt0cnl7aWYocmVzdWx0KXtpZihhdWRpb0VsZW1lbnQuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwidm9yYmlzXCInKS5yZXBsYWNlKC9ebm8kLywnJykpe0F1ZGlvLm9nZz10cnVlO31pZihhdWRpb0VsZW1lbnQuY2FuUGxheVR5cGUoJ2F1ZGlvL29nZzsgY29kZWNzPVwib3B1c1wiJykucmVwbGFjZSgvXm5vJC8sJycpfHxhdWRpb0VsZW1lbnQuY2FuUGxheVR5cGUoJ2F1ZGlvL29wdXM7JykucmVwbGFjZSgvXm5vJC8sJycpKXtBdWRpby5vcHVzPXRydWU7fWlmKGF1ZGlvRWxlbWVudC5jYW5QbGF5VHlwZSgnYXVkaW8vbXBlZzsnKS5yZXBsYWNlKC9ebm8kLywnJykpe0F1ZGlvLm1wMz10cnVlO30vLyAgTWltZXR5cGVzIGFjY2VwdGVkOlxuLy8gIGRldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9NZWRpYV9mb3JtYXRzX3N1cHBvcnRlZF9ieV90aGVfYXVkaW9fYW5kX3ZpZGVvX2VsZW1lbnRzXG4vLyAgYml0Lmx5L2lwaG9uZW9zY29kZWNzXG5pZihhdWRpb0VsZW1lbnQuY2FuUGxheVR5cGUoJ2F1ZGlvL3dhdjsgY29kZWNzPVwiMVwiJykucmVwbGFjZSgvXm5vJC8sJycpKXtBdWRpby53YXY9dHJ1ZTt9aWYoYXVkaW9FbGVtZW50LmNhblBsYXlUeXBlKCdhdWRpby94LW00YTsnKXx8YXVkaW9FbGVtZW50LmNhblBsYXlUeXBlKCdhdWRpby9hYWM7JykucmVwbGFjZSgvXm5vJC8sJycpKXtBdWRpby5tNGE9dHJ1ZTt9aWYoYXVkaW9FbGVtZW50LmNhblBsYXlUeXBlKCdhdWRpby93ZWJtOyBjb2RlY3M9XCJ2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCcnKSl7QXVkaW8ud2VibT10cnVlO31pZihhdWRpb0VsZW1lbnQuY2FuUGxheVR5cGUoJ2F1ZGlvL21wNDtjb2RlY3M9XCJlYy0zXCInKSE9PScnKXtpZihCcm93c2VyLmVkZ2Upe0F1ZGlvLmRvbGJ5PXRydWU7fWVsc2UgaWYoQnJvd3Nlci5zYWZhcmkmJkJyb3dzZXIuc2FmYXJpVmVyc2lvbj49OSl7aWYoL01hYyBPUyBYIChcXGQrKV8oXFxkKykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3ZhciBtYWpvcj1wYXJzZUludChSZWdFeHAuJDEsMTApO3ZhciBtaW5vcj1wYXJzZUludChSZWdFeHAuJDIsMTApO2lmKG1ham9yPT09MTAmJm1pbm9yPj0xMXx8bWFqb3I+MTApe0F1ZGlvLmRvbGJ5PXRydWU7fX19fX19Y2F0Y2goZSl7Ly8gIE5vdGhpbmcgdG8gZG8gaGVyZVxufXJldHVybiBBdWRpbzt9bW9kdWxlLmV4cG9ydHM9aW5pdCgpOy8qKiovfSwvKiAzNzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVmlkZW89ey8vICBAcHJvcGVydHkge2Jvb2xlYW59IG9nZ1ZpZGVvIC0gQ2FuIHRoaXMgZGV2aWNlIHBsYXkgb2dnIHZpZGVvIGZpbGVzP1xub2dnVmlkZW86ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaDI2NFZpZGVvIC0gQ2FuIHRoaXMgZGV2aWNlIHBsYXkgaDI2NCBtcDQgdmlkZW8gZmlsZXM/XG5oMjY0VmlkZW86ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbXA0VmlkZW8gLSBDYW4gdGhpcyBkZXZpY2UgcGxheSBoMjY0IG1wNCB2aWRlbyBmaWxlcz9cbm1wNFZpZGVvOmZhbHNlLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IHdlYm1WaWRlbyAtIENhbiB0aGlzIGRldmljZSBwbGF5IHdlYm0gdmlkZW8gZmlsZXM/XG53ZWJtVmlkZW86ZmFsc2UsLy8gIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdnA5VmlkZW8gLSBDYW4gdGhpcyBkZXZpY2UgcGxheSB2cDkgdmlkZW8gZmlsZXM/XG52cDlWaWRlbzpmYWxzZSwvLyAgQHByb3BlcnR5IHtib29sZWFufSBobHNWaWRlbyAtIENhbiB0aGlzIGRldmljZSBwbGF5IGhscyB2aWRlbyBmaWxlcz9cbmhsc1ZpZGVvOmZhbHNlfTtmdW5jdGlvbiBpbml0KCl7dmFyIHZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO3ZhciByZXN1bHQ9ISF2aWRlb0VsZW1lbnQuY2FuUGxheVR5cGU7dHJ5e2lmKHJlc3VsdCl7aWYodmlkZW9FbGVtZW50LmNhblBsYXlUeXBlKCd2aWRlby9vZ2c7IGNvZGVjcz1cInRoZW9yYVwiJykucmVwbGFjZSgvXm5vJC8sJycpKXtWaWRlby5vZ2dWaWRlbz10cnVlO31pZih2aWRlb0VsZW1lbnQuY2FuUGxheVR5cGUoJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MkUwMUVcIicpLnJlcGxhY2UoL15ubyQvLCcnKSl7Ly8gV2l0aG91dCBRdWlja1RpbWUsIHRoaXMgdmFsdWUgd2lsbCBiZSBgdW5kZWZpbmVkYC4gZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2lzc3Vlcy81NDZcblZpZGVvLmgyNjRWaWRlbz10cnVlO1ZpZGVvLm1wNFZpZGVvPXRydWU7fWlmKHZpZGVvRWxlbWVudC5jYW5QbGF5VHlwZSgndmlkZW8vd2VibTsgY29kZWNzPVwidnA4LCB2b3JiaXNcIicpLnJlcGxhY2UoL15ubyQvLCcnKSl7VmlkZW8ud2VibVZpZGVvPXRydWU7fWlmKHZpZGVvRWxlbWVudC5jYW5QbGF5VHlwZSgndmlkZW8vd2VibTsgY29kZWNzPVwidnA5XCInKS5yZXBsYWNlKC9ebm8kLywnJykpe1ZpZGVvLnZwOVZpZGVvPXRydWU7fWlmKHZpZGVvRWxlbWVudC5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24veC1tcGVnVVJMOyBjb2RlY3M9XCJhdmMxLjQyRTAxRVwiJykucmVwbGFjZSgvXm5vJC8sJycpKXtWaWRlby5obHNWaWRlbz10cnVlO319fWNhdGNoKGUpey8vICBOb3RoaW5nIHRvIGRvXG59cmV0dXJuIFZpZGVvO31tb2R1bGUuZXhwb3J0cz1pbml0KCk7LyoqKi99LC8qIDM3NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGdWxsc2NyZWVuPXsvLyAgQHByb3BlcnR5IHtib29sZWFufSBhdmFpbGFibGUgLSBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgdGhlIEZ1bGwgU2NyZWVuIEFQST9cbmF2YWlsYWJsZTpmYWxzZSwvLyAgQHByb3BlcnR5IHtzdHJpbmd9IHJlcXVlc3QgLSBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgRnVsbCBTY3JlZW4gQVBJIHRoaXMgaG9sZHMgdGhlIGNhbGwgeW91IG5lZWQgdG8gdXNlIHRvIGFjdGl2YXRlIGl0LlxucmVxdWVzdDonJywvLyAgQHByb3BlcnR5IHtzdHJpbmd9IGNhbmNlbCAtIElmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBGdWxsIFNjcmVlbiBBUEkgdGhpcyBob2xkcyB0aGUgY2FsbCB5b3UgbmVlZCB0byB1c2UgdG8gY2FuY2VsIGl0LlxuY2FuY2VsOicnLC8vICBAcHJvcGVydHkge2Jvb2xlYW59IGtleWJvYXJkIC0gRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IGFjY2VzcyB0byB0aGUgS2V5Ym9hcmQgZHVyaW5nIEZ1bGwgU2NyZWVuIG1vZGU/XG5rZXlib2FyZDpmYWxzZX07LyoqXG4qIENoZWNrcyBmb3Igc3VwcG9ydCBvZiB0aGUgRnVsbCBTY3JlZW4gQVBJLlxuKi9mdW5jdGlvbiBpbml0KCl7dmFyIGk7dmFyIGZzPVsncmVxdWVzdEZ1bGxzY3JlZW4nLCdyZXF1ZXN0RnVsbFNjcmVlbicsJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJywnd2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4nLCdtc1JlcXVlc3RGdWxsc2NyZWVuJywnbXNSZXF1ZXN0RnVsbFNjcmVlbicsJ21velJlcXVlc3RGdWxsU2NyZWVuJywnbW96UmVxdWVzdEZ1bGxzY3JlZW4nXTt2YXIgZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtmb3IoaT0wO2k8ZnMubGVuZ3RoO2krKyl7aWYoZWxlbWVudFtmc1tpXV0pe0Z1bGxzY3JlZW4uYXZhaWxhYmxlPXRydWU7RnVsbHNjcmVlbi5yZXF1ZXN0PWZzW2ldO2JyZWFrO319dmFyIGNmcz1bJ2NhbmNlbEZ1bGxTY3JlZW4nLCdleGl0RnVsbHNjcmVlbicsJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLCd3ZWJraXRFeGl0RnVsbHNjcmVlbicsJ21zQ2FuY2VsRnVsbFNjcmVlbicsJ21zRXhpdEZ1bGxzY3JlZW4nLCdtb3pDYW5jZWxGdWxsU2NyZWVuJywnbW96RXhpdEZ1bGxzY3JlZW4nXTtpZihGdWxsc2NyZWVuLmF2YWlsYWJsZSl7Zm9yKGk9MDtpPGNmcy5sZW5ndGg7aSsrKXtpZihkb2N1bWVudFtjZnNbaV1dKXtGdWxsc2NyZWVuLmNhbmNlbD1jZnNbaV07YnJlYWs7fX19Ly8gIEtleWJvYXJkIElucHV0P1xuaWYod2luZG93WydFbGVtZW50J10mJkVsZW1lbnRbJ0FMTE9XX0tFWUJPQVJEX0lOUFVUJ10pe0Z1bGxzY3JlZW4ua2V5Ym9hcmQ9dHJ1ZTt9cmV0dXJuIEZ1bGxzY3JlZW47fW1vZHVsZS5leHBvcnRzPWluaXQoKTsvKioqL30sLyogMzc4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO3ZhciBFdmVudExpc3RlbmVyPV9fd2VicGFja19yZXF1aXJlX18oMzc5KTt2YXIgRXZlbnRCaW5kaW5nPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBFdmVudEJpbmRpbmcoZGlzcGF0Y2hlcix0eXBlKXt0aGlzLmRpc3BhdGNoZXI9ZGlzcGF0Y2hlcjt0aGlzLnR5cGU9dHlwZTt0aGlzLnN0YXRlPUNPTlNULkRJU1BBVENIRVJfSURMRTt0aGlzLmFjdGl2ZT1bXTt9LHRvdGFsOmZ1bmN0aW9uIHRvdGFsKCl7dmFyIHRvdGFsPTA7Zm9yKHZhciBpPTA7aTx0aGlzLmFjdGl2ZS5sZW5ndGg7aSsrKXtpZih0aGlzLmFjdGl2ZVtpXS5zdGF0ZSE9PUNPTlNULkxJU1RFTkVSX1JFTU9WSU5HKXt0b3RhbCsrO319cmV0dXJuIHRvdGFsO30sZ2V0OmZ1bmN0aW9uIGdldChjYWxsYmFjayl7Zm9yKHZhciBpPTA7aTx0aGlzLmFjdGl2ZS5sZW5ndGg7aSsrKXtpZih0aGlzLmFjdGl2ZVtpXS5jYWxsYmFjaz09PWNhbGxiYWNrKXtyZXR1cm4gdGhpcy5hY3RpdmVbaV07fX19LGdldEluZGV4OmZ1bmN0aW9uIGdldEluZGV4KGNhbGxiYWNrKXtmb3IodmFyIGk9MDtpPHRoaXMuYWN0aXZlLmxlbmd0aDtpKyspe2lmKHRoaXMuYWN0aXZlW2ldLmNhbGxiYWNrPT09Y2FsbGJhY2spe3JldHVybiBpO319cmV0dXJuIG51bGw7fSxoYXM6ZnVuY3Rpb24gaGFzKGNhbGxiYWNrKXtyZXR1cm4gdGhpcy5nZXQoY2FsbGJhY2spO30sYWRkOmZ1bmN0aW9uIGFkZChjYWxsYmFjayxwcmlvcml0eSxvbmNlKXt2YXIgbGlzdGVuZXI9dGhpcy5nZXQoY2FsbGJhY2spO2lmKCFsaXN0ZW5lcil7Ly8gIFRoZSBsaXN0ZW5lciBkb2Vzbid0IGV4aXN0LCBzbyBjcmVhdGUgb25lXG5saXN0ZW5lcj1FdmVudExpc3RlbmVyKHRoaXMudHlwZSxjYWxsYmFjayxwcmlvcml0eSxvbmNlKTt9ZWxzZXsvLyAgTGlzdGVuZXIgYWxyZWFkeSBleGlzdHMsIGFib3J0XG5yZXR1cm47fWlmKHRoaXMuc3RhdGU9PT1DT05TVC5ESVNQQVRDSEVSX0lETEUpey8vICBUaGUgRGlzcGF0Y2hlciBpc24ndCBkb2luZyBhbnl0aGluZywgc28gd2UgZG9uJ3QgbmVlZCBhIHBlbmRpbmcgc3RhdGVcbmxpc3RlbmVyLnN0YXRlPUNPTlNULkxJU1RFTkVSX0FDVElWRTt0aGlzLmFjdGl2ZS5wdXNoKGxpc3RlbmVyKTt0aGlzLmFjdGl2ZS5zb3J0KHRoaXMuc29ydEhhbmRsZXIpO31lbHNlIGlmKHRoaXMuc3RhdGU9PT1DT05TVC5ESVNQQVRDSEVSX0RJU1BBVENISU5HKXsvLyAgQWRkIGl0IHRvIHRoZSBsaXN0LCBidXQga2VlcCB0aGUgc3RhdGUgYXMgcGVuZGluZy5cbi8vICBUaGUgY2FsbCB0byAndGlkeScgd2lsbCBzb3J0IGl0IG91dCBhdCB0aGUgZW5kIG9mIHRoZSBkaXNwYXRjaC5cbnRoaXMuYWN0aXZlLnB1c2gobGlzdGVuZXIpO319LHNvcnRIYW5kbGVyOmZ1bmN0aW9uIHNvcnRIYW5kbGVyKGxpc3RlbmVyQSxsaXN0ZW5lckIpe2lmKGxpc3RlbmVyQi5wcmlvcml0eTxsaXN0ZW5lckEucHJpb3JpdHkpe3JldHVybi0xO31lbHNlIGlmKGxpc3RlbmVyQi5wcmlvcml0eT5saXN0ZW5lckEucHJpb3JpdHkpe3JldHVybiAxO31lbHNle3JldHVybiAwO319LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoY2FsbGJhY2spe2lmKHRoaXMuc3RhdGU9PT1DT05TVC5ESVNQQVRDSEVSX0lETEUpey8vICBUaGUgRGlzcGF0Y2hlciBpc24ndCBkb2luZyBhbnl0aGluZywgc28gd2UgY2FuIHJlbW92ZSByaWdodCBhd2F5XG52YXIgaT10aGlzLmdldEluZGV4KGNhbGxiYWNrKTtpZihpIT09bnVsbCl7dGhpcy5hY3RpdmUuc3BsaWNlKGksMSk7fX1lbHNlIGlmKHRoaXMuc3RhdGU9PT1DT05TVC5ESVNQQVRDSEVSX0RJU1BBVENISU5HKXsvLyAgVGhlIERpc3BhdGNoZXIgaXMgd29ya2luZywgc28gd2UgZmxhZyB0aGUgbGlzdGVuZXIgZm9yIHJlbW92YWwgYXQgdGhlIGVuZFxudmFyIGxpc3RlbmVyPXRoaXMuZ2V0KGNhbGxiYWNrKTtpZihsaXN0ZW5lcil7bGlzdGVuZXIuc3RhdGU9Q09OU1QuTElTVEVORVJfUkVNT1ZJTkc7fX19LGRpc3BhdGNoOmZ1bmN0aW9uIGRpc3BhdGNoKGV2ZW50KXtpZih0aGlzLnN0YXRlIT09Q09OU1QuRElTUEFUQ0hFUl9JRExFKXt0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yOiBGYWlsZWQgdG8gZXhlY3V0ZSBcXCdFdmVudERpc3BhdGNoZXIuZGlzcGF0Y2hcXCcgb24gXFwnJyt0aGlzLnR5cGUrJ1xcJzogVGhlIGV2ZW50IGlzIGFscmVhZHkgYmVpbmcgZGlzcGF0Y2hlZC4nKTt9ZWxzZSBpZih0aGlzLmFjdGl2ZS5sZW5ndGg9PT0wKXsvLyAgVGhpcyB3YXMgYSB2YWxpZCBkaXNwYXRjaCBjYWxsLCB3ZSBqdXN0IGhhZCBub3RoaW5nIHRvIGRvIC4uLlxucmV0dXJuO310aGlzLnN0YXRlPUNPTlNULkRJU1BBVENIRVJfRElTUEFUQ0hJTkc7dmFyIGxpc3RlbmVyO2Zvcih2YXIgaT0wO2k8dGhpcy5hY3RpdmUubGVuZ3RoO2krKyl7bGlzdGVuZXI9dGhpcy5hY3RpdmVbaV07aWYobGlzdGVuZXIuc3RhdGUhPT1DT05TVC5MSVNURU5FUl9BQ1RJVkUpe2NvbnRpbnVlO31saXN0ZW5lci5jYWxsYmFjay5jYWxsKHRoaXMuZGlzcGF0Y2hlcixldmVudCk7Ly8gIEhhcyB0aGUgY2FsbGJhY2sgY2hhbmdlZCB0aGUgc3RhdGUgb2YgdGhpcyBiaW5kaW5nP1xuaWYodGhpcy5zdGF0ZSE9PUNPTlNULkRJU1BBVENIRVJfRElTUEFUQ0hJTkcpey8vICBZdXAhIExldCdzIGJyZWFrIG91dFxuYnJlYWs7fS8vICBXYXMgaXQgYSAnb25jZScgbGlzdGVuZXI/XG5pZihsaXN0ZW5lci5vbmNlKXtsaXN0ZW5lci5zdGF0ZT1DT05TVC5MSVNURU5FUl9SRU1PVklORzt9Ly8gIEhhcyB0aGUgZXZlbnQgYmVlbiBoYWx0ZWQgYnkgdGhlIGNhbGxiYWNrP1xuaWYoIWV2ZW50Ll9wcm9wYWdhdGUpey8vICBCcmVhayBvdXQsIGEgbGlzdGVuZXIgaGFzIGNhbGxlZCBFdmVudC5zdG9wUHJvcGFnYXRpb25cbmJyZWFrO319Ly8gIERpc3BhdGNoIG92ZXIsIG9yIGFib3J0ZWRcbmlmKHRoaXMuc3RhdGU9PT1DT05TVC5ESVNQQVRDSEVSX1JFTU9WSU5HKXt0aGlzLnJlbW92ZUFsbCgpOy8vICBBbGwgZG9uZSwgdGlkeSB0aGUgbGlzdCBpbiBjYXNlIHRoZXJlIHdlcmUgYW55IHBlbmRpbmcgZXZlbnRzIGFkZGVkXG50aGlzLnRpZHkoKTt9ZWxzZSBpZih0aGlzLnN0YXRlPT09Q09OU1QuRElTUEFUQ0hFUl9ERVNUUk9ZRUQpe3RoaXMuZGlzcGF0Y2hlci5kZWxldGUodGhpcy50eXBlKTt9ZWxzZXsvLyAgQWxsIGRvbmUsIGp1c3QgcHVyZ2UgdGhlIGxpc3RcbnRoaXMudGlkeSgpO3RoaXMuc3RhdGU9Q09OU1QuRElTUEFUQ0hFUl9JRExFO319LC8vICBSZW1vdmVzIGFsbCBsaXN0ZW5lcnNcbi8vICBJZiB0aGlzIGlzIGN1cnJlbnRseSBiZWluZyBkaXNwYXRjaGVkIHRoZW4gZG9uJ3QgcmVtb3ZlICdwZW5kaW5nJyBsaXN0ZW5lcnNcbi8vICAoaS5lLiBvbmVzIHRoYXQgd2VyZSBhZGRlZCBkdXJpbmcgdGhlIGRpc3BhdGNoKSwgb25seSBhY3RpdmUgb25lc1xucmVtb3ZlQWxsOmZ1bmN0aW9uIHJlbW92ZUFsbCgpe2lmKHRoaXMuc3RhdGU9PT1DT05TVC5ESVNQQVRDSEVSX0lETEUpe3RoaXMuYWN0aXZlLmxlbmd0aD0wO31lbHNle2Zvcih2YXIgaT10aGlzLmFjdGl2ZS5sZW5ndGgtMTtpPj0wO2ktLSl7aWYodGhpcy5hY3RpdmVbaV0uc3RhdGUhPT1DT05TVC5MSVNURU5FUl9QRU5ESU5HKXt0aGlzLmFjdGl2ZS5wb3AoKTt9fXRoaXMuc3RhdGU9Q09OU1QuRElTUEFUQ0hFUl9JRExFO319LHRpZHk6ZnVuY3Rpb24gdGlkeSgpey8vICBOb3RoaW5nIHRvIGRvIC4uLlxuaWYodGhpcy5hY3RpdmUubGVuZ3RoPT09MCl7cmV0dXJuO312YXIgYWRkZWQ9MDt2YXIgaT10aGlzLmFjdGl2ZS5sZW5ndGgtMTtkb3tpZih0aGlzLmFjdGl2ZVtpXS5zdGF0ZT09PUNPTlNULkxJU1RFTkVSX1JFTU9WSU5HKXt0aGlzLmFjdGl2ZS5zcGxpY2UoaSwxKTt9ZWxzZSBpZih0aGlzLmFjdGl2ZVtpXS5zdGF0ZT09PUNPTlNULkxJU1RFTkVSX1BFTkRJTkcpe3RoaXMuYWN0aXZlW2ldLnN0YXRlPT09Q09OU1QuTElTVEVORVJfQUNUSVZFO2FkZGVkKys7fWktLTt9d2hpbGUoaT49MCk7aWYoYWRkZWQ+MCl7dGhpcy5hY3RpdmUuc29ydCh0aGlzLnNvcnRIYW5kbGVyKTt9fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLmFjdGl2ZS5sZW5ndGg9MDt0aGlzLmRpc3BhdGNoZXI9dW5kZWZpbmVkO3RoaXMudHlwZT0nJzt0aGlzLnN0YXRlPUNPTlNULkRJU1BBVENIRVJfREVTVFJPWUVEO319KTttb2R1bGUuZXhwb3J0cz1FdmVudEJpbmRpbmc7LyoqKi99LC8qIDM3OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTU1KTt2YXIgRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbiBFdmVudExpc3RlbmVyKHR5cGUsY2FsbGJhY2sscHJpb3JpdHksb25jZSl7cmV0dXJue3R5cGU6dHlwZSxjYWxsYmFjazpjYWxsYmFjayxwcmlvcml0eTpwcmlvcml0eSxvbmNlOm9uY2Usc3RhdGU6Q09OU1QuTElTVEVORVJfUEVORElOR307fTttb2R1bGUuZXhwb3J0cz1FdmVudExpc3RlbmVyOy8qKiovfSwvKiAzODAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBWaXNpYmlsaXR5SGFuZGxlcj1mdW5jdGlvbiBWaXNpYmlsaXR5SGFuZGxlcihldmVudERpc3BhdGNoZXIpe3ZhciBoaWRkZW5WYXI7aWYoZG9jdW1lbnQuaGlkZGVuIT09dW5kZWZpbmVkKXtoaWRkZW5WYXI9J3Zpc2liaWxpdHljaGFuZ2UnO31lbHNle3ZhciB2ZW5kb3JzPVsnd2Via2l0JywnbW96JywnbXMnXTt2ZW5kb3JzLmZvckVhY2goZnVuY3Rpb24ocHJlZml4KXtpZihkb2N1bWVudFtwcmVmaXgrJ0hpZGRlbiddIT09dW5kZWZpbmVkKXtkb2N1bWVudC5oaWRkZW49ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnRbcHJlZml4KydIaWRkZW4nXTt9O2hpZGRlblZhcj1wcmVmaXgrJ3Zpc2liaWxpdHljaGFuZ2UnO319KTt9dmFyIG9uQ2hhbmdlPWZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KXtpZihkb2N1bWVudC5oaWRkZW58fGV2ZW50LnR5cGU9PT0ncGF1c2UnKXtldmVudERpc3BhdGNoZXIuZGlzcGF0Y2gobmV3IEV2ZW50KCdISURERU4nKSk7fWVsc2V7ZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoKG5ldyBFdmVudCgnVklTSUJMRScpKTt9fTsvLyAgRG9lcyBicm93c2VyIHN1cHBvcnQgaXQ/XG4vLyAgSWYgbm90IChsaWtlIGluIElFOSBvciBvbGQgQW5kcm9pZCkgd2UgbmVlZCB0byBmYWxsIGJhY2sgdG8gYmx1ciAvIGZvY3VzXG5pZihoaWRkZW5WYXIpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoaGlkZGVuVmFyLG9uQ2hhbmdlLGZhbHNlKTt9ZWxzZXtjb25zb2xlLmxvZygnRmFsbGJhY2sgVE9ETycpO313aW5kb3cub25ibHVyPWZ1bmN0aW9uKCl7ZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoKG5ldyBFdmVudCgnT05fQkxVUicpKTt9O3dpbmRvdy5vbmZvY3VzPWZ1bmN0aW9uKCl7ZXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoKG5ldyBFdmVudCgnT05fRk9DVVMnKSk7fTt9O21vZHVsZS5leHBvcnRzPVZpc2liaWxpdHlIYW5kbGVyOy8qKiovfSwvKiAzODEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDb21wb25lbnRzPV9fd2VicGFja19yZXF1aXJlX18oMzgyKTt2YXIgRXZlbnREaXNwYXRjaGVyPV9fd2VicGFja19yZXF1aXJlX18oMjUpO3ZhciBNYXA9X193ZWJwYWNrX3JlcXVpcmVfXygxNTgpOy8vIEFuaW1hdGlvbnMgYXJlIG1hbmFnZWQgYnkgdGhlIGdsb2JhbCBBbmltYXRpb25NYW5hZ2VyLiBUaGlzIGlzIGEgc2luZ2xldG9uIGNsYXNzIHRoYXQgaXNcbi8vIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhbmQgZGVsaXZlcmluZyBhbmltYXRpb25zIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGRhdGEgdG8gR2FtZSBPYmplY3RzLlxuLy8gU3ByaXRlcyBhbmQgb3RoZXIgR2FtZSBPYmplY3RzIGdldCB0aGUgZGF0YSB0aGV5IG5lZWQgZnJvbSB0aGUgQW5pbWF0aW9uTWFuYWdlci5cbi8vIEFjY2VzcyBpdCB2aWEgYHNjZW5lLmFuaW1zYC5cbnZhciBBbmltYXRpb25NYW5hZ2VyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBBbmltYXRpb25NYW5hZ2VyKGdhbWUpe3RoaXMuZ2FtZT1nYW1lO3RoaXMudGV4dHVyZU1hbmFnZXI9bnVsbDt0aGlzLmV2ZW50cz1uZXcgRXZlbnREaXNwYXRjaGVyKCk7dGhpcy5nbG9iYWxUaW1lU2NhbGU9MTt0aGlzLmFuaW1zPW5ldyBNYXAoKTt0aGlzLnBhdXNlZD1mYWxzZTt9LGJvb3Q6ZnVuY3Rpb24gYm9vdCh0ZXh0dXJlTWFuYWdlcil7dGhpcy50ZXh0dXJlTWFuYWdlcj10ZXh0dXJlTWFuYWdlcjt9LGFkZDpDb21wb25lbnRzLkFkZEFuaW1hdGlvbixjcmVhdGU6Q29tcG9uZW50cy5DcmVhdGVGcmFtZUFuaW1hdGlvbixmcm9tSlNPTjpDb21wb25lbnRzLkZyb21KU09OLGdlbmVyYXRlRnJhbWVOYW1lczpDb21wb25lbnRzLkdlbmVyYXRlRnJhbWVOYW1lcyxnZW5lcmF0ZUZyYW1lTnVtYmVyczpDb21wb25lbnRzLkdlbmVyYXRlRnJhbWVOdW1iZXJzLGdldDpDb21wb25lbnRzLkdldEFuaW1hdGlvbixsb2FkOkNvbXBvbmVudHMuTG9hZEFuaW1hdGlvblRvR2FtZU9iamVjdCxwbGF5OkNvbXBvbmVudHMuUGxheUFuaW1hdGlvbixwYXVzZUFsbDpDb21wb25lbnRzLlBhdXNlQWxsLHJlbW92ZTpDb21wb25lbnRzLlJlbW92ZUFuaW1hdGlvbixyZXN1bWVBbGw6Q29tcG9uZW50cy5SZXN1bWVBbGwsc3RhZ2dlclBsYXk6Q29tcG9uZW50cy5TdGFnZ2VyUGxheUFuaW1hdGlvbix0b0pTT046Q29tcG9uZW50cy5Ub0pTT04sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7Ly8gIFRPRE9cbn19KTttb2R1bGUuZXhwb3J0cz1BbmltYXRpb25NYW5hZ2VyOy8qKiovfSwvKiAzODIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtBZGRBbmltYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXygzODMpLENyZWF0ZUZyYW1lQW5pbWF0aW9uOl9fd2VicGFja19yZXF1aXJlX18oMzg4KSxGcm9tSlNPTjpfX3dlYnBhY2tfcmVxdWlyZV9fKDQwNyksR2VuZXJhdGVGcmFtZU5hbWVzOl9fd2VicGFja19yZXF1aXJlX18oNDA4KSxHZW5lcmF0ZUZyYW1lTnVtYmVyczpfX3dlYnBhY2tfcmVxdWlyZV9fKDQwOSksR2V0QW5pbWF0aW9uOl9fd2VicGFja19yZXF1aXJlX18oNDEwKSxMb2FkQW5pbWF0aW9uVG9HYW1lT2JqZWN0Ol9fd2VicGFja19yZXF1aXJlX18oNDExKSxQbGF5QW5pbWF0aW9uOl9fd2VicGFja19yZXF1aXJlX18oNDEyKSxQYXVzZUFsbDpfX3dlYnBhY2tfcmVxdWlyZV9fKDQxMyksUmVzdW1lQWxsOl9fd2VicGFja19yZXF1aXJlX18oNDE0KSxSZW1vdmVBbmltYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg0MTUpLFN0YWdnZXJQbGF5QW5pbWF0aW9uOl9fd2VicGFja19yZXF1aXJlX18oNDE2KSxUb0pTT046X193ZWJwYWNrX3JlcXVpcmVfXyg0MTcpfTsvKioqL30sLyogMzgzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7dmFyIEFkZEFuaW1hdGlvbj1mdW5jdGlvbiBBZGRBbmltYXRpb24oa2V5LGFuaW1hdGlvbil7aWYodGhpcy5hbmltcy5oYXMoa2V5KSl7Y29uc29sZS5lcnJvcignQW5pbWF0aW9uIHdpdGgga2V5JyxrZXksJ2FscmVhZHkgZXhpc3RzJyk7cmV0dXJuO31hbmltYXRpb24ua2V5PWtleTt0aGlzLmFuaW1zLnNldChrZXksYW5pbWF0aW9uKTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgRXZlbnQuQUREX0FOSU1BVElPTl9FVkVOVChrZXksYW5pbWF0aW9uKSk7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1BZGRBbmltYXRpb247LyoqKi99LC8qIDM4NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIEFkZEFuaW1hdGlvbkV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIEFkZEFuaW1hdGlvbkV2ZW50KGtleSxhbmltYXRpb24pe0V2ZW50LmNhbGwodGhpcywnQUREX0FOSU1BVElPTl9FVkVOVCcpO3RoaXMua2V5PWtleTt0aGlzLmFuaW1hdGlvbj1hbmltYXRpb247fX0pO21vZHVsZS5leHBvcnRzPUFkZEFuaW1hdGlvbkV2ZW50Oy8qKiovfSwvKiAzODUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBQYXVzZUFsbEFuaW1hdGlvbkV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIFBhdXNlQWxsQW5pbWF0aW9uRXZlbnQoKXtFdmVudC5jYWxsKHRoaXMsJ1BBVVNFX0FMTF9BTklNQVRJT05fRVZFTlQnKTt9fSk7bW9kdWxlLmV4cG9ydHM9UGF1c2VBbGxBbmltYXRpb25FdmVudDsvKioqL30sLyogMzg2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgUmVtb3ZlQW5pbWF0aW9uRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gUmVtb3ZlQW5pbWF0aW9uRXZlbnQoa2V5LGFuaW1hdGlvbil7RXZlbnQuY2FsbCh0aGlzLCdSRU1PVkVfQU5JTUFUSU9OX0VWRU5UJyk7dGhpcy5rZXk9a2V5O3RoaXMuYW5pbWF0aW9uPWFuaW1hdGlvbjt9fSk7bW9kdWxlLmV4cG9ydHM9UmVtb3ZlQW5pbWF0aW9uRXZlbnQ7LyoqKi99LC8qIDM4NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIFJlc3VtZUFsbEFuaW1hdGlvbkV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIFJlc3VtZUFsbEFuaW1hdGlvbkV2ZW50KCl7RXZlbnQuY2FsbCh0aGlzLCdSRVNVTUVfQUxMX0FOSU1BVElPTl9FVkVOVCcpO319KTttb2R1bGUuZXhwb3J0cz1SZXN1bWVBbGxBbmltYXRpb25FdmVudDsvKioqL30sLyogMzg4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg0Myk7dmFyIEFuaW1hdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4OSk7dmFyIENyZWF0ZUZyYW1lQW5pbWF0aW9uPWZ1bmN0aW9uIENyZWF0ZUZyYW1lQW5pbWF0aW9uKGNvbmZpZyl7dmFyIGtleT1jb25maWcua2V5O2lmKCFrZXl8fHRoaXMuYW5pbXMuaGFzKGtleSkpe2NvbnNvbGUud2FybignSW52YWxpZCBBbmltYXRpb24gS2V5LCBvciBLZXkgYWxyZWFkeSBpbiB1c2U6ICcra2V5KTtyZXR1cm47fXZhciBhbmltPW5ldyBBbmltYXRpb24odGhpcyxrZXksY29uZmlnKTt0aGlzLmFuaW1zLnNldChrZXksYW5pbSk7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IEV2ZW50LkFERF9BTklNQVRJT05fRVZFTlQoa2V5LGFuaW0pKTtyZXR1cm4gYW5pbTt9O21vZHVsZS5leHBvcnRzPUNyZWF0ZUZyYW1lQW5pbWF0aW9uOy8qKiovfSwvKiAzODkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBHZXRGcmFtZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxNTYpOy8vICBBIEZyYW1lIGJhc2VkIEFuaW1hdGlvblxuLy8gIFRoaXMgY29uc2lzdHMgb2YgYSBrZXksIHNvbWUgZGVmYXVsdCB2YWx1ZXMgKGxpa2UgdGhlIGZyYW1lIHJhdGUpIGFuZCBhIGJ1bmNoIG9mIEZyYW1lIG9iamVjdHMuXG4vLyAgVGhlIEFuaW1hdGlvbiBNYW5hZ2VyIGNyZWF0ZXMgdGhlc2Vcbi8vICBHYW1lIE9iamVjdHMgZG9uJ3Qgb3duIGFuIGluc3RhbmNlIG9mIHRoZXNlIGRpcmVjdGx5XG4vLyAgR2FtZSBPYmplY3RzIGhhdmUgdGhlIEFuaW1hdGlvbiBDb21wb25lbnQsIHdoaWNoIGFyZSBsaWtlIHBsYXloZWFkcyB0byBnbG9iYWwgQW5pbWF0aW9ucyAodGhlc2Ugb2JqZWN0cylcbi8vICBTbyBtdWx0aXBsZSBHYW1lIE9iamVjdHMgY2FuIGhhdmUgcGxheWhlYWRzIGFsbCBwb2ludGluZyB0byB0aGlzIG9uZSBBbmltYXRpb24gaW5zdGFuY2VcbnZhciBBbmltYXRpb249bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEFuaW1hdGlvbihtYW5hZ2VyLGtleSxjb25maWcpe3RoaXMubWFuYWdlcj1tYW5hZ2VyO3RoaXMua2V5PWtleTsvLyAgQSBmcmFtZSBiYXNlZCBhbmltYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBib25lIGJhc2VkIGFuaW1hdGlvbilcbnRoaXMudHlwZT0nZnJhbWUnOy8vICBFeHRyYWN0IGFsbCB0aGUgZnJhbWUgZGF0YSBpbnRvIHRoZSBmcmFtZXMgYXJyYXlcbnRoaXMuZnJhbWVzPUdldEZyYW1lcyhtYW5hZ2VyLnRleHR1cmVNYW5hZ2VyLEdldFZhbHVlKGNvbmZpZywnZnJhbWVzJyxbXSkpOy8vICBUaGUgZnJhbWUgcmF0ZSBvZiBwbGF5YmFjayBpbiBmcmFtZXMgcGVyIHNlY29uZCAoZGVmYXVsdCAyNCBpZiBkdXJhdGlvbiBpcyBudWxsKVxudGhpcy5mcmFtZVJhdGU9R2V0VmFsdWUoY29uZmlnLCdmcmFtZVJhdGUnLG51bGwpOy8vICBIb3cgbG9uZyB0aGUgYW5pbWF0aW9uIHNob3VsZCBwbGF5IGZvci4gSWYgZnJhbWVSYXRlIGlzIHNldCBpdCBvdmVycmlkZXMgdGhpcyB2YWx1ZVxuLy8gIG90aGVyd2lzZSBmcmFtZVJhdGUgaXMgZGVyaXZlZCBmcm9tIGR1cmF0aW9uXG50aGlzLmR1cmF0aW9uPUdldFZhbHVlKGNvbmZpZywnZHVyYXRpb24nLG51bGwpO2lmKHRoaXMuZHVyYXRpb249PT1udWxsJiZ0aGlzLmZyYW1lUmF0ZT09PW51bGwpey8vICBObyBkdXJhdGlvbiBvciBmcmFtZVJhdGUgZ2l2ZW4sIHVzZSBkZWZhdWx0IGZyYW1lUmF0ZSBvZiAyNGZwc1xudGhpcy5mcmFtZVJhdGU9MjQ7dGhpcy5kdXJhdGlvbj10aGlzLmZyYW1lUmF0ZS90aGlzLmZyYW1lcy5sZW5ndGg7fWVsc2UgaWYodGhpcy5kdXJhdGlvbiYmdGhpcy5mcmFtZVJhdGU9PT1udWxsKXsvLyAgRHVyYXRpb24gZ2l2ZW4gYnV0IG5vIGZyYW1lUmF0ZSwgc28gc2V0IHRoZSBmcmFtZVJhdGUgYmFzZWQgb24gZHVyYXRpb25cbi8vICBJLmUuIDEyIGZyYW1lcyBpbiB0aGUgYW5pbWF0aW9uLCBkdXJhdGlvbiA9IDQgKDQwMDAgbXMpXG4vLyAgU28gZnJhbWVSYXRlIGlzIDEyIC8gNCA9IDMgZnBzXG50aGlzLmZyYW1lUmF0ZT10aGlzLmZyYW1lcy5sZW5ndGgvdGhpcy5kdXJhdGlvbjt9ZWxzZXsvLyAgZnJhbWVSYXRlIGdpdmVuLCBkZXJpdmUgZHVyYXRpb24gZnJvbSBpdCAoZXZlbiBpZiBkdXJhdGlvbiBhbHNvIHNwZWNpZmllZClcbi8vICBJLmUuIDE1IGZyYW1lcyBpbiB0aGUgYW5pbWF0aW9uLCBmcmFtZVJhdGUgPSAzMCBmcHNcbi8vICBTbyBkdXJhdGlvbiBpcyAxNSAvIDMwID0gMC41IChoYWxmIGEgc2Vjb25kKVxudGhpcy5kdXJhdGlvbj10aGlzLmZyYW1lcy5sZW5ndGgvdGhpcy5mcmFtZVJhdGU7fS8vICBtcyBwZXIgZnJhbWUgKHdpdGhvdXQgaW5jbHVkaW5nIGZyYW1lIHNwZWNpZmljIG1vZGlmaWVycylcbnRoaXMubXNQZXJGcmFtZT0xMDAwL3RoaXMuZnJhbWVSYXRlOy8vICBTa2lwIGZyYW1lcyBpZiB0aGUgdGltZSBsYWdzLCBvciBhbHdheXMgYWR2YW5jZWQgYW55d2F5P1xudGhpcy5za2lwTWlzc2VkRnJhbWVzPUdldFZhbHVlKGNvbmZpZywnc2tpcE1pc3NlZEZyYW1lcycsdHJ1ZSk7Ly8gIERlbGF5IGJlZm9yZSBzdGFydGluZyBwbGF5YmFjayAoaW4gc2Vjb25kcylcbnRoaXMuZGVsYXk9R2V0VmFsdWUoY29uZmlnLCdkZWxheScsMCk7Ly8gIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIGFuaW1hdGlvbiAoLTEgZm9yIGluZmluaXR5KVxudGhpcy5yZXBlYXQ9R2V0VmFsdWUoY29uZmlnLCdyZXBlYXQnLDApOy8vICBEZWxheSBiZWZvcmUgdGhlIHJlcGVhdCBzdGFydHMgKGluIHNlY29uZHMpXG50aGlzLnJlcGVhdERlbGF5PUdldFZhbHVlKGNvbmZpZywncmVwZWF0RGVsYXknLDApOy8vICBTaG91bGQgdGhlIGFuaW1hdGlvbiB5b3lvPyAocmV2ZXJzZSBiYWNrIGRvd24gdG8gdGhlIHN0YXJ0KSBiZWZvcmUgcmVwZWF0aW5nP1xudGhpcy55b3lvPUdldFZhbHVlKGNvbmZpZywneW95bycsZmFsc2UpOy8vICBTaG91bGQgc3ByaXRlLnZpc2libGUgPSB0cnVlIHdoZW4gdGhlIGFuaW1hdGlvbiBzdGFydHMgdG8gcGxheT9cbnRoaXMuc2hvd09uU3RhcnQ9R2V0VmFsdWUoY29uZmlnLCdzaG93T25TdGFydCcsZmFsc2UpOy8vICBTaG91bGQgc3ByaXRlLnZpc2libGUgPSBmYWxzZSB3aGVuIHRoZSBhbmltYXRpb24gZmluaXNoZXM/XG50aGlzLmhpZGVPbkNvbXBsZXRlPUdldFZhbHVlKGNvbmZpZywnaGlkZU9uQ29tcGxldGUnLGZhbHNlKTsvLyAgQ2FsbGJhY2tzXG50aGlzLmNhbGxiYWNrU2NvcGU9R2V0VmFsdWUoY29uZmlnLCdjYWxsYmFja1Njb3BlJyx0aGlzKTt0aGlzLm9uU3RhcnQ9R2V0VmFsdWUoY29uZmlnLCdvblN0YXJ0JyxmYWxzZSk7dGhpcy5vblN0YXJ0UGFyYW1zPUdldFZhbHVlKGNvbmZpZywnb25TdGFydFBhcmFtcycsW10pO3RoaXMub25SZXBlYXQ9R2V0VmFsdWUoY29uZmlnLCdvblJlcGVhdCcsZmFsc2UpO3RoaXMub25SZXBlYXRQYXJhbXM9R2V0VmFsdWUoY29uZmlnLCdvblJlcGVhdFBhcmFtcycsW10pOy8vICBDYWxsZWQgZm9yIEVWRVJZIGZyYW1lIG9mIHRoZSBhbmltYXRpb24uXG4vLyAgU2VlIEFuaW1hdGlvbkZyYW1lLm9uVXBkYXRlIGZvciBhIGZyYW1lIHNwZWNpZmljIGNhbGxiYWNrLlxudGhpcy5vblVwZGF0ZT1HZXRWYWx1ZShjb25maWcsJ29uVXBkYXRlJyxmYWxzZSk7dGhpcy5vblVwZGF0ZVBhcmFtcz1HZXRWYWx1ZShjb25maWcsJ29uVXBkYXRlUGFyYW1zJyxbXSk7dGhpcy5vbkNvbXBsZXRlPUdldFZhbHVlKGNvbmZpZywnb25Db21wbGV0ZScsZmFsc2UpO3RoaXMub25Db21wbGV0ZVBhcmFtcz1HZXRWYWx1ZShjb25maWcsJ29uQ29tcGxldGVQYXJhbXMnLFtdKTsvLyAgR2xvYmFsIHBhdXNlLCBlZmZlY3RzIGFsbCBHYW1lIE9iamVjdHMgdXNpbmcgdGhpcyBBbmltYXRpb24gaW5zdGFuY2VcbnRoaXMucGF1c2VkPWZhbHNlO3RoaXMubWFuYWdlci5ldmVudHMub24oJ1BBVVNFX0FMTF9BTklNQVRJT05fRVZFTlQnLHRoaXMucGF1c2UuYmluZCh0aGlzKSk7dGhpcy5tYW5hZ2VyLmV2ZW50cy5vbignUkVTVU1FX0FMTF9BTklNQVRJT05fRVZFTlQnLHRoaXMucmVzdW1lLmJpbmQodGhpcykpO30sYWRkRnJhbWU6X193ZWJwYWNrX3JlcXVpcmVfXygzOTEpLGFkZEZyYW1lQXQ6X193ZWJwYWNrX3JlcXVpcmVfXygzOTIpLGNoZWNrRnJhbWU6X193ZWJwYWNrX3JlcXVpcmVfXygzOTMpLGNvbXBsZXRlQW5pbWF0aW9uOl9fd2VicGFja19yZXF1aXJlX18oMzk0KSxnZXRGaXJzdFRpY2s6X193ZWJwYWNrX3JlcXVpcmVfXygzOTUpLGdldEZyYW1lQXQ6X193ZWJwYWNrX3JlcXVpcmVfXygzOTYpLGdldE5leHRUaWNrOl9fd2VicGFja19yZXF1aXJlX18oMzk3KSxsb2FkOl9fd2VicGFja19yZXF1aXJlX18oMzk4KSxuZXh0RnJhbWU6X193ZWJwYWNrX3JlcXVpcmVfXygzOTkpLHByZXZpb3VzRnJhbWU6X193ZWJwYWNrX3JlcXVpcmVfXyg0MDApLHJlbW92ZUZyYW1lOl9fd2VicGFja19yZXF1aXJlX18oNDAxKSxyZW1vdmVGcmFtZUF0Ol9fd2VicGFja19yZXF1aXJlX18oNDAyKSxyZXBlYXRBbmltYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg0MDMpLHNldEZyYW1lOl9fd2VicGFja19yZXF1aXJlX18oNDA0KSx0b0pTT046X193ZWJwYWNrX3JlcXVpcmVfXyg0MDUpLHVwZGF0ZUZyYW1lU2VxdWVuY2U6X193ZWJwYWNrX3JlcXVpcmVfXyg0MDYpLHBhdXNlOmZ1bmN0aW9uIHBhdXNlKCl7dGhpcy5wYXVzZWQ9dHJ1ZTt9LHJlc3VtZTpmdW5jdGlvbiByZXN1bWUoKXt0aGlzLnBhdXNlZD1mYWxzZTt9LGRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe319KTttb2R1bGUuZXhwb3J0cz1BbmltYXRpb247LyoqKi99LC8qIDM5MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGcmFtZT1mdW5jdGlvbiBGcmFtZSh0ZXh0dXJlS2V5LHRleHR1cmVGcmFtZSxpbmRleCxmcmFtZSl7Ly8gIFRoZSBrZXlzIGludG8gdGhlIFRleHR1cmUgTWFuYWdlciBvZiB0aGUgdGV4dHVyZSArIGZyYW1lIHRoaXMgdXNlc1xudGhpcy50ZXh0dXJlS2V5PXRleHR1cmVLZXk7dGhpcy50ZXh0dXJlRnJhbWU9dGV4dHVyZUZyYW1lOy8vICBUaGUgaW5kZXggb2YgdGhpcyBmcmFtZSB3aXRoaW4gdGhlIEFuaW1hdGlvbi5mcmFtZXMgYXJyYXlcbnRoaXMuaW5kZXg9aW5kZXg7Ly8gIFRleHR1cmUgRnJhbWVcbnRoaXMuZnJhbWU9ZnJhbWU7Ly8gIFJlYWQtb25seVxudGhpcy5pc0ZpcnN0PWZhbHNlOy8vICBSZWFkLW9ubHlcbnRoaXMuaXNMYXN0PWZhbHNlOy8vICBUaGUgZnJhbWUgdGhhdCBjb21lcyBiZWZvcmUgdGhpcyBvbmUgaW4gdGhlIGFuaW1hdGlvbiAoaWYgYW55KVxuLy8gIFJlYWQtb25seVxudGhpcy5wcmV2RnJhbWU9bnVsbDsvLyAgVGhlIGZyYW1lIHRoYXQgY29tZXMgYWZ0ZXIgdGhpcyBvbmUgaW4gdGhlIGFuaW1hdGlvbiAoaWYgYW55KVxuLy8gIFJlYWQtb25seVxudGhpcy5uZXh0RnJhbWU9bnVsbDsvLyAgIEFkZGl0aW9uYWwgdGltZSAoaW4gbXMpIHRoaXMgZnJhbWUgc2hvdWxkIGFwcGVhciBmb3IgLSBhZGRlZCBvbnRvIHRoZSBtc1BlckZyYW1lXG50aGlzLmR1cmF0aW9uPTA7Ly8gICBXaGF0ICUgdGhyb3VnaCB0aGUgYW5pbWF0aW9uIHByb2dyZXNzIGlzIHRoaXMgZnJhbWU/XG4vLyAgUmVhZC1vbmx5XG50aGlzLnByb2dyZXNzPTA7Ly8gIENhbGxiYWNrIGlmIHRoaXMgZnJhbWUgZ2V0cyBkaXNwbGF5ZWRcbnRoaXMub25VcGRhdGU9bnVsbDsvLyAgV2hlbiB0aGlzIGZyYW1lIGhpdHMsIHNldCBzcHJpdGUudmlzaWJsZSB0byB0aGlzXG50aGlzLnNldFZpc2libGU9ZmFsc2U7dGhpcy52aXNpYmxlPWZhbHNlO307RnJhbWUucHJvdG90eXBlLmNvbnN0cnVjdG9yPUZyYW1lO0ZyYW1lLnByb3RvdHlwZT17dG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3JldHVybntrZXk6dGhpcy50ZXh0dXJlS2V5LGZyYW1lOnRoaXMudGV4dHVyZUZyYW1lLGR1cmF0aW9uOnRoaXMuZHVyYXRpb24sdmlzaWJsZTp0aGlzLnZpc2libGV9O30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5mcmFtZT11bmRlZmluZWQ7dGhpcy5vblVwZGF0ZT11bmRlZmluZWQ7fX07bW9kdWxlLmV4cG9ydHM9RnJhbWU7LyoqKi99LC8qIDM5MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBjb25maWcgPSBBcnJheSBvZiBBbmltYXRpb24gY29uZmlnIG9iamVjdHMsIGxpa2U6XG4vLyAgW1xuLy8gICAgICB7IGtleTogJ2dlbXMnLCBmcmFtZTogJ2RpYW1vbmQwMDAxJywgW2R1cmF0aW9uXSwgW3Zpc2libGVdLCBbb25VcGRhdGVdIH1cbi8vICBdXG4vLyAgQWRkIGZyYW1lcyB0byB0aGUgZW5kIG9mIHRoZSBhbmltYXRpb25cbnZhciBBZGRGcmFtZT1mdW5jdGlvbiBBZGRGcmFtZShjb25maWcpe3JldHVybiB0aGlzLmFkZEZyYW1lQXQodGhpcy5mcmFtZXMubGVuZ3RoLGNvbmZpZyk7fTttb2R1bGUuZXhwb3J0cz1BZGRGcmFtZTsvKioqL30sLyogMzkyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0RnJhbWVzPV9fd2VicGFja19yZXF1aXJlX18oMTU2KTsvLyAgY29uZmlnID0gQXJyYXkgb2YgQW5pbWF0aW9uIGNvbmZpZyBvYmplY3RzLCBsaWtlOlxuLy8gIFtcbi8vICAgICAgeyBrZXk6ICdnZW1zJywgZnJhbWU6ICdkaWFtb25kMDAwMScsIFtkdXJhdGlvbl0sIFt2aXNpYmxlXSwgW29uVXBkYXRlXSB9XG4vLyAgXVxuLy8gIEFkZCBmcmFtZS9zIGludG8gdGhlIGFuaW1hdGlvblxudmFyIEFkZEZyYW1lQXQ9ZnVuY3Rpb24gQWRkRnJhbWVBdChpbmRleCxjb25maWcpe2lmKGluZGV4PT09dW5kZWZpbmVkKXtpbmRleD0wO312YXIgbmV3RnJhbWVzPUdldEZyYW1lcyh0aGlzLm1hbmFnZXIudGV4dHVyZU1hbmFnZXIsY29uZmlnKTtpZihuZXdGcmFtZXMubGVuZ3RoPjApe2lmKGluZGV4PT09MCl7dGhpcy5mcmFtZXM9bmV3RnJhbWVzLmNvbmNhdCh0aGlzLmZyYW1lcyk7fWVsc2UgaWYoaW5kZXg9PT10aGlzLmZyYW1lcy5sZW5ndGgpe3RoaXMuZnJhbWVzPXRoaXMuZnJhbWVzLmNvbmNhdChuZXdGcmFtZXMpO31lbHNle3ZhciBwcmU9dGhpcy5mcmFtZXMuc2xpY2UoMCxpbmRleCk7dmFyIHBvc3Q9dGhpcy5mcmFtZXMuc2xpY2UoaW5kZXgpO3RoaXMuZnJhbWVzPXByZS5jb25jYXQobmV3RnJhbWVzLHBvc3QpO310aGlzLnVwZGF0ZUZyYW1lU2VxdWVuY2UoKTt9cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1BZGRGcmFtZUF0Oy8qKiovfSwvKiAzOTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ2hlY2tGcmFtZT1mdW5jdGlvbiBDaGVja0ZyYW1lKGluZGV4KXtyZXR1cm4gaW5kZXg8dGhpcy5mcmFtZXMubGVuZ3RoO307bW9kdWxlLmV4cG9ydHM9Q2hlY2tGcmFtZTsvKioqL30sLyogMzk0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENvbXBsZXRlQW5pbWF0aW9uPWZ1bmN0aW9uIENvbXBsZXRlQW5pbWF0aW9uKGNvbXBvbmVudCl7aWYodGhpcy5oaWRlT25Db21wbGV0ZSl7Y29tcG9uZW50LnBhcmVudC52aXNpYmxlPWZhbHNlO31jb21wb25lbnQuc3RvcCh0cnVlKTt9O21vZHVsZS5leHBvcnRzPUNvbXBsZXRlQW5pbWF0aW9uOy8qKiovfSwvKiAzOTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0Rmlyc3RUaWNrPWZ1bmN0aW9uIEdldEZpcnN0VGljayhjb21wb25lbnQsaW5jbHVkZURlbGF5KXtpZihpbmNsdWRlRGVsYXk9PT11bmRlZmluZWQpe2luY2x1ZGVEZWxheT10cnVlO30vLyAgV2hlbiBpcyB0aGUgZmlyc3QgdXBkYXRlIGR1ZT9cbmNvbXBvbmVudC5hY2N1bXVsYXRvcj0wO2NvbXBvbmVudC5uZXh0VGljaz1jb21wb25lbnQubXNQZXJGcmFtZStjb21wb25lbnQuY3VycmVudEZyYW1lLmR1cmF0aW9uO2lmKGluY2x1ZGVEZWxheSl7Y29tcG9uZW50Lm5leHRUaWNrKz1jb21wb25lbnQuX2RlbGF5KjEwMDA7fX07bW9kdWxlLmV4cG9ydHM9R2V0Rmlyc3RUaWNrOy8qKiovfSwvKiAzOTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0RnJhbWVBdD1mdW5jdGlvbiBHZXRGcmFtZUF0KGluZGV4KXtyZXR1cm4gdGhpcy5mcmFtZXNbaW5kZXhdO307bW9kdWxlLmV4cG9ydHM9R2V0RnJhbWVBdDsvKioqL30sLyogMzk3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldE5leHRUaWNrPWZ1bmN0aW9uIEdldE5leHRUaWNrKGNvbXBvbmVudCl7Ly8gYWNjdW11bGF0b3IgKz0gZGVsdGEgKiBfdGltZVNjYWxlXG4vLyBhZnRlciBhIGxhcmdlIGRlbHRhIHN1cmdlIChwZXJmIGlzc3VlIGZvciBleGFtcGxlKSB3ZSBuZWVkIHRvIGFkanVzdCBmb3IgaXQgaGVyZVxuLy8gIFdoZW4gaXMgdGhlIG5leHQgdXBkYXRlIGR1ZT9cbmNvbXBvbmVudC5hY2N1bXVsYXRvci09Y29tcG9uZW50Lm5leHRUaWNrO2NvbXBvbmVudC5uZXh0VGljaz1jb21wb25lbnQubXNQZXJGcmFtZStjb21wb25lbnQuY3VycmVudEZyYW1lLmR1cmF0aW9uO307bW9kdWxlLmV4cG9ydHM9R2V0TmV4dFRpY2s7LyoqKi99LC8qIDM5OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBMb2FkPWZ1bmN0aW9uIExvYWQoY29tcG9uZW50LHN0YXJ0RnJhbWUpe2lmKHN0YXJ0RnJhbWU+PXRoaXMuZnJhbWVzLmxlbmd0aCl7c3RhcnRGcmFtZT0wO31pZihjb21wb25lbnQuY3VycmVudEFuaW0hPT10aGlzKXtjb21wb25lbnQuY3VycmVudEFuaW09dGhpcztjb21wb25lbnQuX3RpbWVTY2FsZT0xO2NvbXBvbmVudC5mcmFtZVJhdGU9dGhpcy5mcmFtZVJhdGU7Y29tcG9uZW50LmR1cmF0aW9uPXRoaXMuZHVyYXRpb247Y29tcG9uZW50Lm1zUGVyRnJhbWU9dGhpcy5tc1BlckZyYW1lO2NvbXBvbmVudC5za2lwTWlzc2VkRnJhbWVzPXRoaXMuc2tpcE1pc3NlZEZyYW1lcztjb21wb25lbnQuX2RlbGF5PXRoaXMuZGVsYXk7Y29tcG9uZW50Ll9yZXBlYXQ9dGhpcy5yZXBlYXQ7Y29tcG9uZW50Ll9yZXBlYXREZWxheT10aGlzLnJlcGVhdERlbGF5O2NvbXBvbmVudC5feW95bz10aGlzLnlveW87Y29tcG9uZW50Ll9jYWxsYmFja0FyZ3NbMV09dGhpcztjb21wb25lbnQuX3VwZGF0ZVBhcmFtcz1jb21wb25lbnQuX2NhbGxiYWNrQXJncy5jb25jYXQodGhpcy5vblVwZGF0ZVBhcmFtcyk7fWNvbXBvbmVudC51cGRhdGVGcmFtZSh0aGlzLmZyYW1lc1tzdGFydEZyYW1lXSk7fTttb2R1bGUuZXhwb3J0cz1Mb2FkOy8qKiovfSwvKiAzOTkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgTmV4dEZyYW1lPWZ1bmN0aW9uIE5leHRGcmFtZShjb21wb25lbnQpe3ZhciBmcmFtZT1jb21wb25lbnQuY3VycmVudEZyYW1lOy8vICBUT0RPOiBBZGQgZnJhbWUgc2tpcCBzdXBwb3J0XG5pZihmcmFtZS5pc0xhc3Qpey8vICBXZSdyZSBhdCB0aGUgZW5kIG9mIHRoZSBhbmltYXRpb25cbi8vICBZb3lvPyAoaGFwcGVucyBiZWZvcmUgcmVwZWF0KVxuaWYodGhpcy55b3lvKXtjb21wb25lbnQuZm9yd2FyZD1mYWxzZTtjb21wb25lbnQudXBkYXRlRnJhbWUoZnJhbWUucHJldkZyYW1lKTsvLyAgRGVsYXkgZm9yIHRoZSBjdXJyZW50IGZyYW1lXG50aGlzLmdldE5leHRUaWNrKGNvbXBvbmVudCk7fWVsc2UgaWYoY29tcG9uZW50LnJlcGVhdENvdW50ZXI+MCl7Ly8gIFJlcGVhdCAoaGFwcGVucyBiZWZvcmUgY29tcGxldGUpXG50aGlzLnJlcGVhdEFuaW1hdGlvbihjb21wb25lbnQpO31lbHNle3RoaXMuY29tcGxldGVBbmltYXRpb24oY29tcG9uZW50KTt9fWVsc2V7Y29tcG9uZW50LnVwZGF0ZUZyYW1lKGZyYW1lLm5leHRGcmFtZSk7dGhpcy5nZXROZXh0VGljayhjb21wb25lbnQpO319O21vZHVsZS5leHBvcnRzPU5leHRGcmFtZTsvKioqL30sLyogNDAwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFByZXZpb3VzRnJhbWU9ZnVuY3Rpb24gUHJldmlvdXNGcmFtZShjb21wb25lbnQpe3ZhciBmcmFtZT1jb21wb25lbnQuY3VycmVudEZyYW1lOy8vICBUT0RPOiBBZGQgZnJhbWUgc2tpcCBzdXBwb3J0XG5pZihmcmFtZS5pc0ZpcnN0KXsvLyAgV2UncmUgYXQgdGhlIHN0YXJ0IG9mIHRoZSBhbmltYXRpb25cbmlmKGNvbXBvbmVudC5yZXBlYXRDb3VudGVyPjApey8vICBSZXBlYXQgKGhhcHBlbnMgYmVmb3JlIGNvbXBsZXRlKVxudGhpcy5yZXBlYXRBbmltYXRpb24oY29tcG9uZW50KTt9ZWxzZXt0aGlzLmNvbXBsZXRlQW5pbWF0aW9uKGNvbXBvbmVudCk7fX1lbHNle2NvbXBvbmVudC51cGRhdGVGcmFtZShmcmFtZS5wcmV2RnJhbWUpO3RoaXMuZ2V0TmV4dFRpY2soY29tcG9uZW50KTt9fTttb2R1bGUuZXhwb3J0cz1QcmV2aW91c0ZyYW1lOy8qKiovfSwvKiA0MDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgUmVtb3ZlIGZyYW1lIGlmIGl0IG1hdGNoZXMgdGhlIGdpdmVuIGZyYW1lXG52YXIgUmVtb3ZlRnJhbWU9ZnVuY3Rpb24gUmVtb3ZlRnJhbWUoZnJhbWUpe3ZhciBpbmRleD10aGlzLmZyYW1lcy5pbmRleE9mKGZyYW1lKTtpZihpbmRleCE9PS0xKXt0aGlzLnJlbW92ZUZyYW1lQXQoaW5kZXgpO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVJlbW92ZUZyYW1lOy8qKiovfSwvKiA0MDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVtb3ZlRnJhbWVBdD1mdW5jdGlvbiBSZW1vdmVGcmFtZUF0KGluZGV4KXt0aGlzLmZyYW1lcy5zcGxpY2UoaW5kZXgsMSk7dGhpcy51cGRhdGVGcmFtZVNlcXVlbmNlKCk7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1SZW1vdmVGcmFtZUF0Oy8qKiovfSwvKiA0MDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVwZWF0QW5pbWF0aW9uPWZ1bmN0aW9uIFJlcGVhdEFuaW1hdGlvbihjb21wb25lbnQpe2lmKGNvbXBvbmVudC5fcmVwZWF0RGVsYXk+MCYmY29tcG9uZW50LnBlbmRpbmdSZXBlYXQ9PT1mYWxzZSl7Y29tcG9uZW50LnBlbmRpbmdSZXBlYXQ9dHJ1ZTtjb21wb25lbnQuYWNjdW11bGF0b3ItPWNvbXBvbmVudC5uZXh0VGljaztjb21wb25lbnQubmV4dFRpY2srPWNvbXBvbmVudC5fcmVwZWF0RGVsYXkqMTAwMDt9ZWxzZXtjb21wb25lbnQucmVwZWF0Q291bnRlci0tO2NvbXBvbmVudC5mb3J3YXJkPXRydWU7Y29tcG9uZW50LnVwZGF0ZUZyYW1lKGNvbXBvbmVudC5jdXJyZW50RnJhbWUubmV4dEZyYW1lKTt0aGlzLmdldE5leHRUaWNrKGNvbXBvbmVudCk7Y29tcG9uZW50LnBlbmRpbmdSZXBlYXQ9ZmFsc2U7aWYodGhpcy5vblJlcGVhdCl7dGhpcy5vblJlcGVhdC5hcHBseSh0aGlzLmNhbGxiYWNrU2NvcGUsY29tcG9uZW50Ll9jYWxsYmFja0FyZ3MuY29uY2F0KHRoaXMub25SZXBlYXRQYXJhbXMpKTt9fX07bW9kdWxlLmV4cG9ydHM9UmVwZWF0QW5pbWF0aW9uOy8qKiovfSwvKiA0MDQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0RnJhbWU9ZnVuY3Rpb24gU2V0RnJhbWUoY29tcG9uZW50KXsvLyAgV29yayBvdXQgd2hpY2ggZnJhbWUgc2hvdWxkIGJlIHNldCBuZXh0IG9uIHRoZSBjaGlsZCwgYW5kIHNldCBpdFxuaWYoY29tcG9uZW50LmZvcndhcmQpe3RoaXMubmV4dEZyYW1lKGNvbXBvbmVudCk7fWVsc2V7dGhpcy5wcmV2aW91c0ZyYW1lKGNvbXBvbmVudCk7fX07bW9kdWxlLmV4cG9ydHM9U2V0RnJhbWU7LyoqKi99LC8qIDQwNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBUb0pTT049ZnVuY3Rpb24gVG9KU09OKCl7dmFyIG91dHB1dD17a2V5OnRoaXMua2V5LHR5cGU6dGhpcy50eXBlLGZyYW1lczpbXSxmcmFtZVJhdGU6dGhpcy5mcmFtZVJhdGUsZHVyYXRpb246dGhpcy5kdXJhdGlvbixza2lwTWlzc2VkRnJhbWVzOnRoaXMuc2tpcE1pc3NlZEZyYW1lcyxkZWxheTp0aGlzLmRlbGF5LHJlcGVhdDp0aGlzLnJlcGVhdCxyZXBlYXREZWxheTp0aGlzLnJlcGVhdERlbGF5LHlveW86dGhpcy55b3lvLHNob3dPblN0YXJ0OnRoaXMuc2hvd09uU3RhcnQsaGlkZU9uQ29tcGxldGU6dGhpcy5oaWRlT25Db21wbGV0ZX07dGhpcy5mcmFtZXMuZm9yRWFjaChmdW5jdGlvbihmcmFtZSl7b3V0cHV0LmZyYW1lcy5wdXNoKGZyYW1lLnRvSlNPTigpKTt9KTtyZXR1cm4gb3V0cHV0O307bW9kdWxlLmV4cG9ydHM9VG9KU09OOy8qKiovfSwvKiA0MDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVXBkYXRlRnJhbWVTZXF1ZW5jZT1mdW5jdGlvbiBVcGRhdGVGcmFtZVNlcXVlbmNlKCl7dmFyIGxlbj10aGlzLmZyYW1lcy5sZW5ndGg7dmFyIHNsaWNlPTEvKGxlbi0xKTtmb3IodmFyIGk9MDtpPGxlbjtpKyspe3ZhciBmcmFtZT10aGlzLmZyYW1lc1tpXTtmcmFtZS5pbmRleD1pKzE7ZnJhbWUuaXNGaXJzdD1mYWxzZTtmcmFtZS5pc0xhc3Q9ZmFsc2U7ZnJhbWUucHJvZ3Jlc3M9aSpzbGljZTtpZihpPT09MCl7ZnJhbWUuaXNGaXJzdD10cnVlO2ZyYW1lLmlzTGFzdD1sZW49PT0xO2ZyYW1lLnByZXZGcmFtZT10aGlzLmZyYW1lc1tsZW4tMV07ZnJhbWUubmV4dEZyYW1lPXRoaXMuZnJhbWVzW2krMV07fWVsc2UgaWYoaT09PWxlbi0xKXtmcmFtZS5pc0xhc3Q9dHJ1ZTtmcmFtZS5wcmV2RnJhbWU9dGhpcy5mcmFtZXNbbGVuLTJdO2ZyYW1lLm5leHRGcmFtZT10aGlzLmZyYW1lc1swXTt9ZWxzZSBpZihsZW4+MSl7ZnJhbWUucHJldkZyYW1lPXRoaXMuZnJhbWVzW2ktMV07ZnJhbWUubmV4dEZyYW1lPXRoaXMuZnJhbWVzW2krMV07fX1yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVVwZGF0ZUZyYW1lU2VxdWVuY2U7LyoqKi99LC8qIDQwNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGcm9tSlNPTj1mdW5jdGlvbiBGcm9tSlNPTihkYXRhLGNsZWFyQ3VycmVudEFuaW1hdGlvbnMpe2lmKGNsZWFyQ3VycmVudEFuaW1hdGlvbnM9PT11bmRlZmluZWQpe2NsZWFyQ3VycmVudEFuaW1hdGlvbnM9ZmFsc2U7fWlmKGNsZWFyQ3VycmVudEFuaW1hdGlvbnMpe3RoaXMuYW5pbXMuY2xlYXIoKTt9Ly8gIERvIHdlIGhhdmUgYSBTdHJpbmcgKGkuZS4gZnJvbSBKU09OLCBvciBhbiBPYmplY3Q/KVxuaWYodHlwZW9mIGRhdGE9PT0nc3RyaW5nJyl7ZGF0YT1KU09OLnBhcnNlKGRhdGEpO312YXIgb3V0cHV0PVtdOy8vICBBcnJheSBvZiBhbmltYXRpb25zLCBvciBhIHNpbmdsZSBhbmltYXRpb24/XG5pZihkYXRhLmhhc093blByb3BlcnR5KCdhbmltcycpJiZBcnJheS5pc0FycmF5KGRhdGEuYW5pbXMpKXtmb3IodmFyIGk9MDtpPGRhdGEuYW5pbXMubGVuZ3RoO2krKyl7b3V0cHV0LnB1c2godGhpcy5jcmVhdGUoZGF0YS5hbmltc1tpXSkpO31pZihkYXRhLmhhc093blByb3BlcnR5KCdnbG9iYWxUaW1lU2NhbGUnKSl7dGhpcy5nbG9iYWxUaW1lU2NhbGU9ZGF0YS5nbG9iYWxUaW1lU2NhbGU7fX1lbHNlIGlmKGRhdGEuaGFzT3duUHJvcGVydHkoJ2tleScpJiZkYXRhLnR5cGU9PT0nZnJhbWUnKXtvdXRwdXQucHVzaCh0aGlzLmNyZWF0ZShkYXRhKSk7fXJldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1Gcm9tSlNPTjsvKioqL30sLyogNDA4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgUGFkPV9fd2VicGFja19yZXF1aXJlX18oMTU3KTt2YXIgR2VuZXJhdGVGcmFtZU5hbWVzPWZ1bmN0aW9uIEdlbmVyYXRlRnJhbWVOYW1lcyhrZXksY29uZmlnKXt2YXIgcHJlZml4PUdldFZhbHVlKGNvbmZpZywncHJlZml4JywnJyk7dmFyIHN0YXJ0PUdldFZhbHVlKGNvbmZpZywnc3RhcnQnLDApO3ZhciBlbmQ9R2V0VmFsdWUoY29uZmlnLCdlbmQnLDApO3ZhciBzdWZmaXg9R2V0VmFsdWUoY29uZmlnLCdzdWZmaXgnLCcnKTt2YXIgemVyb1BhZD1HZXRWYWx1ZShjb25maWcsJ3plcm9QYWQnLDApO3ZhciBvdXQ9R2V0VmFsdWUoY29uZmlnLCdvdXRwdXRBcnJheScsW10pO3ZhciBmcmFtZXM9R2V0VmFsdWUoY29uZmlnLCdmcmFtZXMnLGZhbHNlKTt2YXIgdGV4dHVyZT10aGlzLnRleHR1cmVNYW5hZ2VyLmdldChrZXkpO2lmKCF0ZXh0dXJlKXtyZXR1cm4gb3V0O312YXIgZGlmZj1zdGFydDxlbmQ/MTotMTsvLyAgQWRqdXN0IGJlY2F1c2Ugd2UgdXNlIGkgIT09IGVuZCBpbiB0aGUgZm9yIGxvb3BcbmVuZCs9ZGlmZjt2YXIgaTt2YXIgZnJhbWU7Ly8gIEhhdmUgdGhleSBwcm92aWRlZCB0aGVpciBvd24gY3VzdG9tIGZyYW1lIHNlcXVlbmNlIGFycmF5P1xuaWYoQXJyYXkuaXNBcnJheShmcmFtZXMpKXtmb3IoaT0wO2k8ZnJhbWVzLmxlbmd0aDtpKyspe2ZyYW1lPXByZWZpeCtQYWQoZnJhbWVzW2ldLHplcm9QYWQsJzAnLDEpK3N1ZmZpeDtpZih0ZXh0dXJlLmhhcyhmcmFtZSkpe291dC5wdXNoKHtrZXk6a2V5LGZyYW1lOmZyYW1lfSk7fX19ZWxzZXtmb3IoaT1zdGFydDtpIT09ZW5kO2krPWRpZmYpe2ZyYW1lPXByZWZpeCtQYWQoaSx6ZXJvUGFkLCcwJywxKStzdWZmaXg7aWYodGV4dHVyZS5oYXMoZnJhbWUpKXtvdXQucHVzaCh7a2V5OmtleSxmcmFtZTpmcmFtZX0pO319fXJldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1HZW5lcmF0ZUZyYW1lTmFtZXM7LyoqKi99LC8qIDQwOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIEdlbmVyYXRlRnJhbWVOdW1iZXJzPWZ1bmN0aW9uIEdlbmVyYXRlRnJhbWVOdW1iZXJzKGtleSxjb25maWcpe3ZhciBzdGFydEZyYW1lPUdldFZhbHVlKGNvbmZpZywnc3RhcnQnLDApO3ZhciBlbmRGcmFtZT1HZXRWYWx1ZShjb25maWcsJ2VuZCcsLTEpO3ZhciBmaXJzdEZyYW1lPUdldFZhbHVlKGNvbmZpZywnZmlyc3QnLGZhbHNlKTt2YXIgb3V0PUdldFZhbHVlKGNvbmZpZywnb3V0cHV0QXJyYXknLFtdKTt2YXIgZnJhbWVzPUdldFZhbHVlKGNvbmZpZywnZnJhbWVzJyxmYWxzZSk7dmFyIHRleHR1cmU9dGhpcy50ZXh0dXJlTWFuYWdlci5nZXQoa2V5KTtpZighdGV4dHVyZSl7cmV0dXJuIG91dDt9aWYoZmlyc3RGcmFtZSYmdGV4dHVyZS5oYXMoZmlyc3RGcmFtZSkpe291dC5wdXNoKHtrZXk6a2V5LGZyYW1lOmZpcnN0RnJhbWV9KTt9dmFyIGk7Ly8gIEhhdmUgdGhleSBwcm92aWRlZCB0aGVpciBvd24gY3VzdG9tIGZyYW1lIHNlcXVlbmNlIGFycmF5P1xuaWYoQXJyYXkuaXNBcnJheShmcmFtZXMpKXtmb3IoaT0wO2k8ZnJhbWVzLmxlbmd0aDtpKyspe2lmKHRleHR1cmUuaGFzKGZyYW1lc1tpXSkpe291dC5wdXNoKHtrZXk6a2V5LGZyYW1lOmZyYW1lc1tpXX0pO319fWVsc2V7Ly8gIE5vIGVuZEZyYW1lIHRoZW4gc2VlIGlmIHdlIGNhbiBnZXQgaXRcbmlmKGVuZEZyYW1lPT09LTEpe2VuZEZyYW1lPXRleHR1cmUuZnJhbWVUb3RhbDt9Zm9yKGk9c3RhcnRGcmFtZTtpPD1lbmRGcmFtZTtpKyspe2lmKHRleHR1cmUuaGFzKGkpKXtvdXQucHVzaCh7a2V5OmtleSxmcmFtZTppfSk7fX19cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUdlbmVyYXRlRnJhbWVOdW1iZXJzOy8qKiovfSwvKiA0MTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0QW5pbWF0aW9uPWZ1bmN0aW9uIEdldEFuaW1hdGlvbihrZXkpe3JldHVybiB0aGlzLmFuaW1zLmdldChrZXkpO307bW9kdWxlLmV4cG9ydHM9R2V0QW5pbWF0aW9uOy8qKiovfSwvKiA0MTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgTG9hZCBhbiBBbmltYXRpb24gaW50byBhIEdhbWUgT2JqZWN0cyBBbmltYXRpb24gQ29tcG9uZW50XG52YXIgTG9hZEFuaW1hdGlvblRvR2FtZU9iamVjdD1mdW5jdGlvbiBMb2FkQW5pbWF0aW9uVG9HYW1lT2JqZWN0KGNoaWxkLGtleSxzdGFydEZyYW1lKXt2YXIgYW5pbT10aGlzLmdldChrZXkpO2lmKGFuaW0pe2FuaW0ubG9hZChjaGlsZCxzdGFydEZyYW1lKTt9cmV0dXJuIGNoaWxkO307bW9kdWxlLmV4cG9ydHM9TG9hZEFuaW1hdGlvblRvR2FtZU9iamVjdDsvKioqL30sLyogNDEyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFBsYXlBbmltYXRpb249ZnVuY3Rpb24gUGxheUFuaW1hdGlvbihrZXksY2hpbGQpe2lmKCFBcnJheS5pc0FycmF5KGNoaWxkKSl7Y2hpbGQ9W2NoaWxkXTt9dmFyIGFuaW09dGhpcy5nZXQoa2V5KTtpZighYW5pbSl7cmV0dXJuO31mb3IodmFyIGk9MDtpPGNoaWxkLmxlbmd0aDtpKyspe2NoaWxkW2ldLmFuaW1zLnBsYXkoa2V5KTt9cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1QbGF5QW5pbWF0aW9uOy8qKiovfSwvKiA0MTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTt2YXIgUGF1c2VBbGw9ZnVuY3Rpb24gUGF1c2VBbGwoKXtpZighdGhpcy5wYXVzZWQpe3RoaXMucGF1c2VkPXRydWU7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IEV2ZW50LlBBVVNFX0FMTF9BTklNQVRJT05fRVZFTlQoKSk7fXJldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9UGF1c2VBbGw7LyoqKi99LC8qIDQxNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oNDMpO3ZhciBSZXN1bWVBbGw9ZnVuY3Rpb24gUmVzdW1lQWxsKCl7aWYodGhpcy5wYXVzZWQpe3RoaXMucGF1c2VkPWZhbHNlO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBFdmVudC5SRVNVTUVfQUxMX0FOSU1BVElPTl9FVkVOVCgpKTt9cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1SZXN1bWVBbGw7LyoqKi99LC8qIDQxNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oNDMpO3ZhciBSZW1vdmVBbmltYXRpb249ZnVuY3Rpb24gUmVtb3ZlQW5pbWF0aW9uKGtleSl7dmFyIGFuaW09dGhpcy5nZXQoa2V5KTtpZihhbmltKXt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgRXZlbnQuUkVNT1ZFX0FOSU1BVElPTl9FVkVOVChrZXksYW5pbSkpO3RoaXMuYW5pbXMuZGVsZXRlKGtleSk7fXJldHVybiBhbmltO307bW9kdWxlLmV4cG9ydHM9UmVtb3ZlQW5pbWF0aW9uOy8qKiovfSwvKiA0MTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU3RhZ2dlclBsYXlBbmltYXRpb249ZnVuY3Rpb24gU3RhZ2dlclBsYXlBbmltYXRpb24oa2V5LGNoaWxkLHN0YWdnZXIpe2lmKHN0YWdnZXI9PT11bmRlZmluZWQpe3N0YWdnZXI9MDt9aWYoIUFycmF5LmlzQXJyYXkoY2hpbGQpKXtjaGlsZD1bY2hpbGRdO312YXIgYW5pbT10aGlzLmdldChrZXkpO2lmKCFhbmltKXtyZXR1cm47fWZvcih2YXIgaT0wO2k8Y2hpbGQubGVuZ3RoO2krKyl7Y2hpbGRbaV0uYW5pbXMuZGVsYXllZFBsYXkoc3RhZ2dlcippLGtleSk7fXJldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U3RhZ2dlclBsYXlBbmltYXRpb247LyoqKi99LC8qIDQxNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBUb0pTT049ZnVuY3Rpb24gVG9KU09OKGtleSl7aWYoa2V5IT09dW5kZWZpbmVkJiZrZXkhPT0nJyl7cmV0dXJuIHRoaXMuYW5pbXMuZ2V0KGtleSkudG9KU09OKCk7fWVsc2V7dmFyIG91dHB1dD17YW5pbXM6W10sZ2xvYmFsVGltZVNjYWxlOnRoaXMuZ2xvYmFsVGltZVNjYWxlfTt0aGlzLmFuaW1zLmVhY2goZnVuY3Rpb24oYW5pbWF0aW9uS2V5LGFuaW1hdGlvbil7b3V0cHV0LmFuaW1zLnB1c2goYW5pbWF0aW9uLnRvSlNPTigpKTt9KTtyZXR1cm4gb3V0cHV0O319O21vZHVsZS5leHBvcnRzPVRvSlNPTjsvKioqL30sLyogNDE4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0KTt2YXIgQ2FudmFzUG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKTt2YXIgRmVhdHVyZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxNTMpO3ZhciBDYW52YXNSZW5kZXJlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQxOSk7dmFyIFdlYkdMUmVuZGVyZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0MjQpO3ZhciBDYW52YXNJbnRlcnBvbGF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNjUpO3ZhciBDcmVhdGVSZW5kZXJlcj1mdW5jdGlvbiBDcmVhdGVSZW5kZXJlcihnYW1lKXt2YXIgY29uZmlnPWdhbWUuY29uZmlnOy8vICBHYW1lIGVpdGhlciByZXF1ZXN0ZWQgQ2FudmFzLFxuLy8gIG9yIHJlcXVlc3RlZCBBVVRPIG9yIFdFQkdMIGJ1dCB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgaXQsIHNvIGZhbGwgYmFjayB0byBDYW52YXNcbmlmKGNvbmZpZy5yZW5kZXJUeXBlPT09Q09OU1QuQ0FOVkFTfHxjb25maWcucmVuZGVyVHlwZSE9PUNPTlNULkNBTlZBUyYmIUZlYXR1cmVzLndlYkdMKXtpZihGZWF0dXJlcy5jYW52YXMpey8vICBUaGV5IHJlcXVlc3RlZCBDYW52YXMgYW5kIHRoZWlyIGJyb3dzZXIgc3VwcG9ydHMgaXRcbmNvbmZpZy5yZW5kZXJUeXBlPUNPTlNULkNBTlZBUzt9ZWxzZXt0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgQ2FudmFzIG9yIFdlYkdMIGNvbnRleHQsIGFib3J0aW5nLicpO319ZWxzZXsvLyAgR2FtZSByZXF1ZXN0ZWQgV2ViR0wgYW5kIGJyb3dzZXIgc2F5cyBpdCBzdXBwb3J0cyBpdFxuY29uZmlnLnJlbmRlclR5cGU9Q09OU1QuV0VCR0w7fS8vICBQaXhlbCBBcnQgbW9kZT9cbmlmKGNvbmZpZy5waXhlbEFydCl7Q2FudmFzUG9vbC5kaXNhYmxlU21vb3RoaW5nKCk7fS8vICBEb2VzIHRoZSBnYW1lIGNvbmZpZyBwcm92aWRlIGl0cyBvd24gY2FudmFzIGVsZW1lbnQgdG8gdXNlP1xuaWYoY29uZmlnLmNhbnZhcyl7Z2FtZS5jYW52YXM9Y29uZmlnLmNhbnZhczt9ZWxzZXtnYW1lLmNhbnZhcz1DYW52YXNQb29sLmNyZWF0ZShnYW1lLGNvbmZpZy53aWR0aCxjb25maWcuaGVpZ2h0LGNvbmZpZy5yZW5kZXJUeXBlKTt9Ly8gIERvZXMgdGhlIGdhbWUgY29uZmlnIHByb3ZpZGUgc29tZSBjYW52YXMgY3NzIHN0eWxlcyB0byB1c2U/XG5pZihjb25maWcuY2FudmFzU3R5bGUpe2dhbWUuY2FudmFzLnN0eWxlPWNvbmZpZy5jYW52YXNTdHlsZTt9Ly8gIFBpeGVsIEFydCBtb2RlP1xuaWYoY29uZmlnLnBpeGVsQXJ0KXtDYW52YXNJbnRlcnBvbGF0aW9uLnNldENyaXNwKGdhbWUuY2FudmFzKTt9Ly8gIFpvb21lZD9cbmlmKGNvbmZpZy56b29tIT09MSl7Z2FtZS5jYW52YXMuc3R5bGUud2lkdGg9KGNvbmZpZy53aWR0aCpjb25maWcuem9vbSkudG9TdHJpbmcoKSsncHgnO2dhbWUuY2FudmFzLnN0eWxlLmhlaWdodD0oY29uZmlnLmhlaWdodCpjb25maWcuem9vbSkudG9TdHJpbmcoKSsncHgnO30vLyAgQ3JlYXRlIHRoZSByZW5kZXJlclxuaWYoY29uZmlnLnJlbmRlclR5cGU9PT1DT05TVC5XRUJHTCl7Z2FtZS5yZW5kZXJlcj1uZXcgV2ViR0xSZW5kZXJlcihnYW1lKTtnYW1lLmNvbnRleHQ9bnVsbDt9ZWxzZXtnYW1lLnJlbmRlcmVyPW5ldyBDYW52YXNSZW5kZXJlcihnYW1lKTtnYW1lLmNvbnRleHQ9Z2FtZS5yZW5kZXJlci5nYW1lQ29udGV4dDsvLyAgZGVidWdcbmdhbWUuY2FudmFzLmlkPSdnYW1lJzt9fTttb2R1bGUuZXhwb3J0cz1DcmVhdGVSZW5kZXJlcjsvKioqL30sLyogNDE5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmxpdEltYWdlPV9fd2VicGFja19yZXF1aXJlX18oNDIwKTt2YXIgQ2FudmFzU25hcHNob3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0MjEpO3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO3ZhciBEcmF3SW1hZ2U9X193ZWJwYWNrX3JlcXVpcmVfXyg0MjIpO3ZhciBHZXRCbGVuZE1vZGVzPV9fd2VicGFja19yZXF1aXJlX18oNDIzKTt2YXIgR2V0Q29udGV4dD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1OSk7dmFyIFNjYWxlTW9kZXM9X193ZWJwYWNrX3JlcXVpcmVfXygyNik7dmFyIFNtb290aGluZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTt2YXIgQ2FudmFzUmVuZGVyZXI9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIENhbnZhc1JlbmRlcmVyKGdhbWUpey8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7UGhhc2VyLkdhbWV9IGdhbWUgLSBBIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudGx5IHJ1bm5pbmcgR2FtZS5cbiAgICAgICAgKi90aGlzLmdhbWU9Z2FtZTsvLyAgTmVlZGVkP1xudGhpcy50eXBlPUNPTlNULkNBTlZBUzt0aGlzLmRyYXdDb3VudD0wOy8vICBSZWFkIGFsbCB0aGUgZm9sbG93aW5nIGZyb20gZ2FtZSBjb25maWcgKG9yIFNjZW5lIGNvbmZpZz8pXG4vLyB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gdHJ1ZTtcbi8vIHRoaXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcbi8vIHRoaXMuYXV0b1Jlc2l6ZSA9IGZhbHNlO1xuLy8gdGhpcy5yb3VuZFBpeGVscyA9IGZhbHNlO1xudGhpcy53aWR0aD1nYW1lLmNvbmZpZy53aWR0aCpnYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMuaGVpZ2h0PWdhbWUuY29uZmlnLmhlaWdodCpnYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMuc2NhbGVNb2RlPWdhbWUuY29uZmlnLnBpeGVsQXJ0P1NjYWxlTW9kZXMuTkVBUkVTVDpTY2FsZU1vZGVzLkxJTkVBUjt0aGlzLmdhbWVDYW52YXM9Z2FtZS5jYW52YXM7LyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAcHJvcGVydHkgY29udGV4dFxuICAgICAgICAgKiBAdHlwZSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcbiAgICAgICAgICovdGhpcy5nYW1lQ29udGV4dD1HZXRDb250ZXh0KHRoaXMuZ2FtZUNhbnZhcyk7dGhpcy5nYW1lQ29uZmlnPWdhbWUuY29uZmlnO3RoaXMuY3VycmVudENvbnRleHQ9dGhpcy5nYW1lQ29udGV4dDsvLyAgTWFwIHRvIHRoZSByZXF1aXJlZCBmdW5jdGlvblxudGhpcy5kcmF3SW1hZ2U9RHJhd0ltYWdlO3RoaXMuYmxpdEltYWdlPUJsaXRJbWFnZTt0aGlzLmJsZW5kTW9kZXM9R2V0QmxlbmRNb2RlcygpO3RoaXMuY3VycmVudEFscGhhPTE7dGhpcy5jdXJyZW50QmxlbmRNb2RlPTA7dGhpcy5jdXJyZW50U2NhbGVNb2RlPTA7Ly8gdGhpcy50aW50TWV0aG9kID0gdGhpcy50aW50V2l0aFBlclBpeGVsO1xudGhpcy5pbml0KCk7fSxpbml0OmZ1bmN0aW9uIGluaXQoKXt0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt9LC8vICBSZXNpemUgdGhlIG1haW4gZ2FtZSBjYW52YXNcbnJlc2l6ZTpmdW5jdGlvbiByZXNpemUod2lkdGgsaGVpZ2h0KXt2YXIgcmVzPXRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLndpZHRoPXdpZHRoKnJlczt0aGlzLmhlaWdodD1oZWlnaHQqcmVzO3RoaXMuZ2FtZUNhbnZhcy53aWR0aD10aGlzLndpZHRoO3RoaXMuZ2FtZUNhbnZhcy5oZWlnaHQ9dGhpcy5oZWlnaHQ7aWYodGhpcy5hdXRvUmVzaXplKXt0aGlzLmdhbWVDYW52YXMuc3R5bGUud2lkdGg9dGhpcy53aWR0aC9yZXMrJ3B4Jzt0aGlzLmdhbWVDYW52YXMuc3R5bGUuaGVpZ2h0PXRoaXMuaGVpZ2h0L3JlcysncHgnO30vLyAgUmVzaXppbmcgYSBjYW52YXMgd2lsbCByZXNldCBpbWFnZVNtb290aGluZ0VuYWJsZWQgKGFuZCBwcm9iYWJseSBvdGhlciBwcm9wZXJ0aWVzKVxuaWYodGhpcy5zY2FsZU1vZGU9PT1TY2FsZU1vZGVzLk5FQVJFU1Qpe1Ntb290aGluZy5kaXNhYmxlKHRoaXMuZ2FtZUNvbnRleHQpO319LHJlc2V0VHJhbnNmb3JtOmZ1bmN0aW9uIHJlc2V0VHJhbnNmb3JtKCl7dGhpcy5jdXJyZW50Q29udGV4dC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApO30sc2V0QmxlbmRNb2RlOmZ1bmN0aW9uIHNldEJsZW5kTW9kZShibGVuZE1vZGUpe2lmKHRoaXMuY3VycmVudEJsZW5kTW9kZSE9PWJsZW5kTW9kZSl7dGhpcy5jdXJyZW50Q29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249YmxlbmRNb2RlO3RoaXMuY3VycmVudEJsZW5kTW9kZT1ibGVuZE1vZGU7fXJldHVybiB0aGlzLmN1cnJlbnRCbGVuZE1vZGU7fSxzZXRBbHBoYTpmdW5jdGlvbiBzZXRBbHBoYShhbHBoYSl7aWYodGhpcy5jdXJyZW50QWxwaGEhPT1hbHBoYSl7dGhpcy5jdXJyZW50Q29udGV4dC5nbG9iYWxBbHBoYT1hbHBoYTt0aGlzLmN1cnJlbnRBbHBoYT1hbHBoYTt9cmV0dXJuIHRoaXMuY3VycmVudEFscGhhO30sLy8gIENhbGwgYXQgdGhlIHN0YXJ0IG9mIHRoZSByZW5kZXIgbG9vcFxucHJlUmVuZGVyOmZ1bmN0aW9uIHByZVJlbmRlcigpey8vIGNvbnNvbGUubG9nKCclYyByZW5kZXIgc3RhcnQgJywgJ2NvbG9yOiAjZmZmZmZmOyBiYWNrZ3JvdW5kOiAjMDBmZjAwOycpO1xudmFyIGN0eD10aGlzLmdhbWVDb250ZXh0O3ZhciBjb25maWc9dGhpcy5nYW1lQ29uZmlnO3ZhciB3aWR0aD10aGlzLndpZHRoO3ZhciBoZWlnaHQ9dGhpcy5oZWlnaHQ7aWYoY29uZmlnLmNsZWFyQmVmb3JlUmVuZGVyKXtjdHguY2xlYXJSZWN0KDAsMCx3aWR0aCxoZWlnaHQpO31pZighY29uZmlnLnRyYW5zcGFyZW50KXtjdHguZmlsbFN0eWxlPWNvbmZpZy5iYWNrZ3JvdW5kQ29sb3IucmdiYTtjdHguZmlsbFJlY3QoMCwwLHdpZHRoLGhlaWdodCk7fS8vICBBZGQgUHJlLXJlbmRlciBob29rXG50aGlzLmRyYXdDb3VudD0wO30sLyoqXG4gICAgICogUmVuZGVycyB0aGUgU2NlbmUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEBwYXJhbSB7UGhhc2VyLlNjZW5lfSBzY2VuZSAtIFRoZSBTY2VuZSB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UgLSBUaGUgY3VtdWxhdGl2ZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhc24ndCBiZWVuIHNpbXVsYXRlZCB5ZXQsIGRpdmlkZWRcbiAgICAgKiAgIGJ5IHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IHdpbGwgYmUgc2ltdWxhdGVkIHRoZSBuZXh0IHRpbWUgdXBkYXRlKClcbiAgICAgKiAgIHJ1bnMuIFVzZWZ1bCBmb3IgaW50ZXJwb2xhdGluZyBmcmFtZXMuXG4gICAgICovcmVuZGVyOmZ1bmN0aW9uIHJlbmRlcihzY2VuZSxjaGlsZHJlbixpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpey8vIHZhciB3ID0gc2NlbmUuc3lzLndpZHRoO1xuLy8gdmFyIGggPSBzY2VuZS5zeXMuaGVpZ2h0O1xudmFyIGN0eD1zY2VuZS5zeXMuY29udGV4dDt2YXIgc2V0dGluZ3M9c2NlbmUuc3lzLnNldHRpbmdzO3ZhciBzY2lzc29yPWNhbWVyYS54IT09MHx8Y2FtZXJhLnkhPT0wfHxjYW1lcmEud2lkdGghPT1jdHguY2FudmFzLndpZHRofHxjYW1lcmEuaGVpZ2h0IT09Y3R4LmNhbnZhcy5oZWlnaHQ7dmFyIGxpc3Q9Y2hpbGRyZW4ubGlzdDt0aGlzLmN1cnJlbnRDb250ZXh0PWN0eDsvLyAgSWYgdGhlIGFscGhhIG9yIGJsZW5kIG1vZGUgZGlkbid0IGNoYW5nZSBzaW5jZSB0aGUgbGFzdCByZW5kZXIsIHRoZW4gZG9uJ3Qgc2V0IHRoZW0gYWdhaW4gKHNhdmVzIDIgb3BzKVxuaWYoIWNhbWVyYS50cmFuc3BhcmVudCl7Y3R4LmZpbGxTdHlsZT1jYW1lcmEuYmFja2dyb3VuZENvbG9yLnJnYmE7Y3R4LmZpbGxSZWN0KDAsMCxjYW1lcmEud2lkdGgsY2FtZXJhLmhlaWdodCk7fWlmKHRoaXMuY3VycmVudEFscGhhIT09MSl7Y3R4Lmdsb2JhbEFscGhhPTE7dGhpcy5jdXJyZW50QWxwaGE9MTt9aWYodGhpcy5jdXJyZW50QmxlbmRNb2RlIT09MCl7Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nc291cmNlLW92ZXInO3RoaXMuY3VycmVudEJsZW5kTW9kZT0wO310aGlzLmN1cnJlbnRTY2FsZU1vZGU9MDt0aGlzLmRyYXdDb3VudCs9bGlzdC5sZW5ndGg7aWYoc2Npc3Nvcil7Y3R4LnNhdmUoKTtjdHguYmVnaW5QYXRoKCk7Y3R4LnJlY3QoY2FtZXJhLngsY2FtZXJhLnksY2FtZXJhLndpZHRoLGNhbWVyYS5oZWlnaHQpO2N0eC5jbGlwKCk7Y3R4LmNsb3NlUGF0aCgpO312YXIgbWF0cml4PWNhbWVyYS5tYXRyaXgubWF0cml4O2N0eC5zZXRUcmFuc2Zvcm0obWF0cml4WzBdLG1hdHJpeFsxXSxtYXRyaXhbMl0sbWF0cml4WzNdLG1hdHJpeFs0XSxtYXRyaXhbNV0pO2Zvcih2YXIgYz0wO2M8bGlzdC5sZW5ndGg7YysrKXt2YXIgY2hpbGQ9bGlzdFtjXTtjaGlsZC5yZW5kZXJDYW52YXModGhpcyxjaGlsZCxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpO30vLyAgQ2FsbCB0aGUgU2NlbmUucmVuZGVyIGZ1bmN0aW9uXG5zY2VuZS5yZW5kZXIuY2FsbChzY2VuZSxjdHgsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UpO2N0eC5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApO2lmKGNhbWVyYS5fZmFkZUFscGhhPjB8fGNhbWVyYS5fZmxhc2hBbHBoYT4wKXsvLyBmYWRlIHJlbmRlcmluZ1xuY3R4LmZpbGxTdHlsZT0ncmdiKCcrY2FtZXJhLl9mYWRlUmVkKjI1NSsnLCcrY2FtZXJhLl9mYWRlR3JlZW4qMjU1KycsJytjYW1lcmEuX2ZhZGVCbHVlKjI1NSsnKSc7Y3R4Lmdsb2JhbEFscGhhPWNhbWVyYS5fZmFkZUFscGhhO2N0eC5maWxsUmVjdChjYW1lcmEueCxjYW1lcmEueSxjYW1lcmEud2lkdGgsY2FtZXJhLmhlaWdodCk7Ly8gZmxhc2ggcmVuZGVyaW5nXG5jdHguZmlsbFN0eWxlPSdyZ2IoJytjYW1lcmEuX2ZsYXNoUmVkKjI1NSsnLCcrY2FtZXJhLl9mbGFzaEdyZWVuKjI1NSsnLCcrY2FtZXJhLl9mbGFzaEJsdWUqMjU1KycpJztjdHguZ2xvYmFsQWxwaGE9Y2FtZXJhLl9mbGFzaEFscGhhO2N0eC5maWxsUmVjdChjYW1lcmEueCxjYW1lcmEueSxjYW1lcmEud2lkdGgsY2FtZXJhLmhlaWdodCk7Y3R4Lmdsb2JhbEFscGhhPTEuMDt9Ly8gIFJlc2V0IHRoZSBjYW1lcmEgc2Npc3NvclxuaWYoc2Npc3Nvcil7Y3R4LnJlc3RvcmUoKTt9Ly8gIEJsYXN0IGl0IHRvIHRoZSBHYW1lIENhbnZhcyAoaWYgbmVlZGVkKVxuLy8gaWYgKHNldHRpbmdzLnJlbmRlclRvVGV4dHVyZSlcbi8vIHtcbi8vIHRoaXMuZ2FtZUNvbnRleHQuZHJhd0ltYWdlKHNjZW5lLnN5cy5jYW52YXMsIDAsIDAsIHcsIGgsIHNldHRpbmdzLngsIHNldHRpbmdzLnksIHcsIGgpO1xuLy8gfVxufSxwb3N0UmVuZGVyOmZ1bmN0aW9uIHBvc3RSZW5kZXIoKXsvLyBjb25zb2xlLmxvZygnJWMgcmVuZGVyIGVuZCAnLCAnY29sb3I6ICNmZmZmZmY7IGJhY2tncm91bmQ6ICNmZjAwMDA7Jyk7XG52YXIgY3R4PXRoaXMuZ2FtZUNvbnRleHQ7Y3R4Lmdsb2JhbEFscGhhPTE7Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj0nc291cmNlLW92ZXInO3RoaXMuY3VycmVudEFscGhhPTE7dGhpcy5jdXJyZW50QmxlbmRNb2RlPTA7aWYodGhpcy5zbmFwc2hvdENhbGxiYWNrKXt0aGlzLnNuYXBzaG90Q2FsbGJhY2soQ2FudmFzU25hcHNob3QodGhpcy5nYW1lQ2FudmFzKSk7dGhpcy5zbmFwc2hvdENhbGxiYWNrPW51bGw7fS8vICBBZGQgUG9zdC1yZW5kZXIgaG9va1xufSxzbmFwc2hvdDpmdW5jdGlvbiBzbmFwc2hvdChjYWxsYmFjayl7dGhpcy5zbmFwc2hvdENhbGxiYWNrPWNhbGxiYWNrO30sLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgZGVzdHJveVxuICAgICAqIEBwYXJhbSBbcmVtb3ZlZ2FtZUNhbnZhcz10cnVlXSB7Ym9vbGVhbn0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL2Rlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpey8vICBDYW52YXNQb29sXG50aGlzLmdhbWVDYW52YXM9bnVsbDt0aGlzLmdhbWVDb250ZXh0PW51bGw7fX0pO21vZHVsZS5leHBvcnRzPUNhbnZhc1JlbmRlcmVyOy8qKiovfSwvKiA0MjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgTm8gc2NhbGluZywgYW5jaG9yLCByb3RhdGlvbiBvciBlZmZlY3RzLCBsaXRlcmFsbHkgZHJhd3MgdGhlIGZyYW1lIGRpcmVjdGx5IHRvIHRoZSBjYW52YXNcbnZhciBCbGl0SW1hZ2U9ZnVuY3Rpb24gQmxpdEltYWdlKGR4LGR5LGZyYW1lLGNhbWVyYSl7dmFyIGN0eD10aGlzLmN1cnJlbnRDb250ZXh0O3ZhciBjZD1mcmFtZS5jYW52YXNEYXRhO2N0eC5kcmF3SW1hZ2UoZnJhbWUuc291cmNlLmltYWdlLGNkLnN4LGNkLnN5LGNkLnNXaWR0aCxjZC5zSGVpZ2h0LGR4LWNhbWVyYS5zY3JvbGxYLGR5LWNhbWVyYS5zY3JvbGxZLGNkLmRXaWR0aCxjZC5kSGVpZ2h0KTt9O21vZHVsZS5leHBvcnRzPUJsaXRJbWFnZTsvKioqL30sLyogNDIxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENhbnZhc1NuYXBzaG90PWZ1bmN0aW9uIENhbnZhc1NuYXBzaG90KGNhbnZhcyl7dmFyIHNyYz1jYW52YXMudG9EYXRhVVJMKCk7dmFyIGltYWdlPW5ldyBJbWFnZSgpO2ltYWdlLnNyYz1zcmM7cmV0dXJuIGltYWdlO307bW9kdWxlLmV4cG9ydHM9Q2FudmFzU25hcHNob3Q7LyoqKi99LC8qIDQyMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEcmF3SW1hZ2U9ZnVuY3Rpb24gRHJhd0ltYWdlKHNyYyxjYW1lcmEpe3ZhciBjdHg9dGhpcy5jdXJyZW50Q29udGV4dDt2YXIgZnJhbWU9c3JjLmZyYW1lO3ZhciBjZD1mcmFtZS5jYW52YXNEYXRhOy8vICBCbGVuZCBNb2RlXG5pZih0aGlzLmN1cnJlbnRCbGVuZE1vZGUhPT1zcmMuYmxlbmRNb2RlKXt0aGlzLmN1cnJlbnRCbGVuZE1vZGU9c3JjLmJsZW5kTW9kZTtjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXRoaXMuYmxlbmRNb2Rlc1tzcmMuYmxlbmRNb2RlXTt9Ly8gIEFscGhhXG5pZih0aGlzLmN1cnJlbnRBbHBoYSE9PXNyYy5hbHBoYSl7dGhpcy5jdXJyZW50QWxwaGE9c3JjLmFscGhhO2N0eC5nbG9iYWxBbHBoYT1zcmMuYWxwaGE7fS8vICBTbW9vdGhpbmdcbmlmKHRoaXMuY3VycmVudFNjYWxlTW9kZSE9PXNyYy5zY2FsZU1vZGUpe3RoaXMuY3VycmVudFNjYWxlTW9kZT1zcmMuc2NhbGVNb2RlOy8vIGN0eFt0aGlzLnNtb290aFByb3BlcnR5XSA9IChzb3VyY2Uuc2NhbGVNb2RlID09PSBTY2FsZU1vZGVzLkxJTkVBUik7XG59dmFyIGR4PWZyYW1lLngtc3JjLmRpc3BsYXlPcmlnaW5YO3ZhciBkeT1mcmFtZS55LXNyYy5kaXNwbGF5T3JpZ2luWTtjdHguc2F2ZSgpO2N0eC50cmFuc2xhdGUoc3JjLngtY2FtZXJhLnNjcm9sbFgsc3JjLnktY2FtZXJhLnNjcm9sbFkpO2N0eC5yb3RhdGUoc3JjLnJvdGF0aW9uKTtjdHguc2NhbGUoc3JjLnNjYWxlWCxzcmMuc2NhbGVZKTtjdHguc2NhbGUoc3JjLmZsaXBYPy0xOjEsc3JjLmZsaXBZPy0xOjEpO2N0eC50cmFuc2xhdGUoc3JjLmRXaWR0aCooc3JjLmZsaXBYPzE6MCksc3JjLmRIZWlnaHQqKHNyYy5mbGlwWT8xOjApKTtjdHguZHJhd0ltYWdlKGZyYW1lLnNvdXJjZS5pbWFnZSxjZC5zeCxjZC5zeSxjZC5zV2lkdGgsY2Quc0hlaWdodCxkeCxkeSxjZC5kV2lkdGgsY2QuZEhlaWdodCk7Y3R4LnJlc3RvcmUoKTt9O21vZHVsZS5leHBvcnRzPURyYXdJbWFnZTsvKioqL30sLyogNDIzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgbW9kZXM9X193ZWJwYWNrX3JlcXVpcmVfXygzMSk7dmFyIENhbnZhc0ZlYXR1cmVzPV9fd2VicGFja19yZXF1aXJlX18oMTU0KTt2YXIgR2V0QmxlbmRNb2Rlcz1mdW5jdGlvbiBHZXRCbGVuZE1vZGVzKCl7dmFyIG91dHB1dD1bXTt2YXIgdXNlTmV3PUNhbnZhc0ZlYXR1cmVzLnN1cHBvcnROZXdCbGVuZE1vZGVzO291dHB1dFttb2Rlcy5OT1JNQUxdPSdzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLkFERF09J2xpZ2h0ZXInO291dHB1dFttb2Rlcy5NVUxUSVBMWV09dXNlTmV3PydtdWx0aXBseSc6J3NvdXJjZS1vdmVyJztvdXRwdXRbbW9kZXMuU0NSRUVOXT11c2VOZXc/J3NjcmVlbic6J3NvdXJjZS1vdmVyJztvdXRwdXRbbW9kZXMuT1ZFUkxBWV09dXNlTmV3PydvdmVybGF5Jzonc291cmNlLW92ZXInO291dHB1dFttb2Rlcy5EQVJLRU5dPXVzZU5ldz8nZGFya2VuJzonc291cmNlLW92ZXInO291dHB1dFttb2Rlcy5MSUdIVEVOXT11c2VOZXc/J2xpZ2h0ZW4nOidzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLkNPTE9SX0RPREdFXT11c2VOZXc/J2NvbG9yLWRvZGdlJzonc291cmNlLW92ZXInO291dHB1dFttb2Rlcy5DT0xPUl9CVVJOXT11c2VOZXc/J2NvbG9yLWJ1cm4nOidzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLkhBUkRfTElHSFRdPXVzZU5ldz8naGFyZC1saWdodCc6J3NvdXJjZS1vdmVyJztvdXRwdXRbbW9kZXMuU09GVF9MSUdIVF09dXNlTmV3Pydzb2Z0LWxpZ2h0Jzonc291cmNlLW92ZXInO291dHB1dFttb2Rlcy5ESUZGRVJFTkNFXT11c2VOZXc/J2RpZmZlcmVuY2UnOidzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLkVYQ0xVU0lPTl09dXNlTmV3PydleGNsdXNpb24nOidzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLkhVRV09dXNlTmV3PydodWUnOidzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLlNBVFVSQVRJT05dPXVzZU5ldz8nc2F0dXJhdGlvbic6J3NvdXJjZS1vdmVyJztvdXRwdXRbbW9kZXMuQ09MT1JdPXVzZU5ldz8nY29sb3InOidzb3VyY2Utb3Zlcic7b3V0cHV0W21vZGVzLkxVTUlOT1NJVFldPXVzZU5ldz8nbHVtaW5vc2l0eSc6J3NvdXJjZS1vdmVyJztyZXR1cm4gb3V0cHV0O307bW9kdWxlLmV4cG9ydHM9R2V0QmxlbmRNb2RlczsvKioqL30sLyogNDI0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvKipcbiogQGF1dGhvciAgICAgICBSaWNoYXJkIERhdmV5IChAcGhvdG9uc3Rvcm0pXG4qIEBhdXRob3IgICAgICAgRmVsaXBlIEFsZm9uc28gKEBiaXRuZW5mZXIpXG4qIEBjb3B5cmlnaHQgICAgMjAxNyBQaG90b24gU3Rvcm0gTHRkLlxuKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGhvdG9uc3Rvcm0vcGhhc2VyL2Jsb2IvbWFzdGVyL2xpY2Vuc2UudHh0fE1JVCBMaWNlbnNlfVxuKi92YXIgQmxlbmRNb2Rlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTt2YXIgQmxpdHRlckJhdGNoPV9fd2VicGFja19yZXF1aXJlX18oNDI1KTt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0KTt2YXIgRWZmZWN0UmVuZGVyZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0MjgpO3ZhciBJc1NpemVQb3dlck9mVHdvPV9fd2VicGFja19yZXF1aXJlX18oNjcpO3ZhciBRdWFkQmF0Y2g9X193ZWJwYWNrX3JlcXVpcmVfXyg0MzApO3ZhciBSZXNvdXJjZU1hbmFnZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0MzMpO3ZhciBSZXNvdXJjZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxNjApO3ZhciBTY2FsZU1vZGVzPV9fd2VicGFja19yZXF1aXJlX18oMjYpO3ZhciBTaGFwZUJhdGNoPV9fd2VicGFja19yZXF1aXJlX18oNDM5KTt2YXIgU3ByaXRlQmF0Y2g9X193ZWJwYWNrX3JlcXVpcmVfXyg0NDIpO3ZhciBUaWxlQmF0Y2g9X193ZWJwYWNrX3JlcXVpcmVfXyg0NDQpO3ZhciBUaWxlbWFwUmVuZGVyZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0NDYpO3ZhciBXZWJHTFNuYXBzaG90PV9fd2VicGFja19yZXF1aXJlX18oNDQ4KTt2YXIgV2ViR0xSZW5kZXJlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gV2ViR0xSZW5kZXJlcihnYW1lKXt0aGlzLmdhbWU9Z2FtZTt0aGlzLnR5cGU9Q09OU1QuV0VCR0w7dGhpcy53aWR0aD1nYW1lLmNvbmZpZy53aWR0aCpnYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMuaGVpZ2h0PWdhbWUuY29uZmlnLmhlaWdodCpnYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMudmlldz1nYW1lLmNhbnZhczsvLyAgIEFsbCBvZiB0aGVzZSBzZXR0aW5ncyB3aWxsIGJlIGFibGUgdG8gYmUgY29udHJvbGxlZCB2aWEgdGhlIEdhbWUgQ29uZmlnXG50aGlzLmNvbmZpZz17Y2xlYXJCZWZvcmVSZW5kZXI6dHJ1ZSx0cmFuc3BhcmVudDpmYWxzZSxhdXRvUmVzaXplOmZhbHNlLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpmYWxzZSxXZWJHTENvbnRleHRPcHRpb25zOnthbHBoYTp0cnVlLGFudGlhbGlhczp0cnVlLHByZW11bHRpcGxpZWRBbHBoYTp0cnVlLHN0ZW5jaWw6dHJ1ZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2V9fTt0aGlzLmNvbnRleHRMb3N0PWZhbHNlO3RoaXMubWF4VGV4dHVyZXM9MTt0aGlzLm11bHRpVGV4dHVyZT1mYWxzZTt0aGlzLmJsZW5kTW9kZXM9W107dGhpcy5nbD1udWxsO3RoaXMuZXh0ZW5zaW9ucz1udWxsO3RoaXMucmVuZGVyZXJBcnJheT1bXTt0aGlzLmJsaXR0ZXJCYXRjaD1udWxsO3RoaXMuYWFRdWFkQmF0Y2g9bnVsbDt0aGlzLnNwcml0ZUJhdGNoPW51bGw7dGhpcy5zaGFwZUJhdGNoPW51bGw7dGhpcy5lZmZlY3RSZW5kZXJlcj1udWxsO3RoaXMuY3VycmVudFJlbmRlcmVyPW51bGw7dGhpcy5jdXJyZW50VGV4dHVyZT1bXTt0aGlzLnNoYWRlckNhY2hlPXt9O3RoaXMuY3VycmVudFNoYWRlcj1udWxsO3RoaXMucmVzb3VyY2VNYW5hZ2VyPW51bGw7dGhpcy5jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7dGhpcy5zbmFwc2hvdENhbGxiYWNrPW51bGw7dGhpcy5zY2lzc29yPXtlbmFibGVkOmZhbHNlLHg6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH07dGhpcy5pbml0KCk7fSxpbml0OmZ1bmN0aW9uIGluaXQoKXt0aGlzLmdsPXRoaXMudmlldy5nZXRDb250ZXh0KCd3ZWJnbCcsdGhpcy5jb25maWcuV2ViR0xDb250ZXh0T3B0aW9ucyl8fHRoaXMudmlldy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLHRoaXMuY29uZmlnLldlYkdMQ29udGV4dE9wdGlvbnMpO2lmKCF0aGlzLmdsKXt0aGlzLmNvbnRleHRMb3N0PXRydWU7dGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXIuJyk7fXZhciBnbD10aGlzLmdsO3ZhciBjb2xvcj10aGlzLmdhbWUuY29uZmlnLmJhY2tncm91bmRDb2xvcjt0aGlzLnJlc291cmNlTWFuYWdlcj1uZXcgUmVzb3VyY2VNYW5hZ2VyKGdsKTtnbC5kaXNhYmxlKGdsLkRFUFRIX1RFU1QpO2dsLmRpc2FibGUoZ2wuQ1VMTF9GQUNFKTtnbC5lbmFibGUoZ2wuQkxFTkQpO2dsLmNsZWFyQ29sb3IoY29sb3IucmVkR0wsY29sb3IuZ3JlZW5HTCxjb2xvci5ibHVlR0wsY29sb3IuYWxwaGFHTCk7Ly8gIE1hcCBCbGVuZCBNb2Rlc1xudGhpcy5ibGVuZE1vZGVzPVtdO2Zvcih2YXIgaT0wO2k8PTE2O2krKyl7dGhpcy5ibGVuZE1vZGVzLnB1c2goe2Z1bmM6W2dsLlNSQ19BTFBIQSxnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLGdsLk9ORSxnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXSxlcXVhdGlvbjpnbC5GVU5DX0FERH0pO30vLyAgQWRkXG50aGlzLmJsZW5kTW9kZXNbMV0uZnVuYz1bZ2wuU1JDX0FMUEhBLGdsLkRTVF9BTFBIQV07Ly8gIE11bHRpcGx5XG50aGlzLmJsZW5kTW9kZXNbMl0uZnVuYz1bZ2wuRFNUX0NPTE9SLGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdOy8vICBTY3JlZW5cbnRoaXMuYmxlbmRNb2Rlc1szXS5mdW5jPVtnbC5TUkNfQUxQSEEsZ2wuT05FXTt0aGlzLmJsZW5kTW9kZT0tMTt0aGlzLmV4dGVuc2lvbnM9Z2wuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpO3RoaXMuYmxpdHRlckJhdGNoPXRoaXMuYWRkUmVuZGVyZXIobmV3IEJsaXR0ZXJCYXRjaCh0aGlzLmdhbWUsZ2wsdGhpcykpO3RoaXMucXVhZEJhdGNoPXRoaXMuYWRkUmVuZGVyZXIobmV3IFF1YWRCYXRjaCh0aGlzLmdhbWUsZ2wsdGhpcykpO3RoaXMuc3ByaXRlQmF0Y2g9dGhpcy5hZGRSZW5kZXJlcihuZXcgU3ByaXRlQmF0Y2godGhpcy5nYW1lLGdsLHRoaXMpKTt0aGlzLnNoYXBlQmF0Y2g9dGhpcy5hZGRSZW5kZXJlcihuZXcgU2hhcGVCYXRjaCh0aGlzLmdhbWUsZ2wsdGhpcykpO3RoaXMuZWZmZWN0UmVuZGVyZXI9dGhpcy5hZGRSZW5kZXJlcihuZXcgRWZmZWN0UmVuZGVyZXIodGhpcy5nYW1lLGdsLHRoaXMpKTt0aGlzLnRpbGVCYXRjaD10aGlzLmFkZFJlbmRlcmVyKG5ldyBUaWxlQmF0Y2godGhpcy5nYW1lLGdsLHRoaXMpKTt0aGlzLnRpbGVtYXBSZW5kZXJlcj10aGlzLmFkZFJlbmRlcmVyKG5ldyBUaWxlbWFwUmVuZGVyZXIodGhpcy5nYW1lLGdsLHRoaXMpKTt0aGlzLmN1cnJlbnRSZW5kZXJlcj10aGlzLnNwcml0ZUJhdGNoO3RoaXMuc2V0QmxlbmRNb2RlKDApO3RoaXMucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO30sLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9ibGVuZEZ1bmNcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvYmxlbmRGdW5jU2VwYXJhdGVcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvYmxlbmRFcXVhdGlvblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMUmVuZGVyaW5nQ29udGV4dC9ibGVuZEVxdWF0aW9uU2VwYXJhdGVcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvYmxlbmRDb2xvclxuYWRkQmxlbmRNb2RlOmZ1bmN0aW9uIGFkZEJsZW5kTW9kZShmdW5jLGVxdWF0aW9uKXt2YXIgaW5kZXg9dGhpcy5ibGVuZE1vZGVzLnB1c2goe2Z1bmM6ZnVuYyxlcXVhdGlvbjplcXVhdGlvbn0pO3JldHVybiBpbmRleC0xO30sdXBkYXRlQmxlbmRNb2RlOmZ1bmN0aW9uIHVwZGF0ZUJsZW5kTW9kZShpbmRleCxmdW5jLGVxdWF0aW9uKXtpZih0aGlzLmJsZW5kTW9kZXNbaW5kZXhdKXt0aGlzLmJsZW5kTW9kZXNbaW5kZXhdLmZ1bmM9ZnVuYztpZihlcXVhdGlvbil7dGhpcy5ibGVuZE1vZGVzW2luZGV4XS5lcXVhdGlvbj1lcXVhdGlvbjt9fXJldHVybiB0aGlzO30scmVtb3ZlQmxlbmRNb2RlOmZ1bmN0aW9uIHJlbW92ZUJsZW5kTW9kZShpbmRleCl7aWYoaW5kZXg+MTYmJnRoaXMuYmxlbmRNb2Rlc1tpbmRleF0pe3RoaXMuYmxlbmRNb2Rlcy5zcGxpY2UoaW5kZXgsMSk7fXJldHVybiB0aGlzO30sY3JlYXRlVGV4dHVyZTpmdW5jdGlvbiBjcmVhdGVUZXh0dXJlKHNvdXJjZSx3aWR0aCxoZWlnaHQpe3dpZHRoPXNvdXJjZT9zb3VyY2Uud2lkdGg6d2lkdGg7aGVpZ2h0PXNvdXJjZT9zb3VyY2UuaGVpZ2h0OmhlaWdodDt2YXIgZ2w9dGhpcy5nbDt2YXIgZmlsdGVyPWdsLk5FQVJFU1Q7dmFyIHdyYXA9SXNTaXplUG93ZXJPZlR3byh3aWR0aCxoZWlnaHQpP2dsLlJFUEVBVDpnbC5DTEFNUF9UT19FREdFO2lmKCFzb3VyY2UuZ2xUZXh0dXJlKXtpZihzb3VyY2Uuc2NhbGVNb2RlPT09U2NhbGVNb2Rlcy5MSU5FQVIpe2ZpbHRlcj1nbC5MSU5FQVI7fWVsc2UgaWYoc291cmNlLnNjYWxlTW9kZT09PVNjYWxlTW9kZXMuTkVBUkVTVHx8dGhpcy5nYW1lLmNvbmZpZy5waXhlbEFydCl7ZmlsdGVyPWdsLk5FQVJFU1Q7fWlmKCFzb3VyY2UmJnR5cGVvZiB3aWR0aD09PSdudW1iZXInJiZ0eXBlb2YgaGVpZ2h0PT09J251bWJlcicpe3NvdXJjZS5nbFRleHR1cmU9dGhpcy5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlVGV4dHVyZSgwLGZpbHRlcixmaWx0ZXIsd3JhcCx3cmFwLGdsLlJHQkEsbnVsbCx3aWR0aCxoZWlnaHQpO31lbHNle3NvdXJjZS5nbFRleHR1cmU9dGhpcy5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlVGV4dHVyZSgwLGZpbHRlcixmaWx0ZXIsd3JhcCx3cmFwLGdsLlJHQkEsc291cmNlLmltYWdlKTt9fXRoaXMuY3VycmVudFRleHR1cmVbMF09bnVsbDt9LHNldFRleHR1cmU6ZnVuY3Rpb24gc2V0VGV4dHVyZSh0ZXh0dXJlLHVuaXQpe3VuaXQ9dW5pdHx8MDtpZih0aGlzLmN1cnJlbnRUZXh0dXJlW3VuaXRdIT09dGV4dHVyZSl7dmFyIGdsPXRoaXMuZ2w7dGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwK3VuaXQpO2lmKHRleHR1cmUhPT1udWxsKXtnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRleHR1cmUudGV4dHVyZSk7fWVsc2V7Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKTt9dGhpcy5jdXJyZW50VGV4dHVyZVt1bml0XT10ZXh0dXJlO319LHNldFJlbmRlcmVyOmZ1bmN0aW9uIHNldFJlbmRlcmVyKHJlbmRlcmVyLHRleHR1cmUscmVuZGVyVGFyZ2V0KXt0aGlzLnNldFRleHR1cmUodGV4dHVyZSk7dGhpcy5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtpZih0aGlzLmN1cnJlbnRSZW5kZXJlciE9PXJlbmRlcmVyfHx0aGlzLmN1cnJlbnRSZW5kZXJlci5zaG91bGRGbHVzaCgpKXt0aGlzLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO3RoaXMuY3VycmVudFJlbmRlcmVyPXJlbmRlcmVyO319LHNldFJlbmRlclRhcmdldDpmdW5jdGlvbiBzZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KXt2YXIgZ2w9dGhpcy5nbDtpZih0aGlzLmN1cnJlbnRSZW5kZXJUYXJnZXQhPT1yZW5kZXJUYXJnZXQpe3RoaXMuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7aWYocmVuZGVyVGFyZ2V0IT09bnVsbCl7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHJlbmRlclRhcmdldC5mcmFtZWJ1ZmZlck9iamVjdCk7aWYocmVuZGVyVGFyZ2V0LnNob3VsZENsZWFyKXtnbC5jbGVhckNvbG9yKDAsMCwwLHJlbmRlclRhcmdldC5jbGVhckFscGhhKTtnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtyZW5kZXJUYXJnZXQuc2hvdWxkQ2xlYXI9ZmFsc2U7fX1lbHNle2dsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKTtnbC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7fXRoaXMuY3VycmVudFJlbmRlclRhcmdldD1yZW5kZXJUYXJnZXQ7fX0scmVzaXplOmZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCxoZWlnaHQpe3ZhciByZXNvbHV0aW9uPXRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLndpZHRoPXdpZHRoKnJlc29sdXRpb247dGhpcy5oZWlnaHQ9aGVpZ2h0KnJlc29sdXRpb247dGhpcy52aWV3LndpZHRoPXRoaXMud2lkdGg7dGhpcy52aWV3LmhlaWdodD10aGlzLmhlaWdodDtpZih0aGlzLmF1dG9SZXNpemUpe3RoaXMudmlldy5zdHlsZS53aWR0aD10aGlzLndpZHRoL3Jlc29sdXRpb24rJ3B4Jzt0aGlzLnZpZXcuc3R5bGUuaGVpZ2h0PXRoaXMuaGVpZ2h0L3Jlc29sdXRpb24rJ3B4Jzt9dGhpcy5nbC52aWV3cG9ydCgwLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7Zm9yKHZhciBpPTAsbD10aGlzLnJlbmRlcmVyQXJyYXkubGVuZ3RoO2k8bDsrK2kpe3RoaXMucmVuZGVyZXJBcnJheVtpXS5iaW5kKCk7dGhpcy5yZW5kZXJlckFycmF5W2ldLnJlc2l6ZSh3aWR0aCxoZWlnaHQscmVzb2x1dGlvbik7fXRoaXMuY3VycmVudFJlbmRlcmVyLmJpbmQoKTt9LC8vICBDYWxsIGF0IHRoZSBzdGFydCBvZiB0aGUgcmVuZGVyIGxvb3BcbnByZVJlbmRlcjpmdW5jdGlvbiBwcmVSZW5kZXIoKXt0aGlzLnNldFJlbmRlclRhcmdldChudWxsKTsvLyAgTm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuaWYodGhpcy5jb250ZXh0TG9zdCl7cmV0dXJuO30vLyAgQWRkIFByZS1yZW5kZXIgaG9va1xudmFyIGdsPXRoaXMuZ2w7dmFyIGNvbG9yPXRoaXMuZ2FtZS5jb25maWcuYmFja2dyb3VuZENvbG9yO2dsLmNsZWFyQ29sb3IoY29sb3IucmVkR0wsY29sb3IuZ3JlZW5HTCxjb2xvci5ibHVlR0wsY29sb3IuYWxwaGFHTCk7Ly8gU29tZSBkcml2ZXJzIHJlcXVpcmUgdG8gY2FsbCBnbENsZWFyXG5nbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUfGdsLkRFUFRIX0JVRkZFUl9CSVR8Z2wuU1RFTkNJTF9CVUZGRVJfQklUKTt0aGlzLnNldEJsZW5kTW9kZShCbGVuZE1vZGVzLk5PUk1BTCk7fSwvKipcbiAgICAgKiBSZW5kZXJzIGEgc2luZ2xlIFNjZW5lLlxuICAgICAqXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BoYXNlci5TY2VuZX0gc2NlbmUgLSBUaGUgU2NlbmUgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVycG9sYXRpb25QZXJjZW50YWdlIC0gVGhlIGN1bXVsYXRpdmUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXNuJ3QgYmVlbiBzaW11bGF0ZWQgeWV0LCBkaXZpZGVkXG4gICAgICogICBieSB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCB3aWxsIGJlIHNpbXVsYXRlZCB0aGUgbmV4dCB0aW1lIHVwZGF0ZSgpXG4gICAgICogICBydW5zLiBVc2VmdWwgZm9yIGludGVycG9sYXRpbmcgZnJhbWVzLlxuICAgICAqL3JlbmRlcjpmdW5jdGlvbiByZW5kZXIoc2NlbmUsY2hpbGRyZW4saW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXt2YXIgZ2w9dGhpcy5nbDt2YXIgcXVhZEJhdGNoPXRoaXMucXVhZEJhdGNoO3RoaXMuc2Npc3Nvci5lbmFibGVkPWNhbWVyYS54IT09MHx8Y2FtZXJhLnkhPT0wfHxjYW1lcmEud2lkdGghPT1nbC5jYW52YXMud2lkdGh8fGNhbWVyYS5oZWlnaHQhPT1nbC5jYW52YXMuaGVpZ2h0O3RoaXMuc2V0UmVuZGVyVGFyZ2V0KG51bGwpO2lmKHRoaXMuc2Npc3Nvci5lbmFibGVkKXtnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTt0aGlzLnNjaXNzb3IueD1jYW1lcmEueDt0aGlzLnNjaXNzb3IueT1nbC5kcmF3aW5nQnVmZmVySGVpZ2h0LWNhbWVyYS55LWNhbWVyYS5oZWlnaHQ7dGhpcy5zY2lzc29yLndpZHRoPWNhbWVyYS53aWR0aDt0aGlzLnNjaXNzb3IuaGVpZ2h0PWNhbWVyYS5oZWlnaHQ7Z2wuc2Npc3Nvcih0aGlzLnNjaXNzb3IueCx0aGlzLnNjaXNzb3IueSx0aGlzLnNjaXNzb3Iud2lkdGgsdGhpcy5zY2lzc29yLmhlaWdodCk7fWlmKGNhbWVyYS5iYWNrZ3JvdW5kQ29sb3IuYWxwaGFHTD4wKXt2YXIgY29sb3I9Y2FtZXJhLmJhY2tncm91bmRDb2xvcjtxdWFkQmF0Y2guYmluZCgpO3F1YWRCYXRjaC5hZGQoY2FtZXJhLngsY2FtZXJhLnksY2FtZXJhLndpZHRoLGNhbWVyYS5oZWlnaHQsY29sb3IucmVkR0wsY29sb3IuZ3JlZW5HTCxjb2xvci5ibHVlR0wsY29sb3IuYWxwaGFHTCk7cXVhZEJhdGNoLmZsdXNoKCk7dGhpcy5jdXJyZW50UmVuZGVyZXIuYmluZCgpO312YXIgbGlzdD1jaGlsZHJlbi5saXN0O3ZhciBsZW5ndGg9bGlzdC5sZW5ndGg7Zm9yKHZhciBpbmRleD0wO2luZGV4PGxlbmd0aDsrK2luZGV4KXt2YXIgY2hpbGQ9bGlzdFtpbmRleF07Ly8gU2V0dGluZyBibGVuZCBtb2RlIGlmIG5lZWRlZFxudmFyIHJlbmRlcmVyPXRoaXMuY3VycmVudFJlbmRlcmVyO3ZhciBuZXdCbGVuZE1vZGU9Y2hpbGQuYmxlbmRNb2RlO2lmKHRoaXMuYmxlbmRNb2RlIT09bmV3QmxlbmRNb2RlKXtpZihyZW5kZXJlcil7cmVuZGVyZXIuZmx1c2goKTt9dmFyIGJsZW5kPXRoaXMuYmxlbmRNb2Rlc1tuZXdCbGVuZE1vZGVdLmZ1bmM7Z2wuZW5hYmxlKGdsLkJMRU5EKTtnbC5ibGVuZEVxdWF0aW9uKHRoaXMuYmxlbmRNb2Rlc1tuZXdCbGVuZE1vZGVdLmVxdWF0aW9uKTtpZihibGVuZC5sZW5ndGg+Mil7Z2wuYmxlbmRGdW5jU2VwYXJhdGUoYmxlbmRbMF0sYmxlbmRbMV0sYmxlbmRbMl0sYmxlbmRbM10pO31lbHNle2dsLmJsZW5kRnVuYyhibGVuZFswXSxibGVuZFsxXSk7fXRoaXMuYmxlbmRNb2RlPW5ld0JsZW5kTW9kZTt9Ly8gZHJhd2luZyBjaGlsZFxuY2hpbGQucmVuZGVyV2ViR0wodGhpcyxjaGlsZCxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpO3JlbmRlcmVyPXRoaXMuY3VycmVudFJlbmRlcmVyO2lmKHJlbmRlcmVyLmlzRnVsbCgpfHxyZW5kZXJlci5zaG91bGRGbHVzaCgpKXtyZW5kZXJlci5mbHVzaCgpO319dGhpcy5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtpZihjYW1lcmEuX2ZhZGVBbHBoYT4wfHxjYW1lcmEuX2ZsYXNoQWxwaGE+MCl7dGhpcy5zZXRSZW5kZXJUYXJnZXQobnVsbCk7cXVhZEJhdGNoLmJpbmQoKTsvLyBmYWRlIHJlbmRlcmluZ1xucXVhZEJhdGNoLmFkZChjYW1lcmEueCxjYW1lcmEueSxjYW1lcmEud2lkdGgsY2FtZXJhLmhlaWdodCxjYW1lcmEuX2ZhZGVSZWQsY2FtZXJhLl9mYWRlR3JlZW4sY2FtZXJhLl9mYWRlQmx1ZSxjYW1lcmEuX2ZhZGVBbHBoYSk7Ly8gZmxhc2ggcmVuZGVyaW5nXG5xdWFkQmF0Y2guYWRkKGNhbWVyYS54LGNhbWVyYS55LGNhbWVyYS53aWR0aCxjYW1lcmEuaGVpZ2h0LGNhbWVyYS5fZmxhc2hSZWQsY2FtZXJhLl9mbGFzaEdyZWVuLGNhbWVyYS5fZmxhc2hCbHVlLGNhbWVyYS5fZmxhc2hBbHBoYSk7cXVhZEJhdGNoLmZsdXNoKCk7dGhpcy5jdXJyZW50UmVuZGVyZXIuYmluZCgpO31pZih0aGlzLnNjaXNzb3IuZW5hYmxlZCl7Z2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO319LC8vICBDYWxsZWQgYXQgdGhlIGVuZCBvZiB0aGUgcmVuZGVyIGxvb3AgKHRpZHkgdGhpbmdzIHVwLCBldGMpXG5wb3N0UmVuZGVyOmZ1bmN0aW9uIHBvc3RSZW5kZXIoKXt0aGlzLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO2lmKHRoaXMuc25hcHNob3RDYWxsYmFjayl7dGhpcy5zbmFwc2hvdENhbGxiYWNrKFdlYkdMU25hcHNob3QodGhpcy52aWV3KSk7dGhpcy5zbmFwc2hvdENhbGxiYWNrPW51bGw7fS8vICBBZGQgUG9zdC1yZW5kZXIgaG9va1xuLy8gY29uc29sZS5sb2coJyVjIHJlbmRlciBlbmQgJywgJ2NvbG9yOiAjZmZmZmZmOyBiYWNrZ3JvdW5kOiAjZmYwMDAwOycpO1xufSxzbmFwc2hvdDpmdW5jdGlvbiBzbmFwc2hvdChjYWxsYmFjayl7dGhpcy5zbmFwc2hvdENhbGxiYWNrPWNhbGxiYWNrO30sY3JlYXRlRkJPOmZ1bmN0aW9uIGNyZWF0ZUZCTygpe30sc2V0QmxlbmRNb2RlOmZ1bmN0aW9uIHNldEJsZW5kTW9kZShuZXdCbGVuZE1vZGUpe3ZhciBnbD10aGlzLmdsO3ZhciByZW5kZXJlcj10aGlzLmN1cnJlbnRSZW5kZXJlcjtpZih0aGlzLmJsZW5kTW9kZSE9PW5ld0JsZW5kTW9kZSl7aWYocmVuZGVyZXIpe3JlbmRlcmVyLmZsdXNoKCk7fXZhciBibGVuZD10aGlzLmJsZW5kTW9kZXNbbmV3QmxlbmRNb2RlXS5mdW5jO2dsLmVuYWJsZShnbC5CTEVORCk7Z2wuYmxlbmRFcXVhdGlvbih0aGlzLmJsZW5kTW9kZXNbbmV3QmxlbmRNb2RlXS5lcXVhdGlvbik7aWYoYmxlbmQubGVuZ3RoPjIpe2dsLmJsZW5kRnVuY1NlcGFyYXRlKGJsZW5kWzBdLGJsZW5kWzFdLGJsZW5kWzJdLGJsZW5kWzNdKTt9ZWxzZXtnbC5ibGVuZEZ1bmMoYmxlbmRbMF0sYmxlbmRbMV0pO310aGlzLmJsZW5kTW9kZT1uZXdCbGVuZE1vZGU7fX0sYWRkUmVuZGVyZXI6ZnVuY3Rpb24gYWRkUmVuZGVyZXIocmVuZGVyZXJJbnN0YW5jZSl7dmFyIGluZGV4PXRoaXMucmVuZGVyZXJBcnJheS5pbmRleE9mKHJlbmRlcmVySW5zdGFuY2UpO2lmKGluZGV4PDApe3RoaXMucmVuZGVyZXJBcnJheS5wdXNoKHJlbmRlcmVySW5zdGFuY2UpO3JldHVybiByZW5kZXJlckluc3RhbmNlO31yZXR1cm4gbnVsbDt9LHNldFRleHR1cmVGaWx0ZXJNb2RlOmZ1bmN0aW9uIHNldFRleHR1cmVGaWx0ZXJNb2RlKHRleHR1cmUsZmlsdGVyTW9kZSl7dmFyIGdsPXRoaXMuZ2w7dmFyIGdsRmlsdGVyPVtnbC5MSU5FQVIsZ2wuTkVBUkVTVF1bZmlsdGVyTW9kZV07Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCx0ZXh0dXJlLnRleHR1cmUpO2dsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsZ2xGaWx0ZXIpO2dsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01BR19GSUxURVIsZ2xGaWx0ZXIpO2lmKHRoaXMuY3VycmVudFRleHR1cmVbMF0hPT1udWxsKXtnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRoaXMuY3VycmVudFRleHR1cmVbMF0udGV4dHVyZSk7fWVsc2V7Z2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxudWxsKTt9cmV0dXJuIHRleHR1cmU7fSx1cGxvYWRDYW52YXNUb0dQVTpmdW5jdGlvbiB1cGxvYWRDYW52YXNUb0dQVShzcmNDYW52YXMsZHN0VGV4dHVyZSxzaG91bGRSZWFsbG9jYXRlKXt2YXIgZ2w9dGhpcy5nbDtpZighZHN0VGV4dHVyZSl7ZHN0VGV4dHVyZT1uZXcgUmVzb3VyY2VzLlRleHR1cmUobnVsbCwwLDApOy8vICBPbmx5IGNhbGwgdGhpcyBvbmNlXG5kc3RUZXh0dXJlLnRleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZSgpO31pZihkc3RUZXh0dXJlIT10aGlzLmN1cnJlbnRUZXh0dXJlWzBdKXt0aGlzLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO31nbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtpZighc2hvdWxkUmVhbGxvY2F0ZSl7Ly8gIFVwZGF0ZSByZXNvdXJjZVxuZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxkc3RUZXh0dXJlLnRleHR1cmUpO2dsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLDAsMCxnbC5SR0JBLGdsLlVOU0lHTkVEX0JZVEUsc3JjQ2FudmFzKTt9ZWxzZXsvLyAgQWxsb2NhdGUgb3IgUmVhbGxvY2F0ZSByZXNvdXJjZVxuZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCxkc3RUZXh0dXJlLnRleHR1cmUpO2dsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLGdsLlJHQkEsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLHNyY0NhbnZhcyk7Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUixnbC5MSU5FQVIpO2dsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01BR19GSUxURVIsZ2wuTElORUFSKTtnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1MsZ2wuQ0xBTVBfVE9fRURHRSk7Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULGdsLkNMQU1QX1RPX0VER0UpO2RzdFRleHR1cmUud2lkdGg9c3JjQ2FudmFzLndpZHRoO2RzdFRleHR1cmUuaGVpZ2h0PXNyY0NhbnZhcy5oZWlnaHQ7fS8vICBXZSBtdXN0IHJlYmluZCBvbGQgdGV4dHVyZVxuaWYoZHN0VGV4dHVyZSE9dGhpcy5jdXJyZW50VGV4dHVyZVswXSYmdGhpcy5jdXJyZW50VGV4dHVyZVswXSE9PW51bGwpe2dsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdGhpcy5jdXJyZW50VGV4dHVyZVswXS50ZXh0dXJlKTt9cmV0dXJuIGRzdFRleHR1cmU7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLmdsPW51bGw7fX0pO21vZHVsZS5leHBvcnRzPVdlYkdMUmVuZGVyZXI7LyoqKi99LC8qIDQyNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNDI2KTt2YXIgRGF0YUJ1ZmZlcjE2PV9fd2VicGFja19yZXF1aXJlX18oMzcpO3ZhciBEYXRhQnVmZmVyMzI9X193ZWJwYWNrX3JlcXVpcmVfXygzMCk7dmFyIFBIQVNFUl9DT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO3ZhciBUZXh0dXJlZEFuZEFscGhhU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNDI3KTt2YXIgQmxpdHRlckJhdGNoPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBCbGl0dGVyQmF0Y2goZ2FtZSxnbCxtYW5hZ2VyKXt0aGlzLmdhbWU9Z2FtZTt0aGlzLnR5cGU9UEhBU0VSX0NPTlNULldFQkdMO3RoaXMudmlldz1nYW1lLmNhbnZhczt0aGlzLnJlc29sdXRpb249Z2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLndpZHRoPWdhbWUuY29uZmlnLndpZHRoKmdhbWUuY29uZmlnLnJlc29sdXRpb247dGhpcy5oZWlnaHQ9Z2FtZS5jb25maWcuaGVpZ2h0KmdhbWUuY29uZmlnLnJlc29sdXRpb247dGhpcy5nbENvbnRleHQ9Z2w7dGhpcy5tYXhQYXJ0aWNsZXM9bnVsbDt0aGlzLnNoYWRlcj1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMudmVydGV4RGF0YUJ1ZmZlcj1udWxsO3RoaXMuaW5kZXhEYXRhQnVmZmVyPW51bGw7dGhpcy5lbGVtZW50Q291bnQ9MDt0aGlzLmN1cnJlbnRUZXh0dXJlMkQ9bnVsbDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj1udWxsOy8vICAgQWxsIG9mIHRoZXNlIHNldHRpbmdzIHdpbGwgYmUgYWJsZSB0byBiZSBjb250cm9sbGVkIHZpYSB0aGUgR2FtZSBDb25maWdcbnRoaXMuY29uZmlnPXtjbGVhckJlZm9yZVJlbmRlcjp0cnVlLHRyYW5zcGFyZW50OmZhbHNlLGF1dG9SZXNpemU6ZmFsc2UscHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlLFdlYkdMQ29udGV4dE9wdGlvbnM6e2FscGhhOnRydWUsYW50aWFsaWFzOnRydWUscHJlbXVsdGlwbGllZEFscGhhOnRydWUsc3RlbmNpbDp0cnVlLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpmYWxzZX19O3RoaXMubWFuYWdlcj1tYW5hZ2VyO3RoaXMuZGlydHk9ZmFsc2U7dGhpcy5pbml0KHRoaXMuZ2xDb250ZXh0KTt9LGluaXQ6ZnVuY3Rpb24gaW5pdChnbCl7dmFyIHZlcnRleERhdGFCdWZmZXI9bmV3IERhdGFCdWZmZXIzMihDT05TVC5WRVJURVhfU0laRSpDT05TVC5QQVJUSUNMRV9WRVJURVhfQ09VTlQqQ09OU1QuTUFYX1BBUlRJQ0xFUyk7dmFyIGluZGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjE2KENPTlNULklOREVYX1NJWkUqQ09OU1QuUEFSVElDTEVfSU5ERVhfQ09VTlQqQ09OU1QuTUFYX1BBUlRJQ0xFUyk7dmFyIHNoYWRlcj10aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVNoYWRlcignVGV4dHVyZWRBbmRBbHBoYVNoYWRlcicsVGV4dHVyZWRBbmRBbHBoYVNoYWRlcik7dmFyIGluZGV4QnVmZmVyT2JqZWN0PXRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGluZGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKSxnbC5TVEFUSUNfRFJBVyk7dmFyIHZlcnRleEJ1ZmZlck9iamVjdD10aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZUJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsdmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKSxnbC5TVFJFQU1fRFJBVyk7dmFyIHZpZXdNYXRyaXhMb2NhdGlvbj1zaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKCd1X3ZpZXdfbWF0cml4Jyk7dmFyIGluZGV4QnVmZmVyPWluZGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgbWF4PUNPTlNULk1BWF9QQVJUSUNMRVMqQ09OU1QuUEFSVElDTEVfSU5ERVhfQ09VTlQ7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfcG9zaXRpb24nKSwyLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDApO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX3RleF9jb29yZCcpLDIsZ2wuRkxPQVQsZmFsc2UsQ09OU1QuVkVSVEVYX1NJWkUsOCk7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfYWxwaGEnKSwxLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDE2KTt0aGlzLnZlcnRleERhdGFCdWZmZXI9dmVydGV4RGF0YUJ1ZmZlcjt0aGlzLmluZGV4RGF0YUJ1ZmZlcj1pbmRleERhdGFCdWZmZXI7dGhpcy5zaGFkZXI9c2hhZGVyO3RoaXMuaW5kZXhCdWZmZXJPYmplY3Q9aW5kZXhCdWZmZXJPYmplY3Q7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3Q9dmVydGV4QnVmZmVyT2JqZWN0O3RoaXMudmlld01hdHJpeExvY2F0aW9uPXZpZXdNYXRyaXhMb2NhdGlvbjt0aGlzLm1heFBhcnRpY2xlcz1tYXg7Ly8gUG9wdWxhdGUgdGhlIGluZGV4IGJ1ZmZlciBvbmx5IG9uY2VcbmZvcih2YXIgaW5kZXhBPTAsaW5kZXhCPTA7aW5kZXhBPG1heDtpbmRleEErPUNPTlNULlBBUlRJQ0xFX0lOREVYX0NPVU5ULGluZGV4Qis9Q09OU1QuUEFSVElDTEVfVkVSVEVYX0NPVU5UKXtpbmRleEJ1ZmZlcltpbmRleEErMF09aW5kZXhCKzA7aW5kZXhCdWZmZXJbaW5kZXhBKzFdPWluZGV4QisxO2luZGV4QnVmZmVyW2luZGV4QSsyXT1pbmRleEIrMjtpbmRleEJ1ZmZlcltpbmRleEErM109aW5kZXhCKzA7aW5kZXhCdWZmZXJbaW5kZXhBKzRdPWluZGV4QisyO2luZGV4QnVmZmVyW2luZGV4QSs1XT1pbmRleEIrMzt9aW5kZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UoaW5kZXhCdWZmZXIsMCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO30sc2hvdWxkRmx1c2g6ZnVuY3Rpb24gc2hvdWxkRmx1c2goKXtyZXR1cm4gZmFsc2U7fSxpc0Z1bGw6ZnVuY3Rpb24gaXNGdWxsKCl7cmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCk+PXRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKTt9LGJpbmQ6ZnVuY3Rpb24gYmluZChzaGFkZXIpe2lmKHNoYWRlcj09PXVuZGVmaW5lZCl7dGhpcy5zaGFkZXIuYmluZCgpO31lbHNle3NoYWRlci5iaW5kKCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24sc2hhZGVyKTt9dGhpcy5pbmRleEJ1ZmZlck9iamVjdC5iaW5kKCk7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QuYmluZCgpO30sZmx1c2g6ZnVuY3Rpb24gZmx1c2goc2hhZGVyKXt2YXIgZ2w9dGhpcy5nbENvbnRleHQ7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO2lmKHRoaXMuZWxlbWVudENvdW50PT09MCl7cmV0dXJuO310aGlzLmJpbmQoc2hhZGVyKTt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdC51cGRhdGVSZXNvdXJjZSh2ZXJ0ZXhEYXRhQnVmZmVyLmdldFVzZWRCdWZmZXJBc0Zsb2F0KCksMCk7Z2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUyx0aGlzLmVsZW1lbnRDb3VudCxnbC5VTlNJR05FRF9TSE9SVCwwKTt2ZXJ0ZXhEYXRhQnVmZmVyLmNsZWFyKCk7dGhpcy5lbGVtZW50Q291bnQ9MDt9LHJlc2l6ZTpmdW5jdGlvbiByZXNpemUod2lkdGgsaGVpZ2h0LHJlc29sdXRpb24sc2hhZGVyKXt2YXIgYWN0aXZlU2hhZGVyPXNoYWRlciE9PXVuZGVmaW5lZD9zaGFkZXI6dGhpcy5zaGFkZXI7dGhpcy53aWR0aD13aWR0aCpyZXNvbHV0aW9uO3RoaXMuaGVpZ2h0PWhlaWdodCpyZXNvbHV0aW9uO2FjdGl2ZVNoYWRlci5zZXRDb25zdGFudE1hdHJpeDR4NCh0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbixuZXcgRmxvYXQzMkFycmF5KFsyL3RoaXMud2lkdGgsMCwwLDAsMCwtMi90aGlzLmhlaWdodCwwLDAsMCwwLDEsMSwtMSwxLDAsMF0pKTt9LGRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlU2hhZGVyKHRoaXMuc2hhZGVyKTt0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyT2JqZWN0KTt0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCk7dGhpcy5zaGFkZXI9bnVsbDt0aGlzLmluZGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3Q9bnVsbDt9fSk7bW9kdWxlLmV4cG9ydHM9QmxpdHRlckJhdGNoOy8qKiovfSwvKiA0MjYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ09OU1Q9ey8vIFZFUlRFWF9TSVpFID0gc2l6ZW9mKHZlYzIpICsgc2l6ZW9mKHZlYzIpICsgc2l6ZW9mKGZsb2F0KVxuVkVSVEVYX1NJWkU6MjAsSU5ERVhfU0laRToyLFBBUlRJQ0xFX1ZFUlRFWF9DT1VOVDo0LFBBUlRJQ0xFX0lOREVYX0NPVU5UOjYsLy8gSG93IG1hbnkgMzItYml0IGNvbXBvbmVudHMgZG9lcyB0aGUgdmVydGV4IGhhdmUuXG5QQVJUSUNMRV9WRVJURVhfQ09NUE9ORU5UX0NPVU5UOjUsLy8gQ2FuJ3QgYmUgYmlnZ2VyIHRoYW4gMTAsMDAwIHNpbmNlIGluZGV4IGFyZSAxNi1iaXRcbk1BWF9QQVJUSUNMRVM6MjAwMH07bW9kdWxlLmV4cG9ydHM9Q09OU1Q7LyoqKi99LC8qIDQyNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXt2ZXJ0OlsndW5pZm9ybSBtYXQ0IHVfdmlld19tYXRyaXg7JywnYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjsnLCdhdHRyaWJ1dGUgdmVjMiBhX3RleF9jb29yZDsnLCdhdHRyaWJ1dGUgZmxvYXQgYV9hbHBoYTsnLCd2YXJ5aW5nIHZlYzIgdl90ZXhfY29vcmQ7JywndmFyeWluZyBmbG9hdCB2X2FscGhhOycsJ3ZvaWQgbWFpbiAoKSB7JywnICAgZ2xfUG9zaXRpb24gPSB1X3ZpZXdfbWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjAsIDEuMCk7JywnICAgdl90ZXhfY29vcmQgPSBhX3RleF9jb29yZDsnLCcgICB2X2FscGhhID0gYV9hbHBoYTsnLCd9J10uam9pbignXFxuJyksZnJhZzpbJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsJ3VuaWZvcm0gc2FtcGxlcjJEIHVfc2FtcGxlcjJEOycsJ3ZhcnlpbmcgdmVjMiB2X3RleF9jb29yZDsnLCd2YXJ5aW5nIGZsb2F0IHZfYWxwaGE7Jywndm9pZCBtYWluKCkgeycsJyAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1X3NhbXBsZXIyRCwgdl90ZXhfY29vcmQpICogdmVjNCgxLjAsIDEuMCwgMS4wLCB2X2FscGhhKTsnLCd9J10uam9pbignXFxuJyl9Oy8qKiovfSwvKiA0MjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyOSk7dmFyIERhdGFCdWZmZXIxNj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTt2YXIgRGF0YUJ1ZmZlcjMyPV9fd2VicGFja19yZXF1aXJlX18oMzApO3ZhciBQSEFTRVJfQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0KTt2YXIgVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMzgpO3ZhciBUcmFuc2Zvcm1NYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxMyk7dmFyIEVmZmVjdFJlbmRlcmVyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBFZmZlY3RSZW5kZXJlcihnYW1lLGdsLG1hbmFnZXIpe3RoaXMuZ2FtZT1nYW1lO3RoaXMudHlwZT1QSEFTRVJfQ09OU1QuV0VCR0w7dGhpcy52aWV3PWdhbWUuY2FudmFzO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMud2lkdGg9Z2FtZS5jb25maWcud2lkdGgqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmhlaWdodD1nYW1lLmNvbmZpZy5oZWlnaHQqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmdsQ29udGV4dD1nbDt0aGlzLm1heFNwcml0ZXM9bnVsbDt0aGlzLnNoYWRlcj1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMudmVydGV4RGF0YUJ1ZmZlcj1udWxsO3RoaXMuaW5kZXhEYXRhQnVmZmVyPW51bGw7dGhpcy5lbGVtZW50Q291bnQ9MDt0aGlzLmN1cnJlbnRUZXh0dXJlMkQ9bnVsbDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj1udWxsO3RoaXMudGVtcE1hdHJpeD1uZXcgVHJhbnNmb3JtTWF0cml4KCk7Ly8gICBBbGwgb2YgdGhlc2Ugc2V0dGluZ3Mgd2lsbCBiZSBhYmxlIHRvIGJlIGNvbnRyb2xsZWQgdmlhIHRoZSBHYW1lIENvbmZpZ1xudGhpcy5jb25maWc9e2NsZWFyQmVmb3JlUmVuZGVyOnRydWUsdHJhbnNwYXJlbnQ6ZmFsc2UsYXV0b1Jlc2l6ZTpmYWxzZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2UsV2ViR0xDb250ZXh0T3B0aW9uczp7YWxwaGE6dHJ1ZSxhbnRpYWxpYXM6dHJ1ZSxwcmVtdWx0aXBsaWVkQWxwaGE6dHJ1ZSxzdGVuY2lsOnRydWUscHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlfX07dGhpcy5tYW5hZ2VyPW1hbmFnZXI7dGhpcy5kaXJ0eT1mYWxzZTt0aGlzLmluaXQodGhpcy5nbENvbnRleHQpO30saW5pdDpmdW5jdGlvbiBpbml0KGdsKXt2YXIgdmVydGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjMyKENPTlNULlZFUlRFWF9TSVpFKkNPTlNULlFVQURfVkVSVEVYX0NPVU5UKkNPTlNULk1BWF9RVUFEUyk7dmFyIGluZGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjE2KENPTlNULklOREVYX1NJWkUqQ09OU1QuUVVBRF9JTkRFWF9DT1VOVCpDT05TVC5NQVhfUVVBRFMpO3ZhciBzaGFkZXI9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoJ1RleHR1cmVkQW5kTm9ybWFsaXplZFRpbnRlZFNoYWRlcicsVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyKTt2YXIgaW5kZXhCdWZmZXJPYmplY3Q9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsaW5kZXhEYXRhQnVmZmVyLmdldEJ5dGVDYXBhY2l0eSgpLGdsLlNUQVRJQ19EUkFXKTt2YXIgdmVydGV4QnVmZmVyT2JqZWN0PXRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKGdsLkFSUkFZX0JVRkZFUix2ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVDYXBhY2l0eSgpLGdsLlNUUkVBTV9EUkFXKTt2YXIgdmlld01hdHJpeExvY2F0aW9uPXNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3Vfdmlld19tYXRyaXgnKTt2YXIgaW5kZXhCdWZmZXI9aW5kZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciBtYXg9Q09OU1QuTUFYX1FVQURTKkNPTlNULlFVQURfSU5ERVhfQ09VTlQ7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyPXZlcnRleERhdGFCdWZmZXI7dGhpcy5pbmRleERhdGFCdWZmZXI9aW5kZXhEYXRhQnVmZmVyO3RoaXMuc2hhZGVyPXNoYWRlcjt0aGlzLmluZGV4QnVmZmVyT2JqZWN0PWluZGV4QnVmZmVyT2JqZWN0O3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PXZlcnRleEJ1ZmZlck9iamVjdDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj12aWV3TWF0cml4TG9jYXRpb247dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfcG9zaXRpb24nKSwyLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDApO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX3RleF9jb29yZCcpLDIsZ2wuRkxPQVQsZmFsc2UsQ09OU1QuVkVSVEVYX1NJWkUsOCk7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfY29sb3InKSwzLGdsLlVOU0lHTkVEX0JZVEUsdHJ1ZSxDT05TVC5WRVJURVhfU0laRSwxNik7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfYWxwaGEnKSwxLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDIwKTsvLyBQb3B1bGF0ZSB0aGUgaW5kZXggYnVmZmVyIG9ubHkgb25jZVxuZm9yKHZhciBpbmRleEE9MCxpbmRleEI9MDtpbmRleEE8bWF4O2luZGV4QSs9Q09OU1QuUVVBRF9JTkRFWF9DT1VOVCxpbmRleEIrPUNPTlNULlFVQURfVkVSVEVYX0NPVU5UKXtpbmRleEJ1ZmZlcltpbmRleEErMF09aW5kZXhCKzA7aW5kZXhCdWZmZXJbaW5kZXhBKzFdPWluZGV4QisxO2luZGV4QnVmZmVyW2luZGV4QSsyXT1pbmRleEIrMjtpbmRleEJ1ZmZlcltpbmRleEErM109aW5kZXhCKzA7aW5kZXhCdWZmZXJbaW5kZXhBKzRdPWluZGV4QisyO2luZGV4QnVmZmVyW2luZGV4QSs1XT1pbmRleEIrMzt9aW5kZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UoaW5kZXhCdWZmZXIsMCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO30sc2hvdWxkRmx1c2g6ZnVuY3Rpb24gc2hvdWxkRmx1c2goKXtyZXR1cm4gZmFsc2U7fSxpc0Z1bGw6ZnVuY3Rpb24gaXNGdWxsKCl7cmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCk+PXRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKTt9LGJpbmQ6ZnVuY3Rpb24gYmluZChzaGFkZXIpe2lmKHNoYWRlcj09PXVuZGVmaW5lZCl7dGhpcy5zaGFkZXIuYmluZCgpO31lbHNle3NoYWRlci5iaW5kKCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24sc2hhZGVyKTt9dGhpcy5pbmRleEJ1ZmZlck9iamVjdC5iaW5kKCk7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QuYmluZCgpO30sZmx1c2g6ZnVuY3Rpb24gZmx1c2goc2hhZGVyKXt2YXIgZ2w9dGhpcy5nbENvbnRleHQ7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO2lmKHRoaXMuZWxlbWVudENvdW50PT09MCl7cmV0dXJuO310aGlzLmJpbmQoc2hhZGVyKTt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdC51cGRhdGVSZXNvdXJjZSh2ZXJ0ZXhEYXRhQnVmZmVyLmdldFVzZWRCdWZmZXJBc0Zsb2F0KCksMCk7Z2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUyx0aGlzLmVsZW1lbnRDb3VudCxnbC5VTlNJR05FRF9TSE9SVCwwKTt2ZXJ0ZXhEYXRhQnVmZmVyLmNsZWFyKCk7dGhpcy5lbGVtZW50Q291bnQ9MDt9LHJlc2l6ZTpmdW5jdGlvbiByZXNpemUod2lkdGgsaGVpZ2h0LHJlc29sdXRpb24sc2hhZGVyKXt2YXIgYWN0aXZlU2hhZGVyPXNoYWRlciE9PXVuZGVmaW5lZD9zaGFkZXI6dGhpcy5zaGFkZXI7dGhpcy53aWR0aD13aWR0aCpyZXNvbHV0aW9uO3RoaXMuaGVpZ2h0PWhlaWdodCpyZXNvbHV0aW9uO2FjdGl2ZVNoYWRlci5zZXRDb25zdGFudE1hdHJpeDR4NChhY3RpdmVTaGFkZXIuZ2V0VW5pZm9ybUxvY2F0aW9uKCd1X3ZpZXdfbWF0cml4JyksbmV3IEZsb2F0MzJBcnJheShbMi90aGlzLndpZHRoLDAsMCwwLDAsLTIvdGhpcy5oZWlnaHQsMCwwLDAsMCwxLDEsLTEsMSwwLDBdKSk7fSxyZW5kZXJFZmZlY3Q6ZnVuY3Rpb24gcmVuZGVyRWZmZWN0KGdhbWVPYmplY3QsY2FtZXJhLHRleHR1cmUsdGV4dHVyZVdpZHRoLHRleHR1cmVIZWlnaHQpe3ZhciB0ZW1wTWF0cml4PXRoaXMudGVtcE1hdHJpeDt2YXIgdmVydGV4RGF0YUJ1ZmZlcj10aGlzLnZlcnRleERhdGFCdWZmZXI7dmFyIHZlcnRleEJ1ZmZlck9iamVjdEYzMj12ZXJ0ZXhEYXRhQnVmZmVyLmZsb2F0Vmlldzt2YXIgdmVydGV4QnVmZmVyT2JqZWN0VTMyPXZlcnRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIHZlcnRleE9mZnNldD0wO3ZhciB3aWR0aD10ZXh0dXJlV2lkdGgqKGdhbWVPYmplY3QuZmxpcFg/LTE6MSk7dmFyIGhlaWdodD10ZXh0dXJlSGVpZ2h0KihnYW1lT2JqZWN0LmZsaXBZPy0xOjEpO3ZhciB0cmFuc2xhdGVYPWdhbWVPYmplY3QueC1jYW1lcmEuc2Nyb2xsWCpnYW1lT2JqZWN0LnNjcm9sbEZhY3Rvclg7dmFyIHRyYW5zbGF0ZVk9Z2FtZU9iamVjdC55LWNhbWVyYS5zY3JvbGxZKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWTt2YXIgc2NhbGVYPWdhbWVPYmplY3Quc2NhbGVYO3ZhciBzY2FsZVk9Z2FtZU9iamVjdC5zY2FsZVk7dmFyIHJvdGF0aW9uPS1nYW1lT2JqZWN0LnJvdGF0aW9uO3ZhciB0ZW1wTWF0cml4TWF0cml4PXRlbXBNYXRyaXgubWF0cml4O3ZhciB4PS1nYW1lT2JqZWN0LmRpc3BsYXlPcmlnaW5YK3RleHR1cmVXaWR0aCooZ2FtZU9iamVjdC5mbGlwWD8xOjAuMCk7dmFyIHk9LWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblkrdGV4dHVyZUhlaWdodCooZ2FtZU9iamVjdC5mbGlwWT8xOjAuMCk7dmFyIHh3PXgrd2lkdGg7dmFyIHloPXkraGVpZ2h0O3ZhciBjYW1lcmFNYXRyaXg9Y2FtZXJhLm1hdHJpeC5tYXRyaXg7dmFyIG12YSxtdmIsbXZjLG12ZCxtdmUsbXZmLHR4MCx0eTAsdHgxLHR5MSx0eDIsdHkyLHR4Myx0eTM7dmFyIHNyYSxzcmIsc3JjLHNyZCxzcmUsc3JmLGNtYSxjbWIsY21jLGNtZCxjbWUsY21mO3ZhciBhbHBoYT1nYW1lT2JqZWN0LmFscGhhO3ZhciB0aW50VEw9Z2FtZU9iamVjdC5fdGludFRMO3ZhciB0aW50VFI9Z2FtZU9iamVjdC5fdGludFRSO3ZhciB0aW50Qkw9Z2FtZU9iamVjdC5fdGludEJMO3ZhciB0aW50QlI9Z2FtZU9iamVjdC5fdGludEJSO3RlbXBNYXRyaXguYXBwbHlJVFJTKHRyYW5zbGF0ZVgsdHJhbnNsYXRlWSxyb3RhdGlvbixzY2FsZVgsc2NhbGVZKTtzcmE9dGVtcE1hdHJpeE1hdHJpeFswXTtzcmI9dGVtcE1hdHJpeE1hdHJpeFsxXTtzcmM9dGVtcE1hdHJpeE1hdHJpeFsyXTtzcmQ9dGVtcE1hdHJpeE1hdHJpeFszXTtzcmU9dGVtcE1hdHJpeE1hdHJpeFs0XTtzcmY9dGVtcE1hdHJpeE1hdHJpeFs1XTtjbWE9Y2FtZXJhTWF0cml4WzBdO2NtYj1jYW1lcmFNYXRyaXhbMV07Y21jPWNhbWVyYU1hdHJpeFsyXTtjbWQ9Y2FtZXJhTWF0cml4WzNdO2NtZT1jYW1lcmFNYXRyaXhbNF07Y21mPWNhbWVyYU1hdHJpeFs1XTttdmE9c3JhKmNtYStzcmIqY21jO212Yj1zcmEqY21iK3NyYipjbWQ7bXZjPXNyYypjbWErc3JkKmNtYzttdmQ9c3JjKmNtYitzcmQqY21kO212ZT1zcmUqY21hK3NyZipjbWMrY21lO212Zj1zcmUqY21iK3NyZipjbWQrY21mO3R4MD14Km12YSt5Km12YyttdmU7dHkwPXgqbXZiK3kqbXZkK212Zjt0eDE9eCptdmEreWgqbXZjK212ZTt0eTE9eCptdmIreWgqbXZkK212Zjt0eDI9eHcqbXZhK3loKm12YyttdmU7dHkyPXh3Km12Yit5aCptdmQrbXZmO3R4Mz14dyptdmEreSptdmMrbXZlO3R5Mz14dyptdmIreSptdmQrbXZmO3RoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLHRleHR1cmUsZ2FtZU9iamVjdC5yZW5kZXJUYXJnZXQpO3ZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKDI0KTt0aGlzLmVsZW1lbnRDb3VudCs9NjsvLyAgVG9wIExlZnRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPTA7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50VEw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTsvLyAgQm90dG9tIExlZnRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgxO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkxO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPTE7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50Qkw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTsvLyAgQm90dG9tIFJpZ2h0XG52ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPTE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT0xO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludEJSO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7Ly8gIFRvcCBSaWdodFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT0xO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MDt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRUUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhO3RoaXMuZmx1c2goZ2FtZU9iamVjdC5kc3RTaGFkZXIpO2dhbWVPYmplY3QuZHN0UmVuZGVyVGFyZ2V0LnNob3VsZENsZWFyPXRydWU7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZVNoYWRlcih0aGlzLnNoYWRlcik7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlck9iamVjdCk7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QpO3RoaXMuc2hhZGVyPW51bGw7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7fX0pO21vZHVsZS5leHBvcnRzPUVmZmVjdFJlbmRlcmVyOy8qKiovfSwvKiA0MjkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ09OU1Q9ey8vIFZFUlRFWF9TSVpFID0gKHNpemVvZih2ZWMyKSAqIDQpICsgKHNpemVvZihmbG9hdCkgKyBzaXplb2YodWludDMyKSlcblZFUlRFWF9TSVpFOjI0LElOREVYX1NJWkU6MixRVUFEX1ZFUlRFWF9DT1VOVDo0LFFVQURfSU5ERVhfQ09VTlQ6NiwvLyBIb3cgbWFueSAzMi1iaXQgY29tcG9uZW50cyBkb2VzIHRoZSB2ZXJ0ZXggaGF2ZS5cblFVQURfVkVSVEVYX0NPTVBPTkVOVF9DT1VOVDo2LC8vIENhbid0IGJlIGJpZ2dlciBzaW5jZSBpbmRleCBhcmUgMTYtYml0XG5NQVhfUVVBRFM6Mn07bW9kdWxlLmV4cG9ydHM9Q09OU1Q7LyoqKi99LC8qIDQzMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNDMxKTt2YXIgRGF0YUJ1ZmZlcjE2PV9fd2VicGFja19yZXF1aXJlX18oMzcpO3ZhciBEYXRhQnVmZmVyMzI9X193ZWJwYWNrX3JlcXVpcmVfXygzMCk7dmFyIFBIQVNFUl9DT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpO3ZhciBVbnRleHR1cmVkQW5kVGludGVkU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNDMyKTt2YXIgUXVhZEJhdGNoPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBRdWFkQmF0Y2goZ2FtZSxnbCxtYW5hZ2VyKXt0aGlzLmdhbWU9Z2FtZTt0aGlzLnR5cGU9UEhBU0VSX0NPTlNULldFQkdMO3RoaXMudmlldz1nYW1lLmNhbnZhczt0aGlzLnJlc29sdXRpb249Z2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLndpZHRoPWdhbWUuY29uZmlnLndpZHRoKmdhbWUuY29uZmlnLnJlc29sdXRpb247dGhpcy5oZWlnaHQ9Z2FtZS5jb25maWcuaGVpZ2h0KmdhbWUuY29uZmlnLnJlc29sdXRpb247dGhpcy5nbENvbnRleHQ9Z2w7dGhpcy5tYXhRdWFkcz1udWxsO3RoaXMuc2hhZGVyPW51bGw7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3Q9bnVsbDt0aGlzLmluZGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyPW51bGw7dGhpcy5pbmRleERhdGFCdWZmZXI9bnVsbDt0aGlzLmVsZW1lbnRDb3VudD0wO3RoaXMudmlld01hdHJpeExvY2F0aW9uPW51bGw7Ly8gICBBbGwgb2YgdGhlc2Ugc2V0dGluZ3Mgd2lsbCBiZSBhYmxlIHRvIGJlIGNvbnRyb2xsZWQgdmlhIHRoZSBHYW1lIENvbmZpZ1xudGhpcy5jb25maWc9e2NsZWFyQmVmb3JlUmVuZGVyOnRydWUsdHJhbnNwYXJlbnQ6ZmFsc2UsYXV0b1Jlc2l6ZTpmYWxzZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2UsV2ViR0xDb250ZXh0T3B0aW9uczp7YWxwaGE6dHJ1ZSxhbnRpYWxpYXM6dHJ1ZSxwcmVtdWx0aXBsaWVkQWxwaGE6dHJ1ZSxzdGVuY2lsOnRydWUscHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlfX07dGhpcy5tYW5hZ2VyPW1hbmFnZXI7dGhpcy5kaXJ0eT1mYWxzZTt0aGlzLmluaXQodGhpcy5nbENvbnRleHQpO30saW5pdDpmdW5jdGlvbiBpbml0KGdsKXt2YXIgdmVydGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjMyKENPTlNULlZFUlRFWF9TSVpFKkNPTlNULkFBUVVBRF9WRVJURVhfQ09VTlQqQ09OU1QuTUFYX0FBUVVBRCk7dmFyIGluZGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjE2KENPTlNULklOREVYX1NJWkUqQ09OU1QuQUFRVUFEX0lOREVYX0NPVU5UKkNPTlNULk1BWF9BQVFVQUQpO3ZhciBzaGFkZXI9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVTaGFkZXIoJ1VudGV4dHVyZWRBbmRUaW50ZWRTaGFkZXInLFVudGV4dHVyZWRBbmRUaW50ZWRTaGFkZXIpO3ZhciBpbmRleEJ1ZmZlck9iamVjdD10aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZUJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpbmRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RBVElDX0RSQVcpO3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3Q9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLHZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RSRUFNX0RSQVcpO3ZhciB2aWV3TWF0cml4TG9jYXRpb249c2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV92aWV3X21hdHJpeCcpO3ZhciBpbmRleEJ1ZmZlcj1pbmRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIG1heD1DT05TVC5NQVhfQUFRVUFEKkNPTlNULkFBUVVBRF9JTkRFWF9DT1VOVDt2ZXJ0ZXhCdWZmZXJPYmplY3QuYWRkQXR0cmlidXRlKHNoYWRlci5nZXRBdHRyaWJMb2NhdGlvbignYV9wb3NpdGlvbicpLDIsZ2wuRkxPQVQsZmFsc2UsQ09OU1QuVkVSVEVYX1NJWkUsMCk7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfY29sb3InKSw0LGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDgpO3RoaXMudmVydGV4RGF0YUJ1ZmZlcj12ZXJ0ZXhEYXRhQnVmZmVyO3RoaXMuaW5kZXhEYXRhQnVmZmVyPWluZGV4RGF0YUJ1ZmZlcjt0aGlzLnNoYWRlcj1zaGFkZXI7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1pbmRleEJ1ZmZlck9iamVjdDt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdD12ZXJ0ZXhCdWZmZXJPYmplY3Q7dGhpcy52aWV3TWF0cml4TG9jYXRpb249dmlld01hdHJpeExvY2F0aW9uOy8vIFBvcHVsYXRlIHRoZSBpbmRleCBidWZmZXIgb25seSBvbmNlXG5mb3IodmFyIGluZGV4QT0wLGluZGV4Qj0wO2luZGV4QTxtYXg7aW5kZXhBKz1DT05TVC5BQVFVQURfSU5ERVhfQ09VTlQsaW5kZXhCKz1DT05TVC5BQVFVQURfVkVSVEVYX0NPVU5UKXtpbmRleEJ1ZmZlcltpbmRleEErMF09aW5kZXhCKzA7aW5kZXhCdWZmZXJbaW5kZXhBKzFdPWluZGV4QisxO2luZGV4QnVmZmVyW2luZGV4QSsyXT1pbmRleEIrMjtpbmRleEJ1ZmZlcltpbmRleEErM109aW5kZXhCKzA7aW5kZXhCdWZmZXJbaW5kZXhBKzRdPWluZGV4QisyO2luZGV4QnVmZmVyW2luZGV4QSs1XT1pbmRleEIrMzt9aW5kZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UoaW5kZXhCdWZmZXIsMCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO30sc2hvdWxkRmx1c2g6ZnVuY3Rpb24gc2hvdWxkRmx1c2goKXtyZXR1cm4gZmFsc2U7fSxpc0Z1bGw6ZnVuY3Rpb24gaXNGdWxsKCl7cmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCk+PXRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKTt9LGFkZDpmdW5jdGlvbiBhZGQoeCx5LHdpZHRoLGhlaWdodCxyZWQsZ3JlZW4sYmx1ZSxhbHBoYSl7Ly8gVGhlIHVzZXIgbXVzdCBjaGVjayBpZiB0aGUgYnVmZmVycyBhcmUgZnVsbCBiZWZvcmUgZmx1c2hpbmdcbi8vIHRoaXMgaXMgdG8gZ2l2ZSBmcmVlZG9tIG9mIHdoZW4gc2hvdWxkIHRoZSByZW5kZXJlciBmbHVzaC4gdmFyIHZlcnRleERhdGFCdWZmZXIgPSB0aGlzLnZlcnRleERhdGFCdWZmZXI7XG52YXIgdmVydGV4RGF0YUJ1ZmZlcj10aGlzLnZlcnRleERhdGFCdWZmZXI7dmFyIGZsb2F0QnVmZmVyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZShDT05TVC5BQVFVQURfVkVSVEVYX0NPTVBPTkVOVF9DT1VOVCpDT05TVC5BQVFVQURfVkVSVEVYX0NPVU5UKTtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109eDtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109eTtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109cmVkO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1ncmVlbjtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109Ymx1ZTtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXg7ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXkraGVpZ2h0O2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1yZWQ7ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWdyZWVuO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1ibHVlO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109eCt3aWR0aDtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109eStoZWlnaHQ7ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXJlZDtmbG9hdEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109Z3JlZW47ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWJsdWU7ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWFscGhhO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT14K3dpZHRoO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT15O2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1yZWQ7ZmxvYXRCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWdyZWVuO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1ibHVlO2Zsb2F0QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt0aGlzLmVsZW1lbnRDb3VudCs9Q09OU1QuQUFRVUFEX0lOREVYX0NPVU5UO30sYmluZDpmdW5jdGlvbiBiaW5kKHNoYWRlcil7aWYoc2hhZGVyPT09dW5kZWZpbmVkKXt0aGlzLnNoYWRlci5iaW5kKCk7fWVsc2V7c2hhZGVyLmJpbmQoKTt0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbixzaGFkZXIpO310aGlzLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKTt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdC5iaW5kKCk7fSxmbHVzaDpmdW5jdGlvbiBmbHVzaChzaGFkZXIpe3ZhciBnbD10aGlzLmdsQ29udGV4dDt2YXIgdmVydGV4RGF0YUJ1ZmZlcj10aGlzLnZlcnRleERhdGFCdWZmZXI7aWYodGhpcy5lbGVtZW50Q291bnQ9PT0wKXtyZXR1cm47fXRoaXMuYmluZChzaGFkZXIpO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0LnVwZGF0ZVJlc291cmNlKHZlcnRleERhdGFCdWZmZXIuZ2V0VXNlZEJ1ZmZlckFzRmxvYXQoKSwwKTtnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLHRoaXMuZWxlbWVudENvdW50LGdsLlVOU0lHTkVEX1NIT1JULDApO3ZlcnRleERhdGFCdWZmZXIuY2xlYXIoKTt0aGlzLmVsZW1lbnRDb3VudD0wO30scmVzaXplOmZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCxoZWlnaHQscmVzb2x1dGlvbixzaGFkZXIpe3ZhciBhY3RpdmVTaGFkZXI9c2hhZGVyIT09dW5kZWZpbmVkP3NoYWRlcjp0aGlzLnNoYWRlcjt0aGlzLndpZHRoPXdpZHRoKnJlc29sdXRpb247dGhpcy5oZWlnaHQ9aGVpZ2h0KnJlc29sdXRpb247YWN0aXZlU2hhZGVyLnNldENvbnN0YW50TWF0cml4NHg0KHRoaXMudmlld01hdHJpeExvY2F0aW9uLG5ldyBGbG9hdDMyQXJyYXkoWzIvdGhpcy53aWR0aCwwLDAsMCwwLC0yL3RoaXMuaGVpZ2h0LDAsMCwwLDAsMSwxLC0xLDEsMCwwXSkpO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVTaGFkZXIodGhpcy5zaGFkZXIpO3RoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlQnVmZmVyKHRoaXMuaW5kZXhCdWZmZXJPYmplY3QpO3RoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyT2JqZWN0KTt0aGlzLnNoYWRlcj1udWxsO3RoaXMuaW5kZXhCdWZmZXJPYmplY3Q9bnVsbDt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdD1udWxsO319KTttb2R1bGUuZXhwb3J0cz1RdWFkQmF0Y2g7LyoqKi99LC8qIDQzMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDT05TVD17Ly8gVkVSVEVYX1NJWkUgPSBzaXplb2YodmVjMikgKyBzaXplb2YodmVjNClcblZFUlRFWF9TSVpFOjI0LElOREVYX1NJWkU6MixBQVFVQURfVkVSVEVYX0NPVU5UOjQsQUFRVUFEX0lOREVYX0NPVU5UOjYsLy8gSG93IG1hbnkgMzItYml0IGNvbXBvbmVudHMgZG9lcyB0aGUgdmVydGV4IGhhdmUuXG5BQVFVQURfVkVSVEVYX0NPTVBPTkVOVF9DT1VOVDo2LE1BWF9BQVFVQUQ6MjAwMH07bW9kdWxlLmV4cG9ydHM9Q09OU1Q7LyoqKi99LC8qIDQzMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXt2ZXJ0OlsndW5pZm9ybSBtYXQ0IHVfdmlld19tYXRyaXg7JywnYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjsnLCdhdHRyaWJ1dGUgdmVjNCBhX2NvbG9yOycsJ3ZhcnlpbmcgdmVjNCB2X2NvbG9yOycsJ3ZvaWQgbWFpbiAoKSB7JywnICAgZ2xfUG9zaXRpb24gPSB1X3ZpZXdfbWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjAsIDEuMCk7JywnICAgdl9jb2xvciA9IGFfY29sb3I7JywnfSddLmpvaW4oJ1xcbicpLGZyYWc6WydwcmVjaXNpb24gbG93cCBmbG9hdDsnLCd2YXJ5aW5nIHZlYzQgdl9jb2xvcjsnLCd2b2lkIG1haW4oKSB7JywnICAgZ2xfRnJhZ0NvbG9yID0gdl9jb2xvcjsnLCd9J10uam9pbignXFxuJyl9Oy8qKiovfSwvKiA0MzMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBSZXNvdXJjZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxNjApO3ZhciBSZXNvdXJjZU1hbmFnZXI9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFJlc291cmNlTWFuYWdlcihnbCl7dGhpcy5nbD1nbDsvLyAgTWF5YmUgYWRkIHBvb2xpbmcgaGVyZT9cbnRoaXMuc2hhZGVyQ2FjaGU9e307dGhpcy5zaGFkZXJDb3VudD0wO30sY3JlYXRlUmVuZGVyVGFyZ2V0OmZ1bmN0aW9uIGNyZWF0ZVJlbmRlclRhcmdldCh3aWR0aCxoZWlnaHQsY29sb3JCdWZmZXIsZGVwdGhTdGVuY2lsQnVmZmVyKXt2YXIgZ2w9dGhpcy5nbDt2YXIgZnJhbWVidWZmZXJPYmplY3Q9Z2wuY3JlYXRlRnJhbWVidWZmZXIoKTt2YXIgZGVwdGhTdGVuY2lsUmVuZGVyYnVmZmVyT2JqZWN0PW51bGw7dmFyIGNvbG9yUmVuZGVyYnVmZmVyT2JqZWN0PW51bGw7dmFyIGNvbXBsZXRlPTA7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLGZyYW1lYnVmZmVyT2JqZWN0KTtpZihkZXB0aFN0ZW5jaWxCdWZmZXIhPT11bmRlZmluZWQmJmRlcHRoU3RlbmNpbEJ1ZmZlciE9PW51bGwpe2RlcHRoU3RlbmNpbEJ1ZmZlci5pc1JlbmRlclRleHR1cmU9dHJ1ZTtnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsZ2wuVEVYVFVSRV8yRCxkZXB0aFN0ZW5jaWxCdWZmZXIudGV4dHVyZSxkZXB0aFN0ZW5jaWxCdWZmZXIubWlwTGV2ZWwpO31lbHNle2RlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlck9iamVjdD1nbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUixkZXB0aFN0ZW5jaWxSZW5kZXJidWZmZXJPYmplY3QpO2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLGdsLkRFUFRIX1NURU5DSUwsd2lkdGgsaGVpZ2h0KTtnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUixnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsZ2wuUkVOREVSQlVGRkVSLGRlcHRoU3RlbmNpbFJlbmRlcmJ1ZmZlck9iamVjdCk7fWlmKGNvbG9yQnVmZmVyIT09dW5kZWZpbmVkJiZjb2xvckJ1ZmZlciE9PW51bGwpe2NvbG9yQnVmZmVyLmlzUmVuZGVyVGV4dHVyZT10cnVlO2dsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLGdsLkNPTE9SX0FUVEFDSE1FTlQwLGdsLlRFWFRVUkVfMkQsY29sb3JCdWZmZXIudGV4dHVyZSxjb2xvckJ1ZmZlci5taXBMZXZlbCk7fWVsc2V7Y29sb3JSZW5kZXJidWZmZXJPYmplY3Q9Z2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7Z2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsY29sb3JSZW5kZXJidWZmZXJPYmplY3QpO2dsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLGdsLlJHQkE0LHdpZHRoLGhlaWdodCk7Z2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsZ2wuQ09MT1JfQVRUQUNITUVOVDAsZ2wuUkVOREVSQlVGRkVSLGNvbG9yUmVuZGVyYnVmZmVyT2JqZWN0KTt9Y29tcGxldGU9Z2wuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyhnbC5GUkFNRUJVRkZFUik7aWYoY29tcGxldGUhPT1nbC5GUkFNRUJVRkZFUl9DT01QTEVURSl7dmFyIGVycm9ycz17MzYwNTQ6J0luY29tcGxldGUgQXR0YWNobWVudCcsMzYwNTU6J01pc3NpbmcgQXR0YWNobWVudCcsMzYwNTc6J0luY29tcGxldGUgRGltZW5zaW9ucycsMzYwNjE6J0ZyYW1lYnVmZmVyIFVuc3VwcG9ydGVkJ307dGhyb3cgbmV3IEVycm9yKCdGcmFtZWJ1ZmZlciBpbmNvbXBsZXRlLiBGcmFtZWJ1ZmZlciBzdGF0dXM6ICcrZXJyb3JzW2NvbXBsZXRlXSk7fWdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUixudWxsKTtyZXR1cm4gbmV3IFJlc291cmNlcy5SZW5kZXJUYXJnZXQoZnJhbWVidWZmZXJPYmplY3Qsd2lkdGgsaGVpZ2h0LGNvbG9yQnVmZmVyPT09dW5kZWZpbmVkP251bGw6Y29sb3JCdWZmZXIsZGVwdGhTdGVuY2lsQnVmZmVyPT09dW5kZWZpbmVkP251bGw6ZGVwdGhTdGVuY2lsQnVmZmVyKTt9LGNyZWF0ZUJ1ZmZlcjpmdW5jdGlvbiBjcmVhdGVCdWZmZXIodGFyZ2V0LGluaXRpYWxEYXRhT3JTaXplLGJ1ZmZlclVzYWdlKXt2YXIgZ2w9dGhpcy5nbDt2YXIgYnVmZmVyT2JqZWN0PWdsLmNyZWF0ZUJ1ZmZlcigpO2dsLmJpbmRCdWZmZXIodGFyZ2V0LGJ1ZmZlck9iamVjdCk7Z2wuYnVmZmVyRGF0YSh0YXJnZXQsaW5pdGlhbERhdGFPclNpemUsYnVmZmVyVXNhZ2UpO3N3aXRjaCh0YXJnZXQpe2Nhc2UgZ2wuQVJSQVlfQlVGRkVSOnJldHVybiBuZXcgUmVzb3VyY2VzLlZlcnRleEJ1ZmZlcihnbCxidWZmZXJPYmplY3QpO2Nhc2UgZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVI6cmV0dXJuIG5ldyBSZXNvdXJjZXMuSW5kZXhCdWZmZXIoZ2wsYnVmZmVyT2JqZWN0KTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcignSW52YWxpZCBCdWZmZXIgVGFyZ2V0Jyk7fX0sY3JlYXRlVGV4dHVyZTpmdW5jdGlvbiBjcmVhdGVUZXh0dXJlKG1pcExldmVsLG1pbkZpbHRlcixtYWdGaWx0ZXIsd3JhcFQsd3JhcFMsZm9ybWF0LHBpeGVscyx3aWR0aCxoZWlnaHQpe3ZhciBnbD10aGlzLmdsO3ZhciB0ZXh0dXJlPWdsLmNyZWF0ZVRleHR1cmUoKTtnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHRleHR1cmUpO2dsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCxnbC5URVhUVVJFX01JTl9GSUxURVIsbWluRmlsdGVyKTtnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9NQUdfRklMVEVSLG1hZ0ZpbHRlcik7Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLHdyYXBTKTtnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsZ2wuVEVYVFVSRV9XUkFQX1Qsd3JhcFQpO2lmKHBpeGVscz09PW51bGx8fHBpeGVscz09PXVuZGVmaW5lZCl7Z2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELG1pcExldmVsLGZvcm1hdCx3aWR0aCxoZWlnaHQsMCxmb3JtYXQsZ2wuVU5TSUdORURfQllURSxudWxsKTt9ZWxzZXtnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsbWlwTGV2ZWwsZm9ybWF0LGZvcm1hdCxnbC5VTlNJR05FRF9CWVRFLHBpeGVscyk7d2lkdGg9cGl4ZWxzLndpZHRoO2hlaWdodD1waXhlbHMuaGVpZ2h0O31nbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpO3JldHVybiBuZXcgUmVzb3VyY2VzLlRleHR1cmUodGV4dHVyZSx3aWR0aCxoZWlnaHQpO30sY3JlYXRlU2hhZGVyOmZ1bmN0aW9uIGNyZWF0ZVNoYWRlcihzaGFkZXJOYW1lLHNoYWRlclNvdXJjZXMpe2lmKHNoYWRlck5hbWU9PT1udWxsfHxzaGFkZXJOYW1lPT09dW5kZWZpbmVkKXtzaGFkZXJOYW1lKz0nU2hhZGVyJyt0aGlzLnNoYWRlckNvdW50O3RoaXMuc2hhZGVyQ291bnQrPTE7fWlmKCEoc2hhZGVyTmFtZSBpbiB0aGlzLnNoYWRlckNhY2hlKSl7dmFyIGdsPXRoaXMuZ2w7dmFyIHByb2dyYW07dmFyIHZlcnRTaGFkZXI7dmFyIGZyYWdTaGFkZXI7dmFyIHN0YXR1czt2YXIgZXJyb3I7dmFyIHNoYWRlcjt2ZXJ0U2hhZGVyPWdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtnbC5zaGFkZXJTb3VyY2UodmVydFNoYWRlcixzaGFkZXJTb3VyY2VzLnZlcnQpO2dsLmNvbXBpbGVTaGFkZXIodmVydFNoYWRlcik7ZXJyb3I9Z2wuZ2V0U2hhZGVySW5mb0xvZyh2ZXJ0U2hhZGVyKTtzdGF0dXM9Z2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHZlcnRTaGFkZXIsZ2wuQ09NUElMRV9TVEFUVVMpO2lmKCFzdGF0dXMmJmVycm9yJiZlcnJvci5sZW5ndGg+MCl7dGhyb3cgbmV3IEVycm9yKCdWZXJ0ZXggU2hhZGVyIENvbXBpbGF0aW9uIEVycm9yLiBTaGFkZXIgbmFtZTogJytzaGFkZXJOYW1lKycuXFxuJytlcnJvcisnXFxuXFxuIFNoYWRlciBzb3VyY2U6XFxuJytzaGFkZXJTb3VyY2VzLnZlcnQpO31lbHNlIGlmKGVycm9yJiZlcnJvci5sZW5ndGg+MCl7Y29uc29sZS53YXJuKCdWZXJ0ZXggU2hhZGVyIENvbXBpbGF0aW9uIFdhcm5pbmcuIFNoYWRlciBuYW1lOiAnK3NoYWRlck5hbWUrJy5cXG4nK2Vycm9yKydcXG5cXG4gU2hhZGVyIHNvdXJjZTpcXG4nK3NoYWRlclNvdXJjZXMudmVydCk7fWZyYWdTaGFkZXI9Z2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7Z2wuc2hhZGVyU291cmNlKGZyYWdTaGFkZXIsc2hhZGVyU291cmNlcy5mcmFnKTtnbC5jb21waWxlU2hhZGVyKGZyYWdTaGFkZXIpO2Vycm9yPWdsLmdldFNoYWRlckluZm9Mb2coZnJhZ1NoYWRlcik7c3RhdHVzPWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnU2hhZGVyLGdsLkNPTVBJTEVfU1RBVFVTKTtpZighc3RhdHVzJiZlcnJvciYmZXJyb3IubGVuZ3RoPjApe3Rocm93IG5ldyBFcnJvcignRnJhZ21lbnQgU2hhZGVyIENvbXBpbGF0aW9uIEVycm9yLiBTaGFkZXIgbmFtZTogJytzaGFkZXJOYW1lKycuXFxuJytlcnJvcisnXFxuXFxuIFNoYWRlciBzb3VyY2U6XFxuJytzaGFkZXJTb3VyY2VzLmZyYWcpO31lbHNlIGlmKGVycm9yJiZlcnJvci5sZW5ndGg+MCl7Y29uc29sZS53YXJuKCdGcmFnbWVudCBTaGFkZXIgQ29tcGlsYXRpb24gV2FybmluZy4gU2hhZGVyIG5hbWU6ICcrc2hhZGVyTmFtZSsnLlxcbicrZXJyb3IrJ1xcblxcbiBTaGFkZXIgc291cmNlOlxcbicrc2hhZGVyU291cmNlcy5mcmFnKTt9cHJvZ3JhbT1nbC5jcmVhdGVQcm9ncmFtKCk7Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sdmVydFNoYWRlcik7Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sZnJhZ1NoYWRlcik7Z2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7Z2wudmFsaWRhdGVQcm9ncmFtKHByb2dyYW0pO2Vycm9yPWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSxnbC5MSU5LX1NUQVRVUyk7aWYoZXJyb3I9PT0wKXtlcnJvcj1nbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKTt0aHJvdyBuZXcgRXJyb3IoJ1Byb2dyYW0gTGlua2luZyBFcnJvci4gU2hhZGVyIG5hbWU6ICcrc2hhZGVyTmFtZSsnLlxcbicrZXJyb3IpO31lcnJvcj1nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sZ2wuVkFMSURBVEVfU1RBVFVTKTtpZihlcnJvcj09PTApe2Vycm9yPWdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pO3Rocm93IG5ldyBFcnJvcignUHJvZ3JhbSBWYWxpZGF0aW9uIEVycm9yLiBTaGFkZXIgbmFtZTogJytzaGFkZXJOYW1lKycuXFxuJytlcnJvcik7fXNoYWRlcj1uZXcgUmVzb3VyY2VzLlNoYWRlcihzaGFkZXJOYW1lLGdsLHByb2dyYW0sdmVydFNoYWRlcixmcmFnU2hhZGVyKTt0aGlzLnNoYWRlckNhY2hlW3NoYWRlck5hbWVdPXNoYWRlcjtyZXR1cm4gc2hhZGVyO31lbHNle3JldHVybiB0aGlzLnNoYWRlckNhY2hlW3NoYWRlck5hbWVdO319LGRlbGV0ZVNoYWRlcjpmdW5jdGlvbiBkZWxldGVTaGFkZXIoc2hhZGVyKXt2YXIgc3RvcmVkU2hhZGVyPXRoaXMuc2hhZGVyQ2FjaGVbc2hhZGVyLm5hbWVdO3ZhciBnbD10aGlzLmdsO2lmKHN0b3JlZFNoYWRlciE9PXVuZGVmaW5lZCl7ZGVsZXRlIHRoaXMuc2hhZGVyQ2FjaGU7fWdsLmRlbGV0ZVNoYWRlcihzaGFkZXIudmVydGV4U2hhZGVyKTtnbC5kZWxldGVTaGFkZXIoc2hhZGVyLmZyYWdtZW50U2hhZGVyKTtnbC5kZWxldGVQcm9ncmFtKHNoYWRlci5wcm9ncmFtKTtzaGFkZXIudmVydGV4U2hhZGVyPW51bGw7c2hhZGVyLmZyYWdtZW50U2hhZGVyPW51bGw7c2hhZGVyLnByb2dyYW09bnVsbDtzaGFkZXIubmFtZT1udWxsO30sZGVsZXRlQnVmZmVyOmZ1bmN0aW9uIGRlbGV0ZUJ1ZmZlcihidWZmZXIpe3ZhciBnbD10aGlzLmdsO2dsLmRlbGV0ZUJ1ZmZlcihidWZmZXIuYnVmZmVyT2JqZWN0KTt9fSk7bW9kdWxlLmV4cG9ydHM9UmVzb3VyY2VNYW5hZ2VyOy8qKiovfSwvKiA0MzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBJbmRleEJ1ZmZlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gSW5kZXhCdWZmZXIoZ2wsYnVmZmVyT2JqZWN0KXt0aGlzLmdsPWdsO3RoaXMuYnVmZmVyVGFyZ2V0PWdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSO3RoaXMuYnVmZmVyT2JqZWN0PWJ1ZmZlck9iamVjdDt9LGJpbmQ6ZnVuY3Rpb24gYmluZCgpe3ZhciBnbD10aGlzLmdsO2dsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5idWZmZXJPYmplY3QpO3JldHVybiB0aGlzO30sdXBkYXRlUmVzb3VyY2U6ZnVuY3Rpb24gdXBkYXRlUmVzb3VyY2UoYnVmZmVyRGF0YSxvZmZzZXQpe3ZhciBnbD10aGlzLmdsO2dsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdGhpcy5idWZmZXJPYmplY3QpO2dsLmJ1ZmZlclN1YkRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsb2Zmc2V0LGJ1ZmZlckRhdGEpO3JldHVybiB0aGlzO319KTttb2R1bGUuZXhwb3J0cz1JbmRleEJ1ZmZlcjsvKioqL30sLyogNDM1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFJlbmRlclRhcmdldD1mdW5jdGlvbiBSZW5kZXJUYXJnZXQoZnJhbWVidWZmZXJPYmplY3Qsd2lkdGgsaGVpZ2h0LGNvbG9yQnVmZmVyLGRlcHRoU3RlbmNpbEJ1ZmZlcil7dGhpcy5mcmFtZWJ1ZmZlck9iamVjdD1mcmFtZWJ1ZmZlck9iamVjdDt0aGlzLndpZHRoPXdpZHRoO3RoaXMuaGVpZ2h0PWhlaWdodDt0aGlzLmNvbG9yQnVmZmVyPWNvbG9yQnVmZmVyO3RoaXMuZGVwdGhTdGVuY2lsQnVmZmVyPWRlcHRoU3RlbmNpbEJ1ZmZlcjt0aGlzLnNob3VsZENsZWFyPWZhbHNlO3RoaXMuY2xlYXJBbHBoYT0wLjA7fTttb2R1bGUuZXhwb3J0cz1SZW5kZXJUYXJnZXQ7LyoqKi99LC8qIDQzNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIFNoYWRlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gU2hhZGVyKG5hbWUsZ2wscHJvZ3JhbSx2ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXIpe3RoaXMuZ2w9Z2w7dGhpcy5wcm9ncmFtPXByb2dyYW07dGhpcy52ZXJ0ZXhTaGFkZXI9dmVydGV4U2hhZGVyO3RoaXMuZnJhZ21lbnRTaGFkZXI9ZnJhZ21lbnRTaGFkZXI7dGhpcy5uYW1lPW5hbWU7fSxnZXRVbmlmb3JtTG9jYXRpb246ZnVuY3Rpb24gZ2V0VW5pZm9ybUxvY2F0aW9uKG5hbWUpe3JldHVybiB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnByb2dyYW0sbmFtZSk7fSxnZXRBdHRyaWJMb2NhdGlvbjpmdW5jdGlvbiBnZXRBdHRyaWJMb2NhdGlvbihuYW1lKXtyZXR1cm4gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnByb2dyYW0sbmFtZSk7fSxzZXRDb25zdGFudEZsb2F0MTpmdW5jdGlvbiBzZXRDb25zdGFudEZsb2F0MShsb2NhdGlvbix4KXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTt0aGlzLmdsLnVuaWZvcm0xZihsb2NhdGlvbix4KTtyZXR1cm4gdGhpczt9LHNldENvbnN0YW50RmxvYXQyOmZ1bmN0aW9uIHNldENvbnN0YW50RmxvYXQyKGxvY2F0aW9uLHgseSl7dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7dGhpcy5nbC51bmlmb3JtMmYobG9jYXRpb24seCx5KTtyZXR1cm4gdGhpczt9LHNldENvbnN0YW50RmxvYXQzOmZ1bmN0aW9uIHNldENvbnN0YW50RmxvYXQzKGxvY2F0aW9uLHgseSx6KXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTt0aGlzLmdsLnVuaWZvcm0zZihsb2NhdGlvbix4LHkseik7cmV0dXJuIHRoaXM7fSxzZXRDb25zdGFudEZsb2F0NDpmdW5jdGlvbiBzZXRDb25zdGFudEZsb2F0NChsb2NhdGlvbix4LHkseix3KXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTt0aGlzLmdsLnVuaWZvcm00Zihsb2NhdGlvbix4LHkseix3KTtyZXR1cm4gdGhpczt9LHNldENvbnN0YW50SW50MTpmdW5jdGlvbiBzZXRDb25zdGFudEludDEobG9jYXRpb24seCl7dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7dGhpcy5nbC51bmlmb3JtMWkobG9jYXRpb24seCk7cmV0dXJuIHRoaXM7fSxzZXRDb25zdGFudEludDI6ZnVuY3Rpb24gc2V0Q29uc3RhbnRJbnQyKGxvY2F0aW9uLHgseSl7dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7dGhpcy5nbC51bmlmb3JtMmkobG9jYXRpb24seCx5KTtyZXR1cm4gdGhpczt9LHNldENvbnN0YW50SW50MzpmdW5jdGlvbiBzZXRDb25zdGFudEludDMobG9jYXRpb24seCx5LHope3RoaXMuZ2wudXNlUHJvZ3JhbSh0aGlzLnByb2dyYW0pO3RoaXMuZ2wudW5pZm9ybTNpKGxvY2F0aW9uLHgseSx6KTtyZXR1cm4gdGhpczt9LHNldENvbnN0YW50SW50NDpmdW5jdGlvbiBzZXRDb25zdGFudEludDQobG9jYXRpb24seCx5LHosdyl7dGhpcy5nbC51c2VQcm9ncmFtKHRoaXMucHJvZ3JhbSk7dGhpcy5nbC51bmlmb3JtNGkobG9jYXRpb24seCx5LHosdyk7cmV0dXJuIHRoaXM7fSxzZXRDb25zdGFudE1hdHJpeDJ4MjpmdW5jdGlvbiBzZXRDb25zdGFudE1hdHJpeDJ4Mihsb2NhdGlvbixmbG9hdEFycmF5KXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTt0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYobG9jYXRpb24sZmFsc2UsZmxvYXRBcnJheSk7cmV0dXJuIHRoaXM7fSxzZXRDb25zdGFudE1hdHJpeDN4MzpmdW5jdGlvbiBzZXRDb25zdGFudE1hdHJpeDN4Myhsb2NhdGlvbixmbG9hdEFycmF5KXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTt0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sZmFsc2UsZmxvYXRBcnJheSk7cmV0dXJuIHRoaXM7fSxzZXRDb25zdGFudE1hdHJpeDR4NDpmdW5jdGlvbiBzZXRDb25zdGFudE1hdHJpeDR4NChsb2NhdGlvbixmbG9hdEFycmF5KXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTt0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sZmFsc2UsZmxvYXRBcnJheSk7cmV0dXJuIHRoaXM7fSxiaW5kOmZ1bmN0aW9uIGJpbmQoKXt0aGlzLmdsLnVzZVByb2dyYW0odGhpcy5wcm9ncmFtKTtyZXR1cm4gdGhpczt9fSk7bW9kdWxlLmV4cG9ydHM9U2hhZGVyOy8qKiovfSwvKiA0MzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBUZXh0dXJlPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBUZXh0dXJlKHRleHR1cmUsd2lkdGgsaGVpZ2h0KXt0aGlzLnRleHR1cmU9dGV4dHVyZTt0aGlzLndpZHRoPXdpZHRoO3RoaXMuaGVpZ2h0PWhlaWdodDt0aGlzLmlzUmVuZGVyVGV4dHVyZT1mYWxzZTt9fSk7bW9kdWxlLmV4cG9ydHM9VGV4dHVyZTsvKioqL30sLyogNDM4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgVmVydGV4QnVmZmVyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBWZXJ0ZXhCdWZmZXIoZ2wsYnVmZmVyT2JqZWN0KXt0aGlzLmdsPWdsO3RoaXMuYnVmZmVyVGFyZ2V0PWdsLkFSUkFZX0JVRkZFUjt0aGlzLmJ1ZmZlck9iamVjdD1idWZmZXJPYmplY3Q7dGhpcy5hdHRyaWJ1dGVzPVtdO30sYWRkQXR0cmlidXRlOmZ1bmN0aW9uIGFkZEF0dHJpYnV0ZShpbmRleCxzaXplLHR5cGUsbm9ybWFsaXplZCxzdHJpZGUsb2Zmc2V0KXt0aGlzLmF0dHJpYnV0ZXMucHVzaCh7aW5kZXg6aW5kZXgsc2l6ZTpzaXplLHR5cGU6dHlwZSxub3JtYWxpemVkOm5vcm1hbGl6ZWQsc3RyaWRlOnN0cmlkZSxvZmZzZXQ6b2Zmc2V0fSk7cmV0dXJuIHRoaXM7fSx1cGRhdGVSZXNvdXJjZTpmdW5jdGlvbiB1cGRhdGVSZXNvdXJjZShidWZmZXJEYXRhLG9mZnNldCl7dmFyIGdsPXRoaXMuZ2w7Z2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsdGhpcy5idWZmZXJPYmplY3QpO2dsLmJ1ZmZlclN1YkRhdGEoZ2wuQVJSQVlfQlVGRkVSLG9mZnNldCxidWZmZXJEYXRhKTtyZXR1cm4gdGhpczt9LGJpbmQ6ZnVuY3Rpb24gYmluZCgpe3ZhciBnbD10aGlzLmdsO3ZhciBidWZmZXJPYmplY3Q9dGhpcy5idWZmZXJPYmplY3Q7dmFyIGF0dHJpYnV0ZXM9dGhpcy5hdHRyaWJ1dGVzO3ZhciBhdHRyaWJ1dGVzTGVuZ3RoPWF0dHJpYnV0ZXMubGVuZ3RoO2dsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLGJ1ZmZlck9iamVjdCk7Zm9yKHZhciBpbmRleD0wO2luZGV4PGF0dHJpYnV0ZXNMZW5ndGg7KytpbmRleCl7dmFyIGVsZW1lbnQ9YXR0cmlidXRlc1tpbmRleF07aWYoZWxlbWVudCE9PXVuZGVmaW5lZCYmZWxlbWVudCE9PW51bGwpe2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGVsZW1lbnQuaW5kZXgpO2dsLnZlcnRleEF0dHJpYlBvaW50ZXIoZWxlbWVudC5pbmRleCxlbGVtZW50LnNpemUsZWxlbWVudC50eXBlLGVsZW1lbnQubm9ybWFsaXplZCxlbGVtZW50LnN0cmlkZSxlbGVtZW50Lm9mZnNldCk7fX1yZXR1cm4gdGhpczt9fSk7bW9kdWxlLmV4cG9ydHM9VmVydGV4QnVmZmVyOy8qKiovfSwvKiA0MzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0MCk7dmFyIERhdGFCdWZmZXIzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTt2YXIgRWFyY3V0PV9fd2VicGFja19yZXF1aXJlX18oMTYxKTt2YXIgUEhBU0VSX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNCk7dmFyIFVudGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNDQxKTt2YXIgU2hhcGVCYXRjaD1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gU2hhcGVCYXRjaChnYW1lLGdsLG1hbmFnZXIpe3RoaXMuZ2FtZT1nYW1lO3RoaXMudHlwZT1QSEFTRVJfQ09OU1QuV0VCR0w7dGhpcy52aWV3PWdhbWUuY2FudmFzO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMud2lkdGg9Z2FtZS5jb25maWcud2lkdGgqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmhlaWdodD1nYW1lLmNvbmZpZy5oZWlnaHQqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmdsQ29udGV4dD1nbDt0aGlzLm1heFZlcnRpY2VzPW51bGw7dGhpcy5zaGFkZXI9bnVsbDt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMudmVydGV4RGF0YUJ1ZmZlcj1udWxsO3RoaXMudmVydGV4Q291bnQ9MDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj1udWxsO3RoaXMudGVtcFRyaWFuZ2xlPVt7eDowLHk6MCx3aWR0aDowLHJnYjoweEZGRkZGRixhbHBoYToxLjB9LHt4OjAseTowLHdpZHRoOjAscmdiOjB4RkZGRkZGLGFscGhhOjEuMH0se3g6MCx5OjAsd2lkdGg6MCxyZ2I6MHhGRkZGRkYsYWxwaGE6MS4wfSx7eDowLHk6MCx3aWR0aDowLHJnYjoweEZGRkZGRixhbHBoYToxLjB9XTsvLyAgIEFsbCBvZiB0aGVzZSBzZXR0aW5ncyB3aWxsIGJlIGFibGUgdG8gYmUgY29udHJvbGxlZCB2aWEgdGhlIEdhbWUgQ29uZmlnXG50aGlzLmNvbmZpZz17Y2xlYXJCZWZvcmVSZW5kZXI6dHJ1ZSx0cmFuc3BhcmVudDpmYWxzZSxhdXRvUmVzaXplOmZhbHNlLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpmYWxzZSxXZWJHTENvbnRleHRPcHRpb25zOnthbHBoYTp0cnVlLGFudGlhbGlhczp0cnVlLHByZW11bHRpcGxpZWRBbHBoYTp0cnVlLHN0ZW5jaWw6dHJ1ZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2V9fTt0aGlzLm1hbmFnZXI9bWFuYWdlcjt0aGlzLmRpcnR5PWZhbHNlO3RoaXMuY29udGV4dD1udWxsO3RoaXMuaW5pdCh0aGlzLmdsQ29udGV4dCk7fSxpbml0OmZ1bmN0aW9uIGluaXQoZ2wpe3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPW5ldyBEYXRhQnVmZmVyMzIoQ09OU1QuVkVSVEVYX1NJWkUqQ09OU1QuTUFYX1ZFUlRJQ0VTKTt2YXIgc2hhZGVyPXRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlU2hhZGVyKCdVbnRleHR1cmVkQW5kTm9ybWFsaXplZFRpbnRlZFNoYWRlcicsVW50ZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXIpO3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3Q9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLHZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RSRUFNX0RSQVcpO3ZhciB2aWV3TWF0cml4TG9jYXRpb249c2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV92aWV3X21hdHJpeCcpO3ZhciBtYXg9Q09OU1QuTUFYX1ZFUlRJQ0VTO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX3Bvc2l0aW9uJyksMixnbC5GTE9BVCxmYWxzZSxDT05TVC5WRVJURVhfU0laRSwwKTt2ZXJ0ZXhCdWZmZXJPYmplY3QuYWRkQXR0cmlidXRlKHNoYWRlci5nZXRBdHRyaWJMb2NhdGlvbignYV9jb2xvcicpLDQsZ2wuVU5TSUdORURfQllURSx0cnVlLENPTlNULlZFUlRFWF9TSVpFLDgpO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX2FscGhhJyksMSxnbC5GTE9BVCxmYWxzZSxDT05TVC5WRVJURVhfU0laRSwxMik7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyPXZlcnRleERhdGFCdWZmZXI7dGhpcy5zaGFkZXI9c2hhZGVyO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PXZlcnRleEJ1ZmZlck9iamVjdDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj12aWV3TWF0cml4TG9jYXRpb247dGhpcy5tYXhWZXJ0aWNlcz1tYXg7dGhpcy5wb2x5Z29uQ2FjaGU9W107dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO30sc2hvdWxkRmx1c2g6ZnVuY3Rpb24gc2hvdWxkRmx1c2goKXtyZXR1cm4gZmFsc2U7fSxpc0Z1bGw6ZnVuY3Rpb24gaXNGdWxsKCl7cmV0dXJuIHRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlTGVuZ3RoKCk+PXRoaXMudmVydGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKTt9LGJpbmQ6ZnVuY3Rpb24gYmluZChzaGFkZXIpe2lmKHNoYWRlcj09PXVuZGVmaW5lZCl7dGhpcy5zaGFkZXIuYmluZCgpO31lbHNle3NoYWRlci5iaW5kKCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24sc2hhZGVyKTt9dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QuYmluZCgpO30sZmx1c2g6ZnVuY3Rpb24gZmx1c2goc2hhZGVyKXt2YXIgZ2w9dGhpcy5nbENvbnRleHQ7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO2lmKHRoaXMudmVydGV4Q291bnQ9PT0wKXtyZXR1cm47fXRoaXMuYmluZChzaGFkZXIpO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0LnVwZGF0ZVJlc291cmNlKHZlcnRleERhdGFCdWZmZXIuZ2V0VXNlZEJ1ZmZlckFzRmxvYXQoKSwwKTtnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywwLHRoaXMudmVydGV4Q291bnQpO3ZlcnRleERhdGFCdWZmZXIuY2xlYXIoKTt0aGlzLnZlcnRleENvdW50PTA7fSxyZXNpemU6ZnVuY3Rpb24gcmVzaXplKHdpZHRoLGhlaWdodCxyZXNvbHV0aW9uLHNoYWRlcil7dmFyIGFjdGl2ZVNoYWRlcj1zaGFkZXIhPT11bmRlZmluZWQ/c2hhZGVyOnRoaXMuc2hhZGVyO3RoaXMud2lkdGg9d2lkdGgqcmVzb2x1dGlvbjt0aGlzLmhlaWdodD1oZWlnaHQqcmVzb2x1dGlvbjthY3RpdmVTaGFkZXIuc2V0Q29uc3RhbnRNYXRyaXg0eDQodGhpcy52aWV3TWF0cml4TG9jYXRpb24sbmV3IEZsb2F0MzJBcnJheShbMi90aGlzLndpZHRoLDAsMCwwLDAsLTIvdGhpcy5oZWlnaHQsMCwwLDAsMCwxLDEsLTEsMSwwLDBdKSk7fSwvLyBHcmFwaGljcyBHYW1lIE9iamVjdCBwcm9wZXJ0aWVzXG4vLyBzcmNYLCBzcmNZLCBzcmNTY2FsZVgsIHNyY1NjYWxlWSwgc3JjUm90YXRpb24sXG4vLyBsaW5lIHByb3BlcnRpZXNcbi8vIGF4LCBheSwgYngsIGJ5LCBhTGluZVdpZHRoLCBiTGluZVdpZHRoLCBhTGluZUNvbG9yLCBiTGluZUNvbG9yLCBsaW5lQWxwaGEsXG4vLyB0cmFuc2Zvcm1cbi8vIGExLCBiMSwgYzEsIGQxLCBlMSwgZjEsXG4vLyBjdXJyZW50TWF0cml4XG5hZGRMaW5lOmZ1bmN0aW9uIGFkZExpbmUoc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24sYXgsYXksYngsYnksYUxpbmVXaWR0aCxiTGluZVdpZHRoLGFMaW5lQ29sb3IsYkxpbmVDb2xvcixsaW5lQWxwaGEsYTEsYjEsYzEsZDEsZTEsZjEsY3VycmVudE1hdHJpeCl7aWYodGhpcy52ZXJ0ZXhDb3VudCs2PnRoaXMubWF4VmVydGljZXMpe3RoaXMuZmx1c2goKTt9dGhpcy52ZXJ0ZXhDb3VudCs9Njt2YXIgYTA9Y3VycmVudE1hdHJpeC5tYXRyaXhbMF07dmFyIGIwPWN1cnJlbnRNYXRyaXgubWF0cml4WzFdO3ZhciBjMD1jdXJyZW50TWF0cml4Lm1hdHJpeFsyXTt2YXIgZDA9Y3VycmVudE1hdHJpeC5tYXRyaXhbM107dmFyIGUwPWN1cnJlbnRNYXRyaXgubWF0cml4WzRdO3ZhciBmMD1jdXJyZW50TWF0cml4Lm1hdHJpeFs1XTt2YXIgYT1hMSphMCtiMSpjMDt2YXIgYj1hMSpiMCtiMSpkMDt2YXIgYz1jMSphMCtkMSpjMDt2YXIgZD1jMSpiMCtkMSpkMDt2YXIgZT1lMSphMCtmMSpjMCtlMDt2YXIgZj1lMSpiMCtmMSpkMCtmMDt2YXIgdmVydGV4RGF0YUJ1ZmZlcj10aGlzLnZlcnRleERhdGFCdWZmZXI7dmFyIHZlcnRleEJ1ZmZlckYzMj12ZXJ0ZXhEYXRhQnVmZmVyLmZsb2F0Vmlldzt2YXIgdmVydGV4QnVmZmVyVTMyPXZlcnRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIGR4PWJ4LWF4O3ZhciBkeT1ieS1heTt2YXIgbGVuPU1hdGguc3FydChkeCpkeCtkeSpkeSk7dmFyIGFsMD1hTGluZVdpZHRoKihieS1heSkvbGVuO3ZhciBhbDE9YUxpbmVXaWR0aCooYXgtYngpL2xlbjt2YXIgYmwwPWJMaW5lV2lkdGgqKGJ5LWF5KS9sZW47dmFyIGJsMT1iTGluZVdpZHRoKihheC1ieCkvbGVuO3ZhciBseDA9YngtYmwwO3ZhciBseTA9YnktYmwxO3ZhciBseDE9YXgtYWwwO3ZhciBseTE9YXktYWwxO3ZhciBseDI9YngrYmwwO3ZhciBseTI9YnkrYmwxO3ZhciBseDM9YXgrYWwwO3ZhciBseTM9YXkrYWwxO3ZhciB4MD1seDAqYStseTAqYytlO3ZhciB5MD1seDAqYitseTAqZCtmO3ZhciB4MT1seDEqYStseTEqYytlO3ZhciB5MT1seDEqYitseTEqZCtmO3ZhciB4Mj1seDIqYStseTIqYytlO3ZhciB5Mj1seDIqYitseTIqZCtmO3ZhciB4Mz1seDMqYStseTMqYytlO3ZhciB5Mz1seDMqYitseTMqZCtmO3ZhciB2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZSgyNCk7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT14MDt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXkwO3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109YkxpbmVDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXgxO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109eTE7dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1hTGluZUNvbG9yO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109bGluZUFscGhhO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109eDI7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT15Mjt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWJMaW5lQ29sb3I7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT1saW5lQWxwaGE7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT14MTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXkxO3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109YUxpbmVDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXgzO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109eTM7dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1hTGluZUNvbG9yO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109bGluZUFscGhhO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109eDI7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT15Mjt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWJMaW5lQ29sb3I7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT1saW5lQWxwaGE7cmV0dXJuW3gwLHkwLGJMaW5lQ29sb3IseDEseTEsYUxpbmVDb2xvcix4Mix5MixiTGluZUNvbG9yLHgzLHkzLGFMaW5lQ29sb3JdO30sLy8gR3JhcGhpY3MgR2FtZSBPYmplY3QgcHJvcGVydGllc1xuLy8gc3JjWCwgc3JjWSwgc3JjU2NhbGVYLCBzcmNTY2FsZVksIHNyY1JvdGF0aW9uLFxuLy8gUGF0aCBwcm9wZXJ0aWVzXG4vLyBwYXRoLCBsaW5lV2lkdGgsIGxpbmVDb2xvciwgbGluZUFscGhhLFxuLy8gdHJhbnNmb3JtXG4vLyBhLCBiLCBjLCBkLCBlLCBmLFxuLy8gaXMgbGFzdCBjb25uZWN0aW9uXG4vLyBpc0xhc3RQYXRoLFxuLy8gY3VycmVudE1hdHJpeFxuYWRkU3Ryb2tlUGF0aDpmdW5jdGlvbiBhZGRTdHJva2VQYXRoKHNyY1gsc3JjWSxzcmNTY2FsZVgsc3JjU2NhbGVZLHNyY1JvdGF0aW9uLHBhdGgsbGluZVdpZHRoLGxpbmVDb2xvcixsaW5lQWxwaGEsYSxiLGMsZCxlLGYsaXNMYXN0UGF0aCxjdXJyZW50TWF0cml4KXt2YXIgcG9pbnQwLHBvaW50MTt2YXIgcGF0aExlbmd0aD1wYXRoLmxlbmd0aDt2YXIgcG9seWxpbmVzPXRoaXMucG9seWdvbkNhY2hlO3ZhciBsYXN0LGN1cnI7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO3ZhciB2ZXJ0ZXhCdWZmZXJGMzI9dmVydGV4RGF0YUJ1ZmZlci5mbG9hdFZpZXc7dmFyIHZlcnRleEJ1ZmZlclUzMj12ZXJ0ZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciB2ZXJ0ZXhPZmZzZXQ7dmFyIGxpbmU7Zm9yKHZhciBwYXRoSW5kZXg9MDtwYXRoSW5kZXgrMTxwYXRoTGVuZ3RoO3BhdGhJbmRleCs9MSl7cG9pbnQwPXBhdGhbcGF0aEluZGV4XTtwb2ludDE9cGF0aFtwYXRoSW5kZXgrMV07bGluZT10aGlzLmFkZExpbmUoc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24scG9pbnQwLngscG9pbnQwLnkscG9pbnQxLngscG9pbnQxLnkscG9pbnQwLndpZHRoLzIscG9pbnQxLndpZHRoLzIscG9pbnQwLnJnYixwb2ludDEucmdiLGxpbmVBbHBoYSxhLGIsYyxkLGUsZixjdXJyZW50TWF0cml4KTtwb2x5bGluZXMucHVzaChsaW5lKTt9LyogUmVuZGVyIGpvaW50cyAqL2Zvcih2YXIgaW5kZXg9MSxwb2x5bGluZXNMZW5ndGg9cG9seWxpbmVzLmxlbmd0aDtpbmRleDxwb2x5bGluZXNMZW5ndGg7KytpbmRleCl7aWYodGhpcy52ZXJ0ZXhDb3VudCs2PnRoaXMubWF4VmVydGljZXMpe3RoaXMuZmx1c2goKTt9bGFzdD1wb2x5bGluZXNbaW5kZXgtMV18fHBvbHlsaW5lc1twb2x5bGluZXNMZW5ndGgtMV07Y3Vycj1wb2x5bGluZXNbaW5kZXhdO3ZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKDI0KTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxhc3RbMyoyKzBdO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109bGFzdFszKjIrMV07dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1sYXN0WzMqMisyXTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxhc3RbMyowKzBdO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109bGFzdFszKjArMV07dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1sYXN0WzMqMCsyXTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWN1cnJbMyozKzBdO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109Y3VyclszKjMrMV07dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1jdXJyWzMqMysyXTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxhc3RbMyowKzBdO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109bGFzdFszKjArMV07dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1sYXN0WzMqMCsyXTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxhc3RbMyoyKzBdO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109bGFzdFszKjIrMV07dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1sYXN0WzMqMisyXTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWN1cnJbMyoxKzBdO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109Y3VyclszKjErMV07dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1jdXJyWzMqMSsyXTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWxpbmVBbHBoYTt0aGlzLnZlcnRleENvdW50Kz02O31wb2x5bGluZXMubGVuZ3RoPTA7fSwvLyBHcmFwaGljcyBHYW1lIE9iamVjdCBwcm9wZXJ0aWVzXG4vLyBzcmNYLCBzcmNZLCBzcmNTY2FsZVgsIHNyY1NjYWxlWSwgc3JjUm90YXRpb24sXG4vLyBQYXRoIHByb3BlcnRpZXNcbi8vIHBhdGgsIGZpbGxDb2xvciwgZmlsbEFscGhhLFxuLy8gdHJhbnNmb3JtXG4vLyBhMSwgYjEsIGMxLCBkMSwgZTEsIGYxLFxuLy8gY3VycmVudE1hdHJpeFxuYWRkRmlsbFBhdGg6ZnVuY3Rpb24gYWRkRmlsbFBhdGgoc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24scGF0aCxmaWxsQ29sb3IsZmlsbEFscGhhLGExLGIxLGMxLGQxLGUxLGYxLGN1cnJlbnRNYXRyaXgpe3ZhciBsZW5ndGg9cGF0aC5sZW5ndGg7dmFyIHBvbHlnb25DYWNoZT10aGlzLnBvbHlnb25DYWNoZTt2YXIgcG9seWdvbkluZGV4QXJyYXk7dmFyIHBvaW50O3ZhciB2MCx2MSx2Mjt2YXIgdmVydGV4T2Zmc2V0O3ZhciB2ZXJ0ZXhDb3VudD10aGlzLnZlcnRleENvdW50O3ZhciBtYXhWZXJ0aWNlcz10aGlzLm1heFZlcnRpY2VzO3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyRjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgeDAseTAseDEseTEseDIseTI7dmFyIHR4MCx0eTAsdHgxLHR5MSx0eDIsdHkyO3ZhciBhMD1jdXJyZW50TWF0cml4Lm1hdHJpeFswXTt2YXIgYjA9Y3VycmVudE1hdHJpeC5tYXRyaXhbMV07dmFyIGMwPWN1cnJlbnRNYXRyaXgubWF0cml4WzJdO3ZhciBkMD1jdXJyZW50TWF0cml4Lm1hdHJpeFszXTt2YXIgZTA9Y3VycmVudE1hdHJpeC5tYXRyaXhbNF07dmFyIGYwPWN1cnJlbnRNYXRyaXgubWF0cml4WzVdO3ZhciBhPWExKmEwK2IxKmMwO3ZhciBiPWExKmIwK2IxKmQwO3ZhciBjPWMxKmEwK2QxKmMwO3ZhciBkPWMxKmIwK2QxKmQwO3ZhciBlPWUxKmEwK2YxKmMwK2UwO3ZhciBmPWUxKmIwK2YxKmQwK2YwO2Zvcih2YXIgcGF0aEluZGV4PTA7cGF0aEluZGV4PGxlbmd0aDsrK3BhdGhJbmRleCl7cG9pbnQ9cGF0aFtwYXRoSW5kZXhdO3BvbHlnb25DYWNoZS5wdXNoKHBvaW50LngscG9pbnQueSk7fXBvbHlnb25JbmRleEFycmF5PUVhcmN1dChwb2x5Z29uQ2FjaGUpO2xlbmd0aD1wb2x5Z29uSW5kZXhBcnJheS5sZW5ndGg7Zm9yKHZhciBpbmRleD0wO2luZGV4PGxlbmd0aDtpbmRleCs9Myl7djA9cG9seWdvbkluZGV4QXJyYXlbaW5kZXgrMF0qMjt2MT1wb2x5Z29uSW5kZXhBcnJheVtpbmRleCsxXSoyO3YyPXBvbHlnb25JbmRleEFycmF5W2luZGV4KzJdKjI7aWYodmVydGV4Q291bnQrMz5tYXhWZXJ0aWNlcyl7dGhpcy52ZXJ0ZXhDb3VudD12ZXJ0ZXhDb3VudDt0aGlzLmZsdXNoKCk7dmVydGV4Q291bnQ9MDt9dmVydGV4T2Zmc2V0PXZlcnRleERhdGFCdWZmZXIuYWxsb2NhdGUoMTIpO3ZlcnRleENvdW50Kz0zO3gwPXBvbHlnb25DYWNoZVt2MCswXTt5MD1wb2x5Z29uQ2FjaGVbdjArMV07eDE9cG9seWdvbkNhY2hlW3YxKzBdO3kxPXBvbHlnb25DYWNoZVt2MSsxXTt4Mj1wb2x5Z29uQ2FjaGVbdjIrMF07eTI9cG9seWdvbkNhY2hlW3YyKzFdO3R4MD14MCphK3kwKmMrZTt0eTA9eDAqYit5MCpkK2Y7dHgxPXgxKmEreTEqYytlO3R5MT14MSpiK3kxKmQrZjt0eDI9eDIqYSt5MipjK2U7dHkyPXgyKmIreTIqZCtmO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgwO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkwO3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109ZmlsbENvbG9yO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109ZmlsbEFscGhhO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgxO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkxO3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109ZmlsbENvbG9yO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109ZmlsbEFscGhhO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgyO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkyO3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109ZmlsbENvbG9yO3ZlcnRleEJ1ZmZlckYzMlt2ZXJ0ZXhPZmZzZXQrK109ZmlsbEFscGhhO310aGlzLnZlcnRleENvdW50PXZlcnRleENvdW50O3BvbHlnb25DYWNoZS5sZW5ndGg9MDt9LC8vIEdyYXBoaWNzIEdhbWUgT2JqZWN0IHByb3BlcnRpZXNcbi8vIHNyY1gsIHNyY1ksIHNyY1NjYWxlWCwgc3JjU2NhbGVZLCBzcmNSb3RhdGlvbixcbi8vIFJlY3RhbmdsZSBwcm9wZXJ0aWVzXG4vLyB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmaWxsQ29sb3IsIGZpbGxBbHBoYSxcbi8vIHRyYW5zZm9ybVxuLy8gYTEsIGIxLCBjMSwgZDEsIGUxLCBmMSxcbi8vIGN1cnJlbnRNYXRyaXhcbmFkZEZpbGxSZWN0OmZ1bmN0aW9uIGFkZEZpbGxSZWN0KHNyY1gsc3JjWSxzcmNTY2FsZVgsc3JjU2NhbGVZLHNyY1JvdGF0aW9uLHgseSx3aWR0aCxoZWlnaHQsZmlsbENvbG9yLGZpbGxBbHBoYSxhMSxiMSxjMSxkMSxlMSxmMSxjdXJyZW50TWF0cml4KXtpZih0aGlzLnZlcnRleENvdW50KzY+dGhpcy5tYXhWZXJ0aWNlcyl7dGhpcy5mbHVzaCgpO312YXIgdmVydGV4RGF0YUJ1ZmZlcj10aGlzLnZlcnRleERhdGFCdWZmZXI7dmFyIHZlcnRleEJ1ZmZlckYzMj12ZXJ0ZXhEYXRhQnVmZmVyLmZsb2F0Vmlldzt2YXIgdmVydGV4QnVmZmVyVTMyPXZlcnRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIHZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKDI0KTt2YXIgeHc9eCt3aWR0aDt2YXIgeWg9eStoZWlnaHQ7dmFyIGEwPWN1cnJlbnRNYXRyaXgubWF0cml4WzBdO3ZhciBiMD1jdXJyZW50TWF0cml4Lm1hdHJpeFsxXTt2YXIgYzA9Y3VycmVudE1hdHJpeC5tYXRyaXhbMl07dmFyIGQwPWN1cnJlbnRNYXRyaXgubWF0cml4WzNdO3ZhciBlMD1jdXJyZW50TWF0cml4Lm1hdHJpeFs0XTt2YXIgZjA9Y3VycmVudE1hdHJpeC5tYXRyaXhbNV07dmFyIGE9YTEqYTArYjEqYzA7dmFyIGI9YTEqYjArYjEqZDA7dmFyIGM9YzEqYTArZDEqYzA7dmFyIGQ9YzEqYjArZDEqZDA7dmFyIGU9ZTEqYTArZjEqYzArZTA7dmFyIGY9ZTEqYjArZjEqZDArZjA7dmFyIHR4MD14KmEreSpjK2U7dmFyIHR5MD14KmIreSpkK2Y7dmFyIHR4MT14KmEreWgqYytlO3ZhciB0eTE9eCpiK3loKmQrZjt2YXIgdHgyPXh3KmEreWgqYytlO3ZhciB0eTI9eHcqYit5aCpkK2Y7dmFyIHR4Mz14dyphK3kqYytlO3ZhciB0eTM9eHcqYit5KmQrZjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR4MDt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR5MDt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR4MTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR5MTt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mjt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR4MDt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR5MDt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mjt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxBbHBoYTt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mzt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mzt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxDb2xvcjt2ZXJ0ZXhCdWZmZXJGMzJbdmVydGV4T2Zmc2V0KytdPWZpbGxBbHBoYTt0aGlzLnZlcnRleENvdW50Kz02O30sLy8gR3JhcGhpY3MgR2FtZSBPYmplY3QgcHJvcGVydGllc1xuLy8gc3JjWCwgc3JjWSwgc3JjU2NhbGVYLCBzcmNTY2FsZVksIHNyY1JvdGF0aW9uLFxuLy8gVHJpYW5nbGUgcHJvcGVydGllc1xuLy8geDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgZmlsbENvbG9yLCBmaWxsQWxwaGEsXG4vLyB0cmFuc2Zvcm1cbi8vIGExLCBiMSwgYzEsIGQxLCBlMSwgZjEsXG4vLyBjdXJyZW50TWF0cml4XG5hZGRGaWxsVHJpYW5nbGU6ZnVuY3Rpb24gYWRkRmlsbFRyaWFuZ2xlKHNyY1gsc3JjWSxzcmNTY2FsZVgsc3JjU2NhbGVZLHNyY1JvdGF0aW9uLHgwLHkwLHgxLHkxLHgyLHkyLGZpbGxDb2xvcixmaWxsQWxwaGEsYTEsYjEsYzEsZDEsZTEsZjEsY3VycmVudE1hdHJpeCl7aWYodGhpcy52ZXJ0ZXhDb3VudCszPnRoaXMubWF4VmVydGljZXMpe3RoaXMuZmx1c2goKTt9dmFyIGEwPWN1cnJlbnRNYXRyaXgubWF0cml4WzBdO3ZhciBiMD1jdXJyZW50TWF0cml4Lm1hdHJpeFsxXTt2YXIgYzA9Y3VycmVudE1hdHJpeC5tYXRyaXhbMl07dmFyIGQwPWN1cnJlbnRNYXRyaXgubWF0cml4WzNdO3ZhciBlMD1jdXJyZW50TWF0cml4Lm1hdHJpeFs0XTt2YXIgZjA9Y3VycmVudE1hdHJpeC5tYXRyaXhbNV07dmFyIGE9YTEqYTArYjEqYzA7dmFyIGI9YTEqYjArYjEqZDA7dmFyIGM9YzEqYTArZDEqYzA7dmFyIGQ9YzEqYjArZDEqZDA7dmFyIGU9ZTEqYTArZjEqYzArZTA7dmFyIGY9ZTEqYjArZjEqZDArZjA7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO3ZhciB2ZXJ0ZXhCdWZmZXJGMzI9dmVydGV4RGF0YUJ1ZmZlci5mbG9hdFZpZXc7dmFyIHZlcnRleEJ1ZmZlclUzMj12ZXJ0ZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciB2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZSgxMik7dmFyIHR4MD14MCphK3kwKmMrZTt2YXIgdHkwPXgwKmIreTAqZCtmO3ZhciB0eDE9eDEqYSt5MSpjK2U7dmFyIHR5MT14MSpiK3kxKmQrZjt2YXIgdHgyPXgyKmEreTIqYytlO3ZhciB0eTI9eDIqYit5MipkK2Y7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT10eDA7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT10eTA7dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1maWxsQ29sb3I7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT1maWxsQWxwaGE7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT10eDE7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT10eTE7dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1maWxsQ29sb3I7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT1maWxsQWxwaGE7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT10eDI7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT10eTI7dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT1maWxsQ29sb3I7dmVydGV4QnVmZmVyRjMyW3ZlcnRleE9mZnNldCsrXT1maWxsQWxwaGE7dGhpcy52ZXJ0ZXhDb3VudCs9Mzt9LC8vIEdyYXBoaWNzIEdhbWUgT2JqZWN0IHByb3BlcnRpZXNcbi8vIHNyY1gsIHNyY1ksIHNyY1NjYWxlWCwgc3JjU2NhbGVZLCBzcmNSb3RhdGlvbixcbi8vIFRyaWFuZ2xlIHByb3BlcnRpZXNcbi8vIHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIGxpbmVXaWR0aCwgbGluZUNvbG9yLCBsaW5lQWxwaGEsXG4vLyB0cmFuc2Zvcm1cbi8vIGEsIGIsIGMsIGQsIGUsIGYsXG4vLyBjdXJyZW50TWF0cml4XG5hZGRTdHJva2VUcmlhbmdsZTpmdW5jdGlvbiBhZGRTdHJva2VUcmlhbmdsZShzcmNYLHNyY1ksc3JjU2NhbGVYLHNyY1NjYWxlWSxzcmNSb3RhdGlvbix4MCx5MCx4MSx5MSx4Mix5MixsaW5lV2lkdGgsbGluZUNvbG9yLGxpbmVBbHBoYSxhLGIsYyxkLGUsZixjdXJyZW50TWF0cml4KXt2YXIgdGVtcFRyaWFuZ2xlPXRoaXMudGVtcFRyaWFuZ2xlO3RlbXBUcmlhbmdsZVswXS54PXgwO3RlbXBUcmlhbmdsZVswXS55PXkwO3RlbXBUcmlhbmdsZVswXS53aWR0aD1saW5lV2lkdGg7dGVtcFRyaWFuZ2xlWzBdLnJnYj1saW5lQ29sb3I7dGVtcFRyaWFuZ2xlWzBdLmFscGhhPWxpbmVBbHBoYTt0ZW1wVHJpYW5nbGVbMV0ueD14MTt0ZW1wVHJpYW5nbGVbMV0ueT15MTt0ZW1wVHJpYW5nbGVbMV0ud2lkdGg9bGluZVdpZHRoO3RlbXBUcmlhbmdsZVsxXS5yZ2I9bGluZUNvbG9yO3RlbXBUcmlhbmdsZVsxXS5hbHBoYT1saW5lQWxwaGE7dGVtcFRyaWFuZ2xlWzJdLng9eDI7dGVtcFRyaWFuZ2xlWzJdLnk9eTI7dGVtcFRyaWFuZ2xlWzJdLndpZHRoPWxpbmVXaWR0aDt0ZW1wVHJpYW5nbGVbMl0ucmdiPWxpbmVDb2xvcjt0ZW1wVHJpYW5nbGVbMl0uYWxwaGE9bGluZUFscGhhO3RlbXBUcmlhbmdsZVszXS54PXgwO3RlbXBUcmlhbmdsZVszXS55PXkwO3RlbXBUcmlhbmdsZVszXS53aWR0aD1saW5lV2lkdGg7dGVtcFRyaWFuZ2xlWzNdLnJnYj1saW5lQ29sb3I7dGVtcFRyaWFuZ2xlWzNdLmFscGhhPWxpbmVBbHBoYTt0aGlzLmFkZFN0cm9rZVBhdGgoc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24sdGVtcFRyaWFuZ2xlLGxpbmVXaWR0aCxsaW5lQ29sb3IsbGluZUFscGhhLGEsYixjLGQsZSxmLGZhbHNlLGN1cnJlbnRNYXRyaXgpO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVTaGFkZXIodGhpcy5zaGFkZXIpO3RoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlQnVmZmVyKHRoaXMudmVydGV4QnVmZmVyT2JqZWN0KTt0aGlzLnNoYWRlcj1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7fX0pO21vZHVsZS5leHBvcnRzPVNoYXBlQmF0Y2g7LyoqKi99LC8qIDQ0MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDT05TVD17VkVSVEVYX1NJWkU6MTYsLy8gSG93IG1hbnkgMzItYml0IGNvbXBvbmVudHMgZG9lcyB0aGUgdmVydGV4IGhhdmUuXG5TSEFQRV9WRVJURVhfQ09NUE9ORU5UX0NPVU5UOjQsLy8gQ2FuJ3QgYmUgYmlnZ2VyIHRoYW4gMTAsMDAwIHNpbmNlIGluZGV4IGFyZSAxNi1iaXRcbk1BWF9WRVJUSUNFUzoxNjAwMH07bW9kdWxlLmV4cG9ydHM9Q09OU1Q7LyoqKi99LC8qIDQ0MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXt2ZXJ0OlsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywndW5pZm9ybSBtYXQ0IHVfdmlld19tYXRyaXg7JywnYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjsnLCdhdHRyaWJ1dGUgdmVjNCBhX2NvbG9yOycsJ2F0dHJpYnV0ZSBmbG9hdCBhX2FscGhhOycsJ3ZhcnlpbmcgdmVjNCB2X2NvbG9yOycsJ3ZhcnlpbmcgZmxvYXQgdl9hbHBoYTsnLCd2b2lkIG1haW4gKCkgeycsJyAgIGdsX1Bvc2l0aW9uID0gdV92aWV3X21hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wLCAxLjApOycsJyAgIHZfY29sb3IgPSBhX2NvbG9yOycsJyAgIHZfYWxwaGEgPSBhX2FscGhhOycsJ30nXS5qb2luKCdcXG4nKSxmcmFnOlsncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JywndmFyeWluZyB2ZWM0IHZfY29sb3I7JywndmFyeWluZyBmbG9hdCB2X2FscGhhOycsJ3ZvaWQgbWFpbigpIHsnLCcgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHZfY29sb3IuYmdyLCB2X2FscGhhKTsnLCd9J10uam9pbignXFxuJyl9Oy8qKiovfSwvKiA0NDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0Myk7dmFyIERhdGFCdWZmZXIxNj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3KTt2YXIgRGF0YUJ1ZmZlcjMyPV9fd2VicGFja19yZXF1aXJlX18oMzApO3ZhciBQSEFTRVJfQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0KTt2YXIgVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyPV9fd2VicGFja19yZXF1aXJlX18oMzgpO3ZhciBUcmFuc2Zvcm1NYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxMyk7dmFyIFNwcml0ZUJhdGNoPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBTcHJpdGVCYXRjaChnYW1lLGdsLG1hbmFnZXIpe3RoaXMuZ2FtZT1nYW1lO3RoaXMudHlwZT1QSEFTRVJfQ09OU1QuV0VCR0w7dGhpcy52aWV3PWdhbWUuY2FudmFzO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMud2lkdGg9Z2FtZS5jb25maWcud2lkdGgqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmhlaWdodD1nYW1lLmNvbmZpZy5oZWlnaHQqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmdsQ29udGV4dD1nbDt0aGlzLm1heFNwcml0ZXM9bnVsbDt0aGlzLnNoYWRlcj1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMuaW5kZXhCdWZmZXJPYmplY3RGb3JNZXNoPW51bGw7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyPW51bGw7dGhpcy5pbmRleERhdGFCdWZmZXI9bnVsbDt0aGlzLmVsZW1lbnRDb3VudD0wO3RoaXMuY3VycmVudFRleHR1cmUyRD1udWxsO3RoaXMudmlld01hdHJpeExvY2F0aW9uPW51bGw7dGhpcy50ZW1wTWF0cml4PW5ldyBUcmFuc2Zvcm1NYXRyaXgoKTsvLyAgIEFsbCBvZiB0aGVzZSBzZXR0aW5ncyB3aWxsIGJlIGFibGUgdG8gYmUgY29udHJvbGxlZCB2aWEgdGhlIEdhbWUgQ29uZmlnXG50aGlzLmNvbmZpZz17Y2xlYXJCZWZvcmVSZW5kZXI6dHJ1ZSx0cmFuc3BhcmVudDpmYWxzZSxhdXRvUmVzaXplOmZhbHNlLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjpmYWxzZSxXZWJHTENvbnRleHRPcHRpb25zOnthbHBoYTp0cnVlLGFudGlhbGlhczp0cnVlLHByZW11bHRpcGxpZWRBbHBoYTp0cnVlLHN0ZW5jaWw6dHJ1ZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2V9fTt0aGlzLm1hbmFnZXI9bWFuYWdlcjt0aGlzLmRpcnR5PWZhbHNlO3RoaXMuZHJhd0luZGV4ZWQ9dHJ1ZTt0aGlzLmxhc3REcmF3SW5kZXhlZD10cnVlO3RoaXMubGFzdERyYXdpbmdNZXNoPWZhbHNlO3RoaXMuZHJhd2luZ01lc2g9ZmFsc2U7dGhpcy52ZXJ0ZXhDb3VudD0wO3RoaXMuaW5pdCh0aGlzLmdsQ29udGV4dCk7fSxpbml0OmZ1bmN0aW9uIGluaXQoZ2wpe3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPW5ldyBEYXRhQnVmZmVyMzIoQ09OU1QuVkVSVEVYX1NJWkUqQ09OU1QuU1BSSVRFX1ZFUlRFWF9DT1VOVCpDT05TVC5NQVhfU1BSSVRFUyk7dmFyIGluZGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjE2KENPTlNULklOREVYX1NJWkUqQ09OU1QuU1BSSVRFX0lOREVYX0NPVU5UKkNPTlNULk1BWF9TUFJJVEVTKTt2YXIgc2hhZGVyPXRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlU2hhZGVyKCdUZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXInLFRleHR1cmVkQW5kTm9ybWFsaXplZFRpbnRlZFNoYWRlcik7dmFyIGluZGV4QnVmZmVyT2JqZWN0PXRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGluZGV4RGF0YUJ1ZmZlci5nZXRCeXRlQ2FwYWNpdHkoKSxnbC5TVEFUSUNfRFJBVyk7dmFyIGluZGV4QnVmZmVyT2JqZWN0Rm9yTWVzaD10aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZUJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpbmRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RSRUFNX0RSQVcpO3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3Q9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLHZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RSRUFNX0RSQVcpO3ZhciB2aWV3TWF0cml4TG9jYXRpb249c2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV92aWV3X21hdHJpeCcpO3ZhciBpbmRleEJ1ZmZlcj1pbmRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIG1heD1DT05TVC5NQVhfU1BSSVRFUypDT05TVC5TUFJJVEVfSU5ERVhfQ09VTlQ7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyPXZlcnRleERhdGFCdWZmZXI7dGhpcy5pbmRleERhdGFCdWZmZXI9aW5kZXhEYXRhQnVmZmVyO3RoaXMuc2hhZGVyPXNoYWRlcjt0aGlzLmluZGV4QnVmZmVyT2JqZWN0PWluZGV4QnVmZmVyT2JqZWN0O3RoaXMuaW5kZXhCdWZmZXJPYmplY3RGb3JNZXNoPWluZGV4QnVmZmVyT2JqZWN0Rm9yTWVzaDt0aGlzLnZlcnRleEJ1ZmZlck9iamVjdD12ZXJ0ZXhCdWZmZXJPYmplY3Q7dGhpcy52aWV3TWF0cml4TG9jYXRpb249dmlld01hdHJpeExvY2F0aW9uO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX3Bvc2l0aW9uJyksMixnbC5GTE9BVCxmYWxzZSxDT05TVC5WRVJURVhfU0laRSwwKTt2ZXJ0ZXhCdWZmZXJPYmplY3QuYWRkQXR0cmlidXRlKHNoYWRlci5nZXRBdHRyaWJMb2NhdGlvbignYV90ZXhfY29vcmQnKSwyLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDgpO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX2NvbG9yJyksMyxnbC5VTlNJR05FRF9CWVRFLHRydWUsQ09OU1QuVkVSVEVYX1NJWkUsMTYpO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX2FscGhhJyksMSxnbC5GTE9BVCxmYWxzZSxDT05TVC5WRVJURVhfU0laRSwyMCk7Ly8gUG9wdWxhdGUgdGhlIGluZGV4IGJ1ZmZlciBvbmx5IG9uY2VcbmZvcih2YXIgaW5kZXhBPTAsaW5kZXhCPTA7aW5kZXhBPG1heDtpbmRleEErPUNPTlNULlNQUklURV9JTkRFWF9DT1VOVCxpbmRleEIrPUNPTlNULlNQUklURV9WRVJURVhfQ09VTlQpe2luZGV4QnVmZmVyW2luZGV4QSswXT1pbmRleEIrMDtpbmRleEJ1ZmZlcltpbmRleEErMV09aW5kZXhCKzE7aW5kZXhCdWZmZXJbaW5kZXhBKzJdPWluZGV4QisyO2luZGV4QnVmZmVyW2luZGV4QSszXT1pbmRleEIrMDtpbmRleEJ1ZmZlcltpbmRleEErNF09aW5kZXhCKzI7aW5kZXhCdWZmZXJbaW5kZXhBKzVdPWluZGV4QiszO31pbmRleEJ1ZmZlck9iamVjdC51cGRhdGVSZXNvdXJjZShpbmRleEJ1ZmZlciwwKTt0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbik7fSxzaG91bGRGbHVzaDpmdW5jdGlvbiBzaG91bGRGbHVzaCgpe2lmKHRoaXMuZHJhd0luZGV4ZWQhPT10aGlzLmxhc3REcmF3SW5kZXhlZHx8dGhpcy5sYXN0RHJhd2luZ01lc2ghPT10aGlzLmRyYXdpbmdNZXNofHx0aGlzLmlzRnVsbCgpKXt0aGlzLmxhc3REcmF3SW5kZXhlZD10aGlzLmRyYXdJbmRleGVkO3RoaXMubGFzdERyYXdpbmdNZXNoPXRoaXMuZHJhd2luZ01lc2g7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9LGlzRnVsbDpmdW5jdGlvbiBpc0Z1bGwoKXtyZXR1cm4gdGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVMZW5ndGgoKT49dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyLmdldEJ5dGVDYXBhY2l0eSgpO30sYmluZDpmdW5jdGlvbiBiaW5kKHNoYWRlcil7aWYoc2hhZGVyPT09dW5kZWZpbmVkKXt0aGlzLnNoYWRlci5iaW5kKCk7fWVsc2V7c2hhZGVyLmJpbmQoKTt0aGlzLnJlc2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMuZ2FtZS5jb25maWcucmVzb2x1dGlvbixzaGFkZXIpO310aGlzLnZlcnRleEJ1ZmZlck9iamVjdC5iaW5kKCk7fSxmbHVzaDpmdW5jdGlvbiBmbHVzaChzaGFkZXIscmVuZGVyVGFyZ2V0KXt2YXIgZ2w9dGhpcy5nbENvbnRleHQ7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO2lmKHRoaXMuZWxlbWVudENvdW50PT09MCYmdGhpcy52ZXJ0ZXhDb3VudD09PTApe3JldHVybjt9aWYocmVuZGVyVGFyZ2V0KXtnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIscmVuZGVyVGFyZ2V0KTt9dGhpcy5iaW5kKHNoYWRlcik7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QudXBkYXRlUmVzb3VyY2UodmVydGV4RGF0YUJ1ZmZlci5nZXRVc2VkQnVmZmVyQXNGbG9hdCgpLDApO2lmKHRoaXMuZHJhd0luZGV4ZWQpe2lmKHRoaXMuZHJhd2luZ01lc2gpe3RoaXMuaW5kZXhCdWZmZXJPYmplY3RGb3JNZXNoLmJpbmQoKTt0aGlzLmluZGV4QnVmZmVyT2JqZWN0Rm9yTWVzaC51cGRhdGVSZXNvdXJjZSh0aGlzLmluZGV4RGF0YUJ1ZmZlci5idWZmZXIsMCk7fWVsc2V7dGhpcy5pbmRleEJ1ZmZlck9iamVjdC5iaW5kKCk7fWdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsdGhpcy5lbGVtZW50Q291bnQsZ2wuVU5TSUdORURfU0hPUlQsMCk7fWVsc2V7Z2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsMCx0aGlzLnZlcnRleENvdW50KTt9dmVydGV4RGF0YUJ1ZmZlci5jbGVhcigpO3RoaXMuZWxlbWVudENvdW50PTA7dGhpcy52ZXJ0ZXhDb3VudD0wO2lmKHJlbmRlclRhcmdldCl7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpO319LHJlc2l6ZTpmdW5jdGlvbiByZXNpemUod2lkdGgsaGVpZ2h0LHJlc29sdXRpb24sc2hhZGVyKXt2YXIgYWN0aXZlU2hhZGVyPXNoYWRlciE9PXVuZGVmaW5lZD9zaGFkZXI6dGhpcy5zaGFkZXI7dmFyIGxvY2F0aW9uPWFjdGl2ZVNoYWRlcj09PXRoaXMuc2hhZGVyP3RoaXMudmlld01hdHJpeExvY2F0aW9uOmFjdGl2ZVNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3Vfdmlld19tYXRyaXgnKTt0aGlzLndpZHRoPXdpZHRoKnJlc29sdXRpb247dGhpcy5oZWlnaHQ9aGVpZ2h0KnJlc29sdXRpb247dGhpcy5zZXRQcm9qZWN0aW9uTWF0cml4KGFjdGl2ZVNoYWRlcixsb2NhdGlvbik7fSxzZXRQcm9qZWN0aW9uTWF0cml4OmZ1bmN0aW9uIHNldFByb2plY3Rpb25NYXRyaXgoc2hhZGVyLGxvY2F0aW9uKXtzaGFkZXIuc2V0Q29uc3RhbnRNYXRyaXg0eDQobG9jYXRpb24sbmV3IEZsb2F0MzJBcnJheShbMi90aGlzLndpZHRoLDAsMCwwLDAsLTIvdGhpcy5oZWlnaHQsMCwwLDAsMCwxLDEsLTEsMSwwLDBdKSk7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZVNoYWRlcih0aGlzLnNoYWRlcik7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy5pbmRleEJ1ZmZlck9iamVjdCk7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVCdWZmZXIodGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3QpO3RoaXMuc2hhZGVyPW51bGw7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7fSxhZGRNZXNoSW5kZXhlZDpmdW5jdGlvbiBhZGRNZXNoSW5kZXhlZChnYW1lT2JqZWN0LGNhbWVyYSl7dmFyIHRlbXBNYXRyaXg9dGhpcy50ZW1wTWF0cml4O3ZhciBmcmFtZT1nYW1lT2JqZWN0LmZyYW1lO3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyT2JqZWN0RjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHRyYW5zbGF0ZVg9Z2FtZU9iamVjdC54LWNhbWVyYS5zY3JvbGxYKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWDt2YXIgdHJhbnNsYXRlWT1nYW1lT2JqZWN0LnktY2FtZXJhLnNjcm9sbFkqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZO3ZhciBzY2FsZVg9Z2FtZU9iamVjdC5zY2FsZVg7dmFyIHNjYWxlWT1nYW1lT2JqZWN0LnNjYWxlWTt2YXIgcm90YXRpb249LWdhbWVPYmplY3Qucm90YXRpb247dmFyIHRlbXBNYXRyaXhNYXRyaXg9dGVtcE1hdHJpeC5tYXRyaXg7dmFyIGNhbWVyYU1hdHJpeD1jYW1lcmEubWF0cml4Lm1hdHJpeDt2YXIgbXZhLG12YixtdmMsbXZkLG12ZSxtdmY7dmFyIHNyYSxzcmIsc3JjLHNyZCxzcmUsc3JmLGNtYSxjbWIsY21jLGNtZCxjbWUsY21mO3ZhciB2ZXJ0aWNlcz1nYW1lT2JqZWN0LnZlcnRpY2VzO3ZhciB1dj1nYW1lT2JqZWN0LnV2O3ZhciBsZW5ndGg9dmVydGljZXMubGVuZ3RoO3ZhciB0b3RhbFZlcnRpY2VzPWxlbmd0aC8yfDA7dmFyIGluZGV4QnVmZmVyPXRoaXMuaW5kZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciBpbmRpY2VzPWdhbWVPYmplY3QuaW5kaWNlczt2YXIgY29sb3JzPWdhbWVPYmplY3QuY29sb3JzO3ZhciBhbHBoYXM9Z2FtZU9iamVjdC5hbHBoYXM7dmFyIGluZGV4TGVuZ3RoPWluZGljZXMubGVuZ3RoO3ZhciBpbmRleE9mZnNldD0wO3RlbXBNYXRyaXguYXBwbHlJVFJTKHRyYW5zbGF0ZVgsdHJhbnNsYXRlWSxyb3RhdGlvbixzY2FsZVgsc2NhbGVZKTtzcmE9dGVtcE1hdHJpeE1hdHJpeFswXTtzcmI9dGVtcE1hdHJpeE1hdHJpeFsxXTtzcmM9dGVtcE1hdHJpeE1hdHJpeFsyXTtzcmQ9dGVtcE1hdHJpeE1hdHJpeFszXTtzcmU9dGVtcE1hdHJpeE1hdHJpeFs0XTtzcmY9dGVtcE1hdHJpeE1hdHJpeFs1XTtjbWE9Y2FtZXJhTWF0cml4WzBdO2NtYj1jYW1lcmFNYXRyaXhbMV07Y21jPWNhbWVyYU1hdHJpeFsyXTtjbWQ9Y2FtZXJhTWF0cml4WzNdO2NtZT1jYW1lcmFNYXRyaXhbNF07Y21mPWNhbWVyYU1hdHJpeFs1XTttdmE9c3JhKmNtYStzcmIqY21jO212Yj1zcmEqY21iK3NyYipjbWQ7bXZjPXNyYypjbWErc3JkKmNtYzttdmQ9c3JjKmNtYitzcmQqY21kO212ZT1zcmUqY21hK3NyZipjbWMrY21lO212Zj1zcmUqY21iK3NyZipjbWQrY21mO3RoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLGZyYW1lLnRleHR1cmUuc291cmNlW2ZyYW1lLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsZ2FtZU9iamVjdC5yZW5kZXJUYXJnZXQpO2luZGV4T2Zmc2V0PXRoaXMudmVydGV4Q291bnQ7dGhpcy5kcmF3SW5kZXhlZD10cnVlO3RoaXMuZHJhd2luZ01lc2g9dHJ1ZTt0aGlzLnZlcnRleENvdW50Kz10b3RhbFZlcnRpY2VzO3ZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKHRvdGFsVmVydGljZXMqNik7dmFyIGluZGV4O3ZhciBpbmRleDA7Zm9yKGluZGV4PTAsaW5kZXgwPTA7aW5kZXg8bGVuZ3RoO2luZGV4Kz0yKXt2YXIgeD12ZXJ0aWNlc1tpbmRleCswXTt2YXIgeT12ZXJ0aWNlc1tpbmRleCsxXTt2YXIgdHg9eCptdmEreSptdmMrbXZlO3ZhciB0eT14Km12Yit5Km12ZCttdmY7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5O3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dXZbaW5kZXgrMF07dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dltpbmRleCsxXTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPWNvbG9yc1tpbmRleDBdO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGFzW2luZGV4MF07aW5kZXgwKz0xO312YXIgZWxlbWVudENvdW50PXRoaXMuZWxlbWVudENvdW50O2ZvcihpbmRleD0wO2luZGV4PGluZGV4TGVuZ3RoOysraW5kZXgpe2luZGV4QnVmZmVyW2VsZW1lbnRDb3VudCtpbmRleF09aW5kZXhPZmZzZXQraW5kaWNlc1tpbmRleF07fXRoaXMuZWxlbWVudENvdW50Kz1pbmRleExlbmd0aDt9LGFkZE1lc2g6ZnVuY3Rpb24gYWRkTWVzaChnYW1lT2JqZWN0LGNhbWVyYSl7dmFyIHRlbXBNYXRyaXg9dGhpcy50ZW1wTWF0cml4O3ZhciBmcmFtZT1nYW1lT2JqZWN0LmZyYW1lO3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyT2JqZWN0RjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHRyYW5zbGF0ZVg9Z2FtZU9iamVjdC54LWNhbWVyYS5zY3JvbGxYKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWDt2YXIgdHJhbnNsYXRlWT1nYW1lT2JqZWN0LnktY2FtZXJhLnNjcm9sbFkqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZO3ZhciBzY2FsZVg9Z2FtZU9iamVjdC5zY2FsZVg7dmFyIHNjYWxlWT1nYW1lT2JqZWN0LnNjYWxlWTt2YXIgcm90YXRpb249LWdhbWVPYmplY3Qucm90YXRpb247dmFyIHRlbXBNYXRyaXhNYXRyaXg9dGVtcE1hdHJpeC5tYXRyaXg7dmFyIGNhbWVyYU1hdHJpeD1jYW1lcmEubWF0cml4Lm1hdHJpeDt2YXIgbXZhLG12YixtdmMsbXZkLG12ZSxtdmY7dmFyIHNyYSxzcmIsc3JjLHNyZCxzcmUsc3JmLGNtYSxjbWIsY21jLGNtZCxjbWUsY21mO3ZhciB2ZXJ0aWNlcz1nYW1lT2JqZWN0LnZlcnRpY2VzO3ZhciB1dj1nYW1lT2JqZWN0LnV2O3ZhciBjb2xvcnM9Z2FtZU9iamVjdC5jb2xvcnM7dmFyIGFscGhhcz1nYW1lT2JqZWN0LmFscGhhczt2YXIgbGVuZ3RoPXZlcnRpY2VzLmxlbmd0aDt2YXIgdG90YWxWZXJ0aWNlcz1sZW5ndGgvMnwwO3RlbXBNYXRyaXguYXBwbHlJVFJTKHRyYW5zbGF0ZVgsdHJhbnNsYXRlWSxyb3RhdGlvbixzY2FsZVgsc2NhbGVZKTtzcmE9dGVtcE1hdHJpeE1hdHJpeFswXTtzcmI9dGVtcE1hdHJpeE1hdHJpeFsxXTtzcmM9dGVtcE1hdHJpeE1hdHJpeFsyXTtzcmQ9dGVtcE1hdHJpeE1hdHJpeFszXTtzcmU9dGVtcE1hdHJpeE1hdHJpeFs0XTtzcmY9dGVtcE1hdHJpeE1hdHJpeFs1XTtjbWE9Y2FtZXJhTWF0cml4WzBdO2NtYj1jYW1lcmFNYXRyaXhbMV07Y21jPWNhbWVyYU1hdHJpeFsyXTtjbWQ9Y2FtZXJhTWF0cml4WzNdO2NtZT1jYW1lcmFNYXRyaXhbNF07Y21mPWNhbWVyYU1hdHJpeFs1XTttdmE9c3JhKmNtYStzcmIqY21jO212Yj1zcmEqY21iK3NyYipjbWQ7bXZjPXNyYypjbWErc3JkKmNtYzttdmQ9c3JjKmNtYitzcmQqY21kO212ZT1zcmUqY21hK3NyZipjbWMrY21lO212Zj1zcmUqY21iK3NyZipjbWQrY21mO3RoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLGZyYW1lLnRleHR1cmUuc291cmNlW2ZyYW1lLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsZ2FtZU9iamVjdC5yZW5kZXJUYXJnZXQpO3RoaXMuZHJhd0luZGV4ZWQ9ZmFsc2U7dGhpcy5kcmF3aW5nTWVzaD10cnVlO3RoaXMudmVydGV4Q291bnQrPXRvdGFsVmVydGljZXM7dmVydGV4T2Zmc2V0PXZlcnRleERhdGFCdWZmZXIuYWxsb2NhdGUodG90YWxWZXJ0aWNlcyo2KTtmb3IodmFyIGluZGV4PTAsaW5kZXgwPTA7aW5kZXg8bGVuZ3RoO2luZGV4Kz0yKXt2YXIgeD12ZXJ0aWNlc1tpbmRleCswXTt2YXIgeT12ZXJ0aWNlc1tpbmRleCsxXTt2YXIgdHg9eCptdmEreSptdmMrbXZlO3ZhciB0eT14Km12Yit5Km12ZCttdmY7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5O3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dXZbaW5kZXgrMF07dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dltpbmRleCsxXTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPWNvbG9yc1tpbmRleDBdO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGFzW2luZGV4MF07aW5kZXgwKz0xO319LGFkZFRpbGVUZXh0dXJlUmVjdDpmdW5jdGlvbiBhZGRUaWxlVGV4dHVyZVJlY3QodGV4dHVyZSx4LHksd2lkdGgsaGVpZ2h0LGFscGhhLHRpbnQsc2Nyb2xsRmFjdG9yWCxzY3JvbGxGYWN0b3JZLHRleHR1cmVXaWR0aCx0ZXh0dXJlSGVpZ2h0LHJlY3RYLHJlY3RZLHJlY3RXLHJlY3RILGNhbWVyYSxyZW5kZXJUYXJnZXQpe3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyT2JqZWN0RjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHh3PXgrd2lkdGg7dmFyIHloPXkraGVpZ2h0O3ZhciBjYW1lcmFNYXRyaXg9Y2FtZXJhLm1hdHJpeC5tYXRyaXg7dmFyIG12YSxtdmIsbXZjLG12ZCxtdmUsbXZmLHR4MCx0eTAsdHgxLHR5MSx0eDIsdHkyLHR4Myx0eTM7dmFyIGhhbGZUaWxlV2lkdGg9d2lkdGgqMC41O3ZhciBoYWxmVGlsZUhlaWdodD1oZWlnaHQqMC41O3ZhciB1MD0ocmVjdFgtKGhhbGZUaWxlV2lkdGgtMC41KSkvdGV4dHVyZVdpZHRoO3ZhciB2MD0ocmVjdFktKGhhbGZUaWxlSGVpZ2h0LTAuNSkpL3RleHR1cmVIZWlnaHQ7dmFyIHUxPShyZWN0WCsoaGFsZlRpbGVXaWR0aC0wLjUpKS90ZXh0dXJlV2lkdGg7dmFyIHYxPShyZWN0WSsoaGFsZlRpbGVIZWlnaHQtMC41KSkvdGV4dHVyZUhlaWdodDt2YXIgc2Nyb2xsWD1jYW1lcmEuc2Nyb2xsWCpzY3JvbGxGYWN0b3JYO3ZhciBzY3JvbGxZPWNhbWVyYS5zY3JvbGxZKnNjcm9sbEZhY3Rvclk7bXZhPWNhbWVyYU1hdHJpeFswXTttdmI9Y2FtZXJhTWF0cml4WzFdO212Yz1jYW1lcmFNYXRyaXhbMl07bXZkPWNhbWVyYU1hdHJpeFszXTttdmU9Y2FtZXJhTWF0cml4WzRdO212Zj1jYW1lcmFNYXRyaXhbNV07dHgwPXgqbXZhK3kqbXZjK212ZS1zY3JvbGxYO3R5MD14Km12Yit5Km12ZCttdmYtc2Nyb2xsWTt0eDE9eCptdmEreWgqbXZjK212ZS1zY3JvbGxYO3R5MT14Km12Yit5aCptdmQrbXZmLXNjcm9sbFk7dHgyPXh3Km12YSt5aCptdmMrbXZlLXNjcm9sbFg7dHkyPXh3Km12Yit5aCptdmQrbXZmLXNjcm9sbFk7dHgzPXh3Km12YSt5Km12YyttdmUtc2Nyb2xsWDt0eTM9eHcqbXZiK3kqbXZkK212Zi1zY3JvbGxZO3RoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLHRleHR1cmUscmVuZGVyVGFyZ2V0KTt0aGlzLmRyYXdJbmRleGVkPXRydWU7dGhpcy5kcmF3aW5nTWVzaD1mYWxzZTt0aGlzLmVsZW1lbnRDb3VudCs9Njt2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZSgyNCk7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11MDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXYwO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgxO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkxO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dTA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT12MTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnQ7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXUxO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109djE7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50O3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11MTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXYwO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhO30sYWRkU3ByaXRlVGV4dHVyZVJlY3Q6ZnVuY3Rpb24gYWRkU3ByaXRlVGV4dHVyZVJlY3QoZ2FtZU9iamVjdCxjYW1lcmEsdGV4dHVyZSxyZWN0WCxyZWN0WSxyZWN0V2lkdGgscmVjdEhlaWdodCx0ZXh0dXJlV2lkdGgsdGV4dHVyZUhlaWdodCl7dmFyIHRlbXBNYXRyaXg9dGhpcy50ZW1wTWF0cml4O3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyT2JqZWN0RjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHdpZHRoPXJlY3RXaWR0aCooZ2FtZU9iamVjdC5mbGlwWD8tMToxKTt2YXIgaGVpZ2h0PXJlY3RIZWlnaHQqKGdhbWVPYmplY3QuZmxpcFk/LTE6MSk7dmFyIHRyYW5zbGF0ZVg9Z2FtZU9iamVjdC54LWNhbWVyYS5zY3JvbGxYKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWDt2YXIgdHJhbnNsYXRlWT1nYW1lT2JqZWN0LnktY2FtZXJhLnNjcm9sbFkqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZO3ZhciBzY2FsZVg9Z2FtZU9iamVjdC5zY2FsZVg7dmFyIHNjYWxlWT1nYW1lT2JqZWN0LnNjYWxlWTt2YXIgcm90YXRpb249LWdhbWVPYmplY3Qucm90YXRpb247dmFyIHRlbXBNYXRyaXhNYXRyaXg9dGVtcE1hdHJpeC5tYXRyaXg7dmFyIHg9LWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblgrcmVjdFdpZHRoKihnYW1lT2JqZWN0LmZsaXBYPzE6MC4wKTt2YXIgeT0tZ2FtZU9iamVjdC5kaXNwbGF5T3JpZ2luWStyZWN0SGVpZ2h0KihnYW1lT2JqZWN0LmZsaXBZPzE6MC4wKTt2YXIgeHc9eCtyZWN0V2lkdGg7dmFyIHloPXkrcmVjdEhlaWdodDt2YXIgY2FtZXJhTWF0cml4PWNhbWVyYS5tYXRyaXgubWF0cml4O3ZhciBtdmEsbXZiLG12YyxtdmQsbXZlLG12Zix0eDAsdHkwLHR4MSx0eTEsdHgyLHR5Mix0eDMsdHkzO3ZhciBzcmEsc3JiLHNyYyxzcmQsc3JlLHNyZixjbWEsY21iLGNtYyxjbWQsY21lLGNtZjt2YXIgYWxwaGFUTD1nYW1lT2JqZWN0Ll9hbHBoYVRMO3ZhciBhbHBoYVRSPWdhbWVPYmplY3QuX2FscGhhVFI7dmFyIGFscGhhQkw9Z2FtZU9iamVjdC5fYWxwaGFCTDt2YXIgYWxwaGFCUj1nYW1lT2JqZWN0Ll9hbHBoYUJSO3ZhciB0aW50VEw9Z2FtZU9iamVjdC5fdGludFRMO3ZhciB0aW50VFI9Z2FtZU9iamVjdC5fdGludFRSO3ZhciB0aW50Qkw9Z2FtZU9iamVjdC5fdGludEJMO3ZhciB0aW50QlI9Z2FtZU9iamVjdC5fdGludEJSO3ZhciB1MD0wOy8vIHJlY3RYIC8gdGV4dHVyZVdpZHRoO1xudmFyIHYwPTA7Ly8gcmVjdFkgLyB0ZXh0dXJlSGVpZ2h0O1xudmFyIHUxPTE7Ly8gdTAgKyAocmVjdFdpZHRoIC8gdGV4dHVyZVdpZHRoKTtcbnZhciB2MT0xOy8vIHYwICsgKHJlY3RIZWlnaHQgLyB0ZXh0dXJlSGVpZ2h0KTtcbnRlbXBNYXRyaXguYXBwbHlJVFJTKHRyYW5zbGF0ZVgsdHJhbnNsYXRlWSxyb3RhdGlvbixzY2FsZVgsc2NhbGVZKTtzcmE9dGVtcE1hdHJpeE1hdHJpeFswXTtzcmI9dGVtcE1hdHJpeE1hdHJpeFsxXTtzcmM9dGVtcE1hdHJpeE1hdHJpeFsyXTtzcmQ9dGVtcE1hdHJpeE1hdHJpeFszXTtzcmU9dGVtcE1hdHJpeE1hdHJpeFs0XTtzcmY9dGVtcE1hdHJpeE1hdHJpeFs1XTtjbWE9Y2FtZXJhTWF0cml4WzBdO2NtYj1jYW1lcmFNYXRyaXhbMV07Y21jPWNhbWVyYU1hdHJpeFsyXTtjbWQ9Y2FtZXJhTWF0cml4WzNdO2NtZT1jYW1lcmFNYXRyaXhbNF07Y21mPWNhbWVyYU1hdHJpeFs1XTttdmE9c3JhKmNtYStzcmIqY21jO212Yj1zcmEqY21iK3NyYipjbWQ7bXZjPXNyYypjbWErc3JkKmNtYzttdmQ9c3JjKmNtYitzcmQqY21kO212ZT1zcmUqY21hK3NyZipjbWMrY21lO212Zj1zcmUqY21iK3NyZipjbWQrY21mO3R4MD14Km12YSt5Km12YyttdmU7dHkwPXgqbXZiK3kqbXZkK212Zjt0eDE9eCptdmEreWgqbXZjK212ZTt0eTE9eCptdmIreWgqbXZkK212Zjt0eDI9eHcqbXZhK3loKm12YyttdmU7dHkyPXh3Km12Yit5aCptdmQrbXZmO3R4Mz14dyptdmEreSptdmMrbXZlO3R5Mz14dyptdmIreSptdmQrbXZmO3RoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLHRleHR1cmUsZ2FtZU9iamVjdC5yZW5kZXJUYXJnZXQpO3RoaXMuZHJhd0luZGV4ZWQ9dHJ1ZTt0aGlzLmRyYXdpbmdNZXNoPWZhbHNlO3ZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKDI0KTt0aGlzLmVsZW1lbnRDb3VudCs9NjsvLyAgVG9wIExlZnRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dTA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT12MDt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRUTDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhVEw7Ly8gIEJvdHRvbSBMZWZ0XG52ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4MTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5MTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXUwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109djE7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50Qkw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYUJMOy8vICBCb3R0b20gUmlnaHRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dTE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT12MTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRCUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhQlI7Ly8gIFRvcCBSaWdodFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11MTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXYwO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludFRSO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGFUUjt9LGFkZFNwcml0ZVRleHR1cmU6ZnVuY3Rpb24gYWRkU3ByaXRlVGV4dHVyZShnYW1lT2JqZWN0LGNhbWVyYSx0ZXh0dXJlLHRleHR1cmVXaWR0aCx0ZXh0dXJlSGVpZ2h0KXt2YXIgdGVtcE1hdHJpeD10aGlzLnRlbXBNYXRyaXg7dmFyIHZlcnRleERhdGFCdWZmZXI9dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyO3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RGMzI9dmVydGV4RGF0YUJ1ZmZlci5mbG9hdFZpZXc7dmFyIHZlcnRleEJ1ZmZlck9iamVjdFUzMj12ZXJ0ZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciB2ZXJ0ZXhPZmZzZXQ9MDt2YXIgd2lkdGg9dGV4dHVyZVdpZHRoKihnYW1lT2JqZWN0LmZsaXBYPy0xOjEpO3ZhciBoZWlnaHQ9dGV4dHVyZUhlaWdodCooZ2FtZU9iamVjdC5mbGlwWT8tMToxKTt2YXIgdHJhbnNsYXRlWD1nYW1lT2JqZWN0LngtY2FtZXJhLnNjcm9sbFgqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JYO3ZhciB0cmFuc2xhdGVZPWdhbWVPYmplY3QueS1jYW1lcmEuc2Nyb2xsWSpnYW1lT2JqZWN0LnNjcm9sbEZhY3Rvclk7dmFyIHNjYWxlWD1nYW1lT2JqZWN0LnNjYWxlWDt2YXIgc2NhbGVZPWdhbWVPYmplY3Quc2NhbGVZO3ZhciByb3RhdGlvbj0tZ2FtZU9iamVjdC5yb3RhdGlvbjt2YXIgdGVtcE1hdHJpeE1hdHJpeD10ZW1wTWF0cml4Lm1hdHJpeDt2YXIgeD0tZ2FtZU9iamVjdC5kaXNwbGF5T3JpZ2luWCt0ZXh0dXJlV2lkdGgqKGdhbWVPYmplY3QuZmxpcFg/MTowLjApO3ZhciB5PS1nYW1lT2JqZWN0LmRpc3BsYXlPcmlnaW5ZK3RleHR1cmVIZWlnaHQqKGdhbWVPYmplY3QuZmxpcFk/MTowLjApO3ZhciB4dz14K3dpZHRoO3ZhciB5aD15K2hlaWdodDt2YXIgY2FtZXJhTWF0cml4PWNhbWVyYS5tYXRyaXgubWF0cml4O3ZhciBtdmEsbXZiLG12YyxtdmQsbXZlLG12Zix0eDAsdHkwLHR4MSx0eTEsdHgyLHR5Mix0eDMsdHkzO3ZhciBzcmEsc3JiLHNyYyxzcmQsc3JlLHNyZixjbWEsY21iLGNtYyxjbWQsY21lLGNtZjt2YXIgYWxwaGFUTD1nYW1lT2JqZWN0Ll9hbHBoYVRMO3ZhciBhbHBoYVRSPWdhbWVPYmplY3QuX2FscGhhVFI7dmFyIGFscGhhQkw9Z2FtZU9iamVjdC5fYWxwaGFCTDt2YXIgYWxwaGFCUj1nYW1lT2JqZWN0Ll9hbHBoYUJSO3ZhciB0aW50VEw9Z2FtZU9iamVjdC5fdGludFRMO3ZhciB0aW50VFI9Z2FtZU9iamVjdC5fdGludFRSO3ZhciB0aW50Qkw9Z2FtZU9iamVjdC5fdGludEJMO3ZhciB0aW50QlI9Z2FtZU9iamVjdC5fdGludEJSO3RlbXBNYXRyaXguYXBwbHlJVFJTKHRyYW5zbGF0ZVgsdHJhbnNsYXRlWSxyb3RhdGlvbixzY2FsZVgsc2NhbGVZKTtzcmE9dGVtcE1hdHJpeE1hdHJpeFswXTtzcmI9dGVtcE1hdHJpeE1hdHJpeFsxXTtzcmM9dGVtcE1hdHJpeE1hdHJpeFsyXTtzcmQ9dGVtcE1hdHJpeE1hdHJpeFszXTtzcmU9dGVtcE1hdHJpeE1hdHJpeFs0XTtzcmY9dGVtcE1hdHJpeE1hdHJpeFs1XTtjbWE9Y2FtZXJhTWF0cml4WzBdO2NtYj1jYW1lcmFNYXRyaXhbMV07Y21jPWNhbWVyYU1hdHJpeFsyXTtjbWQ9Y2FtZXJhTWF0cml4WzNdO2NtZT1jYW1lcmFNYXRyaXhbNF07Y21mPWNhbWVyYU1hdHJpeFs1XTttdmE9c3JhKmNtYStzcmIqY21jO212Yj1zcmEqY21iK3NyYipjbWQ7bXZjPXNyYypjbWErc3JkKmNtYzttdmQ9c3JjKmNtYitzcmQqY21kO212ZT1zcmUqY21hK3NyZipjbWMrY21lO212Zj1zcmUqY21iK3NyZipjbWQrY21mO3R4MD14Km12YSt5Km12YyttdmU7dHkwPXgqbXZiK3kqbXZkK212Zjt0eDE9eCptdmEreWgqbXZjK212ZTt0eTE9eCptdmIreWgqbXZkK212Zjt0eDI9eHcqbXZhK3loKm12YyttdmU7dHkyPXh3Km12Yit5aCptdmQrbXZmO3R4Mz14dyptdmEreSptdmMrbXZlO3R5Mz14dyptdmIreSptdmQrbXZmO3RoaXMubWFuYWdlci5zZXRSZW5kZXJlcih0aGlzLHRleHR1cmUsZ2FtZU9iamVjdC5yZW5kZXJUYXJnZXQpO3RoaXMuZHJhd0luZGV4ZWQ9dHJ1ZTt0aGlzLmRyYXdpbmdNZXNoPWZhbHNlO3ZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKDI0KTt0aGlzLmVsZW1lbnRDb3VudCs9NjsvLyAgVG9wIExlZnRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkwO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPTA7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50VEw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYVRMOy8vICBCb3R0b20gTGVmdFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT0wO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRCTDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhQkw7Ly8gIEJvdHRvbSBSaWdodFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDI7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTI7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT0xO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRCUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhQlI7Ly8gIFRvcCBSaWdodFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTM7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT0xO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109MDt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRUUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhVFI7fSxhZGRTcHJpdGU6ZnVuY3Rpb24gYWRkU3ByaXRlKGdhbWVPYmplY3QsY2FtZXJhKXt2YXIgdGVtcE1hdHJpeD10aGlzLnRlbXBNYXRyaXg7dmFyIGZyYW1lPWdhbWVPYmplY3QuZnJhbWU7dmFyIGZvcmNlRmxpcFk9ZnJhbWUudGV4dHVyZS5zb3VyY2VbZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZS5pc1JlbmRlclRleHR1cmU/dHJ1ZTpmYWxzZTt2YXIgZmxpcFg9Z2FtZU9iamVjdC5mbGlwWDt2YXIgZmxpcFk9Z2FtZU9iamVjdC5mbGlwWV5mb3JjZUZsaXBZO3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyT2JqZWN0RjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHV2cz1mcmFtZS51dnM7dmFyIHdpZHRoPWZyYW1lLndpZHRoKihmbGlwWD8tMToxKTt2YXIgaGVpZ2h0PWZyYW1lLmhlaWdodCooZmxpcFk/LTE6MSk7dmFyIHRyYW5zbGF0ZVg9Z2FtZU9iamVjdC54LWNhbWVyYS5zY3JvbGxYKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWDt2YXIgdHJhbnNsYXRlWT1nYW1lT2JqZWN0LnktY2FtZXJhLnNjcm9sbFkqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZO3ZhciBzY2FsZVg9Z2FtZU9iamVjdC5zY2FsZVg7dmFyIHNjYWxlWT1nYW1lT2JqZWN0LnNjYWxlWTt2YXIgcm90YXRpb249LWdhbWVPYmplY3Qucm90YXRpb247dmFyIHRlbXBNYXRyaXhNYXRyaXg9dGVtcE1hdHJpeC5tYXRyaXg7dmFyIHg9LWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblgrZnJhbWUueCtmcmFtZS53aWR0aCooZmxpcFg/MTowLjApO3ZhciB5PS1nYW1lT2JqZWN0LmRpc3BsYXlPcmlnaW5ZK2ZyYW1lLnkrZnJhbWUuaGVpZ2h0KihmbGlwWT8xOjAuMCk7dmFyIHh3PXgrd2lkdGg7dmFyIHloPXkraGVpZ2h0O3ZhciBjYW1lcmFNYXRyaXg9Y2FtZXJhLm1hdHJpeC5tYXRyaXg7dmFyIG12YSxtdmIsbXZjLG12ZCxtdmUsbXZmLHR4MCx0eTAsdHgxLHR5MSx0eDIsdHkyLHR4Myx0eTM7dmFyIHNyYSxzcmIsc3JjLHNyZCxzcmUsc3JmLGNtYSxjbWIsY21jLGNtZCxjbWUsY21mO3ZhciBhbHBoYVRMPWdhbWVPYmplY3QuX2FscGhhVEw7dmFyIGFscGhhVFI9Z2FtZU9iamVjdC5fYWxwaGFUUjt2YXIgYWxwaGFCTD1nYW1lT2JqZWN0Ll9hbHBoYUJMO3ZhciBhbHBoYUJSPWdhbWVPYmplY3QuX2FscGhhQlI7dmFyIHRpbnRUTD1nYW1lT2JqZWN0Ll90aW50VEw7dmFyIHRpbnRUUj1nYW1lT2JqZWN0Ll90aW50VFI7dmFyIHRpbnRCTD1nYW1lT2JqZWN0Ll90aW50Qkw7dmFyIHRpbnRCUj1nYW1lT2JqZWN0Ll90aW50QlI7dGVtcE1hdHJpeC5hcHBseUlUUlModHJhbnNsYXRlWCx0cmFuc2xhdGVZLHJvdGF0aW9uLHNjYWxlWCxzY2FsZVkpO3NyYT10ZW1wTWF0cml4TWF0cml4WzBdO3NyYj10ZW1wTWF0cml4TWF0cml4WzFdO3NyYz10ZW1wTWF0cml4TWF0cml4WzJdO3NyZD10ZW1wTWF0cml4TWF0cml4WzNdO3NyZT10ZW1wTWF0cml4TWF0cml4WzRdO3NyZj10ZW1wTWF0cml4TWF0cml4WzVdO2NtYT1jYW1lcmFNYXRyaXhbMF07Y21iPWNhbWVyYU1hdHJpeFsxXTtjbWM9Y2FtZXJhTWF0cml4WzJdO2NtZD1jYW1lcmFNYXRyaXhbM107Y21lPWNhbWVyYU1hdHJpeFs0XTtjbWY9Y2FtZXJhTWF0cml4WzVdO212YT1zcmEqY21hK3NyYipjbWM7bXZiPXNyYSpjbWIrc3JiKmNtZDttdmM9c3JjKmNtYStzcmQqY21jO212ZD1zcmMqY21iK3NyZCpjbWQ7bXZlPXNyZSpjbWErc3JmKmNtYytjbWU7bXZmPXNyZSpjbWIrc3JmKmNtZCtjbWY7dHgwPXgqbXZhK3kqbXZjK212ZTt0eTA9eCptdmIreSptdmQrbXZmO3R4MT14Km12YSt5aCptdmMrbXZlO3R5MT14Km12Yit5aCptdmQrbXZmO3R4Mj14dyptdmEreWgqbXZjK212ZTt0eTI9eHcqbXZiK3loKm12ZCttdmY7dHgzPXh3Km12YSt5Km12YyttdmU7dHkzPXh3Km12Yit5Km12ZCttdmY7dGhpcy5tYW5hZ2VyLnNldFJlbmRlcmVyKHRoaXMsZnJhbWUudGV4dHVyZS5zb3VyY2VbZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZSxnYW1lT2JqZWN0LnJlbmRlclRhcmdldCk7dGhpcy5kcmF3SW5kZXhlZD10cnVlO3RoaXMuZHJhd2luZ01lc2g9ZmFsc2U7dmVydGV4T2Zmc2V0PXZlcnRleERhdGFCdWZmZXIuYWxsb2NhdGUoMjQpO3RoaXMuZWxlbWVudENvdW50Kz02Oy8vICBUb3AgTGVmdFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueDA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueTA7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50VEw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYVRMOy8vICBCb3R0b20gTGVmdFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueDE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueTE7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50Qkw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYUJMOy8vICBCb3R0b20gUmlnaHRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dXZzLngyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dXZzLnkyO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludEJSO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGFCUjsvLyAgVG9wIFJpZ2h0XG52ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXV2cy54Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXV2cy55Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRUUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhVFI7fX0pO21vZHVsZS5leHBvcnRzPVNwcml0ZUJhdGNoOy8qKiovfSwvKiA0NDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ09OU1Q9ey8vIFZFUlRFWF9TSVpFID0gKHNpemVvZih2ZWMyKSAqIDQpICsgKHNpemVvZihmbG9hdCkgKyBzaXplb2YodWludDMyKSlcblZFUlRFWF9TSVpFOjI0LElOREVYX1NJWkU6MixTUFJJVEVfVkVSVEVYX0NPVU5UOjQsU1BSSVRFX0lOREVYX0NPVU5UOjYsLy8gSG93IG1hbnkgMzItYml0IGNvbXBvbmVudHMgZG9lcyB0aGUgdmVydGV4IGhhdmUuXG5TUFJJVEVfVkVSVEVYX0NPTVBPTkVOVF9DT1VOVDo2LC8vIENhbid0IGJlIGJpZ2dlciBzaW5jZSBpbmRleCBhcmUgMTYtYml0XG5NQVhfU1BSSVRFUzoyMDAwfTttb2R1bGUuZXhwb3J0cz1DT05TVDsvKioqL30sLyogNDQ0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0NDUpO3ZhciBEYXRhQnVmZmVyMTY9X193ZWJwYWNrX3JlcXVpcmVfXygzNyk7dmFyIERhdGFCdWZmZXIzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTt2YXIgUEhBU0VSX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNCk7dmFyIFRleHR1cmVkQW5kTm9ybWFsaXplZFRpbnRlZFNoYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTt2YXIgVHJhbnNmb3JtTWF0cml4PV9fd2VicGFja19yZXF1aXJlX18oMTMpO3ZhciBUaWxlQmF0Y2g9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFRpbGVCYXRjaChnYW1lLGdsLG1hbmFnZXIpe3RoaXMuZ2FtZT1nYW1lO3RoaXMudHlwZT1QSEFTRVJfQ09OU1QuV0VCR0w7dGhpcy52aWV3PWdhbWUuY2FudmFzO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMud2lkdGg9Z2FtZS5jb25maWcud2lkdGgqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmhlaWdodD1nYW1lLmNvbmZpZy5oZWlnaHQqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmdsQ29udGV4dD1nbDt0aGlzLm1heFNwcml0ZXM9bnVsbDt0aGlzLnNoYWRlcj1udWxsO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy5pbmRleEJ1ZmZlck9iamVjdD1udWxsO3RoaXMudmVydGV4RGF0YUJ1ZmZlcj1udWxsO3RoaXMuaW5kZXhEYXRhQnVmZmVyPW51bGw7dGhpcy5lbGVtZW50Q291bnQ9MDt0aGlzLmN1cnJlbnRUZXh0dXJlMkQ9bnVsbDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj1udWxsO3RoaXMudGVtcE1hdHJpeD1uZXcgVHJhbnNmb3JtTWF0cml4KCk7Ly8gICBBbGwgb2YgdGhlc2Ugc2V0dGluZ3Mgd2lsbCBiZSBhYmxlIHRvIGJlIGNvbnRyb2xsZWQgdmlhIHRoZSBHYW1lIENvbmZpZ1xudGhpcy5jb25maWc9e2NsZWFyQmVmb3JlUmVuZGVyOnRydWUsdHJhbnNwYXJlbnQ6ZmFsc2UsYXV0b1Jlc2l6ZTpmYWxzZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2UsV2ViR0xDb250ZXh0T3B0aW9uczp7YWxwaGE6dHJ1ZSxhbnRpYWxpYXM6dHJ1ZSxwcmVtdWx0aXBsaWVkQWxwaGE6dHJ1ZSxzdGVuY2lsOnRydWUscHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlfX07dGhpcy5tYW5hZ2VyPW1hbmFnZXI7dGhpcy5kaXJ0eT1mYWxzZTt0aGlzLmluaXQodGhpcy5nbENvbnRleHQpO30saW5pdDpmdW5jdGlvbiBpbml0KGdsKXt2YXIgdmVydGV4RGF0YUJ1ZmZlcj1uZXcgRGF0YUJ1ZmZlcjMyKENPTlNULlZFUlRFWF9TSVpFKkNPTlNULlNQUklURV9WRVJURVhfQ09VTlQqQ09OU1QuTUFYX1NQUklURVMpO3ZhciBpbmRleERhdGFCdWZmZXI9bmV3IERhdGFCdWZmZXIxNihDT05TVC5JTkRFWF9TSVpFKkNPTlNULlNQUklURV9JTkRFWF9DT1VOVCpDT05TVC5NQVhfU1BSSVRFUyk7dmFyIHNoYWRlcj10aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZVNoYWRlcignVGV4dHVyZWRBbmROb3JtYWxpemVkVGludGVkU2hhZGVyJyxUZXh0dXJlZEFuZE5vcm1hbGl6ZWRUaW50ZWRTaGFkZXIpO3ZhciBpbmRleEJ1ZmZlck9iamVjdD10aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmNyZWF0ZUJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpbmRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RBVElDX0RSQVcpO3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3Q9dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5jcmVhdGVCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLHZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCksZ2wuU1RSRUFNX0RSQVcpO3ZhciB2aWV3TWF0cml4TG9jYXRpb249c2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV92aWV3X21hdHJpeCcpO3ZhciBpbmRleEJ1ZmZlcj1pbmRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIG1heD1DT05TVC5NQVhfU1BSSVRFUypDT05TVC5TUFJJVEVfSU5ERVhfQ09VTlQ7dGhpcy52ZXJ0ZXhEYXRhQnVmZmVyPXZlcnRleERhdGFCdWZmZXI7dGhpcy5pbmRleERhdGFCdWZmZXI9aW5kZXhEYXRhQnVmZmVyO3RoaXMuc2hhZGVyPXNoYWRlcjt0aGlzLmluZGV4QnVmZmVyT2JqZWN0PWluZGV4QnVmZmVyT2JqZWN0O3RoaXMudmVydGV4QnVmZmVyT2JqZWN0PXZlcnRleEJ1ZmZlck9iamVjdDt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj12aWV3TWF0cml4TG9jYXRpb247dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfcG9zaXRpb24nKSwyLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDApO3ZlcnRleEJ1ZmZlck9iamVjdC5hZGRBdHRyaWJ1dGUoc2hhZGVyLmdldEF0dHJpYkxvY2F0aW9uKCdhX3RleF9jb29yZCcpLDIsZ2wuRkxPQVQsZmFsc2UsQ09OU1QuVkVSVEVYX1NJWkUsOCk7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfY29sb3InKSwzLGdsLlVOU0lHTkVEX0JZVEUsdHJ1ZSxDT05TVC5WRVJURVhfU0laRSwxNik7dmVydGV4QnVmZmVyT2JqZWN0LmFkZEF0dHJpYnV0ZShzaGFkZXIuZ2V0QXR0cmliTG9jYXRpb24oJ2FfYWxwaGEnKSwxLGdsLkZMT0FULGZhbHNlLENPTlNULlZFUlRFWF9TSVpFLDIwKTsvLyBQb3B1bGF0ZSB0aGUgaW5kZXggYnVmZmVyIG9ubHkgb25jZVxuZm9yKHZhciBpbmRleEE9MCxpbmRleEI9MDtpbmRleEE8bWF4O2luZGV4QSs9Q09OU1QuU1BSSVRFX0lOREVYX0NPVU5ULGluZGV4Qis9Q09OU1QuU1BSSVRFX1ZFUlRFWF9DT1VOVCl7aW5kZXhCdWZmZXJbaW5kZXhBKzBdPWluZGV4QiswO2luZGV4QnVmZmVyW2luZGV4QSsxXT1pbmRleEIrMTtpbmRleEJ1ZmZlcltpbmRleEErMl09aW5kZXhCKzI7aW5kZXhCdWZmZXJbaW5kZXhBKzNdPWluZGV4QiswO2luZGV4QnVmZmVyW2luZGV4QSs0XT1pbmRleEIrMjtpbmRleEJ1ZmZlcltpbmRleEErNV09aW5kZXhCKzM7fWluZGV4QnVmZmVyT2JqZWN0LnVwZGF0ZVJlc291cmNlKGluZGV4QnVmZmVyLDApO3RoaXMucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uKTt9LHNob3VsZEZsdXNoOmZ1bmN0aW9uIHNob3VsZEZsdXNoKCl7cmV0dXJuIGZhbHNlO30saXNGdWxsOmZ1bmN0aW9uIGlzRnVsbCgpe3JldHVybiB0aGlzLnZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUxlbmd0aCgpPj10aGlzLnZlcnRleERhdGFCdWZmZXIuZ2V0Qnl0ZUNhcGFjaXR5KCk7fSxiaW5kOmZ1bmN0aW9uIGJpbmQoc2hhZGVyKXtpZihzaGFkZXI9PT11bmRlZmluZWQpe3RoaXMuc2hhZGVyLmJpbmQoKTt9ZWxzZXtzaGFkZXIuYmluZCgpO3RoaXMucmVzaXplKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsdGhpcy5nYW1lLmNvbmZpZy5yZXNvbHV0aW9uLHNoYWRlcik7fXRoaXMuaW5kZXhCdWZmZXJPYmplY3QuYmluZCgpO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0LmJpbmQoKTt9LGZsdXNoOmZ1bmN0aW9uIGZsdXNoKHNoYWRlcixyZW5kZXJUYXJnZXQpe3ZhciBnbD10aGlzLmdsQ29udGV4dDt2YXIgdmVydGV4RGF0YUJ1ZmZlcj10aGlzLnZlcnRleERhdGFCdWZmZXI7aWYodGhpcy5lbGVtZW50Q291bnQ9PT0wKXtyZXR1cm47fWlmKHJlbmRlclRhcmdldCl7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLHJlbmRlclRhcmdldCk7fXRoaXMuYmluZChzaGFkZXIpO3RoaXMudmVydGV4QnVmZmVyT2JqZWN0LnVwZGF0ZVJlc291cmNlKHZlcnRleERhdGFCdWZmZXIuZ2V0VXNlZEJ1ZmZlckFzRmxvYXQoKSwwKTtnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLHRoaXMuZWxlbWVudENvdW50LGdsLlVOU0lHTkVEX1NIT1JULDApO3ZlcnRleERhdGFCdWZmZXIuY2xlYXIoKTt0aGlzLmVsZW1lbnRDb3VudD0wO2lmKHJlbmRlclRhcmdldCl7Z2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLG51bGwpO319LHJlc2l6ZTpmdW5jdGlvbiByZXNpemUod2lkdGgsaGVpZ2h0LHJlc29sdXRpb24sc2hhZGVyKXt2YXIgYWN0aXZlU2hhZGVyPXNoYWRlciE9PXVuZGVmaW5lZD9zaGFkZXI6dGhpcy5zaGFkZXI7dmFyIGxvY2F0aW9uPWFjdGl2ZVNoYWRlcj09dGhpcy5zaGFkZXI/dGhpcy52aWV3TWF0cml4TG9jYXRpb246YWN0aXZlU2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV92aWV3X21hdHJpeCcpO3RoaXMud2lkdGg9d2lkdGgqcmVzb2x1dGlvbjt0aGlzLmhlaWdodD1oZWlnaHQqcmVzb2x1dGlvbjt0aGlzLnNldFByb2plY3Rpb25NYXRyaXgoYWN0aXZlU2hhZGVyLGxvY2F0aW9uKTt9LHNldFByb2plY3Rpb25NYXRyaXg6ZnVuY3Rpb24gc2V0UHJvamVjdGlvbk1hdHJpeChzaGFkZXIsbG9jYXRpb24pe3NoYWRlci5zZXRDb25zdGFudE1hdHJpeDR4NChsb2NhdGlvbixuZXcgRmxvYXQzMkFycmF5KFsyL3RoaXMud2lkdGgsMCwwLDAsMCwtMi90aGlzLmhlaWdodCwwLDAsMCwwLDEsMSwtMSwxLDAsMF0pKTt9LGRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuZGVsZXRlU2hhZGVyKHRoaXMuc2hhZGVyKTt0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLmluZGV4QnVmZmVyT2JqZWN0KTt0aGlzLm1hbmFnZXIucmVzb3VyY2VNYW5hZ2VyLmRlbGV0ZUJ1ZmZlcih0aGlzLnZlcnRleEJ1ZmZlck9iamVjdCk7dGhpcy5zaGFkZXI9bnVsbDt0aGlzLmluZGV4QnVmZmVyT2JqZWN0PW51bGw7dGhpcy52ZXJ0ZXhCdWZmZXJPYmplY3Q9bnVsbDt9LGFkZFRpbGVTcHJpdGU6ZnVuY3Rpb24gYWRkVGlsZVNwcml0ZShnYW1lT2JqZWN0LGNhbWVyYSl7dmFyIHRlbXBNYXRyaXg9dGhpcy50ZW1wTWF0cml4O3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXRoaXMudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyT2JqZWN0RjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHdpZHRoPWdhbWVPYmplY3Qud2lkdGgqKGdhbWVPYmplY3QuZmxpcFg/LTE6MSk7dmFyIGhlaWdodD1nYW1lT2JqZWN0LmhlaWdodCooZ2FtZU9iamVjdC5mbGlwWT8tMToxKTt2YXIgdHJhbnNsYXRlWD1nYW1lT2JqZWN0LngtY2FtZXJhLnNjcm9sbFgqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JYO3ZhciB0cmFuc2xhdGVZPWdhbWVPYmplY3QueS1jYW1lcmEuc2Nyb2xsWSpnYW1lT2JqZWN0LnNjcm9sbEZhY3Rvclk7dmFyIHNjYWxlWD1nYW1lT2JqZWN0LnNjYWxlWDt2YXIgc2NhbGVZPWdhbWVPYmplY3Quc2NhbGVZO3ZhciByb3RhdGlvbj0tZ2FtZU9iamVjdC5yb3RhdGlvbjt2YXIgdGVtcE1hdHJpeE1hdHJpeD10ZW1wTWF0cml4Lm1hdHJpeDt2YXIgZGlzcGxheU9yaWdpblg9Z2FtZU9iamVjdC5vcmlnaW5YKmdhbWVPYmplY3Qud2lkdGg7dmFyIGRpc3BsYXlPcmlnaW5ZPWdhbWVPYmplY3Qub3JpZ2luWSpnYW1lT2JqZWN0LmhlaWdodDt2YXIgeD0tZGlzcGxheU9yaWdpblgrZ2FtZU9iamVjdC53aWR0aCooZ2FtZU9iamVjdC5mbGlwWD8xOjAuMCk7dmFyIHk9LWRpc3BsYXlPcmlnaW5ZK2dhbWVPYmplY3QuaGVpZ2h0KihnYW1lT2JqZWN0LmZsaXBZPzE6MC4wKTt2YXIgeHc9eCt3aWR0aDt2YXIgeWg9eStoZWlnaHQ7dmFyIHUwPTA7dmFyIHYwPTA7dmFyIHUxPXdpZHRoL2dhbWVPYmplY3QuZnJhbWUud2lkdGg7dmFyIHYxPWhlaWdodC9nYW1lT2JqZWN0LmZyYW1lLmhlaWdodDt2YXIgY2FtZXJhTWF0cml4PWNhbWVyYS5tYXRyaXgubWF0cml4O3ZhciBtdmEsbXZiLG12YyxtdmQsbXZlLG12Zix0eDAsdHkwLHR4MSx0eTEsdHgyLHR5Mix0eDMsdHkzO3ZhciBzcmEsc3JiLHNyYyxzcmQsc3JlLHNyZixjbWEsY21iLGNtYyxjbWQsY21lLGNtZjt2YXIgYWxwaGE9Z2FtZU9iamVjdC5hbHBoYTt2YXIgdGlsZVBvc2l0aW9uWD1nYW1lT2JqZWN0LnRpbGVQb3NpdGlvblgvZ2FtZU9iamVjdC5mcmFtZS53aWR0aDt2YXIgdGlsZVBvc2l0aW9uWT1nYW1lT2JqZWN0LnRpbGVQb3NpdGlvblkvZ2FtZU9iamVjdC5mcmFtZS5oZWlnaHQ7dmFyIHRleHR1cmU9Z2FtZU9iamVjdC50aWxlVGV4dHVyZTt2YXIgdGludFRMPWdhbWVPYmplY3QuX3RpbnRUTDt2YXIgdGludFRSPWdhbWVPYmplY3QuX3RpbnRUUjt2YXIgdGludEJMPWdhbWVPYmplY3QuX3RpbnRCTDt2YXIgdGludEJSPWdhbWVPYmplY3QuX3RpbnRCUjt0ZW1wTWF0cml4LmFwcGx5SVRSUyh0cmFuc2xhdGVYLHRyYW5zbGF0ZVkscm90YXRpb24sc2NhbGVYLHNjYWxlWSk7c3JhPXRlbXBNYXRyaXhNYXRyaXhbMF07c3JiPXRlbXBNYXRyaXhNYXRyaXhbMV07c3JjPXRlbXBNYXRyaXhNYXRyaXhbMl07c3JkPXRlbXBNYXRyaXhNYXRyaXhbM107c3JlPXRlbXBNYXRyaXhNYXRyaXhbNF07c3JmPXRlbXBNYXRyaXhNYXRyaXhbNV07Y21hPWNhbWVyYU1hdHJpeFswXTtjbWI9Y2FtZXJhTWF0cml4WzFdO2NtYz1jYW1lcmFNYXRyaXhbMl07Y21kPWNhbWVyYU1hdHJpeFszXTtjbWU9Y2FtZXJhTWF0cml4WzRdO2NtZj1jYW1lcmFNYXRyaXhbNV07bXZhPXNyYSpjbWErc3JiKmNtYzttdmI9c3JhKmNtYitzcmIqY21kO212Yz1zcmMqY21hK3NyZCpjbWM7bXZkPXNyYypjbWIrc3JkKmNtZDttdmU9c3JlKmNtYStzcmYqY21jK2NtZTttdmY9c3JlKmNtYitzcmYqY21kK2NtZjt0eDA9eCptdmEreSptdmMrbXZlO3R5MD14Km12Yit5Km12ZCttdmY7dHgxPXgqbXZhK3loKm12YyttdmU7dHkxPXgqbXZiK3loKm12ZCttdmY7dHgyPXh3Km12YSt5aCptdmMrbXZlO3R5Mj14dyptdmIreWgqbXZkK212Zjt0eDM9eHcqbXZhK3kqbXZjK212ZTt0eTM9eHcqbXZiK3kqbXZkK212Zjt0aGlzLm1hbmFnZXIuc2V0UmVuZGVyZXIodGhpcyx0ZXh0dXJlLGdhbWVPYmplY3QucmVuZGVyVGFyZ2V0KTt2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZSgyNCk7dGhpcy5lbGVtZW50Q291bnQrPTY7Ly8gIFRvcCBMZWZ0XG52ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4MDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5MDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXUwK3RpbGVQb3NpdGlvblg7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT12MCt0aWxlUG9zaXRpb25ZO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludFRMO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7Ly8gIEJvdHRvbSBMZWZ0XG52ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4MTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5MTt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXUwK3RpbGVQb3NpdGlvblg7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT12MSt0aWxlUG9zaXRpb25ZO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludEJMO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7Ly8gIEJvdHRvbSBSaWdodFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDI7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTI7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11MSt0aWxlUG9zaXRpb25YO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109djErdGlsZVBvc2l0aW9uWTt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRCUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhOy8vICBUb3AgUmlnaHRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgzO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkzO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dTErdGlsZVBvc2l0aW9uWDt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXYwK3RpbGVQb3NpdGlvblk7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50VFI7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt9fSk7bW9kdWxlLmV4cG9ydHM9VGlsZUJhdGNoOy8qKiovfSwvKiA0NDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ09OU1Q9ey8vIFZFUlRFWF9TSVpFID0gKHNpemVvZih2ZWMyKSAqIDQpICsgKHNpemVvZihmbG9hdCkgKyBzaXplb2YodWludDMyKSlcblZFUlRFWF9TSVpFOjI0LElOREVYX1NJWkU6MixTUFJJVEVfVkVSVEVYX0NPVU5UOjQsU1BSSVRFX0lOREVYX0NPVU5UOjYsLy8gSG93IG1hbnkgMzItYml0IGNvbXBvbmVudHMgZG9lcyB0aGUgdmVydGV4IGhhdmUuXG5TUFJJVEVfVkVSVEVYX0NPTVBPTkVOVF9DT1VOVDo2LC8vIENhbid0IGJlIGJpZ2dlciBzaW5jZSBpbmRleCBhcmUgMTYtYml0XG5NQVhfU1BSSVRFUzoyMDAwfTttb2R1bGUuZXhwb3J0cz1DT05TVDsvKioqL30sLyogNDQ2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxNjIpO3ZhciBEYXRhQnVmZmVyMTY9X193ZWJwYWNrX3JlcXVpcmVfXygzNyk7dmFyIERhdGFCdWZmZXIzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMwKTt2YXIgUEhBU0VSX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNCk7dmFyIFRpbGVtYXBTaGFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0NDcpO3ZhciBUaWxlbWFwUmVuZGVyZXI9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFRpbGVtYXBSZW5kZXJlcihnYW1lLGdsLG1hbmFnZXIpe3RoaXMuZ2FtZT1nYW1lO3RoaXMudHlwZT1QSEFTRVJfQ09OU1QuV0VCR0w7dGhpcy52aWV3PWdhbWUuY2FudmFzO3RoaXMucmVzb2x1dGlvbj1nYW1lLmNvbmZpZy5yZXNvbHV0aW9uO3RoaXMud2lkdGg9Z2FtZS5jb25maWcud2lkdGgqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmhlaWdodD1nYW1lLmNvbmZpZy5oZWlnaHQqZ2FtZS5jb25maWcucmVzb2x1dGlvbjt0aGlzLmdsQ29udGV4dD1nbDt0aGlzLnNoYWRlcj1udWxsO3RoaXMudmlld01hdHJpeExvY2F0aW9uPW51bGw7Ly8gICBBbGwgb2YgdGhlc2Ugc2V0dGluZ3Mgd2lsbCBiZSBhYmxlIHRvIGJlIGNvbnRyb2xsZWQgdmlhIHRoZSBHYW1lIENvbmZpZ1xudGhpcy5jb25maWc9e2NsZWFyQmVmb3JlUmVuZGVyOnRydWUsdHJhbnNwYXJlbnQ6ZmFsc2UsYXV0b1Jlc2l6ZTpmYWxzZSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ZmFsc2UsV2ViR0xDb250ZXh0T3B0aW9uczp7YWxwaGE6dHJ1ZSxhbnRpYWxpYXM6dHJ1ZSxwcmVtdWx0aXBsaWVkQWxwaGE6dHJ1ZSxzdGVuY2lsOnRydWUscHJlc2VydmVEcmF3aW5nQnVmZmVyOmZhbHNlfX07dGhpcy5tYW5hZ2VyPW1hbmFnZXI7dGhpcy5kaXJ0eT1mYWxzZTt0aGlzLmluaXQodGhpcy5nbENvbnRleHQpO30saW5pdDpmdW5jdGlvbiBpbml0KGdsKXt2YXIgc2hhZGVyPXRoaXMubWFuYWdlci5yZXNvdXJjZU1hbmFnZXIuY3JlYXRlU2hhZGVyKCdUaWxlbWFwU2hhZGVyJyxUaWxlbWFwU2hhZGVyKTt2YXIgdmlld01hdHJpeExvY2F0aW9uPXNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3Vfdmlld19tYXRyaXgnKTt2YXIgc2Nyb2xsTG9jYXRpb249c2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV9zY3JvbGwnKTt2YXIgc2Nyb2xsRmFjdG9yTG9jYXRpb249c2hhZGVyLmdldFVuaWZvcm1Mb2NhdGlvbigndV9zY3JvbGxfZmFjdG9yJyk7dmFyIHRpbGVtYXBQb3NpdGlvbkxvY2F0aW9uPXNoYWRlci5nZXRVbmlmb3JtTG9jYXRpb24oJ3VfdGlsZW1hcF9wb3NpdGlvbicpO3RoaXMuc2hhZGVyPXNoYWRlcjt0aGlzLnZpZXdNYXRyaXhMb2NhdGlvbj12aWV3TWF0cml4TG9jYXRpb247dGhpcy5zY3JvbGxMb2NhdGlvbj1zY3JvbGxMb2NhdGlvbjt0aGlzLnNjcm9sbEZhY3RvckxvY2F0aW9uPXNjcm9sbEZhY3RvckxvY2F0aW9uO3RoaXMudGlsZW1hcFBvc2l0aW9uTG9jYXRpb249dGlsZW1hcFBvc2l0aW9uTG9jYXRpb247dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24pO30sc2hvdWxkRmx1c2g6ZnVuY3Rpb24gc2hvdWxkRmx1c2goKXtyZXR1cm4gZmFsc2U7fSxpc0Z1bGw6ZnVuY3Rpb24gaXNGdWxsKCl7cmV0dXJuIGZhbHNlO30sYWRkOmZ1bmN0aW9uIGFkZCh4LHksd2lkdGgsaGVpZ2h0LHJlZCxncmVlbixibHVlLGFscGhhKXt9LGJpbmQ6ZnVuY3Rpb24gYmluZChzaGFkZXIpe2lmKHNoYWRlcj09PXVuZGVmaW5lZCl7dGhpcy5zaGFkZXIuYmluZCgpO31lbHNle3NoYWRlci5iaW5kKCk7dGhpcy5yZXNpemUodGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLmdhbWUuY29uZmlnLnJlc29sdXRpb24sc2hhZGVyKTt9fSxmbHVzaDpmdW5jdGlvbiBmbHVzaChzaGFkZXIpe30scmVzaXplOmZ1bmN0aW9uIHJlc2l6ZSh3aWR0aCxoZWlnaHQscmVzb2x1dGlvbixzaGFkZXIpe3ZhciBhY3RpdmVTaGFkZXI9c2hhZGVyIT09dW5kZWZpbmVkP3NoYWRlcjp0aGlzLnNoYWRlcjt0aGlzLndpZHRoPXdpZHRoKnJlc29sdXRpb247dGhpcy5oZWlnaHQ9aGVpZ2h0KnJlc29sdXRpb247YWN0aXZlU2hhZGVyLnNldENvbnN0YW50TWF0cml4NHg0KHRoaXMudmlld01hdHJpeExvY2F0aW9uLG5ldyBGbG9hdDMyQXJyYXkoWzIvdGhpcy53aWR0aCwwLDAsMCwwLC0yL3RoaXMuaGVpZ2h0LDAsMCwwLDAsMSwxLC0xLDEsMCwwXSkpO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5tYW5hZ2VyLnJlc291cmNlTWFuYWdlci5kZWxldGVTaGFkZXIodGhpcy5zaGFkZXIpO3RoaXMuc2hhZGVyPW51bGw7fX0pO21vZHVsZS5leHBvcnRzPVRpbGVtYXBSZW5kZXJlcjsvKioqL30sLyogNDQ3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9e3ZlcnQ6Wyd1bmlmb3JtIG1hdDQgdV92aWV3X21hdHJpeDsnLCd1bmlmb3JtIHZlYzIgdV9zY3JvbGw7JywndW5pZm9ybSB2ZWMyIHVfc2Nyb2xsX2ZhY3RvcjsnLCd1bmlmb3JtIHZlYzIgdV90aWxlbWFwX3Bvc2l0aW9uOycsJ2F0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247JywnYXR0cmlidXRlIHZlYzIgYV90ZXhfY29vcmQ7JywndmFyeWluZyB2ZWMyIHZfdGV4X2Nvb3JkOycsJ3ZvaWQgbWFpbiAoKSB7JywnICAgZ2xfUG9zaXRpb24gPSB1X3ZpZXdfbWF0cml4ICogdmVjNCh1X3RpbGVtYXBfcG9zaXRpb24gKyBhX3Bvc2l0aW9uICsgKHVfc2Nyb2xsICogdV9zY3JvbGxfZmFjdG9yKSwgMS4wLCAxLjApOycsJyAgIHZfdGV4X2Nvb3JkID0gYV90ZXhfY29vcmQ7JywnfSddLmpvaW4oJ1xcbicpLGZyYWc6WydwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLCd1bmlmb3JtIHNhbXBsZXIyRCB1X3NhbXBsZXIyRDsnLCd2YXJ5aW5nIHZlYzIgdl90ZXhfY29vcmQ7Jywndm9pZCBtYWluKCkgeycsJyAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1X3NhbXBsZXIyRCwgdl90ZXhfY29vcmQpOycsJ30nXS5qb2luKCdcXG4nKX07LyoqKi99LC8qIDQ0OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBXZWJHTFNuYXBzaG90PWZ1bmN0aW9uIFdlYkdMU25hcHNob3Qoc291cmNlQ2FudmFzKXt2YXIgZ2w9c291cmNlQ2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO3ZhciBwaXhlbHM9bmV3IFVpbnQ4QXJyYXkoZ2wuZHJhd2luZ0J1ZmZlcldpZHRoKmdsLmRyYXdpbmdCdWZmZXJIZWlnaHQqNCk7Z2wucmVhZFBpeGVscygwLDAsZ2wuZHJhd2luZ0J1ZmZlcldpZHRoLGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLHBpeGVscyk7Ly8gIENhbnZhc1Bvb2w/XG52YXIgY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO3ZhciBjdHg9Y2FudmFzLmdldENvbnRleHQoJzJkJyk7dmFyIGltYWdlRGF0YTtjYW52YXMud2lkdGg9Z2wuZHJhd2luZ0J1ZmZlcldpZHRoO2NhbnZhcy5oZWlnaHQ9Z2wuZHJhd2luZ0J1ZmZlckhlaWdodDtpbWFnZURhdGE9Y3R4LmdldEltYWdlRGF0YSgwLDAsY2FudmFzLndpZHRoLGNhbnZhcy5oZWlnaHQpO3ZhciBkYXRhPWltYWdlRGF0YS5kYXRhO2Zvcih2YXIgeT0wO3k8Y2FudmFzLmhlaWdodDt5Kz0xKXtmb3IodmFyIHg9MDt4PGNhbnZhcy53aWR0aDt4Kz0xKXt2YXIgc2k9KChjYW52YXMuaGVpZ2h0LXkpKmNhbnZhcy53aWR0aCt4KSo0O3ZhciBkaT0oeSpjYW52YXMud2lkdGgreCkqNDtkYXRhW2RpKzBdPXBpeGVsc1tzaSswXTtkYXRhW2RpKzFdPXBpeGVsc1tzaSsxXTtkYXRhW2RpKzJdPXBpeGVsc1tzaSsyXTtkYXRhW2RpKzNdPXBpeGVsc1tzaSszXTt9fWN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLDAsMCk7dmFyIHNyYz1jYW52YXMudG9EYXRhVVJMKCk7dmFyIGltYWdlPW5ldyBJbWFnZSgpO2ltYWdlLnNyYz1zcmM7cmV0dXJuIGltYWdlO307bW9kdWxlLmV4cG9ydHM9V2ViR0xTbmFwc2hvdDsvKioqL30sLyogNDQ5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmFzZUNhY2hlPV9fd2VicGFja19yZXF1aXJlX18oNDUwKTt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTsvLyAgUGhhc2VyLkNhY2hlLkdsb2JhbENhY2hlXG52YXIgR2xvYmFsQ2FjaGU9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEdsb2JhbENhY2hlKGdhbWUpe3RoaXMuZ2FtZT1nYW1lO3RoaXMuc291bmQ9bmV3IEJhc2VDYWNoZSgpO3RoaXMudmlkZW89bmV3IEJhc2VDYWNoZSgpO3RoaXMudGV4dD1uZXcgQmFzZUNhY2hlKCk7dGhpcy5qc29uPW5ldyBCYXNlQ2FjaGUoKTt0aGlzLnhtbD1uZXcgQmFzZUNhY2hlKCk7dGhpcy5waHlzaWNzPW5ldyBCYXNlQ2FjaGUoKTt0aGlzLnRpbGVtYXA9bmV3IEJhc2VDYWNoZSgpO3RoaXMuYmluYXJ5PW5ldyBCYXNlQ2FjaGUoKTt0aGlzLmJpdG1hcEZvbnQ9bmV3IEJhc2VDYWNoZSgpO3RoaXMuc2hhZGVyPW5ldyBCYXNlQ2FjaGUoKTt0aGlzLmN1c3RvbT17fTt9LC8vICBBZGQgeW91ciBvd24gY3VzdG9tIENhY2hlIGVudHJ5LCBhdmFpbGFibGUgdW5kZXIgQ2FjaGUuY3VzdG9tLmtleVxuYWRkQ3VzdG9tOmZ1bmN0aW9uIGFkZEN1c3RvbShrZXkpe2lmKCF0aGlzLmN1c3RvbS5oYXNPd25Qcm9wZXJ0eShrZXkpKXt0aGlzLmN1c3RvbVtrZXldPW5ldyBCYXNlQ2FjaGUoKTtyZXR1cm4gdGhpcy5jdXN0b21ba2V5XTt9fX0pO21vZHVsZS5leHBvcnRzPUdsb2JhbENhY2hlOy8qKiovfSwvKiA0NTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudERpc3BhdGNoZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyNSk7dmFyIEV2ZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1MSk7Ly8gIFBoYXNlci5DYWNoZS5CYXNlQ2FjaGVcbnZhciBCYXNlQ2FjaGU9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEJhc2VDYWNoZSgpe3RoaXMuZW50cmllcz1uZXcgTWFwKCk7dGhpcy5ldmVudHM9bmV3IEV2ZW50RGlzcGF0Y2hlcigpO30sYWRkOmZ1bmN0aW9uIGFkZChrZXksZGF0YSl7dGhpcy5lbnRyaWVzLnNldChrZXksZGF0YSk7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IEV2ZW50cy5DQUNIRV9BRERfRVZFTlQodGhpcyxrZXksZGF0YSkpO30saGFzOmZ1bmN0aW9uIGhhcyhrZXkpe3JldHVybiB0aGlzLmVudHJpZXMuaGFzKGtleSk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KGtleSl7cmV0dXJuIHRoaXMuZW50cmllcy5nZXQoa2V5KTt9LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoa2V5KXt2YXIgZW50cnk9dGhpcy5nZXQoa2V5KTtpZihlbnRyeSl7dGhpcy5lbnRyaWVzLmRlbGV0ZShrZXkpO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBFdmVudHMuQ0FDSEVfUkVNT1ZFX0VWRU5UKHRoaXMsa2V5LGVudHJ5LmRhdGEpKTt9fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLmVudHJpZXMuY2xlYXIoKTt9fSk7bW9kdWxlLmV4cG9ydHM9QmFzZUNhY2hlOy8qKiovfSwvKiA0NTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtDQUNIRV9BRERfRVZFTlQ6X193ZWJwYWNrX3JlcXVpcmVfXyg0NTIpLENBQ0hFX1JFTU9WRV9FVkVOVDpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1Myl9Oy8qKiovfSwvKiA0NTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBDYWNoZUFkZEV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIENhY2hlQWRkRXZlbnQoY2FjaGUsa2V5LGRhdGEpe0V2ZW50LmNhbGwodGhpcywnQ0FDSEVfQUREX0VWRU5UJyk7dGhpcy5jYWNoZT1jYWNoZTt0aGlzLmtleT1rZXk7dGhpcy5kYXRhPWRhdGE7fX0pO21vZHVsZS5leHBvcnRzPUNhY2hlQWRkRXZlbnQ7LyoqKi99LC8qIDQ1MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIENhY2hlUmVtb3ZlRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gQ2FjaGVSZW1vdmVFdmVudChjYWNoZSxrZXksZGF0YSl7RXZlbnQuY2FsbCh0aGlzLCdDQUNIRV9SRU1PVkVfRVZFTlQnKTt0aGlzLmNhY2hlPWNhY2hlO3RoaXMua2V5PWtleTt0aGlzLmRhdGE9ZGF0YTt9fSk7bW9kdWxlLmV4cG9ydHM9Q2FjaGVSZW1vdmVFdmVudDsvKioqL30sLyogNDU0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLklucHV0Lkdsb2JhbElucHV0TWFuYWdlclxudmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50RGlzcGF0Y2hlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTt2YXIgR2V0VHJhbnNmb3JtZWRQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcwKTt2YXIgS2V5Ym9hcmQ9X193ZWJwYWNrX3JlcXVpcmVfXygxNjQpO3ZhciBNb3VzZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2OCk7dmFyIE1vdXNlRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg0NjMpO3ZhciBUb3VjaD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2Nyk7dmFyIFBvaW50ZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg0NjgpO3ZhciBQb2ludFNjcmVlblRvV29ybGRIaXRUZXN0PV9fd2VicGFja19yZXF1aXJlX18oNDY5KTt2YXIgSGl0VGVzdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ3MCk7dmFyIFBvaW50V2l0aGluR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7dmFyIFRyYW5zZm9ybU1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTt2YXIgR2xvYmFsSW5wdXRNYW5hZ2VyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBHbG9iYWxJbnB1dE1hbmFnZXIoZ2FtZSxjb25maWcpe3RoaXMuZ2FtZT1nYW1lO3RoaXMuY2FudmFzO3RoaXMuY29uZmlnPWNvbmZpZzt0aGlzLmVuYWJsZWQ9dHJ1ZTt0aGlzLmV2ZW50cz1uZXcgRXZlbnREaXNwYXRjaGVyKCk7Ly8gICBTdGFuZGFyZCBGSUZPIHF1ZXVlXG50aGlzLnF1ZXVlPVtdOy8vICBMaXN0ZW5lcnNcbnRoaXMua2V5Ym9hcmQ9bmV3IEtleWJvYXJkKHRoaXMpO3RoaXMubW91c2U9bmV3IE1vdXNlKHRoaXMpO3RoaXMudG91Y2g9bmV3IFRvdWNoKHRoaXMpO3RoaXMuYWN0aXZlUG9pbnRlcj1uZXcgUG9pbnRlcih0aGlzLDApO3RoaXMuc2NhbGU9e3g6MSx5OjF9O3RoaXMuX3RlbXBNYXRyaXg9bmV3IFRyYW5zZm9ybU1hdHJpeCgpO3RoaXMuX3RlbXBQb2ludD17eDowLHk6MH07dGhpcy5fdGVtcEhpdFRlc3Q9W107fSwvKipcbiAgICAqIFRoZSBCb290IGhhbmRsZXIgaXMgY2FsbGVkIGJ5IFBoYXNlci5HYW1lIHdoZW4gaXQgZmlyc3Qgc3RhcnRzIHVwLlxuICAgICogVGhlIHJlbmRlcmVyIGlzIGF2YWlsYWJsZSBieSBub3cuXG4gICAgKi9ib290OmZ1bmN0aW9uIGJvb3QoKXt0aGlzLmNhbnZhcz10aGlzLmdhbWUuY2FudmFzO3RoaXMua2V5Ym9hcmQuYm9vdCgpO3RoaXMubW91c2UuYm9vdCgpO3RoaXMudG91Y2guYm9vdCgpO30sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZSh0aW1lLGRlbHRhKXt0aGlzLmtleWJvYXJkLnVwZGF0ZSgpO3ZhciBsZW49dGhpcy5xdWV1ZS5sZW5ndGg7Ly8gIEN1cnJlbnRseSBqdXN0IDEgcG9pbnRlciBzdXBwb3J0ZWRcbnZhciBwb2ludGVyPXRoaXMuYWN0aXZlUG9pbnRlcjtwb2ludGVyLnJlc2V0KCk7aWYoIXRoaXMuZW5hYmxlZHx8bGVuPT09MCl7cmV0dXJuO310aGlzLnNjYWxlLng9dGhpcy5nYW1lLmNvbmZpZy53aWR0aC90aGlzLmNhbnZhcy5vZmZzZXRXaWR0aDt0aGlzLnNjYWxlLnk9dGhpcy5nYW1lLmNvbmZpZy5oZWlnaHQvdGhpcy5jYW52YXMub2Zmc2V0SGVpZ2h0Oy8vICBDbGVhcnMgdGhlIHF1ZXVlIGFycmF5LCBhbmQgYWxzbyBtZWFucyB3ZSBkb24ndCB3b3JrIG9uIGFycmF5IGRhdGEgdGhhdCBjb3VsZCBwb3RlbnRpYWxseVxuLy8gIGJlIG1vZGlmaWVkIGR1cmluZyB0aGUgcHJvY2Vzc2luZyBwaGFzZVxudmFyIHF1ZXVlPXRoaXMucXVldWUuc3BsaWNlKDAsbGVuKTsvLyAgUHJvY2VzcyB0aGUgZXZlbnQgcXVldWUsIGRpc3BhdGNoaW5nIGFsbCBvZiB0aGUgZXZlbnRzIHRoYXQgaGF2ZSBzdG9yZWQgdXBcbmZvcih2YXIgaT0wO2k8bGVuO2krKyl7dmFyIGV2ZW50PXF1ZXVlW2ldOy8vICBUT0RPOiBNb3ZlIHRvIENPTlNUcyBzbyB3ZSBjYW4gZG8gaW50ZWdlciBjb21wYXJpc29ucyBpbnN0ZWFkIG9mIHN0cmluZ3MuXG4vLyAgVE9ETzogUmVtb3ZlIHRoZSBNb3VzZUV2ZW50IGV2ZW50cy4gRGV2cyBzaG91bGQgdXNlIFBvaW50ZXIgZXZlbnRzIGluc3RlYWQuXG5zd2l0Y2goZXZlbnQudHlwZSl7Y2FzZSdtb3VzZW1vdmUnOnBvaW50ZXIubW92ZShldmVudCx0aW1lKTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgTW91c2VFdmVudC5NT1ZFKGV2ZW50KSk7YnJlYWs7Y2FzZSdtb3VzZWRvd24nOnBvaW50ZXIuZG93bihldmVudCx0aW1lKTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgTW91c2VFdmVudC5ET1dOKGV2ZW50KSk7YnJlYWs7Y2FzZSdtb3VzZXVwJzpwb2ludGVyLnVwKGV2ZW50LHRpbWUpO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBNb3VzZUV2ZW50LlVQKGV2ZW50KSk7YnJlYWs7Y2FzZSd0b3VjaG1vdmUnOnBvaW50ZXIudG91Y2htb3ZlKGV2ZW50LHRpbWUpO2JyZWFrO2Nhc2UndG91Y2hzdGFydCc6cG9pbnRlci50b3VjaHN0YXJ0KGV2ZW50LHRpbWUpO2JyZWFrO2Nhc2UndG91Y2hlbmQnOnBvaW50ZXIudG91Y2hlbmQoZXZlbnQsdGltZSk7YnJlYWs7fX19LGdldFRyYW5zZm9ybWVkUG9pbnQ6ZnVuY3Rpb24gZ2V0VHJhbnNmb3JtZWRQb2ludChnYW1lT2JqZWN0LHgseSl7cmV0dXJuIEdldFRyYW5zZm9ybWVkUG9pbnQodGhpcy5fdGVtcE1hdHJpeCxnYW1lT2JqZWN0LHgseSx0aGlzLl90ZW1wUG9pbnQpO30scG9pbnRXaXRoaW5HYW1lT2JqZWN0OmZ1bmN0aW9uIHBvaW50V2l0aGluR2FtZU9iamVjdChnYW1lT2JqZWN0LHgseSl7cmV0dXJuIFBvaW50V2l0aGluR2FtZU9iamVjdChnYW1lT2JqZWN0LHgseSk7fSxoaXRUZXN0OmZ1bmN0aW9uIGhpdFRlc3QoZ2FtZU9iamVjdHMseCx5LGNhbWVyYSl7cmV0dXJuIEhpdFRlc3QodGhpcy5fdGVtcE1hdHJpeCx4LHksZ2FtZU9iamVjdHMsY2FtZXJhLHRoaXMuX3RlbXBIaXRUZXN0KTt9LHBvaW50U2NyZWVuVG9Xb3JsZEhpdFRlc3Q6ZnVuY3Rpb24gcG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdChnYW1lT2JqZWN0cyx4LHksY2FtZXJhKXtyZXR1cm4gUG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdCh0aGlzLl90ZW1wTWF0cml4LHgseSxnYW1lT2JqZWN0cyxjYW1lcmEsdGhpcy5fdGVtcEhpdFRlc3QpO30sdHJhbnNmb3JtWDpmdW5jdGlvbiB0cmFuc2Zvcm1YKHBhZ2VYKXtyZXR1cm4ocGFnZVgtdGhpcy5jYW52YXMub2Zmc2V0TGVmdCkqdGhpcy5zY2FsZS54O30sdHJhbnNmb3JtWTpmdW5jdGlvbiB0cmFuc2Zvcm1ZKHBhZ2VZKXtyZXR1cm4ocGFnZVktdGhpcy5jYW52YXMub2Zmc2V0VG9wKSp0aGlzLnNjYWxlLnk7fSxnZXRPZmZzZXRYOmZ1bmN0aW9uIGdldE9mZnNldFgoKXtyZXR1cm4gdGhpcy5jYW52YXMub2Zmc2V0TGVmdDt9LGdldE9mZnNldFk6ZnVuY3Rpb24gZ2V0T2Zmc2V0WSgpe3JldHVybiB0aGlzLmNhbnZhcy5vZmZzZXRUb3A7fSxnZXRTY2FsZVg6ZnVuY3Rpb24gZ2V0U2NhbGVYKCl7cmV0dXJuIHRoaXMuZ2FtZS5jb25maWcud2lkdGgvdGhpcy5jYW52YXMub2Zmc2V0V2lkdGg7fSxnZXRTY2FsZVk6ZnVuY3Rpb24gZ2V0U2NhbGVZKCl7cmV0dXJuIHRoaXMuZ2FtZS5jb25maWcuaGVpZ2h0L3RoaXMuY2FudmFzLm9mZnNldEhlaWdodDt9fSk7bW9kdWxlLmV4cG9ydHM9R2xvYmFsSW5wdXRNYW5hZ2VyOy8qKiovfSwvKiA0NTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBLZXlDb2Rlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTt2YXIgZXZlbnRzPXtLRVlfRE9XTl9FVkVOVDpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1NiksS0VZX1VQX0VWRU5UOl9fd2VicGFja19yZXF1aXJlX18oNDU3KSxfVVA6W10sX0RPV046W119O2Z1bmN0aW9uIGNyZWF0ZUtleUV2ZW50KHR5cGUpe3ZhciBLZXlFdmVudD1mdW5jdGlvbiBLZXlFdmVudChrZXlib2FyZEV2ZW50KXtFdmVudC5jYWxsKHRoaXMsdHlwZSk7dGhpcy5kYXRhPWtleWJvYXJkRXZlbnQ7fTtLZXlFdmVudC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFdmVudC5wcm90b3R5cGUpO0tleUV2ZW50LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1LZXlFdmVudDtyZXR1cm4gS2V5RXZlbnQ7fS8vICBJbmplY3QgdGhlIEtleUNvZGUgZXZlbnRzXG5mb3IodmFyIGNvZGUgaW4gS2V5Q29kZXMpey8vICBUaGUgS2V5IERvd24gRXZlbnQgVHlwZXNcbnZhciBkb3duVHlwZT0nS0VZX0RPV05fJytjb2RlO3ZhciB1cFR5cGU9J0tFWV9VUF8nK2NvZGU7ZXZlbnRzLl9ET1dOW0tleUNvZGVzW2NvZGVdXT1jcmVhdGVLZXlFdmVudChkb3duVHlwZSk7ZXZlbnRzLl9VUFtLZXlDb2Rlc1tjb2RlXV09Y3JlYXRlS2V5RXZlbnQodXBUeXBlKTsvLyAgTW9yZSBmcmllbmRseSBhbGlhc2VzIHRvIHRoZSBtYWluIGV2ZW50c1xuZXZlbnRzW2Rvd25UeXBlXT1ldmVudHMuX0RPV05bS2V5Q29kZXNbY29kZV1dO2V2ZW50c1t1cFR5cGVdPWV2ZW50cy5fVVBbS2V5Q29kZXNbY29kZV1dO31tb2R1bGUuZXhwb3J0cz1ldmVudHM7LyoqKi99LC8qIDQ1NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIEtleURvd25FdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBLZXlEb3duRXZlbnQoa2V5Ym9hcmRFdmVudCl7RXZlbnQuY2FsbCh0aGlzLCdLRVlfRE9XTl9FVkVOVCcpO3RoaXMuZGF0YT1rZXlib2FyZEV2ZW50O319KTttb2R1bGUuZXhwb3J0cz1LZXlEb3duRXZlbnQ7LyoqKi99LC8qIDQ1NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIEtleVVwRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gS2V5VXBFdmVudChrZXlib2FyZEV2ZW50KXtFdmVudC5jYWxsKHRoaXMsJ0tFWV9VUF9FVkVOVCcpO3RoaXMuZGF0YT1rZXlib2FyZEV2ZW50O319KTttb2R1bGUuZXhwb3J0cz1LZXlVcEV2ZW50Oy8qKiovfSwvKiA0NTggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBLZXlDb21ib01hdGNoRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gS2V5Q29tYm9NYXRjaEV2ZW50KGtleUNvbWJvLGtleWJvYXJkRXZlbnQpe0V2ZW50LmNhbGwodGhpcywnS0VZX0NPTUJPX01BVENIX0VWRU5UJyk7dGhpcy50YXJnZXQ9a2V5Q29tYm87dGhpcy5kYXRhPWtleWJvYXJkRXZlbnQ7fX0pO21vZHVsZS5leHBvcnRzPUtleUNvbWJvTWF0Y2hFdmVudDsvKioqL30sLyogNDU5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFJldHVybiBib29sZWFuICh0cnVlIGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgY29tYm8sIGZhbHNlIGlmIG5vdClcbnZhciBBZHZhbmNlS2V5Q29tYm89ZnVuY3Rpb24gQWR2YW5jZUtleUNvbWJvKGV2ZW50LGNvbWJvKXtjb21iby50aW1lTGFzdE1hdGNoZWQ9ZXZlbnQudGltZVN0YW1wO2NvbWJvLmluZGV4Kys7aWYoY29tYm8uaW5kZXg9PT1jb21iby5zaXplKXtyZXR1cm4gdHJ1ZTt9ZWxzZXtjb21iby5jdXJyZW50PWNvbWJvLmtleUNvZGVzW2NvbWJvLmluZGV4XTtyZXR1cm4gZmFsc2U7fX07bW9kdWxlLmV4cG9ydHM9QWR2YW5jZUtleUNvbWJvOy8qKiovfSwvKiA0NjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVzZXRLZXlDb21ibz1mdW5jdGlvbiBSZXNldEtleUNvbWJvKGNvbWJvKXtjb21iby5jdXJyZW50PWNvbWJvLmtleUNvZGVzWzBdO2NvbWJvLmluZGV4PTA7Y29tYm8udGltZUxhc3RNYXRjaGVkPTA7Y29tYm8ubWF0Y2hlZD1mYWxzZTtjb21iby50aW1lTWF0Y2hlZD0wO3JldHVybiBjb21ibzt9O21vZHVsZS5leHBvcnRzPVJlc2V0S2V5Q29tYm87LyoqKi99LC8qIDQ2MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQcm9jZXNzS2V5RG93bj1mdW5jdGlvbiBQcm9jZXNzS2V5RG93bihrZXksZXZlbnQpe2tleS5vcmlnaW5hbEV2ZW50PWV2ZW50O2lmKGtleS5wcmV2ZW50RGVmYXVsdCl7ZXZlbnQucHJldmVudERlZmF1bHQoKTt9aWYoIWtleS5lbmFibGVkKXtyZXR1cm47fWtleS5hbHRLZXk9ZXZlbnQuYWx0S2V5O2tleS5jdHJsS2V5PWV2ZW50LmN0cmxLZXk7a2V5LnNoaWZ0S2V5PWV2ZW50LnNoaWZ0S2V5O2tleS5sb2NhdGlvbj1ldmVudC5sb2NhdGlvbjtrZXkuaXNEb3duPXRydWU7a2V5LmlzVXA9ZmFsc2U7a2V5LnRpbWVEb3duPWV2ZW50LnRpbWVTdGFtcDtrZXkuZHVyYXRpb249MDtrZXkucmVwZWF0cysrO2tleS5fanVzdERvd249dHJ1ZTtrZXkuX2p1c3RVcD1mYWxzZTtyZXR1cm4ga2V5O307bW9kdWxlLmV4cG9ydHM9UHJvY2Vzc0tleURvd247LyoqKi99LC8qIDQ2MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQcm9jZXNzS2V5VXA9ZnVuY3Rpb24gUHJvY2Vzc0tleVVwKGtleSxldmVudCl7a2V5Lm9yaWdpbmFsRXZlbnQ9ZXZlbnQ7aWYoa2V5LnByZXZlbnREZWZhdWx0KXtldmVudC5wcmV2ZW50RGVmYXVsdCgpO31pZigha2V5LmVuYWJsZWQpe3JldHVybjt9a2V5LmlzRG93bj1mYWxzZTtrZXkuaXNVcD10cnVlO2tleS50aW1lVXA9ZXZlbnQudGltZVN0YW1wO2tleS5kdXJhdGlvbj1rZXkudGltZVVwLWtleS50aW1lRG93bjtrZXkucmVwZWF0cz0wO2tleS5fanVzdERvd249ZmFsc2U7a2V5Ll9qdXN0VXA9dHJ1ZTtyZXR1cm4ga2V5O307bW9kdWxlLmV4cG9ydHM9UHJvY2Vzc0tleVVwOy8qKiovfSwvKiA0NjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuSW5wdXQuTW91c2UuRXZlbnRzXG5tb2R1bGUuZXhwb3J0cz17RE9XTjpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ2NCksVVA6X193ZWJwYWNrX3JlcXVpcmVfXyg0NjUpLE1PVkU6X193ZWJwYWNrX3JlcXVpcmVfXyg0NjYpfTsvKioqL30sLyogNDY0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgTW91c2VEb3duRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gTW91c2VEb3duRXZlbnQobmF0aXZlRXZlbnQpe0V2ZW50LmNhbGwodGhpcywnTU9VU0VfRE9XTl9FVkVOVCcpO3RoaXMuZGF0YT1uYXRpdmVFdmVudDt0aGlzLng9bmF0aXZlRXZlbnQuY2xpZW50WDt0aGlzLnk9bmF0aXZlRXZlbnQuY2xpZW50WTt9fSk7bW9kdWxlLmV4cG9ydHM9TW91c2VEb3duRXZlbnQ7LyoqKi99LC8qIDQ2NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIE1vdXNlVXBFdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBNb3VzZVVwRXZlbnQobmF0aXZlRXZlbnQpe0V2ZW50LmNhbGwodGhpcywnTU9VU0VfVVBfRVZFTlQnKTt0aGlzLmRhdGE9bmF0aXZlRXZlbnQ7dGhpcy54PW5hdGl2ZUV2ZW50LmNsaWVudFg7dGhpcy55PW5hdGl2ZUV2ZW50LmNsaWVudFk7fX0pO21vZHVsZS5leHBvcnRzPU1vdXNlVXBFdmVudDsvKioqL30sLyogNDY2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgTW91c2VNb3ZlRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gTW91c2VNb3ZlRXZlbnQobmF0aXZlRXZlbnQpe0V2ZW50LmNhbGwodGhpcywnTU9VU0VfTU9WRV9FVkVOVCcpO3RoaXMuZGF0YT1uYXRpdmVFdmVudDt0aGlzLng9bmF0aXZlRXZlbnQuY2xpZW50WDt0aGlzLnk9bmF0aXZlRXZlbnQuY2xpZW50WTt9fSk7bW9kdWxlLmV4cG9ydHM9TW91c2VNb3ZlRXZlbnQ7LyoqKi99LC8qIDQ2NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoX2V2ZW50c1xuLy8gaHR0cHM6Ly9wYXRyaWNraGxhdWtlLmdpdGh1Yi5pby90b3VjaC90ZXN0cy9yZXN1bHRzL1xuLy8gaHR0cHM6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vbW9iaWxlL3RvdWNoL1xudmFyIFRvdWNoTWFuYWdlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gVG91Y2hNYW5hZ2VyKGlucHV0TWFuYWdlcil7dGhpcy5tYW5hZ2VyPWlucHV0TWFuYWdlcjsvLyBAcHJvcGVydHkge2Jvb2xlYW59IGNhcHR1cmUgLSBJZiB0cnVlIHRoZSBET00gZXZlbnRzIHdpbGwgaGF2ZSBldmVudC5wcmV2ZW50RGVmYXVsdCBhcHBsaWVkIHRvIHRoZW0sIGlmIGZhbHNlIHRoZXkgd2lsbCBwcm9wYWdhdGUgZnVsbHkuXG50aGlzLmNhcHR1cmU9ZmFsc2U7dGhpcy5lbmFibGVkPWZhbHNlO3RoaXMudGFyZ2V0O3RoaXMuaGFuZGxlcjt9LGJvb3Q6ZnVuY3Rpb24gYm9vdCgpe3ZhciBjb25maWc9dGhpcy5tYW5hZ2VyLmNvbmZpZzt0aGlzLmVuYWJsZWQ9Y29uZmlnLmlucHV0VG91Y2g7dGhpcy50YXJnZXQ9Y29uZmlnLmlucHV0VG91Y2hFdmVudFRhcmdldDtpZighdGhpcy50YXJnZXQpe3RoaXMudGFyZ2V0PXRoaXMubWFuYWdlci5nYW1lLmNhbnZhczt9aWYodGhpcy5lbmFibGVkKXt0aGlzLnN0YXJ0TGlzdGVuZXJzKCk7fX0sc3RhcnRMaXN0ZW5lcnM6ZnVuY3Rpb24gc3RhcnRMaXN0ZW5lcnMoKXt2YXIgcXVldWU9dGhpcy5tYW5hZ2VyLnF1ZXVlO3ZhciBfdGhpcz10aGlzO3ZhciBoYW5kbGVyPWZ1bmN0aW9uIGhhbmRsZXIoZXZlbnQpe2lmKGV2ZW50LnByZXZlbnREZWZhdWx0ZWQpey8vIERvIG5vdGhpbmcgaWYgZXZlbnQgYWxyZWFkeSBoYW5kbGVkXG5yZXR1cm47fS8vIGNvbnNvbGUubG9nKGV2ZW50KTtcbnF1ZXVlLnB1c2goZXZlbnQpO2lmKF90aGlzLmNhcHR1cmUpe2V2ZW50LnByZXZlbnREZWZhdWx0KCk7fX07dGhpcy5oYW5kbGVyPWhhbmRsZXI7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsaGFuZGxlcixmYWxzZSk7dGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJyxoYW5kbGVyLGZhbHNlKTt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsaGFuZGxlcixmYWxzZSk7fSxzdG9wTGlzdGVuZXJzOmZ1bmN0aW9uIHN0b3BMaXN0ZW5lcnMoKXt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jyx0aGlzLmhhbmRsZXIpO3RoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsdGhpcy5oYW5kbGVyKTt0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsdGhpcy5oYW5kbGVyKTt9fSk7bW9kdWxlLmV4cG9ydHM9VG91Y2hNYW5hZ2VyOy8qKiovfSwvKiA0NjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuSW5wdXQuUG9pbnRlclxudmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7Ly8gIERPTSBldmVudCBidXR0b24gdmFsdWU6XG4vLyBBIG51bWJlciByZXByZXNlbnRpbmcgYSBnaXZlbiBidXR0b246XG4vLyAwOiBNYWluIGJ1dHRvbiBwcmVzc2VkLCB1c3VhbGx5IHRoZSBsZWZ0IGJ1dHRvbiBvciB0aGUgdW4taW5pdGlhbGl6ZWQgc3RhdGVcbi8vIDE6IEF1eGlsaWFyeSBidXR0b24gcHJlc3NlZCwgdXN1YWxseSB0aGUgd2hlZWwgYnV0dG9uIG9yIHRoZSBtaWRkbGUgYnV0dG9uIChpZiBwcmVzZW50KVxuLy8gMjogU2Vjb25kYXJ5IGJ1dHRvbiBwcmVzc2VkLCB1c3VhbGx5IHRoZSByaWdodCBidXR0b25cbi8vIDM6IEZvdXJ0aCBidXR0b24sIHR5cGljYWxseSB0aGUgQnJvd3NlciBCYWNrIGJ1dHRvblxuLy8gNDogRmlmdGggYnV0dG9uLCB0eXBpY2FsbHkgdGhlIEJyb3dzZXIgRm9yd2FyZCBidXR0b25cbi8vIEZvciBhIG1vdXNlIGNvbmZpZ3VyZWQgZm9yIGxlZnQtaGFuZGVkIHVzZSwgdGhlIGJ1dHRvbiBhY3Rpb25zIGFyZSByZXZlcnNlZC4gSW4gdGhpcyBjYXNlLCB0aGUgdmFsdWVzIGFyZSByZWFkIGZyb20gcmlnaHQgdG8gbGVmdC5cbnZhciBQb2ludGVyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBQb2ludGVyKG1hbmFnZXIsaWQpe3RoaXMubWFuYWdlcj1tYW5hZ2VyO3RoaXMuaWQ9aWQ7dGhpcy5ldmVudDsvLyAgVGhlIGNhbWVyYSB0aGUgUG9pbnRlciBpbnRlcmFjdGVkIHdpdGggZHVyaW5nIGl0cyBsYXN0IHVwZGF0ZVxuLy8gIEEgUG9pbnRlciBjYW4gb25seSBldmVyIGludGVyYWN0IHdpdGggMSBjYW1lcmEgYXQgb25jZSwgd2hpY2ggd2lsbCBiZSB0aGUgdG9wLW1vc3QgY2FtZXJhXG4vLyAgaW4gdGhlIGxpc3Qgc2hvdWxkIG11bHRpcGxlIGNhbWVyYXMgYmUgcG9zaXRpb25lZCBvbi10b3Agb2YgZWFjaCBvdGhlci5cbnRoaXMuY2FtZXJhPW51bGw7Ly8gMCAgOiBObyBidXR0b24gb3IgdW4taW5pdGlhbGl6ZWRcbi8vIDEgIDogTGVmdCBidXR0b25cbi8vIDIgIDogUmlnaHQgYnV0dG9uXG4vLyA0ICA6IFdoZWVsIGJ1dHRvbiBvciBtaWRkbGUgYnV0dG9uXG4vLyA4ICA6IDR0aCBidXR0b24gKHR5cGljYWxseSB0aGUgXCJCcm93c2VyIEJhY2tcIiBidXR0b24pXG4vLyAxNiA6IDV0aCBidXR0b24gKHR5cGljYWxseSB0aGUgXCJCcm93c2VyIEZvcndhcmRcIiBidXR0b24pXG50aGlzLmJ1dHRvbnM9MDt0aGlzLng9MDt0aGlzLnk9MDsvLyAgQ29vcmRpbmF0ZXMgYW5kIHRpbWUgb2YgdGhlIHBvaW50ZXIgd2hlbiBCdXR0b24gMSAobGVmdCBidXR0b24pLCBvciBUb3VjaCwgd2FzIHByZXNzZWQsIHVzZWQgZm9yIGRyYWdnaW5nIG9iamVjdHNcbnRoaXMuZG93blg9MDt0aGlzLmRvd25ZPTA7dGhpcy5kb3duVGltZT0wOy8vICBDb29yZGluYXRlcyBhbmQgdGltZSBvZiB0aGUgcG9pbnRlciB3aGVuIEJ1dHRvbiAxIChsZWZ0IGJ1dHRvbiksIG9yIFRvdWNoLCB3YXMgcmVsZWFzZWQsIHVzZWQgZm9yIGRyYWdnaW5nIG9iamVjdHNcbnRoaXMudXBYPTA7dGhpcy51cFk9MDt0aGlzLnVwVGltZT0wOy8vICBJcyB0aGUgcHJpbWFyeSBidXR0b24gZG93bj8gKHVzdWFsbHkgYnV0dG9uIDAsIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbilcbnRoaXMucHJpbWFyeURvd249ZmFsc2U7Ly8gIDAgPSBOb3QgZHJhZ2dpbmcgYW55dGhpbmdcbi8vICAxID0gQmVpbmcgY2hlY2tlZCBpZiBkcmFnZ2luZ1xuLy8gIDIgPSBEcmFnZ2luZyBzb21ldGhpbmdcbnRoaXMuZHJhZ1N0YXRlPTA7Ly8gIElzICphbnkqIGJ1dHRvbiBvbiB0aGlzIHBvaW50ZXIgY29uc2lkZXJlZCBhcyBiZWluZyBkb3duP1xudGhpcy5pc0Rvd249ZmFsc2U7dGhpcy5kaXJ0eT1mYWxzZTt0aGlzLmp1c3REb3duPWZhbHNlO3RoaXMuanVzdFVwPWZhbHNlO3RoaXMuanVzdE1vdmVkPWZhbHNlO30scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXt0aGlzLmJ1dHRvbnM9MDt0aGlzLmRpcnR5PWZhbHNlO3RoaXMuaXNEb3duPWZhbHNlO3RoaXMuanVzdERvd249ZmFsc2U7dGhpcy5qdXN0VXA9ZmFsc2U7dGhpcy5qdXN0TW92ZWQ9ZmFsc2U7fSx0b3VjaG1vdmU6ZnVuY3Rpb24gdG91Y2htb3ZlKGV2ZW50LHRpbWUpe3RoaXMuZXZlbnQ9ZXZlbnQ7dGhpcy54PXRoaXMubWFuYWdlci50cmFuc2Zvcm1YKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYKTt0aGlzLnk9dGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkpO3RoaXMuanVzdE1vdmVkPXRydWU7dGhpcy5kaXJ0eT10cnVlO30sbW92ZTpmdW5jdGlvbiBtb3ZlKGV2ZW50LHRpbWUpe2lmKGV2ZW50LmJ1dHRvbnMpe3RoaXMuYnV0dG9ucz1ldmVudC5idXR0b25zO310aGlzLmV2ZW50PWV2ZW50O3RoaXMueD10aGlzLm1hbmFnZXIudHJhbnNmb3JtWChldmVudC5wYWdlWCk7dGhpcy55PXRoaXMubWFuYWdlci50cmFuc2Zvcm1ZKGV2ZW50LnBhZ2VZKTt0aGlzLmp1c3RNb3ZlZD10cnVlO3RoaXMuZGlydHk9dHJ1ZTt9LGRvd246ZnVuY3Rpb24gZG93bihldmVudCx0aW1lKXtpZihldmVudC5idXR0b25zKXt0aGlzLmJ1dHRvbnM9ZXZlbnQuYnV0dG9uczt9dGhpcy5ldmVudD1ldmVudDt0aGlzLng9dGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVgoZXZlbnQucGFnZVgpO3RoaXMueT10aGlzLm1hbmFnZXIudHJhbnNmb3JtWShldmVudC5wYWdlWSk7Ly8gIDA6IE1haW4gYnV0dG9uIHByZXNzZWQsIHVzdWFsbHkgdGhlIGxlZnQgYnV0dG9uIG9yIHRoZSB1bi1pbml0aWFsaXplZCBzdGF0ZVxuaWYoZXZlbnQuYnV0dG9uPT09MCl7dGhpcy5wcmltYXJ5RG93bj10cnVlO3RoaXMuZG93blg9dGhpcy54O3RoaXMuZG93blk9dGhpcy55O3RoaXMuZG93blRpbWU9dGltZTt9dGhpcy5qdXN0RG93bj10cnVlO3RoaXMuaXNEb3duPXRydWU7dGhpcy5kaXJ0eT10cnVlO30sdG91Y2hzdGFydDpmdW5jdGlvbiB0b3VjaHN0YXJ0KGV2ZW50LHRpbWUpe3RoaXMuYnV0dG9ucz0xO3RoaXMuZXZlbnQ9ZXZlbnQ7dGhpcy54PXRoaXMubWFuYWdlci50cmFuc2Zvcm1YKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYKTt0aGlzLnk9dGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkpO3RoaXMucHJpbWFyeURvd249dHJ1ZTt0aGlzLmRvd25YPXRoaXMueDt0aGlzLmRvd25ZPXRoaXMueTt0aGlzLmRvd25UaW1lPXRpbWU7dGhpcy5qdXN0RG93bj10cnVlO3RoaXMuaXNEb3duPXRydWU7dGhpcy5kaXJ0eT10cnVlO30sdXA6ZnVuY3Rpb24gdXAoZXZlbnQsdGltZSl7aWYoZXZlbnQuYnV0dG9ucyl7dGhpcy5idXR0b25zPWV2ZW50LmJ1dHRvbnM7fXRoaXMuZXZlbnQ9ZXZlbnQ7dGhpcy54PXRoaXMubWFuYWdlci50cmFuc2Zvcm1YKGV2ZW50LnBhZ2VYKTt0aGlzLnk9dGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkoZXZlbnQucGFnZVkpOy8vICAwOiBNYWluIGJ1dHRvbiBwcmVzc2VkLCB1c3VhbGx5IHRoZSBsZWZ0IGJ1dHRvbiBvciB0aGUgdW4taW5pdGlhbGl6ZWQgc3RhdGVcbmlmKGV2ZW50LmJ1dHRvbj09PTApe3RoaXMucHJpbWFyeURvd249ZmFsc2U7dGhpcy51cFg9dGhpcy54O3RoaXMudXBZPXRoaXMueTt0aGlzLnVwVGltZT10aW1lO310aGlzLmp1c3RVcD10cnVlO3RoaXMuaXNEb3duPWZhbHNlO3RoaXMuZGlydHk9dHJ1ZTt9LHRvdWNoZW5kOmZ1bmN0aW9uIHRvdWNoZW5kKGV2ZW50LHRpbWUpe3RoaXMuYnV0dG9ucz0wO3RoaXMuZXZlbnQ9ZXZlbnQ7dGhpcy54PXRoaXMubWFuYWdlci50cmFuc2Zvcm1YKGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYKTt0aGlzLnk9dGhpcy5tYW5hZ2VyLnRyYW5zZm9ybVkoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkpO3RoaXMucHJpbWFyeURvd249ZmFsc2U7dGhpcy51cFg9dGhpcy54O3RoaXMudXBZPXRoaXMueTt0aGlzLnVwVGltZT10aW1lO3RoaXMuanVzdFVwPXRydWU7dGhpcy5pc0Rvd249ZmFsc2U7dGhpcy5kaXJ0eT10cnVlO30sbm9CdXR0b25Eb3duOmZ1bmN0aW9uIG5vQnV0dG9uRG93bigpe3JldHVybiB0aGlzLmJ1dHRvbnM9PT0wO30sbGVmdEJ1dHRvbkRvd246ZnVuY3Rpb24gbGVmdEJ1dHRvbkRvd24oKXtyZXR1cm4gdGhpcy5idXR0b25zJjE7fSxyaWdodEJ1dHRvbkRvd246ZnVuY3Rpb24gcmlnaHRCdXR0b25Eb3duKCl7cmV0dXJuIHRoaXMuYnV0dG9ucyYyO30sbWlkZGxlQnV0dG9uRG93bjpmdW5jdGlvbiBtaWRkbGVCdXR0b25Eb3duKCl7cmV0dXJuIHRoaXMuYnV0dG9ucyY0O30sYmFja0J1dHRvbkRvd246ZnVuY3Rpb24gYmFja0J1dHRvbkRvd24oKXtyZXR1cm4gdGhpcy5idXR0b25zJjg7fSxmb3J3YXJkQnV0dG9uRG93bjpmdW5jdGlvbiBmb3J3YXJkQnV0dG9uRG93bigpe3JldHVybiB0aGlzLmJ1dHRvbnMmMTY7fX0pO21vZHVsZS5leHBvcnRzPVBvaW50ZXI7LyoqKi99LC8qIDQ2OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldFRyYW5zZm9ybWVkUG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3MCk7dmFyIFBvaW50V2l0aGluR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2OSk7Ly8gIFdpbGwgYWx3YXlzIHJldHVybiBhbiBhcnJheS5cbi8vICBBcnJheSBjb250YWlucyBtYXRjaGluZyBHYW1lIE9iamVjdHMuXG4vLyAgQXJyYXkgd2lsbCBiZSBlbXB0eSBpZiBubyBvYmplY3RzIHdlcmUgbWF0Y2hlZC5cbnZhciBQb2ludFNjcmVlblRvV29ybGRIaXRUZXN0PWZ1bmN0aW9uIFBvaW50U2NyZWVuVG9Xb3JsZEhpdFRlc3QodGVtcE1hdHJpeCx4LHksZ2FtZU9iamVjdEFycmF5LGNhbWVyYSxvdXRwdXQpe3ZhciBsZW5ndGg9Z2FtZU9iamVjdEFycmF5Lmxlbmd0aDt2YXIgc2Nyb2xsWD1jYW1lcmEuc2Nyb2xsWDt2YXIgc2Nyb2xsWT1jYW1lcmEuc2Nyb2xsWTt2YXIgY2FtZXJhVz1jYW1lcmEud2lkdGg7dmFyIGNhbWVyYUg9Y2FtZXJhLmhlaWdodDtvdXRwdXQubGVuZ3RoPTA7aWYoISh4Pj1jYW1lcmEueCYmeT49Y2FtZXJhLnkmJng8PWNhbWVyYS54K2NhbWVyYVcmJnk8PWNhbWVyYS55K2NhbWVyYUgpKXtyZXR1cm4gb3V0cHV0O312YXIgc2NyZWVuUG9pbnQ9Y2FtZXJhLmNhbWVyYVRvU2NyZWVuKHt4OngseTp5fSk7aWYoQXJyYXkuaXNBcnJheShnYW1lT2JqZWN0QXJyYXkpKXt2YXIgY3VsbGVkPWNhbWVyYS5jdWxsKGdhbWVPYmplY3RBcnJheSk7dmFyIGN1bGxlZExlbmd0aD1jdWxsZWQubGVuZ3RoO2Zvcih2YXIgaW5kZXg9MDtpbmRleDxjdWxsZWRMZW5ndGg7KytpbmRleCl7dmFyIG9iamVjdD1jdWxsZWRbaW5kZXhdO3ZhciB0cG9pbnQ9R2V0VHJhbnNmb3JtZWRQb2ludCh0ZW1wTWF0cml4LG9iamVjdCxzY3JlZW5Qb2ludC54K3Njcm9sbFgqb2JqZWN0LnNjcm9sbEZhY3Rvclgsc2NyZWVuUG9pbnQueStzY3JvbGxZKm9iamVjdC5zY3JvbGxGYWN0b3JZKTtpZihQb2ludFdpdGhpbkdhbWVPYmplY3Qob2JqZWN0LHRwb2ludC54LHRwb2ludC55KSl7b3V0cHV0LnB1c2gob2JqZWN0KTt9fX1lbHNle3ZhciBvYmplY3Q9Z2FtZU9iamVjdEFycmF5O3ZhciB0cG9pbnQ9R2V0VHJhbnNmb3JtZWRQb2ludCh0ZW1wTWF0cml4LG9iamVjdCxzY3JlZW5Qb2ludC54K3Njcm9sbFgqb2JqZWN0LnNjcm9sbEZhY3Rvclgsc2NyZWVuUG9pbnQueStzY3JvbGxZKm9iamVjdC5zY3JvbGxGYWN0b3JZKTtpZihQb2ludFdpdGhpbkdhbWVPYmplY3Qob2JqZWN0LHRwb2ludC54LHRwb2ludC55KSl7b3V0cHV0LnB1c2gob2JqZWN0KTt9fXJldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1Qb2ludFNjcmVlblRvV29ybGRIaXRUZXN0Oy8qKiovfSwvKiA0NzAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRUcmFuc2Zvcm1lZFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oNzApO3ZhciBQb2ludFdpdGhpbkhpdEFyZWE9X193ZWJwYWNrX3JlcXVpcmVfXyg0NzEpOy8vICBXaWxsIGFsd2F5cyByZXR1cm4gYW4gYXJyYXkuXG4vLyAgQXJyYXkgY29udGFpbnMgbWF0Y2hpbmcgSW50ZXJhY3RpdmUgT2JqZWN0cy5cbi8vICBBcnJheSB3aWxsIGJlIGVtcHR5IGlmIG5vIG9iamVjdHMgd2VyZSBtYXRjaGVkLlxudmFyIEhpdFRlc3Q9ZnVuY3Rpb24gSGl0VGVzdCh0ZW1wTWF0cml4LHgseSxnYW1lT2JqZWN0cyxjYW1lcmEsb3V0cHV0KXt2YXIgY2FtZXJhVz1jYW1lcmEud2lkdGg7dmFyIGNhbWVyYUg9Y2FtZXJhLmhlaWdodDtvdXRwdXQubGVuZ3RoPTA7aWYoISh4Pj1jYW1lcmEueCYmeT49Y2FtZXJhLnkmJng8PWNhbWVyYS54K2NhbWVyYVcmJnk8PWNhbWVyYS55K2NhbWVyYUgpKXtyZXR1cm4gb3V0cHV0O312YXIgc2NyZWVuUG9pbnQ9Y2FtZXJhLmNhbWVyYVRvU2NyZWVuKHt4OngseTp5fSk7dmFyIGN1bGxlZEdhbWVPYmplY3RzPWNhbWVyYS5jdWxsKGdhbWVPYmplY3RzKTtmb3IodmFyIGk9MDtpPGN1bGxlZEdhbWVPYmplY3RzLmxlbmd0aDtpKyspe3ZhciBnYW1lT2JqZWN0PWN1bGxlZEdhbWVPYmplY3RzW2ldO2lmKCFnYW1lT2JqZWN0LmlucHV0LmVuYWJsZWR8fCFnYW1lT2JqZWN0LndpbGxSZW5kZXIoKSl7Y29udGludWU7fXZhciBwb2ludD1HZXRUcmFuc2Zvcm1lZFBvaW50KHRlbXBNYXRyaXgsZ2FtZU9iamVjdCxzY3JlZW5Qb2ludC54K2NhbWVyYS5zY3JvbGxYKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWCxzY3JlZW5Qb2ludC55K2NhbWVyYS5zY3JvbGxZKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWSk7aWYoUG9pbnRXaXRoaW5IaXRBcmVhKGdhbWVPYmplY3QscG9pbnQueCxwb2ludC55LGNhbWVyYSkpe291dHB1dC5wdXNoKGdhbWVPYmplY3QpO319cmV0dXJuIG91dHB1dDt9O21vZHVsZS5leHBvcnRzPUhpdFRlc3Q7LyoqKi99LC8qIDQ3MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICB4L3kgTVVTVCBiZSB0cmFuc2xhdGVkIGJlZm9yZSBiZWluZyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbixcbi8vICB1bmxlc3MgdGhlIGdhbWVPYmplY3QgaXMgZ3VhcmFudGVlZCB0byBub3QgYmUgcm90YXRlZCBvciBzY2FsZWQgaW4gYW55IHdheVxudmFyIFBvaW50V2l0aGluSGl0QXJlYT1mdW5jdGlvbiBQb2ludFdpdGhpbkhpdEFyZWEoZ2FtZU9iamVjdCx4LHksY2FtZXJhKXt2YXIgaW5wdXQ9Z2FtZU9iamVjdC5pbnB1dDsvLyBpZiAoIWlucHV0KVxuLy8ge1xuLy8gICAgIHJldHVybiBmYWxzZTtcbi8vIH1cbi8vICBOb3JtYWxpemUgdGhlIG9yaWdpblxueCs9Z2FtZU9iamVjdC5kaXNwbGF5T3JpZ2luWDt5Kz1nYW1lT2JqZWN0LmRpc3BsYXlPcmlnaW5ZO2lmKGlucHV0LmhpdEFyZWFDYWxsYmFjayhpbnB1dC5oaXRBcmVhLHgseSxnYW1lT2JqZWN0KSl7aW5wdXQubG9jYWxYPXg7aW5wdXQubG9jYWxZPXk7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGZhbHNlO319O21vZHVsZS5leHBvcnRzPVBvaW50V2l0aGluSGl0QXJlYTsvKioqL30sLyogNDcyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29tcG9uZW50cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ3Myk7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdsb2JhbFNjZW5lTWFuYWdlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gR2xvYmFsU2NlbmVNYW5hZ2VyKGdhbWUsc2NlbmVDb25maWcpe3RoaXMuZ2FtZT1nYW1lOy8vICBFdmVyeXRoaW5nIGtlcHQgaW4gaGVyZVxudGhpcy5rZXlzPXt9O3RoaXMuc2NlbmVzPVtdOy8vICBPbmx5IGFjdGl2ZSBzY2VuZXMgYXJlIGtlcHQgaW4gaGVyZS4gVGhleSBhcmUgbW92ZWQgaGVyZSB3aGVuIHN0YXJ0ZWQsIGFuZCBtb3ZlZCBvdXQgd2hlbiBub3QuXG4vLyAgQWxsIHNjZW5lcyBhcmUgc3RvcmVkIGluIHRoZSBzY2VuZXMgYXJyYXksIHJlZ2FyZGxlc3Mgb2YgYmVpbmcgYWN0aXZlIG9yIG5vdC5cbnRoaXMuYWN0aXZlPVtdOy8vICBBIHNjZW5lIHBlbmRpbmcgdG8gYmUgYWRkZWQgdG8gdGhlIFNjZW5lIE1hbmFnZXIgaXMgc3RvcmVkIGluIGhlcmUgdW50aWwgdGhlIG1hbmFnZXIgaGFzIHRpbWUgdG8gYWRkIGl0LlxudGhpcy5fcGVuZGluZz1bXTsvLyAgQW4gYXJyYXkgb2Ygc2NlbmVzIHdhaXRpbmcgdG8gYmUgc3RhcnRlZCBvbmNlIHRoZSBnYW1lIGhhcyBib290ZWRcbnRoaXMuX3N0YXJ0PVtdO2lmKHNjZW5lQ29uZmlnKXtpZihBcnJheS5pc0FycmF5KHNjZW5lQ29uZmlnKSl7Zm9yKHZhciBpPTA7aTxzY2VuZUNvbmZpZy5sZW5ndGg7aSsrKXsvLyAgVGhlIGkgPT09IDAgcGFydCBqdXN0IHN0YXJ0cyB0aGUgZmlyc3QgU2NlbmUgZ2l2ZW5cbnRoaXMuX3BlbmRpbmcucHVzaCh7aW5kZXg6aSxrZXk6J2RlZmF1bHQnLHNjZW5lOnNjZW5lQ29uZmlnW2ldLGF1dG9TdGFydDppPT09MCxkYXRhOnt9fSk7fX1lbHNle3RoaXMuX3BlbmRpbmcucHVzaCh7aW5kZXg6MCxrZXk6J2RlZmF1bHQnLHNjZW5lOnNjZW5lQ29uZmlnLGF1dG9TdGFydDp0cnVlLGRhdGE6e319KTt9fX0sYWRkOkNvbXBvbmVudHMuQWRkLGJvb3Q6Q29tcG9uZW50cy5Cb290LGJvb3RTY2VuZTpDb21wb25lbnRzLkJvb3RTY2VuZSxicmluZ1RvVG9wOkNvbXBvbmVudHMuQnJpbmdUb1RvcCxjcmVhdGU6Q29tcG9uZW50cy5DcmVhdGUsY3JlYXRlU2NlbmVEaXNwbGF5OkNvbXBvbmVudHMuQ3JlYXRlU2NlbmVEaXNwbGF5LGNyZWF0ZVNjZW5lRnJvbUZ1bmN0aW9uOkNvbXBvbmVudHMuQ3JlYXRlU2NlbmVGcm9tRnVuY3Rpb24sY3JlYXRlU2NlbmVGcm9tSW5zdGFuY2U6Q29tcG9uZW50cy5DcmVhdGVTY2VuZUZyb21JbnN0YW5jZSxjcmVhdGVTY2VuZUZyb21PYmplY3Q6Q29tcG9uZW50cy5DcmVhdGVTY2VuZUZyb21PYmplY3QsZ2V0QWN0aXZlU2NlbmU6Q29tcG9uZW50cy5HZXRBY3RpdmVTY2VuZSxnZXRBY3RpdmVTY2VuZUluZGV4OkNvbXBvbmVudHMuR2V0QWN0aXZlU2NlbmVJbmRleCxnZXRBY3RpdmVTY2VuZUluZGV4QnlLZXk6Q29tcG9uZW50cy5HZXRBY3RpdmVTY2VuZUluZGV4QnlLZXksZ2V0S2V5OkNvbXBvbmVudHMuR2V0S2V5LGdldFNjZW5lOkNvbXBvbmVudHMuR2V0U2NlbmUsZ2V0U2NlbmVBdDpDb21wb25lbnRzLkdldFNjZW5lQXQsZ2V0U2NlbmVJbmRleDpDb21wb25lbnRzLkdldFNjZW5lSW5kZXgsZ2V0U2NlbmVJbmRleEJ5S2V5OkNvbXBvbmVudHMuR2V0U2NlbmVJbmRleEJ5S2V5LGlzQWN0aXZlOkNvbXBvbmVudHMuSXNBY3RpdmUsaXNTbGVlcGluZzpDb21wb25lbnRzLklzU2xlZXBpbmcsbG9hZENvbXBsZXRlOkNvbXBvbmVudHMuTG9hZENvbXBsZXRlLG1vdmVEb3duOkNvbXBvbmVudHMuTW92ZURvd24sbW92ZVVwOkNvbXBvbmVudHMuTW92ZVVwLHBhdXNlOkNvbXBvbmVudHMuUGF1c2UscGF5bG9hZENvbXBsZXRlOkNvbXBvbmVudHMuUGF5bG9hZENvbXBsZXRlLHJlc3VtZTpDb21wb25lbnRzLlJlc3VtZSxzZW5kVG9CYWNrOkNvbXBvbmVudHMuU2VuZFRvQmFjayxzZXR1cENhbGxiYWNrczpDb21wb25lbnRzLlNldHVwQ2FsbGJhY2tzLHNsZWVwOkNvbXBvbmVudHMuU2xlZXAsc3RhcnQ6Q29tcG9uZW50cy5TdGFydCxzdG9wOkNvbXBvbmVudHMuU3RvcCxzd2FwOkNvbXBvbmVudHMuU3dhcCxzd2FwUG9zaXRpb246Q29tcG9uZW50cy5Td2FwUG9zaXRpb24sd2FrZTpDb21wb25lbnRzLldha2V9KTttb2R1bGUuZXhwb3J0cz1HbG9iYWxTY2VuZU1hbmFnZXI7LyoqKi99LC8qIDQ3MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e0FkZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ3NCksQm9vdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDY5MyksQm9vdFNjZW5lOl9fd2VicGFja19yZXF1aXJlX18oNjk0KSxCcmluZ1RvVG9wOl9fd2VicGFja19yZXF1aXJlX18oNjk1KSxDcmVhdGU6X193ZWJwYWNrX3JlcXVpcmVfXyg2OTYpLENyZWF0ZVNjZW5lRGlzcGxheTpfX3dlYnBhY2tfcmVxdWlyZV9fKDY5NyksQ3JlYXRlU2NlbmVGcm9tRnVuY3Rpb246X193ZWJwYWNrX3JlcXVpcmVfXyg2OTgpLENyZWF0ZVNjZW5lRnJvbUluc3RhbmNlOl9fd2VicGFja19yZXF1aXJlX18oNjk5KSxDcmVhdGVTY2VuZUZyb21PYmplY3Q6X193ZWJwYWNrX3JlcXVpcmVfXyg3MDApLEdldEFjdGl2ZVNjZW5lOl9fd2VicGFja19yZXF1aXJlX18oNzAxKSxHZXRBY3RpdmVTY2VuZUluZGV4Ol9fd2VicGFja19yZXF1aXJlX18oNzAyKSxHZXRBY3RpdmVTY2VuZUluZGV4QnlLZXk6X193ZWJwYWNrX3JlcXVpcmVfXyg3MDMpLEdldEtleTpfX3dlYnBhY2tfcmVxdWlyZV9fKDcwNCksR2V0U2NlbmU6X193ZWJwYWNrX3JlcXVpcmVfXyg3MDUpLEdldFNjZW5lQXQ6X193ZWJwYWNrX3JlcXVpcmVfXyg3MDYpLEdldFNjZW5lSW5kZXg6X193ZWJwYWNrX3JlcXVpcmVfXyg3MDcpLEdldFNjZW5lSW5kZXhCeUtleTpfX3dlYnBhY2tfcmVxdWlyZV9fKDcwOCksSXNBY3RpdmU6X193ZWJwYWNrX3JlcXVpcmVfXyg3MDkpLElzU2xlZXBpbmc6X193ZWJwYWNrX3JlcXVpcmVfXyg3MTApLExvYWRDb21wbGV0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMSksTW92ZURvd246X193ZWJwYWNrX3JlcXVpcmVfXyg3MTIpLE1vdmVVcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDcxMyksUGF1c2U6X193ZWJwYWNrX3JlcXVpcmVfXyg3MTQpLFBheWxvYWRDb21wbGV0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDcxNSksUmVzdW1lOl9fd2VicGFja19yZXF1aXJlX18oNzE2KSxTZW5kVG9CYWNrOl9fd2VicGFja19yZXF1aXJlX18oNzE3KSxTZXR1cENhbGxiYWNrczpfX3dlYnBhY2tfcmVxdWlyZV9fKDcxOCksU2xlZXA6X193ZWJwYWNrX3JlcXVpcmVfXyg3MTkpLFNvcnRTY2VuZXM6X193ZWJwYWNrX3JlcXVpcmVfXyg1NyksU3RhcnQ6X193ZWJwYWNrX3JlcXVpcmVfXyg3MjApLFN0b3A6X193ZWJwYWNrX3JlcXVpcmVfXyg3MjEpLFN3YXA6X193ZWJwYWNrX3JlcXVpcmVfXyg3MjIpLFN3YXBQb3NpdGlvbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDcyMyksV2FrZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDcyNCl9Oy8qKiovfSwvKiA0NzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTY2VuZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTsvKipcbiogQWRkcyBhIG5ldyBTY2VuZSBpbnRvIHRoZSBHbG9iYWxTY2VuZU1hbmFnZXIuIFlvdSBtdXN0IGdpdmUgZWFjaCBTY2VuZSBhIHVuaXF1ZSBrZXkgYnkgd2hpY2ggeW91J2xsIGlkZW50aWZ5IGl0LlxuKiBUaGUgU2NlbmUgY2FuIGJlIGVpdGhlciBhIFBoYXNlci5TY2VuZSBvYmplY3QgKG9yIGFuIG9iamVjdCB0aGF0IGV4dGVuZHMgaXQpLCBhIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0IG9yIGEgZnVuY3Rpb24uXG4qIElmIGEgZnVuY3Rpb24gaXMgZ2l2ZW4gYSBuZXcgc2NlbmUgb2JqZWN0IHdpbGwgYmUgY3JlYXRlZCBieSBjYWxsaW5nIGl0LlxuKlxuKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQSB1bmlxdWUga2V5IHlvdSB1c2UgdG8gcmVmZXJlbmNlIHRoaXMgc2NlbmUsIGkuZS4gXCJNYWluTWVudVwiLCBcIkxldmVsMVwiLlxuKiBAcGFyYW0ge1BoYXNlci5TY2VuZXxvYmplY3R8ZnVuY3Rpb259IHNjZW5lICAtIFRoZSBzY2VuZSB5b3Ugd2FudCB0byBzd2l0Y2ggdG8uXG4qIEBwYXJhbSB7Ym9vbGVhbn0gW2F1dG9TdGFydD1mYWxzZV0gIC0gSWYgdHJ1ZSB0aGUgU2NlbmUgd2lsbCBiZSBzdGFydGVkIGltbWVkaWF0ZWx5IGFmdGVyIGFkZGluZyBpdC5cbiovdmFyIEFkZD1mdW5jdGlvbiBBZGQoa2V5LHNjZW5lQ29uZmlnLGF1dG9TdGFydCl7aWYoYXV0b1N0YXJ0PT09dW5kZWZpbmVkKXthdXRvU3RhcnQ9ZmFsc2U7fS8vICBpZiBub3QgYm9vdGVkLCB0aGVuIHB1dCBzY2VuZSBpbnRvIGEgaG9sZGluZyBwYXR0ZXJuXG5pZighdGhpcy5nYW1lLmlzQm9vdGVkKXt0aGlzLl9wZW5kaW5nLnB1c2goe2luZGV4OnRoaXMuX3BlbmRpbmcubGVuZ3RoLGtleTprZXksc2NlbmU6c2NlbmVDb25maWcsYXV0b1N0YXJ0OmF1dG9TdGFydH0pOy8vIGNvbnNvbGUubG9nKCdHbG9iYWxTY2VuZU1hbmFnZXIgbm90IHlldCBib290ZWQsIGFkZGluZyB0byBsaXN0JywgdGhpcy5fcGVuZGluZy5sZW5ndGgpO1xucmV0dXJuO30vLyB2YXIgb2sgPSBrZXk7XG5rZXk9dGhpcy5nZXRLZXkoa2V5LHNjZW5lQ29uZmlnKTsvLyBjb25zb2xlLmdyb3VwKCdHbG9iYWxTY2VuZU1hbmFnZXIuYWRkJyk7XG4vLyBjb25zb2xlLmxvZygnYWRkIGtleTonLCBvayk7XG4vLyBjb25zb2xlLmxvZygnY29uZmlnIGtleTonLCBrZXkpO1xuLy8gY29uc29sZS5sb2coJ2NvbmZpZzonLCBzY2VuZUNvbmZpZyk7XG4vLyBjb25zb2xlLmxvZygnYXV0b1N0YXJ0OicsIGF1dG9TdGFydCk7XG4vLyBjb25zb2xlLmdyb3VwRW5kKCk7XG52YXIgbmV3U2NlbmU7aWYoc2NlbmVDb25maWcgaW5zdGFuY2VvZiBTY2VuZSl7Ly8gY29uc29sZS5sb2coJ0dsb2JhbFNjZW5lTWFuYWdlci5hZGQgZnJvbSBpbnN0YW5jZTonLCBrZXkpO1xubmV3U2NlbmU9dGhpcy5jcmVhdGVTY2VuZUZyb21JbnN0YW5jZShrZXksc2NlbmVDb25maWcpO31lbHNlIGlmKCh0eXBlb2Ygc2NlbmVDb25maWc9PT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKHNjZW5lQ29uZmlnKSk9PT0nb2JqZWN0Jyl7Ly8gY29uc29sZS5sb2coJ0dsb2JhbFNjZW5lTWFuYWdlci5hZGQgZnJvbSBvYmplY3Q6Jywga2V5KTtcbnNjZW5lQ29uZmlnLmtleT1rZXk7bmV3U2NlbmU9dGhpcy5jcmVhdGVTY2VuZUZyb21PYmplY3Qoa2V5LHNjZW5lQ29uZmlnKTt9ZWxzZSBpZih0eXBlb2Ygc2NlbmVDb25maWc9PT0nZnVuY3Rpb24nKXsvLyBjb25zb2xlLmxvZygnR2xvYmFsU2NlbmVNYW5hZ2VyLmFkZCBmcm9tIGZ1bmN0aW9uOicsIGtleSk7XG5uZXdTY2VuZT10aGlzLmNyZWF0ZVNjZW5lRnJvbUZ1bmN0aW9uKGtleSxzY2VuZUNvbmZpZyk7fS8vICBSZXBsYWNlIGtleSBpbiBjYXNlIHRoZSBzY2VuZSBjaGFuZ2VkIGl0XG5rZXk9bmV3U2NlbmUuc3lzLnNldHRpbmdzLmtleTsvLyBjb25zb2xlLmxvZygncmVwbGFjZWQga2V5Jywga2V5KTtcbnRoaXMua2V5c1trZXldPW5ld1NjZW5lO3RoaXMuc2NlbmVzLnB1c2gobmV3U2NlbmUpO2lmKGF1dG9TdGFydHx8bmV3U2NlbmUuc3lzLnNldHRpbmdzLmFjdGl2ZSl7aWYodGhpcy5nYW1lLmlzQm9vdGVkKXt0aGlzLnN0YXJ0KGtleSk7fWVsc2V7dGhpcy5fc3RhcnQucHVzaChrZXkpO319cmV0dXJuIG5ld1NjZW5lO307bW9kdWxlLmV4cG9ydHM9QWRkOy8qKiovfSwvKiA0NzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDYW1lcmE9X193ZWJwYWNrX3JlcXVpcmVfXygxNzEpO3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBHZXRGYXN0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTt2YXIgS2V5Q29udHJvbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDUwMik7dmFyIFJlY3RhbmdsZUNvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oMjcpO3ZhciBTbW9vdGhlZEtleUNvbnRyb2w9X193ZWJwYWNrX3JlcXVpcmVfXyg1MDMpO3ZhciBDYW1lcmFNYW5hZ2VyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBDYW1lcmFNYW5hZ2VyKHNjZW5lKXsvLyAgVGhlIFNjZW5lIHRoYXQgb3ducyB0aGlzIHBsdWdpblxudGhpcy5zY2VuZT1zY2VuZTt0aGlzLmNhbWVyYXM9W107dGhpcy5jYW1lcmFQb29sPVtdO2lmKHNjZW5lLnN5cy5zZXR0aW5ncy5jYW1lcmFzKXsvLyAgV2UgaGF2ZSBjYW1lcmFzIHRvIGNyZWF0ZVxudGhpcy5mcm9tSlNPTihzY2VuZS5zeXMuc2V0dGluZ3MuY2FtZXJhcyk7fWVsc2V7Ly8gIE1ha2Ugb25lXG50aGlzLmFkZCgpO30vLyAgU2V0IHRoZSBkZWZhdWx0IGNhbWVyYVxudGhpcy5tYWluPXRoaXMuY2FtZXJhc1swXTt9LC8qXG4gICAge1xuICAgICAgICBjYW1lcmFzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgICAgICAgICAgICAgeDogaW50XG4gICAgICAgICAgICAgICAgeTogaW50XG4gICAgICAgICAgICAgICAgd2lkdGg6IGludFxuICAgICAgICAgICAgICAgIGhlaWdodDogaW50XG4gICAgICAgICAgICAgICAgem9vbTogZmxvYXRcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogZmxvYXRcbiAgICAgICAgICAgICAgICByb3VuZFBpeGVsczogYm9vbFxuICAgICAgICAgICAgICAgIHNjcm9sbFg6IGZsb2F0XG4gICAgICAgICAgICAgICAgc2Nyb2xsWTogZmxvYXRcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZ1xuICAgICAgICAgICAgICAgIGJvdW5kczoge1xuICAgICAgICAgICAgICAgICAgICB4OiBpbnRcbiAgICAgICAgICAgICAgICAgICAgeTogaW50XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbnRcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG4gICAgKi9mcm9tSlNPTjpmdW5jdGlvbiBmcm9tSlNPTihjb25maWcpe2lmKCFBcnJheS5pc0FycmF5KGNvbmZpZykpe2NvbmZpZz1bY29uZmlnXTt9dmFyIGdhbWVXaWR0aD10aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aDt2YXIgZ2FtZUhlaWdodD10aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy5oZWlnaHQ7Zm9yKHZhciBpPTA7aTxjb25maWcubGVuZ3RoO2krKyl7dmFyIGNhbWVyYUNvbmZpZz1jb25maWdbaV07dmFyIHg9R2V0RmFzdFZhbHVlKGNhbWVyYUNvbmZpZywneCcsMCk7dmFyIHk9R2V0RmFzdFZhbHVlKGNhbWVyYUNvbmZpZywneScsMCk7dmFyIHdpZHRoPUdldEZhc3RWYWx1ZShjYW1lcmFDb25maWcsJ3dpZHRoJyxnYW1lV2lkdGgpO3ZhciBoZWlnaHQ9R2V0RmFzdFZhbHVlKGNhbWVyYUNvbmZpZywnaGVpZ2h0JyxnYW1lSGVpZ2h0KTt2YXIgY2FtZXJhPXRoaXMuYWRkKHgseSx3aWR0aCxoZWlnaHQpOy8vICBEaXJlY3QgcHJvcGVydGllc1xuY2FtZXJhLm5hbWU9R2V0RmFzdFZhbHVlKGNhbWVyYUNvbmZpZywnbmFtZScsJycpO2NhbWVyYS56b29tPUdldEZhc3RWYWx1ZShjYW1lcmFDb25maWcsJ3pvb20nLDEpO2NhbWVyYS5yb3RhdGlvbj1HZXRGYXN0VmFsdWUoY2FtZXJhQ29uZmlnLCdyb3RhdGlvbicsMCk7Y2FtZXJhLnNjcm9sbFg9R2V0RmFzdFZhbHVlKGNhbWVyYUNvbmZpZywnc2Nyb2xsWCcsMCk7Y2FtZXJhLnNjcm9sbFk9R2V0RmFzdFZhbHVlKGNhbWVyYUNvbmZpZywnc2Nyb2xsWScsMCk7Y2FtZXJhLnJvdW5kUGl4ZWxzPUdldEZhc3RWYWx1ZShjYW1lcmFDb25maWcsJ3JvdW5kUGl4ZWxzJyxmYWxzZSk7Ly8gQmFja2dyb3VuZCBDb2xvclxudmFyIGJhY2tncm91bmRDb2xvcj1HZXRGYXN0VmFsdWUoY2FtZXJhQ29uZmlnLCdiYWNrZ3JvdW5kQ29sb3InLGZhbHNlKTtpZihiYWNrZ3JvdW5kQ29sb3Ipe2NhbWVyYS5zZXRCYWNrZ3JvdW5kQ29sb3IoYmFja2dyb3VuZENvbG9yKTt9Ly8gIEJvdW5kc1xudmFyIGJvdW5kc0NvbmZpZz1HZXRGYXN0VmFsdWUoY2FtZXJhQ29uZmlnLCdib3VuZHMnLG51bGwpO2lmKGJvdW5kc0NvbmZpZyl7dmFyIGJ4PUdldEZhc3RWYWx1ZShib3VuZHNDb25maWcsJ3gnLDApO3ZhciBieT1HZXRGYXN0VmFsdWUoYm91bmRzQ29uZmlnLCd5JywwKTt2YXIgYndpZHRoPUdldEZhc3RWYWx1ZShib3VuZHNDb25maWcsJ3dpZHRoJyxnYW1lV2lkdGgpO3ZhciBiaGVpZ2h0PUdldEZhc3RWYWx1ZShib3VuZHNDb25maWcsJ2hlaWdodCcsZ2FtZUhlaWdodCk7Y2FtZXJhLnNldEJvdW5kcyhieCxieSxid2lkdGgsYmhlaWdodCk7fX1yZXR1cm4gdGhpczt9LGFkZDpmdW5jdGlvbiBhZGQoeCx5LHdpZHRoLGhlaWdodCxtYWtlTWFpbil7aWYoeD09PXVuZGVmaW5lZCl7eD0wO31pZih5PT09dW5kZWZpbmVkKXt5PTA7fWlmKHdpZHRoPT09dW5kZWZpbmVkKXt3aWR0aD10aGlzLnNjZW5lLnN5cy5nYW1lLmNvbmZpZy53aWR0aDt9aWYoaGVpZ2h0PT09dW5kZWZpbmVkKXtoZWlnaHQ9dGhpcy5zY2VuZS5zeXMuZ2FtZS5jb25maWcuaGVpZ2h0O31pZihtYWtlTWFpbj09PXVuZGVmaW5lZCl7bWFrZU1haW49ZmFsc2U7fXZhciBjYW1lcmE9bnVsbDtpZih0aGlzLmNhbWVyYVBvb2wubGVuZ3RoPjApe2NhbWVyYT10aGlzLmNhbWVyYVBvb2wucG9wKCk7Y2FtZXJhLnNldFZpZXdwb3J0KHgseSx3aWR0aCxoZWlnaHQpO31lbHNle2NhbWVyYT1uZXcgQ2FtZXJhKHgseSx3aWR0aCxoZWlnaHQpO31jYW1lcmEuc2V0U2NlbmUodGhpcy5zY2VuZSk7dGhpcy5jYW1lcmFzLnB1c2goY2FtZXJhKTtpZihtYWtlTWFpbil7dGhpcy5tYWluPWNhbWVyYTt9cmV0dXJuIGNhbWVyYTt9LGFkZEtleUNvbnRyb2w6ZnVuY3Rpb24gYWRkS2V5Q29udHJvbChjb25maWcpe3JldHVybiBuZXcgS2V5Q29udHJvbChjb25maWcpO30sYWRkU21vb3RoZWRLZXlDb250cm9sOmZ1bmN0aW9uIGFkZFNtb290aGVkS2V5Q29udHJvbChjb25maWcpe3JldHVybiBuZXcgU21vb3RoZWRLZXlDb250cm9sKGNvbmZpZyk7fSxhZGRSZWZlcmVuY2U6ZnVuY3Rpb24gYWRkUmVmZXJlbmNlKGNhbWVyYSl7dmFyIGluZGV4PXRoaXMuY2FtZXJhcy5pbmRleE9mKGNhbWVyYSk7dmFyIHBvb2xJbmRleD10aGlzLmNhbWVyYVBvb2wuaW5kZXhPZihjYW1lcmEpO2lmKGluZGV4PDAmJnBvb2xJbmRleD49MCl7dGhpcy5jYW1lcmFzLnB1c2goY2FtZXJhKTt0aGlzLmNhbWVyYVBvb2wuc2xpY2UocG9vbEluZGV4LDEpO3JldHVybiBjYW1lcmE7fXJldHVybiBudWxsO30scmVtb3ZlOmZ1bmN0aW9uIHJlbW92ZShjYW1lcmEpe3ZhciBjYW1lcmFJbmRleD10aGlzLmNhbWVyYXMuaW5kZXhPZihjYW1lcmEpO2lmKGNhbWVyYUluZGV4Pj0wJiZ0aGlzLmNhbWVyYXMubGVuZ3RoPjEpe3RoaXMuY2FtZXJhUG9vbC5wdXNoKHRoaXMuY2FtZXJhc1tjYW1lcmFJbmRleF0pO3RoaXMuY2FtZXJhcy5zcGxpY2UoY2FtZXJhSW5kZXgsMSk7aWYodGhpcy5tYWluPT09Y2FtZXJhKXt0aGlzLm1haW49dGhpcy5jYW1lcmFzWzBdO319fSxyZXNldEFsbDpmdW5jdGlvbiByZXNldEFsbCgpe3doaWxlKHRoaXMuY2FtZXJhcy5sZW5ndGg+MCl7dGhpcy5jYW1lcmFQb29sLnB1c2godGhpcy5jYW1lcmFzLnBvcCgpKTt9dGhpcy5tYWluPXRoaXMuYWRkKCk7cmV0dXJuIHRoaXMubWFpbjt9LHVwZGF0ZTpmdW5jdGlvbiB1cGRhdGUodGltZXN0ZXAsZGVsdGEpe2Zvcih2YXIgaT0wLGw9dGhpcy5jYW1lcmFzLmxlbmd0aDtpPGw7KytpKXt0aGlzLmNhbWVyYXNbaV0udXBkYXRlKHRpbWVzdGVwLGRlbHRhKTt9fSxnZXRDYW1lcmFCZWxvd1BvaW50ZXI6ZnVuY3Rpb24gZ2V0Q2FtZXJhQmVsb3dQb2ludGVyKHBvaW50ZXIpe3ZhciBjYW1lcmFzPXRoaXMuY2FtZXJhczsvLyAgU3RhcnQgZnJvbSB0aGUgbW9zdCByZWNlbnRseSBhZGRlZCBjYW1lcmEgKHRoZSAndG9wJyBjYW1lcmEpXG5mb3IodmFyIGk9Y2FtZXJhcy5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGNhbWVyYT1jYW1lcmFzW2ldO2lmKGNhbWVyYS5pbnB1dEVuYWJsZWQmJlJlY3RhbmdsZUNvbnRhaW5zKGNhbWVyYSxwb2ludGVyLngscG9pbnRlci55KSl7cmV0dXJuIGNhbWVyYTt9fX0scmVuZGVyOmZ1bmN0aW9uIHJlbmRlcihyZW5kZXJlcixjaGlsZHJlbixpbnRlcnBvbGF0aW9uKXt2YXIgY2FtZXJhcz10aGlzLmNhbWVyYXM7Zm9yKHZhciBpPTAsbD1jYW1lcmFzLmxlbmd0aDtpPGw7KytpKXt2YXIgY2FtZXJhPWNhbWVyYXNbaV07Y2FtZXJhLnByZVJlbmRlcigpO3JlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLGNoaWxkcmVuLGludGVycG9sYXRpb24sY2FtZXJhKTt9fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLm1haW49dW5kZWZpbmVkO2Zvcih2YXIgaT0wO2k8dGhpcy5jYW1lcmFzLmxlbmd0aDtpKyspe3RoaXMuY2FtZXJhc1tpXS5kZXN0cm95KCk7fWZvcihpPTA7aTx0aGlzLmNhbWVyYVBvb2wubGVuZ3RoO2krKyl7dGhpcy5jYW1lcmFQb29sW2ldLmRlc3Ryb3koKTt9dGhpcy5jYW1lcmFzPVtdO3RoaXMuY2FtZXJhUG9vbD1bXTt0aGlzLnNjZW5lPXVuZGVmaW5lZDt9fSk7bW9kdWxlLmV4cG9ydHM9Q2FtZXJhTWFuYWdlcjsvKioqL30sLyogNDc2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENhbWVyYVRvU2NyZWVuPWZ1bmN0aW9uIENhbWVyYVRvU2NyZWVuKHBvaW50SW4scG9pbnRPdXQpe3ZhciBjYW1lcmFNYXRyaXg9dGhpcy5tYXRyaXgubWF0cml4O3ZhciBtdmE9Y2FtZXJhTWF0cml4WzBdO3ZhciBtdmI9Y2FtZXJhTWF0cml4WzFdO3ZhciBtdmM9Y2FtZXJhTWF0cml4WzJdO3ZhciBtdmQ9Y2FtZXJhTWF0cml4WzNdO3ZhciBtdmU9Y2FtZXJhTWF0cml4WzRdO3ZhciBtdmY9Y2FtZXJhTWF0cml4WzVdOy8qIEZpcnN0IEludmVydCBNYXRyaXggKi92YXIgZGV0ZXJtaW5hbnQ9bXZhKm12ZC1tdmIqbXZjO2lmKCFkZXRlcm1pbmFudCl7cmV0dXJuIHBvaW50SW47fWRldGVybWluYW50PTEvZGV0ZXJtaW5hbnQ7dmFyIGltYT1tdmQqZGV0ZXJtaW5hbnQ7dmFyIGltYj0tbXZiKmRldGVybWluYW50O3ZhciBpbWM9LW12YypkZXRlcm1pbmFudDt2YXIgaW1kPW12YSpkZXRlcm1pbmFudDt2YXIgaW1lPShtdmMqbXZmLW12ZCptdmUpKmRldGVybWluYW50O3ZhciBpbWY9KG12YiptdmUtbXZhKm12ZikqZGV0ZXJtaW5hbnQ7dmFyIHg9cG9pbnRJbi54O3ZhciB5PXBvaW50SW4ueTtpZighcG9pbnRPdXQpe3BvaW50T3V0PXt4OjAseTowfTt9LyogQXBwbHkgdHJhbnNmb3JtIHRvIHBvaW50ICovcG9pbnRPdXQueD14KmltYSt5KmltYytpbWU7cG9pbnRPdXQueT14KmltYit5KmltZCtpbWY7cmV0dXJuIHBvaW50T3V0O307bW9kdWxlLmV4cG9ydHM9Q2FtZXJhVG9TY3JlZW47LyoqKi99LC8qIDQ3NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDZW50ZXJUb0JvdW5kcz1mdW5jdGlvbiBDZW50ZXJUb0JvdW5kcygpe3RoaXMuc2Nyb2xsWD10aGlzLl9ib3VuZHMud2lkdGgqMC41LXRoaXMud2lkdGgqMC41O3RoaXMuc2Nyb2xsWT10aGlzLl9ib3VuZHMuaGVpZ2h0KjAuNS10aGlzLmhlaWdodCowLjU7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1DZW50ZXJUb0JvdW5kczsvKioqL30sLyogNDc4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENlbnRlclRvU2l6ZT1mdW5jdGlvbiBDZW50ZXJUb1NpemUoKXt0aGlzLnNjcm9sbFg9dGhpcy53aWR0aCowLjU7dGhpcy5zY3JvbGxZPXRoaXMuaGVpZ2h0KjAuNTtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPUNlbnRlclRvU2l6ZTsvKioqL30sLyogNDc5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEN1bGw9ZnVuY3Rpb24gQ3VsbChyZW5kZXJhYmxlT2JqZWN0cyl7aWYodGhpcy5kaXNhYmxlQ3VsbCl7cmV0dXJuIHJlbmRlcmFibGVPYmplY3RzO312YXIgY2FtZXJhTWF0cml4PXRoaXMubWF0cml4Lm1hdHJpeDt2YXIgbXZhPWNhbWVyYU1hdHJpeFswXTt2YXIgbXZiPWNhbWVyYU1hdHJpeFsxXTt2YXIgbXZjPWNhbWVyYU1hdHJpeFsyXTt2YXIgbXZkPWNhbWVyYU1hdHJpeFszXTsvKiBGaXJzdCBJbnZlcnQgTWF0cml4ICovdmFyIGRldGVybWluYW50PW12YSptdmQtbXZiKm12YztpZighZGV0ZXJtaW5hbnQpe3JldHVybiByZW5kZXJhYmxlT2JqZWN0czt9dmFyIG12ZT1jYW1lcmFNYXRyaXhbNF07dmFyIG12Zj1jYW1lcmFNYXRyaXhbNV07dmFyIHNjcm9sbFg9dGhpcy5zY3JvbGxYO3ZhciBzY3JvbGxZPXRoaXMuc2Nyb2xsWTt2YXIgY2FtZXJhVz10aGlzLndpZHRoO3ZhciBjYW1lcmFIPXRoaXMuaGVpZ2h0O3ZhciBjdWxsZWRPYmplY3RzPXRoaXMuY3VsbGVkT2JqZWN0czt2YXIgbGVuZ3RoPXJlbmRlcmFibGVPYmplY3RzLmxlbmd0aDtkZXRlcm1pbmFudD0xL2RldGVybWluYW50O2N1bGxlZE9iamVjdHMubGVuZ3RoPTA7Zm9yKHZhciBpbmRleD0wO2luZGV4PGxlbmd0aDsrK2luZGV4KXt2YXIgb2JqZWN0PXJlbmRlcmFibGVPYmplY3RzW2luZGV4XTtpZighb2JqZWN0Lmhhc093blByb3BlcnR5KCd3aWR0aCcpKXtjdWxsZWRPYmplY3RzLnB1c2gob2JqZWN0KTtjb250aW51ZTt9dmFyIG9iamVjdFc9b2JqZWN0LndpZHRoO3ZhciBvYmplY3RIPW9iamVjdC5oZWlnaHQ7dmFyIG9iamVjdFg9b2JqZWN0Lngtc2Nyb2xsWCpvYmplY3Quc2Nyb2xsRmFjdG9yWC1vYmplY3RXKm9iamVjdC5vcmlnaW5YO3ZhciBvYmplY3RZPW9iamVjdC55LXNjcm9sbFkqb2JqZWN0LnNjcm9sbEZhY3Rvclktb2JqZWN0SCpvYmplY3Qub3JpZ2luWTt2YXIgdHg9b2JqZWN0WCptdmErb2JqZWN0WSptdmMrbXZlO3ZhciB0eT1vYmplY3RYKm12YitvYmplY3RZKm12ZCttdmY7dmFyIHR3PShvYmplY3RYK29iamVjdFcpKm12YSsob2JqZWN0WStvYmplY3RIKSptdmMrbXZlO3ZhciB0aD0ob2JqZWN0WCtvYmplY3RXKSptdmIrKG9iamVjdFkrb2JqZWN0SCkqbXZkK212Zjt2YXIgY3VsbFc9Y2FtZXJhVytvYmplY3RXO3ZhciBjdWxsSD1jYW1lcmFIK29iamVjdEg7aWYodHg+LW9iamVjdFd8fHR5Pi1vYmplY3RIfHx0eDxjdWxsV3x8dHk8Y3VsbEh8fHR3Pi1vYmplY3RXfHx0aD4tb2JqZWN0SHx8dHc8Y3VsbFd8fHRoPGN1bGxIKXtjdWxsZWRPYmplY3RzLnB1c2gob2JqZWN0KTt9fXJldHVybiBjdWxsZWRPYmplY3RzO307bW9kdWxlLmV4cG9ydHM9Q3VsbDsvKioqL30sLyogNDgwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEN1bGxIaXRUZXN0PWZ1bmN0aW9uIEN1bGxIaXRUZXN0KGludGVyYWN0aXZlT2JqZWN0cyl7aWYodGhpcy5kaXNhYmxlQ3VsbCl7cmV0dXJuIGludGVyYWN0aXZlT2JqZWN0czt9dmFyIGNhbWVyYU1hdHJpeD10aGlzLm1hdHJpeC5tYXRyaXg7dmFyIG12YT1jYW1lcmFNYXRyaXhbMF07dmFyIG12Yj1jYW1lcmFNYXRyaXhbMV07dmFyIG12Yz1jYW1lcmFNYXRyaXhbMl07dmFyIG12ZD1jYW1lcmFNYXRyaXhbM107LyogRmlyc3QgSW52ZXJ0IE1hdHJpeCAqL3ZhciBkZXRlcm1pbmFudD1tdmEqbXZkLW12YiptdmM7aWYoIWRldGVybWluYW50KXtyZXR1cm4gaW50ZXJhY3RpdmVPYmplY3RzO312YXIgbXZlPWNhbWVyYU1hdHJpeFs0XTt2YXIgbXZmPWNhbWVyYU1hdHJpeFs1XTt2YXIgc2Nyb2xsWD10aGlzLnNjcm9sbFg7dmFyIHNjcm9sbFk9dGhpcy5zY3JvbGxZO3ZhciBjYW1lcmFXPXRoaXMud2lkdGg7dmFyIGNhbWVyYUg9dGhpcy5oZWlnaHQ7dmFyIGxlbmd0aD1pbnRlcmFjdGl2ZU9iamVjdHMubGVuZ3RoO2RldGVybWluYW50PTEvZGV0ZXJtaW5hbnQ7dmFyIGN1bGxlZE9iamVjdHM9W107Zm9yKHZhciBpbmRleD0wO2luZGV4PGxlbmd0aDsrK2luZGV4KXt2YXIgb2JqZWN0PWludGVyYWN0aXZlT2JqZWN0c1tpbmRleF0uZ2FtZU9iamVjdDtpZighb2JqZWN0Lmhhc093blByb3BlcnR5KCd3aWR0aCcpKXtjdWxsZWRPYmplY3RzLnB1c2goaW50ZXJhY3RpdmVPYmplY3RzW2luZGV4XSk7Y29udGludWU7fXZhciBvYmplY3RXPW9iamVjdC53aWR0aDt2YXIgb2JqZWN0SD1vYmplY3QuaGVpZ2h0O3ZhciBvYmplY3RYPW9iamVjdC54LXNjcm9sbFgqb2JqZWN0LnNjcm9sbEZhY3Rvclgtb2JqZWN0VypvYmplY3Qub3JpZ2luWDt2YXIgb2JqZWN0WT1vYmplY3QueS1zY3JvbGxZKm9iamVjdC5zY3JvbGxGYWN0b3JZLW9iamVjdEgqb2JqZWN0Lm9yaWdpblk7dmFyIHR4PW9iamVjdFgqbXZhK29iamVjdFkqbXZjK212ZTt2YXIgdHk9b2JqZWN0WCptdmIrb2JqZWN0WSptdmQrbXZmO3ZhciB0dz0ob2JqZWN0WCtvYmplY3RXKSptdmErKG9iamVjdFkrb2JqZWN0SCkqbXZjK212ZTt2YXIgdGg9KG9iamVjdFgrb2JqZWN0VykqbXZiKyhvYmplY3RZK29iamVjdEgpKm12ZCttdmY7dmFyIGN1bGxXPWNhbWVyYVcrb2JqZWN0Vzt2YXIgY3VsbEg9Y2FtZXJhSCtvYmplY3RIO2lmKHR4Pi1vYmplY3RXfHx0eT4tb2JqZWN0SHx8dHg8Y3VsbFd8fHR5PGN1bGxIfHx0dz4tb2JqZWN0V3x8dGg+LW9iamVjdEh8fHR3PGN1bGxXfHx0aDxjdWxsSCl7Y3VsbGVkT2JqZWN0cy5wdXNoKGludGVyYWN0aXZlT2JqZWN0c1tpbmRleF0pO319cmV0dXJuIGN1bGxlZE9iamVjdHM7fTttb2R1bGUuZXhwb3J0cz1DdWxsSGl0VGVzdDsvKioqL30sLyogNDgxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIERlc3Ryb3k9ZnVuY3Rpb24gRGVzdHJveSgpe3RoaXMuX2JvdW5kcz11bmRlZmluZWQ7dGhpcy5tYXRyaXg9dW5kZWZpbmVkO3RoaXMuY3VsbGVkT2JqZWN0cz1bXTt0aGlzLnNjZW5lPXVuZGVmaW5lZDt9O21vZHVsZS5leHBvcnRzPURlc3Ryb3k7LyoqKi99LC8qIDQ4MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGYWRlPWZ1bmN0aW9uIEZhZGUoZHVyYXRpb24scmVkLGdyZWVuLGJsdWUsZm9yY2Upe2lmKHJlZD09PXVuZGVmaW5lZCl7cmVkPTAuMDt9aWYoZ3JlZW49PT11bmRlZmluZWQpe2dyZWVuPTAuMDt9aWYoYmx1ZT09PXVuZGVmaW5lZCl7Ymx1ZT0wLjA7fWlmKCFmb3JjZSYmdGhpcy5fZmFkZUFscGhhPjAuMCl7cmV0dXJuO310aGlzLl9mYWRlUmVkPXJlZDt0aGlzLl9mYWRlR3JlZW49Z3JlZW47dGhpcy5fZmFkZUJsdWU9Ymx1ZTtpZihkdXJhdGlvbjw9MCl7ZHVyYXRpb249TnVtYmVyLk1JTl9WQUxVRTt9dGhpcy5fZmFkZUR1cmF0aW9uPWR1cmF0aW9uO3RoaXMuX2ZhZGVBbHBoYT1OdW1iZXIuTUlOX1ZBTFVFO307bW9kdWxlLmV4cG9ydHM9RmFkZTsvKioqL30sLyogNDgzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEZsYXNoPWZ1bmN0aW9uIEZsYXNoKGR1cmF0aW9uLHJlZCxncmVlbixibHVlLGZvcmNlKXtpZighZm9yY2UmJnRoaXMuX2ZsYXNoQWxwaGE+MC4wKXtyZXR1cm47fWlmKHJlZD09PXVuZGVmaW5lZCl7cmVkPTEuMDt9aWYoZ3JlZW49PT11bmRlZmluZWQpe2dyZWVuPTEuMDt9aWYoYmx1ZT09PXVuZGVmaW5lZCl7Ymx1ZT0xLjA7fXRoaXMuX2ZsYXNoUmVkPXJlZDt0aGlzLl9mbGFzaEdyZWVuPWdyZWVuO3RoaXMuX2ZsYXNoQmx1ZT1ibHVlO2lmKGR1cmF0aW9uPD0wKXtkdXJhdGlvbj1OdW1iZXIuTUlOX1ZBTFVFO310aGlzLl9mbGFzaER1cmF0aW9uPWR1cmF0aW9uO3RoaXMuX2ZsYXNoQWxwaGE9MS4wO307bW9kdWxlLmV4cG9ydHM9Rmxhc2g7LyoqKi99LC8qIDQ4NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQcmVSZW5kZXI9ZnVuY3Rpb24gUHJlUmVuZGVyKCl7dmFyIHdpZHRoPXRoaXMud2lkdGg7dmFyIGhlaWdodD10aGlzLmhlaWdodDt2YXIgem9vbT10aGlzLnpvb207dmFyIG1hdHJpeD10aGlzLm1hdHJpeDt2YXIgb3JpZ2luWD13aWR0aC8yO3ZhciBvcmlnaW5ZPWhlaWdodC8yO3ZhciBmb2xsb3c9dGhpcy5fZm9sbG93O2lmKGZvbGxvdyE9PW51bGwpe29yaWdpblg9Zm9sbG93Lng7b3JpZ2luWT1mb2xsb3cueTt0aGlzLnNjcm9sbFg9b3JpZ2luWC13aWR0aCowLjU7dGhpcy5zY3JvbGxZPW9yaWdpblktaGVpZ2h0KjAuNTt9aWYodGhpcy51c2VCb3VuZHMpe3ZhciBib3VuZHM9dGhpcy5fYm91bmRzO3ZhciBib3VuZHNYPWJvdW5kcy54O3ZhciBib3VuZHNZPWJvdW5kcy55O3ZhciBib3VuZHNSPU1hdGgubWF4KGJvdW5kcy5yaWdodC13aWR0aCx3aWR0aCk7dmFyIGJvdW5kc0I9TWF0aC5tYXgoYm91bmRzLmJvdHRvbS1oZWlnaHQsaGVpZ2h0KTtpZih0aGlzLnNjcm9sbFg8Ym91bmRzWCl7dGhpcy5zY3JvbGxYPWJvdW5kc1g7fWlmKHRoaXMuc2Nyb2xsWD5ib3VuZHNSKXt0aGlzLnNjcm9sbFg9Ym91bmRzUjt9aWYodGhpcy5zY3JvbGxZPGJvdW5kc1kpe3RoaXMuc2Nyb2xsWT1ib3VuZHNZO31pZih0aGlzLnNjcm9sbFk+Ym91bmRzQil7dGhpcy5zY3JvbGxZPWJvdW5kc0I7fX1pZih0aGlzLnJvdW5kUGl4ZWxzKXt0aGlzLnNjcm9sbFg9TWF0aC5yb3VuZCh0aGlzLnNjcm9sbFgpO3RoaXMuc2Nyb2xsWT1NYXRoLnJvdW5kKHRoaXMuc2Nyb2xsWSk7fW1hdHJpeC5sb2FkSWRlbnRpdHkoKTttYXRyaXgudHJhbnNsYXRlKHRoaXMueCtvcmlnaW5YLHRoaXMueStvcmlnaW5ZKTttYXRyaXgucm90YXRlKHRoaXMucm90YXRpb24pO21hdHJpeC5zY2FsZSh6b29tLHpvb20pO21hdHJpeC50cmFuc2xhdGUoLW9yaWdpblgsLW9yaWdpblkpO21hdHJpeC50cmFuc2xhdGUodGhpcy5fc2hha2VPZmZzZXRYLHRoaXMuX3NoYWtlT2Zmc2V0WSk7fTttb2R1bGUuZXhwb3J0cz1QcmVSZW5kZXI7LyoqKi99LC8qIDQ4NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBSZW1vdmVCb3VuZHM9ZnVuY3Rpb24gUmVtb3ZlQm91bmRzKCl7dGhpcy51c2VCb3VuZHM9ZmFsc2U7dGhpcy5fYm91bmRzLnNldEVtcHR5KCk7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1SZW1vdmVCb3VuZHM7LyoqKi99LC8qIDQ4NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFZhbHVlVG9Db2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyKTt2YXIgU2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uIFNldEJhY2tncm91bmRDb2xvcihjb2xvcil7aWYoY29sb3I9PT11bmRlZmluZWQpe2NvbG9yPSdyZ2JhKDAsMCwwLDApJzt9dGhpcy5iYWNrZ3JvdW5kQ29sb3I9VmFsdWVUb0NvbG9yKGNvbG9yKTt0aGlzLnRyYW5zcGFyZW50PXRoaXMuYmFja2dyb3VuZENvbG9yLmFscGhhPT09MDtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldEJhY2tncm91bmRDb2xvcjsvKioqL30sLyogNDg3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldEJvdW5kcz1mdW5jdGlvbiBTZXRCb3VuZHMoeCx5LHdpZHRoLGhlaWdodCl7dGhpcy5fYm91bmRzLnNldFRvKHgseSx3aWR0aCxoZWlnaHQpO3RoaXMudXNlQm91bmRzPXRydWU7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1TZXRCb3VuZHM7LyoqKi99LC8qIDQ4OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXROYW1lPWZ1bmN0aW9uIFNldE5hbWUodmFsdWUpe2lmKHZhbHVlPT09dW5kZWZpbmVkKXt2YWx1ZT0nJzt9dGhpcy5uYW1lPXZhbHVlO3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0TmFtZTsvKioqL30sLyogNDg5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFBvc2l0aW9uPWZ1bmN0aW9uIFNldFBvc2l0aW9uKHgseSl7aWYoeT09PXVuZGVmaW5lZCl7eT14O310aGlzLng9eDt0aGlzLnk9eTtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldFBvc2l0aW9uOy8qKiovfSwvKiA0OTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0Um90YXRpb249ZnVuY3Rpb24gU2V0Um90YXRpb24odmFsdWUpe2lmKHZhbHVlPT09dW5kZWZpbmVkKXt2YWx1ZT0wO310aGlzLnJvdGF0aW9uPXZhbHVlO3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0Um90YXRpb247LyoqKi99LC8qIDQ5MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRSb3VuZFBpeGVscz1mdW5jdGlvbiBTZXRSb3VuZFBpeGVscyh2YWx1ZSl7dGhpcy5yb3VuZFBpeGVscz12YWx1ZTtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldFJvdW5kUGl4ZWxzOy8qKiovfSwvKiA0OTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0U2NlbmU9ZnVuY3Rpb24gU2V0U2NlbmUoc2NlbmUpe3RoaXMuc2NlbmU9c2NlbmU7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1TZXRTY2VuZTsvKioqL30sLyogNDkzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFNjcm9sbD1mdW5jdGlvbiBTZXRTY3JvbGwoeCx5KXtpZih5PT09dW5kZWZpbmVkKXt5PXg7fXRoaXMuc2Nyb2xsWD14O3RoaXMuc2Nyb2xsWT15O3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0U2Nyb2xsOy8qKiovfSwvKiA0OTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0U2l6ZT1mdW5jdGlvbiBTZXRTaXplKHdpZHRoLGhlaWdodCl7aWYoaGVpZ2h0PT09dW5kZWZpbmVkKXtoZWlnaHQ9d2lkdGg7fXRoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0U2l6ZTsvKioqL30sLyogNDk1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFZpZXdwb3J0PWZ1bmN0aW9uIFNldFZpZXdwb3J0KHgseSx3aWR0aCxoZWlnaHQpe3RoaXMueD14O3RoaXMueT15O3RoaXMud2lkdGg9d2lkdGg7dGhpcy5oZWlnaHQ9aGVpZ2h0O3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0Vmlld3BvcnQ7LyoqKi99LC8qIDQ5NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRab29tPWZ1bmN0aW9uIFNldFpvb20odmFsdWUpe2lmKHZhbHVlPT09dW5kZWZpbmVkKXt2YWx1ZT0xO310aGlzLnpvb209dmFsdWU7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1TZXRab29tOy8qKiovfSwvKiA0OTcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2hha2U9ZnVuY3Rpb24gU2hha2UoZHVyYXRpb24saW50ZW5zaXR5LGZvcmNlKXtpZihpbnRlbnNpdHk9PT11bmRlZmluZWQpe2ludGVuc2l0eT0wLjA1O31pZighZm9yY2UmJih0aGlzLl9zaGFrZU9mZnNldFghPT0wLjB8fHRoaXMuX3NoYWtlT2Zmc2V0WSE9PTAuMCkpe3JldHVybjt9dGhpcy5fc2hha2VEdXJhdGlvbj1kdXJhdGlvbjt0aGlzLl9zaGFrZUludGVuc2l0eT1pbnRlbnNpdHk7dGhpcy5fc2hha2VPZmZzZXRYPTA7dGhpcy5fc2hha2VPZmZzZXRZPTA7fTttb2R1bGUuZXhwb3J0cz1TaGFrZTsvKioqL30sLyogNDk4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN0YXJ0Rm9sbG93PWZ1bmN0aW9uIFN0YXJ0Rm9sbG93KGdhbWVPYmplY3RPclBvaW50LHJvdW5kUHgpe2lmKHRoaXMuX2ZvbGxvdyE9PW51bGwpe3RoaXMuc3RvcEZvbGxvdygpO310aGlzLl9mb2xsb3c9Z2FtZU9iamVjdE9yUG9pbnQ7aWYocm91bmRQeCE9PXVuZGVmaW5lZCl7dGhpcy5yb3VuZFBpeGVscz1yb3VuZFB4O31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVN0YXJ0Rm9sbG93Oy8qKiovfSwvKiA0OTkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU3RvcEZvbGxvdz1mdW5jdGlvbiBTdG9wRm9sbG93KCl7LyogZG8gdW5mb2xsb3cgd29yayBoZXJlICovdGhpcy5fZm9sbG93PW51bGw7fTttb2R1bGUuZXhwb3J0cz1TdG9wRm9sbG93Oy8qKiovfSwvKiA1MDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKlxuICAgIGNhbWVyYToge1xuICAgICAgICB4OiBpbnRcbiAgICAgICAgeTogaW50XG4gICAgICAgIHdpZHRoOiBpbnRcbiAgICAgICAgaGVpZ2h0OiBpbnRcbiAgICAgICAgem9vbTogZmxvYXRcbiAgICAgICAgcm90YXRpb246IGZsb2F0XG4gICAgICAgIHJvdW5kUGl4ZWxzOiBib29sXG4gICAgICAgIHNjcm9sbFg6IGZsb2F0XG4gICAgICAgIHNjcm9sbFk6IGZsb2F0XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogc3RyaW5nXG4gICAgICAgIGJvdW5kczoge1xuICAgICAgICAgICAgeDogaW50XG4gICAgICAgICAgICB5OiBpbnRcbiAgICAgICAgICAgIHdpZHRoOiBpbnRcbiAgICAgICAgICAgIGhlaWdodDogaW50XG4gICAgICAgIH1cbiAgICB9XG4qL3ZhciBUb0pTT049ZnVuY3Rpb24gVG9KU09OKCl7dmFyIG91dHB1dD17bmFtZTp0aGlzLm5hbWUseDp0aGlzLngseTp0aGlzLnksd2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsem9vbTp0aGlzLnpvb20scm90YXRpb246dGhpcy5yb3RhdGlvbixyb3VuZFBpeGVsczp0aGlzLnJvdW5kUGl4ZWxzLHNjcm9sbFg6dGhpcy5zY3JvbGxYLHNjcm9sbFk6dGhpcy5zY3JvbGxZLGJhY2tncm91bmRDb2xvcjp0aGlzLmJhY2tncm91bmRDb2xvci5yZ2JhfTtpZih0aGlzLnVzZUJvdW5kcyl7b3V0cHV0Wydib3VuZHMnXT17eDp0aGlzLl9ib3VuZHMueCx5OnRoaXMuX2JvdW5kcy55LHdpZHRoOnRoaXMuX2JvdW5kcy53aWR0aCxoZWlnaHQ6dGhpcy5fYm91bmRzLmhlaWdodH07fXJldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1Ub0pTT047LyoqKi99LC8qIDUwMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBVcGRhdGU9ZnVuY3Rpb24gVXBkYXRlKHRpbWVzdGVwLGRlbHRhKXtpZih0aGlzLl9mbGFzaEFscGhhPjAuMCl7dGhpcy5fZmxhc2hBbHBoYS09ZGVsdGEvdGhpcy5fZmxhc2hEdXJhdGlvbjtpZih0aGlzLl9mbGFzaEFscGhhPDAuMCl7dGhpcy5fZmxhc2hBbHBoYT0wLjA7fX1pZih0aGlzLl9mYWRlQWxwaGE+MC4wJiZ0aGlzLl9mYWRlQWxwaGE8MS4wKXt0aGlzLl9mYWRlQWxwaGErPWRlbHRhL3RoaXMuX2ZhZGVEdXJhdGlvbjtpZih0aGlzLl9mYWRlQWxwaGE+PTEuMCl7dGhpcy5fZmFkZUFscGhhPTEuMDt9fWlmKHRoaXMuX3NoYWtlRHVyYXRpb24+MC4wKXt2YXIgaW50ZW5zaXR5PXRoaXMuX3NoYWtlSW50ZW5zaXR5O3RoaXMuX3NoYWtlRHVyYXRpb24tPWRlbHRhO2lmKHRoaXMuX3NoYWtlRHVyYXRpb248PTAuMCl7dGhpcy5fc2hha2VPZmZzZXRYPTAuMDt0aGlzLl9zaGFrZU9mZnNldFk9MC4wO31lbHNle3RoaXMuX3NoYWtlT2Zmc2V0WD0oTWF0aC5yYW5kb20oKSppbnRlbnNpdHkqdGhpcy53aWR0aCoyLWludGVuc2l0eSp0aGlzLndpZHRoKSp0aGlzLnpvb207dGhpcy5fc2hha2VPZmZzZXRZPShNYXRoLnJhbmRvbSgpKmludGVuc2l0eSp0aGlzLmhlaWdodCoyLWludGVuc2l0eSp0aGlzLmhlaWdodCkqdGhpcy56b29tO319fTttb2R1bGUuZXhwb3J0cz1VcGRhdGU7LyoqKi99LC8qIDUwMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7Ly8gIHZhciBjYW1Db250cm9sID0gbmV3IENhbWVyYUNvbnRyb2woe1xuLy8gICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhcy5tYWluLFxuLy8gICAgICBsZWZ0OiBjdXJzb3JzLmxlZnQsXG4vLyAgICAgIHJpZ2h0OiBjdXJzb3JzLnJpZ2h0LFxuLy8gICAgICBzcGVlZDogZmxvYXQgT1IgeyB4OiAwLCB5OiAwIH1cbi8vICB9KVxudmFyIEtleUNvbnRyb2w9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEtleUNvbnRyb2woY29uZmlnKXt0aGlzLmNhbWVyYT1HZXRWYWx1ZShjb25maWcsJ2NhbWVyYScsbnVsbCk7dGhpcy5sZWZ0PUdldFZhbHVlKGNvbmZpZywnbGVmdCcsbnVsbCk7dGhpcy5yaWdodD1HZXRWYWx1ZShjb25maWcsJ3JpZ2h0JyxudWxsKTt0aGlzLnVwPUdldFZhbHVlKGNvbmZpZywndXAnLG51bGwpO3RoaXMuZG93bj1HZXRWYWx1ZShjb25maWcsJ2Rvd24nLG51bGwpO3ZhciBzcGVlZD1HZXRWYWx1ZShjb25maWcsJ3NwZWVkJyxudWxsKTtpZih0eXBlb2Ygc3BlZWQ9PT0nbnVtYmVyJyl7dGhpcy5zcGVlZFg9c3BlZWQ7dGhpcy5zcGVlZFk9c3BlZWQ7fWVsc2V7dGhpcy5zcGVlZFg9R2V0VmFsdWUoY29uZmlnLCdzcGVlZC54JywwKTt0aGlzLnNwZWVkWT1HZXRWYWx1ZShjb25maWcsJ3NwZWVkLnknLDApO310aGlzLmFjdGl2ZT10aGlzLmNhbWVyYSE9PW51bGw7fSxzdGFydDpmdW5jdGlvbiBzdGFydCgpe3RoaXMuYWN0aXZlPXRoaXMuY2FtZXJhIT09bnVsbDt9LHN0b3A6ZnVuY3Rpb24gc3RvcCgpe3RoaXMuYWN0aXZlPWZhbHNlO30sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZShkZWx0YSl7aWYoIXRoaXMuYWN0aXZlKXtyZXR1cm47fWlmKGRlbHRhPT09dW5kZWZpbmVkKXtkZWx0YT0xO312YXIgY2FtPXRoaXMuY2FtZXJhO2lmKHRoaXMudXAmJnRoaXMudXAuaXNEb3duKXtjYW0uc2Nyb2xsWS09dGhpcy5zcGVlZFkqZGVsdGF8MDt9ZWxzZSBpZih0aGlzLmRvd24mJnRoaXMuZG93bi5pc0Rvd24pe2NhbS5zY3JvbGxZKz10aGlzLnNwZWVkWSpkZWx0YXwwO31pZih0aGlzLmxlZnQmJnRoaXMubGVmdC5pc0Rvd24pe2NhbS5zY3JvbGxYLT10aGlzLnNwZWVkWCpkZWx0YXwwO31lbHNlIGlmKHRoaXMucmlnaHQmJnRoaXMucmlnaHQuaXNEb3duKXtjYW0uc2Nyb2xsWCs9dGhpcy5zcGVlZFgqZGVsdGF8MDt9fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLmNhbWVyYT1udWxsO3RoaXMubGVmdD1udWxsO3RoaXMucmlnaHQ9bnVsbDt0aGlzLnVwPW51bGw7dGhpcy5kb3duPW51bGw7fX0pO21vZHVsZS5leHBvcnRzPUtleUNvbnRyb2w7LyoqKi99LC8qIDUwMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7Ly8gIHZhciBjYW1Db250cm9sID0gbmV3IFNtb290aGVkS2V5Q29udHJvbCh7XG4vLyAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmFzLm1haW4sXG4vLyAgICAgIGxlZnQ6IGN1cnNvcnMubGVmdCxcbi8vICAgICAgcmlnaHQ6IGN1cnNvcnMucmlnaHQsXG4vLyAgICAgIGFjY2VsZXJhdGlvbjogZmxvYXQgfHwgeyB4OiAwLCB5OiAwIH1cbi8vICAgICAgZHJhZzogZmxvYXQgfHwgeyB4OiAwLCB5OiAwIH1cbi8vICAgICAgbWF4U3BlZWQ6IGZsb2F0IHx8IHsgeDogMCwgeTogMCB9XG4vLyAgfSlcbnZhciBTbW9vdGhlZEtleUNvbnRyb2w9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFNtb290aGVkS2V5Q29udHJvbChjb25maWcpe3RoaXMuY2FtZXJhPUdldFZhbHVlKGNvbmZpZywnY2FtZXJhJyxudWxsKTt0aGlzLmxlZnQ9R2V0VmFsdWUoY29uZmlnLCdsZWZ0JyxudWxsKTt0aGlzLnJpZ2h0PUdldFZhbHVlKGNvbmZpZywncmlnaHQnLG51bGwpO3RoaXMudXA9R2V0VmFsdWUoY29uZmlnLCd1cCcsbnVsbCk7dGhpcy5kb3duPUdldFZhbHVlKGNvbmZpZywnZG93bicsbnVsbCk7dmFyIGFjY2VsPUdldFZhbHVlKGNvbmZpZywnYWNjZWxlcmF0aW9uJyxudWxsKTtpZih0eXBlb2YgYWNjZWw9PT0nbnVtYmVyJyl7dGhpcy5hY2NlbFg9YWNjZWw7dGhpcy5hY2NlbFk9YWNjZWw7fWVsc2V7dGhpcy5hY2NlbFg9R2V0VmFsdWUoY29uZmlnLCdhY2NlbGVyYXRpb24ueCcsMCk7dGhpcy5hY2NlbFk9R2V0VmFsdWUoY29uZmlnLCdhY2NlbGVyYXRpb24ueScsMCk7fXZhciBkcmFnPUdldFZhbHVlKGNvbmZpZywnZHJhZycsbnVsbCk7aWYodHlwZW9mIGRyYWc9PT0nbnVtYmVyJyl7dGhpcy5kcmFnWD1kcmFnO3RoaXMuZHJhZ1k9ZHJhZzt9ZWxzZXt0aGlzLmRyYWdYPUdldFZhbHVlKGNvbmZpZywnZHJhZy54JywwKTt0aGlzLmRyYWdZPUdldFZhbHVlKGNvbmZpZywnZHJhZy55JywwKTt9dmFyIG1heFNwZWVkPUdldFZhbHVlKGNvbmZpZywnbWF4U3BlZWQnLG51bGwpO2lmKHR5cGVvZiBtYXhTcGVlZD09PSdudW1iZXInKXt0aGlzLm1heFNwZWVkWD1tYXhTcGVlZDt0aGlzLm1heFNwZWVkWT1tYXhTcGVlZDt9ZWxzZXt0aGlzLm1heFNwZWVkWD1HZXRWYWx1ZShjb25maWcsJ21heFNwZWVkLngnLDApO3RoaXMubWF4U3BlZWRZPUdldFZhbHVlKGNvbmZpZywnbWF4U3BlZWQueScsMCk7fXRoaXMuX3NwZWVkWD0wO3RoaXMuX3NwZWVkWT0wO3RoaXMuYWN0aXZlPXRoaXMuY2FtZXJhIT09bnVsbDt9LHN0YXJ0OmZ1bmN0aW9uIHN0YXJ0KCl7dGhpcy5hY3RpdmU9dGhpcy5jYW1lcmEhPT1udWxsO30sc3RvcDpmdW5jdGlvbiBzdG9wKCl7dGhpcy5hY3RpdmU9ZmFsc2U7fSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKGRlbHRhKXtpZighdGhpcy5hY3RpdmUpe3JldHVybjt9aWYoZGVsdGE9PT11bmRlZmluZWQpe2RlbHRhPTE7fXZhciBjYW09dGhpcy5jYW1lcmE7Ly8gIEFwcGx5IERlY2VsZXJhdGlvblxuaWYodGhpcy5fc3BlZWRYPjApe3RoaXMuX3NwZWVkWC09dGhpcy5kcmFnWCpkZWx0YTtpZih0aGlzLl9zcGVlZFg8MCl7dGhpcy5fc3BlZWRYPTA7fX1lbHNlIGlmKHRoaXMuX3NwZWVkWDwwKXt0aGlzLl9zcGVlZFgrPXRoaXMuZHJhZ1gqZGVsdGE7aWYodGhpcy5fc3BlZWRYPjApe3RoaXMuX3NwZWVkWD0wO319aWYodGhpcy5fc3BlZWRZPjApe3RoaXMuX3NwZWVkWS09dGhpcy5kcmFnWSpkZWx0YTtpZih0aGlzLl9zcGVlZFk8MCl7dGhpcy5fc3BlZWRZPTA7fX1lbHNlIGlmKHRoaXMuX3NwZWVkWTwwKXt0aGlzLl9zcGVlZFkrPXRoaXMuZHJhZ1kqZGVsdGE7aWYodGhpcy5fc3BlZWRZPjApe3RoaXMuX3NwZWVkWT0wO319Ly8gIENoZWNrIGZvciBrZXlzXG5pZih0aGlzLnVwLmlzRG93bil7dGhpcy5fc3BlZWRZKz10aGlzLmFjY2VsWTtpZih0aGlzLl9zcGVlZFk+dGhpcy5tYXhTcGVlZFkpe3RoaXMuX3NwZWVkWT10aGlzLm1heFNwZWVkWTt9fWVsc2UgaWYodGhpcy5kb3duLmlzRG93bil7dGhpcy5fc3BlZWRZLT10aGlzLmFjY2VsWTtpZih0aGlzLl9zcGVlZFk8LXRoaXMubWF4U3BlZWRZKXt0aGlzLl9zcGVlZFk9LXRoaXMubWF4U3BlZWRZO319aWYodGhpcy5sZWZ0LmlzRG93bil7dGhpcy5fc3BlZWRYKz10aGlzLmFjY2VsWDtpZih0aGlzLl9zcGVlZFg+dGhpcy5tYXhTcGVlZFgpe3RoaXMuX3NwZWVkWD10aGlzLm1heFNwZWVkWDt9fWVsc2UgaWYodGhpcy5yaWdodC5pc0Rvd24pe3RoaXMuX3NwZWVkWC09dGhpcy5hY2NlbFg7aWYodGhpcy5fc3BlZWRYPC10aGlzLm1heFNwZWVkWCl7dGhpcy5fc3BlZWRYPS10aGlzLm1heFNwZWVkWDt9fS8vICBBcHBseSB0byBDYW1lcmFcbmlmKHRoaXMuX3NwZWVkWCE9PTApe2NhbS5zY3JvbGxYLT10aGlzLl9zcGVlZFgqZGVsdGF8MDt9aWYodGhpcy5fc3BlZWRZIT09MCl7Y2FtLnNjcm9sbFktPXRoaXMuX3NwZWVkWSpkZWx0YXwwO319LGRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuY2FtZXJhPW51bGw7dGhpcy5sZWZ0PW51bGw7dGhpcy5yaWdodD1udWxsO3RoaXMudXA9bnVsbDt0aGlzLmRvd249bnVsbDt9fSk7bW9kdWxlLmV4cG9ydHM9U21vb3RoZWRLZXlDb250cm9sOy8qKiovfSwvKiA1MDQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBUaW1lckV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oNTA1KTt2YXIgQ2xvY2s9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIENsb2NrKHNjZW5lKXt0aGlzLnNjZW5lPXNjZW5lO3RoaXMubm93PURhdGUubm93KCk7Ly8gIFNjYWxlIHRoZSBkZWx0YSB0aW1lIGNvbWluZyBpbnRvIHRoZSBDbG9jayBieSB0aGlzIGZhY3RvclxuLy8gIHdoaWNoIHRoZW4gaW5mbHVlbmNlcyBhbnl0aGluZyB1c2luZyB0aGlzIENsb2NrIGZvciBjYWxjdWxhdGlvbnMsIGxpa2UgVGltZXJFdmVudHNcbnRoaXMudGltZVNjYWxlPTE7dGhpcy5wYXVzZWQ9ZmFsc2U7dGhpcy5fYWN0aXZlPVtdO3RoaXMuX3BlbmRpbmdJbnNlcnRpb249W107dGhpcy5fcGVuZGluZ1JlbW92YWw9W107fSxhZGRFdmVudDpmdW5jdGlvbiBhZGRFdmVudChjb25maWcpe3ZhciBldmVudD1uZXcgVGltZXJFdmVudChjb25maWcpO3RoaXMuX3BlbmRpbmdJbnNlcnRpb24ucHVzaChldmVudCk7cmV0dXJuIGV2ZW50O30sZGVsYXllZENhbGw6ZnVuY3Rpb24gZGVsYXllZENhbGwoZGVsYXksY2FsbGJhY2ssYXJncyxjYWxsYmFja1Njb3BlKXtyZXR1cm4gdGhpcy5hZGRFdmVudCh7ZGVsYXk6ZGVsYXksY2FsbGJhY2s6Y2FsbGJhY2ssYXJnczphcmdzLGNhbGxiYWNrU2NvcGU6Y2FsbGJhY2tTY29wZX0pO30sY2xlYXJQZW5kaW5nRXZlbnRzOmZ1bmN0aW9uIGNsZWFyUGVuZGluZ0V2ZW50cygpe3RoaXMuX3BlbmRpbmdJbnNlcnRpb249W107fSxyZW1vdmVBbGxFdmVudHM6ZnVuY3Rpb24gcmVtb3ZlQWxsRXZlbnRzKCl7dGhpcy5fcGVuZGluZ1JlbW92YWw9dGhpcy5fcGVuZGluZ1JlbW92YWwuY29uY2F0KHRoaXMuX2FjdGl2ZSk7cmV0dXJuIHRoaXM7fSxiZWdpbjpmdW5jdGlvbiBiZWdpbigpe3ZhciB0b1JlbW92ZT10aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGg7dmFyIHRvSW5zZXJ0PXRoaXMuX3BlbmRpbmdJbnNlcnRpb24ubGVuZ3RoO2lmKHRvUmVtb3ZlPT09MCYmdG9JbnNlcnQ9PT0wKXsvLyAgUXVpY2sgYmFpbFxucmV0dXJuO312YXIgaTt2YXIgZXZlbnQ7Ly8gIERlbGV0ZSBvbGQgZXZlbnRzXG5mb3IoaT0wO2k8dG9SZW1vdmU7aSsrKXtldmVudD10aGlzLl9wZW5kaW5nUmVtb3ZhbFtpXTt2YXIgaW5kZXg9dGhpcy5fYWN0aXZlLmluZGV4T2YoZXZlbnQpO2lmKGluZGV4Pi0xKXt0aGlzLl9hY3RpdmUuc3BsaWNlKGluZGV4LDEpO30vLyAgUG9vbCB0aGVtP1xuZXZlbnQuZGVzdHJveSgpO31mb3IoaT0wO2k8dG9JbnNlcnQ7aSsrKXtldmVudD10aGlzLl9wZW5kaW5nSW5zZXJ0aW9uW2ldO2V2ZW50LmVsYXBzZWQ9ZXZlbnQuc3RhcnRBdCpldmVudC50aW1lU2NhbGU7dGhpcy5fYWN0aXZlLnB1c2goZXZlbnQpO30vLyAgQ2xlYXIgdGhlIGxpc3RzXG50aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGg9MDt0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aD0wO30sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZSh0aW1lLGRlbHRhKXt0aGlzLm5vdz10aW1lO2lmKHRoaXMucGF1c2VkKXtyZXR1cm47fWRlbHRhKnRoaXMudGltZVNjYWxlO2Zvcih2YXIgaT0wO2k8dGhpcy5fYWN0aXZlLmxlbmd0aDtpKyspe3ZhciBldmVudD10aGlzLl9hY3RpdmVbaV07aWYoZXZlbnQucGF1c2VkKXtjb250aW51ZTt9Ly8gIFVzZSBkZWx0YSB0aW1lIHRvIGluY3JlYXNlIGVsYXBzZWQuXG4vLyAgQXZvaWRzIG5lZWRpbmcgdG8gYWRqdXN0IGZvciBwYXVzZSAvIHJlc3VtZS5cbi8vICBBdXRvbWF0aWNhbGx5IHNtb290aGVkIGJ5IFRpbWVTdGVwIGNsYXNzLlxuLy8gIEluIHRlc3RpbmcgYWNjdXJhdGUgdG8gKy0gMW1zIVxuZXZlbnQuZWxhcHNlZCs9ZGVsdGEqZXZlbnQudGltZVNjYWxlO2lmKGV2ZW50LmVsYXBzZWQ+PWV2ZW50LmRlbGF5KXt2YXIgcmVtYWluZGVyPWV2ZW50LmVsYXBzZWQtZXZlbnQuZGVsYXk7Ly8gIExpbWl0IGl0LCBpbiBjYXNlIGl0J3MgY2hlY2tlZCBpbiB0aGUgY2FsbGJhY2tcbmV2ZW50LmVsYXBzZWQ9ZXZlbnQuZGVsYXk7Ly8gIFByb2Nlc3MgdGhlIGV2ZW50XG5pZighZXZlbnQuaGFzRGlzcGF0Y2hlZCYmZXZlbnQuY2FsbGJhY2spe2V2ZW50Lmhhc0Rpc3BhdGNoZWQ9dHJ1ZTtldmVudC5jYWxsYmFjay5hcHBseShldmVudC5jYWxsYmFja1Njb3BlLGV2ZW50LmFyZ3MpO31pZihldmVudC5yZXBlYXRDb3VudD4wKXtldmVudC5yZXBlYXRDb3VudC0tO2V2ZW50LmVsYXBzZWQ9cmVtYWluZGVyO2V2ZW50Lmhhc0Rpc3BhdGNoZWQ9ZmFsc2U7fWVsc2V7dGhpcy5fcGVuZGluZ1JlbW92YWwucHVzaChldmVudCk7fX19fSwvLyAgU2NlbmUgdGhhdCBvd25zIHRoaXMgQ2xvY2sgaXMgc2h1dHRpbmcgZG93blxuc2h1dGRvd246ZnVuY3Rpb24gc2h1dGRvd24oKXt2YXIgaTtmb3IoaT0wO2k8dGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg7aSsrKXt0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uW2ldLmRlc3Ryb3koKTt9Zm9yKGk9MDtpPHRoaXMuX2FjdGl2ZS5sZW5ndGg7aSsrKXt0aGlzLl9hY3RpdmVbaV0uZGVzdHJveSgpO31mb3IoaT0wO2k8dGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoO2krKyl7dGhpcy5fcGVuZGluZ1JlbW92YWxbaV0uZGVzdHJveSgpO310aGlzLl9hY3RpdmUubGVuZ3RoPTA7dGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoPTA7dGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg9MDt9LC8vICBHYW1lIGxldmVsIG51a2VcbmRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuc2h1dGRvd24oKTt0aGlzLnNjZW5lPXVuZGVmaW5lZDt9fSk7bW9kdWxlLmV4cG9ydHM9Q2xvY2s7LyoqKi99LC8qIDUwNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO3ZhciBUaW1lckV2ZW50PW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBUaW1lckV2ZW50KGNvbmZpZyl7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRlbGF5IC0gVGhlIGRlbGF5IGluIG1zIGF0IHdoaWNoIHRoaXMgVGltZXJFdmVudCBmaXJlcy5cbiAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgKi90aGlzLmRlbGF5PTA7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHJlcGVhdCAtIFRoZSB0b3RhbCBudW1iZXIgb2YgdGltZXMgdGhpcyBUaW1lckV2ZW50IHdpbGwgcmVwZWF0IGJlZm9yZSBmaW5pc2hpbmcuXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICovdGhpcy5yZXBlYXQ9MDsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVwZWF0Q291bnQgLSBJZiByZXBlYXRpbmcgdGhpcyBjb250YWlucyB0aGUgY3VycmVudCByZXBlYXQgY291bnQuXG4gICAgICAgICovdGhpcy5yZXBlYXRDb3VudD0wOy8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbG9vcCAtIFRydWUgaWYgdGhpcyBUaW1lckV2ZW50IGxvb3BzLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICovdGhpcy5sb29wPWZhbHNlOy8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgVGltZXJFdmVudCBvY2N1cnMuXG4gICAgICAgICovdGhpcy5jYWxsYmFjazsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge29iamVjdH0gY2FsbGJhY2tDb250ZXh0IC0gVGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkLlxuICAgICAgICAqL3RoaXMuY2FsbGJhY2tTY29wZTsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge2FueVtdfSBhcmd1bWVudHMgLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICAqL3RoaXMuYXJnczsvLyAgU2NhbGUgdGhlIHRpbWUgY2F1c2luZyB0aGlzIFRpbWVyRXZlbnQgdG8gdXBkYXRlXG50aGlzLnRpbWVTY2FsZT0xOy8vICBTdGFydCB0aGlzIG1hbnkgTVMgaW50byB0aGUgZWxhcHNlZCAodXNlZnVsIGlmIHlvdSB3YW50IGEgbG9uZyBkdXJhdGlvbiB3aXRoIHJlcGVhdCwgYnV0IGZvciB0aGUgZmlyc3QgbG9vcCB0byBmaXJlIHF1aWNrbHkpXG50aGlzLnN0YXJ0QXQ9MDt0aGlzLmVsYXBzZWQ9MDt0aGlzLnBhdXNlZD1mYWxzZTt0aGlzLmhhc0Rpc3BhdGNoZWQ9ZmFsc2U7dGhpcy5yZXNldChjb25maWcpO30scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoY29uZmlnKXt0aGlzLmRlbGF5PUdldEZhc3RWYWx1ZShjb25maWcsJ2RlbGF5JywwKTsvLyAgQ2FuIGFsc28gYmUgc2V0IHRvIC0xIGZvciBhbiBpbmZpbml0ZSBsb29wIChzYW1lIGFzIHNldHRpbmcgbG9vcDogdHJ1ZSlcbnRoaXMucmVwZWF0PUdldEZhc3RWYWx1ZShjb25maWcsJ3JlcGVhdCcsMCk7dGhpcy5sb29wPUdldEZhc3RWYWx1ZShjb25maWcsJ2xvb3AnLGZhbHNlKTt0aGlzLmNhbGxiYWNrPUdldEZhc3RWYWx1ZShjb25maWcsJ2NhbGxiYWNrJyx1bmRlZmluZWQpO3RoaXMuY2FsbGJhY2tTY29wZT1HZXRGYXN0VmFsdWUoY29uZmlnLCdjYWxsYmFja1Njb3BlJyx0aGlzLmNhbGxiYWNrKTt0aGlzLmFyZ3M9R2V0RmFzdFZhbHVlKGNvbmZpZywnYXJncycsW10pO3RoaXMudGltZVNjYWxlPUdldEZhc3RWYWx1ZShjb25maWcsJ3RpbWVTY2FsZScsMSk7dGhpcy5zdGFydEF0PUdldEZhc3RWYWx1ZShjb25maWcsJ3N0YXJ0QXQnLDApO3RoaXMucGF1c2VkPUdldEZhc3RWYWx1ZShjb25maWcsJ3BhdXNlZCcsZmFsc2UpO3RoaXMuZWxhcHNlZD0wO3RoaXMuaGFzRGlzcGF0Y2hlZD1mYWxzZTt0aGlzLnJlcGVhdENvdW50PXRoaXMucmVwZWF0PT09LTF8fHRoaXMubG9vcD85OTk5OTk5OTk5OTk6dGhpcy5yZXBlYXQ7cmV0dXJuIHRoaXM7fSwvLyAgR2V0cyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgaXRlcmF0aW9uLCBub3QgZmFjdG9yaW5nIGluIHJlcGVhdHNcbmdldFByb2dyZXNzOmZ1bmN0aW9uIGdldFByb2dyZXNzKCl7cmV0dXJuIHRoaXMuZWxhcHNlZC90aGlzLmRlbGF5O30sLy8gIEdldHMgdGhlIHByb2dyZXNzIG9mIHRoZSB0aW1lciBvdmVyYWxsLCBmYWN0b3JpbmcgaW4gcmVwZWF0cy5cbmdldE92ZXJhbGxQcm9ncmVzczpmdW5jdGlvbiBnZXRPdmVyYWxsUHJvZ3Jlc3MoKXtpZih0aGlzLnJlcGVhdD4wKXt2YXIgdG90YWxEdXJhdGlvbj10aGlzLmRlbGF5K3RoaXMuZGVsYXkqdGhpcy5yZXBlYXQ7dmFyIHRvdGFsRWxhcHNlZD10aGlzLmVsYXBzZWQrdGhpcy5kZWxheSoodGhpcy5yZXBlYXQtdGhpcy5yZXBlYXRDb3VudCk7cmV0dXJuIHRvdGFsRWxhcHNlZC90b3RhbER1cmF0aW9uO31lbHNle3JldHVybiB0aGlzLmdldFByb2dyZXNzKCk7fX0sZ2V0UmVwZWF0Q291bnQ6ZnVuY3Rpb24gZ2V0UmVwZWF0Q291bnQoKXtyZXR1cm4gdGhpcy5yZXBlYXRDb3VudDt9LGdldEVsYXBzZWQ6ZnVuY3Rpb24gZ2V0RWxhcHNlZCgpe3JldHVybiB0aGlzLmVsYXBzZWQ7fSxnZXRFbGFwc2VkU2Vjb25kczpmdW5jdGlvbiBnZXRFbGFwc2VkU2Vjb25kcygpe3JldHVybiB0aGlzLmVsYXBzZWQqMC4wMDE7fSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKGRpc3BhdGNoQ2FsbGJhY2spe2lmKGRpc3BhdGNoQ2FsbGJhY2s9PT11bmRlZmluZWQpe2Rpc3BhdGNoQ2FsbGJhY2s9ZmFsc2U7fXRoaXMuZWxhcHNlZD10aGlzLmRlbGF5O3RoaXMuaGFzRGlzcGF0Y2hlZD0hIWRpc3BhdGNoQ2FsbGJhY2s7dGhpcy5yZXBlYXRDb3VudD0wO30sLy8gIENhbGxlZCBpbnRlcm5hbHksIHByaXZhdGVcbmRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuY2FsbGJhY2s9dW5kZWZpbmVkO3RoaXMuY2FsbGJhY2tTY29wZT11bmRlZmluZWQ7dGhpcy5hcmdzLmxlbmd0aD0wO319KTttb2R1bGUuZXhwb3J0cz1UaW1lckV2ZW50Oy8qKiovfSwvKiA1MDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBCbGl0dGVyQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUwNyk7dmFyIER5bmFtaWNCaXRtYXBUZXh0Q3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxMik7dmFyIER5bmFtaWNUaWxlbWFwQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxNik7dmFyIEVmZmVjdExheWVyQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyMSk7dmFyIEdyYXBoaWNzQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyNSk7dmFyIEdyb3VwQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyOSk7dmFyIEltYWdlQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDUzMyk7dmFyIE1lc2hDcmVhdG9yPV9fd2VicGFja19yZXF1aXJlX18oNTM3KTt2YXIgUXVhZENyZWF0b3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1NDEpO3ZhciBSZW5kZXJQYXNzQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU0Mik7dmFyIFNwcml0ZUNyZWF0b3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1NDYpO3ZhciBTdGF0aWNCaXRtYXBUZXh0Q3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU0OCk7dmFyIFN0YXRpY1RpbGVtYXBDcmVhdG9yPV9fd2VicGFja19yZXF1aXJlX18oNTU0KTt2YXIgVGV4dENyZWF0b3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1NTgpO3ZhciBUaWxlU3ByaXRlQ3JlYXRvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2NSk7dmFyIEdhbWVPYmplY3RDcmVhdG9yPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBHYW1lT2JqZWN0Q3JlYXRvcihzY2VuZSl7dGhpcy5zY2VuZT1zY2VuZTt9LGJpdG1hcFRleHQ6ZnVuY3Rpb24gYml0bWFwVGV4dChjb25maWcpe3JldHVybiBTdGF0aWNCaXRtYXBUZXh0Q3JlYXRvcih0aGlzLnNjZW5lLGNvbmZpZyk7fSxkeW5hbWljQml0bWFwVGV4dDpmdW5jdGlvbiBkeW5hbWljQml0bWFwVGV4dChjb25maWcpe3JldHVybiBEeW5hbWljQml0bWFwVGV4dENyZWF0b3IodGhpcy5zY2VuZSxjb25maWcpO30sYmxpdHRlcjpmdW5jdGlvbiBibGl0dGVyKGNvbmZpZyl7cmV0dXJuIEJsaXR0ZXJDcmVhdG9yKHRoaXMuc2NlbmUsY29uZmlnKTt9LGVmZmVjdExheWVyOmZ1bmN0aW9uIGVmZmVjdExheWVyKGNvbmZpZyl7cmV0dXJuIEVmZmVjdExheWVyQ3JlYXRvcih0aGlzLnNjZW5lLGNvbmZpZyk7fSxncmFwaGljczpmdW5jdGlvbiBncmFwaGljcyhjb25maWcpe3JldHVybiBHcmFwaGljc0NyZWF0b3IodGhpcy5zY2VuZSxjb25maWcpO30sZ3JvdXA6ZnVuY3Rpb24gZ3JvdXAoY29uZmlnKXtyZXR1cm4gR3JvdXBDcmVhdG9yKHRoaXMuc2NlbmUsY29uZmlnKTt9LG1lc2g6ZnVuY3Rpb24gbWVzaChjb25maWcpe3JldHVybiBNZXNoQ3JlYXRvcih0aGlzLnNjZW5lLGNvbmZpZyk7fSxpbWFnZTpmdW5jdGlvbiBpbWFnZShjb25maWcpe3JldHVybiBJbWFnZUNyZWF0b3IodGhpcy5zY2VuZSxjb25maWcpO30scXVhZDpmdW5jdGlvbiBxdWFkKGNvbmZpZyl7cmV0dXJuIFF1YWRDcmVhdG9yKHRoaXMuc2NlbmUsY29uZmlnKTt9LHJlbmRlclBhc3M6ZnVuY3Rpb24gcmVuZGVyUGFzcyhjb25maWcpe3JldHVybiBSZW5kZXJQYXNzQ3JlYXRvcih0aGlzLnNjZW5lLGNvbmZpZyk7fSxzcHJpdGU6ZnVuY3Rpb24gc3ByaXRlKGNvbmZpZyl7cmV0dXJuIFNwcml0ZUNyZWF0b3IodGhpcy5zY2VuZSxjb25maWcpO30sdGV4dDpmdW5jdGlvbiB0ZXh0KGNvbmZpZyl7cmV0dXJuIFRleHRDcmVhdG9yKHRoaXMuc2NlbmUsY29uZmlnKTt9LHRpbGVtYXA6ZnVuY3Rpb24gdGlsZW1hcChjb25maWcpe3JldHVybiBEeW5hbWljVGlsZW1hcENyZWF0b3IodGhpcy5zY2VuZSxjb25maWcpO30sc3RhdGljVGlsZW1hcDpmdW5jdGlvbiBzdGF0aWNUaWxlbWFwKGNvbmZpZyl7cmV0dXJuIFN0YXRpY1RpbGVtYXBDcmVhdG9yKHRoaXMuc2NlbmUsY29uZmlnKTt9LHRpbGVTcHJpdGU6ZnVuY3Rpb24gdGlsZVNwcml0ZShjb25maWcpe3JldHVybiBUaWxlU3ByaXRlQ3JlYXRvcih0aGlzLnNjZW5lLGNvbmZpZyk7fX0pO21vZHVsZS5leHBvcnRzPUdhbWVPYmplY3RDcmVhdG9yOy8qKiovfSwvKiA1MDcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCbGl0dGVyPV9fd2VicGFja19yZXF1aXJlX18oNzIpO3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIEJ1aWxkR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO3ZhciBCbGl0dGVyQ3JlYXRvcj1mdW5jdGlvbiBCbGl0dGVyQ3JlYXRvcihzY2VuZSxjb25maWcpe3ZhciBrZXk9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2tleScsbnVsbCk7dmFyIGZyYW1lPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdmcmFtZScsbnVsbCk7dmFyIGJsaXR0ZXI9bmV3IEJsaXR0ZXIoc2NlbmUsMCwwLGtleSxmcmFtZSk7QnVpbGRHYW1lT2JqZWN0KHNjZW5lLGJsaXR0ZXIsY29uZmlnKTtyZXR1cm4gYmxpdHRlcjt9O21vZHVsZS5leHBvcnRzPUJsaXR0ZXJDcmVhdG9yOy8qKiovfSwvKiA1MDggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtyZW5kZXJDYW52YXM6X193ZWJwYWNrX3JlcXVpcmVfXyg1MDkpLHJlbmRlcldlYkdMOl9fd2VicGFja19yZXF1aXJlX18oNTEwKX07LyoqKi99LC8qIDUwOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBCbGl0dGVyQ2FudmFzUmVuZGVyZXI9ZnVuY3Rpb24gQmxpdHRlckNhbnZhc1JlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9dmFyIGxpc3Q9c3JjLmdldFJlbmRlckxpc3QoKTtyZW5kZXJlci5zZXRCbGVuZE1vZGUoc3JjLmJsZW5kTW9kZSk7dmFyIGNhPXJlbmRlcmVyLmN1cnJlbnRBbHBoYTsvLyAgUmVuZGVyIGJvYnNcbmZvcih2YXIgaT0wO2k8bGlzdC5sZW5ndGg7aSsrKXt2YXIgYm9iPWxpc3RbaV07aWYoY2EhPT1ib2IuYWxwaGEpe2NhPXJlbmRlcmVyLnNldEFscGhhKGJvYi5hbHBoYSk7fXJlbmRlcmVyLmJsaXRJbWFnZShib2IueCxib2IueSxib2IuZnJhbWUsY2FtZXJhKTt9fTttb2R1bGUuZXhwb3J0cz1CbGl0dGVyQ2FudmFzUmVuZGVyZXI7LyoqKi99LC8qIDUxMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBCbGl0dGVyV2ViR0xSZW5kZXJlcj1mdW5jdGlvbiBCbGl0dGVyV2ViR0xSZW5kZXJlcihyZW5kZXJlcixzcmMsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXtpZih0aGlzLnJlbmRlck1hc2shPT10aGlzLnJlbmRlckZsYWdzKXtyZXR1cm47fXZhciBsaXN0PXNyYy5nZXRSZW5kZXJMaXN0KCk7dmFyIGJsaXR0ZXJCYXRjaD1yZW5kZXJlci5ibGl0dGVyQmF0Y2g7dmFyIGNhbWVyYU1hdHJpeD1jYW1lcmEubWF0cml4Lm1hdHJpeDt2YXIgYT1jYW1lcmFNYXRyaXhbMF07dmFyIGI9Y2FtZXJhTWF0cml4WzFdO3ZhciBjPWNhbWVyYU1hdHJpeFsyXTt2YXIgZD1jYW1lcmFNYXRyaXhbM107dmFyIGU9Y2FtZXJhTWF0cml4WzRdO3ZhciBmPWNhbWVyYU1hdHJpeFs1XTt2YXIgY2FtZXJhU2Nyb2xsWD1jYW1lcmEuc2Nyb2xsWCpzcmMuc2Nyb2xsRmFjdG9yWDt2YXIgY2FtZXJhU2Nyb2xsWT1jYW1lcmEuc2Nyb2xsWSpzcmMuc2Nyb2xsRmFjdG9yWTt2YXIgcmVuZGVyVGFyZ2V0PXNyYy5yZW5kZXJUYXJnZXQ7Ly8gIFJlbmRlciBib2JzXG5mb3IodmFyIGk9MCxsPWxpc3QubGVuZ3RoO2k8bDtpKyspe3ZhciBib2I9bGlzdFtpXTt2YXIgZnJhbWU9Ym9iLmZyYW1lO3ZhciBhbHBoYT1ib2IuYWxwaGE7dmFyIHZlcnRleERhdGFCdWZmZXI9YmxpdHRlckJhdGNoLnZlcnRleERhdGFCdWZmZXI7dmFyIHZlcnRleEJ1ZmZlcj12ZXJ0ZXhEYXRhQnVmZmVyLmZsb2F0Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIHV2cz1mcmFtZS51dnM7dmFyIHdpZHRoPWZyYW1lLndpZHRoKihib2IuZmxpcFg/LTE6MSk7dmFyIGhlaWdodD1mcmFtZS5oZWlnaHQqKGJvYi5mbGlwWT8tMToxKTt2YXIgeD1ib2IueCtmcmFtZS54LWNhbWVyYVNjcm9sbFgrZnJhbWUud2lkdGgqKGJvYi5mbGlwWD8xOjAuMCk7dmFyIHk9Ym9iLnkrZnJhbWUueS1jYW1lcmFTY3JvbGxZK2ZyYW1lLmhlaWdodCooYm9iLmZsaXBZPzE6MC4wKTt2YXIgeHc9eCt3aWR0aDt2YXIgeWg9eStoZWlnaHQ7dmFyIHR4PXgqYSt5KmMrZTt2YXIgdHk9eCpiK3kqZCtmO3ZhciB0eHc9eHcqYSt5aCpjK2U7dmFyIHR5aD14dypiK3loKmQrZjtpZihibGl0dGVyQmF0Y2guZWxlbWVudENvdW50Pj1ibGl0dGVyQmF0Y2gubWF4UGFydGljbGVzKXtibGl0dGVyQmF0Y2guZmx1c2goKTt9cmVuZGVyZXIuc2V0UmVuZGVyZXIoYmxpdHRlckJhdGNoLGZyYW1lLnRleHR1cmUuc291cmNlW2ZyYW1lLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsY2FtZXJhLHJlbmRlclRhcmdldCk7dmVydGV4T2Zmc2V0PXZlcnRleERhdGFCdWZmZXIuYWxsb2NhdGUoMjApO2JsaXR0ZXJCYXRjaC5lbGVtZW50Q291bnQrPTY7eCs9ZnJhbWUueDt5Kz1mcmFtZS55O3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHg7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eTt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXV2cy54MDt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXV2cy55MDt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWFscGhhO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHg7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eWg7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11dnMueDE7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11dnMueTE7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXR4dzt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXR5aDt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXV2cy54Mjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXV2cy55Mjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWFscGhhO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHh3O3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHk7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11dnMueDM7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11dnMueTM7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt9fTttb2R1bGUuZXhwb3J0cz1CbGl0dGVyV2ViR0xSZW5kZXJlcjsvKioqL30sLyogNTExICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQm9iPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBCb2IoeCx5LGZyYW1lLHZpc2libGUpey8vICBTZXQgYnkgdGhlIERpc3BsYXlMaXN0IGNsYXNzXG50aGlzLnBhcmVudDt0aGlzLng9eDt0aGlzLnk9eTt0aGlzLmZyYW1lPWZyYW1lO3RoaXMuZGF0YT17fTt0aGlzLl92aXNpYmxlPXZpc2libGU7dGhpcy5fYWxwaGE9MTt0aGlzLmZsaXBYLWZhbHNlO3RoaXMuZmxpcFk9ZmFsc2U7fSxyZXNldEZsaXA6ZnVuY3Rpb24gcmVzZXRGbGlwKCl7dGhpcy5mbGlwWD1mYWxzZTt0aGlzLmZsaXBZPWZhbHNlO30scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoeCx5LGZyYW1lKXt0aGlzLng9eDt0aGlzLnk9eTt0aGlzLmZyYW1lPWZyYW1lO30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5wYXJlbnQ9dW5kZWZpbmVkO3RoaXMuZnJhbWU9dW5kZWZpbmVkO3RoaXMuZGF0YT11bmRlZmluZWQ7fSx2aXNpYmxlOntnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIHRoaXMuX3Zpc2libGU7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLl92aXNpYmxlPXZhbHVlO3RoaXMucGFyZW50LmRpcnR5PXRydWU7fX0sYWxwaGE6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5fYWxwaGE7fSxzZXQ6ZnVuY3Rpb24gc2V0KHZhbHVlKXt0aGlzLl9hbHBoYT12YWx1ZTt0aGlzLnBhcmVudC5kaXJ0eT10cnVlO319fSk7bW9kdWxlLmV4cG9ydHM9Qm9iOy8qKiovfSwvKiA1MTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCaXRtYXBUZXh0PV9fd2VicGFja19yZXF1aXJlX18oNzMpO3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIEJ1aWxkR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO3ZhciBEeW5hbWljQml0bWFwVGV4dENyZWF0b3I9ZnVuY3Rpb24gRHluYW1pY0JpdG1hcFRleHRDcmVhdG9yKHNjZW5lLGNvbmZpZyl7dmFyIGZvbnQ9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2ZvbnQnLCcnKTt2YXIgdGV4dD1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywndGV4dCcsJycpO3ZhciBzaXplPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdzaXplJyxmYWxzZSk7dmFyIGFsaWduPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdhbGlnbicsJ2xlZnQnKTt2YXIgYml0bWFwVGV4dD1uZXcgQml0bWFwVGV4dChzY2VuZSwwLDAsZm9udCx0ZXh0LHNpemUsYWxpZ24pO0J1aWxkR2FtZU9iamVjdChzY2VuZSxiaXRtYXBUZXh0LGNvbmZpZyk7cmV0dXJuIGJpdG1hcFRleHQ7fTttb2R1bGUuZXhwb3J0cz1EeW5hbWljQml0bWFwVGV4dENyZWF0b3I7LyoqKi99LC8qIDUxMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e3JlbmRlckNhbnZhczpfX3dlYnBhY2tfcmVxdWlyZV9fKDUxNCkscmVuZGVyV2ViR0w6X193ZWJwYWNrX3JlcXVpcmVfXyg1MTUpfTsvKioqL30sLyogNTE0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIER5bmFtaWNCaXRtYXBUZXh0Q2FudmFzUmVuZGVyZXI9ZnVuY3Rpb24gRHluYW1pY0JpdG1hcFRleHRDYW52YXNSZW5kZXJlcihyZW5kZXJlcixzcmMsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXt2YXIgdGV4dD1zcmMudGV4dDt2YXIgdGV4dExlbmd0aD10ZXh0Lmxlbmd0aDtpZih0aGlzLnJlbmRlck1hc2shPT10aGlzLnJlbmRlckZsYWdzfHx0ZXh0TGVuZ3RoPT09MCl7cmV0dXJuO312YXIgdGV4dHVyZUZyYW1lPXNyYy5mcmFtZTt2YXIgZGlzcGxheUNhbGxiYWNrPXNyYy5kaXNwbGF5Q2FsbGJhY2s7dmFyIGNhbWVyYVNjcm9sbFg9Y2FtZXJhLnNjcm9sbFgqc3JjLnNjcm9sbEZhY3Rvclg7dmFyIGNhbWVyYVNjcm9sbFk9Y2FtZXJhLnNjcm9sbFkqc3JjLnNjcm9sbEZhY3Rvclk7dmFyIGNoYXJzPXNyYy5mb250RGF0YS5jaGFyczt2YXIgbGluZUhlaWdodD1zcmMuZm9udERhdGEubGluZUhlaWdodDt2YXIgeEFkdmFuY2U9MDt2YXIgeUFkdmFuY2U9MDt2YXIgaW5kZXhDb3VudD0wO3ZhciBjaGFyQ29kZT0wO3ZhciBnbHlwaD1udWxsO3ZhciBnbHlwaFg9MDt2YXIgZ2x5cGhZPTA7dmFyIGdseXBoVz0wO3ZhciBnbHlwaEg9MDt2YXIgeD0wO3ZhciB5PTA7dmFyIGxhc3RHbHlwaD1udWxsO3ZhciBsYXN0Q2hhckNvZGU9MDt2YXIgY3R4PXJlbmRlcmVyLmN1cnJlbnRDb250ZXh0O3ZhciBpbWFnZT1zcmMuZnJhbWUuc291cmNlLmltYWdlO3ZhciB0ZXh0dXJlWD10ZXh0dXJlRnJhbWUuY3V0WDt2YXIgdGV4dHVyZVk9dGV4dHVyZUZyYW1lLmN1dFk7dmFyIHJvdGF0aW9uPTA7dmFyIHNjYWxlPXNyYy5mb250U2l6ZS9zcmMuZm9udERhdGEuc2l6ZTsvLyAgQmxlbmQgTW9kZVxuaWYocmVuZGVyZXIuY3VycmVudEJsZW5kTW9kZSE9PXNyYy5ibGVuZE1vZGUpe3JlbmRlcmVyLmN1cnJlbnRCbGVuZE1vZGU9c3JjLmJsZW5kTW9kZTtjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXJlbmRlcmVyLmJsZW5kTW9kZXNbc3JjLmJsZW5kTW9kZV07fS8vICBBbHBoYVxuaWYocmVuZGVyZXIuY3VycmVudEFscGhhIT09c3JjLmFscGhhKXtyZW5kZXJlci5jdXJyZW50QWxwaGE9c3JjLmFscGhhO2N0eC5nbG9iYWxBbHBoYT1zcmMuYWxwaGE7fS8vICBTbW9vdGhpbmdcbmlmKHJlbmRlcmVyLmN1cnJlbnRTY2FsZU1vZGUhPT1zcmMuc2NhbGVNb2RlKXtyZW5kZXJlci5jdXJyZW50U2NhbGVNb2RlPXNyYy5zY2FsZU1vZGU7fWN0eC5zYXZlKCk7Y3R4LnRyYW5zbGF0ZShzcmMueCxzcmMueSk7Y3R4LnJvdGF0ZShzcmMucm90YXRpb24pO2N0eC5zY2FsZShzcmMuc2NhbGVYLHNyYy5zY2FsZVkpO2lmKHNyYy53aWR0aD4wJiZzcmMuaGVpZ2h0PjApe2N0eC5zYXZlKCk7Y3R4LmJlZ2luUGF0aCgpO2N0eC5yZWN0KDAsMCxzcmMud2lkdGgsc3JjLmhlaWdodCk7Y3R4LmNsaXAoKTtjdHguY2xvc2VQYXRoKCk7fWZvcih2YXIgaW5kZXg9MDtpbmRleDx0ZXh0TGVuZ3RoOysraW5kZXgpey8vICBSZXNldCB0aGUgc2NhbGUgKGluIGNhc2UgdGhlIGNhbGxiYWNrIGNoYW5nZWQgaXQpXG5zY2FsZT1zcmMuZm9udFNpemUvc3JjLmZvbnREYXRhLnNpemU7cm90YXRpb249MDtjaGFyQ29kZT10ZXh0LmNoYXJDb2RlQXQoaW5kZXgpO2lmKGNoYXJDb2RlPT09MTApe3hBZHZhbmNlPTA7aW5kZXhDb3VudD0wO3lBZHZhbmNlKz1saW5lSGVpZ2h0O2xhc3RHbHlwaD1udWxsO2NvbnRpbnVlO31nbHlwaD1jaGFyc1tjaGFyQ29kZV07aWYoIWdseXBoKXtjb250aW51ZTt9Z2x5cGhYPXRleHR1cmVYK2dseXBoLng7Z2x5cGhZPXRleHR1cmVZK2dseXBoLnk7Z2x5cGhXPWdseXBoLndpZHRoO2dseXBoSD1nbHlwaC5oZWlnaHQ7eD1pbmRleENvdW50K2dseXBoLnhPZmZzZXQreEFkdmFuY2Utc3JjLnNjcm9sbFg7eT1nbHlwaC55T2Zmc2V0K3lBZHZhbmNlLXNyYy5zY3JvbGxZOy8vICBUaGlzIGNvdWxkIGJlIG9wdGltaXplZCBzbyB0aGF0IGl0IGRvZXNuJ3QgZXZlbiBib3RoZXIgZHJhd2luZyBpdCBpZiB0aGUgeC95IGlzIG91dCBvZiByYW5nZVxuaWYobGFzdEdseXBoIT09bnVsbCl7dmFyIGtlcm5pbmdPZmZzZXQ9Z2x5cGgua2VybmluZ1tsYXN0Q2hhckNvZGVdO3grPWtlcm5pbmdPZmZzZXQhPT11bmRlZmluZWQ/a2VybmluZ09mZnNldDowO31pZihkaXNwbGF5Q2FsbGJhY2spe3ZhciBvdXRwdXQ9ZGlzcGxheUNhbGxiYWNrKHtpbmRleDppbmRleCxjaGFyQ29kZTpjaGFyQ29kZSx4OngseTp5LHNjYWxlOnNjYWxlLHJvdGF0aW9uOjAsZGF0YTpnbHlwaC5kYXRhfSk7eD1vdXRwdXQueDt5PW91dHB1dC55O3NjYWxlPW91dHB1dC5zY2FsZTtyb3RhdGlvbj1vdXRwdXQucm90YXRpb247fXgqPXNjYWxlO3kqPXNjYWxlO3gtPWNhbWVyYVNjcm9sbFg7eS09Y2FtZXJhU2Nyb2xsWTtjdHguc2F2ZSgpO2N0eC50cmFuc2xhdGUoeCx5KTtjdHgucm90YXRlKHJvdGF0aW9uKTtjdHguc2NhbGUoc2NhbGUsc2NhbGUpOy8vIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDI1NSwwLDAuMiknO1xuLy8gY3R4LmZpbGxSZWN0KDAsIDAsIGdseXBoVywgZ2x5cGhIKTtcbmN0eC5kcmF3SW1hZ2UoaW1hZ2UsZ2x5cGhYLGdseXBoWSxnbHlwaFcsZ2x5cGhILDAsMCxnbHlwaFcsZ2x5cGhIKTtjdHgucmVzdG9yZSgpO3hBZHZhbmNlKz1nbHlwaC54QWR2YW5jZTtpbmRleENvdW50Kz0xO2xhc3RHbHlwaD1nbHlwaDtsYXN0Q2hhckNvZGU9Y2hhckNvZGU7fWlmKHNyYy53aWR0aD4wJiZzcmMuaGVpZ2h0PjApe2N0eC5yZXN0b3JlKCk7fWN0eC5yZXN0b3JlKCk7fTttb2R1bGUuZXhwb3J0cz1EeW5hbWljQml0bWFwVGV4dENhbnZhc1JlbmRlcmVyOy8qKiovfSwvKiA1MTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUcmFuc2Zvcm1NYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxMyk7dmFyIHRlbXBNYXRyaXg9bmV3IFRyYW5zZm9ybU1hdHJpeCgpO3ZhciB0ZW1wTWF0cml4Q2hhcj1uZXcgVHJhbnNmb3JtTWF0cml4KCk7dmFyIER5bmFtaWNCaXRtYXBUZXh0V2ViR0xSZW5kZXJlcj1mdW5jdGlvbiBEeW5hbWljQml0bWFwVGV4dFdlYkdMUmVuZGVyZXIocmVuZGVyZXIsZ2FtZU9iamVjdCxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9dmFyIGRpc3BsYXlDYWxsYmFjaz1nYW1lT2JqZWN0LmRpc3BsYXlDYWxsYmFjazt2YXIgdGV4dHVyZUZyYW1lPWdhbWVPYmplY3QuZnJhbWU7dmFyIGNhbWVyYVNjcm9sbFg9Y2FtZXJhLnNjcm9sbFgqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JYO3ZhciBjYW1lcmFTY3JvbGxZPWNhbWVyYS5zY3JvbGxZKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWTt2YXIgdGV4dD1nYW1lT2JqZWN0LnRleHQ7dmFyIHRleHRMZW5ndGg9dGV4dC5sZW5ndGg7dmFyIGNoYXJzPWdhbWVPYmplY3QuZm9udERhdGEuY2hhcnM7dmFyIGxpbmVIZWlnaHQ9Z2FtZU9iamVjdC5mb250RGF0YS5saW5lSGVpZ2h0O3ZhciBzcHJpdGVCYXRjaD1yZW5kZXJlci5zcHJpdGVCYXRjaDt2YXIgYWxwaGE9Z2FtZU9iamVjdC5hbHBoYTt2YXIgdGludFRMPWdhbWVPYmplY3QuX3RpbnRUTDt2YXIgdGludFRSPWdhbWVPYmplY3QuX3RpbnRUUjt2YXIgdGludEJMPWdhbWVPYmplY3QuX3RpbnRCTDt2YXIgdGludEJSPWdhbWVPYmplY3QuX3RpbnRCUjt2YXIgdmVydGV4RGF0YUJ1ZmZlcj1zcHJpdGVCYXRjaC52ZXJ0ZXhEYXRhQnVmZmVyO3ZhciB2ZXJ0ZXhCdWZmZXI9dmVydGV4RGF0YUJ1ZmZlci5mbG9hdFZpZXc7dmFyIHZlcnRleEJ1ZmZlclUzMj12ZXJ0ZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciB2ZXJ0ZXhPZmZzZXQ9MDt2YXIgdGV4dHVyZURhdGE9Z2FtZU9iamVjdC50ZXh0dXJlLnNvdXJjZVt0ZXh0dXJlRnJhbWUuc291cmNlSW5kZXhdO3ZhciB0ZXh0dXJlWD10ZXh0dXJlRnJhbWUuY3V0WDt2YXIgdGV4dHVyZVk9dGV4dHVyZUZyYW1lLmN1dFk7dmFyIHRleHR1cmVXaWR0aD10ZXh0dXJlRGF0YS53aWR0aDt2YXIgdGV4dHVyZUhlaWdodD10ZXh0dXJlRGF0YS5oZWlnaHQ7dmFyIHRleHR1cmU9dGV4dHVyZURhdGEuZ2xUZXh0dXJlO3ZhciB4QWR2YW5jZT0wO3ZhciB5QWR2YW5jZT0wO3ZhciBpbmRleENvdW50PTA7dmFyIGNoYXJDb2RlPTA7dmFyIGdseXBoPW51bGw7dmFyIGdseXBoWD0wO3ZhciBnbHlwaFk9MDt2YXIgZ2x5cGhXPTA7dmFyIGdseXBoSD0wO3ZhciB4PTA7dmFyIHk9MDt2YXIgcm90YXRpb249MDt2YXIgeHc9MDt2YXIgeWg9MDt2YXIgdW1pbj0wO3ZhciB1bWF4PTA7dmFyIHZtaW49MDt2YXIgdm1heD0wO3ZhciBsYXN0R2x5cGg9bnVsbDt2YXIgbGFzdENoYXJDb2RlPTA7dmFyIHRlbXBNYXRyaXhNYXRyaXg9dGVtcE1hdHJpeC5tYXRyaXg7dmFyIGNhbWVyYU1hdHJpeD1jYW1lcmEubWF0cml4Lm1hdHJpeDt2YXIgbXZhLG12YixtdmMsbXZkLG12ZSxtdmYsdHgwLHR5MCx0eDEsdHkxLHR4Mix0eTIsdHgzLHR5Mzt2YXIgc3JhLHNyYixzcmMsc3JkLHNyZSxzcmYsY21hLGNtYixjbWMsY21kLGNtZSxjbWY7dmFyIHNjYWxlPWdhbWVPYmplY3QuZm9udFNpemUvZ2FtZU9iamVjdC5mb250RGF0YS5zaXplO3ZhciB1dGEsdXRiLHV0Yyx1dGQsdXRlLHV0Zjt2YXIgdGVtcE1hdHJpeENoYXJNYXRyaXg9dGVtcE1hdHJpeENoYXIubWF0cml4O3ZhciByZW5kZXJUYXJnZXQ9Z2FtZU9iamVjdC5yZW5kZXJUYXJnZXQ7dGVtcE1hdHJpeC5hcHBseUlUUlMoZ2FtZU9iamVjdC54LWNhbWVyYVNjcm9sbFgsZ2FtZU9iamVjdC55LWNhbWVyYVNjcm9sbFksLWdhbWVPYmplY3Qucm90YXRpb24sZ2FtZU9iamVjdC5zY2FsZVgsZ2FtZU9iamVjdC5zY2FsZVkpO3NyYT10ZW1wTWF0cml4TWF0cml4WzBdO3NyYj10ZW1wTWF0cml4TWF0cml4WzFdO3NyYz10ZW1wTWF0cml4TWF0cml4WzJdO3NyZD10ZW1wTWF0cml4TWF0cml4WzNdO3NyZT10ZW1wTWF0cml4TWF0cml4WzRdO3NyZj10ZW1wTWF0cml4TWF0cml4WzVdO2NtYT1jYW1lcmFNYXRyaXhbMF07Y21iPWNhbWVyYU1hdHJpeFsxXTtjbWM9Y2FtZXJhTWF0cml4WzJdO2NtZD1jYW1lcmFNYXRyaXhbM107Y21lPWNhbWVyYU1hdHJpeFs0XTtjbWY9Y2FtZXJhTWF0cml4WzVdO212YT1zcmEqY21hK3NyYipjbWM7bXZiPXNyYSpjbWIrc3JiKmNtZDttdmM9c3JjKmNtYStzcmQqY21jO212ZD1zcmMqY21iK3NyZCpjbWQ7bXZlPXNyZSpjbWErc3JmKmNtYytjbWU7bXZmPXNyZSpjbWIrc3JmKmNtZCtjbWY7dmFyIGdsPXJlbmRlcmVyLmdsO2lmKGdhbWVPYmplY3Qud2lkdGg+MCYmZ2FtZU9iamVjdC5oZWlnaHQ+MCl7aWYocmVuZGVyZXIuY3VycmVudFJlbmRlcmVyIT09bnVsbCl7cmVuZGVyZXIuY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7fWlmKCFyZW5kZXJlci5zY2lzc29yLmVuYWJsZWQpe2dsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO312YXIgc3c9Z2FtZU9iamVjdC53aWR0aCpnYW1lT2JqZWN0LnNjYWxlWDt2YXIgc2g9Z2FtZU9iamVjdC5oZWlnaHQqZ2FtZU9iamVjdC5zY2FsZVk7Z2wuc2Npc3NvcihnYW1lT2JqZWN0LngsZ2wuZHJhd2luZ0J1ZmZlckhlaWdodC1nYW1lT2JqZWN0Lnktc2gsc3csc2gpO31mb3IodmFyIGluZGV4PTA7aW5kZXg8dGV4dExlbmd0aDsrK2luZGV4KXtjaGFyQ29kZT10ZXh0LmNoYXJDb2RlQXQoaW5kZXgpO2lmKGNoYXJDb2RlPT09MTApe3hBZHZhbmNlPTA7aW5kZXhDb3VudD0wO3lBZHZhbmNlKz1saW5lSGVpZ2h0O2xhc3RHbHlwaD1udWxsO2NvbnRpbnVlO31nbHlwaD1jaGFyc1tjaGFyQ29kZV07aWYoIWdseXBoKXtjb250aW51ZTt9Z2x5cGhYPXRleHR1cmVYK2dseXBoLng7Z2x5cGhZPXRleHR1cmVZK2dseXBoLnk7Z2x5cGhXPWdseXBoLndpZHRoO2dseXBoSD1nbHlwaC5oZWlnaHQ7eD0oaW5kZXhDb3VudCtnbHlwaC54T2Zmc2V0K3hBZHZhbmNlKSpzY2FsZTt5PShnbHlwaC55T2Zmc2V0K3lBZHZhbmNlKSpzY2FsZTtyb3RhdGlvbj0wO2lmKGxhc3RHbHlwaCE9PW51bGwpe3ZhciBrZXJuaW5nT2Zmc2V0PWdseXBoLmtlcm5pbmdbbGFzdENoYXJDb2RlXTt4Kz1rZXJuaW5nT2Zmc2V0IT09dW5kZWZpbmVkP2tlcm5pbmdPZmZzZXQ6MDt9aWYoZGlzcGxheUNhbGxiYWNrKXt2YXIgb3V0cHV0PWRpc3BsYXlDYWxsYmFjayh7dGludDp7dG9wTGVmdDp0aW50VEwsdG9wUmlnaHQ6dGludFRSLGJvdHRvbUxlZnQ6dGludEJMLGJvdHRvbVJpZ2h0OnRpbnRCUn0saW5kZXg6aW5kZXgsY2hhckNvZGU6Y2hhckNvZGUseDp4LHk6eSxzY2FsZTpzY2FsZSxyb3RhdGlvbjowLGRhdGE6Z2x5cGguZGF0YX0pO3g9b3V0cHV0Lng7eT1vdXRwdXQueTtzY2FsZT1vdXRwdXQuc2NhbGU7cm90YXRpb249b3V0cHV0LnJvdGF0aW9uO3RpbnRUTD1vdXRwdXQudGludC50b3BMZWZ0O3RpbnRUUj1vdXRwdXQudGludC50b3BSaWdodDt0aW50Qkw9b3V0cHV0LnRpbnQuYm90dG9tTGVmdDt0aW50QlI9b3V0cHV0LnRpbnQuYm90dG9tUmlnaHQ7fXgtPWdhbWVPYmplY3Quc2Nyb2xsWHwwO3ktPWdhbWVPYmplY3Quc2Nyb2xsWXwwO3RlbXBNYXRyaXhDaGFyLmFwcGx5SVRSUyh4LHksLXJvdGF0aW9uLHNjYWxlLHNjYWxlKTt1dGE9dGVtcE1hdHJpeENoYXJNYXRyaXhbMF07dXRiPXRlbXBNYXRyaXhDaGFyTWF0cml4WzFdO3V0Yz10ZW1wTWF0cml4Q2hhck1hdHJpeFsyXTt1dGQ9dGVtcE1hdHJpeENoYXJNYXRyaXhbM107dXRlPXRlbXBNYXRyaXhDaGFyTWF0cml4WzRdO3V0Zj10ZW1wTWF0cml4Q2hhck1hdHJpeFs1XTtzcmE9dXRhKm12YSt1dGIqbXZjO3NyYj11dGEqbXZiK3V0YiptdmQ7c3JjPXV0YyptdmErdXRkKm12YztzcmQ9dXRjKm12Yit1dGQqbXZkO3NyZT11dGUqbXZhK3V0ZiptdmMrbXZlO3NyZj11dGUqbXZiK3V0ZiptdmQrbXZmO3h3PWdseXBoVzt5aD1nbHlwaEg7dHgwPXNyZTt0eTA9c3JmO3R4MT15aCpzcmMrc3JlO3R5MT15aCpzcmQrc3JmO3R4Mj14dypzcmEreWgqc3JjK3NyZTt0eTI9eHcqc3JiK3loKnNyZCtzcmY7dHgzPXh3KnNyYStzcmU7dHkzPXh3KnNyYitzcmY7dW1pbj1nbHlwaFgvdGV4dHVyZVdpZHRoO3VtYXg9KGdseXBoWCtnbHlwaFcpL3RleHR1cmVXaWR0aDt2bWluPWdseXBoWS90ZXh0dXJlSGVpZ2h0O3ZtYXg9KGdseXBoWStnbHlwaEgpL3RleHR1cmVIZWlnaHQ7aWYoc3ByaXRlQmF0Y2guZWxlbWVudENvdW50Pj1zcHJpdGVCYXRjaC5tYXhQYXJ0aWNsZXMpe3Nwcml0ZUJhdGNoLmZsdXNoKCk7fXJlbmRlcmVyLnNldFJlbmRlcmVyKHNwcml0ZUJhdGNoLHRleHR1cmUscmVuZGVyVGFyZ2V0KTt2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZSgyNCk7c3ByaXRlQmF0Y2guZWxlbWVudENvdW50Kz02O3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHgwO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHkwO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dW1pbjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXZtaW47dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT10aW50VEw7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXR4MTt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXR5MTt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXVtaW47dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT12bWF4O3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludEJMO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eDI7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eTI7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11bWF4O3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dm1heDt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRCUjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWFscGhhO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHgzO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHkzO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dW1heDt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXZtaW47dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT10aW50VFI7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt4QWR2YW5jZSs9Z2x5cGgueEFkdmFuY2U7aW5kZXhDb3VudCs9MTtsYXN0R2x5cGg9Z2x5cGg7bGFzdENoYXJDb2RlPWNoYXJDb2RlO31pZihnYW1lT2JqZWN0LndpZHRoPjAmJmdhbWVPYmplY3QuaGVpZ2h0PjApe3Nwcml0ZUJhdGNoLmZsdXNoKCk7aWYocmVuZGVyZXIuc2Npc3Nvci5lbmFibGVkKXtnbC5zY2lzc29yKHJlbmRlcmVyLnNjaXNzb3IueCxyZW5kZXJlci5zY2lzc29yLnkscmVuZGVyZXIuc2Npc3Nvci53aWR0aCxyZW5kZXJlci5zY2lzc29yLmhlaWdodCk7fWVsc2V7Z2wuc2Npc3NvcihjYW1lcmEueCxnbC5kcmF3aW5nQnVmZmVySGVpZ2h0LWNhbWVyYS55LWNhbWVyYS5oZWlnaHQsY2FtZXJhLndpZHRoLGNhbWVyYS5oZWlnaHQpO2dsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTt9fX07bW9kdWxlLmV4cG9ydHM9RHluYW1pY0JpdG1hcFRleHRXZWJHTFJlbmRlcmVyOy8qKiovfSwvKiA1MTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUaWxlbWFwPV9fd2VicGFja19yZXF1aXJlX18oNzQpO3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBCdWlsZEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgVGlsZW1hcENyZWF0b3I9ZnVuY3Rpb24gVGlsZW1hcENyZWF0b3Ioc2NlbmUsY29uZmlnKXt2YXIgbWFwRGF0YT1HZXRWYWx1ZShjb25maWcsJ21hcC5kYXRhJyxudWxsKTt2YXIgbWFwV2lkdGg9R2V0VmFsdWUoY29uZmlnLCdtYXAud2lkdGgnLDEpO3ZhciBtYXBIZWlnaHQ9R2V0VmFsdWUoY29uZmlnLCdtYXAuaGVpZ2h0JywxKTt2YXIgeD1HZXRWYWx1ZShjb25maWcsJ3gnLDApO3ZhciB5PUdldFZhbHVlKGNvbmZpZywneScsMCk7dmFyIHRpbGVXaWR0aD1HZXRWYWx1ZShjb25maWcsJ3RpbGUud2lkdGgnLDE2KTt2YXIgdGlsZUhlaWdodD1HZXRWYWx1ZShjb25maWcsJ3RpbGUuaGVpZ2h0JywxNik7dmFyIHRpbGVUZXh0dXJlPUdldFZhbHVlKGNvbmZpZywndGlsZS50ZXh0dXJlJyxudWxsKTt2YXIgdGlsZUZyYW1lPUdldFZhbHVlKGNvbmZpZywndGlsZS5mcmFtZScsbnVsbCk7dmFyIHRpbGVCb3JkZXI9R2V0VmFsdWUoY29uZmlnLCd0aWxlLmJvcmRlcicsMCk7dmFyIG1hcD1uZXcgVGlsZW1hcChzY2VuZSxtYXBEYXRhLHgseSx0aWxlV2lkdGgsdGlsZUhlaWdodCxtYXBXaWR0aCxtYXBIZWlnaHQsdGlsZUJvcmRlcix0aWxlVGV4dHVyZSx0aWxlRnJhbWUpO0J1aWxkR2FtZU9iamVjdChzY2VuZSxtYXAsY29uZmlnKTtyZXR1cm4gbWFwO307bW9kdWxlLmV4cG9ydHM9VGlsZW1hcENyZWF0b3I7LyoqKi99LC8qIDUxNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e3JlbmRlckNhbnZhczpfX3dlYnBhY2tfcmVxdWlyZV9fKDUxOCkscmVuZGVyV2ViR0w6X193ZWJwYWNrX3JlcXVpcmVfXyg1MTkpfTsvKioqL30sLyogNTE4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFRpbGVtYXBDYW52YXNSZW5kZXJlcj1mdW5jdGlvbiBUaWxlbWFwQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO319O21vZHVsZS5leHBvcnRzPVRpbGVtYXBDYW52YXNSZW5kZXJlcjsvKioqL30sLyogNTE5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFRpbGVtYXBXZWJHTFJlbmRlcmVyPWZ1bmN0aW9uIFRpbGVtYXBXZWJHTFJlbmRlcmVyKHJlbmRlcmVyLGdhbWVPYmplY3QsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXtpZih0aGlzLnJlbmRlck1hc2shPT10aGlzLnJlbmRlckZsYWdzKXtyZXR1cm47fXRoaXMuY3VsbChjYW1lcmEpO3ZhciByZW5kZXJUaWxlcz1nYW1lT2JqZWN0LmN1bGxlZFRpbGVzO3ZhciBsZW5ndGg9cmVuZGVyVGlsZXMubGVuZ3RoO3ZhciBiYXRjaD1yZW5kZXJlci5zcHJpdGVCYXRjaDt2YXIgdGV4dHVyZT1nYW1lT2JqZWN0LnRleHR1cmUuc291cmNlWzBdLmdsVGV4dHVyZTt2YXIgdGV4dHVyZVdpZHRoPXRleHR1cmUud2lkdGg7dmFyIHRleHR1cmVIZWlnaHQ9dGV4dHVyZS5oZWlnaHQ7dmFyIHJlbmRlclRhcmdldD1nYW1lT2JqZWN0LnJlbmRlclRhcmdldDt2YXIgc2Nyb2xsRmFjdG9yWD1nYW1lT2JqZWN0LnNjcm9sbEZhY3Rvclg7dmFyIHNjcm9sbEZhY3Rvclk9Z2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZO3ZhciBhbHBoYT1nYW1lT2JqZWN0LmFscGhhO3ZhciB4PWdhbWVPYmplY3QueDt2YXIgeT1nYW1lT2JqZWN0Lnk7Zm9yKHZhciBpbmRleD0wO2luZGV4PGxlbmd0aDsrK2luZGV4KXt2YXIgdGlsZT1yZW5kZXJUaWxlc1tpbmRleF07YmF0Y2guYWRkVGlsZVRleHR1cmVSZWN0KHRleHR1cmUseCt0aWxlLngseSt0aWxlLnksdGlsZS53aWR0aCx0aWxlLmhlaWdodCxhbHBoYSp0aWxlLmFscGhhLHRpbGUudGludCxzY3JvbGxGYWN0b3JYLHNjcm9sbEZhY3RvclksdGV4dHVyZVdpZHRoLHRleHR1cmVIZWlnaHQsdGlsZS5mcmFtZVgsdGlsZS5mcmFtZVksdGlsZS5mcmFtZVdpZHRoLHRpbGUuZnJhbWVIZWlnaHQsY2FtZXJhLHJlbmRlclRhcmdldCk7fX07bW9kdWxlLmV4cG9ydHM9VGlsZW1hcFdlYkdMUmVuZGVyZXI7LyoqKi99LC8qIDUyMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe2Z1bmN0aW9uIFRpbGUocHJvcGVydGllcyl7dGhpcy5pbmRleD1wcm9wZXJ0aWVzLmluZGV4O3RoaXMuaWQ9cHJvcGVydGllcy5pZDt0aGlzLng9cHJvcGVydGllcy54O3RoaXMueT1wcm9wZXJ0aWVzLnk7dGhpcy53aWR0aD1wcm9wZXJ0aWVzLndpZHRoO3RoaXMuaGVpZ2h0PXByb3BlcnRpZXMuaGVpZ2h0O3RoaXMuZnJhbWVYPXByb3BlcnRpZXMuZnJhbWVYO3RoaXMuZnJhbWVZPXByb3BlcnRpZXMuZnJhbWVZO3RoaXMuZnJhbWVXaWR0aD1wcm9wZXJ0aWVzLmZyYW1lV2lkdGg7dGhpcy5mcmFtZUhlaWdodD1wcm9wZXJ0aWVzLmZyYW1lSGVpZ2h0O3RoaXMuYWxwaGE9MS4wO3RoaXMudGludD0weEZGRkZGRjt0aGlzLnZpc2libGU9dHJ1ZTt0aGlzLnRleHR1cmVXaWR0aD1wcm9wZXJ0aWVzLnRleHR1cmVXaWR0aDt0aGlzLnRleHR1cmVIZWlnaHQ9cHJvcGVydGllcy50ZXh0dXJlSGVpZ2h0O3RoaXMuYm9yZGVyPXByb3BlcnRpZXMuYm9yZGVyO31UaWxlLnByb3RvdHlwZS5zZXRJZD1mdW5jdGlvbihpZCl7dmFyIHRpbGVJZD10aGlzLmlkPWlkO3ZhciB0aWxlV2lkdGg9dGhpcy53aWR0aDt2YXIgdGlsZUhlaWdodD10aGlzLmhlaWdodDt2YXIgc2V0V2lkdGg9dGhpcy50ZXh0dXJlV2lkdGgvdGlsZVdpZHRoO3ZhciB0aWxlV2lkdGhCb3JkZXI9dGlsZVdpZHRoK3RoaXMuYm9yZGVyKjI7dmFyIHRpbGVIZWlnaHRCb3JkZXI9dGlsZUhlaWdodCt0aGlzLmJvcmRlcioyO3ZhciBoYWxmVGlsZVdpZHRoPXRpbGVXaWR0aEJvcmRlciowLjU7dmFyIGhhbGZUaWxlSGVpZ2h0PXRpbGVIZWlnaHRCb3JkZXIqMC41O3ZhciByZWN0eD0odGlsZUlkJXNldFdpZHRofDApKnRpbGVXaWR0aEJvcmRlcitoYWxmVGlsZVdpZHRoO3ZhciByZWN0eT0odGlsZUlkL3NldFdpZHRofDApKnRpbGVIZWlnaHRCb3JkZXIraGFsZlRpbGVIZWlnaHQ7dGhpcy5mcmFtZVg9cmVjdHg7dGhpcy5mcmFtZVk9cmVjdHk7fTttb2R1bGUuZXhwb3J0cz1UaWxlOy8qKiovfSwvKiA1MjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBFZmZlY3RMYXllcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTt2YXIgR2V0QWR2YW5jZWRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO3ZhciBCdWlsZEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgRWZmZWN0TGF5ZXJDcmVhdG9yPWZ1bmN0aW9uIEVmZmVjdExheWVyQ3JlYXRvcihzY2VuZSxjb25maWcpe3ZhciB4PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd4JywwKTt2YXIgeT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywneScsMCk7dmFyIHdpZHRoPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd3aWR0aCcsNTEyKTt2YXIgaGVpZ2h0PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdoZWlnaHQnLDUxMik7dmFyIGtleT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywna2V5JyxudWxsKTt2YXIgZnJhZ21lbnRTaGFkZXI9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2ZyYWdtZW50U2hhZGVyJywnJyk7dmFyIGxheWVyPW5ldyBFZmZlY3RMYXllcihzY2VuZSx4LHksd2lkdGgsaGVpZ2h0LGVmZmVjdE5hbWUsZnJhZ21lbnRTaGFkZXIpO0J1aWxkR2FtZU9iamVjdChzY2VuZSxsYXllcixjb25maWcpO3JldHVybiBsYXllcjt9O21vZHVsZS5leHBvcnRzPUVmZmVjdExheWVyQ3JlYXRvcjsvKioqL30sLyogNTIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17cmVuZGVyQ2FudmFzOl9fd2VicGFja19yZXF1aXJlX18oNTIzKSxyZW5kZXJXZWJHTDpfX3dlYnBhY2tfcmVxdWlyZV9fKDUyNCl9Oy8qKiovfSwvKiA1MjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRWZmZWN0TGF5ZXJDYW52YXNSZW5kZXJlcj1mdW5jdGlvbiBFZmZlY3RMYXllckNhbnZhc1JlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe307bW9kdWxlLmV4cG9ydHM9RWZmZWN0TGF5ZXJDYW52YXNSZW5kZXJlcjsvKioqL30sLyogNTI0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEVmZmVjdExheWVyV2ViR0xSZW5kZXJlcj1mdW5jdGlvbiBFZmZlY3RMYXllcldlYkdMUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO31yZW5kZXJlci5lZmZlY3RSZW5kZXJlci5yZW5kZXJFZmZlY3Qoc3JjLGNhbWVyYSxzcmMucmVuZGVyVGV4dHVyZSxzcmMud2lkdGgsc3JjLmhlaWdodCk7fTttb2R1bGUuZXhwb3J0cz1FZmZlY3RMYXllcldlYkdMUmVuZGVyZXI7LyoqKi99LC8qIDUyNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdyYXBoaWNzPV9fd2VicGFja19yZXF1aXJlX18oNzYpO3ZhciBHcmFwaGljc0NyZWF0b3I9ZnVuY3Rpb24gR3JhcGhpY3NDcmVhdG9yKHNjZW5lLGNvbmZpZyl7cmV0dXJuIG5ldyBHcmFwaGljcyhzY2VuZSxjb25maWcpO307bW9kdWxlLmV4cG9ydHM9R3JhcGhpY3NDcmVhdG9yOy8qKiovfSwvKiA1MjYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtyZW5kZXJDYW52YXM6X193ZWJwYWNrX3JlcXVpcmVfXyg1MjcpLHJlbmRlcldlYkdMOl9fd2VicGFja19yZXF1aXJlX18oNTI4KX07LyoqKi99LC8qIDUyNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENvbW1hbmRzPV9fd2VicGFja19yZXF1aXJlX18oNzcpO3ZhciBNQVRIX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTApO3ZhciBHcmFwaGljc0NhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uIEdyYXBoaWNzQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSxyZW5kZXJUYXJnZXRDdHgpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9dmFyIGNhbWVyYVNjcm9sbFg9Y2FtZXJhLnNjcm9sbFgqc3JjLnNjcm9sbEZhY3Rvclg7dmFyIGNhbWVyYVNjcm9sbFk9Y2FtZXJhLnNjcm9sbFkqc3JjLnNjcm9sbEZhY3Rvclk7dmFyIHNyY1g9c3JjLng7dmFyIHNyY1k9c3JjLnk7dmFyIHNyY1NjYWxlWD1zcmMuc2NhbGVYO3ZhciBzcmNTY2FsZVk9c3JjLnNjYWxlWTt2YXIgc3JjUm90YXRpb249c3JjLnJvdGF0aW9uO3ZhciBjb21tYW5kQnVmZmVyPXNyYy5jb21tYW5kQnVmZmVyO3ZhciBjdHg9cmVuZGVyVGFyZ2V0Q3R4fHxyZW5kZXJlci5jdXJyZW50Q29udGV4dDt2YXIgdmFsdWU7dmFyIGxpbmVBbHBoYT0xLjA7dmFyIGZpbGxBbHBoYT0xLjA7dmFyIGxpbmVDb2xvcj0wO3ZhciBmaWxsQ29sb3I9MDt2YXIgbGluZVdpZHRoPTEuMDt2YXIgcmVkPTA7dmFyIGdyZWVuPTA7dmFyIGJsdWU9MDsvLyAgQmxlbmQgTW9kZVxuaWYocmVuZGVyZXIuY3VycmVudEJsZW5kTW9kZSE9PXNyYy5ibGVuZE1vZGUpe3JlbmRlcmVyLmN1cnJlbnRCbGVuZE1vZGU9c3JjLmJsZW5kTW9kZTtjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uPXJlbmRlcmVyLmJsZW5kTW9kZXNbc3JjLmJsZW5kTW9kZV07fS8vICBBbHBoYVxuaWYocmVuZGVyZXIuY3VycmVudEFscGhhIT09c3JjLmFscGhhKXtyZW5kZXJlci5jdXJyZW50QWxwaGE9c3JjLmFscGhhO2N0eC5nbG9iYWxBbHBoYT1zcmMuYWxwaGE7fS8vICBTbW9vdGhpbmdcbmlmKHJlbmRlcmVyLmN1cnJlbnRTY2FsZU1vZGUhPT1zcmMuc2NhbGVNb2RlKXtyZW5kZXJlci5jdXJyZW50U2NhbGVNb2RlPXNyYy5zY2FsZU1vZGU7fWN0eC5zYXZlKCk7Y3R4LnRyYW5zbGF0ZShzcmNYLWNhbWVyYVNjcm9sbFgsc3JjWS1jYW1lcmFTY3JvbGxZKTtjdHgucm90YXRlKHNyY1JvdGF0aW9uKTtjdHguc2NhbGUoc3JjU2NhbGVYLHNyY1NjYWxlWSk7Y3R4LmZpbGxTdHlsZT0nI2ZmZic7Y3R4Lmdsb2JhbEFscGhhPXNyYy5hbHBoYTtmb3IodmFyIGluZGV4PTAsbGVuZ3RoPWNvbW1hbmRCdWZmZXIubGVuZ3RoO2luZGV4PGxlbmd0aDsrK2luZGV4KXt2YXIgY29tbWFuZElEPWNvbW1hbmRCdWZmZXJbaW5kZXhdO3N3aXRjaChjb21tYW5kSUQpe2Nhc2UgQ29tbWFuZHMuQVJDOmN0eC5hcmMoY29tbWFuZEJ1ZmZlcltpbmRleCsxXSxjb21tYW5kQnVmZmVyW2luZGV4KzJdLGNvbW1hbmRCdWZmZXJbaW5kZXgrM10sY29tbWFuZEJ1ZmZlcltpbmRleCs0XSxjb21tYW5kQnVmZmVyW2luZGV4KzVdLGNvbW1hbmRCdWZmZXJbaW5kZXgrNl0pO2luZGV4Kz02O2JyZWFrO2Nhc2UgQ29tbWFuZHMuTElORV9TVFlMRTpsaW5lV2lkdGg9Y29tbWFuZEJ1ZmZlcltpbmRleCsxXTtsaW5lQ29sb3I9Y29tbWFuZEJ1ZmZlcltpbmRleCsyXTtsaW5lQWxwaGE9Y29tbWFuZEJ1ZmZlcltpbmRleCszXTtyZWQ9KGxpbmVDb2xvciYweEZGMDAwMCk+Pj4xNjtncmVlbj0obGluZUNvbG9yJjB4RkYwMCk+Pj44O2JsdWU9bGluZUNvbG9yJjB4RkY7Y3R4LnN0cm9rZVN0eWxlPSdyZ2JhKCcrcmVkKycsJytncmVlbisnLCcrYmx1ZSsnLCcrbGluZUFscGhhKycpJztjdHgubGluZVdpZHRoPWxpbmVXaWR0aDtpbmRleCs9MzticmVhaztjYXNlIENvbW1hbmRzLkZJTExfU1RZTEU6ZmlsbENvbG9yPWNvbW1hbmRCdWZmZXJbaW5kZXgrMV07ZmlsbEFscGhhPWNvbW1hbmRCdWZmZXJbaW5kZXgrMl07cmVkPShmaWxsQ29sb3ImMHhGRjAwMDApPj4+MTY7Z3JlZW49KGZpbGxDb2xvciYweEZGMDApPj4+ODtibHVlPWZpbGxDb2xvciYweEZGO2N0eC5maWxsU3R5bGU9J3JnYmEoJytyZWQrJywnK2dyZWVuKycsJytibHVlKycsJytmaWxsQWxwaGErJyknO2luZGV4Kz0yO2JyZWFrO2Nhc2UgQ29tbWFuZHMuQkVHSU5fUEFUSDpjdHguYmVnaW5QYXRoKCk7YnJlYWs7Y2FzZSBDb21tYW5kcy5DTE9TRV9QQVRIOmN0eC5jbG9zZVBhdGgoKTticmVhaztjYXNlIENvbW1hbmRzLkZJTExfUEFUSDpjdHguZmlsbCgpO2JyZWFrO2Nhc2UgQ29tbWFuZHMuU1RST0tFX1BBVEg6Y3R4LnN0cm9rZSgpO2JyZWFrO2Nhc2UgQ29tbWFuZHMuRklMTF9SRUNUOmN0eC5maWxsUmVjdChjb21tYW5kQnVmZmVyW2luZGV4KzFdLGNvbW1hbmRCdWZmZXJbaW5kZXgrMl0sY29tbWFuZEJ1ZmZlcltpbmRleCszXSxjb21tYW5kQnVmZmVyW2luZGV4KzRdKTtpbmRleCs9NDticmVhaztjYXNlIENvbW1hbmRzLkZJTExfVFJJQU5HTEU6Y3R4LmJlZ2luUGF0aCgpO2N0eC5tb3ZlVG8oY29tbWFuZEJ1ZmZlcltpbmRleCsxXSxjb21tYW5kQnVmZmVyW2luZGV4KzJdKTtjdHgubGluZVRvKGNvbW1hbmRCdWZmZXJbaW5kZXgrM10sY29tbWFuZEJ1ZmZlcltpbmRleCs0XSk7Y3R4LmxpbmVUbyhjb21tYW5kQnVmZmVyW2luZGV4KzVdLGNvbW1hbmRCdWZmZXJbaW5kZXgrNl0pO2N0eC5saW5lVG8oY29tbWFuZEJ1ZmZlcltpbmRleCsxXSxjb21tYW5kQnVmZmVyW2luZGV4KzJdKTtjdHguY2xvc2VQYXRoKCk7Y3R4LmZpbGwoKTtpbmRleCs9NjticmVhaztjYXNlIENvbW1hbmRzLlNUUk9LRV9UUklBTkdMRTpjdHguYmVnaW5QYXRoKCk7Y3R4Lm1vdmVUbyhjb21tYW5kQnVmZmVyW2luZGV4KzFdLGNvbW1hbmRCdWZmZXJbaW5kZXgrMl0pO2N0eC5saW5lVG8oY29tbWFuZEJ1ZmZlcltpbmRleCszXSxjb21tYW5kQnVmZmVyW2luZGV4KzRdKTtjdHgubGluZVRvKGNvbW1hbmRCdWZmZXJbaW5kZXgrNV0sY29tbWFuZEJ1ZmZlcltpbmRleCs2XSk7Y3R4LmxpbmVUbyhjb21tYW5kQnVmZmVyW2luZGV4KzFdLGNvbW1hbmRCdWZmZXJbaW5kZXgrMl0pO2N0eC5jbG9zZVBhdGgoKTtjdHguc3Ryb2tlKCk7aW5kZXgrPTY7YnJlYWs7Y2FzZSBDb21tYW5kcy5MSU5FX1RPOmN0eC5saW5lVG8oY29tbWFuZEJ1ZmZlcltpbmRleCsxXSxjb21tYW5kQnVmZmVyW2luZGV4KzJdKTtpbmRleCs9MjticmVhaztjYXNlIENvbW1hbmRzLk1PVkVfVE86Y3R4Lm1vdmVUbyhjb21tYW5kQnVmZmVyW2luZGV4KzFdLGNvbW1hbmRCdWZmZXJbaW5kZXgrMl0pO2luZGV4Kz0yO2JyZWFrO2Nhc2UgQ29tbWFuZHMuTElORV9GWF9UTzpjdHgubGluZVRvKGNvbW1hbmRCdWZmZXJbaW5kZXgrMV0sY29tbWFuZEJ1ZmZlcltpbmRleCsyXSk7aW5kZXgrPTU7YnJlYWs7Y2FzZSBDb21tYW5kcy5NT1ZFX0ZYX1RPOmN0eC5tb3ZlVG8oY29tbWFuZEJ1ZmZlcltpbmRleCsxXSxjb21tYW5kQnVmZmVyW2luZGV4KzJdKTtpbmRleCs9NTticmVhaztjYXNlIENvbW1hbmRzLlNBVkU6Y3R4LnNhdmUoKTticmVhaztjYXNlIENvbW1hbmRzLlJFU1RPUkU6Y3R4LnJlc3RvcmUoKTticmVhaztjYXNlIENvbW1hbmRzLlRSQU5TTEFURTpjdHgudHJhbnNsYXRlKGNvbW1hbmRCdWZmZXJbaW5kZXgrMV0sY29tbWFuZEJ1ZmZlcltpbmRleCsyXSk7aW5kZXgrPTI7YnJlYWs7Y2FzZSBDb21tYW5kcy5TQ0FMRTpjdHguc2NhbGUoY29tbWFuZEJ1ZmZlcltpbmRleCsxXSxjb21tYW5kQnVmZmVyW2luZGV4KzJdKTtpbmRleCs9MjticmVhaztjYXNlIENvbW1hbmRzLlJPVEFURTpjdHgucm90YXRlKGNvbW1hbmRCdWZmZXJbaW5kZXgrMV0pO2luZGV4Kz0xO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcignUGhhc2VyOiBJbnZhbGlkIEdyYXBoaWNzIENvbW1hbmQgSUQgJytjb21tYW5kSUQpO2JyZWFrO319Y3R4LnJlc3RvcmUoKTt9O21vZHVsZS5leHBvcnRzPUdyYXBoaWNzQ2FudmFzUmVuZGVyZXI7LyoqKi99LC8qIDUyOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENvbW1hbmRzPV9fd2VicGFja19yZXF1aXJlX18oNzcpO3ZhciBUcmFuc2Zvcm1NYXRyaXg9X193ZWJwYWNrX3JlcXVpcmVfXygxMyk7dmFyIHBhdGhBcnJheT1bXTt2YXIgY29zPU1hdGguY29zO3ZhciBzaW49TWF0aC5zaW47dmFyIHNxcnQ9TWF0aC5zcXJ0O3ZhciB0ZW1wTWF0cml4PW5ldyBUcmFuc2Zvcm1NYXRyaXgoKTt2YXIgbWF0cml4U3RhY2s9bmV3IEZsb2F0MzJBcnJheSg2KjEwMDApO3ZhciBtYXRyaXhTdGFja0xlbmd0aD0wO3ZhciBjdXJyZW50TWF0cml4PW5ldyBUcmFuc2Zvcm1NYXRyaXgoKTt2YXIgUG9pbnQ9ZnVuY3Rpb24gUG9pbnQoeCx5LHdpZHRoLHJnYixhbHBoYSl7dGhpcy54PXg7dGhpcy55PXk7dGhpcy53aWR0aD13aWR0aDt0aGlzLnJnYj1yZ2I7dGhpcy5hbHBoYT1hbHBoYTt9O3ZhciBQYXRoPWZ1bmN0aW9uIFBhdGgoeCx5LHdpZHRoLHJnYixhbHBoYSl7dGhpcy5wb2ludHM9W107dGhpcy5wb2ludHNMZW5ndGg9MTt0aGlzLnBvaW50c1swXT1uZXcgUG9pbnQoeCx5LHdpZHRoLHJnYixhbHBoYSk7fTt2YXIgR3JhcGhpY3NXZWJHTFJlbmRlcmVyPWZ1bmN0aW9uIEdyYXBoaWNzV2ViR0xSZW5kZXJlcihyZW5kZXJlcixnYW1lT2JqZWN0LGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSxmb3JjZVJlbmRlclRhcmdldCl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO312YXIgcmVuZGVyVGFyZ2V0PWZvcmNlUmVuZGVyVGFyZ2V0fHxnYW1lT2JqZWN0LnJlbmRlclRhcmdldDt2YXIgc2hhcGVCYXRjaD1yZW5kZXJlci5zaGFwZUJhdGNoO3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXNoYXBlQmF0Y2gudmVydGV4RGF0YUJ1ZmZlcjt2YXIgdmVydGV4QnVmZmVyRjMyPXZlcnRleERhdGFCdWZmZXIuZmxvYXRWaWV3O3ZhciB2ZXJ0ZXhCdWZmZXJVMzI9dmVydGV4RGF0YUJ1ZmZlci51aW50Vmlldzt2YXIgdmVydGV4T2Zmc2V0PTA7dmFyIGNhbWVyYVNjcm9sbFg9Y2FtZXJhLnNjcm9sbFgqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JYO3ZhciBjYW1lcmFTY3JvbGxZPWNhbWVyYS5zY3JvbGxZKmdhbWVPYmplY3Quc2Nyb2xsRmFjdG9yWTt2YXIgc3JjWD1nYW1lT2JqZWN0LngtY2FtZXJhU2Nyb2xsWDt2YXIgc3JjWT1nYW1lT2JqZWN0LnktY2FtZXJhU2Nyb2xsWTt2YXIgc3JjU2NhbGVYPWdhbWVPYmplY3Quc2NhbGVYO3ZhciBzcmNTY2FsZVk9Z2FtZU9iamVjdC5zY2FsZVk7dmFyIHNyY1JvdGF0aW9uPS1nYW1lT2JqZWN0LnJvdGF0aW9uO3ZhciBjb21tYW5kQnVmZmVyPWdhbWVPYmplY3QuY29tbWFuZEJ1ZmZlcjt2YXIgdmFsdWU7dmFyIGxpbmVBbHBoYT0xLjA7dmFyIGZpbGxBbHBoYT0xLjA7dmFyIGxpbmVDb2xvcj0wO3ZhciBmaWxsQ29sb3I9MDt2YXIgbGluZVdpZHRoPTEuMDt2YXIgY2FtZXJhTWF0cml4PWNhbWVyYS5tYXRyaXgubWF0cml4O3ZhciBsYXN0UGF0aD1udWxsO3ZhciBpdGVyYXRpb249MDt2YXIgaXRlclN0ZXA9MC4wMTt2YXIgdHg9MDt2YXIgdHk9MDt2YXIgdGE9MDt2YXIgeCx5LHJhZGl1cyxzdGFydEFuZ2xlLGVuZEFuZ2xlLGFudGljbG9ja3dpc2U7dmFyIHdpZHRoLGhlaWdodCx0eHcsdHloO3ZhciB2ZXJ0ZXhDb3VudD1zaGFwZUJhdGNoLnZlcnRleENvdW50O3ZhciBwb2x5Z29uPVtdO3ZhciB4MCx5MCx4MSx5MSx4Mix5Mjt2YXIgdHgwLHR5MCx0eDEsdHkxLHR4Mix0eTI7dmFyIHYwLHYxLHYyO3ZhciBwb2x5Z29uSW5kZXg7dmFyIHBhdGg7dmFyIHBhdGhMZW5ndGg7dmFyIHBvaW50O3ZhciBtYXhWZXJ0aWNlcz1zaGFwZUJhdGNoLm1heFZlcnRpY2VzO3ZhciB0cmFuc2xhdGVYLHRyYW5zbGF0ZVk7dmFyIHRlbXBNYXRyaXhNYXRyaXg9dGVtcE1hdHJpeC5tYXRyaXg7dmFyIHNyYSxzcmIsc3JjLHNyZCxzcmUsc3JmLGNtYSxjbWIsY21jLGNtZCxjbWUsY21mO3ZhciBtdmEsbXZiLG12YyxtdmQsbXZlLG12Zjt0ZW1wTWF0cml4LmFwcGx5SVRSUyhzcmNYLHNyY1ksc3JjUm90YXRpb24sc3JjU2NhbGVYLHNyY1NjYWxlWSk7c3JhPXRlbXBNYXRyaXhNYXRyaXhbMF07c3JiPXRlbXBNYXRyaXhNYXRyaXhbMV07c3JjPXRlbXBNYXRyaXhNYXRyaXhbMl07c3JkPXRlbXBNYXRyaXhNYXRyaXhbM107c3JlPXRlbXBNYXRyaXhNYXRyaXhbNF07c3JmPXRlbXBNYXRyaXhNYXRyaXhbNV07Y21hPWNhbWVyYU1hdHJpeFswXTtjbWI9Y2FtZXJhTWF0cml4WzFdO2NtYz1jYW1lcmFNYXRyaXhbMl07Y21kPWNhbWVyYU1hdHJpeFszXTtjbWU9Y2FtZXJhTWF0cml4WzRdO2NtZj1jYW1lcmFNYXRyaXhbNV07bXZhPXNyYSpjbWErc3JiKmNtYzttdmI9c3JhKmNtYitzcmIqY21kO212Yz1zcmMqY21hK3NyZCpjbWM7bXZkPXNyYypjbWIrc3JkKmNtZDttdmU9c3JlKmNtYStzcmYqY21jK2NtZTttdmY9c3JlKmNtYitzcmYqY21kK2NtZjtyZW5kZXJlci5zZXRSZW5kZXJlcihzaGFwZUJhdGNoLG51bGwscmVuZGVyVGFyZ2V0KTtmb3IodmFyIGNtZEluZGV4PTAsY21kTGVuZ3RoPWNvbW1hbmRCdWZmZXIubGVuZ3RoO2NtZEluZGV4PGNtZExlbmd0aDsrK2NtZEluZGV4KXt2YXIgY21kPWNvbW1hbmRCdWZmZXJbY21kSW5kZXhdO3N3aXRjaChjbWQpe2Nhc2UgQ29tbWFuZHMuQVJDOml0ZXJhdGlvbj0wO3g9Y29tbWFuZEJ1ZmZlcltjbWRJbmRleCsxXTt5PWNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMl07cmFkaXVzPWNvbW1hbmRCdWZmZXJbY21kSW5kZXgrM107c3RhcnRBbmdsZT1jb21tYW5kQnVmZmVyW2NtZEluZGV4KzRdO2VuZEFuZ2xlPWNvbW1hbmRCdWZmZXJbY21kSW5kZXgrNV07YW50aWNsb2Nrd2lzZT1jb21tYW5kQnVmZmVyW2NtZEluZGV4KzZdO3doaWxlKGl0ZXJhdGlvbjwxKXt0YT0oZW5kQW5nbGUtc3RhcnRBbmdsZSkqaXRlcmF0aW9uK3N0YXJ0QW5nbGU7dHg9eCtjb3ModGEpKnJhZGl1czt0eT15K3Npbih0YSkqcmFkaXVzO2lmKGl0ZXJhdGlvbj09PTApe2xhc3RQYXRoPW5ldyBQYXRoKHR4LHR5LGxpbmVXaWR0aCxsaW5lQ29sb3IsbGluZUFscGhhKTtwYXRoQXJyYXkucHVzaChsYXN0UGF0aCk7fWVsc2V7bGFzdFBhdGgucG9pbnRzLnB1c2gobmV3IFBvaW50KHR4LHR5LGxpbmVXaWR0aCxsaW5lQ29sb3IsbGluZUFscGhhKSk7fWl0ZXJhdGlvbis9aXRlclN0ZXA7fWNtZEluZGV4Kz02O2JyZWFrO2Nhc2UgQ29tbWFuZHMuTElORV9TVFlMRTpsaW5lV2lkdGg9Y29tbWFuZEJ1ZmZlcltjbWRJbmRleCsxXTtsaW5lQ29sb3I9Y29tbWFuZEJ1ZmZlcltjbWRJbmRleCsyXTtsaW5lQWxwaGE9Y29tbWFuZEJ1ZmZlcltjbWRJbmRleCszXTtjbWRJbmRleCs9MzticmVhaztjYXNlIENvbW1hbmRzLkZJTExfU1RZTEU6ZmlsbENvbG9yPWNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMV07ZmlsbEFscGhhPWNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMl07Y21kSW5kZXgrPTI7YnJlYWs7Y2FzZSBDb21tYW5kcy5CRUdJTl9QQVRIOnBhdGhBcnJheS5sZW5ndGg9MDticmVhaztjYXNlIENvbW1hbmRzLkNMT1NFX1BBVEg6aWYobGFzdFBhdGghPT1udWxsJiZsYXN0UGF0aC5wb2ludHMubGVuZ3RoPjApe3ZhciBmaXJzdFBvaW50PWxhc3RQYXRoLnBvaW50c1swXTt2YXIgbGFzdFBvaW50PWxhc3RQYXRoLnBvaW50c1tsYXN0UGF0aC5wb2ludHMubGVuZ3RoLTFdO2xhc3RQYXRoLnBvaW50cy5wdXNoKGZpcnN0UG9pbnQpO2xhc3RQYXRoPW5ldyBQYXRoKGxhc3RQb2ludC54LGxhc3RQb2ludC55LGxhc3RQb2ludC53aWR0aCxsYXN0UG9pbnQucmdiLGxhc3RQb2ludC5hbHBoYSk7cGF0aEFycmF5LnB1c2gobGFzdFBhdGgpO31icmVhaztjYXNlIENvbW1hbmRzLkZJTExfUEFUSDpmb3IodmFyIHBhdGhBcnJheUluZGV4PTAscGF0aEFycmF5TGVuZ3RoPXBhdGhBcnJheS5sZW5ndGg7cGF0aEFycmF5SW5kZXg8cGF0aEFycmF5TGVuZ3RoOysrcGF0aEFycmF5SW5kZXgpe3NoYXBlQmF0Y2guYWRkRmlsbFBhdGgoLyogR3JhcGhpY3MgR2FtZSBPYmplY3QgUHJvcGVydGllcyAqL3NyY1gsc3JjWSxzcmNTY2FsZVgsc3JjU2NhbGVZLHNyY1JvdGF0aW9uLC8qIFJlY3RhbmdsZSBwcm9wZXJ0aWVzICovcGF0aEFycmF5W3BhdGhBcnJheUluZGV4XS5wb2ludHMsZmlsbENvbG9yLGZpbGxBbHBoYSwvKiBUcmFuc2Zvcm0gKi9tdmEsbXZiLG12YyxtdmQsbXZlLG12ZixjdXJyZW50TWF0cml4KTt9YnJlYWs7Y2FzZSBDb21tYW5kcy5TVFJPS0VfUEFUSDpmb3IodmFyIHBhdGhBcnJheUluZGV4PTAscGF0aEFycmF5TGVuZ3RoPXBhdGhBcnJheS5sZW5ndGg7cGF0aEFycmF5SW5kZXg8cGF0aEFycmF5TGVuZ3RoOysrcGF0aEFycmF5SW5kZXgpe3ZhciBwYXRoPXBhdGhBcnJheVtwYXRoQXJyYXlJbmRleF07c2hhcGVCYXRjaC5hZGRTdHJva2VQYXRoKC8qIEdyYXBoaWNzIEdhbWUgT2JqZWN0IFByb3BlcnRpZXMgKi9zcmNYLHNyY1ksc3JjU2NhbGVYLHNyY1NjYWxlWSxzcmNSb3RhdGlvbiwvKiBSZWN0YW5nbGUgcHJvcGVydGllcyAqL3BhdGgucG9pbnRzLGxpbmVXaWR0aCxsaW5lQ29sb3IsbGluZUFscGhhLC8qIFRyYW5zZm9ybSAqL212YSxtdmIsbXZjLG12ZCxtdmUsbXZmLHBhdGg9PT10aGlzLl9sYXN0UGF0aCxjdXJyZW50TWF0cml4KTt9YnJlYWs7Y2FzZSBDb21tYW5kcy5GSUxMX1JFQ1Q6c2hhcGVCYXRjaC5hZGRGaWxsUmVjdCgvKiBHcmFwaGljcyBHYW1lIE9iamVjdCBQcm9wZXJ0aWVzICovc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24sLyogUmVjdGFuZ2xlIHByb3BlcnRpZXMgKi9jb21tYW5kQnVmZmVyW2NtZEluZGV4KzFdLWNhbWVyYVNjcm9sbFgsY29tbWFuZEJ1ZmZlcltjbWRJbmRleCsyXS1jYW1lcmFTY3JvbGxZLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrM10sY29tbWFuZEJ1ZmZlcltjbWRJbmRleCs0XSxmaWxsQ29sb3IsZmlsbEFscGhhLC8qIFRyYW5zZm9ybSAqL212YSxtdmIsbXZjLG12ZCxtdmUsbXZmLGN1cnJlbnRNYXRyaXgpO2NtZEluZGV4Kz00O2JyZWFrO2Nhc2UgQ29tbWFuZHMuRklMTF9UUklBTkdMRTpzaGFwZUJhdGNoLmFkZEZpbGxUcmlhbmdsZSgvKiBHcmFwaGljcyBHYW1lIE9iamVjdCBQcm9wZXJ0aWVzICovc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24sLyogVHJpYW5nbGUgcHJvcGVydGllcyAqL2NvbW1hbmRCdWZmZXJbY21kSW5kZXgrMV0tY2FtZXJhU2Nyb2xsWCxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzJdLWNhbWVyYVNjcm9sbFksY29tbWFuZEJ1ZmZlcltjbWRJbmRleCszXS1jYW1lcmFTY3JvbGxYLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrNF0tY2FtZXJhU2Nyb2xsWSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzVdLWNhbWVyYVNjcm9sbFgsY29tbWFuZEJ1ZmZlcltjbWRJbmRleCs2XS1jYW1lcmFTY3JvbGxZLGZpbGxDb2xvcixmaWxsQWxwaGEsLyogVHJhbnNmb3JtICovbXZhLG12YixtdmMsbXZkLG12ZSxtdmYsY3VycmVudE1hdHJpeCk7Y21kSW5kZXgrPTY7YnJlYWs7Y2FzZSBDb21tYW5kcy5TVFJPS0VfVFJJQU5HTEU6c2hhcGVCYXRjaC5hZGRTdHJva2VUcmlhbmdsZSgvKiBHcmFwaGljcyBHYW1lIE9iamVjdCBQcm9wZXJ0aWVzICovc3JjWCxzcmNZLHNyY1NjYWxlWCxzcmNTY2FsZVksc3JjUm90YXRpb24sLyogVHJpYW5nbGUgcHJvcGVydGllcyAqL2NvbW1hbmRCdWZmZXJbY21kSW5kZXgrMV0tY2FtZXJhU2Nyb2xsWCxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzJdLWNhbWVyYVNjcm9sbFksY29tbWFuZEJ1ZmZlcltjbWRJbmRleCszXS1jYW1lcmFTY3JvbGxYLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrNF0tY2FtZXJhU2Nyb2xsWSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzVdLWNhbWVyYVNjcm9sbFgsY29tbWFuZEJ1ZmZlcltjbWRJbmRleCs2XS1jYW1lcmFTY3JvbGxZLGxpbmVXaWR0aCxsaW5lQ29sb3IsbGluZUFscGhhLC8qIFRyYW5zZm9ybSAqL212YSxtdmIsbXZjLG12ZCxtdmUsbXZmLGN1cnJlbnRNYXRyaXgpO2NtZEluZGV4Kz02O2JyZWFrO2Nhc2UgQ29tbWFuZHMuTElORV9UTzppZihsYXN0UGF0aCE9PW51bGwpe2xhc3RQYXRoLnBvaW50cy5wdXNoKG5ldyBQb2ludChjb21tYW5kQnVmZmVyW2NtZEluZGV4KzFdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMl0sbGluZVdpZHRoLGxpbmVDb2xvcixsaW5lQWxwaGEpKTt9ZWxzZXtsYXN0UGF0aD1uZXcgUGF0aChjb21tYW5kQnVmZmVyW2NtZEluZGV4KzFdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMl0sbGluZVdpZHRoLGxpbmVDb2xvcixsaW5lQWxwaGEpO3BhdGhBcnJheS5wdXNoKGxhc3RQYXRoKTt9Y21kSW5kZXgrPTI7YnJlYWs7Y2FzZSBDb21tYW5kcy5NT1ZFX1RPOmxhc3RQYXRoPW5ldyBQYXRoKGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMV0sY29tbWFuZEJ1ZmZlcltjbWRJbmRleCsyXSxsaW5lV2lkdGgsbGluZUNvbG9yLGxpbmVBbHBoYSk7cGF0aEFycmF5LnB1c2gobGFzdFBhdGgpO2NtZEluZGV4Kz0yO2JyZWFrO2Nhc2UgQ29tbWFuZHMuTElORV9GWF9UTzppZihsYXN0UGF0aCE9PW51bGwpe2xhc3RQYXRoLnBvaW50cy5wdXNoKG5ldyBQb2ludChjb21tYW5kQnVmZmVyW2NtZEluZGV4KzFdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMl0sY29tbWFuZEJ1ZmZlcltjbWRJbmRleCszXSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzRdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrNV0pKTt9ZWxzZXtsYXN0UGF0aD1uZXcgUGF0aChjb21tYW5kQnVmZmVyW2NtZEluZGV4KzFdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMl0sY29tbWFuZEJ1ZmZlcltjbWRJbmRleCszXSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzRdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrNV0pO3BhdGhBcnJheS5wdXNoKGxhc3RQYXRoKTt9Y21kSW5kZXgrPTU7YnJlYWs7Y2FzZSBDb21tYW5kcy5NT1ZFX0ZYX1RPOmxhc3RQYXRoPW5ldyBQYXRoKGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrMV0sY29tbWFuZEJ1ZmZlcltjbWRJbmRleCsyXSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzNdLGNvbW1hbmRCdWZmZXJbY21kSW5kZXgrNF0sY29tbWFuZEJ1ZmZlcltjbWRJbmRleCs1XSk7cGF0aEFycmF5LnB1c2gobGFzdFBhdGgpO2NtZEluZGV4Kz01O2JyZWFrO2Nhc2UgQ29tbWFuZHMuU0FWRTptYXRyaXhTdGFja1ttYXRyaXhTdGFja0xlbmd0aCswXT1jdXJyZW50TWF0cml4Lm1hdHJpeFswXTttYXRyaXhTdGFja1ttYXRyaXhTdGFja0xlbmd0aCsxXT1jdXJyZW50TWF0cml4Lm1hdHJpeFsxXTttYXRyaXhTdGFja1ttYXRyaXhTdGFja0xlbmd0aCsyXT1jdXJyZW50TWF0cml4Lm1hdHJpeFsyXTttYXRyaXhTdGFja1ttYXRyaXhTdGFja0xlbmd0aCszXT1jdXJyZW50TWF0cml4Lm1hdHJpeFszXTttYXRyaXhTdGFja1ttYXRyaXhTdGFja0xlbmd0aCs0XT1jdXJyZW50TWF0cml4Lm1hdHJpeFs0XTttYXRyaXhTdGFja1ttYXRyaXhTdGFja0xlbmd0aCs1XT1jdXJyZW50TWF0cml4Lm1hdHJpeFs1XTttYXRyaXhTdGFja0xlbmd0aCs9NjticmVhaztjYXNlIENvbW1hbmRzLlJFU1RPUkU6bWF0cml4U3RhY2tMZW5ndGgtPTY7Y3VycmVudE1hdHJpeC5tYXRyaXhbMF09bWF0cml4U3RhY2tbbWF0cml4U3RhY2tMZW5ndGgrMF07Y3VycmVudE1hdHJpeC5tYXRyaXhbMV09bWF0cml4U3RhY2tbbWF0cml4U3RhY2tMZW5ndGgrMV07Y3VycmVudE1hdHJpeC5tYXRyaXhbMl09bWF0cml4U3RhY2tbbWF0cml4U3RhY2tMZW5ndGgrMl07Y3VycmVudE1hdHJpeC5tYXRyaXhbM109bWF0cml4U3RhY2tbbWF0cml4U3RhY2tMZW5ndGgrM107Y3VycmVudE1hdHJpeC5tYXRyaXhbNF09bWF0cml4U3RhY2tbbWF0cml4U3RhY2tMZW5ndGgrNF07Y3VycmVudE1hdHJpeC5tYXRyaXhbNV09bWF0cml4U3RhY2tbbWF0cml4U3RhY2tMZW5ndGgrNV07YnJlYWs7Y2FzZSBDb21tYW5kcy5UUkFOU0xBVEU6Y3VycmVudE1hdHJpeC50cmFuc2xhdGUoY29tbWFuZEJ1ZmZlcltjbWRJbmRleCsxXSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzJdKTtjbWRJbmRleCs9MjticmVhaztjYXNlIENvbW1hbmRzLlNDQUxFOmN1cnJlbnRNYXRyaXguc2NhbGUoY29tbWFuZEJ1ZmZlcltjbWRJbmRleCsxXSxjb21tYW5kQnVmZmVyW2NtZEluZGV4KzJdKTtjbWRJbmRleCs9MjticmVhaztjYXNlIENvbW1hbmRzLlJPVEFURTpjdXJyZW50TWF0cml4LnJvdGF0ZSgtY29tbWFuZEJ1ZmZlcltjbWRJbmRleCsxXSk7Y21kSW5kZXgrPTE7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCdQaGFzZXI6IEludmFsaWQgR3JhcGhpY3MgQ29tbWFuZCBJRCAnK2NtZCk7YnJlYWs7fX1jdXJyZW50TWF0cml4LmxvYWRJZGVudGl0eSgpO3BhdGhBcnJheS5sZW5ndGg9MDt9O21vZHVsZS5leHBvcnRzPUdyYXBoaWNzV2ViR0xSZW5kZXJlcjsvKioqL30sLyogNTI5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR3JvdXA9X193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7dmFyIEdyb3VwQ3JlYXRvcj1mdW5jdGlvbiBHcm91cENyZWF0b3Ioc2NlbmUsY29uZmlnKXtyZXR1cm4gbmV3IEdyb3VwKHNjZW5lLG51bGwsY29uZmlnKTt9O21vZHVsZS5leHBvcnRzPUdyb3VwQ3JlYXRvcjsvKioqL30sLyogNTMwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17cmVuZGVyQ2FudmFzOl9fd2VicGFja19yZXF1aXJlX18oNTMxKSxyZW5kZXJXZWJHTDpfX3dlYnBhY2tfcmVxdWlyZV9fKDUzMil9Oy8qKiovfSwvKiA1MzEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU3ByaXRlQ2FudmFzUmVuZGVyZXI9ZnVuY3Rpb24gU3ByaXRlQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrPT09dGhpcy5yZW5kZXJGbGFncyl7cmVuZGVyZXIuZHJhd0ltYWdlKHNyYyxjYW1lcmEpO319O21vZHVsZS5leHBvcnRzPVNwcml0ZUNhbnZhc1JlbmRlcmVyOy8qKiovfSwvKiA1MzIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU3ByaXRlV2ViR0xSZW5kZXJlcj1mdW5jdGlvbiBTcHJpdGVXZWJHTFJlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9cmVuZGVyZXIuc3ByaXRlQmF0Y2guYWRkU3ByaXRlKHNyYyxjYW1lcmEpO307bW9kdWxlLmV4cG9ydHM9U3ByaXRlV2ViR0xSZW5kZXJlcjsvKioqL30sLyogNTMzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgSW1hZ2U9X193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7dmFyIEdldEFkdmFuY2VkVmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg1KTt2YXIgQnVpbGRHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oOSk7dmFyIEltYWdlQ3JlYXRvcj1mdW5jdGlvbiBJbWFnZUNyZWF0b3Ioc2NlbmUsY29uZmlnKXt2YXIga2V5PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdrZXknLG51bGwpO3ZhciBmcmFtZT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnZnJhbWUnLG51bGwpO3ZhciBpbWFnZT1uZXcgSW1hZ2Uoc2NlbmUsMCwwLGtleSxmcmFtZSk7QnVpbGRHYW1lT2JqZWN0KHNjZW5lLGltYWdlLGNvbmZpZyk7cmV0dXJuIGltYWdlO307bW9kdWxlLmV4cG9ydHM9SW1hZ2VDcmVhdG9yOy8qKiovfSwvKiA1MzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtyZW5kZXJDYW52YXM6X193ZWJwYWNrX3JlcXVpcmVfXyg1MzUpLHJlbmRlcldlYkdMOl9fd2VicGFja19yZXF1aXJlX18oNTM2KX07LyoqKi99LC8qIDUzNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBJbWFnZUNhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uIEltYWdlQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrPT09dGhpcy5yZW5kZXJGbGFncyl7cmVuZGVyZXIuZHJhd0ltYWdlKHNyYyxjYW1lcmEpO319O21vZHVsZS5leHBvcnRzPUltYWdlQ2FudmFzUmVuZGVyZXI7LyoqKi99LC8qIDUzNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBJbWFnZVdlYkdMUmVuZGVyZXI9ZnVuY3Rpb24gSW1hZ2VXZWJHTFJlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9cmVuZGVyZXIuc3ByaXRlQmF0Y2guYWRkU3ByaXRlKHNyYyxjYW1lcmEpO307bW9kdWxlLmV4cG9ydHM9SW1hZ2VXZWJHTFJlbmRlcmVyOy8qKiovfSwvKiA1MzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNZXNoPV9fd2VicGFja19yZXF1aXJlX18oNTUpO3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIEJ1aWxkR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO3ZhciBNZXNoQ3JlYXRvcj1mdW5jdGlvbiBNZXNoQ3JlYXRvcihzY2VuZSxjb25maWcpe3ZhciBrZXk9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2tleScsbnVsbCk7dmFyIGZyYW1lPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdmcmFtZScsbnVsbCk7dmFyIHZlcnRpY2VzPUdldFZhbHVlKGNvbmZpZywndmVydGljZXMnLFtdKTt2YXIgaW5kaWNlcz1HZXRWYWx1ZShjb25maWcsJ2luZGljZXMnLFtdKTt2YXIgY29sb3JzPUdldFZhbHVlKGNvbmZpZywnY29sb3JzJyxbXSk7dmFyIGFscGhhcz1HZXRWYWx1ZShjb25maWcsJ2FscGhhcycsW10pO3ZhciB1dj1HZXRWYWx1ZShjb25maWcsJ3V2JyxbXSk7dmFyIG1lc2g9bmV3IE1lc2goc2NlbmUsMCwwLHZlcnRpY2VzLHV2LGluZGljZXMsY29sb3JzLGFscGhhcyxrZXksZnJhbWUpO0J1aWxkR2FtZU9iamVjdChzY2VuZSxtZXNoLGNvbmZpZyk7cmV0dXJuIG1lc2g7fTttb2R1bGUuZXhwb3J0cz1NZXNoQ3JlYXRvcjsvKioqL30sLyogNTM4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17cmVuZGVyQ2FudmFzOl9fd2VicGFja19yZXF1aXJlX18oNTM5KSxyZW5kZXJXZWJHTDpfX3dlYnBhY2tfcmVxdWlyZV9fKDU0MCl9Oy8qKiovfSwvKiA1MzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgTWVzaENhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uIE1lc2hDYW52YXNSZW5kZXJlcihyZW5kZXJlcixzcmMsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXt9O21vZHVsZS5leHBvcnRzPU1lc2hDYW52YXNSZW5kZXJlcjsvKioqL30sLyogNTQwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE1lc2hXZWJHTFJlbmRlcmVyPWZ1bmN0aW9uIE1lc2hXZWJHTFJlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9aWYoc3JjLmluZGljZXMubGVuZ3RoPjApe3JlbmRlcmVyLnNwcml0ZUJhdGNoLmFkZE1lc2hJbmRleGVkKHNyYyxjYW1lcmEpO31lbHNle3JlbmRlcmVyLnNwcml0ZUJhdGNoLmFkZE1lc2goc3JjLGNhbWVyYSk7fX07bW9kdWxlLmV4cG9ydHM9TWVzaFdlYkdMUmVuZGVyZXI7LyoqKi99LC8qIDU0MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFF1YWQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7dmFyIEdldEFkdmFuY2VkVmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg1KTt2YXIgQnVpbGRHYW1lT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oOSk7dmFyIFF1YWRDcmVhdG9yPWZ1bmN0aW9uIFF1YWRDcmVhdG9yKHNjZW5lLGNvbmZpZyl7dmFyIHg9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3gnLDApO3ZhciB5PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd5JywwKTt2YXIga2V5PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdrZXknLG51bGwpO3ZhciBmcmFtZT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnZnJhbWUnLG51bGwpO3ZhciBxdWFkPW5ldyBRdWFkKHNjZW5lLHgseSxrZXksZnJhbWUpO0J1aWxkR2FtZU9iamVjdChzY2VuZSxxdWFkLGNvbmZpZyk7cmV0dXJuIHF1YWQ7fTttb2R1bGUuZXhwb3J0cz1RdWFkQ3JlYXRvcjsvKioqL30sLyogNTQyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUmVuZGVyUGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgxKTt2YXIgR2V0QWR2YW5jZWRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO3ZhciBCdWlsZEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgUmVuZGVyUGFzc0NyZWF0b3I9ZnVuY3Rpb24gUmVuZGVyUGFzc0NyZWF0b3Ioc2NlbmUsY29uZmlnKXt2YXIgeD1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywneCcsMCk7dmFyIHk9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3knLDApO3ZhciB3aWR0aD1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnd2lkdGgnLDUxMik7dmFyIGhlaWdodD1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnaGVpZ2h0Jyw1MTIpO3ZhciBzaGFkZXJOYW1lPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdzaGFkZXJOYW1lJywnJyk7dmFyIGZyYWdtZW50U2hhZGVyPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdmcmFnbWVudFNoYWRlcicsJycpO3ZhciBwYXNzPW5ldyBSZW5kZXJQYXNzKHNjZW5lLHgseSx3aWR0aCxoZWlnaHQsc2hhZGVyTmFtZSxmcmFnbWVudFNoYWRlcik7QnVpbGRHYW1lT2JqZWN0KHNjZW5lLHBhc3MsY29uZmlnKTtyZXR1cm4gcGFzczt9O21vZHVsZS5leHBvcnRzPVJlbmRlclBhc3NDcmVhdG9yOy8qKiovfSwvKiA1NDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtyZW5kZXJDYW52YXM6X193ZWJwYWNrX3JlcXVpcmVfXyg1NDQpLHJlbmRlcldlYkdMOl9fd2VicGFja19yZXF1aXJlX18oNTQ1KX07LyoqKi99LC8qIDU0NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBSZW5kZXJQYXNzQ2FudmFzUmVuZGVyZXI9ZnVuY3Rpb24gUmVuZGVyUGFzc0NhbnZhc1JlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe307bW9kdWxlLmV4cG9ydHM9UmVuZGVyUGFzc0NhbnZhc1JlbmRlcmVyOy8qKiovfSwvKiA1NDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVuZGVyUGFzc1dlYkdMUmVuZGVyZXI9ZnVuY3Rpb24gUmVuZGVyUGFzc1dlYkdMUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO31yZW5kZXJlci5zcHJpdGVCYXRjaC5hZGRTcHJpdGVUZXh0dXJlKHNyYyxjYW1lcmEsc3JjLnJlbmRlclRleHR1cmUsc3JjLndpZHRoLHNyYy5oZWlnaHQpO307bW9kdWxlLmV4cG9ydHM9UmVuZGVyUGFzc1dlYkdMUmVuZGVyZXI7LyoqKi99LC8qIDU0NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFNwcml0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KTt2YXIgR2V0QWR2YW5jZWRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO3ZhciBCdWlsZEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgQnVpbGRHYW1lT2JqZWN0QW5pbWF0aW9uPV9fd2VicGFja19yZXF1aXJlX18oNTQ3KTt2YXIgU3ByaXRlQ3JlYXRvcj1mdW5jdGlvbiBTcHJpdGVDcmVhdG9yKHNjZW5lLGNvbmZpZyl7dmFyIGtleT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywna2V5JyxudWxsKTt2YXIgZnJhbWU9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ2ZyYW1lJyxudWxsKTt2YXIgc3ByaXRlPW5ldyBTcHJpdGUoc2NlbmUsMCwwLGtleSxmcmFtZSk7QnVpbGRHYW1lT2JqZWN0KHNjZW5lLHNwcml0ZSxjb25maWcpOy8vICBTcHJpdGUgc3BlY2lmaWMgY29uZmlnIG9wdGlvbnM6XG5CdWlsZEdhbWVPYmplY3RBbmltYXRpb24oc3ByaXRlLGNvbmZpZyk7Ly8gIFBoeXNpY3MsIElucHV0LCBldGMgdG8gZm9sbG93IC4uLlxucmV0dXJuIHNwcml0ZTt9O21vZHVsZS5leHBvcnRzPVNwcml0ZUNyZWF0b3I7LyoqKi99LC8qIDU0NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldEFkdmFuY2VkVmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg1KTt2YXIgQnVpbGRHYW1lT2JqZWN0QW5pbWF0aW9uPWZ1bmN0aW9uIEJ1aWxkR2FtZU9iamVjdEFuaW1hdGlvbihzcHJpdGUsY29uZmlnKXt2YXIgYW5pbUNvbmZpZz1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnYW5pbXMnLG51bGwpO2lmKGFuaW1Db25maWc9PT1udWxsKXtyZXR1cm4gc3ByaXRlO31pZih0eXBlb2YgYW5pbUNvbmZpZz09PSdzdHJpbmcnKXsvLyAgeyBhbmltczogJ2tleScgfVxuc3ByaXRlLmFuaW1zLnBsYXkoYW5pbUNvbmZpZyk7fWVsc2UgaWYoKHR5cGVvZiBhbmltQ29uZmlnPT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihhbmltQ29uZmlnKSk9PT0nb2JqZWN0Jyl7Ly8gIHsgYW5pbXM6IHtcbi8vICAgICAgICAgICAgICBrZXk6IHN0cmluZ1xuLy8gICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IFtzdHJpbmd8aW50ZWdlcl1cbi8vICAgICAgICAgICAgICBkZWxheTogW2Zsb2F0XVxuLy8gICAgICAgICAgICAgIHJlcGVhdDogW2ludGVnZXJdXG4vLyAgICAgICAgICAgICAgcmVwZWF0RGVsYXk6IFtmbG9hdF1cbi8vICAgICAgICAgICAgICB5b3lvOiBbYm9vbGVhbl1cbi8vICAgICAgICAgICAgICBwbGF5OiBbYm9vbGVhbl1cbi8vICAgICAgICAgICAgICBkZWxheWVkUGxheTogW2Jvb2xlYW5dXG4vLyAgICAgICAgICAgfVxuLy8gIH1cbnZhciBhbmltcz1zcHJpdGUuYW5pbXM7dmFyIGtleT1HZXRBZHZhbmNlZFZhbHVlKGFuaW1Db25maWcsJ2tleScsdW5kZWZpbmVkKTt2YXIgc3RhcnRGcmFtZT1HZXRBZHZhbmNlZFZhbHVlKGFuaW1Db25maWcsJ3N0YXJ0RnJhbWUnLHVuZGVmaW5lZCk7YW5pbXMubG9hZChrZXkpO3ZhciBkZWxheT1HZXRBZHZhbmNlZFZhbHVlKGFuaW1Db25maWcsJ2RlbGF5JywwKTt2YXIgcmVwZWF0PUdldEFkdmFuY2VkVmFsdWUoYW5pbUNvbmZpZywncmVwZWF0JywwKTt2YXIgcmVwZWF0RGVsYXk9R2V0QWR2YW5jZWRWYWx1ZShhbmltQ29uZmlnLCdyZXBlYXREZWxheScsMCk7dmFyIHlveW89R2V0QWR2YW5jZWRWYWx1ZShhbmltQ29uZmlnLCd5b3lvJyxmYWxzZSk7YW5pbXMuZGVsYXkoZGVsYXkpO2FuaW1zLnJlcGVhdChyZXBlYXQpO2FuaW1zLnJlcGVhdERlbGF5KHJlcGVhdERlbGF5KTthbmltcy55b3lvKHlveW8pO2lmKEdldEFkdmFuY2VkVmFsdWUoYW5pbUNvbmZpZywncGxheScsZmFsc2UpKXthbmltcy5wbGF5KGtleSxzdGFydEZyYW1lKTt9ZWxzZXt2YXIgZD1HZXRBZHZhbmNlZFZhbHVlKGFuaW1Db25maWcsJ2RlbGF5ZWRQbGF5JywwKTtpZihkPjApe2FuaW1zLmRlbGF5ZWRQbGF5KGQsa2V5LHN0YXJ0RnJhbWUpO319fXJldHVybiBzcHJpdGU7fTttb2R1bGUuZXhwb3J0cz1CdWlsZEdhbWVPYmplY3RBbmltYXRpb247LyoqKi99LC8qIDU0OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEJpdG1hcFRleHQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7dmFyIEJ1aWxkR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIEJpdG1hcFRleHRDcmVhdG9yPWZ1bmN0aW9uIEJpdG1hcFRleHRDcmVhdG9yKHNjZW5lLGNvbmZpZyl7dmFyIGZvbnQ9R2V0VmFsdWUoY29uZmlnLCdmb250JywnJyk7dmFyIHRleHQ9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3RleHQnLCcnKTt2YXIgc2l6ZT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnc2l6ZScsZmFsc2UpOy8vIHZhciBhbGlnbiA9IEdldFZhbHVlKGNvbmZpZywgJ2FsaWduJywgJ2xlZnQnKTtcbnZhciBiaXRtYXBUZXh0PW5ldyBCaXRtYXBUZXh0KHNjZW5lLDAsMCxmb250LHRleHQsc2l6ZSk7QnVpbGRHYW1lT2JqZWN0KHNjZW5lLGJpdG1hcFRleHQsY29uZmlnKTtyZXR1cm4gYml0bWFwVGV4dDt9O21vZHVsZS5leHBvcnRzPUJpdG1hcFRleHRDcmVhdG9yOy8qKiovfSwvKiA1NDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQYXJzZVhNTEJpdG1hcEZvbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO3ZhciBQYXJzZUZyb21BdGxhcz1mdW5jdGlvbiBQYXJzZUZyb21BdGxhcyhzY2VuZSxmb250TmFtZSx0ZXh0dXJlS2V5LGZyYW1lS2V5LHhtbEtleSx4U3BhY2luZyx5U3BhY2luZyl7dmFyIGZyYW1lPXNjZW5lLnN5cy50ZXh0dXJlcy5nZXRGcmFtZSh0ZXh0dXJlS2V5LGZyYW1lS2V5KTt2YXIgeG1sPXNjZW5lLnN5cy5jYWNoZS54bWwuZ2V0KHhtbEtleSk7aWYoZnJhbWUmJnhtbCl7dmFyIGRhdGE9UGFyc2VYTUxCaXRtYXBGb250KHhtbCx4U3BhY2luZyx5U3BhY2luZyxmcmFtZSk7c2NlbmUuc3lzLmNhY2hlLmJpdG1hcEZvbnQuYWRkKGZvbnROYW1lLHtkYXRhOmRhdGEsdGV4dHVyZTp0ZXh0dXJlS2V5LGZyYW1lOmZyYW1lS2V5fSk7cmV0dXJuIHRydWU7fWVsc2V7cmV0dXJuIGZhbHNlO319O21vZHVsZS5leHBvcnRzPVBhcnNlRnJvbUF0bGFzOy8qKiovfSwvKiA1NTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpOy8vICogQHBhcmFtIHtudW1iZXJ9IGNoYXJhY3RlcldpZHRoIC0gVGhlIHdpZHRoIG9mIGVhY2ggY2hhcmFjdGVyIGluIHRoZSBmb250IHNldC5cbi8vICogQHBhcmFtIHtudW1iZXJ9IGNoYXJhY3RlckhlaWdodCAtIFRoZSBoZWlnaHQgb2YgZWFjaCBjaGFyYWN0ZXIgaW4gdGhlIGZvbnQgc2V0LlxuLy8gKiBAcGFyYW0ge3N0cmluZ30gY2hhcnMgLSBUaGUgY2hhcmFjdGVycyB1c2VkIGluIHRoZSBmb250IHNldCwgaW4gZGlzcGxheSBvcmRlci4gWW91IGNhbiB1c2UgdGhlIFRFWFRfU0VUIGNvbnN0cyBmb3IgY29tbW9uIGZvbnQgc2V0IGFycmFuZ2VtZW50cy5cbi8vICogQHBhcmFtIHtudW1iZXJ9IFtjaGFyc1BlclJvd10gLSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgcGVyIHJvdyBpbiB0aGUgZm9udCBzZXQuIElmIG5vdCBnaXZlbiBjaGFyc1BlclJvdyB3aWxsIGJlIHRoZSBpbWFnZSB3aWR0aCAvIGNoYXJhY3RlcldpZHRoLlxuLy8gKiBAcGFyYW0ge251bWJlcn0gW3hTcGFjaW5nPTBdIC0gSWYgdGhlIGNoYXJhY3RlcnMgaW4gdGhlIGZvbnQgc2V0IGhhdmUgaG9yaXpvbnRhbCBzcGFjaW5nIGJldHdlZW4gdGhlbSBzZXQgdGhlIHJlcXVpcmVkIGFtb3VudCBoZXJlLlxuLy8gKiBAcGFyYW0ge251bWJlcn0gW3lTcGFjaW5nPTBdIC0gSWYgdGhlIGNoYXJhY3RlcnMgaW4gdGhlIGZvbnQgc2V0IGhhdmUgdmVydGljYWwgc3BhY2luZyBiZXR3ZWVuIHRoZW0gc2V0IHRoZSByZXF1aXJlZCBhbW91bnQgaGVyZS5cbi8vICogQHBhcmFtIHtudW1iZXJ9IFt4T2Zmc2V0PTBdIC0gSWYgdGhlIGZvbnQgc2V0IGRvZXNuJ3Qgc3RhcnQgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBnaXZlbiBpbWFnZSwgc3BlY2lmeSB0aGUgWCBjb29yZGluYXRlIG9mZnNldCBoZXJlLlxuLy8gKiBAcGFyYW0ge251bWJlcn0gW3lPZmZzZXQ9MF0gLSBJZiB0aGUgZm9udCBzZXQgZG9lc24ndCBzdGFydCBhdCB0aGUgdG9wIGxlZnQgb2YgdGhlIGdpdmVuIGltYWdlLCBzcGVjaWZ5IHRoZSBZIGNvb3JkaW5hdGUgb2Zmc2V0IGhlcmUuXG4vLyBQaGFzZXIuR2FtZU9iamVjdC5SZXRyb0ZvbnQgPSBmdW5jdGlvbiAoZ2FtZSwga2V5LCBjaGFyYWN0ZXJXaWR0aCwgY2hhcmFjdGVySGVpZ2h0LCBjaGFycywgY2hhcnNQZXJSb3csIHhTcGFjaW5nLCB5U3BhY2luZywgeE9mZnNldCwgeU9mZnNldClcbi8vIHtcbi8vICAgICAgaW1hZ2U6IGtleSxcbi8vICAgICAgd2lkdGg6IDMyLFxuLy8gICAgICBoZWlnaHQ6IDMyLFxuLy8gICAgICBjaGFyczogJ3N0cmluZycsXG4vLyAgICAgIGNoYXJzUGVyUm93OiBudWxsLFxuLy8gICAgICBzcGFjaW5nOiB7IHg6IDAsIHk6IDAgfSxcbi8vICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfVxuLy8gfVxudmFyIFBhcnNlUmV0cm9Gb250PWZ1bmN0aW9uIFBhcnNlUmV0cm9Gb250KHNjZW5lLGNvbmZpZyl7dmFyIHc9Y29uZmlnLndpZHRoO3ZhciBoPWNvbmZpZy5oZWlnaHQ7dmFyIGN4PU1hdGguZmxvb3Iody8yKTt2YXIgY3k9TWF0aC5mbG9vcihoLzIpO3ZhciBsZXR0ZXJzPWNvbmZpZy5jaGFyczt2YXIga2V5PUdldFZhbHVlKGNvbmZpZywnaW1hZ2UnLCcnKTt2YXIgb2Zmc2V0WD1HZXRWYWx1ZShjb25maWcsJ29mZnNldC54JywwKTt2YXIgb2Zmc2V0WT1HZXRWYWx1ZShjb25maWcsJ29mZnNldC55JywwKTt2YXIgc3BhY2luZ1g9R2V0VmFsdWUoY29uZmlnLCdzcGFjaW5nLngnLDApO3ZhciBzcGFjaW5nWT1HZXRWYWx1ZShjb25maWcsJ3NwYWNpbmcueScsMCk7dmFyIGNoYXJzUGVyUm93PUdldFZhbHVlKGNvbmZpZywnY2hhcnNQZXJSb3cnLG51bGwpO2lmKGNoYXJzUGVyUm93PT09bnVsbCl7Y2hhcnNQZXJSb3c9c2NlbmUuc3lzLnRleHR1cmVzLmdldEZyYW1lKGtleSkud2lkdGgvdztpZihjaGFyc1BlclJvdz5sZXR0ZXJzLmxlbmd0aCl7Y2hhcnNQZXJSb3c9bGV0dGVycy5sZW5ndGg7fX12YXIgeD1vZmZzZXRYO3ZhciB5PW9mZnNldFk7dmFyIGRhdGE9e3JldHJvRm9udDp0cnVlLGZvbnQ6a2V5LHNpemU6dyxsaW5lSGVpZ2h0OmgsY2hhcnM6e319O3ZhciByPTA7Zm9yKHZhciBpPTA7aTxsZXR0ZXJzLmxlbmd0aDtpKyspey8vIHZhciBub2RlID0gbGV0dGVyc1tpXTtcbnZhciBjaGFyQ29kZT1sZXR0ZXJzLmNoYXJDb2RlQXQoaSk7ZGF0YS5jaGFyc1tjaGFyQ29kZV09e3g6eCx5Onksd2lkdGg6dyxoZWlnaHQ6aCxjZW50ZXJYOmN4LGNlbnRlclk6Y3kseE9mZnNldDowLHlPZmZzZXQ6MCx4QWR2YW5jZTp3LGRhdGE6e30sa2VybmluZzp7fX07cisrO2lmKHI9PT1jaGFyc1BlclJvdyl7cj0wO3g9b2Zmc2V0WDt5Kz1oK3NwYWNpbmdZO31lbHNle3grPXcrc3BhY2luZ1g7fX12YXIgZW50cnk9e2RhdGE6ZGF0YSxmcmFtZTpudWxsLHRleHR1cmU6a2V5fTtyZXR1cm4gZW50cnk7fTsvKipcbiogVGV4dCBTZXQgMSA9ICAhXFxcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xcXFxdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+XG4qIEBjb25zdGFudFxuKiBAdHlwZSB7c3RyaW5nfVxuKi9QYXJzZVJldHJvRm9udC5URVhUX1NFVDE9XCIgIVxcXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXFxcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9flwiOy8qKlxuKiBUZXh0IFNldCAyID0gICFcIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXG4qIEBjb25zdGFudFxuKiBAdHlwZSB7c3RyaW5nfVxuKi9QYXJzZVJldHJvRm9udC5URVhUX1NFVDI9XCIgIVxcXCIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiOy8qKlxuKiBUZXh0IFNldCAzID0gQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IFxuKiBAY29uc3RhbnRcbiogQHR5cGUge3N0cmluZ31cbiovUGFyc2VSZXRyb0ZvbnQuVEVYVF9TRVQzPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IFwiOy8qKlxuKiBUZXh0IFNldCA0ID0gQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogMDEyMzQ1Njc4OVxuKiBAY29uc3RhbnRcbiogQHR5cGUge3N0cmluZ31cbiovUGFyc2VSZXRyb0ZvbnQuVEVYVF9TRVQ0PVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogMDEyMzQ1Njc4OVwiOy8qKlxuKiBUZXh0IFNldCA1ID0gQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVouLC8oKSAnIT8tKjowMTIzNDU2Nzg5XG4qIEBjb25zdGFudFxuKiBAdHlwZSB7c3RyaW5nfVxuKi9QYXJzZVJldHJvRm9udC5URVhUX1NFVDU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi4sLygpICchPy0qOjAxMjM0NTY3ODlcIjsvKipcbiogVGV4dCBTZXQgNiA9IEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIT86OzAxMjM0NTY3ODlcIigpLC0uJyBcbiogQGNvbnN0YW50XG4qIEB0eXBlIHtzdHJpbmd9XG4qL1BhcnNlUmV0cm9Gb250LlRFWFRfU0VUNj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaIT86OzAxMjM0NTY3ODlcXFwiKCksLS4nIFwiOy8qKlxuKiBUZXh0IFNldCA3ID0gQUdNU1krOjRCSE5UWiE7NUNJT1UuPzA2REpQViwoMTdFS1FXXCIpMjhGTFJYLSczOVxuKiBAY29uc3RhbnRcbiogQHR5cGUge3N0cmluZ31cbiovUGFyc2VSZXRyb0ZvbnQuVEVYVF9TRVQ3PVwiQUdNU1krOjRCSE5UWiE7NUNJT1UuPzA2REpQViwoMTdFS1FXXFxcIikyOEZMUlgtJzM5XCI7LyoqXG4qIFRleHQgU2V0IDggPSAwMTIzNDU2Nzg5IC5BQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlxuKiBAY29uc3RhbnRcbiogQHR5cGUge3N0cmluZ31cbiovUGFyc2VSZXRyb0ZvbnQuVEVYVF9TRVQ4PVwiMDEyMzQ1Njc4OSAuQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIjsvKipcbiogVGV4dCBTZXQgOSA9IEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaKCktMDEyMzQ1Njc4OS46LCdcIj8hXG4qIEBjb25zdGFudFxuKiBAdHlwZSB7c3RyaW5nfVxuKi9QYXJzZVJldHJvRm9udC5URVhUX1NFVDk9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWigpLTAxMjM0NTY3ODkuOiwnXFxcIj8hXCI7LyoqXG4qIFRleHQgU2V0IDEwID0gQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcbiogQGNvbnN0YW50XG4qIEB0eXBlIHtzdHJpbmd9XG4qL1BhcnNlUmV0cm9Gb250LlRFWFRfU0VUMTA9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiOy8qKlxuKiBUZXh0IFNldCAxMSA9IEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLixcIi0rIT8oKSc6OzAxMjM0NTY3ODlcbiogQGNvbnN0YW50XG4qIEB0eXBlIHtzdHJpbmd9XG4qL1BhcnNlUmV0cm9Gb250LlRFWFRfU0VUMTE9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWi4sXFxcIi0rIT8oKSc6OzAxMjM0NTY3ODlcIjttb2R1bGUuZXhwb3J0cz1QYXJzZVJldHJvRm9udDsvKioqL30sLyogNTUxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz17cmVuZGVyQ2FudmFzOl9fd2VicGFja19yZXF1aXJlX18oNTUyKSxyZW5kZXJXZWJHTDpfX3dlYnBhY2tfcmVxdWlyZV9fKDU1Myl9Oy8qKiovfSwvKiA1NTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQml0bWFwVGV4dENhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uIEJpdG1hcFRleHRDYW52YXNSZW5kZXJlcihyZW5kZXJlcixzcmMsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXt2YXIgdGV4dD1zcmMudGV4dDt2YXIgdGV4dExlbmd0aD10ZXh0Lmxlbmd0aDtpZih0aGlzLnJlbmRlck1hc2shPT10aGlzLnJlbmRlckZsYWdzfHx0ZXh0TGVuZ3RoPT09MCl7cmV0dXJuO312YXIgdGV4dHVyZUZyYW1lPXNyYy5mcmFtZTt2YXIgY2FtZXJhU2Nyb2xsWD1jYW1lcmEuc2Nyb2xsWCpzcmMuc2Nyb2xsRmFjdG9yWDt2YXIgY2FtZXJhU2Nyb2xsWT1jYW1lcmEuc2Nyb2xsWSpzcmMuc2Nyb2xsRmFjdG9yWTt2YXIgY2hhcnM9c3JjLmZvbnREYXRhLmNoYXJzO3ZhciBsaW5lSGVpZ2h0PXNyYy5mb250RGF0YS5saW5lSGVpZ2h0O3ZhciB4QWR2YW5jZT0wO3ZhciB5QWR2YW5jZT0wO3ZhciBpbmRleENvdW50PTA7dmFyIGNoYXJDb2RlPTA7dmFyIGdseXBoPW51bGw7dmFyIGdseXBoWD0wO3ZhciBnbHlwaFk9MDt2YXIgZ2x5cGhXPTA7dmFyIGdseXBoSD0wO3ZhciB4PTA7dmFyIHk9MDt2YXIgbGFzdEdseXBoPW51bGw7dmFyIGxhc3RDaGFyQ29kZT0wO3ZhciBjdHg9cmVuZGVyZXIuY3VycmVudENvbnRleHQ7dmFyIGltYWdlPXNyYy5mcmFtZS5zb3VyY2UuaW1hZ2U7dmFyIHRleHR1cmVYPXRleHR1cmVGcmFtZS5jdXRYO3ZhciB0ZXh0dXJlWT10ZXh0dXJlRnJhbWUuY3V0WTt2YXIgcm90YXRpb249MDt2YXIgc2NhbGU9c3JjLmZvbnRTaXplL3NyYy5mb250RGF0YS5zaXplOy8vICBCbGVuZCBNb2RlXG5pZihyZW5kZXJlci5jdXJyZW50QmxlbmRNb2RlIT09c3JjLmJsZW5kTW9kZSl7cmVuZGVyZXIuY3VycmVudEJsZW5kTW9kZT1zcmMuYmxlbmRNb2RlO2N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249cmVuZGVyZXIuYmxlbmRNb2Rlc1tzcmMuYmxlbmRNb2RlXTt9Ly8gIEFscGhhXG5pZihyZW5kZXJlci5jdXJyZW50QWxwaGEhPT1zcmMuYWxwaGEpe3JlbmRlcmVyLmN1cnJlbnRBbHBoYT1zcmMuYWxwaGE7Y3R4Lmdsb2JhbEFscGhhPXNyYy5hbHBoYTt9Ly8gIFNtb290aGluZ1xuaWYocmVuZGVyZXIuY3VycmVudFNjYWxlTW9kZSE9PXNyYy5zY2FsZU1vZGUpe3JlbmRlcmVyLmN1cnJlbnRTY2FsZU1vZGU9c3JjLnNjYWxlTW9kZTt9Y3R4LnNhdmUoKTtjdHgudHJhbnNsYXRlKHNyYy54LWNhbWVyYVNjcm9sbFgrc3JjLmZyYW1lLngsc3JjLnktY2FtZXJhU2Nyb2xsWStzcmMuZnJhbWUueSk7Y3R4LnJvdGF0ZShzcmMucm90YXRpb24pO2N0eC5zY2FsZShzcmMuc2NhbGVYLHNyYy5zY2FsZVkpOy8vIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMCwyNTUsMC41KSc7XG5mb3IodmFyIGluZGV4PTA7aW5kZXg8dGV4dExlbmd0aDsrK2luZGV4KXtjaGFyQ29kZT10ZXh0LmNoYXJDb2RlQXQoaW5kZXgpO2lmKGNoYXJDb2RlPT09MTApe3hBZHZhbmNlPTA7aW5kZXhDb3VudD0wO3lBZHZhbmNlKz1saW5lSGVpZ2h0O2xhc3RHbHlwaD1udWxsO2NvbnRpbnVlO31nbHlwaD1jaGFyc1tjaGFyQ29kZV07aWYoIWdseXBoKXtjb250aW51ZTt9Z2x5cGhYPXRleHR1cmVYK2dseXBoLng7Z2x5cGhZPXRleHR1cmVZK2dseXBoLnk7Z2x5cGhXPWdseXBoLndpZHRoO2dseXBoSD1nbHlwaC5oZWlnaHQ7eD1pbmRleENvdW50K2dseXBoLnhPZmZzZXQreEFkdmFuY2U7eT1nbHlwaC55T2Zmc2V0K3lBZHZhbmNlO2lmKGxhc3RHbHlwaCE9PW51bGwpe3ZhciBrZXJuaW5nT2Zmc2V0PWdseXBoLmtlcm5pbmdbbGFzdENoYXJDb2RlXTt4Kz1rZXJuaW5nT2Zmc2V0IT09dW5kZWZpbmVkP2tlcm5pbmdPZmZzZXQ6MDt9eCo9c2NhbGU7eSo9c2NhbGU7eEFkdmFuY2UrPWdseXBoLnhBZHZhbmNlO2luZGV4Q291bnQrPTE7bGFzdEdseXBoPWdseXBoO2xhc3RDaGFyQ29kZT1jaGFyQ29kZTsvLyAgTm90aGluZyB0byByZW5kZXIgb3IgYSBzcGFjZT8gVGhlbiBza2lwIHRvIHRoZSBuZXh0IGdseXBoXG5pZihnbHlwaFc9PT0wfHxnbHlwaEg9PT0wfHxjaGFyQ29kZT09PTMyKXtjb250aW51ZTt9Y3R4LnNhdmUoKTtjdHgudHJhbnNsYXRlKHgseSk7Y3R4LnNjYWxlKHNjYWxlLHNjYWxlKTsvLyBjdHguZmlsbFJlY3QoMCwgMCwgZ2x5cGhXLCBnbHlwaEgpO1xuY3R4LmRyYXdJbWFnZShpbWFnZSxnbHlwaFgsZ2x5cGhZLGdseXBoVyxnbHlwaEgsMCwwLGdseXBoVyxnbHlwaEgpO2N0eC5yZXN0b3JlKCk7fWN0eC5yZXN0b3JlKCk7fTttb2R1bGUuZXhwb3J0cz1CaXRtYXBUZXh0Q2FudmFzUmVuZGVyZXI7LyoqKi99LC8qIDU1MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFRyYW5zZm9ybU1hdHJpeD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKTt2YXIgdGVtcE1hdHJpeD1uZXcgVHJhbnNmb3JtTWF0cml4KCk7dmFyIEJpdG1hcFRleHRXZWJHTFJlbmRlcmVyPWZ1bmN0aW9uIEJpdG1hcFRleHRXZWJHTFJlbmRlcmVyKHJlbmRlcmVyLGdhbWVPYmplY3QsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXtpZih0aGlzLnJlbmRlck1hc2shPT10aGlzLnJlbmRlckZsYWdzKXtyZXR1cm47fXZhciB0ZXh0dXJlRnJhbWU9Z2FtZU9iamVjdC5mcmFtZTt2YXIgY2FtZXJhU2Nyb2xsWD1jYW1lcmEuc2Nyb2xsWCpnYW1lT2JqZWN0LnNjcm9sbEZhY3Rvclg7dmFyIGNhbWVyYVNjcm9sbFk9Y2FtZXJhLnNjcm9sbFkqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JZO3ZhciB0ZXh0PWdhbWVPYmplY3QudGV4dDt2YXIgdGV4dExlbmd0aD10ZXh0Lmxlbmd0aDt2YXIgY2hhcnM9Z2FtZU9iamVjdC5mb250RGF0YS5jaGFyczt2YXIgbGluZUhlaWdodD1nYW1lT2JqZWN0LmZvbnREYXRhLmxpbmVIZWlnaHQ7dmFyIHNwcml0ZUJhdGNoPXJlbmRlcmVyLnNwcml0ZUJhdGNoO3ZhciBhbHBoYT1nYW1lT2JqZWN0LmFscGhhO3ZhciB0aW50VEw9Z2FtZU9iamVjdC5fdGludFRMO3ZhciB0aW50VFI9Z2FtZU9iamVjdC5fdGludFRSO3ZhciB0aW50Qkw9Z2FtZU9iamVjdC5fdGludEJMO3ZhciB0aW50QlI9Z2FtZU9iamVjdC5fdGludEJSO3ZhciB2ZXJ0ZXhEYXRhQnVmZmVyPXNwcml0ZUJhdGNoLnZlcnRleERhdGFCdWZmZXI7dmFyIHZlcnRleEJ1ZmZlcj12ZXJ0ZXhEYXRhQnVmZmVyLmZsb2F0Vmlldzt2YXIgdmVydGV4QnVmZmVyVTMyPXZlcnRleERhdGFCdWZmZXIudWludFZpZXc7dmFyIHZlcnRleE9mZnNldD0wO3ZhciBzcmNYPWdhbWVPYmplY3QueDt2YXIgc3JjWT1nYW1lT2JqZWN0Lnk7dmFyIHRleHR1cmVEYXRhPWdhbWVPYmplY3QudGV4dHVyZS5zb3VyY2VbdGV4dHVyZUZyYW1lLnNvdXJjZUluZGV4XTt2YXIgdGV4dHVyZVg9dGV4dHVyZUZyYW1lLmN1dFg7dmFyIHRleHR1cmVZPXRleHR1cmVGcmFtZS5jdXRZO3ZhciB0ZXh0dXJlV2lkdGg9dGV4dHVyZURhdGEud2lkdGg7dmFyIHRleHR1cmVIZWlnaHQ9dGV4dHVyZURhdGEuaGVpZ2h0O3ZhciB0ZXh0dXJlPXRleHR1cmVEYXRhLmdsVGV4dHVyZTt2YXIgeEFkdmFuY2U9MDt2YXIgeUFkdmFuY2U9MDt2YXIgaW5kZXhDb3VudD0wO3ZhciBjaGFyQ29kZT0wO3ZhciBnbHlwaD1udWxsO3ZhciBnbHlwaFg9MDt2YXIgZ2x5cGhZPTA7dmFyIGdseXBoVz0wO3ZhciBnbHlwaEg9MDt2YXIgeD0wO3ZhciB5PTA7dmFyIHh3PTA7dmFyIHloPTA7dmFyIHVtaW49MDt2YXIgdW1heD0wO3ZhciB2bWluPTA7dmFyIHZtYXg9MDt2YXIgbGFzdEdseXBoPW51bGw7dmFyIGxhc3RDaGFyQ29kZT0wO3ZhciB0ZW1wTWF0cml4TWF0cml4PXRlbXBNYXRyaXgubWF0cml4O3ZhciBjYW1lcmFNYXRyaXg9Y2FtZXJhLm1hdHJpeC5tYXRyaXg7dmFyIG12YSxtdmIsbXZjLG12ZCxtdmUsbXZmLHR4MCx0eTAsdHgxLHR5MSx0eDIsdHkyLHR4Myx0eTM7dmFyIHNyYSxzcmIsc3JjLHNyZCxzcmUsc3JmLGNtYSxjbWIsY21jLGNtZCxjbWUsY21mO3ZhciBzY2FsZT1nYW1lT2JqZWN0LmZvbnRTaXplL2dhbWVPYmplY3QuZm9udERhdGEuc2l6ZTt2YXIgcmVuZGVyVGFyZ2V0PWdhbWVPYmplY3QucmVuZGVyVGFyZ2V0O3RlbXBNYXRyaXguYXBwbHlJVFJTKHNyY1gtY2FtZXJhU2Nyb2xsWCt0ZXh0dXJlRnJhbWUueCxzcmNZLWNhbWVyYVNjcm9sbFkrdGV4dHVyZUZyYW1lLnksLWdhbWVPYmplY3Qucm90YXRpb24sZ2FtZU9iamVjdC5zY2FsZVgsZ2FtZU9iamVjdC5zY2FsZVkpO3NyYT10ZW1wTWF0cml4TWF0cml4WzBdO3NyYj10ZW1wTWF0cml4TWF0cml4WzFdO3NyYz10ZW1wTWF0cml4TWF0cml4WzJdO3NyZD10ZW1wTWF0cml4TWF0cml4WzNdO3NyZT10ZW1wTWF0cml4TWF0cml4WzRdO3NyZj10ZW1wTWF0cml4TWF0cml4WzVdO2NtYT1jYW1lcmFNYXRyaXhbMF07Y21iPWNhbWVyYU1hdHJpeFsxXTtjbWM9Y2FtZXJhTWF0cml4WzJdO2NtZD1jYW1lcmFNYXRyaXhbM107Y21lPWNhbWVyYU1hdHJpeFs0XTtjbWY9Y2FtZXJhTWF0cml4WzVdO212YT1zcmEqY21hK3NyYipjbWM7bXZiPXNyYSpjbWIrc3JiKmNtZDttdmM9c3JjKmNtYStzcmQqY21jO212ZD1zcmMqY21iK3NyZCpjbWQ7bXZlPXNyZSpjbWErc3JmKmNtYytjbWU7bXZmPXNyZSpjbWIrc3JmKmNtZCtjbWY7Zm9yKHZhciBpbmRleD0wO2luZGV4PHRleHRMZW5ndGg7KytpbmRleCl7Y2hhckNvZGU9dGV4dC5jaGFyQ29kZUF0KGluZGV4KTtpZihjaGFyQ29kZT09PTEwKXt4QWR2YW5jZT0wO2luZGV4Q291bnQ9MDt5QWR2YW5jZSs9bGluZUhlaWdodDtsYXN0R2x5cGg9bnVsbDtjb250aW51ZTt9Z2x5cGg9Y2hhcnNbY2hhckNvZGVdO2lmKCFnbHlwaCl7Y29udGludWU7fWdseXBoWD10ZXh0dXJlWCtnbHlwaC54O2dseXBoWT10ZXh0dXJlWStnbHlwaC55O2dseXBoVz1nbHlwaC53aWR0aDtnbHlwaEg9Z2x5cGguaGVpZ2h0O3g9KGluZGV4Q291bnQrZ2x5cGgueE9mZnNldCt4QWR2YW5jZSkqc2NhbGU7eT0oZ2x5cGgueU9mZnNldCt5QWR2YW5jZSkqc2NhbGU7aWYobGFzdEdseXBoIT09bnVsbCl7dmFyIGtlcm5pbmdPZmZzZXQ9Z2x5cGgua2VybmluZ1tsYXN0Q2hhckNvZGVdO3grPWtlcm5pbmdPZmZzZXQhPT11bmRlZmluZWQ/a2VybmluZ09mZnNldDowO314QWR2YW5jZSs9Z2x5cGgueEFkdmFuY2U7aW5kZXhDb3VudCs9MTtsYXN0R2x5cGg9Z2x5cGg7bGFzdENoYXJDb2RlPWNoYXJDb2RlOy8vICBOb3RoaW5nIHRvIHJlbmRlciBvciBhIHNwYWNlPyBUaGVuIHNraXAgdG8gdGhlIG5leHQgZ2x5cGhcbmlmKGdseXBoVz09PTB8fGdseXBoSD09PTB8fGNoYXJDb2RlPT09MzIpe2NvbnRpbnVlO314dz14K2dseXBoVypzY2FsZTt5aD15K2dseXBoSCpzY2FsZTt0eDA9eCptdmEreSptdmMrbXZlO3R5MD14Km12Yit5Km12ZCttdmY7dHgxPXgqbXZhK3loKm12YyttdmU7dHkxPXgqbXZiK3loKm12ZCttdmY7dHgyPXh3Km12YSt5aCptdmMrbXZlO3R5Mj14dyptdmIreWgqbXZkK212Zjt0eDM9eHcqbXZhK3kqbXZjK212ZTt0eTM9eHcqbXZiK3kqbXZkK212Zjt1bWluPWdseXBoWC90ZXh0dXJlV2lkdGg7dW1heD0oZ2x5cGhYK2dseXBoVykvdGV4dHVyZVdpZHRoO3ZtaW49Z2x5cGhZL3RleHR1cmVIZWlnaHQ7dm1heD0oZ2x5cGhZK2dseXBoSCkvdGV4dHVyZUhlaWdodDtpZihzcHJpdGVCYXRjaC5lbGVtZW50Q291bnQ+PXNwcml0ZUJhdGNoLm1heFBhcnRpY2xlcyl7c3ByaXRlQmF0Y2guZmx1c2goKTt9cmVuZGVyZXIuc2V0UmVuZGVyZXIoc3ByaXRlQmF0Y2gsdGV4dHVyZSxyZW5kZXJUYXJnZXQpO3ZlcnRleE9mZnNldD12ZXJ0ZXhEYXRhQnVmZmVyLmFsbG9jYXRlKDI0KTtzcHJpdGVCYXRjaC5lbGVtZW50Q291bnQrPTY7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eDA7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eTA7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11bWluO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dm1pbjt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRUTDt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWFscGhhO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHgxO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dHkxO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dW1pbjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXZtYXg7dmVydGV4QnVmZmVyVTMyW3ZlcnRleE9mZnNldCsrXT10aW50Qkw7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT1hbHBoYTt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXR4Mjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXR5Mjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPXVtYXg7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT12bWF4O3ZlcnRleEJ1ZmZlclUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludFRSO3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109YWxwaGE7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eDM7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT10eTM7dmVydGV4QnVmZmVyW3ZlcnRleE9mZnNldCsrXT11bWF4O3ZlcnRleEJ1ZmZlclt2ZXJ0ZXhPZmZzZXQrK109dm1pbjt2ZXJ0ZXhCdWZmZXJVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRCUjt2ZXJ0ZXhCdWZmZXJbdmVydGV4T2Zmc2V0KytdPWFscGhhO319O21vZHVsZS5leHBvcnRzPUJpdG1hcFRleHRXZWJHTFJlbmRlcmVyOy8qKiovfSwvKiA1NTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTdGF0aWNUaWxlbWFwPV9fd2VicGFja19yZXF1aXJlX18oODMpO3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBCdWlsZEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgU3RhdGljVGlsZW1hcENyZWF0b3I9ZnVuY3Rpb24gU3RhdGljVGlsZW1hcENyZWF0b3Ioc2NlbmUsY29uZmlnKXt2YXIgbWFwRGF0YT1HZXRWYWx1ZShjb25maWcsJ21hcC5kYXRhJyxudWxsKTt2YXIgbWFwV2lkdGg9R2V0VmFsdWUoY29uZmlnLCdtYXAud2lkdGgnLDEpO3ZhciBtYXBIZWlnaHQ9R2V0VmFsdWUoY29uZmlnLCdtYXAuaGVpZ2h0JywxKTt2YXIgeD1HZXRWYWx1ZShjb25maWcsJ3gnLDApO3ZhciB5PUdldFZhbHVlKGNvbmZpZywneScsMCk7dmFyIHRpbGVXaWR0aD1HZXRWYWx1ZShjb25maWcsJ3RpbGUud2lkdGgnLDE2KTt2YXIgdGlsZUhlaWdodD1HZXRWYWx1ZShjb25maWcsJ3RpbGUuaGVpZ2h0JywxNik7dmFyIHRpbGVUZXh0dXJlPUdldFZhbHVlKGNvbmZpZywndGlsZS50ZXh0dXJlJyxudWxsKTt2YXIgdGlsZUZyYW1lPUdldFZhbHVlKGNvbmZpZywndGlsZS5mcmFtZScsbnVsbCk7dmFyIHRpbGVCb3JkZXI9R2V0VmFsdWUoY29uZmlnLCd0aWxlLmJvcmRlcicsMCk7dmFyIG1hcD1uZXcgU3RhdGljVGlsZW1hcChzY2VuZSxtYXBEYXRhLHgseSx0aWxlV2lkdGgsdGlsZUhlaWdodCxtYXBXaWR0aCxtYXBIZWlnaHQsdGlsZUJvcmRlcix0aWxlVGV4dHVyZSx0aWxlRnJhbWUpO0J1aWxkR2FtZU9iamVjdChzY2VuZSxtYXAsY29uZmlnKTtyZXR1cm4gbWFwO307bW9kdWxlLmV4cG9ydHM9U3RhdGljVGlsZW1hcENyZWF0b3I7LyoqKi99LC8qIDU1NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e3JlbmRlckNhbnZhczpfX3dlYnBhY2tfcmVxdWlyZV9fKDU1NikscmVuZGVyV2ViR0w6X193ZWJwYWNrX3JlcXVpcmVfXyg1NTcpfTsvKioqL30sLyogNTU2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN0YXRpY1RpbGVtYXBDYW52YXNSZW5kZXJlcj1mdW5jdGlvbiBTdGF0aWNUaWxlbWFwQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO319O21vZHVsZS5leHBvcnRzPVN0YXRpY1RpbGVtYXBDYW52YXNSZW5kZXJlcjsvKioqL30sLyogNTU3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN0YXRpY1RpbGVtYXBXZWJHTFJlbmRlcmVyPWZ1bmN0aW9uIFN0YXRpY1RpbGVtYXBXZWJHTFJlbmRlcmVyKHJlbmRlcmVyLHNyYyxpbnRlcnBvbGF0aW9uUGVyY2VudGFnZSxjYW1lcmEpe2lmKHRoaXMucmVuZGVyTWFzayE9PXRoaXMucmVuZGVyRmxhZ3Mpe3JldHVybjt9dmFyIGdhbWVPYmplY3Q9c3JjO3ZhciBmcmFtZT1nYW1lT2JqZWN0LmZyYW1lO3ZhciBnbD1nYW1lT2JqZWN0LmdsO3JlbmRlcmVyLnNldFJlbmRlcmVyKGdhbWVPYmplY3QudGlsZW1hcFJlbmRlcmVyLGZyYW1lLnRleHR1cmUuc291cmNlW2ZyYW1lLnNvdXJjZUluZGV4XS5nbFRleHR1cmUsZ2FtZU9iamVjdC5yZW5kZXJUYXJnZXQpO2dhbWVPYmplY3QudGlsZW1hcFJlbmRlcmVyLmJpbmQoKTtnYW1lT2JqZWN0LnVwbG9hZChjYW1lcmEpOy8vZ2FtZU9iamVjdC5jdWxsKGNhbWVyYSk7XG5nYW1lT2JqZWN0LnZiby5iaW5kKCk7Ly92YXIgdmVydGV4Q291bnQgPSBnYW1lT2JqZWN0LmN1bGxFbmQgLSBnYW1lT2JqZWN0LmN1bGxTdGFydDtcbi8vaWYgKHZlcnRleENvdW50ID4gMClcbi8ve1xuLy8gICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIGdhbWVPYmplY3QuY3VsbFN0YXJ0LCB2ZXJ0ZXhDb3VudCk7XG4vL31cbmdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLDAsZ2FtZU9iamVjdC52ZXJ0ZXhDb3VudCk7fTttb2R1bGUuZXhwb3J0cz1TdGF0aWNUaWxlbWFwV2ViR0xSZW5kZXJlcjsvKioqL30sLyogNTU4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVGV4dD1fX3dlYnBhY2tfcmVxdWlyZV9fKDg0KTt2YXIgR2V0QWR2YW5jZWRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO3ZhciBCdWlsZEdhbWVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTt2YXIgVGV4dENyZWF0b3I9ZnVuY3Rpb24gVGV4dENyZWF0b3Ioc2NlbmUsY29uZmlnKXsvLyBzdHlsZSBPYmplY3QgPSB7XG4vLyAgICAgZm9udDogWyAnZm9udCcsICcxNnB4IENvdXJpZXInIF0sXG4vLyAgICAgYmFja2dyb3VuZENvbG9yOiBbICdiYWNrZ3JvdW5kQ29sb3InLCBudWxsIF0sXG4vLyAgICAgZmlsbDogWyAnZmlsbCcsICcjZmZmJyBdLFxuLy8gICAgIHN0cm9rZTogWyAnc3Ryb2tlJywgJyNmZmYnIF0sXG4vLyAgICAgc3Ryb2tlVGhpY2tuZXNzOiBbICdzdHJva2VUaGlja25lc3MnLCAwIF0sXG4vLyAgICAgc2hhZG93T2Zmc2V0WDogWyAnc2hhZG93Lm9mZnNldFgnLCAwIF0sXG4vLyAgICAgc2hhZG93T2Zmc2V0WTogWyAnc2hhZG93Lm9mZnNldFknLCAwIF0sXG4vLyAgICAgc2hhZG93Q29sb3I6IFsgJ3NoYWRvdy5jb2xvcicsICcjMDAwJyBdLFxuLy8gICAgIHNoYWRvd0JsdXI6IFsgJ3NoYWRvdy5ibHVyJywgMCBdLFxuLy8gICAgIHNoYWRvd1N0cm9rZTogWyAnc2hhZG93LnN0cm9rZScsIGZhbHNlIF0sXG4vLyAgICAgc2hhZG93RmlsbDogWyAnc2hhZG93LmZpbGwnLCBmYWxzZSBdLFxuLy8gICAgIGFsaWduOiBbICdhbGlnbicsICdsZWZ0JyBdLFxuLy8gICAgIG1heExpbmVzOiBbICdtYXhMaW5lcycsIDAgXSxcbi8vICAgICBmaXhlZFdpZHRoOiBbICdmaXhlZFdpZHRoJywgZmFsc2UgXSxcbi8vICAgICBmaXhlZEhlaWdodDogWyAnZml4ZWRIZWlnaHQnLCBmYWxzZSBdLFxuLy8gICAgIHJ0bDogWyAncnRsJywgZmFsc2UgXVxuLy8gfVxudmFyIGNvbnRlbnQ9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3RleHQnLCcnKTt2YXIgc3R5bGU9R2V0QWR2YW5jZWRWYWx1ZShjb25maWcsJ3N0eWxlJyxudWxsKTt2YXIgdGV4dD1uZXcgVGV4dChzY2VuZSwwLDAsY29udGVudCxzdHlsZSk7QnVpbGRHYW1lT2JqZWN0KHNjZW5lLHRleHQsY29uZmlnKTsvLyAgVGV4dCBzcGVjaWZpYyBjb25maWcgb3B0aW9uczpcbnRleHQuYXV0b1JvdW5kPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdhdXRvUm91bmQnLHRydWUpO3RleHQucmVzb2x1dGlvbj1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywncmVzb2x1dGlvbicsMSk7Ly8gIFBhZGRpbmdcbi8vICBFaXRoZXI6IHsgcGFkZGluZzogMiB9IG9yIHsgcGFkZGluZzogeyB4OiAyLCB5OiAyIH19XG52YXIgcGFkZGluZz1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywncGFkZGluZycsbnVsbCk7aWYodHlwZW9mIHBhZGRpbmc9PT0nbnVtYmVyJyl7dGV4dC5wYWRkaW5nLng9cGFkZGluZzt0ZXh0LnBhZGRpbmcueT1wYWRkaW5nO31lbHNlIGlmKHBhZGRpbmchPT1udWxsKXt0ZXh0LnBhZGRpbmcueD1HZXRBZHZhbmNlZFZhbHVlKHBhZGRpbmcsJ3gnLDEpO3RleHQucGFkZGluZy55PUdldEFkdmFuY2VkVmFsdWUocGFkZGluZywneScsMSk7fXRleHQudXBkYXRlVGV4dCgpO3JldHVybiB0ZXh0O307bW9kdWxlLmV4cG9ydHM9VGV4dENyZWF0b3I7LyoqKi99LC8qIDU1OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e3JlbmRlckNhbnZhczpfX3dlYnBhY2tfcmVxdWlyZV9fKDU2MCkscmVuZGVyV2ViR0w6X193ZWJwYWNrX3JlcXVpcmVfXyg1NjEpfTsvKioqL30sLyogNTYwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFRleHRDYW52YXNSZW5kZXJlcj1mdW5jdGlvbiBUZXh0Q2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO312YXIgY3R4PXJlbmRlcmVyLmN1cnJlbnRDb250ZXh0Oy8vICBCbGVuZCBNb2RlXG5pZihyZW5kZXJlci5jdXJyZW50QmxlbmRNb2RlIT09c3JjLmJsZW5kTW9kZSl7cmVuZGVyZXIuY3VycmVudEJsZW5kTW9kZT1zcmMuYmxlbmRNb2RlO2N0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb249cmVuZGVyZXIuYmxlbmRNb2Rlc1tzcmMuYmxlbmRNb2RlXTt9Ly8gIEFscGhhXG5pZihyZW5kZXJlci5jdXJyZW50QWxwaGEhPT1zcmMuYWxwaGEpe3JlbmRlcmVyLmN1cnJlbnRBbHBoYT1zcmMuYWxwaGE7Y3R4Lmdsb2JhbEFscGhhPXNyYy5hbHBoYTt9Ly8gIFNtb290aGluZ1xuaWYocmVuZGVyZXIuY3VycmVudFNjYWxlTW9kZSE9PXNyYy5zY2FsZU1vZGUpe3JlbmRlcmVyLmN1cnJlbnRTY2FsZU1vZGU9c3JjLnNjYWxlTW9kZTt9dmFyIGNhbnZhcz1zcmMuY2FudmFzO2N0eC5zYXZlKCk7Y3R4LnRyYW5zbGF0ZShzcmMueC1jYW1lcmEuc2Nyb2xsWCpzcmMuc2Nyb2xsRmFjdG9yWCxzcmMueS1jYW1lcmEuc2Nyb2xsWSpzcmMuc2Nyb2xsRmFjdG9yWSk7Y3R4LnJvdGF0ZShzcmMucm90YXRpb24pO2N0eC5zY2FsZShzcmMuc2NhbGVYLHNyYy5zY2FsZVkpO2N0eC50cmFuc2xhdGUoY2FudmFzLndpZHRoKihzcmMuZmxpcFg/MTowKSxjYW52YXMuaGVpZ2h0KihzcmMuZmxpcFk/MTowKSk7Y3R4LnNjYWxlKHNyYy5mbGlwWD8tMToxLHNyYy5mbGlwWT8tMToxKTtjdHguZHJhd0ltYWdlKGNhbnZhcywwLDAsY2FudmFzLndpZHRoLGNhbnZhcy5oZWlnaHQsLXNyYy5kaXNwbGF5T3JpZ2luWCwtc3JjLmRpc3BsYXlPcmlnaW5ZLGNhbnZhcy53aWR0aCxjYW52YXMuaGVpZ2h0KTtjdHgucmVzdG9yZSgpO307bW9kdWxlLmV4cG9ydHM9VGV4dENhbnZhc1JlbmRlcmVyOy8qKiovfSwvKiA1NjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVGV4dFdlYkdMUmVuZGVyZXI9ZnVuY3Rpb24gVGV4dFdlYkdMUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO31pZihzcmMuZGlydHkpe3NyYy5jYW52YXNUZXh0dXJlPXJlbmRlcmVyLnVwbG9hZENhbnZhc1RvR1BVKHNyYy5jYW52YXMsc3JjLmNhbnZhc1RleHR1cmUsdHJ1ZSk7c3JjLmRpcnR5PWZhbHNlO31yZW5kZXJlci5zcHJpdGVCYXRjaC5hZGRTcHJpdGVUZXh0dXJlKHNyYyxjYW1lcmEsc3JjLmNhbnZhc1RleHR1cmUsc3JjLmNhbnZhcy53aWR0aCxzcmMuY2FudmFzLmhlaWdodCk7fTttb2R1bGUuZXhwb3J0cz1UZXh0V2ViR0xSZW5kZXJlcjsvKioqL30sLyogNTYyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgR2V0QWR2YW5jZWRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpO3ZhciBNZWFzdXJlVGV4dD1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2Myk7Ly8gIEtleTogWyBPYmplY3QgS2V5LCBEZWZhdWx0IFZhbHVlIF1cbnZhciBwcm9wZXJ0eU1hcD17Zm9udDpbJ2ZvbnQnLCcxNnB4IENvdXJpZXInXSxiYWNrZ3JvdW5kQ29sb3I6WydiYWNrZ3JvdW5kQ29sb3InLG51bGxdLGZpbGw6WydmaWxsJywnI2ZmZiddLHN0cm9rZTpbJ3N0cm9rZScsJyNmZmYnXSxzdHJva2VUaGlja25lc3M6WydzdHJva2VUaGlja25lc3MnLDBdLHNoYWRvd09mZnNldFg6WydzaGFkb3cub2Zmc2V0WCcsMF0sc2hhZG93T2Zmc2V0WTpbJ3NoYWRvdy5vZmZzZXRZJywwXSxzaGFkb3dDb2xvcjpbJ3NoYWRvdy5jb2xvcicsJyMwMDAnXSxzaGFkb3dCbHVyOlsnc2hhZG93LmJsdXInLDBdLHNoYWRvd1N0cm9rZTpbJ3NoYWRvdy5zdHJva2UnLGZhbHNlXSxzaGFkb3dGaWxsOlsnc2hhZG93LmZpbGwnLGZhbHNlXSxhbGlnbjpbJ2FsaWduJywnbGVmdCddLG1heExpbmVzOlsnbWF4TGluZXMnLDBdLGZpeGVkV2lkdGg6WydmaXhlZFdpZHRoJyxmYWxzZV0sZml4ZWRIZWlnaHQ6WydmaXhlZEhlaWdodCcsZmFsc2VdLHJ0bDpbJ3J0bCcsZmFsc2VdfTt2YXIgVGV4dFN0eWxlPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBUZXh0U3R5bGUodGV4dCxzdHlsZSl7dGhpcy5wYXJlbnQ9dGV4dDt0aGlzLmZvbnQ7dGhpcy5iYWNrZ3JvdW5kQ29sb3I7dGhpcy5maWxsO3RoaXMuc3Ryb2tlO3RoaXMuc3Ryb2tlVGhpY2tuZXNzO3RoaXMuc2hhZG93T2Zmc2V0WDt0aGlzLnNoYWRvd09mZnNldFk7dGhpcy5zaGFkb3dDb2xvcjt0aGlzLnNoYWRvd0JsdXI7dGhpcy5zaGFkb3dTdHJva2U7dGhpcy5zaGFkb3dGaWxsO3RoaXMuYWxpZ247dGhpcy5tYXhMaW5lczt0aGlzLmZpeGVkV2lkdGg7dGhpcy5maXhlZEhlaWdodDt0aGlzLnJ0bDsvLyAgU2V0IHRvIGRlZmF1bHRzXG50aGlzLnJlc2V0KCk7aWYoc3R5bGUpe2Zvcih2YXIga2V5IGluIHByb3BlcnR5TWFwKXt0aGlzW2tleV09R2V0QWR2YW5jZWRWYWx1ZShzdHlsZSxwcm9wZXJ0eU1hcFtrZXldWzBdLHRoaXNba2V5XSk7fX12YXIgbWV0cmljcz1HZXRWYWx1ZShzdHlsZSwnbWV0cmljcycsZmFsc2UpOy8vICBQcm92aWRlIG9wdGlvbmFsIFRleHRNZXRyaWNzIGluIHRoZSBzdHlsZSBvYmplY3QgdG8gYXZvaWQgdGhlIGNhbnZhcyBsb29rLXVwIC8gc2Nhbm5pbmdcbi8vICBEb2luZyB0aGlzIGlzIHVuLWRvbmUgaWYgeW91IHRoZW4gY2hhbmdlIHRoZSBmb250IG9mIHRoaXMgVGV4dFN0eWxlIGFmdGVyIGNyZWF0aW9uXG5pZihtZXRyaWNzKXt0aGlzLm1ldHJpY3M9e2FzY2VudDpHZXRWYWx1ZShtZXRyaWNzLCdhc2NlbnQnLDApLGRlc2NlbnQ6R2V0VmFsdWUobWV0cmljcywnZGVzY2VudCcsMCksZm9udFNpemU6R2V0VmFsdWUobWV0cmljcywnZm9udFNpemUnLDApfTt9ZWxzZXt0aGlzLm1ldHJpY3M9TWVhc3VyZVRleHQodGhpcyk7fX0scmVzZXQ6ZnVuY3Rpb24gcmVzZXQoKXtmb3IodmFyIGtleSBpbiBwcm9wZXJ0eU1hcCl7dGhpc1trZXldPXByb3BlcnR5TWFwW2tleV1bMV07fXJldHVybiB0aGlzO30sc3luY0ZvbnQ6ZnVuY3Rpb24gc3luY0ZvbnQoY2FudmFzLGNvbnRleHQpe2lmKHRoaXMucnRsKXtjYW52YXMuZGlyPSdydGwnO31jb250ZXh0LmZvbnQ9dGhpcy5mb250O2NvbnRleHQudGV4dEJhc2VsaW5lPSdhbHBoYWJldGljJztjb250ZXh0LmZpbGxTdHlsZT10aGlzLmZpbGw7Y29udGV4dC5zdHJva2VTdHlsZT10aGlzLnN0cm9rZTtjb250ZXh0LmxpbmVXaWR0aD10aGlzLnN0cm9rZVRoaWNrbmVzcztjb250ZXh0LmxpbmVDYXA9J3JvdW5kJztjb250ZXh0LmxpbmVKb2luPSdyb3VuZCc7fSxzeW5jU2hhZG93OmZ1bmN0aW9uIHN5bmNTaGFkb3coY29udGV4dCxlbmFibGVkKXtpZihlbmFibGVkKXtjb250ZXh0LnNoYWRvd09mZnNldFg9dGhpcy5zaGFkb3dPZmZzZXRYO2NvbnRleHQuc2hhZG93T2Zmc2V0WT10aGlzLnNoYWRvd09mZnNldFk7Y29udGV4dC5zaGFkb3dDb2xvcj10aGlzLnNoYWRvd0NvbG9yO2NvbnRleHQuc2hhZG93Qmx1cj10aGlzLnNoYWRvd0JsdXI7fWVsc2V7Y29udGV4dC5zaGFkb3dPZmZzZXRYPTA7Y29udGV4dC5zaGFkb3dPZmZzZXRZPTA7Y29udGV4dC5zaGFkb3dDb2xvcj0wO2NvbnRleHQuc2hhZG93Qmx1cj0wO319LHVwZGF0ZTpmdW5jdGlvbiB1cGRhdGUocmVjYWxjdWxhdGVNZXRyaWNzKXtpZihyZWNhbGN1bGF0ZU1ldHJpY3Mpe3RoaXMubWV0cmljcz1NZWFzdXJlVGV4dCh0aGlzKTt9cmV0dXJuIHRoaXMucGFyZW50LnVwZGF0ZVRleHQoKTt9LHNldFN0eWxlOmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlKXtmb3IodmFyIGtleSBpbiBwcm9wZXJ0eU1hcCl7dGhpc1trZXldPUdldEFkdmFuY2VkVmFsdWUoc3R5bGUscHJvcGVydHlNYXBba2V5XVswXSx0aGlzW2tleV0pO31yZXR1cm4gdGhpcy51cGRhdGUodHJ1ZSk7fSxzZXRGb250OmZ1bmN0aW9uIHNldEZvbnQoZm9udCl7dGhpcy5mb250PWZvbnQ7cmV0dXJuIHRoaXMudXBkYXRlKHRydWUpO30sc2V0Rml4ZWRTaXplOmZ1bmN0aW9uIHNldEZpeGVkU2l6ZSh3aWR0aCxoZWlnaHQpe3RoaXMuZml4ZWRXaWR0aD13aWR0aDt0aGlzLmZpeGVkSGVpZ2h0PWhlaWdodDtpZih3aWR0aCl7dGhpcy50ZXh0LndpZHRoPXdpZHRoO31pZihoZWlnaHQpe3RoaXMudGV4dC5oZWlnaHQ9aGVpZ2h0O31yZXR1cm4gdGhpcy51cGRhdGUoZmFsc2UpO30sc2V0QmFja2dyb3VuZENvbG9yOmZ1bmN0aW9uIHNldEJhY2tncm91bmRDb2xvcihjb2xvcil7dGhpcy5iYWNrZ3JvdW5kQ29sb3I9Y29sb3I7cmV0dXJuIHRoaXMudXBkYXRlKGZhbHNlKTt9LHNldEZpbGw6ZnVuY3Rpb24gc2V0RmlsbChjb2xvcil7dGhpcy5maWxsPWNvbG9yO3JldHVybiB0aGlzLnVwZGF0ZShmYWxzZSk7fSxzZXRTdHJva2U6ZnVuY3Rpb24gc2V0U3Ryb2tlKGNvbG9yLHRoaWNrbmVzcyl7aWYoY29sb3I9PT11bmRlZmluZWQpey8vICBSZXNldCB0aGUgc3Ryb2tlIHRvIHplcm8gKGRpc2FibGluZyBpdClcbnRoaXMuc3Ryb2tlVGhpY2tuZXNzPTA7fWVsc2V7aWYodGhpY2tuZXNzPT09dW5kZWZpbmVkKXt0aGlja25lc3M9dGhpcy5zdHJva2VUaGlja25lc3M7fXRoaXMuc3Ryb2tlPWNvbG9yO3RoaXMuc3Ryb2tlVGhpY2tuZXNzPXRoaWNrbmVzczt9cmV0dXJuIHRoaXMudXBkYXRlKHRydWUpO30sc2V0U2hhZG93OmZ1bmN0aW9uIHNldFNoYWRvdyh4LHksY29sb3IsYmx1cixzaGFkb3dTdHJva2Usc2hhZG93RmlsbCl7aWYoeD09PXVuZGVmaW5lZCl7eD0wO31pZih5PT09dW5kZWZpbmVkKXt5PTA7fWlmKGNvbG9yPT09dW5kZWZpbmVkKXtjb2xvcj0nIzAwMCc7fWlmKGJsdXI9PT11bmRlZmluZWQpe2JsdXI9MDt9aWYoc2hhZG93U3Ryb2tlPT09dW5kZWZpbmVkKXtzaGFkb3dTdHJva2U9ZmFsc2U7fWlmKHNoYWRvd0ZpbGw9PT11bmRlZmluZWQpe3NoYWRvd0ZpbGw9ZmFsc2U7fXRoaXMuc2hhZG93T2Zmc2V0WD14O3RoaXMuc2hhZG93T2Zmc2V0WT15O3RoaXMuc2hhZG93Q29sb3I9Y29sb3I7dGhpcy5zaGFkb3dCbHVyPWJsdXI7dGhpcy5zaGFkb3dTdHJva2U9c2hhZG93U3Ryb2tlO3RoaXMuc2hhZG93RmlsbD1zaGFkb3dGaWxsO3JldHVybiB0aGlzLnVwZGF0ZShmYWxzZSk7fSxzZXRTaGFkb3dPZmZzZXQ6ZnVuY3Rpb24gc2V0U2hhZG93T2Zmc2V0KHgseSl7aWYoeD09PXVuZGVmaW5lZCl7eD0wO31pZih5PT09dW5kZWZpbmVkKXt5PXg7fXRoaXMuc2hhZG93T2Zmc2V0WD14O3RoaXMuc2hhZG93T2Zmc2V0WT15O3JldHVybiB0aGlzLnVwZGF0ZShmYWxzZSk7fSxzZXRTaGFkb3dDb2xvcjpmdW5jdGlvbiBzZXRTaGFkb3dDb2xvcihjb2xvcil7aWYoY29sb3I9PT11bmRlZmluZWQpe2NvbG9yPScjMDAwJzt9dGhpcy5zaGFkb3dDb2xvcj1jb2xvcjtyZXR1cm4gdGhpcy51cGRhdGUoZmFsc2UpO30sc2V0U2hhZG93Qmx1cjpmdW5jdGlvbiBzZXRTaGFkb3dCbHVyKGJsdXIpe2lmKGJsdXI9PT11bmRlZmluZWQpe2JsdXI9MDt9dGhpcy5zaGFkb3dCbHVyPWJsdXI7cmV0dXJuIHRoaXMudXBkYXRlKGZhbHNlKTt9LHNldFNoYWRvd1N0cm9rZTpmdW5jdGlvbiBzZXRTaGFkb3dTdHJva2UoZW5hYmxlZCl7dGhpcy5zaGFkb3dTdHJva2U9ZW5hYmxlZDtyZXR1cm4gdGhpcy51cGRhdGUoZmFsc2UpO30sc2V0U2hhZG93RmlsbDpmdW5jdGlvbiBzZXRTaGFkb3dGaWxsKGVuYWJsZWQpe3RoaXMuc2hhZG93RmlsbD1lbmFibGVkO3JldHVybiB0aGlzLnVwZGF0ZShmYWxzZSk7fSxzZXRBbGlnbjpmdW5jdGlvbiBzZXRBbGlnbihhbGlnbil7aWYoYWxpZ249PT11bmRlZmluZWQpe2FsaWduPSdsZWZ0Jzt9dGhpcy5hbGlnbj1hbGlnbjtyZXR1cm4gdGhpcy51cGRhdGUoZmFsc2UpO30sc2V0TWF4TGluZXM6ZnVuY3Rpb24gc2V0TWF4TGluZXMobWF4KXtpZihtYXg9PT11bmRlZmluZWQpe21heD0wO310aGlzLm1heExpbmVzPW1heDtyZXR1cm4gdGhpcy51cGRhdGUoZmFsc2UpO30sZ2V0VGV4dE1ldHJpY3M6ZnVuY3Rpb24gZ2V0VGV4dE1ldHJpY3MoKXt2YXIgbWV0cmljcz10aGlzLm1ldHJpY3M7cmV0dXJue2FzY2VudDptZXRyaWNzLmFzY2VudCxkZXNjZW50Om1ldHJpY3MuZGVzY2VudCxmb250U2l6ZTptZXRyaWNzLmZvbnRTaXplfTt9LHRvSlNPTjpmdW5jdGlvbiB0b0pTT04oKXt2YXIgb3V0cHV0PXt9O2Zvcih2YXIga2V5IGluIHByb3BlcnR5TWFwKXtvdXRwdXRba2V5XT10aGlzW2tleV07fW91dHB1dC5tZXRyaWNzPXRoaXMuZ2V0VGV4dE1ldHJpY3MoKTtyZXR1cm4gb3V0cHV0O30sZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5wYXJlbnQ9dW5kZWZpbmVkO319KTttb2R1bGUuZXhwb3J0cz1UZXh0U3R5bGU7LyoqKi99LC8qIDU2MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENhbnZhc1Bvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7LyoqXG4qIENhbGN1bGF0ZXMgdGhlIGFzY2VudCwgZGVzY2VudCBhbmQgZm9udFNpemUgb2YgYSBnaXZlbiBmb250IHN0eWxlLlxuKi92YXIgTWVhc3VyZVRleHQ9ZnVuY3Rpb24gTWVhc3VyZVRleHQodGV4dFN0eWxlLHRlc3RTdHJpbmcpe2lmKHRlc3RTdHJpbmc9PT11bmRlZmluZWQpe3Rlc3RTdHJpbmc9J3xNw4lxZ3knO30vLyBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCB0aGUgdGV4dCBpcyByZW5kZXJlZC5cbnZhciBjYW52YXM9Q2FudmFzUG9vbC5jcmVhdGUodGhpcyk7Ly8gQHByb3BlcnR5IHtIVE1MQ2FudmFzRWxlbWVudH0gY29udGV4dCAtIFRoZSBjb250ZXh0IG9mIHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHRoZSB0ZXh0IGlzIHJlbmRlcmVkIHRvLlxudmFyIGNvbnRleHQ9Y2FudmFzLmdldENvbnRleHQoJzJkJyk7dGV4dFN0eWxlLnN5bmNGb250KGNhbnZhcyxjb250ZXh0KTt2YXIgd2lkdGg9TWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQodGVzdFN0cmluZykud2lkdGgqMS4yKTt2YXIgYmFzZWxpbmU9d2lkdGg7dmFyIGhlaWdodD0yKmJhc2VsaW5lO2Jhc2VsaW5lPWJhc2VsaW5lKjEuNHwwO2NhbnZhcy53aWR0aD13aWR0aDtjYW52YXMuaGVpZ2h0PWhlaWdodDtjb250ZXh0LmZpbGxTdHlsZT0nI2YwMCc7Y29udGV4dC5maWxsUmVjdCgwLDAsd2lkdGgsaGVpZ2h0KTtjb250ZXh0LmZvbnQ9dGV4dFN0eWxlLmZvbnQ7Y29udGV4dC50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnO2NvbnRleHQuZmlsbFN0eWxlPScjMDAwJztjb250ZXh0LmZpbGxUZXh0KHRlc3RTdHJpbmcsMCxiYXNlbGluZSk7dmFyIG91dHB1dD17YXNjZW50OjAsZGVzY2VudDowLGZvbnRTaXplOjB9O2lmKCFjb250ZXh0LmdldEltYWdlRGF0YSgwLDAsd2lkdGgsaGVpZ2h0KSl7b3V0cHV0LmFzY2VudD1iYXNlbGluZTtvdXRwdXQuZGVzY2VudD1iYXNlbGluZSs2O291dHB1dC5mb250U2l6ZT1vdXRwdXQuYXNjZW50K291dHB1dC5kZXNjZW50O0NhbnZhc1Bvb2wucmVtb3ZlKGNhbnZhcyk7cmV0dXJuIG91dHB1dDt9dmFyIGltYWdlZGF0YT1jb250ZXh0LmdldEltYWdlRGF0YSgwLDAsd2lkdGgsaGVpZ2h0KS5kYXRhO3ZhciBwaXhlbHM9aW1hZ2VkYXRhLmxlbmd0aDt2YXIgbGluZT13aWR0aCo0O3ZhciBpO3ZhciBqO3ZhciBpZHg9MDt2YXIgc3RvcD1mYWxzZTsvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG5mb3IoaT0wO2k8YmFzZWxpbmU7aSsrKXtmb3Ioaj0wO2o8bGluZTtqKz00KXtpZihpbWFnZWRhdGFbaWR4K2pdIT09MjU1KXtzdG9wPXRydWU7YnJlYWs7fX1pZighc3RvcCl7aWR4Kz1saW5lO31lbHNle2JyZWFrO319b3V0cHV0LmFzY2VudD1iYXNlbGluZS1pO2lkeD1waXhlbHMtbGluZTtzdG9wPWZhbHNlOy8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG5mb3IoaT1oZWlnaHQ7aT5iYXNlbGluZTtpLS0pe2ZvcihqPTA7ajxsaW5lO2orPTQpe2lmKGltYWdlZGF0YVtpZHgral0hPT0yNTUpe3N0b3A9dHJ1ZTticmVhazt9fWlmKCFzdG9wKXtpZHgtPWxpbmU7fWVsc2V7YnJlYWs7fX1vdXRwdXQuZGVzY2VudD1pLWJhc2VsaW5lO291dHB1dC5mb250U2l6ZT1vdXRwdXQuYXNjZW50K291dHB1dC5kZXNjZW50O0NhbnZhc1Bvb2wucmVtb3ZlKGNhbnZhcyk7cmV0dXJuIG91dHB1dDt9O21vZHVsZS5leHBvcnRzPU1lYXN1cmVUZXh0Oy8qKiovfSwvKiA1NjQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0VGV4dFNpemU9ZnVuY3Rpb24gR2V0VGV4dFNpemUodGV4dCxzaXplLGxpbmVzKXt2YXIgY2FudmFzPXRleHQuY2FudmFzO3ZhciBjb250ZXh0PXRleHQuY29udGV4dDt2YXIgc3R5bGU9dGV4dC5zdHlsZTt2YXIgbGluZVdpZHRocz1bXTt2YXIgbWF4TGluZVdpZHRoPTA7dmFyIGRyYXduTGluZXM9bGluZXMubGVuZ3RoO2lmKHN0eWxlLm1heExpbmVzPjAmJnN0eWxlLm1heExpbmVzPGxpbmVzLmxlbmd0aCl7ZHJhd25MaW5lcz1zdHlsZS5tYXhMaW5lczt9c3R5bGUuc3luY0ZvbnQoY2FudmFzLGNvbnRleHQpOy8vICBUZXh0IFdpZHRoXG5mb3IodmFyIGk9MDtpPGRyYXduTGluZXM7aSsrKXt2YXIgbGluZVdpZHRoPXN0eWxlLnN0cm9rZVRoaWNrbmVzcztsaW5lV2lkdGgrPWNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoOy8vIEFkanVzdCBmb3Igd3JhcHBlZCB0ZXh0XG5pZihzdHlsZS53b3JkV3JhcCl7bGluZVdpZHRoLT1jb250ZXh0Lm1lYXN1cmVUZXh0KCcgJykud2lkdGg7fWxpbmVXaWR0aHNbaV09TWF0aC5jZWlsKGxpbmVXaWR0aCk7bWF4TGluZVdpZHRoPU1hdGgubWF4KG1heExpbmVXaWR0aCxsaW5lV2lkdGhzW2ldKTt9Ly8gIFRleHQgSGVpZ2h0XG52YXIgbGluZUhlaWdodD1zaXplLmZvbnRTaXplK3N0eWxlLnN0cm9rZVRoaWNrbmVzczt2YXIgaGVpZ2h0PWxpbmVIZWlnaHQqZHJhd25MaW5lczt2YXIgbGluZVNwYWNpbmc9dGV4dC5fbGluZVNwYWNpbmd8fDA7aWYobGluZVNwYWNpbmc8MCYmTWF0aC5hYnMobGluZVNwYWNpbmcpPmxpbmVIZWlnaHQpe2xpbmVTcGFjaW5nPS1saW5lSGVpZ2h0O30vLyAgQWRqdXN0IGZvciBsaW5lIHNwYWNpbmdcbmlmKGxpbmVTcGFjaW5nIT09MCl7aGVpZ2h0Kz1saW5lU3BhY2luZz4wP2xpbmVTcGFjaW5nKmxpbmVzLmxlbmd0aDpsaW5lU3BhY2luZyoobGluZXMubGVuZ3RoLTEpO31yZXR1cm57d2lkdGg6bWF4TGluZVdpZHRoLGhlaWdodDpoZWlnaHQsbGluZXM6ZHJhd25MaW5lcyxsaW5lV2lkdGhzOmxpbmVXaWR0aHMsbGluZVNwYWNpbmc6bGluZVNwYWNpbmcsbGluZUhlaWdodDpsaW5lSGVpZ2h0fTt9O21vZHVsZS5leHBvcnRzPUdldFRleHRTaXplOy8qKiovfSwvKiA1NjUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUaWxlU3ByaXRlPV9fd2VicGFja19yZXF1aXJlX18oODUpO3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIEJ1aWxkR2FtZU9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO3ZhciBUaWxlU3ByaXRlQ3JlYXRvcj1mdW5jdGlvbiBUaWxlU3ByaXRlQ3JlYXRvcihzY2VuZSxjb25maWcpe3ZhciB4PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd4JywwKTt2YXIgeT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywneScsMCk7dmFyIHdpZHRoPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCd3aWR0aCcsNTEyKTt2YXIgaGVpZ2h0PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdoZWlnaHQnLDUxMik7dmFyIGtleT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywna2V5JywnJyk7dmFyIGZyYW1lPUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdmcmFtZScsJycpO3ZhciB0aWxlPW5ldyBUaWxlU3ByaXRlKHNjZW5lLHgseSx3aWR0aCxoZWlnaHQsa2V5LGZyYW1lKTtCdWlsZEdhbWVPYmplY3Qoc2NlbmUsdGlsZSxjb25maWcpO3JldHVybiB0aWxlO307bW9kdWxlLmV4cG9ydHM9VGlsZVNwcml0ZUNyZWF0b3I7LyoqKi99LC8qIDU2NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e3JlbmRlckNhbnZhczpfX3dlYnBhY2tfcmVxdWlyZV9fKDU2NykscmVuZGVyV2ViR0w6X193ZWJwYWNrX3JlcXVpcmVfXyg1NjgpfTsvKioqL30sLyogNTY3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFRpbGVTcHJpdGVDYW52YXNSZW5kZXJlcj1mdW5jdGlvbiBUaWxlU3ByaXRlQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO312YXIgY3R4PXJlbmRlcmVyLmN1cnJlbnRDb250ZXh0O3ZhciBmcmFtZT1zcmMuZnJhbWU7Ly8gIEJsZW5kIE1vZGVcbmlmKHJlbmRlcmVyLmN1cnJlbnRCbGVuZE1vZGUhPT1zcmMuYmxlbmRNb2RlKXtyZW5kZXJlci5jdXJyZW50QmxlbmRNb2RlPXNyYy5ibGVuZE1vZGU7Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1yZW5kZXJlci5ibGVuZE1vZGVzW3NyYy5ibGVuZE1vZGVdO30vLyAgQWxwaGFcbmlmKHJlbmRlcmVyLmN1cnJlbnRBbHBoYSE9PXNyYy5hbHBoYSl7cmVuZGVyZXIuY3VycmVudEFscGhhPXNyYy5hbHBoYTtjdHguZ2xvYmFsQWxwaGE9c3JjLmFscGhhO30vLyAgU21vb3RoaW5nXG5pZihyZW5kZXJlci5jdXJyZW50U2NhbGVNb2RlIT09c3JjLnNjYWxlTW9kZSl7cmVuZGVyZXIuY3VycmVudFNjYWxlTW9kZT1zcmMuc2NhbGVNb2RlO312YXIgZHg9ZnJhbWUueC1zcmMub3JpZ2luWCpzcmMud2lkdGg7dmFyIGR5PWZyYW1lLnktc3JjLm9yaWdpblkqc3JjLmhlaWdodDtjdHguc2F2ZSgpO2N0eC50cmFuc2xhdGUoZHgsZHkpO2N0eC50cmFuc2xhdGUoc3JjLngtY2FtZXJhLnNjcm9sbFgqc3JjLnNjcm9sbEZhY3Rvclgsc3JjLnktY2FtZXJhLnNjcm9sbFkqc3JjLnNjcm9sbEZhY3RvclkpO2N0eC5maWxsU3R5bGU9c3JjLmNhbnZhc1BhdHRlcm47Y3R4LnRyYW5zbGF0ZSgtdGhpcy50aWxlUG9zaXRpb25YLC10aGlzLnRpbGVQb3NpdGlvblkpO2N0eC5maWxsUmVjdCh0aGlzLnRpbGVQb3NpdGlvblgsdGhpcy50aWxlUG9zaXRpb25ZLHNyYy53aWR0aCxzcmMuaGVpZ2h0KTtjdHgucmVzdG9yZSgpO307bW9kdWxlLmV4cG9ydHM9VGlsZVNwcml0ZUNhbnZhc1JlbmRlcmVyOy8qKiovfSwvKiA1NjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgVGlsZVNwcml0ZVdlYkdMUmVuZGVyZXI9ZnVuY3Rpb24gVGlsZVNwcml0ZVdlYkdMUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO31zcmMudXBkYXRlVGlsZVRleHR1cmUoKTtyZW5kZXJlci50aWxlQmF0Y2guYWRkVGlsZVNwcml0ZShzcmMsY2FtZXJhKTt9O21vZHVsZS5leHBvcnRzPVRpbGVTcHJpdGVXZWJHTFJlbmRlcmVyOy8qKiovfSwvKiA1NjkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBCbGl0dGVyRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3MCk7dmFyIER5bmFtaWNCaXRtYXBUZXh0RmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3MSk7dmFyIER5bmFtaWNUaWxlbWFwRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3Mik7dmFyIEVmZmVjdExheWVyRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3Myk7dmFyIEdyYXBoaWNzRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3NCk7dmFyIEdyb3VwRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3NSk7dmFyIEltYWdlRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3Nik7dmFyIE1lc2hGYWN0b3J5PV9fd2VicGFja19yZXF1aXJlX18oNTc3KTt2YXIgUXVhZEZhY3Rvcnk9X193ZWJwYWNrX3JlcXVpcmVfXyg1NzgpO3ZhciBSZW5kZXJQYXNzRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3OSk7dmFyIFNwcml0ZUZhY3Rvcnk9X193ZWJwYWNrX3JlcXVpcmVfXyg1ODApO3ZhciBTdGF0aWNCaXRtYXBUZXh0RmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU4MSk7dmFyIFN0YXRpY1RpbGVtYXBGYWN0b3J5PV9fd2VicGFja19yZXF1aXJlX18oNTgyKTt2YXIgVGV4dEZhY3Rvcnk9X193ZWJwYWNrX3JlcXVpcmVfXyg1ODMpO3ZhciBUaWxlU3ByaXRlRmFjdG9yeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU4NCk7dmFyIFpvbmVGYWN0b3J5PV9fd2VicGFja19yZXF1aXJlX18oNTg1KTt2YXIgTGlnaHRMYXllckZhY3Rvcnk9X193ZWJwYWNrX3JlcXVpcmVfXyg1ODYpO3ZhciBHYW1lT2JqZWN0RmFjdG9yeT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gR2FtZU9iamVjdEZhY3Rvcnkoc2NlbmUpe3RoaXMuc2NlbmU9c2NlbmU7dGhpcy5kaXNwbGF5TGlzdD1zY2VuZS5zeXMuZGlzcGxheUxpc3Q7dGhpcy51cGRhdGVMaXN0PXNjZW5lLnN5cy51cGRhdGVMaXN0O30sZXhpc3Rpbmc6ZnVuY3Rpb24gZXhpc3RpbmcoY2hpbGQpe2lmKGNoaWxkLnJlbmRlckNhbnZhc3x8Y2hpbGQucmVuZGVyV2ViR0wpe3RoaXMuZGlzcGxheUxpc3QuYWRkKGNoaWxkKTt9aWYoY2hpbGQucHJlVXBkYXRlKXt0aGlzLnVwZGF0ZUxpc3QuYWRkKGNoaWxkKTt9cmV0dXJuIGNoaWxkO30sYml0bWFwVGV4dDpmdW5jdGlvbiBiaXRtYXBUZXh0KHgseSxmb250LHRleHQsc2l6ZSxhbGlnbil7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKFN0YXRpY0JpdG1hcFRleHRGYWN0b3J5KHRoaXMuc2NlbmUseCx5LGZvbnQsdGV4dCxzaXplLGFsaWduKSk7fSxkeW5hbWljQml0bWFwVGV4dDpmdW5jdGlvbiBkeW5hbWljQml0bWFwVGV4dCh4LHksZm9udCx0ZXh0LHNpemUsYWxpZ24pe3JldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChEeW5hbWljQml0bWFwVGV4dEZhY3RvcnkodGhpcy5zY2VuZSx4LHksZm9udCx0ZXh0LHNpemUsYWxpZ24pKTt9LGJsaXR0ZXI6ZnVuY3Rpb24gYmxpdHRlcih4LHksa2V5LGZyYW1lKXtyZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQoQmxpdHRlckZhY3RvcnkodGhpcy5zY2VuZSx4LHksa2V5LGZyYW1lKSk7fSxlZmZlY3RMYXllcjpmdW5jdGlvbiBlZmZlY3RMYXllcih4LHksd2lkdGgsaGVpZ2h0LGVmZmVjdE5hbWUsZnJhZ21lbnRTaGFkZXIpe3JldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChFZmZlY3RMYXllckZhY3RvcnkodGhpcy5zY2VuZSx4LHksd2lkdGgsaGVpZ2h0LGVmZmVjdE5hbWUsZnJhZ21lbnRTaGFkZXIpKTt9LGdyYXBoaWNzOmZ1bmN0aW9uIGdyYXBoaWNzKGNvbmZpZyl7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKEdyYXBoaWNzRmFjdG9yeSh0aGlzLnNjZW5lLGNvbmZpZykpO30sZ3JvdXA6ZnVuY3Rpb24gZ3JvdXAoZGlzcGxheUxpc3QsY29uZmlnKXtyZXR1cm4gR3JvdXBGYWN0b3J5KHRoaXMuc2NlbmUsZGlzcGxheUxpc3QsY29uZmlnKTt9LGltYWdlOmZ1bmN0aW9uIGltYWdlKHgseSxrZXksZnJhbWUpe3JldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChJbWFnZUZhY3RvcnkodGhpcy5zY2VuZSx4LHksa2V5LGZyYW1lKSk7fSxtZXNoOmZ1bmN0aW9uIG1lc2goeCx5LHZlcnRpY2VzLHV2LGtleSxmcmFtZSl7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKE1lc2hGYWN0b3J5KHRoaXMuc2NlbmUseCx5LHZlcnRpY2VzLHV2LGtleSxmcmFtZSkpO30scXVhZDpmdW5jdGlvbiBxdWFkKHgseSxrZXksZnJhbWUpe3JldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChRdWFkRmFjdG9yeSh0aGlzLnNjZW5lLHgseSxrZXksZnJhbWUpKTt9LHJlbmRlclBhc3M6ZnVuY3Rpb24gcmVuZGVyUGFzcyh4LHksd2lkdGgsaGVpZ2h0LHNoYWRlck5hbWUsZnJhZ21lbnRTaGFkZXIpe3JldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChSZW5kZXJQYXNzRmFjdG9yeSh0aGlzLnNjZW5lLHgseSx3aWR0aCxoZWlnaHQsc2hhZGVyTmFtZSxmcmFnbWVudFNoYWRlcikpO30sc3ByaXRlOmZ1bmN0aW9uIHNwcml0ZSh4LHksa2V5LGZyYW1lKXt2YXIgc3ByaXRlPVNwcml0ZUZhY3RvcnkodGhpcy5zY2VuZSx4LHksa2V5LGZyYW1lKTt0aGlzLmRpc3BsYXlMaXN0LmFkZChzcHJpdGUpO3RoaXMudXBkYXRlTGlzdC5hZGQoc3ByaXRlKTtyZXR1cm4gc3ByaXRlO30sdGV4dDpmdW5jdGlvbiB0ZXh0KHgseSxfdGV4dCxzdHlsZSl7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKFRleHRGYWN0b3J5KHRoaXMuc2NlbmUseCx5LF90ZXh0LHN0eWxlKSk7fSx0aWxlbWFwOmZ1bmN0aW9uIHRpbGVtYXAobWFwRGF0YSx4LHksdGlsZVdpZHRoLHRpbGVIZWlnaHQsbWFwV2lkdGgsbWFwSGVpZ2h0LHRpbGVCb3JkZXIsdGV4dHVyZSxmcmFtZSl7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKER5bmFtaWNUaWxlbWFwRmFjdG9yeSh0aGlzLnNjZW5lLG1hcERhdGEseCx5LHRpbGVXaWR0aCx0aWxlSGVpZ2h0LG1hcFdpZHRoLG1hcEhlaWdodCx0aWxlQm9yZGVyLHRleHR1cmUsZnJhbWUpKTt9LHN0YXRpY1RpbGVtYXA6ZnVuY3Rpb24gc3RhdGljVGlsZW1hcChtYXBEYXRhLHgseSx0aWxlV2lkdGgsdGlsZUhlaWdodCxtYXBXaWR0aCxtYXBIZWlnaHQsdGlsZUJvcmRlcix0ZXh0dXJlLGZyYW1lKXtyZXR1cm4gdGhpcy5kaXNwbGF5TGlzdC5hZGQoU3RhdGljVGlsZW1hcEZhY3RvcnkodGhpcy5zY2VuZSxtYXBEYXRhLHgseSx0aWxlV2lkdGgsdGlsZUhlaWdodCxtYXBXaWR0aCxtYXBIZWlnaHQsdGlsZUJvcmRlcix0ZXh0dXJlLGZyYW1lKSk7fSx0aWxlU3ByaXRlOmZ1bmN0aW9uIHRpbGVTcHJpdGUoeCx5LHdpZHRoLGhlaWdodCxrZXksZnJhbWUpe3JldHVybiB0aGlzLmRpc3BsYXlMaXN0LmFkZChUaWxlU3ByaXRlRmFjdG9yeSh0aGlzLnNjZW5lLHgseSx3aWR0aCxoZWlnaHQsa2V5LGZyYW1lKSk7fSx6b25lOmZ1bmN0aW9uIHpvbmUoeCx5LHdpZHRoLGhlaWdodCl7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKFpvbmVGYWN0b3J5KHRoaXMuc2NlbmUseCx5LHdpZHRoLGhlaWdodCkpO30sbGlnaHRMYXllcjpmdW5jdGlvbiBsaWdodExheWVyKCl7cmV0dXJuIHRoaXMuZGlzcGxheUxpc3QuYWRkKExpZ2h0TGF5ZXJGYWN0b3J5KHRoaXMuc2NlbmUpKTt9fSk7bW9kdWxlLmV4cG9ydHM9R2FtZU9iamVjdEZhY3Rvcnk7LyoqKi99LC8qIDU3MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEJsaXR0ZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7dmFyIEJsaXR0ZXJGYWN0b3J5PWZ1bmN0aW9uIEJsaXR0ZXJGYWN0b3J5KHNjZW5lLHgseSxrZXksZnJhbWUpe3JldHVybiBuZXcgQmxpdHRlcihzY2VuZSx4LHksa2V5LGZyYW1lKTt9O21vZHVsZS5leHBvcnRzPUJsaXR0ZXJGYWN0b3J5Oy8qKiovfSwvKiA1NzEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCaXRtYXBUZXh0PV9fd2VicGFja19yZXF1aXJlX18oNzMpO3ZhciBEeW5hbWljQml0bWFwVGV4dEZhY3Rvcnk9ZnVuY3Rpb24gRHluYW1pY0JpdG1hcFRleHRGYWN0b3J5KHNjZW5lLHgseSxmb250LHRleHQsc2l6ZSl7cmV0dXJuIG5ldyBCaXRtYXBUZXh0KHNjZW5lLHgseSxmb250LHRleHQsc2l6ZSk7fTttb2R1bGUuZXhwb3J0cz1EeW5hbWljQml0bWFwVGV4dEZhY3Rvcnk7LyoqKi99LC8qIDU3MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFRpbGVtYXA9X193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7dmFyIFRpbGVtYXBGYWN0b3J5PWZ1bmN0aW9uIFRpbGVtYXBGYWN0b3J5KHNjZW5lLG1hcERhdGEseCx5LHRpbGVXaWR0aCx0aWxlSGVpZ2h0LG1hcFdpZHRoLG1hcEhlaWdodCx0aWxlQm9yZGVyLHRleHR1cmUsZnJhbWUpe3JldHVybiBuZXcgVGlsZW1hcChzY2VuZSxtYXBEYXRhLHgseSx0aWxlV2lkdGgsdGlsZUhlaWdodCxtYXBXaWR0aCxtYXBIZWlnaHQsdGlsZUJvcmRlcix0ZXh0dXJlLGZyYW1lKTt9O21vZHVsZS5leHBvcnRzPVRpbGVtYXBGYWN0b3J5Oy8qKiovfSwvKiA1NzMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBFZmZlY3RMYXllcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTt2YXIgRWZmZWN0TGF5ZXJGYWN0b3J5PWZ1bmN0aW9uIEVmZmVjdExheWVyRmFjdG9yeShzY2VuZSx4LHksd2lkdGgsaGVpZ2h0LGVmZmVjdE5hbWUsZnJhZ21lbnRTaGFkZXIpe3JldHVybiBuZXcgRWZmZWN0TGF5ZXIoc2NlbmUseCx5LHdpZHRoLGhlaWdodCxlZmZlY3ROYW1lLGZyYWdtZW50U2hhZGVyKTt9O21vZHVsZS5leHBvcnRzPUVmZmVjdExheWVyRmFjdG9yeTsvKioqL30sLyogNTc0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR3JhcGhpY3M9X193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7dmFyIEdyYXBoaWNzRmFjdG9yeT1mdW5jdGlvbiBHcmFwaGljc0ZhY3Rvcnkoc2NlbmUsY29uZmlnKXtyZXR1cm4gbmV3IEdyYXBoaWNzKHNjZW5lLGNvbmZpZyk7fTttb2R1bGUuZXhwb3J0cz1HcmFwaGljc0ZhY3Rvcnk7LyoqKi99LC8qIDU3NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdyb3VwPV9fd2VicGFja19yZXF1aXJlX18oNzgpO3ZhciBHcm91cEZhY3Rvcnk9ZnVuY3Rpb24gR3JvdXBGYWN0b3J5KHNjZW5lLGNoaWxkcmVuLGNvbmZpZyl7cmV0dXJuIG5ldyBHcm91cChzY2VuZSxjaGlsZHJlbixjb25maWcpO307bW9kdWxlLmV4cG9ydHM9R3JvdXBGYWN0b3J5Oy8qKiovfSwvKiA1NzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBJbWFnZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc5KTt2YXIgSW1hZ2VGYWN0b3J5PWZ1bmN0aW9uIEltYWdlRmFjdG9yeShzY2VuZSx4LHksa2V5LGZyYW1lKXtyZXR1cm4gbmV3IEltYWdlKHNjZW5lLHgseSxrZXksZnJhbWUpO307bW9kdWxlLmV4cG9ydHM9SW1hZ2VGYWN0b3J5Oy8qKiovfSwvKiA1NzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNZXNoPV9fd2VicGFja19yZXF1aXJlX18oNTUpO3ZhciBNZXNoRmFjdG9yeT1mdW5jdGlvbiBNZXNoRmFjdG9yeShzY2VuZSx4LHksdmVydGljZXMsdXYsa2V5LGZyYW1lKXtyZXR1cm4gbmV3IE1lc2goc2NlbmUseCx5LHZlcnRpY2VzLHV2LGtleSxmcmFtZSk7fTttb2R1bGUuZXhwb3J0cz1NZXNoRmFjdG9yeTsvKioqL30sLyogNTc4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUXVhZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTt2YXIgUXVhZEZhY3Rvcnk9ZnVuY3Rpb24gUXVhZEZhY3Rvcnkoc2NlbmUseCx5LGtleSxmcmFtZSl7cmV0dXJuIG5ldyBRdWFkKHNjZW5lLHgseSxrZXksZnJhbWUpO307bW9kdWxlLmV4cG9ydHM9UXVhZEZhY3Rvcnk7LyoqKi99LC8qIDU3OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJlbmRlclBhc3M9X193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7dmFyIFJlbmRlclBhc3NGYWN0b3J5PWZ1bmN0aW9uIFJlbmRlclBhc3NGYWN0b3J5KHNjZW5lLHgseSx3aWR0aCxoZWlnaHQsc2hhZGVyTmFtZSxmcmFnbWVudFNoYWRlcil7cmV0dXJuIG5ldyBSZW5kZXJQYXNzKHNjZW5lLHgseSx3aWR0aCxoZWlnaHQsc2hhZGVyTmFtZSxmcmFnbWVudFNoYWRlcik7fTttb2R1bGUuZXhwb3J0cz1SZW5kZXJQYXNzRmFjdG9yeTsvKioqL30sLyogNTgwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgU3ByaXRlPV9fd2VicGFja19yZXF1aXJlX18oNDUpO3ZhciBTcHJpdGVGYWN0b3J5PWZ1bmN0aW9uIFNwcml0ZUZhY3Rvcnkoc2NlbmUseCx5LGtleSxmcmFtZSl7cmV0dXJuIG5ldyBTcHJpdGUoc2NlbmUseCx5LGtleSxmcmFtZSk7fTttb2R1bGUuZXhwb3J0cz1TcHJpdGVGYWN0b3J5Oy8qKiovfSwvKiA1ODEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCaXRtYXBUZXh0PV9fd2VicGFja19yZXF1aXJlX18oODIpO3ZhciBCaXRtYXBUZXh0RmFjdG9yeT1mdW5jdGlvbiBCaXRtYXBUZXh0RmFjdG9yeShzY2VuZSx4LHksZm9udCx0ZXh0LHNpemUpe3JldHVybiBuZXcgQml0bWFwVGV4dChzY2VuZSx4LHksZm9udCx0ZXh0LHNpemUpO307bW9kdWxlLmV4cG9ydHM9Qml0bWFwVGV4dEZhY3Rvcnk7LyoqKi99LC8qIDU4MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFN0YXRpY1RpbGVtYXA9X193ZWJwYWNrX3JlcXVpcmVfXyg4Myk7dmFyIFN0YXRpY1RpbGVtYXBGYWN0b3J5PWZ1bmN0aW9uIFN0YXRpY1RpbGVtYXBGYWN0b3J5KHNjZW5lLG1hcERhdGEseCx5LHRpbGVXaWR0aCx0aWxlSGVpZ2h0LG1hcFdpZHRoLG1hcEhlaWdodCx0aWxlQm9yZGVyLHRleHR1cmUsZnJhbWUpe3JldHVybiBuZXcgU3RhdGljVGlsZW1hcChzY2VuZSxtYXBEYXRhLHgseSx0aWxlV2lkdGgsdGlsZUhlaWdodCxtYXBXaWR0aCxtYXBIZWlnaHQsdGlsZUJvcmRlcix0ZXh0dXJlLGZyYW1lKTt9O21vZHVsZS5leHBvcnRzPVN0YXRpY1RpbGVtYXBGYWN0b3J5Oy8qKiovfSwvKiA1ODMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUZXh0PV9fd2VicGFja19yZXF1aXJlX18oODQpO3ZhciBUZXh0RmFjdG9yeT1mdW5jdGlvbiBUZXh0RmFjdG9yeShzY2VuZSx4LHksdGV4dCxzdHlsZSl7cmV0dXJuIG5ldyBUZXh0KHNjZW5lLHgseSx0ZXh0LHN0eWxlKTt9O21vZHVsZS5leHBvcnRzPVRleHRGYWN0b3J5Oy8qKiovfSwvKiA1ODQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUaWxlU3ByaXRlPV9fd2VicGFja19yZXF1aXJlX18oODUpO3ZhciBUaWxlU3ByaXRlRmFjdG9yeT1mdW5jdGlvbiBUaWxlU3ByaXRlRmFjdG9yeShzY2VuZSx4LHksd2lkdGgsaGVpZ2h0LGtleSxmcmFtZSl7cmV0dXJuIG5ldyBUaWxlU3ByaXRlKHNjZW5lLHgseSx3aWR0aCxoZWlnaHQsa2V5LGZyYW1lKTt9O21vZHVsZS5leHBvcnRzPVRpbGVTcHJpdGVGYWN0b3J5Oy8qKiovfSwvKiA1ODUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBab25lPV9fd2VicGFja19yZXF1aXJlX18oNjEpO3ZhciBab25lRmFjdG9yeT1mdW5jdGlvbiBab25lRmFjdG9yeShzY2VuZSx4LHksd2lkdGgsaGVpZ2h0KXtyZXR1cm4gbmV3IFpvbmUoc2NlbmUseCx5LHdpZHRoLGhlaWdodCk7fTttb2R1bGUuZXhwb3J0cz1ab25lRmFjdG9yeTsvKioqL30sLyogNTg2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgTGlnaHRMYXllcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7dmFyIExpZ2h0TGF5ZXJGYWN0b3J5PWZ1bmN0aW9uIExpZ2h0TGF5ZXJGYWN0b3J5KHNjZW5lKXtyZXR1cm4gbmV3IExpZ2h0TGF5ZXIoc2NlbmUpO307bW9kdWxlLmV4cG9ydHM9TGlnaHRMYXllckZhY3Rvcnk7LyoqKi99LC8qIDU4NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e3JlbmRlckNhbnZhczpfX3dlYnBhY2tfcmVxdWlyZV9fKDU4OCkscmVuZGVyV2ViR0w6X193ZWJwYWNrX3JlcXVpcmVfXyg1ODkpfTsvKioqL30sLyogNTg4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIExpZ2h0TGF5ZXJDYW52YXNSZW5kZXJlcj1mdW5jdGlvbiBMaWdodExheWVyQ2FudmFzUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7fTttb2R1bGUuZXhwb3J0cz1MaWdodExheWVyQ2FudmFzUmVuZGVyZXI7LyoqKi99LC8qIDU4OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFdlYkdMU3VwcG9ydGVkRXh0ZW5zaW9ucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtpZihXZWJHTFN1cHBvcnRlZEV4dGVuc2lvbnMuaGFzKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSl7cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oNTkwKTt9ZWxzZXtyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyg1OTEpO319KCk7LyoqKi99LC8qIDU5MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEZWZlcnJlZFJlbmRlcmVyPWZ1bmN0aW9uIERlZmVycmVkUmVuZGVyZXIocmVuZGVyZXIsc3JjLGludGVycG9sYXRpb25QZXJjZW50YWdlLGNhbWVyYSl7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFncyl7cmV0dXJuO319O21vZHVsZS5leHBvcnRzPURlZmVycmVkUmVuZGVyZXI7LyoqKi99LC8qIDU5MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGb3J3YXJkUmVuZGVyZXI9ZnVuY3Rpb24gRm9yd2FyZFJlbmRlcmVyKHJlbmRlcmVyLGxpZ2h0TGF5ZXIsaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UsY2FtZXJhKXt2YXIgc3ByaXRlTGlzdD1saWdodExheWVyLnNwcml0ZXM7dmFyIGxlbmd0aD1zcHJpdGVMaXN0Lmxlbmd0aDt2YXIgYmF0Y2g9cmVuZGVyZXIuc3ByaXRlQmF0Y2g7aWYodGhpcy5yZW5kZXJNYXNrIT09dGhpcy5yZW5kZXJGbGFnc3x8bGVuZ3RoPT09MCl7cmV0dXJuO31pZihyZW5kZXJlci5jdXJyZW50UmVuZGVyZXIhPT1udWxsKXtyZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTt9YmF0Y2guYmluZChsaWdodExheWVyLnBhc3NTaGFkZXIpO2JhdGNoLmluZGV4QnVmZmVyT2JqZWN0LmJpbmQoKTtsaWdodExheWVyLnVwZGF0ZUxpZ2h0cyhyZW5kZXJlcixjYW1lcmEpO2Zvcih2YXIgaW5kZXg9MDtpbmRleDxsZW5ndGg7KytpbmRleCl7dmFyIHNwcml0ZU5vcm1hbFBhaXI9c3ByaXRlTGlzdFtpbmRleF07dmFyIGdhbWVPYmplY3Q9c3ByaXRlTm9ybWFsUGFpci5zcHJpdGVSZWY7LyogSW5saW5lZCBmdW5jdGlvbiBvZiBhZGQgc3ByaXRlIG1vZGlmaWVkLiAqL3t2YXIgdGVtcE1hdHJpeD1iYXRjaC50ZW1wTWF0cml4O3ZhciBmcmFtZT1nYW1lT2JqZWN0LmZyYW1lO3ZhciBmb3JjZUZsaXBZPWZyYW1lLnRleHR1cmUuc291cmNlW2ZyYW1lLnNvdXJjZUluZGV4XS5nbFRleHR1cmUuaXNSZW5kZXJUZXh0dXJlP3RydWU6ZmFsc2U7dmFyIGZsaXBYPWdhbWVPYmplY3QuZmxpcFg7dmFyIGZsaXBZPWdhbWVPYmplY3QuZmxpcFleZm9yY2VGbGlwWTt2YXIgdmVydGV4RGF0YUJ1ZmZlcj1iYXRjaC52ZXJ0ZXhEYXRhQnVmZmVyO3ZhciB2ZXJ0ZXhCdWZmZXJPYmplY3RGMzI9dmVydGV4RGF0YUJ1ZmZlci5mbG9hdFZpZXc7dmFyIHZlcnRleEJ1ZmZlck9iamVjdFUzMj12ZXJ0ZXhEYXRhQnVmZmVyLnVpbnRWaWV3O3ZhciB2ZXJ0ZXhPZmZzZXQ9MDt2YXIgdXZzPWZyYW1lLnV2czt2YXIgd2lkdGg9ZnJhbWUud2lkdGgqKGZsaXBYPy0xOjEpO3ZhciBoZWlnaHQ9ZnJhbWUuaGVpZ2h0KihmbGlwWT8tMToxKTt2YXIgdHJhbnNsYXRlWD1nYW1lT2JqZWN0LngtY2FtZXJhLnNjcm9sbFgqZ2FtZU9iamVjdC5zY3JvbGxGYWN0b3JYO3ZhciB0cmFuc2xhdGVZPWdhbWVPYmplY3QueS1jYW1lcmEuc2Nyb2xsWSpnYW1lT2JqZWN0LnNjcm9sbEZhY3Rvclk7dmFyIHNjYWxlWD1nYW1lT2JqZWN0LnNjYWxlWDt2YXIgc2NhbGVZPWdhbWVPYmplY3Quc2NhbGVZO3ZhciByb3RhdGlvbj0tZ2FtZU9iamVjdC5yb3RhdGlvbjt2YXIgdGVtcE1hdHJpeE1hdHJpeD10ZW1wTWF0cml4Lm1hdHJpeDt2YXIgeD0tZ2FtZU9iamVjdC5kaXNwbGF5T3JpZ2luWCtmcmFtZS54K2ZyYW1lLndpZHRoKihmbGlwWD8xOjAuMCk7dmFyIHk9LWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblkrZnJhbWUueStmcmFtZS5oZWlnaHQqKGZsaXBZPzE6MC4wKTt2YXIgeHc9eCt3aWR0aDt2YXIgeWg9eStoZWlnaHQ7dmFyIGNhbWVyYU1hdHJpeD1jYW1lcmEubWF0cml4Lm1hdHJpeDt2YXIgbXZhLG12YixtdmMsbXZkLG12ZSxtdmYsdHgwLHR5MCx0eDEsdHkxLHR4Mix0eTIsdHgzLHR5Mzt2YXIgc3JhLHNyYixzcmMsc3JkLHNyZSxzcmYsY21hLGNtYixjbWMsY21kLGNtZSxjbWY7dmFyIGFscGhhVEw9Z2FtZU9iamVjdC5fYWxwaGFUTDt2YXIgYWxwaGFUUj1nYW1lT2JqZWN0Ll9hbHBoYVRSO3ZhciBhbHBoYUJMPWdhbWVPYmplY3QuX2FscGhhQkw7dmFyIGFscGhhQlI9Z2FtZU9iamVjdC5fYWxwaGFCUjt2YXIgdGludFRMPWdhbWVPYmplY3QuX3RpbnRUTDt2YXIgdGludFRSPWdhbWVPYmplY3QuX3RpbnRUUjt2YXIgdGludEJMPWdhbWVPYmplY3QuX3RpbnRCTDt2YXIgdGludEJSPWdhbWVPYmplY3QuX3RpbnRCUjt0ZW1wTWF0cml4LmFwcGx5SVRSUyh0cmFuc2xhdGVYLHRyYW5zbGF0ZVkscm90YXRpb24sc2NhbGVYLHNjYWxlWSk7c3JhPXRlbXBNYXRyaXhNYXRyaXhbMF07c3JiPXRlbXBNYXRyaXhNYXRyaXhbMV07c3JjPXRlbXBNYXRyaXhNYXRyaXhbMl07c3JkPXRlbXBNYXRyaXhNYXRyaXhbM107c3JlPXRlbXBNYXRyaXhNYXRyaXhbNF07c3JmPXRlbXBNYXRyaXhNYXRyaXhbNV07Y21hPWNhbWVyYU1hdHJpeFswXTtjbWI9Y2FtZXJhTWF0cml4WzFdO2NtYz1jYW1lcmFNYXRyaXhbMl07Y21kPWNhbWVyYU1hdHJpeFszXTtjbWU9Y2FtZXJhTWF0cml4WzRdO2NtZj1jYW1lcmFNYXRyaXhbNV07bXZhPXNyYSpjbWErc3JiKmNtYzttdmI9c3JhKmNtYitzcmIqY21kO212Yz1zcmMqY21hK3NyZCpjbWM7bXZkPXNyYypjbWIrc3JkKmNtZDttdmU9c3JlKmNtYStzcmYqY21jK2NtZTttdmY9c3JlKmNtYitzcmYqY21kK2NtZjt0eDA9eCptdmEreSptdmMrbXZlO3R5MD14Km12Yit5Km12ZCttdmY7dHgxPXgqbXZhK3loKm12YyttdmU7dHkxPXgqbXZiK3loKm12ZCttdmY7dHgyPXh3Km12YSt5aCptdmMrbXZlO3R5Mj14dyptdmIreWgqbXZkK212Zjt0eDM9eHcqbXZhK3kqbXZjK212ZTt0eTM9eHcqbXZiK3kqbXZkK212ZjtpZihyZW5kZXJlci5jdXJyZW50VGV4dHVyZVswXSE9PWZyYW1lLnRleHR1cmUuc291cmNlW2ZyYW1lLnNvdXJjZUluZGV4XS5nbFRleHR1cmV8fHJlbmRlcmVyLmN1cnJlbnRUZXh0dXJlWzFdIT09c3ByaXRlTm9ybWFsUGFpci5ub3JtYWxUZXh0dXJlUmVmLnNvdXJjZVtzcHJpdGVOb3JtYWxQYWlyLnNwcml0ZVJlZi5mcmFtZS5zb3VyY2VJbmRleF0uZ2xUZXh0dXJlKXtiYXRjaC5mbHVzaChsaWdodExheWVyLnBhc3NTaGFkZXIsbGlnaHRMYXllci5yZW5kZXJUYXJnZXQpO3JlbmRlcmVyLnNldFRleHR1cmUoZnJhbWUudGV4dHVyZS5zb3VyY2VbZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZSwwKTtyZW5kZXJlci5zZXRUZXh0dXJlKHNwcml0ZU5vcm1hbFBhaXIubm9ybWFsVGV4dHVyZVJlZi5zb3VyY2Vbc3ByaXRlTm9ybWFsUGFpci5zcHJpdGVSZWYuZnJhbWUuc291cmNlSW5kZXhdLmdsVGV4dHVyZSwxKTt9YmF0Y2guZHJhd0luZGV4ZWQ9dHJ1ZTtiYXRjaC5kcmF3aW5nTWVzaD1mYWxzZTt2ZXJ0ZXhPZmZzZXQ9dmVydGV4RGF0YUJ1ZmZlci5hbGxvY2F0ZSgyNCk7YmF0Y2guZWxlbWVudENvdW50Kz02Oy8vICBUb3AgTGVmdFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueDA7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueTA7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50VEw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYVRMOy8vICBCb3R0b20gTGVmdFxudmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eDE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT10eTE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueDE7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT11dnMueTE7dmVydGV4QnVmZmVyT2JqZWN0VTMyW3ZlcnRleE9mZnNldCsrXT10aW50Qkw7dmVydGV4QnVmZmVyT2JqZWN0RjMyW3ZlcnRleE9mZnNldCsrXT1hbHBoYUJMOy8vICBCb3R0b20gUmlnaHRcbnZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHgyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dHkyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dXZzLngyO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109dXZzLnkyO3ZlcnRleEJ1ZmZlck9iamVjdFUzMlt2ZXJ0ZXhPZmZzZXQrK109dGludEJSO3ZlcnRleEJ1ZmZlck9iamVjdEYzMlt2ZXJ0ZXhPZmZzZXQrK109YWxwaGFCUjsvLyAgVG9wIFJpZ2h0XG52ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR4Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXR5Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXV2cy54Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPXV2cy55Mzt2ZXJ0ZXhCdWZmZXJPYmplY3RVMzJbdmVydGV4T2Zmc2V0KytdPXRpbnRUUjt2ZXJ0ZXhCdWZmZXJPYmplY3RGMzJbdmVydGV4T2Zmc2V0KytdPWFscGhhVFI7fX1iYXRjaC5mbHVzaChsaWdodExheWVyLnBhc3NTaGFkZXIsbGlnaHRMYXllci5yZW5kZXJUYXJnZXQpO307bW9kdWxlLmV4cG9ydHM9Rm9yd2FyZFJlbmRlcmVyOy8qKiovfSwvKiA1OTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBMaWdodD1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gTGlnaHQoeCx5LHoscixnLGIsYXR0ZW51YXRpb24pe3RoaXMueD14O3RoaXMueT15O3RoaXMuej16O3RoaXMucj1yO3RoaXMuZz1nO3RoaXMuYj1iO3RoaXMuYXR0ZW51YXRpb249YXR0ZW51YXRpb247dGhpcy5zY3JvbGxGYWN0b3JYPTEuMDt0aGlzLnNjcm9sbEZhY3Rvclk9MS4wO30sc2V0OmZ1bmN0aW9uIHNldCh4LHkseixyLGcsYixhdHRlbnVhdGlvbil7dGhpcy54PXg7dGhpcy55PXk7dGhpcy56PXo7dGhpcy5yPXI7dGhpcy5nPWc7dGhpcy5iPWI7dGhpcy5hdHRlbnVhdGlvbj1hdHRlbnVhdGlvbjt0aGlzLnNjcm9sbEZhY3Rvclg9MS4wO3RoaXMuc2Nyb2xsRmFjdG9yWT0xLjA7fX0pO21vZHVsZS5leHBvcnRzPUxpZ2h0Oy8qKiovfSwvKiA1OTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBTcHJpdGVOb3JtYWxQYWlyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBTcHJpdGVOb3JtYWxQYWlyKHNwcml0ZSxub3JtYWxUZXh0dXJlKXt0aGlzLnNwcml0ZVJlZj1zcHJpdGU7dGhpcy5ub3JtYWxUZXh0dXJlUmVmPW5vcm1hbFRleHR1cmU7fSxzZXQ6ZnVuY3Rpb24gc2V0KHNwcml0ZSxub3JtYWxUZXh0dXJlKXt0aGlzLnNwcml0ZVJlZj1zcHJpdGU7dGhpcy5ub3JtYWxUZXh0dXJlUmVmPW5vcm1hbFRleHR1cmU7fX0pO21vZHVsZS5leHBvcnRzPVNwcml0ZU5vcm1hbFBhaXI7LyoqKi99LC8qIDU5NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXtNQVhfTElHSFRTOjEwfTsvKioqL30sLyogNTk1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgSW5wdXRFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTt2YXIgU2NlbmVJbnB1dE1hbmFnZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg2MTMpO3ZhciBJbnB1dE1hbmFnZXI9bmV3IENsYXNzKHtFeHRlbmRzOlNjZW5lSW5wdXRNYW5hZ2VyLGluaXRpYWxpemU6ZnVuY3Rpb24gSW5wdXRNYW5hZ2VyKHNjZW5lLGdhbWUpe1NjZW5lSW5wdXRNYW5hZ2VyLmNhbGwodGhpcyxzY2VuZSxnYW1lKTt9LHBvaW50U2NyZWVuVG9Xb3JsZEhpdFRlc3Q6ZnVuY3Rpb24gcG9pbnRTY3JlZW5Ub1dvcmxkSGl0VGVzdChnYW1lT2JqZWN0cyx4LHksY2FtZXJhKXtyZXR1cm4gdGhpcy5tYW5hZ2VyLnBvaW50U2NyZWVuVG9Xb3JsZEhpdFRlc3QoZ2FtZU9iamVjdHMseCx5LGNhbWVyYSk7fX0pO21vZHVsZS5leHBvcnRzPUlucHV0TWFuYWdlcjsvKioqL30sLyogNTk2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgRHJhZ0V2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIERyYWdFdmVudChwb2ludGVyLGdhbWVPYmplY3Qpe0V2ZW50LmNhbGwodGhpcywnRFJBR19FVkVOVCcpOy8vICBUaGUgUG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnRcbnRoaXMucG9pbnRlcj1wb2ludGVyOy8vICBUaGUgbmF0aXZlIERPTSBldmVudCAoTW91c2VFdmVudCwgVG91Y2hFdmVudCwgZXRjKVxudGhpcy5ldmVudD1wb2ludGVyLmV2ZW50Oy8vICBUaGUgR2FtZSBPYmplY3QgdGhlIGV2ZW50IG9jY3VycmVkIG9uXG50aGlzLmdhbWVPYmplY3Q9Z2FtZU9iamVjdDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgbG9jYWwgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudCB3aXRoaW4gdGhlIEdhbWUgT2JqZWN0XG50aGlzLng9cG9pbnRlci54O3RoaXMueT1wb2ludGVyLnk7Ly8gIFRoZSBsb2NhbCB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50IHdpdGhpbiB0aGUgR2FtZSBPYmplY3RcbnRoaXMuZHJhZ1g9cG9pbnRlci54LWdhbWVPYmplY3QuaW5wdXQuZHJhZ1g7dGhpcy5kcmFnWT1wb2ludGVyLnktZ2FtZU9iamVjdC5pbnB1dC5kcmFnWTt9fSk7bW9kdWxlLmV4cG9ydHM9RHJhZ0V2ZW50Oy8qKiovfSwvKiA1OTcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBEcmFnRW5kRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gRHJhZ0VuZEV2ZW50KHBvaW50ZXIsZ2FtZU9iamVjdCxkcm9wcGVkKXtFdmVudC5jYWxsKHRoaXMsJ0RSQUdfRU5EX0VWRU5UJyk7Ly8gIFRoZSBQb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudFxudGhpcy5wb2ludGVyPXBvaW50ZXI7Ly8gIFRoZSBuYXRpdmUgRE9NIGV2ZW50IChNb3VzZUV2ZW50LCBUb3VjaEV2ZW50LCBldGMpXG50aGlzLmV2ZW50PXBvaW50ZXIuZXZlbnQ7Ly8gIFRoZSBHYW1lIE9iamVjdCB0aGUgZXZlbnQgb2NjdXJyZWQgb25cbnRoaXMuZ2FtZU9iamVjdD1nYW1lT2JqZWN0Oy8vICBUaGUgY2FtZXJhIG9uIHdoaWNoIHRoZSBpbnB1dCBldmVudCBvY2N1cnJlZFxudGhpcy5jYW1lcmE9cG9pbnRlci5jYW1lcmE7Ly8gIFRoZSBsb2NhbCB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50IHdpdGhpbiB0aGUgR2FtZSBPYmplY3RcbnRoaXMueD1wb2ludGVyLng7dGhpcy55PXBvaW50ZXIueTsvLyAgV2hlbiB0aGUgZHJhZyBlbmRlZCBkaWQgaXQgZmlyZSBhIHN1Y2Nlc3NmdWwgRFJPUCBldmVudCBmaXJzdD9cbnRoaXMuZHJvcHBlZD1kcm9wcGVkO3RoaXMuZHJhZ1g9Z2FtZU9iamVjdC5pbnB1dC5kcmFnWDt0aGlzLmRyYWdZPWdhbWVPYmplY3QuaW5wdXQuZHJhZ1k7fX0pO21vZHVsZS5leHBvcnRzPURyYWdFbmRFdmVudDsvKioqL30sLyogNTk4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgRHJhZ0VudGVyRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gRHJhZ0VudGVyRXZlbnQocG9pbnRlcixnYW1lT2JqZWN0LGRyb3Bab25lKXtFdmVudC5jYWxsKHRoaXMsJ0RSQUdfRU5URVJfRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIEdhbWUgT2JqZWN0IHRoZSBldmVudCBvY2N1cnJlZCBvblxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3Q7Ly8gIFRoZSBjYW1lcmEgb24gd2hpY2ggdGhlIGlucHV0IGV2ZW50IG9jY3VycmVkXG50aGlzLmNhbWVyYT1wb2ludGVyLmNhbWVyYTsvLyAgVGhlIGRyb3Agem9uZSB0aGUgZ2FtZSBvYmplY3Qgd2FzIGRyb3BwZWQgb25cbnRoaXMuZHJvcFpvbmU9ZHJvcFpvbmU7fX0pO21vZHVsZS5leHBvcnRzPURyYWdFbnRlckV2ZW50Oy8qKiovfSwvKiA1OTkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBEcmFnTGVhdmVFdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBEcmFnTGVhdmVFdmVudChwb2ludGVyLGdhbWVPYmplY3QsZHJvcFpvbmUpe0V2ZW50LmNhbGwodGhpcywnRFJBR19MRUFWRV9FVkVOVCcpOy8vICBUaGUgUG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnRcbnRoaXMucG9pbnRlcj1wb2ludGVyOy8vICBUaGUgbmF0aXZlIERPTSBldmVudCAoTW91c2VFdmVudCwgVG91Y2hFdmVudCwgZXRjKVxudGhpcy5ldmVudD1wb2ludGVyLmV2ZW50Oy8vICBUaGUgR2FtZSBPYmplY3QgdGhlIGV2ZW50IG9jY3VycmVkIG9uXG50aGlzLmdhbWVPYmplY3Q9Z2FtZU9iamVjdDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgZHJvcCB6b25lIHRoZSBnYW1lIG9iamVjdCB3YXMgZHJvcHBlZCBvblxudGhpcy5kcm9wWm9uZT1kcm9wWm9uZTt9fSk7bW9kdWxlLmV4cG9ydHM9RHJhZ0xlYXZlRXZlbnQ7LyoqKi99LC8qIDYwMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIERyYWdPdmVyRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gRHJhZ092ZXJFdmVudChwb2ludGVyLGdhbWVPYmplY3QsZHJvcFpvbmUpe0V2ZW50LmNhbGwodGhpcywnRFJBR19PVkVSX0VWRU5UJyk7Ly8gIFRoZSBQb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudFxudGhpcy5wb2ludGVyPXBvaW50ZXI7Ly8gIFRoZSBuYXRpdmUgRE9NIGV2ZW50IChNb3VzZUV2ZW50LCBUb3VjaEV2ZW50LCBldGMpXG50aGlzLmV2ZW50PXBvaW50ZXIuZXZlbnQ7Ly8gIFRoZSBHYW1lIE9iamVjdCB0aGUgZXZlbnQgb2NjdXJyZWQgb25cbnRoaXMuZ2FtZU9iamVjdD1nYW1lT2JqZWN0Oy8vICBUaGUgY2FtZXJhIG9uIHdoaWNoIHRoZSBpbnB1dCBldmVudCBvY2N1cnJlZFxudGhpcy5jYW1lcmE9cG9pbnRlci5jYW1lcmE7Ly8gIFRoZSBkcm9wIHpvbmUgdGhlIGdhbWUgb2JqZWN0IHdhcyBkcm9wcGVkIG9uXG50aGlzLmRyb3Bab25lPWRyb3Bab25lO319KTttb2R1bGUuZXhwb3J0cz1EcmFnT3ZlckV2ZW50Oy8qKiovfSwvKiA2MDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBEcmFnU3RhcnRFdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBEcmFnU3RhcnRFdmVudChwb2ludGVyLGdhbWVPYmplY3Qpe0V2ZW50LmNhbGwodGhpcywnRFJBR19TVEFSVF9FVkVOVCcpOy8vICBUaGUgUG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnRcbnRoaXMucG9pbnRlcj1wb2ludGVyOy8vICBUaGUgbmF0aXZlIERPTSBldmVudCAoTW91c2VFdmVudCwgVG91Y2hFdmVudCwgZXRjKVxudGhpcy5ldmVudD1wb2ludGVyLmV2ZW50Oy8vICBUaGUgR2FtZSBPYmplY3QgdGhlIGV2ZW50IG9jY3VycmVkIG9uXG50aGlzLmdhbWVPYmplY3Q9Z2FtZU9iamVjdDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgbG9jYWwgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudCB3aXRoaW4gdGhlIEdhbWUgT2JqZWN0XG50aGlzLng9cG9pbnRlci54O3RoaXMueT1wb2ludGVyLnk7dGhpcy5kcmFnWD1nYW1lT2JqZWN0LmlucHV0LmRyYWdYO3RoaXMuZHJhZ1k9Z2FtZU9iamVjdC5pbnB1dC5kcmFnWTt9fSk7bW9kdWxlLmV4cG9ydHM9RHJhZ1N0YXJ0RXZlbnQ7LyoqKi99LC8qIDYwMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIERyb3BFdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBEcm9wRXZlbnQocG9pbnRlcixnYW1lT2JqZWN0LGRyb3Bab25lKXtFdmVudC5jYWxsKHRoaXMsJ0RST1BfRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIEdhbWUgT2JqZWN0IHRoZSBldmVudCBvY2N1cnJlZCBvblxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3Q7Ly8gIFRoZSBjYW1lcmEgb24gd2hpY2ggdGhlIGlucHV0IGV2ZW50IG9jY3VycmVkXG50aGlzLmNhbWVyYT1wb2ludGVyLmNhbWVyYTsvLyAgVGhlIGRyb3Agem9uZSB0aGUgZ2FtZSBvYmplY3Qgd2FzIGRyb3BwZWQgb25cbnRoaXMuZHJvcFpvbmU9ZHJvcFpvbmU7fX0pO21vZHVsZS5leHBvcnRzPURyb3BFdmVudDsvKioqL30sLyogNjAzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgR2FtZU9iamVjdERvd25FdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBHYW1lT2JqZWN0RG93bkV2ZW50KHBvaW50ZXIsZ2FtZU9iamVjdCl7RXZlbnQuY2FsbCh0aGlzLCdHQU1FX09CSkVDVF9ET1dOX0VWRU5UJyk7Ly8gIFRoZSBQb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudFxudGhpcy5wb2ludGVyPXBvaW50ZXI7Ly8gIFRoZSBuYXRpdmUgRE9NIGV2ZW50IChNb3VzZUV2ZW50LCBUb3VjaEV2ZW50LCBldGMpXG50aGlzLmV2ZW50PXBvaW50ZXIuZXZlbnQ7Ly8gIFRoZSBHYW1lIE9iamVjdCB0aGUgZXZlbnQgb2NjdXJyZWQgb25cbnRoaXMuZ2FtZU9iamVjdD1nYW1lT2JqZWN0Oy8vICBUaGUgY2FtZXJhIG9uIHdoaWNoIHRoZSBpbnB1dCBldmVudCBvY2N1cnJlZFxudGhpcy5jYW1lcmE9cG9pbnRlci5jYW1lcmE7Ly8gIFRoZSBsb2NhbCB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50IHdpdGhpbiB0aGUgR2FtZSBPYmplY3RcbnRoaXMueD1nYW1lT2JqZWN0LmlucHV0LmxvY2FsWDt0aGlzLnk9Z2FtZU9iamVjdC5pbnB1dC5sb2NhbFk7fX0pO21vZHVsZS5leHBvcnRzPUdhbWVPYmplY3REb3duRXZlbnQ7LyoqKi99LC8qIDYwNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIEdhbWVPYmplY3RNb3ZlRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gR2FtZU9iamVjdE1vdmVFdmVudChwb2ludGVyLGdhbWVPYmplY3Qpe0V2ZW50LmNhbGwodGhpcywnR0FNRV9PQkpFQ1RfTU9WRV9FVkVOVCcpOy8vICBUaGUgUG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnRcbnRoaXMucG9pbnRlcj1wb2ludGVyOy8vICBUaGUgbmF0aXZlIERPTSBldmVudCAoTW91c2VFdmVudCwgVG91Y2hFdmVudCwgZXRjKVxudGhpcy5ldmVudD1wb2ludGVyLmV2ZW50Oy8vICBUaGUgR2FtZSBPYmplY3QgdGhlIGV2ZW50IG9jY3VycmVkIG9uXG50aGlzLmdhbWVPYmplY3Q9Z2FtZU9iamVjdDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgbG9jYWwgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudCB3aXRoaW4gdGhlIEdhbWUgT2JqZWN0XG50aGlzLng9Z2FtZU9iamVjdC5pbnB1dC5sb2NhbFg7dGhpcy55PWdhbWVPYmplY3QuaW5wdXQubG9jYWxZO319KTttb2R1bGUuZXhwb3J0cz1HYW1lT2JqZWN0TW92ZUV2ZW50Oy8qKiovfSwvKiA2MDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBHYW1lT2JqZWN0T3V0RXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gR2FtZU9iamVjdE91dEV2ZW50KHBvaW50ZXIsZ2FtZU9iamVjdCl7RXZlbnQuY2FsbCh0aGlzLCdHQU1FX09CSkVDVF9PVVRfRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIEdhbWUgT2JqZWN0IHRoZSBldmVudCBvY2N1cnJlZCBvblxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3Q7Ly8gIFRoZSBjYW1lcmEgb24gd2hpY2ggdGhlIGlucHV0IGV2ZW50IG9jY3VycmVkXG50aGlzLmNhbWVyYT1wb2ludGVyLmNhbWVyYTt9fSk7bW9kdWxlLmV4cG9ydHM9R2FtZU9iamVjdE91dEV2ZW50Oy8qKiovfSwvKiA2MDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBHYW1lT2JqZWN0T3ZlckV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIEdhbWVPYmplY3RPdmVyRXZlbnQocG9pbnRlcixnYW1lT2JqZWN0KXtFdmVudC5jYWxsKHRoaXMsJ0dBTUVfT0JKRUNUX09WRVJfRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIEdhbWUgT2JqZWN0IHRoZSBldmVudCBvY2N1cnJlZCBvblxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3Q7Ly8gIFRoZSBjYW1lcmEgb24gd2hpY2ggdGhlIGlucHV0IGV2ZW50IG9jY3VycmVkXG50aGlzLmNhbWVyYT1wb2ludGVyLmNhbWVyYTsvLyAgVGhlIGxvY2FsIHgveSBjb29yZGluYXRlcyBvZiB0aGUgZXZlbnQgd2l0aGluIHRoZSBHYW1lIE9iamVjdFxudGhpcy54PWdhbWVPYmplY3QuaW5wdXQubG9jYWxYO3RoaXMueT1nYW1lT2JqZWN0LmlucHV0LmxvY2FsWTt9fSk7bW9kdWxlLmV4cG9ydHM9R2FtZU9iamVjdE92ZXJFdmVudDsvKioqL30sLyogNjA3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgR2FtZU9iamVjdFVwRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gR2FtZU9iamVjdFVwRXZlbnQocG9pbnRlcixnYW1lT2JqZWN0KXtFdmVudC5jYWxsKHRoaXMsJ0dBTUVfT0JKRUNUX1VQX0VWRU5UJyk7Ly8gIFRoZSBQb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudFxudGhpcy5wb2ludGVyPXBvaW50ZXI7Ly8gIFRoZSBuYXRpdmUgRE9NIGV2ZW50IChNb3VzZUV2ZW50LCBUb3VjaEV2ZW50LCBldGMpXG50aGlzLmV2ZW50PXBvaW50ZXIuZXZlbnQ7Ly8gIFRoZSBHYW1lIE9iamVjdCB0aGUgZXZlbnQgb2NjdXJyZWQgb25cbnRoaXMuZ2FtZU9iamVjdD1nYW1lT2JqZWN0Oy8vICBUaGUgY2FtZXJhIG9uIHdoaWNoIHRoZSBpbnB1dCBldmVudCBvY2N1cnJlZFxudGhpcy5jYW1lcmE9cG9pbnRlci5jYW1lcmE7Ly8gIFRoZSBsb2NhbCB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50IHdpdGhpbiB0aGUgR2FtZSBPYmplY3RcbnRoaXMueD1nYW1lT2JqZWN0LmlucHV0LmxvY2FsWDt0aGlzLnk9Z2FtZU9iamVjdC5pbnB1dC5sb2NhbFk7fX0pO21vZHVsZS5leHBvcnRzPUdhbWVPYmplY3RVcEV2ZW50Oy8qKiovfSwvKiA2MDggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBQb2ludGVyRG93bkV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIFBvaW50ZXJEb3duRXZlbnQocG9pbnRlcixnYW1lT2JqZWN0cyl7RXZlbnQuY2FsbCh0aGlzLCdQT0lOVEVSX0RPV05fRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudFxudGhpcy54PXBvaW50ZXIueDt0aGlzLnk9cG9pbnRlci55Oy8vICBBbiBhcnJheSBvZiBhbGwgdGhlIGdhbWUgb2JqZWN0cyB0aGUgcG9pbnRlciBldmVudCBvY2N1cnJlZCBvbiBpbiBkaXNwbGF5IGxpc3Qgb3JkZXIuXG4vLyAgV2lsbCBiZSBlbXB0eSBpZiBubyBvYmplY3RzIHdlcmUgaW50ZXJhY3RlZCB3aXRoLlxuLy8gIElmIHBvcHVsYXRlZCwgdGhlIGJvdHRvbSBlbGVtZW50IChsaXN0WzBdKSBpcyB0aGUgaGlnaGVzdCBvYmplY3Qgb24gdGhlIGRpc3BsYXkgbGlzdC5cbi8vICBJZiBJbnB1dE1hbmFnZXIudG9wT25seSBpcyB0cnVlIHRoaXMgYXJyYXkgd2lsbCBvbmx5IGNvbnRhaW4gb25lIGVsZW1lbnQuXG50aGlzLmxpc3Q9Z2FtZU9iamVjdHM7Ly8gIEEgcmVmZXJlbmNlIHRvIHRoZSB0b3AtbW9zdCBvYmplY3Qgb24gdGhlIGRpc3BsYXkgbGlzdCAoc2FtZSBhcyBldmVudC5saXN0WzBdKVxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3RzWzBdO319KTttb2R1bGUuZXhwb3J0cz1Qb2ludGVyRG93bkV2ZW50Oy8qKiovfSwvKiA2MDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBQb2ludGVyTW92ZUV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIFBvaW50ZXJNb3ZlRXZlbnQocG9pbnRlcixnYW1lT2JqZWN0cyl7RXZlbnQuY2FsbCh0aGlzLCdQT0lOVEVSX01PVkVfRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudFxudGhpcy54PXBvaW50ZXIueDt0aGlzLnk9cG9pbnRlci55Oy8vICBBbiBhcnJheSBvZiBhbGwgdGhlIGdhbWUgb2JqZWN0cyB0aGUgcG9pbnRlciBldmVudCBvY2N1cnJlZCBvbiBpbiBkaXNwbGF5IGxpc3Qgb3JkZXIuXG4vLyAgV2lsbCBiZSBlbXB0eSBpZiBubyBvYmplY3RzIHdlcmUgaW50ZXJhY3RlZCB3aXRoLlxuLy8gIElmIHBvcHVsYXRlZCwgdGhlIGJvdHRvbSBlbGVtZW50IChsaXN0WzBdKSBpcyB0aGUgaGlnaGVzdCBvYmplY3Qgb24gdGhlIGRpc3BsYXkgbGlzdC5cbi8vICBJZiBJbnB1dE1hbmFnZXIudG9wT25seSBpcyB0cnVlIHRoaXMgYXJyYXkgd2lsbCBvbmx5IGNvbnRhaW4gb25lIGVsZW1lbnQuXG50aGlzLmxpc3Q9Z2FtZU9iamVjdHM7Ly8gIEEgcmVmZXJlbmNlIHRvIHRoZSB0b3AtbW9zdCBvYmplY3Qgb24gdGhlIGRpc3BsYXkgbGlzdCAoYWxzbyB0aGlzLmxpc3RbMF0pLiBVbmRlZmluZWQgaWYgdGhlcmUgaXNuJ3QgYW55LlxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3RzWzBdO319KTttb2R1bGUuZXhwb3J0cz1Qb2ludGVyTW92ZUV2ZW50Oy8qKiovfSwvKiA2MTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBQb2ludGVyT3V0RXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gUG9pbnRlck91dEV2ZW50KHBvaW50ZXIsZ2FtZU9iamVjdHMpe0V2ZW50LmNhbGwodGhpcywnUE9JTlRFUl9PVVRfRVZFTlQnKTsvLyAgVGhlIFBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50XG50aGlzLnBvaW50ZXI9cG9pbnRlcjsvLyAgVGhlIG5hdGl2ZSBET00gZXZlbnQgKE1vdXNlRXZlbnQsIFRvdWNoRXZlbnQsIGV0YylcbnRoaXMuZXZlbnQ9cG9pbnRlci5ldmVudDsvLyAgVGhlIGNhbWVyYSBvbiB3aGljaCB0aGUgaW5wdXQgZXZlbnQgb2NjdXJyZWRcbnRoaXMuY2FtZXJhPXBvaW50ZXIuY2FtZXJhOy8vICBUaGUgeC95IGNvb3JkaW5hdGVzIG9mIHRoZSBldmVudFxudGhpcy54PXBvaW50ZXIueDt0aGlzLnk9cG9pbnRlci55Oy8vICBBbiBhcnJheSBvZiBhbGwgdGhlIGdhbWUgb2JqZWN0cyB0aGUgcG9pbnRlciBldmVudCBvY2N1cnJlZCBvbiBpbiBkaXNwbGF5IGxpc3Qgb3JkZXIuXG4vLyAgV2lsbCBiZSB1bmRlZmluZWQgaWYgbm8gb2JqZWN0cyB3ZXJlIGludGVyYWN0ZWQgd2l0aC5cbi8vICBJZiBwb3B1bGF0ZWQsIHRoZSBib3R0b20gZWxlbWVudCAobGlzdFswXSkgaXMgdGhlIGhpZ2hlc3Qgb2JqZWN0IG9uIHRoZSBkaXNwbGF5IGxpc3QuXG4vLyAgSWYgSW5wdXRNYW5hZ2VyLnRvcE9ubHkgaXMgdHJ1ZSB0aGlzIGFycmF5IHdpbGwgb25seSBjb250YWluIG9uZSBlbGVtZW50LlxudGhpcy5saXN0PWdhbWVPYmplY3RzOy8vICBBIHJlZmVyZW5jZSB0byB0aGUgdG9wLW1vc3Qgb2JqZWN0IG9uIHRoZSBkaXNwbGF5IGxpc3QgKGFsc28gdGhpcy5saXN0WzBdKVxudGhpcy5nYW1lT2JqZWN0PWdhbWVPYmplY3RzWzBdO319KTttb2R1bGUuZXhwb3J0cz1Qb2ludGVyT3V0RXZlbnQ7LyoqKi99LC8qIDYxMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIFBvaW50ZXJPdmVyRXZlbnQ9bmV3IENsYXNzKHtFeHRlbmRzOkV2ZW50LGluaXRpYWxpemU6ZnVuY3Rpb24gUG9pbnRlck92ZXJFdmVudChwb2ludGVyLGdhbWVPYmplY3RzKXtFdmVudC5jYWxsKHRoaXMsJ1BPSU5URVJfT1ZFUl9FVkVOVCcpOy8vICBUaGUgUG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnRcbnRoaXMucG9pbnRlcj1wb2ludGVyOy8vICBUaGUgbmF0aXZlIERPTSBldmVudCAoTW91c2VFdmVudCwgVG91Y2hFdmVudCwgZXRjKVxudGhpcy5ldmVudD1wb2ludGVyLmV2ZW50Oy8vICBUaGUgY2FtZXJhIG9uIHdoaWNoIHRoZSBpbnB1dCBldmVudCBvY2N1cnJlZFxudGhpcy5jYW1lcmE9cG9pbnRlci5jYW1lcmE7Ly8gIFRoZSB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50XG50aGlzLng9cG9pbnRlci54O3RoaXMueT1wb2ludGVyLnk7Ly8gIEFuIGFycmF5IG9mIGFsbCB0aGUgZ2FtZSBvYmplY3RzIHRoZSBwb2ludGVyIGV2ZW50IG9jY3VycmVkIG9uIGluIGRpc3BsYXkgbGlzdCBvcmRlci5cbi8vICBXaWxsIGJlIHVuZGVmaW5lZCBpZiBubyBvYmplY3RzIHdlcmUgaW50ZXJhY3RlZCB3aXRoLlxuLy8gIElmIHBvcHVsYXRlZCwgdGhlIGJvdHRvbSBlbGVtZW50IChsaXN0WzBdKSBpcyB0aGUgaGlnaGVzdCBvYmplY3Qgb24gdGhlIGRpc3BsYXkgbGlzdC5cbi8vICBJZiBJbnB1dE1hbmFnZXIudG9wT25seSBpcyB0cnVlIHRoaXMgYXJyYXkgd2lsbCBvbmx5IGNvbnRhaW4gb25lIGVsZW1lbnQuXG50aGlzLmxpc3Q9Z2FtZU9iamVjdHM7Ly8gIEEgcmVmZXJlbmNlIHRvIHRoZSB0b3AtbW9zdCBvYmplY3Qgb24gdGhlIGRpc3BsYXkgbGlzdCAoYWxzbyB0aGlzLmxpc3RbMF0pXG50aGlzLmdhbWVPYmplY3Q9Z2FtZU9iamVjdHNbMF07fX0pO21vZHVsZS5leHBvcnRzPVBvaW50ZXJPdmVyRXZlbnQ7LyoqKi99LC8qIDYxMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMSk7dmFyIFBvaW50ZXJVcEV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIFBvaW50ZXJVcEV2ZW50KHBvaW50ZXIsZ2FtZU9iamVjdHMpe0V2ZW50LmNhbGwodGhpcywnUE9JTlRFUl9VUF9FVkVOVCcpOy8vICBUaGUgUG9pbnRlciB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnRcbnRoaXMucG9pbnRlcj1wb2ludGVyOy8vICBUaGUgbmF0aXZlIERPTSBldmVudCAoTW91c2VFdmVudCwgVG91Y2hFdmVudCwgZXRjKVxudGhpcy5ldmVudD1wb2ludGVyLmV2ZW50Oy8vICBUaGUgY2FtZXJhIG9uIHdoaWNoIHRoZSBpbnB1dCBldmVudCBvY2N1cnJlZFxudGhpcy5jYW1lcmE9cG9pbnRlci5jYW1lcmE7Ly8gIFRoZSB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50XG50aGlzLng9cG9pbnRlci54O3RoaXMueT1wb2ludGVyLnk7Ly8gIEFuIGFycmF5IG9mIGFsbCB0aGUgZ2FtZSBvYmplY3RzIHRoZSBwb2ludGVyIGV2ZW50IG9jY3VycmVkIG9uIGluIGRpc3BsYXkgbGlzdCBvcmRlci5cbi8vICBXaWxsIGJlIGVtcHR5IGlmIG5vIG9iamVjdHMgd2VyZSBpbnRlcmFjdGVkIHdpdGguXG4vLyAgSWYgcG9wdWxhdGVkLCB0aGUgYm90dG9tIGVsZW1lbnQgKGxpc3RbMF0pIGlzIHRoZSBoaWdoZXN0IG9iamVjdCBvbiB0aGUgZGlzcGxheSBsaXN0LlxuLy8gIElmIElucHV0TWFuYWdlci50b3BPbmx5IGlzIHRydWUgdGhpcyBhcnJheSB3aWxsIG9ubHkgY29udGFpbiBvbmUgZWxlbWVudC5cbnRoaXMubGlzdD1nYW1lT2JqZWN0czsvLyAgQSByZWZlcmVuY2UgdG8gdGhlIHRvcC1tb3N0IG9iamVjdCBvbiB0aGUgZGlzcGxheSBsaXN0IChzYW1lIGFzIGV2ZW50Lmxpc3RbMF0pXG50aGlzLmdhbWVPYmplY3Q9Z2FtZU9iamVjdHNbMF07fX0pO21vZHVsZS5leHBvcnRzPVBvaW50ZXJVcEV2ZW50Oy8qKiovfSwvKiA2MTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApOy8vICBEcmFnIEV2ZW50c1xuLy8gIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MX0RyYWdfYW5kX0Ryb3BfQVBJXG4vLyAgTW91c2UgRXZlbnRzXG4vLyAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnRcbnZhciBTY2VuZUlucHV0TWFuYWdlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gU2NlbmVJbnB1dE1hbmFnZXIoc2NlbmUsZ2FtZSl7Ly8gIFRoZSBTY2VuZSB0aGF0IG93bnMgdGhpcyBwbHVnaW5cbnRoaXMuc2NlbmU9c2NlbmU7Ly8gIEdsb2JhbElucHV0TWFuYWdlclxudGhpcy5tYW5hZ2VyPWdhbWUuaW5wdXQ7Ly8gIEEgcmVmZXJlbmNlIHRvIHRoaXMuc2NlbmUuc3lzLmRpc3BsYXlMaXN0IChzZXQgaW4gYm9vdClcbnRoaXMuZGlzcGxheUxpc3Q7Ly8gIEEgcmVmZXJlbmNlIHRvIHRoZSB0aGlzLnNjZW5lLnN5cy5jYW1lcmFzIChzZXQgaW4gYm9vdClcbnRoaXMuY2FtZXJhczsvLyAgU2hvdWxkIHVzZSBTY2VuZSBldmVudCBkaXNwYXRjaGVyP1xudGhpcy5ldmVudHM9dGhpcy5tYW5hZ2VyLmV2ZW50czsvLyAgUHJveHkgcmVmZXJlbmNlcyBhdmFpbGFibGUgdmlhIHRoZSBTY2VuZVxudGhpcy5rZXlib2FyZD10aGlzLm1hbmFnZXIua2V5Ym9hcmQ7dGhpcy5tb3VzZT10aGlzLm1hbmFnZXIubW91c2U7Ly8gIE9ubHkgZmlyZSBjYWxsYmFja3MgYW5kIGV2ZW50cyBvbiB0aGUgdG9wLW1vc3QgR2FtZSBPYmplY3QgaW4gdGhlIGRpc3BsYXkgbGlzdCAoZW11bGF0aW5nIERPTSBiZWhhdmlvcilcbi8vICBhbmQgaWdub3JlIGFueSBHT3MgYmVsb3cgaXQsIG9yIGNhbGwgdGhlbSBhbGw/XG50aGlzLnRvcE9ubHk9dHJ1ZTsvLyAgSG93IG9mdGVuIHNob3VsZCB0aGUgcG9pbnRlciBpbnB1dCBiZSBjaGVja2VkP1xuLy8gIFRpbWUgZ2l2ZW4gaW4gbXNcbi8vICBQb2ludGVyIHdpbGwgKmFsd2F5cyogYmUgY2hlY2tlZCBpZiBpdCBoYXMgYmVlbiBtb3ZlZCBieSB0aGUgdXNlci5cbi8vICBUaGlzIGNvbnRyb2xzIGhvdyBvZnRlbiBpdCB3aWxsIGJlIHBvbGxlZCBpZiBpdCBoYXNuJ3QgYmVlbiBtb3ZlZC5cbi8vICBTZXQgdG8gMCB0byBwb2xsIGNvbnN0YW50bHkuIFNldCB0byAtMSB0byBvbmx5IHBvbGwgb24gdXNlciBtb3ZlbWVudC5cbnRoaXMucG9sbFJhdGU9LTE7Ly8gIEludGVybmFsIGNvdW50ZXJcbnRoaXMuX3BvbGxUaW1lcj0wOy8vICBUaGUgZGlzdGFuY2UsIGluIHBpeGVscywgdGhlIHBvaW50ZXIgaGFzIHRvIG1vdmUgd2hpbGUgYmVpbmcgaGVsZCBkb3duLCBiZWZvcmUgaXQgdGhpbmtzIGl0IGlzIGJlaW5nIGRyYWdnZWQuXG50aGlzLmRyYWdEaXN0YW5jZVRocmVzaG9sZD0wOy8vICBUaGUgYW1vdW50IG9mIHRpbWUsIGluIG1zLCB0aGUgcG9pbnRlciBoYXMgdG8gYmUgaGVsZCBkb3duIGJlZm9yZSBpdCB0aGlua3MgaXQgaXMgZHJhZ2dpbmcuXG50aGlzLmRyYWdUaW1lVGhyZXNob2xkPTA7Ly8gIFVzZWQgdG8gdGVtcG9yYXJpbHkgc3RvcmUgdGhlIHJlc3VsdHMgb2YgdGhlIEhpdCBUZXN0XG50aGlzLl90ZW1wPVtdOy8vICBsaXN0OiBBIGxpc3Qgb2YgYWxsIEdhbWUgT2JqZWN0cyB0aGF0IGhhdmUgYmVlbiBzZXQgdG8gYmUgaW50ZXJhY3RpdmVcbnRoaXMuX2xpc3Q9W107Ly8gIHBlbmRpbmdJbnNlcnRpb246IE9iamVjdHMgd2FpdGluZyB0byBiZSBpbnNlcnRlZCB0byB0aGUgbGlzdCBvbiB0aGUgbmV4dCBjYWxsIHRvICdiZWdpbidcbnRoaXMuX3BlbmRpbmdJbnNlcnRpb249W107Ly8gIHBlbmRpbmdSZW1vdmFsOiBPYmplY3RzIHdhaXRpbmcgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IG9uIHRoZSBuZXh0IGNhbGwgdG8gJ2JlZ2luJ1xudGhpcy5fcGVuZGluZ1JlbW92YWw9W107Ly8gIGRyYWdnYWJsZTogQSBsaXN0IG9mIGFsbCBHYW1lIE9iamVjdHMgdGhhdCBoYXZlIGJlZW4gZW5hYmxlZCBmb3IgZHJhZ2dpbmdcbnRoaXMuX2RyYWdnYWJsZT1bXTsvLyAgZHJhZzogQSBsaXN0IG9mIGFsbCBJbnRlcmFjdGl2ZSBPYmplY3RzIGN1cnJlbnRseSBjb25zaWRlcmVkIGFzIGJlaW5nICdkcmFnZ2FibGUnIGJ5IGFueSBwb2ludGVyLCBpbmRleGVkIGJ5IHBvaW50ZXIgSURcbnRoaXMuX2RyYWc9ezA6W10sMTpbXSwyOltdLDM6W10sNDpbXSw1OltdLDY6W10sNzpbXSw4OltdLDk6W119Oy8vICBvdmVyOiBBIGxpc3Qgb2YgYWxsIEludGVyYWN0aXZlIE9iamVjdHMgY3VycmVudGx5IGNvbnNpZGVyZWQgYXMgYmVpbmcgJ292ZXInIGJ5IGFueSBwb2ludGVyLCBpbmRleGVkIGJ5IHBvaW50ZXIgSURcbnRoaXMuX292ZXI9ezA6W10sMTpbXSwyOltdLDM6W10sNDpbXSw1OltdLDY6W10sNzpbXSw4OltdLDk6W119O3RoaXMuX3ZhbGlkVHlwZXM9WydvbkRvd24nLCdvblVwJywnb25PdmVyJywnb25PdXQnLCdvbk1vdmUnLCdvbkRyYWdTdGFydCcsJ29uRHJhZycsJ29uRHJhZ0VuZCcsJ29uRHJhZ0VudGVyJywnb25EcmFnTGVhdmUnLCdvbkRyYWdPdmVyJywnb25Ecm9wJ107fSwvLyAgQWRkIG9wdGlvbiB0byBnZXQgYWxsIElPcyB3aXRoaW4gYSBSZWN0IG9yIENpcmNsZVxuYm9vdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDYxNCksYmVnaW46X193ZWJwYWNrX3JlcXVpcmVfXyg2MTUpLGNsZWFyOl9fd2VicGFja19yZXF1aXJlX18oNjE2KSx1cGRhdGU6X193ZWJwYWNrX3JlcXVpcmVfXyg2MTcpLGhpdFRlc3RQb2ludGVyOl9fd2VicGFja19yZXF1aXJlX18oNjE4KSxkaXNhYmxlOl9fd2VicGFja19yZXF1aXJlX18oNjE5KSxlbmFibGU6X193ZWJwYWNrX3JlcXVpcmVfXyg2MjApLHF1ZXVlRm9ySW5zZXJ0aW9uOl9fd2VicGFja19yZXF1aXJlX18oNjIxKSxxdWV1ZUZvclJlbW92YWw6X193ZWJwYWNrX3JlcXVpcmVfXyg2MjIpLHNldHBvbGxSYXRlOl9fd2VicGFja19yZXF1aXJlX18oNjIzKSxzZXRwb2xsQWx3YXlzOl9fd2VicGFja19yZXF1aXJlX18oNjI0KSxzZXRwb2xsT25Nb3ZlOl9fd2VicGFja19yZXF1aXJlX18oNjI1KSxzZXRIaXRBcmVhOl9fd2VicGFja19yZXF1aXJlX18oNjI2KSxzZXRIaXRBcmVhQ2lyY2xlOl9fd2VicGFja19yZXF1aXJlX18oNjI3KSxzZXRIaXRBcmVhRWxsaXBzZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDYyOCksc2V0SGl0QXJlYUZyb21UZXh0dXJlOl9fd2VicGFja19yZXF1aXJlX18oNjI5KSxzZXRIaXRBcmVhUmVjdGFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oNjMwKSxzZXRIaXRBcmVhVHJpYW5nbGU6X193ZWJwYWNrX3JlcXVpcmVfXyg2MzEpLHNldERyYWdnYWJsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDYzMiksc2V0Q2FsbGJhY2s6X193ZWJwYWNrX3JlcXVpcmVfXyg2MzMpLHNldENhbGxiYWNrczpfX3dlYnBhY2tfcmVxdWlyZV9fKDYzNCksc2V0T25Eb3duQ2FsbGJhY2s6X193ZWJwYWNrX3JlcXVpcmVfXyg2MzUpLHNldE9uT3V0Q2FsbGJhY2s6X193ZWJwYWNrX3JlcXVpcmVfXyg2MzYpLHNldE9uT3ZlckNhbGxiYWNrOl9fd2VicGFja19yZXF1aXJlX18oNjM3KSxzZXRPblVwQ2FsbGJhY2s6X193ZWJwYWNrX3JlcXVpcmVfXyg2MzgpLHNldE9uTW92ZUNhbGxiYWNrOl9fd2VicGFja19yZXF1aXJlX18oNjM5KSxwcm9jZXNzT3Zlck91dEV2ZW50czpfX3dlYnBhY2tfcmVxdWlyZV9fKDY0MCkscHJvY2Vzc0Rvd25FdmVudHM6X193ZWJwYWNrX3JlcXVpcmVfXyg2NDEpLHByb2Nlc3NEcmFnRXZlbnRzOl9fd2VicGFja19yZXF1aXJlX18oNjQyKSxwcm9jZXNzVXBFdmVudHM6X193ZWJwYWNrX3JlcXVpcmVfXyg2NDMpLHByb2Nlc3NNb3ZlRXZlbnRzOl9fd2VicGFja19yZXF1aXJlX18oNjQ0KSxzb3J0R2FtZU9iamVjdHM6X193ZWJwYWNrX3JlcXVpcmVfXyg2NDUpLHNvcnRJbnRlcmFjdGl2ZU9iamVjdHM6X193ZWJwYWNrX3JlcXVpcmVfXyg2NDYpLHNvcnRIYW5kbGVyR086X193ZWJwYWNrX3JlcXVpcmVfXyg2NDcpLHNvcnRIYW5kbGVySU86X193ZWJwYWNrX3JlcXVpcmVfXyg2NDgpLC8vICBTY2VuZSB0aGF0IG93bnMgdGhpcyBpcyBzaHV0dGluZyBkb3duXG5zaHV0ZG93bjpmdW5jdGlvbiBzaHV0ZG93bigpe3RoaXMuX3RlbXAubGVuZ3RoPTA7dGhpcy5fbGlzdC5sZW5ndGg9MDt0aGlzLl9kcmFnZ2FibGUubGVuZ3RoPTA7dGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoPTA7dGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg9MDtmb3IodmFyIGk9MDtpPDEwO2krKyl7dGhpcy5fZHJhZ1tpXT1bXTt0aGlzLl9vdmVyW2ldPVtdO319LC8vICBHYW1lIGxldmVsIG51a2VcbmRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuc2h1dGRvd24oKTt0aGlzLnNjZW5lPXVuZGVmaW5lZDt0aGlzLmNhbWVyYXM9dW5kZWZpbmVkO3RoaXMubWFuYWdlcj11bmRlZmluZWQ7dGhpcy5ldmVudHM9dW5kZWZpbmVkO3RoaXMua2V5Ym9hcmQ9dW5kZWZpbmVkO3RoaXMubW91c2U9dW5kZWZpbmVkO319KTttb2R1bGUuZXhwb3J0cz1TY2VuZUlucHV0TWFuYWdlcjsvKioqL30sLyogNjE0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEJvb3Q9ZnVuY3Rpb24gQm9vdCgpe3RoaXMuY2FtZXJhcz10aGlzLnNjZW5lLnN5cy5jYW1lcmFzO3RoaXMuZGlzcGxheUxpc3Q9dGhpcy5zY2VuZS5zeXMuZGlzcGxheUxpc3Q7fTttb2R1bGUuZXhwb3J0cz1Cb290Oy8qKiovfSwvKiA2MTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQmVnaW49ZnVuY3Rpb24gQmVnaW4oKXt2YXIgcmVtb3ZlTGlzdD10aGlzLl9wZW5kaW5nUmVtb3ZhbDt2YXIgaW5zZXJ0TGlzdD10aGlzLl9wZW5kaW5nSW5zZXJ0aW9uO3ZhciB0b1JlbW92ZT1yZW1vdmVMaXN0Lmxlbmd0aDt2YXIgdG9JbnNlcnQ9aW5zZXJ0TGlzdC5sZW5ndGg7aWYodG9SZW1vdmU9PT0wJiZ0b0luc2VydD09PTApey8vICBRdWljayBiYWlsXG5yZXR1cm47fXZhciBjdXJyZW50PXRoaXMuX2xpc3Q7Ly8gIERlbGV0ZSBvbGQgZ2FtZU9iamVjdHNcbmZvcih2YXIgaT0wO2k8dG9SZW1vdmU7aSsrKXt2YXIgZ2FtZU9iamVjdD1yZW1vdmVMaXN0W2ldO3ZhciBpbmRleD1jdXJyZW50LmluZGV4T2YoZ2FtZU9iamVjdCk7aWYoaW5kZXg+LTEpe2N1cnJlbnQuc3BsaWNlKGluZGV4LDEpOy8vICBUT0RPOiBDbGVhciBmcm9tIF9kcmFnZ2FibGUsIF9kcmFnIGFuZCBfb3ZlciB0b29cbnRoaXMuY2xlYXIoZ2FtZU9iamVjdCk7fX0vLyAgQ2xlYXIgdGhlIHJlbW92YWwgbGlzdFxucmVtb3ZlTGlzdC5sZW5ndGg9MDsvLyAgTW92ZSBwZW5kaW5nSW5zZXJ0aW9uIHRvIGxpc3QgKGFsc28gY2xlYXJzIHBlbmRpbmdJbnNlcnRpb24gYXQgdGhlIHNhbWUgdGltZSlcbnRoaXMuX2xpc3Q9Y3VycmVudC5jb25jYXQoaW5zZXJ0TGlzdC5zcGxpY2UoMCkpO307bW9kdWxlLmV4cG9ydHM9QmVnaW47LyoqKi99LC8qIDYxNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDbGVhcj1mdW5jdGlvbiBDbGVhcihnYW1lT2JqZWN0KXt2YXIgaW5wdXQ9Z2FtZU9iamVjdC5pbnB1dDtpbnB1dC5nYW1lT2JqZWN0PXVuZGVmaW5lZDtpbnB1dC50YXJnZXQ9dW5kZWZpbmVkO2lucHV0LmhpdEFyZWE9dW5kZWZpbmVkO2lucHV0LmhpdEFyZWFDYWxsYmFjaz11bmRlZmluZWQ7aW5wdXQuY2FsbGJhY2tDb250ZXh0PXVuZGVmaW5lZDtnYW1lT2JqZWN0LmlucHV0PW51bGw7cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1DbGVhcjsvKioqL30sLyogNjE3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFVwZGF0ZT1mdW5jdGlvbiBVcGRhdGUodGltZSxkZWx0YSl7dmFyIHBvaW50ZXI9dGhpcy5tYW5hZ2VyLmFjdGl2ZVBvaW50ZXI7dmFyIHJ1blVwZGF0ZT1wb2ludGVyLmRpcnR5fHx0aGlzLnBvbGxSYXRlPT09MDtpZih0aGlzLnBvbGxSYXRlPi0xKXt0aGlzLl9wb2xsVGltZXItPWRlbHRhO2lmKHRoaXMuX3BvbGxUaW1lcjwwKXtydW5VcGRhdGU9dHJ1ZTsvLyAgRGlzY2FyZCB0aW1lciBkaWZmXG50aGlzLl9wb2xsVGltZXI9dGhpcy5wb2xsUmF0ZTt9fWlmKHJ1blVwZGF0ZSl7dGhpcy5fdGVtcD10aGlzLmhpdFRlc3RQb2ludGVyKHBvaW50ZXIpO3RoaXMuc29ydEdhbWVPYmplY3RzKHRoaXMuX3RlbXApO3RoaXMucHJvY2Vzc0RyYWdFdmVudHMocG9pbnRlcix0aW1lKTt0aGlzLnByb2Nlc3NPdmVyT3V0RXZlbnRzKHBvaW50ZXIpO2lmKHBvaW50ZXIuanVzdERvd24pe3RoaXMucHJvY2Vzc0Rvd25FdmVudHMocG9pbnRlcik7fWlmKHBvaW50ZXIuanVzdFVwKXt0aGlzLnByb2Nlc3NVcEV2ZW50cyhwb2ludGVyKTt9aWYocG9pbnRlci5qdXN0TW92ZWQpe3RoaXMucHJvY2Vzc01vdmVFdmVudHMocG9pbnRlcik7fX19O21vZHVsZS5leHBvcnRzPVVwZGF0ZTsvKioqL30sLyogNjE4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEhpdFRlc3RQb2ludGVyPWZ1bmN0aW9uIEhpdFRlc3RQb2ludGVyKHBvaW50ZXIpe3ZhciBjYW1lcmE9dGhpcy5jYW1lcmFzLmdldENhbWVyYUJlbG93UG9pbnRlcihwb2ludGVyKTtpZihjYW1lcmEpe3BvaW50ZXIuY2FtZXJhPWNhbWVyYTsvLyAgR2V0IGEgbGlzdCBvZiBhbGwgb2JqZWN0cyB0aGF0IGNhbiBiZSBzZWVuIGJ5IHRoZSBjYW1lcmEgYmVsb3cgdGhlIHBvaW50ZXIgaW4gdGhlIHNjZW5lIGFuZCBzdG9yZSBpbiAnb3V0cHV0JyBhcnJheS5cbi8vICBBbGwgb2JqZWN0cyBpbiB0aGlzIGFycmF5IGFyZSBpbnB1dCBlbmFibGVkLCBhcyBjaGVja2VkIGJ5IHRoZSBoaXRUZXN0IGZ1bmN0aW9uLCBzbyB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIGxhdGVyIG9uIGFzIHdlbGwuXG5yZXR1cm4gdGhpcy5tYW5hZ2VyLmhpdFRlc3QodGhpcy5fbGlzdCxwb2ludGVyLngscG9pbnRlci55LGNhbWVyYSk7fWVsc2V7cmV0dXJuW107fX07bW9kdWxlLmV4cG9ydHM9SGl0VGVzdFBvaW50ZXI7LyoqKi99LC8qIDYxOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBEaXNhYmxlPWZ1bmN0aW9uIERpc2FibGUoZ2FtZU9iamVjdCl7Z2FtZU9iamVjdC5pbnB1dC5lbmFibGVkPWZhbHNlO307bW9kdWxlLmV4cG9ydHM9RGlzYWJsZTsvKioqL30sLyogNjIwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEVuYWJsZT1mdW5jdGlvbiBFbmFibGUoZ2FtZU9iamVjdCxzaGFwZSxjYWxsYmFjayl7aWYoZ2FtZU9iamVjdC5pbnB1dCl7Ly8gIElmIGl0IGlzIGFscmVhZHkgaGFzIGFuIEludGVyYWN0aXZlT2JqZWN0IHRoZW4ganVzdCBlbmFibGUgaXQgYW5kIHJldHVyblxuZ2FtZU9iamVjdC5pbnB1dC5lbmFibGVkPXRydWU7fWVsc2V7Ly8gIENyZWF0ZSBhbiBJbnRlcmFjdGl2ZU9iamVjdCBhbmQgZW5hYmxlIGl0XG50aGlzLnNldEhpdEFyZWEoZ2FtZU9iamVjdCxzaGFwZSxjYWxsYmFjayk7fXJldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9RW5hYmxlOy8qKiovfSwvKiA2MjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgUXVldWVzIGEgR2FtZSBPYmplY3QgZm9yIGluc2VydGlvbiBpbnRvIHRoaXMgSW5wdXQgTWFuYWdlciBvbiB0aGUgbmV4dCB1cGRhdGUuXG52YXIgUXVldWVGb3JJbnNlcnRpb249ZnVuY3Rpb24gUXVldWVGb3JJbnNlcnRpb24oY2hpbGQpe2lmKHRoaXMuX3BlbmRpbmdJbnNlcnRpb24uaW5kZXhPZihjaGlsZCk9PT0tMSYmdGhpcy5fbGlzdC5pbmRleE9mKGNoaWxkKT09PS0xKXt0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLnB1c2goY2hpbGQpO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVF1ZXVlRm9ySW5zZXJ0aW9uOy8qKiovfSwvKiA2MjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgUXVldWVzIGEgR2FtZSBPYmplY3QgZm9yIHJlbW92YWwgZnJvbSB0aGlzIElucHV0IE1hbmFnZXIgb24gdGhlIG5leHQgdXBkYXRlLlxudmFyIFF1ZXVlRm9yUmVtb3ZhbD1mdW5jdGlvbiBRdWV1ZUZvclJlbW92YWwoY2hpbGQpe3RoaXMuX3BlbmRpbmdSZW1vdmFsLnB1c2goY2hpbGQpO3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9UXVldWVGb3JSZW1vdmFsOy8qKiovfSwvKiA2MjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0UG9sbFJhdGU9ZnVuY3Rpb24gU2V0UG9sbFJhdGUodmFsdWUpe3RoaXMucG9sbFJhdGU9dmFsdWU7dGhpcy5fcG9sbFRpbWVyPTA7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1TZXRQb2xsUmF0ZTsvKioqL30sLyogNjI0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldFBvbGxBbHdheXM9ZnVuY3Rpb24gU2V0UG9sbEFsd2F5cygpe3RoaXMucG9sbFJhdGU9MDt0aGlzLl9wb2xsVGltZXI9MDtyZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldFBvbGxBbHdheXM7LyoqKi99LC8qIDYyNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRQb2xsT25Nb3ZlPWZ1bmN0aW9uIFNldFBvbGxPbk1vdmUoKXt0aGlzLnBvbGxSYXRlPS0xO3RoaXMuX3BvbGxUaW1lcj0wO3JldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0UG9sbE9uTW92ZTsvKioqL30sLyogNjI2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgSW50ZXJhY3RpdmVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO3ZhciBTZXRIaXRBcmVhPWZ1bmN0aW9uIFNldEhpdEFyZWEoZ2FtZU9iamVjdHMsc2hhcGUsY2FsbGJhY2spe2lmKHNoYXBlPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5zZXRIaXRBcmVhRnJvbVRleHR1cmUoZ2FtZU9iamVjdHMpO31pZighQXJyYXkuaXNBcnJheShnYW1lT2JqZWN0cykpe2dhbWVPYmplY3RzPVtnYW1lT2JqZWN0c107fWZvcih2YXIgaT0wO2k8Z2FtZU9iamVjdHMubGVuZ3RoO2krKyl7dmFyIGdhbWVPYmplY3Q9Z2FtZU9iamVjdHNbaV07Z2FtZU9iamVjdC5pbnB1dD1JbnRlcmFjdGl2ZU9iamVjdChnYW1lT2JqZWN0LHNoYXBlLGNhbGxiYWNrKTt0aGlzLnF1ZXVlRm9ySW5zZXJ0aW9uKGdhbWVPYmplY3QpO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldEhpdEFyZWE7LyoqKi99LC8qIDYyNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENpcmNsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ4KTt2YXIgQ2lyY2xlQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXygzNik7dmFyIFNldEhpdEFyZWFDaXJjbGU9ZnVuY3Rpb24gU2V0SGl0QXJlYUNpcmNsZShnYW1lT2JqZWN0cyx4LHkscmFkaXVzLGNhbGxiYWNrKXtpZihjYWxsYmFjaz09PXVuZGVmaW5lZCl7Y2FsbGJhY2s9Q2lyY2xlQ29udGFpbnM7fXZhciBzaGFwZT1uZXcgQ2lyY2xlKHgseSxyYWRpdXMpO3JldHVybiB0aGlzLnNldEhpdEFyZWEoZ2FtZU9iamVjdHMsc2hhcGUsY2FsbGJhY2spO307bW9kdWxlLmV4cG9ydHM9U2V0SGl0QXJlYUNpcmNsZTsvKioqL30sLyogNjI4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgRWxsaXBzZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTt2YXIgRWxsaXBzZUNvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oNTYpO3ZhciBTZXRIaXRBcmVhRWxsaXBzZT1mdW5jdGlvbiBTZXRIaXRBcmVhRWxsaXBzZShnYW1lT2JqZWN0cyx4LHksd2lkdGgsaGVpZ2h0LGNhbGxiYWNrKXtpZihjYWxsYmFjaz09PXVuZGVmaW5lZCl7Y2FsbGJhY2s9RWxsaXBzZUNvbnRhaW5zO312YXIgc2hhcGU9bmV3IEVsbGlwc2UoeCx5LHdpZHRoLGhlaWdodCk7cmV0dXJuIHRoaXMuc2V0SGl0QXJlYShnYW1lT2JqZWN0cyxzaGFwZSxjYWxsYmFjayk7fTttb2R1bGUuZXhwb3J0cz1TZXRIaXRBcmVhRWxsaXBzZTsvKioqL30sLyogNjI5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgSW50ZXJhY3RpdmVPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO3ZhciBSZWN0YW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxNCk7dmFyIFJlY3RhbmdsZUNvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oMjcpO3ZhciBTZXRIaXRBcmVhRnJvbVRleHR1cmU9ZnVuY3Rpb24gU2V0SGl0QXJlYUZyb21UZXh0dXJlKGdhbWVPYmplY3RzLGNhbGxiYWNrKXtpZihjYWxsYmFjaz09PXVuZGVmaW5lZCl7Y2FsbGJhY2s9UmVjdGFuZ2xlQ29udGFpbnM7fWlmKCFBcnJheS5pc0FycmF5KGdhbWVPYmplY3RzKSl7Z2FtZU9iamVjdHM9W2dhbWVPYmplY3RzXTt9Zm9yKHZhciBpPTA7aTxnYW1lT2JqZWN0cy5sZW5ndGg7aSsrKXt2YXIgZ2FtZU9iamVjdD1nYW1lT2JqZWN0c1tpXTt2YXIgZnJhbWU9Z2FtZU9iamVjdC5mcmFtZTt2YXIgd2lkdGg9MDt2YXIgaGVpZ2h0PTA7aWYoZnJhbWUpe3dpZHRoPWZyYW1lLndpZHRoO2hlaWdodD1mcmFtZS5oZWlnaHQ7fWVsc2UgaWYoZ2FtZU9iamVjdC53aWR0aCl7d2lkdGg9Z2FtZU9iamVjdC53aWR0aDtoZWlnaHQ9Z2FtZU9iamVjdC5oZWlnaHQ7fWlmKHdpZHRoIT09MCYmaGVpZ2h0IT09MCl7Z2FtZU9iamVjdC5pbnB1dD1JbnRlcmFjdGl2ZU9iamVjdChnYW1lT2JqZWN0LG5ldyBSZWN0YW5nbGUoMCwwLHdpZHRoLGhlaWdodCksY2FsbGJhY2spO3RoaXMucXVldWVGb3JJbnNlcnRpb24oZ2FtZU9iamVjdCk7fX1yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldEhpdEFyZWFGcm9tVGV4dHVyZTsvKioqL30sLyogNjMwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUmVjdGFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oMTQpO3ZhciBSZWN0YW5nbGVDb250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDI3KTt2YXIgU2V0SGl0QXJlYVJlY3RhbmdsZT1mdW5jdGlvbiBTZXRIaXRBcmVhUmVjdGFuZ2xlKGdhbWVPYmplY3RzLHgseSx3aWR0aCxoZWlnaHQsY2FsbGJhY2spe2lmKGNhbGxiYWNrPT09dW5kZWZpbmVkKXtjYWxsYmFjaz1SZWN0YW5nbGVDb250YWluczt9dmFyIHNoYXBlPW5ldyBSZWN0YW5nbGUoeCx5LHdpZHRoLGhlaWdodCk7cmV0dXJuIHRoaXMuc2V0SGl0QXJlYShnYW1lT2JqZWN0cyxzaGFwZSxjYWxsYmFjayk7fTttb2R1bGUuZXhwb3J0cz1TZXRIaXRBcmVhUmVjdGFuZ2xlOy8qKiovfSwvKiA2MzEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUcmlhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTt2YXIgVHJpYW5nbGVDb250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTt2YXIgU2V0SGl0QXJlYVRyaWFuZ2xlPWZ1bmN0aW9uIFNldEhpdEFyZWFUcmlhbmdsZShnYW1lT2JqZWN0cyx4MSx5MSx4Mix5Mix4Myx5MyxjYWxsYmFjayl7aWYoY2FsbGJhY2s9PT11bmRlZmluZWQpe2NhbGxiYWNrPVRyaWFuZ2xlQ29udGFpbnM7fXZhciBzaGFwZT1uZXcgVHJpYW5nbGUoeDEseTEseDIseTIseDMseTMpO3JldHVybiB0aGlzLnNldEhpdEFyZWEoZ2FtZU9iamVjdHMsc2hhcGUsY2FsbGJhY2spO307bW9kdWxlLmV4cG9ydHM9U2V0SGl0QXJlYVRyaWFuZ2xlOy8qKiovfSwvKiA2MzIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0RHJhZ2dhYmxlPWZ1bmN0aW9uIFNldERyYWdnYWJsZShnYW1lT2JqZWN0cyx2YWx1ZSl7aWYodmFsdWU9PT11bmRlZmluZWQpe3ZhbHVlPXRydWU7fWlmKCFBcnJheS5pc0FycmF5KGdhbWVPYmplY3RzKSl7Z2FtZU9iamVjdHM9W2dhbWVPYmplY3RzXTt9Zm9yKHZhciBpPTA7aTxnYW1lT2JqZWN0cy5sZW5ndGg7aSsrKXt2YXIgZ2FtZU9iamVjdD1nYW1lT2JqZWN0c1tpXTtnYW1lT2JqZWN0LmlucHV0LmRyYWdnYWJsZT12YWx1ZTt2YXIgaW5kZXg9dGhpcy5fZHJhZ2dhYmxlLmluZGV4T2YoZ2FtZU9iamVjdCk7aWYodmFsdWUmJmluZGV4PT09LTEpe3RoaXMuX2RyYWdnYWJsZS5wdXNoKGdhbWVPYmplY3QpO31lbHNlIGlmKCF2YWx1ZSYmaW5kZXg+LTEpe3RoaXMuX2RyYWdnYWJsZS5zcGxpY2UoaW5kZXgsMSk7fX1yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldERyYWdnYWJsZTsvKioqL30sLyogNjMzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldENhbGxiYWNrPWZ1bmN0aW9uIFNldENhbGxiYWNrKGdhbWVPYmplY3RzLHR5cGUsY2FsbGJhY2ssY29udGV4dCl7aWYodGhpcy5fdmFsaWRUeXBlcy5pbmRleE9mKHR5cGUpPT09LTEpe3JldHVybiB0aGlzO31pZighQXJyYXkuaXNBcnJheShnYW1lT2JqZWN0cykpe2dhbWVPYmplY3RzPVtnYW1lT2JqZWN0c107fWZvcih2YXIgaT0wO2k8Z2FtZU9iamVjdHMubGVuZ3RoO2krKyl7dmFyIGdhbWVPYmplY3Q9Z2FtZU9iamVjdHNbaV07aWYoZ2FtZU9iamVjdC5pbnB1dCl7Z2FtZU9iamVjdC5pbnB1dFt0eXBlXT1jYWxsYmFjaztpZihjb250ZXh0KXtnYW1lT2JqZWN0LmlucHV0LmNhbGxiYWNrQ29udGV4dD1jb250ZXh0O319fXJldHVybiB0aGlzO307bW9kdWxlLmV4cG9ydHM9U2V0Q2FsbGJhY2s7LyoqKi99LC8qIDYzNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO3ZhciBTZXRDYWxsYmFja3M9ZnVuY3Rpb24gU2V0Q2FsbGJhY2tzKGdhbWVPYmplY3RzLGNvbmZpZyl7dmFyIG9uRG93bj1HZXRGYXN0VmFsdWUoY29uZmlnLCdvbkRvd24nLG51bGwpO3ZhciBvblVwPUdldEZhc3RWYWx1ZShjb25maWcsJ29uVXAnLG51bGwpO3ZhciBvbk92ZXI9R2V0RmFzdFZhbHVlKGNvbmZpZywnb25PdmVyJyxudWxsKTt2YXIgb25PdXQ9R2V0RmFzdFZhbHVlKGNvbmZpZywnb25PdXQnLG51bGwpO3ZhciBvbk1vdmU9R2V0RmFzdFZhbHVlKGNvbmZpZywnb25Nb3ZlJyxudWxsKTt2YXIgY29udGV4dD1HZXRGYXN0VmFsdWUoY29uZmlnLCdjb250ZXh0JyxudWxsKTtpZihvbkRvd24pe3RoaXMuc2V0T25Eb3duQ2FsbGJhY2soZ2FtZU9iamVjdHMsb25Eb3duLGNvbnRleHQpO31pZihvblVwKXt0aGlzLnNldE9uRG93bkNhbGxiYWNrKGdhbWVPYmplY3RzLG9uVXAsY29udGV4dCk7fWlmKG9uT3Zlcil7dGhpcy5zZXRPbkRvd25DYWxsYmFjayhnYW1lT2JqZWN0cyxvbk92ZXIsY29udGV4dCk7fWlmKG9uT3V0KXt0aGlzLnNldE9uRG93bkNhbGxiYWNrKGdhbWVPYmplY3RzLG9uT3V0LGNvbnRleHQpO31pZihvbk1vdmUpe3RoaXMuc2V0T25Nb3ZlQ2FsbGJhY2soZ2FtZU9iamVjdHMsb25Nb3ZlLGNvbnRleHQpO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVNldENhbGxiYWNrczsvKioqL30sLyogNjM1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNldE9uRG93bkNhbGxiYWNrPWZ1bmN0aW9uIFNldE9uRG93bkNhbGxiYWNrKGdhbWVPYmplY3RzLGNhbGxiYWNrLGNvbnRleHQpe3JldHVybiB0aGlzLnNldENhbGxiYWNrKGdhbWVPYmplY3RzLCdvbkRvd24nLGNhbGxiYWNrLGNvbnRleHQpO307bW9kdWxlLmV4cG9ydHM9U2V0T25Eb3duQ2FsbGJhY2s7LyoqKi99LC8qIDYzNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRPbk91dENhbGxiYWNrPWZ1bmN0aW9uIFNldE9uT3V0Q2FsbGJhY2soZ2FtZU9iamVjdHMsY2FsbGJhY2ssY29udGV4dCl7cmV0dXJuIHRoaXMuc2V0Q2FsbGJhY2soZ2FtZU9iamVjdHMsJ29uT3V0JyxjYWxsYmFjayxjb250ZXh0KTt9O21vZHVsZS5leHBvcnRzPVNldE9uT3V0Q2FsbGJhY2s7LyoqKi99LC8qIDYzNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRPbk92ZXJDYWxsYmFjaz1mdW5jdGlvbiBTZXRPbk92ZXJDYWxsYmFjayhnYW1lT2JqZWN0cyxjYWxsYmFjayxjb250ZXh0KXtyZXR1cm4gdGhpcy5zZXRDYWxsYmFjayhnYW1lT2JqZWN0cywnb25PdmVyJyxjYWxsYmFjayxjb250ZXh0KTt9O21vZHVsZS5leHBvcnRzPVNldE9uT3ZlckNhbGxiYWNrOy8qKiovfSwvKiA2MzggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0T25VcENhbGxiYWNrPWZ1bmN0aW9uIFNldE9uVXBDYWxsYmFjayhnYW1lT2JqZWN0cyxjYWxsYmFjayxjb250ZXh0KXtyZXR1cm4gdGhpcy5zZXRDYWxsYmFjayhnYW1lT2JqZWN0cywnb25VcCcsY2FsbGJhY2ssY29udGV4dCk7fTttb2R1bGUuZXhwb3J0cz1TZXRPblVwQ2FsbGJhY2s7LyoqKi99LC8qIDYzOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRPbk1vdmVDYWxsYmFjaz1mdW5jdGlvbiBTZXRPbk1vdmVDYWxsYmFjayhnYW1lT2JqZWN0cyxjYWxsYmFjayxjb250ZXh0KXtyZXR1cm4gdGhpcy5zZXRDYWxsYmFjayhnYW1lT2JqZWN0cywnb25Nb3ZlJyxjYWxsYmFjayxjb250ZXh0KTt9O21vZHVsZS5leHBvcnRzPVNldE9uTW92ZUNhbGxiYWNrOy8qKiovfSwvKiA2NDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBJbnB1dEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMzkpO3ZhciBQcm9jZXNzT3Zlck91dEV2ZW50cz1mdW5jdGlvbiBQcm9jZXNzT3Zlck91dEV2ZW50cyhwb2ludGVyKXt2YXIgY3VycmVudGx5T3Zlcj10aGlzLl90ZW1wO3ZhciBpO3ZhciBnYW1lT2JqZWN0O3ZhciBqdXN0T3V0PVtdO3ZhciBqdXN0T3Zlcj1bXTt2YXIgc3RpbGxPdmVyPVtdO3ZhciBwcmV2aW91c2x5T3Zlcj10aGlzLl9vdmVyW3BvaW50ZXIuaWRdOy8vICBHbyB0aHJvdWdoIGFsbCBvYmplY3RzIHRoZSBwb2ludGVyIHdhcyBwcmV2aW91c2x5IG92ZXIsIGFuZCBzZWUgaWYgaXQgc3RpbGwgaXNcbmZvcihpPTA7aTxwcmV2aW91c2x5T3Zlci5sZW5ndGg7aSsrKXtnYW1lT2JqZWN0PXByZXZpb3VzbHlPdmVyW2ldO2lmKGN1cnJlbnRseU92ZXIuaW5kZXhPZihnYW1lT2JqZWN0KT09PS0xKXsvLyAgTm90IGluIHRoZSBjdXJyZW50bHlPdmVyIGFycmF5XG5qdXN0T3V0LnB1c2goZ2FtZU9iamVjdCk7fWVsc2V7Ly8gIEluIHRoZSBjdXJyZW50bHlPdmVyIGFycmF5XG5zdGlsbE92ZXIucHVzaChnYW1lT2JqZWN0KTt9fS8vICBHbyB0aHJvdWdoIHRoZSBoaXQgdGVzdCByZXN1bHRzXG5mb3IoaT0wO2k8Y3VycmVudGx5T3Zlci5sZW5ndGg7aSsrKXtnYW1lT2JqZWN0PWN1cnJlbnRseU92ZXJbaV07Ly8gIElzIHRoaXMgbmV3bHkgb3Zlcj9cbmlmKHByZXZpb3VzbHlPdmVyLmluZGV4T2YoZ2FtZU9iamVjdCk9PT0tMSl7anVzdE92ZXIucHVzaChnYW1lT2JqZWN0KTt9fS8vICBCeSB0aGlzIHBvaW50IHRoZSBhcnJheXMgYXJlIGZpbGxlZCwgc28gbm93IHdlIGNhbiBwcm9jZXNzIHdoYXQgaGFwcGVuZWQuLi5cbi8vICBQcm9jZXNzIHRoZSBKdXN0IE91dCBvYmplY3RzXG52YXIgdG90YWw9anVzdE91dC5sZW5ndGg7aWYodG90YWw+MCl7dGhpcy5zb3J0R2FtZU9iamVjdHMoanVzdE91dCk7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IElucHV0RXZlbnQuUE9JTlRFUl9PVVQocG9pbnRlcixqdXN0T3V0KSk7Ly8gIENhbGwgb25PdXQgZm9yIGV2ZXJ5dGhpbmcgaW4gdGhlIGp1c3RPdXQgYXJyYXlcbmZvcihpPTA7aTx0b3RhbDtpKyspe2dhbWVPYmplY3Q9anVzdE91dFtpXTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5HQU1FX09CSkVDVF9PVVQocG9pbnRlcixnYW1lT2JqZWN0KSk7Z2FtZU9iamVjdC5pbnB1dC5vbk91dChnYW1lT2JqZWN0LHBvaW50ZXIpO2lmKHRoaXMudG9wT25seSl7YnJlYWs7fX19Ly8gIFByb2Nlc3MgdGhlIEp1c3QgT3ZlciBvYmplY3RzXG50b3RhbD1qdXN0T3Zlci5sZW5ndGg7aWYodG90YWw+MCl7dGhpcy5zb3J0R2FtZU9iamVjdHMoanVzdE92ZXIpO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBJbnB1dEV2ZW50LlBPSU5URVJfT1ZFUihwb2ludGVyLGp1c3RPdmVyKSk7Ly8gIENhbGwgb25PdmVyIGZvciBldmVyeXRoaW5nIGluIHRoZSBqdXN0T3ZlciBhcnJheVxuZm9yKGk9MDtpPHRvdGFsO2krKyl7Z2FtZU9iamVjdD1qdXN0T3ZlcltpXTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5HQU1FX09CSkVDVF9PVkVSKHBvaW50ZXIsZ2FtZU9iamVjdCkpO2dhbWVPYmplY3QuaW5wdXQub25PdmVyKGdhbWVPYmplY3QscG9pbnRlcixnYW1lT2JqZWN0LmlucHV0LmxvY2FsWCxnYW1lT2JqZWN0LmlucHV0LmxvY2FsWSk7aWYodGhpcy50b3BPbmx5KXticmVhazt9fX0vLyAgQWRkIHRoZSBjb250ZW50cyBvZiBqdXN0T3ZlciB0byB0aGUgcHJldmlvdXNseSBvdmVyIGFycmF5XG5wcmV2aW91c2x5T3Zlcj1zdGlsbE92ZXIuY29uY2F0KGp1c3RPdmVyKTsvLyAgVGhlbiBzb3J0IGl0IGludG8gZGlzcGxheSBsaXN0IG9yZGVyXG50aGlzLl9vdmVyW3BvaW50ZXIuaWRdPXRoaXMuc29ydEdhbWVPYmplY3RzKHByZXZpb3VzbHlPdmVyKTt9O21vZHVsZS5leHBvcnRzPVByb2Nlc3NPdmVyT3V0RXZlbnRzOy8qKiovfSwvKiA2NDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBJbnB1dEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMzkpO3ZhciBQcm9jZXNzRG93bkV2ZW50cz1mdW5jdGlvbiBQcm9jZXNzRG93bkV2ZW50cyhwb2ludGVyKXt2YXIgY3VycmVudGx5T3Zlcj10aGlzLl90ZW1wO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBJbnB1dEV2ZW50LlBPSU5URVJfRE9XTihwb2ludGVyLGN1cnJlbnRseU92ZXIpKTsvLyAgR28gdGhyb3VnaCBhbGwgb2JqZWN0cyB0aGUgcG9pbnRlciB3YXMgb3ZlciBhbmQgZmlyZSB0aGVpciBldmVudHMgLyBjYWxsYmFja3NcbmZvcih2YXIgaT0wO2k8Y3VycmVudGx5T3Zlci5sZW5ndGg7aSsrKXt2YXIgZ2FtZU9iamVjdD1jdXJyZW50bHlPdmVyW2ldO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBJbnB1dEV2ZW50LkdBTUVfT0JKRUNUX0RPV04ocG9pbnRlcixnYW1lT2JqZWN0KSk7Z2FtZU9iamVjdC5pbnB1dC5vbkRvd24oZ2FtZU9iamVjdCxwb2ludGVyLGdhbWVPYmplY3QuaW5wdXQubG9jYWxYLGdhbWVPYmplY3QuaW5wdXQubG9jYWxZKTtpZih0aGlzLnRvcE9ubHkpe2JyZWFrO319fTttb2R1bGUuZXhwb3J0cz1Qcm9jZXNzRG93bkV2ZW50czsvKioqL30sLyogNjQyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgRGlzdGFuY2VCZXR3ZWVuPV9fd2VicGFja19yZXF1aXJlX18oNTEpO3ZhciBJbnB1dEV2ZW50PV9fd2VicGFja19yZXF1aXJlX18oMzkpO3ZhciBQcm9jZXNzRHJhZ0V2ZW50cz1mdW5jdGlvbiBQcm9jZXNzRHJhZ0V2ZW50cyhwb2ludGVyLHRpbWUpe2lmKHRoaXMuX2RyYWdnYWJsZS5sZW5ndGg9PT0wKXsvLyAgVGhlcmUgYXJlIG5vIGRyYWdnYWJsZSBpdGVtcywgc28gbGV0J3Mgbm90IGV2ZW4gYm90aGVyIGdvaW5nIGZ1cnRoZXJcbnJldHVybjt9dmFyIGk7dmFyIGM7dmFyIGdhbWVPYmplY3Q7dmFyIGxpc3Q7dmFyIGlucHV0O3ZhciBjdXJyZW50bHlPdmVyPXRoaXMuX3RlbXA7Ly8gIDAgPSBOb3QgZHJhZ2dpbmcgYW55dGhpbmdcbi8vICAxID0gUHJpbWFyeSBidXR0b24gZG93biBhbmQgb2JqZWN0cyBiZWxvdywgc28gY29sbGVjdCBhIGRyYWdsaXN0XG4vLyAgMiA9IFBvaW50ZXIgYmVpbmcgY2hlY2tlZCBpZiBtZWV0cyBkcmFnIGNyaXRlcmlhXG4vLyAgMyA9IFBvaW50ZXIgbWVldHMgY3JpdGVyaWEsIG5vdGlmeSB0aGUgZHJhZ2xpc3Rcbi8vICA0ID0gUG9pbnRlciBhY3RpdmVseSBkcmFnZ2luZyB0aGUgZHJhZ2xpc3QgYW5kIGhhcyBtb3ZlZFxuLy8gIDUgPSBQb2ludGVyIGFjdGl2ZWx5IGRyYWdnaW5nIGJ1dCBoYXMgYmVlbiByZWxlYXNlZCwgbm90aWZ5IGRyYWdsaXN0XG5pZihwb2ludGVyLmRyYWdTdGF0ZT09PTAmJnBvaW50ZXIucHJpbWFyeURvd24mJnBvaW50ZXIuanVzdERvd24mJmN1cnJlbnRseU92ZXIubGVuZ3RoPjApe3BvaW50ZXIuZHJhZ1N0YXRlPTE7fWVsc2UgaWYocG9pbnRlci5kcmFnU3RhdGU+MCYmIXBvaW50ZXIucHJpbWFyeURvd24mJnBvaW50ZXIuanVzdFVwKXtwb2ludGVyLmRyYWdTdGF0ZT01O30vLyAgUHJvY2VzcyB0aGUgdmFyaW91cyBkcmFnIHN0YXRlc1xuLy8gIDEgPSBQcmltYXJ5IGJ1dHRvbiBkb3duIGFuZCBvYmplY3RzIGJlbG93LCBzbyBjb2xsZWN0IGEgZHJhZ2xpc3RcbmlmKHBvaW50ZXIuZHJhZ1N0YXRlPT09MSl7Ly8gIEdldCBkcmFnZ2FibGUgb2JqZWN0cywgc29ydCB0aGVtLCBwaWNrIHRoZSB0b3AgKG9yIGFsbCkgYW5kIHN0b3JlIHRoZW0gc29tZXdoZXJlXG52YXIgZHJhZ2xpc3Q9W107Zm9yKGk9MDtpPGN1cnJlbnRseU92ZXIubGVuZ3RoO2krKyl7Z2FtZU9iamVjdD1jdXJyZW50bHlPdmVyW2ldO2lmKGdhbWVPYmplY3QuaW5wdXQuZHJhZ2dhYmxlKXtkcmFnbGlzdC5wdXNoKGdhbWVPYmplY3QpO319aWYoZHJhZ2xpc3QubGVuZ3RoPT09MCl7cG9pbnRlci5kcmFnU3RhdGU9MDtyZXR1cm47fWVsc2UgaWYoZHJhZ2xpc3QubGVuZ3RoPjEpe3RoaXMuc29ydEdhbWVPYmplY3RzKGRyYWdsaXN0KTtpZih0aGlzLnRvcE9ubHkpe2RyYWdsaXN0LnNwbGljZSgxKTt9fS8vICBkcmFnbGlzdCBub3cgY29udGFpbnMgYWxsIHBvdGVudGlhbCBjYW5kaWRhdGVzIGZvciBkcmFnZ2luZ1xudGhpcy5fZHJhZ1twb2ludGVyLmlkXT1kcmFnbGlzdDtpZih0aGlzLmRyYWdEaXN0YW5jZVRocmVzaG9sZD09PTAmJnRoaXMuZHJhZ1RpbWVUaHJlc2hvbGQ9PT0wKXsvLyAgTm8gZHJhZyBjcml0ZXJpYSwgc28gc25hcCBpbW1lZGlhdGVseSB0byBtb2RlIDNcbnBvaW50ZXIuZHJhZ1N0YXRlPTM7fWVsc2V7Ly8gIENoZWNrIHRoZSBkaXN0YW5jZSAvIHRpbWVcbnBvaW50ZXIuZHJhZ1N0YXRlPTI7fX0vLyAgMiA9IFBvaW50ZXIgYmVpbmcgY2hlY2tlZCBpZiBtZWV0cyBkcmFnIGNyaXRlcmlhXG5pZihwb2ludGVyLmRyYWdTdGF0ZT09PTIpey8vICBIYXMgaXQgbW92ZWQgZmFyIGVub3VnaCB0byBiZSBjb25zaWRlcmVkIGEgZHJhZz9cbmlmKHRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkPjAmJkRpc3RhbmNlQmV0d2Vlbihwb2ludGVyLngscG9pbnRlci55LHBvaW50ZXIuZG93blgscG9pbnRlci5kb3duWSk+PXRoaXMuZHJhZ0Rpc3RhbmNlVGhyZXNob2xkKXsvLyAgQWxyaWdodHksIHdlJ3ZlIGdvdCBhIGRyYWcgZ29pbmcgb24gLi4uXG5wb2ludGVyLmRyYWdTdGF0ZT0zO30vLyAgSGVsZCBkb3duIGxvbmcgZW5vdWdoIHRvIGJlIGNvbnNpZGVyZWQgYSBkcmFnP1xuaWYodGhpcy5kcmFnVGltZVRocmVzaG9sZD4wJiZ0aW1lPj1wb2ludGVyLmRvd25UaW1lK3RoaXMuZHJhZ1RpbWVUaHJlc2hvbGQpey8vICBBbHJpZ2h0eSwgd2UndmUgZ290IGEgZHJhZyBnb2luZyBvbiAuLi5cbnBvaW50ZXIuZHJhZ1N0YXRlPTM7fX0vLyAgMyA9IFBvaW50ZXIgbWVldHMgY3JpdGVyaWEgYW5kIGlzIGZyZXNobHkgZG93biwgbm90aWZ5IHRoZSBkcmFnbGlzdFxuaWYocG9pbnRlci5kcmFnU3RhdGU9PT0zKXtsaXN0PXRoaXMuX2RyYWdbcG9pbnRlci5pZF07Zm9yKGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7Z2FtZU9iamVjdD1saXN0W2ldO2lucHV0PWdhbWVPYmplY3QuaW5wdXQ7aW5wdXQuZHJhZ1N0YXRlPTI7aW5wdXQuZHJhZ1g9cG9pbnRlci54LWdhbWVPYmplY3QueDtpbnB1dC5kcmFnWT1wb2ludGVyLnktZ2FtZU9iamVjdC55O2lucHV0LmRyYWdTdGFydFg9Z2FtZU9iamVjdC54O2lucHV0LmRyYWdTdGFydFk9Z2FtZU9iamVjdC55O3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBJbnB1dEV2ZW50LkRSQUdfU1RBUlQocG9pbnRlcixnYW1lT2JqZWN0KSk7aW5wdXQub25EcmFnU3RhcnQoZ2FtZU9iamVjdCxwb2ludGVyLGlucHV0LmRyYWdYLGlucHV0LmRyYWdZKTt9cG9pbnRlci5kcmFnU3RhdGU9NDtyZXR1cm47fS8vICA0ID0gUG9pbnRlciBhY3RpdmVseSBkcmFnZ2luZyB0aGUgZHJhZ2xpc3QgYW5kIGhhcyBtb3ZlZFxuaWYocG9pbnRlci5kcmFnU3RhdGU9PT00JiZwb2ludGVyLmp1c3RNb3ZlZCl7Ly8gIExldCdzIGZpbHRlciBvdXQgY3VycmVudGx5T3ZlciBmb3IgZHJvcFpvbmVzIG9ubHlcbnZhciBkcm9wWm9uZXM9W107Zm9yKGM9MDtjPGN1cnJlbnRseU92ZXIubGVuZ3RoO2MrKyl7aWYoY3VycmVudGx5T3ZlcltjXS5pbnB1dC5kcm9wWm9uZSl7ZHJvcFpvbmVzLnB1c2goY3VycmVudGx5T3ZlcltjXSk7fX1saXN0PXRoaXMuX2RyYWdbcG9pbnRlci5pZF07Zm9yKGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7Z2FtZU9iamVjdD1saXN0W2ldO2lucHV0PWdhbWVPYmplY3QuaW5wdXQ7Ly8gIElmIHRoaXMgR08gaGFzIGEgdGFyZ2V0IHRoZW4gbGV0J3MgY2hlY2sgaXRcbmlmKGlucHV0LnRhcmdldCl7dmFyIGluZGV4PWRyb3Bab25lcy5pbmRleE9mKGlucHV0LnRhcmdldCk7Ly8gIEdvdCBhIHRhcmdldCwgYXJlIHdlIHN0aWxsIG92ZXIgaXQ/XG5pZihpbmRleD09PTApey8vICBXZSdyZSBzdGlsbCBvdmVyIGl0LCBhbmQgaXQncyBzdGlsbCB0aGUgdG9wIG9mIHRoZSBkaXNwbGF5IGxpc3QsIHBoZXcgLi4uXG50aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5EUkFHX09WRVIocG9pbnRlcixnYW1lT2JqZWN0LGlucHV0LnRhcmdldCkpO31lbHNlIGlmKGluZGV4PjApey8vICBTdGlsbCBvdmVyIGl0IGJ1dCBpdCdzIG5vIGxvbmdlciB0b3Agb2YgdGhlIGRpc3BsYXkgbGlzdCAodGFyZ2V0cyBtdXN0IGFsd2F5cyBiZSBhdCB0aGUgdG9wKVxudGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IElucHV0RXZlbnQuRFJBR19MRUFWRShwb2ludGVyLGdhbWVPYmplY3QsaW5wdXQudGFyZ2V0KSk7aW5wdXQudGFyZ2V0PWRyb3Bab25lc1swXTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5EUkFHX0VOVEVSKHBvaW50ZXIsZ2FtZU9iamVjdCxpbnB1dC50YXJnZXQpKTt9ZWxzZXsvLyAgTm9wZSwgd2UndmUgbW92ZWQgb24gKG9yIHRoZSB0YXJnZXQgaGFzISksIGxlYXZlIHRoZSBvbGQgdGFyZ2V0XG50aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5EUkFHX0xFQVZFKHBvaW50ZXIsZ2FtZU9iamVjdCxpbnB1dC50YXJnZXQpKTsvLyAgQW55dGhpbmcgbmV3IHRvIHJlcGxhY2UgaXQ/XG4vLyAgWXVwIVxuaWYoZHJvcFpvbmVzWzBdKXtpbnB1dC50YXJnZXQ9ZHJvcFpvbmVzWzBdO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBJbnB1dEV2ZW50LkRSQUdfRU5URVIocG9pbnRlcixnYW1lT2JqZWN0LGlucHV0LnRhcmdldCkpO31lbHNley8vICBOb3BlXG5pbnB1dC50YXJnZXQ9bnVsbDt9fX1lbHNlIGlmKCFpbnB1dC50YXJnZXQmJmRyb3Bab25lc1swXSl7aW5wdXQudGFyZ2V0PWRyb3Bab25lc1swXTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5EUkFHX0VOVEVSKHBvaW50ZXIsZ2FtZU9iamVjdCxpbnB1dC50YXJnZXQpKTt9dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IElucHV0RXZlbnQuRFJBRyhwb2ludGVyLGdhbWVPYmplY3QpKTtpbnB1dC5vbkRyYWcoZ2FtZU9iamVjdCxwb2ludGVyKTt9fS8vICA1ID0gUG9pbnRlciBhY3RpdmVseSBkcmFnZ2luZyBidXQgaGFzIGJlZW4gcmVsZWFzZWQsIG5vdGlmeSBkcmFnbGlzdFxuaWYocG9pbnRlci5kcmFnU3RhdGU9PT01KXtsaXN0PXRoaXMuX2RyYWdbcG9pbnRlci5pZF07Zm9yKGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7Z2FtZU9iamVjdD1saXN0W2ldO2lucHV0PWdhbWVPYmplY3QuaW5wdXQ7aW5wdXQuZHJhZ1N0YXRlPTA7aW5wdXQuZHJhZ1g9aW5wdXQubG9jYWxYLWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblg7aW5wdXQuZHJhZ1k9aW5wdXQubG9jYWxZLWdhbWVPYmplY3QuZGlzcGxheU9yaWdpblk7dmFyIGRyb3BwZWQ9ZmFsc2U7aWYoaW5wdXQudGFyZ2V0KXt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5EUk9QKHBvaW50ZXIsZ2FtZU9iamVjdCxpbnB1dC50YXJnZXQpKTtpbnB1dC50YXJnZXQ9bnVsbDtkcm9wcGVkPXRydWU7fS8vICBBbmQgZmluYWxseSB0aGUgZHJhZ2VuZCBldmVudFxudGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IElucHV0RXZlbnQuRFJBR19FTkQocG9pbnRlcixnYW1lT2JqZWN0LGRyb3BwZWQpKTtpbnB1dC5vbkRyYWdFbmQoZ2FtZU9iamVjdCxwb2ludGVyLGlucHV0LmRyYWdYLGlucHV0LmRyYWdZKTt9cG9pbnRlci5kcmFnU3RhdGU9MDt9fTttb2R1bGUuZXhwb3J0cz1Qcm9jZXNzRHJhZ0V2ZW50czsvKioqL30sLyogNjQzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgSW5wdXRFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDM5KTt2YXIgUHJvY2Vzc1VwRXZlbnRzPWZ1bmN0aW9uIFByb2Nlc3NVcEV2ZW50cyhwb2ludGVyKXt2YXIgY3VycmVudGx5T3Zlcj10aGlzLl90ZW1wO3RoaXMuZXZlbnRzLmRpc3BhdGNoKG5ldyBJbnB1dEV2ZW50LlBPSU5URVJfVVAocG9pbnRlcixjdXJyZW50bHlPdmVyKSk7Ly8gIEdvIHRocm91Z2ggYWxsIG9iamVjdHMgdGhlIHBvaW50ZXIgd2FzIG92ZXIgYW5kIGZpcmUgdGhlaXIgZXZlbnRzIC8gY2FsbGJhY2tzXG5mb3IodmFyIGk9MDtpPGN1cnJlbnRseU92ZXIubGVuZ3RoO2krKyl7dmFyIGdhbWVPYmplY3Q9Y3VycmVudGx5T3ZlcltpXTt0aGlzLmV2ZW50cy5kaXNwYXRjaChuZXcgSW5wdXRFdmVudC5HQU1FX09CSkVDVF9VUChwb2ludGVyLGdhbWVPYmplY3QpKTtnYW1lT2JqZWN0LmlucHV0Lm9uVXAoZ2FtZU9iamVjdCxwb2ludGVyLGdhbWVPYmplY3QuaW5wdXQubG9jYWxYLGdhbWVPYmplY3QuaW5wdXQubG9jYWxZKTtpZih0aGlzLnRvcE9ubHkpe2JyZWFrO319fTttb2R1bGUuZXhwb3J0cz1Qcm9jZXNzVXBFdmVudHM7LyoqKi99LC8qIDY0NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIElucHV0RXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygzOSk7dmFyIFByb2Nlc3NNb3ZlRXZlbnRzPWZ1bmN0aW9uIFByb2Nlc3NNb3ZlRXZlbnRzKHBvaW50ZXIpe3ZhciBjdXJyZW50bHlPdmVyPXRoaXMuX3RlbXA7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IElucHV0RXZlbnQuUE9JTlRFUl9NT1ZFKHBvaW50ZXIsY3VycmVudGx5T3ZlcikpOy8vICBHbyB0aHJvdWdoIGFsbCBvYmplY3RzIHRoZSBwb2ludGVyIHdhcyBvdmVyIGFuZCBmaXJlIHRoZWlyIGV2ZW50cyAvIGNhbGxiYWNrc1xuZm9yKHZhciBpPTA7aTxjdXJyZW50bHlPdmVyLmxlbmd0aDtpKyspe3ZhciBnYW1lT2JqZWN0PWN1cnJlbnRseU92ZXJbaV07dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IElucHV0RXZlbnQuR0FNRV9PQkpFQ1RfTU9WRShwb2ludGVyLGdhbWVPYmplY3QpKTtnYW1lT2JqZWN0LmlucHV0Lm9uTW92ZShnYW1lT2JqZWN0LHBvaW50ZXIsZ2FtZU9iamVjdC5pbnB1dC5sb2NhbFgsZ2FtZU9iamVjdC5pbnB1dC5sb2NhbFkpO2lmKHRoaXMudG9wT25seSl7YnJlYWs7fX19O21vZHVsZS5leHBvcnRzPVByb2Nlc3NNb3ZlRXZlbnRzOy8qKiovfSwvKiA2NDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgR2l2ZW4gYW4gYXJyYXkgb2YgR2FtZSBPYmplY3RzLCBzb3J0IHRoZSBhcnJheSBhbmQgcmV0dXJuIGl0LFxuLy8gIHNvIHRoYXQgdGhlIG9iamVjdHMgYXJlIGluIGluZGV4IG9yZGVyIHdpdGggdGhlIGxvd2VzdCBhdCB0aGUgYm90dG9tLlxudmFyIFNvcnRHYW1lT2JqZWN0cz1mdW5jdGlvbiBTb3J0R2FtZU9iamVjdHMoZ2FtZU9iamVjdHMpe2lmKGdhbWVPYmplY3RzLmxlbmd0aDwyKXtyZXR1cm4gZ2FtZU9iamVjdHM7fXRoaXMuc2NlbmUuc3lzLmRlcHRoU29ydCgpO3JldHVybiBnYW1lT2JqZWN0cy5zb3J0KHRoaXMuc29ydEhhbmRsZXJHTy5iaW5kKHRoaXMpKTt9O21vZHVsZS5leHBvcnRzPVNvcnRHYW1lT2JqZWN0czsvKioqL30sLyogNjQ2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIEdpdmVuIGFuIGFycmF5IG9mIEludGVyYWN0aXZlIE9iamVjdHMsIHNvcnQgdGhlIGFycmF5IGFuZCByZXR1cm4gaXQsXG4vLyAgc28gdGhhdCB0aGUgb2JqZWN0cyBhcmUgaW4gaW5kZXggb3JkZXIgd2l0aCB0aGUgbG93ZXN0IGF0IHRoZSBib3R0b20uXG52YXIgU29ydEludGVyYWN0aXZlT2JqZWN0cz1mdW5jdGlvbiBTb3J0SW50ZXJhY3RpdmVPYmplY3RzKGludGVyYWN0aXZlT2JqZWN0cyl7aWYoaW50ZXJhY3RpdmVPYmplY3RzLmxlbmd0aDwyKXtyZXR1cm4gaW50ZXJhY3RpdmVPYmplY3RzO310aGlzLnNjZW5lLnN5cy5kZXB0aFNvcnQoKTtyZXR1cm4gaW50ZXJhY3RpdmVPYmplY3RzLnNvcnQodGhpcy5zb3J0SGFuZGxlcklPLmJpbmQodGhpcykpO307bW9kdWxlLmV4cG9ydHM9U29ydEludGVyYWN0aXZlT2JqZWN0czsvKioqL30sLyogNjQ3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFJldHVybiB0aGUgY2hpbGQgbG93ZXN0IGRvd24gdGhlIGRpc3BsYXkgbGlzdCAod2l0aCB0aGUgc21hbGxlc3QgaW5kZXgpXG52YXIgU29ydEhhbmRsZXJHTz1mdW5jdGlvbiBTb3J0SGFuZGxlckdPKGNoaWxkQSxjaGlsZEIpey8vICBUaGUgaGlnaGVyIHRoZSBpbmRleCwgdGhlIGxvd2VyIGRvd24gdGhlIGRpc3BsYXkgbGlzdCB0aGV5IGFyZS5cbi8vICBTbyBlbnRyeSAwIHdpbGwgYmUgdGhlIHRvcC1tb3N0IGl0ZW0gKHZpc3VhbGx5KVxudmFyIGluZGV4QT10aGlzLmRpc3BsYXlMaXN0LmdldEluZGV4KGNoaWxkQSk7dmFyIGluZGV4Qj10aGlzLmRpc3BsYXlMaXN0LmdldEluZGV4KGNoaWxkQik7aWYoaW5kZXhBPGluZGV4Qil7cmV0dXJuIDE7fWVsc2UgaWYoaW5kZXhBPmluZGV4Qil7cmV0dXJuLTE7fS8vICBUZWNobmljYWxseSB0aGlzIHNob3VsZG4ndCBoYXBwZW4sIGJ1dCBpZiB0aGUgR08gd2Fzbid0IHBhcnQgb2YgdGhpcyBkaXNwbGF5IGxpc3QgdGhlbiBpdCdsbFxuLy8gIGhhdmUgYW4gaW5kZXggb2YgLTEsIHNvIGluIHNvbWUgY2FzZXMgaXQgY2FuXG5yZXR1cm4gMDt9O21vZHVsZS5leHBvcnRzPVNvcnRIYW5kbGVyR087LyoqKi99LC8qIDY0OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBSZXR1cm4gdGhlIGNoaWxkIGxvd2VzdCBkb3duIHRoZSBkaXNwbGF5IGxpc3QgKHdpdGggdGhlIHNtYWxsZXN0IGluZGV4KVxudmFyIFNvcnRIYW5kbGVySU89ZnVuY3Rpb24gU29ydEhhbmRsZXJJTyhjaGlsZEEsY2hpbGRCKXsvLyAgVGhlIGhpZ2hlciB0aGUgaW5kZXgsIHRoZSBsb3dlciBkb3duIHRoZSBkaXNwbGF5IGxpc3QgdGhleSBhcmUuXG4vLyAgU28gZW50cnkgMCB3aWxsIGJlIHRoZSB0b3AtbW9zdCBpdGVtICh2aXN1YWxseSlcbnZhciBpbmRleEE9dGhpcy5kaXNwbGF5TGlzdC5nZXRJbmRleChjaGlsZEEuZ2FtZU9iamVjdCk7dmFyIGluZGV4Qj10aGlzLmRpc3BsYXlMaXN0LmdldEluZGV4KGNoaWxkQi5nYW1lT2JqZWN0KTtpZihpbmRleEE8aW5kZXhCKXtyZXR1cm4gMTt9ZWxzZSBpZihpbmRleEE+aW5kZXhCKXtyZXR1cm4tMTt9Ly8gIFRlY2huaWNhbGx5IHRoaXMgc2hvdWxkbid0IGhhcHBlbiwgYnV0IGlmIHRoZSBHTyB3YXNuJ3QgcGFydCBvZiB0aGlzIGRpc3BsYXkgbGlzdCB0aGVuIGl0J2xsXG4vLyAgaGF2ZSBhbiBpbmRleCBvZiAtMSwgc28gaW4gc29tZSBjYXNlcyBpdCBjYW5cbnJldHVybiAwO307bW9kdWxlLmV4cG9ydHM9U29ydEhhbmRsZXJJTzsvKioqL30sLyogNjQ5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmFzZUxvYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1MCk7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIE51bWJlckFycmF5PV9fd2VicGFja19yZXF1aXJlX18oMTgwKTt2YXIgQW5pbWF0aW9uSlNPTkZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg2NTQpO3ZhciBBdGxhc0pTT05GaWxlPV9fd2VicGFja19yZXF1aXJlX18oNjU3KTt2YXIgQmluYXJ5RmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1OCk7dmFyIEJpdG1hcEZvbnRGaWxlPV9fd2VicGFja19yZXF1aXJlX18oNjU5KTt2YXIgR0xTTEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg2NjApO3ZhciBIVE1MRmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2MSk7dmFyIEltYWdlRmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTt2YXIgSlNPTkZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4OCk7dmFyIFNjcmlwdEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg2NjIpO3ZhciBTcHJpdGVTaGVldD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2Myk7dmFyIFNWR0ZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg2NjQpO3ZhciBUZXh0RmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2NSk7dmFyIFhNTEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxODIpO3ZhciBMb2FkZXI9bmV3IENsYXNzKHtFeHRlbmRzOkJhc2VMb2FkZXIsaW5pdGlhbGl6ZTpmdW5jdGlvbiBMb2FkZXIoc2NlbmUpe0Jhc2VMb2FkZXIuY2FsbCh0aGlzLHNjZW5lKTt0aGlzLl9tdWx0aWxpc3Q9e307fSwvLyAga2V5IGNhbiBiZSBlaXRoZXIgYSBzdHJpbmcsIGFuIG9iamVjdCBvciBhbiBhcnJheSBvZiBvYmplY3RzXG5pbWFnZTpmdW5jdGlvbiBpbWFnZShrZXksdXJsLHhoclNldHRpbmdzKXtyZXR1cm4gSW1hZ2VGaWxlLmNyZWF0ZSh0aGlzLGtleSx1cmwseGhyU2V0dGluZ3MpO30sYW5pbWF0aW9uOmZ1bmN0aW9uIGFuaW1hdGlvbihrZXksdXJsLHhoclNldHRpbmdzKXtyZXR1cm4gQW5pbWF0aW9uSlNPTkZpbGUuY3JlYXRlKHRoaXMsa2V5LHVybCx4aHJTZXR0aW5ncyk7fSxqc29uOmZ1bmN0aW9uIGpzb24oa2V5LHVybCx4aHJTZXR0aW5ncyl7cmV0dXJuIEpTT05GaWxlLmNyZWF0ZSh0aGlzLGtleSx1cmwseGhyU2V0dGluZ3MpO30sc2NyaXB0OmZ1bmN0aW9uIHNjcmlwdChrZXksdXJsLHhoclNldHRpbmdzKXtyZXR1cm4gU2NyaXB0RmlsZS5jcmVhdGUodGhpcyxrZXksdXJsLHhoclNldHRpbmdzKTt9LHhtbDpmdW5jdGlvbiB4bWwoa2V5LHVybCx4aHJTZXR0aW5ncyl7cmV0dXJuIFhNTEZpbGUuY3JlYXRlKHRoaXMsa2V5LHVybCx4aHJTZXR0aW5ncyk7fSxiaW5hcnk6ZnVuY3Rpb24gYmluYXJ5KGtleSx1cmwseGhyU2V0dGluZ3Mpe3JldHVybiBCaW5hcnlGaWxlLmNyZWF0ZSh0aGlzLGtleSx1cmwseGhyU2V0dGluZ3MpO30sdGV4dDpmdW5jdGlvbiB0ZXh0KGtleSx1cmwseGhyU2V0dGluZ3Mpe3JldHVybiBUZXh0RmlsZS5jcmVhdGUodGhpcyxrZXksdXJsLHhoclNldHRpbmdzKTt9LGdsc2w6ZnVuY3Rpb24gZ2xzbChrZXksdXJsLHhoclNldHRpbmdzKXtyZXR1cm4gR0xTTEZpbGUuY3JlYXRlKHRoaXMsa2V5LHVybCx4aHJTZXR0aW5ncyk7fSxodG1sOmZ1bmN0aW9uIGh0bWwoa2V5LHVybCx3aWR0aCxoZWlnaHQseGhyU2V0dGluZ3Mpe3JldHVybiBIVE1MRmlsZS5jcmVhdGUodGhpcyxrZXksdXJsLHdpZHRoLGhlaWdodCx4aHJTZXR0aW5ncyk7fSxzdmc6ZnVuY3Rpb24gc3ZnKGtleSx1cmwseGhyU2V0dGluZ3Mpe3JldHVybiBTVkdGaWxlLmNyZWF0ZSh0aGlzLGtleSx1cmwseGhyU2V0dGluZ3MpO30sLy8gIGNvbmZpZyBjYW4gaW5jbHVkZTogZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQsIHN0YXJ0RnJhbWUsIGVuZEZyYW1lLCBtYXJnaW4sIHNwYWNpbmdcbnNwcml0ZXNoZWV0OmZ1bmN0aW9uIHNwcml0ZXNoZWV0KGtleSx1cmwsY29uZmlnLHhoclNldHRpbmdzKXtyZXR1cm4gU3ByaXRlU2hlZXQuY3JlYXRlKHRoaXMsa2V5LHVybCxjb25maWcseGhyU2V0dGluZ3MpO30sLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gIE11bHRpLUZpbGUgTG9hZGVyc1xuLy8gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuYXRsYXM6ZnVuY3Rpb24gYXRsYXMoa2V5LHRleHR1cmVVUkwsYXRsYXNVUkwsdGV4dHVyZVhoclNldHRpbmdzLGF0bGFzWGhyU2V0dGluZ3Mpey8vICBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHR3byBwcm9wZXJ0aWVzOiAndGV4dHVyZScgYW5kICdkYXRhJ1xudmFyIGZpbGVzPW5ldyBBdGxhc0pTT05GaWxlKGtleSx0ZXh0dXJlVVJMLGF0bGFzVVJMLHRoaXMucGF0aCx0ZXh0dXJlWGhyU2V0dGluZ3MsYXRsYXNYaHJTZXR0aW5ncyk7dGhpcy5hZGRGaWxlKGZpbGVzLnRleHR1cmUpO3RoaXMuYWRkRmlsZShmaWxlcy5kYXRhKTtyZXR1cm4gdGhpczt9LGJpdG1hcEZvbnQ6ZnVuY3Rpb24gYml0bWFwRm9udChrZXksdGV4dHVyZVVSTCx4bWxVUkwsdGV4dHVyZVhoclNldHRpbmdzLHhtbFhoclNldHRpbmdzKXsvLyAgUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0d28gcHJvcGVydGllczogJ3RleHR1cmUnIGFuZCAnZGF0YSdcbnZhciBmaWxlcz1uZXcgQml0bWFwRm9udEZpbGUoa2V5LHRleHR1cmVVUkwseG1sVVJMLHRoaXMucGF0aCx0ZXh0dXJlWGhyU2V0dGluZ3MseG1sWGhyU2V0dGluZ3MpO3RoaXMuYWRkRmlsZShmaWxlcy50ZXh0dXJlKTt0aGlzLmFkZEZpbGUoZmlsZXMuZGF0YSk7cmV0dXJuIHRoaXM7fSxtdWx0aWF0bGFzOmZ1bmN0aW9uIG11bHRpYXRsYXMoa2V5LHRleHR1cmVVUkxzLGF0bGFzVVJMcyx0ZXh0dXJlWGhyU2V0dGluZ3MsYXRsYXNYaHJTZXR0aW5ncyl7aWYodHlwZW9mIHRleHR1cmVVUkxzPT09J251bWJlcicpe3ZhciB0b3RhbD10ZXh0dXJlVVJMczt2YXIgc3VmZml4PWF0bGFzVVJMcz09PXVuZGVmaW5lZD8nJzphdGxhc1VSTHM7dGV4dHVyZVVSTHM9TnVtYmVyQXJyYXkoMCx0b3RhbCxrZXkrc3VmZml4LCcucG5nJyk7YXRsYXNVUkxzPU51bWJlckFycmF5KDAsdG90YWwsa2V5K3N1ZmZpeCwnLmpzb24nKTt9ZWxzZXtpZighQXJyYXkuaXNBcnJheSh0ZXh0dXJlVVJMcykpe3RleHR1cmVVUkxzPVt0ZXh0dXJlVVJMc107fWlmKCFBcnJheS5pc0FycmF5KGF0bGFzVVJMcykpe2F0bGFzVVJMcz1bYXRsYXNVUkxzXTt9fXZhciBmaWxlO3ZhciBpPTA7dmFyIG11bHRpS2V5O3RoaXMuX211bHRpbGlzdFtrZXldPVtdO2ZvcihpPTA7aTx0ZXh0dXJlVVJMcy5sZW5ndGg7aSsrKXttdWx0aUtleT0nX01BX0lNR18nK2tleSsnXycraS50b1N0cmluZygpO2ZpbGU9bmV3IEltYWdlRmlsZShtdWx0aUtleSx0ZXh0dXJlVVJMc1tpXSx0aGlzLnBhdGgsdGV4dHVyZVhoclNldHRpbmdzKTt0aGlzLmFkZEZpbGUoZmlsZSk7dGhpcy5fbXVsdGlsaXN0W2tleV0ucHVzaChtdWx0aUtleSk7fWZvcihpPTA7aTxhdGxhc1VSTHMubGVuZ3RoO2krKyl7bXVsdGlLZXk9J19NQV9KU09OXycra2V5KydfJytpLnRvU3RyaW5nKCk7ZmlsZT1uZXcgSlNPTkZpbGUobXVsdGlLZXksYXRsYXNVUkxzW2ldLHRoaXMucGF0aCxhdGxhc1hoclNldHRpbmdzKTt0aGlzLmFkZEZpbGUoZmlsZSk7dGhpcy5fbXVsdGlsaXN0W2tleV0ucHVzaChtdWx0aUtleSk7fX0vKlxuICAgIGxvYWRBcnJheTogZnVuY3Rpb24gKGZpbGVzKVxuICAgIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmlsZXMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsZShmaWxlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRoaXMubGlzdC5zaXplID4gMCk7XG4gICAgfSxcblxuICAgIGZpbGU6IGZ1bmN0aW9uIChmaWxlKVxuICAgIHtcbiAgICAgICAgdmFyIGVudHJ5O1xuXG4gICAgICAgIHN3aXRjaCAoZmlsZS50eXBlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlICdzcHJpdGVzaGVldCc6XG4gICAgICAgICAgICAgICAgZW50cnkgPSB0aGlzLnNwcml0ZXNoZWV0KGZpbGUua2V5LCBmaWxlLnVybCwgZmlsZS5jb25maWcsIGZpbGUueGhyU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdhdGxhcyc6XG4gICAgICAgICAgICAgICAgZW50cnkgPSB0aGlzLmF0bGFzKGZpbGUua2V5LCBmaWxlLnRleHR1cmVVUkwsIGZpbGUuYXRsYXNVUkwsIGZpbGUudGV4dHVyZVhoclNldHRpbmdzLCBmaWxlLmF0bGFzWGhyU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdiaXRtYXBGb250JzpcbiAgICAgICAgICAgICAgICBlbnRyeSA9IHRoaXMuYml0bWFwRm9udChmaWxlLmtleSwgZmlsZS50ZXh0dXJlVVJMLCBmaWxlLnhtbFVSTCwgZmlsZS50ZXh0dXJlWGhyU2V0dGluZ3MsIGZpbGUueG1sWGhyU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdtdWx0aWF0bGFzJzpcbiAgICAgICAgICAgICAgICBlbnRyeSA9IHRoaXMubXVsdGlhdGxhcyhmaWxlLmtleSwgZmlsZS50ZXh0dXJlVVJMcywgZmlsZS5hdGxhc1VSTHMsIGZpbGUudGV4dHVyZVhoclNldHRpbmdzLCBmaWxlLmF0bGFzWGhyU2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAvLyAgaW1hZ2UsIGpzb24sIHhtbCwgYmluYXJ5LCB0ZXh0LCBnbHNsLCBzdmdcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZW50cnkgPSB0aGlzW2ZpbGUudHlwZV0oZmlsZS5rZXksIGZpbGUudXJsLCBmaWxlLnhoclNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbnRyeTtcbiAgICB9LFxuICAgICovfSk7bW9kdWxlLmV4cG9ydHM9TG9hZGVyOy8qKiovfSwvKiA2NTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTt2YXIgU2V0PV9fd2VicGFja19yZXF1aXJlX18oNTQpO3ZhciBYSFJTZXR0aW5ncz1fX3dlYnBhY2tfcmVxdWlyZV9fKDg3KTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg2NTEpOy8vIHZhciBFdmVudERpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9ldmVudHMvRXZlbnREaXNwYXRjaGVyJyk7XG52YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgUGFyc2VYTUxCaXRtYXBGb250PV9fd2VicGFja19yZXF1aXJlX18oMTc2KTsvLyAgUGhhc2VyLkxvYWRlci5CYXNlTG9hZGVyXG4vLyAgVG8gZmluaXNoIHRoZSBsb2FkZXIgLi4uXG4vLyAgXG4vLyAgMykgUHJvZ3Jlc3MgdXBkYXRlXG52YXIgQmFzZUxvYWRlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gQmFzZUxvYWRlcihzY2VuZSl7dGhpcy5zY2VuZT1zY2VuZTt0aGlzLmV2ZW50cz1zY2VuZS5zeXMuZXZlbnRzOy8vICBNb3ZlIHRvIGEgJ3NldFVSTCcgbWV0aG9kP1xudGhpcy5iYXNlVVJMPScnO3RoaXMucGF0aD0nJzsvLyAgUmVhZCBmcm9tIEdhbWUgLyBTY2VuZSBDb25maWdcbnRoaXMuZW5hYmxlUGFyYWxsZWw9dHJ1ZTt0aGlzLm1heFBhcmFsbGVsRG93bmxvYWRzPTQ7Ly8gIHhociBzcGVjaWZpYyBnbG9iYWwgc2V0dGluZ3MgKGNhbiBiZSBvdmVycmlkZGVuIG9uIGEgcGVyLWZpbGUgYmFzaXMpXG50aGlzLnhocj1YSFJTZXR0aW5ncygpO3RoaXMuY3Jvc3NPcmlnaW49dW5kZWZpbmVkO3RoaXMubGlzdD1uZXcgU2V0KCk7dGhpcy5pbmZsaWdodD1uZXcgU2V0KCk7dGhpcy5mYWlsZWQ9bmV3IFNldCgpO3RoaXMucXVldWU9bmV3IFNldCgpO3RoaXMuc3RvcmFnZT1uZXcgU2V0KCk7dGhpcy5zdGF0ZT1DT05TVC5MT0FERVJfSURMRTt9LHNldFBhdGg6ZnVuY3Rpb24gc2V0UGF0aChwYXRoKXtpZihwYXRoLnN1YnN0cigtMSkhPT0nLycpe3BhdGg9cGF0aC5jb25jYXQoJy8nKTt9dGhpcy5wYXRoPXBhdGg7cmV0dXJuIHRoaXM7fSxhZGRGaWxlOmZ1bmN0aW9uIGFkZEZpbGUoZmlsZSl7aWYoIXRoaXMuaXNSZWFkeSgpKXtyZXR1cm4tMTt9ZmlsZS5wYXRoPXRoaXMucGF0aDt0aGlzLmxpc3Quc2V0KGZpbGUpO3JldHVybiB0aGlzO30sLy8gIElzIHRoZSBMb2FkZXIgYWN0aXZlbHkgbG9hZGluZyAob3IgcHJvY2Vzc2luZyBsb2FkZWQgZmlsZXMpXG5pc0xvYWRpbmc6ZnVuY3Rpb24gaXNMb2FkaW5nKCl7cmV0dXJuIHRoaXMuc3RhdGU9PT1DT05TVC5MT0FERVJfTE9BRElOR3x8dGhpcy5zdGF0ZT09PUNPTlNULkxPQURFUl9QUk9DRVNTSU5HO30sLy8gIElzIHRoZSBMb2FkZXIgcmVhZHkgdG8gc3RhcnQgYSBuZXcgbG9hZD9cbmlzUmVhZHk6ZnVuY3Rpb24gaXNSZWFkeSgpe3JldHVybiB0aGlzLnN0YXRlPT09Q09OU1QuTE9BREVSX0lETEV8fHRoaXMuc3RhdGU9PT1DT05TVC5MT0FERVJfQ09NUExFVEV8fHRoaXMuc3RhdGU9PT1DT05TVC5MT0FERVJfRkFJTEVEO30sc3RhcnQ6ZnVuY3Rpb24gc3RhcnQoKXtjb25zb2xlLmxvZyh0aGlzLnNjZW5lLnN5cy5zZXR0aW5ncy5rZXksJy0gQmFzZUxvYWRlciBzdGFydC4gRmlsZXMgdG8gbG9hZDonLHRoaXMubGlzdC5zaXplKTtpZighdGhpcy5pc1JlYWR5KCkpe3JldHVybjt9dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IEV2ZW50LkxPQURFUl9TVEFSVF9FVkVOVCh0aGlzKSk7aWYodGhpcy5saXN0LnNpemU9PT0wKXt0aGlzLmZpbmlzaGVkTG9hZGluZygpO31lbHNle3RoaXMuc3RhdGU9Q09OU1QuTE9BREVSX0xPQURJTkc7dGhpcy5mYWlsZWQuY2xlYXIoKTt0aGlzLmluZmxpZ2h0LmNsZWFyKCk7dGhpcy5xdWV1ZS5jbGVhcigpO3RoaXMucXVldWUuZGVidWc9dHJ1ZTt0aGlzLnVwZGF0ZVByb2dyZXNzKCk7dGhpcy5wcm9jZXNzTG9hZFF1ZXVlKCk7fX0sdXBkYXRlUHJvZ3Jlc3M6ZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoKXt9LHByb2Nlc3NMb2FkUXVldWU6ZnVuY3Rpb24gcHJvY2Vzc0xvYWRRdWV1ZSgpey8vIGNvbnNvbGUubG9nKCc9PT09PT09PSBCYXNlTG9hZGVyIHByb2Nlc3NMb2FkUXVldWUnKTtcbi8vIGNvbnNvbGUubG9nKCdMaXN0IHNpemUnLCB0aGlzLmxpc3Quc2l6ZSk7XG4vLyBjb25zb2xlLmxvZyh0aGlzLmluZmxpZ2h0LnNpemUsICdpdGVtcyBzdGlsbCBpbiBmbGlnaHQuIENhbiBsb2FkIGFub3RoZXInLCAodGhpcy5tYXhQYXJhbGxlbERvd25sb2FkcyAtIHRoaXMuaW5mbGlnaHQuc2l6ZSkpO1xudmFyIF90aGlzPXRoaXM7dGhpcy5saXN0LmVhY2goZnVuY3Rpb24oZmlsZSl7aWYoZmlsZS5zdGF0ZT09PUNPTlNULkZJTEVfUEVORElORyYmX3RoaXMuaW5mbGlnaHQuc2l6ZTxfdGhpcy5tYXhQYXJhbGxlbERvd25sb2Fkcyl7X3RoaXMuaW5mbGlnaHQuc2V0KGZpbGUpO190aGlzLmxpc3QuZGVsZXRlKGZpbGUpO190aGlzLmxvYWRGaWxlKGZpbGUpO31pZihfdGhpcy5pbmZsaWdodC5zaXplPT09X3RoaXMubWF4UGFyYWxsZWxEb3dubG9hZHMpey8vICBUZWxscyB0aGUgU2V0IGl0ZXJhdG9yIHRvIGFib3J0XG5yZXR1cm4gZmFsc2U7fX0pO30sLy8gIHByaXZhdGVcbmxvYWRGaWxlOmZ1bmN0aW9uIGxvYWRGaWxlKGZpbGUpey8vIGNvbnNvbGUubG9nKCdMT0FESU5HJywgZmlsZS5rZXkpO1xuLy8gIElmIHRoZSBmaWxlIGRvZXNuJ3QgaGF2ZSBpdHMgb3duIGNyb3NzT3JpZ2luIHNldCxcbi8vICB3ZSdsbCB1c2UgdGhlIExvYWRlcnMgKHdoaWNoIGlzIHVuZGVmaW5lZCBieSBkZWZhdWx0KVxuaWYoIWZpbGUuY3Jvc3NPcmlnaW4pe2ZpbGUuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbjt9ZmlsZS5sb2FkKHRoaXMubmV4dEZpbGUuYmluZCh0aGlzKSx0aGlzLmJhc2VVUkwpO30sbmV4dEZpbGU6ZnVuY3Rpb24gbmV4dEZpbGUocHJldmlvdXNGaWxlLHN1Y2Nlc3Mpey8vIGNvbnNvbGUubG9nKCdMT0FERUQ6JywgcHJldmlvdXNGaWxlLnNyYywgc3VjY2Vzcyk7XG4vLyAgTW92ZSB0aGUgZmlsZSB0aGF0IGp1c3QgbG9hZGVkIGZyb20gdGhlIGluZmxpZ2h0IGxpc3QgdG8gdGhlIHF1ZXVlIG9yIGZhaWxlZCBTZXRcbmlmKHN1Y2Nlc3Mpe3RoaXMucXVldWUuc2V0KHByZXZpb3VzRmlsZSk7fWVsc2V7dGhpcy5mYWlsZWQuc2V0KHByZXZpb3VzRmlsZSk7fXRoaXMuaW5mbGlnaHQuZGVsZXRlKHByZXZpb3VzRmlsZSk7aWYodGhpcy5saXN0LnNpemU+MCl7Ly8gY29uc29sZS5sb2coJ25leHRGaWxlIC0gc3RpbGwgc29tZXRoaW5nIGluIHRoZSBsaXN0Jyk7XG50aGlzLnByb2Nlc3NMb2FkUXVldWUoKTt9ZWxzZSBpZih0aGlzLmluZmxpZ2h0LnNpemU9PT0wKXsvLyBjb25zb2xlLmxvZygnbmV4dEZpbGUgY2FsbGluZyBmaW5pc2hlZExvYWRpbmcnKTtcbnRoaXMuZmluaXNoZWRMb2FkaW5nKCk7fX0sZmluaXNoZWRMb2FkaW5nOmZ1bmN0aW9uIGZpbmlzaGVkTG9hZGluZygpey8vIGNvbnNvbGUubG9nKCctLS0+IEJhc2VMb2FkZXIuZmluaXNoZWRMb2FkaW5nIFBST0NFU1NJTkcnLCB0aGlzLnF1ZXVlLnNpemUsICdmaWxlcycpO1xudGhpcy5zdGF0ZT1DT05TVC5MT0FERVJfUFJPQ0VTU0lORzt0aGlzLnN0b3JhZ2UuY2xlYXIoKTt2YXIgX3RoaXM9dGhpczt0aGlzLnF1ZXVlLmVhY2goZnVuY3Rpb24oZmlsZSl7Ly8gY29uc29sZS5sb2coJyVjIENhbGxpbmcgcHJvY2VzcyBvbiAnICsgZmlsZS5rZXksICdjb2xvcjogIzAwMDAwMDsgYmFja2dyb3VuZDogI2ZmZmYwMDsnKTtcbmZpbGUub25Qcm9jZXNzKF90aGlzLnByb2Nlc3NVcGRhdGUuYmluZChfdGhpcykpO30pO30sLy8gIENhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBGaWxlIHdoZW4gaXQgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmdcbnByb2Nlc3NVcGRhdGU6ZnVuY3Rpb24gcHJvY2Vzc1VwZGF0ZShmaWxlKXsvLyBjb25zb2xlLmxvZygnLT4gcHJvY2Vzc1VwZGF0ZScsIGZpbGUua2V5LCBmaWxlLnN0YXRlKTtcbi8vICBUaGlzIGZpbGUgaGFzIGZhaWxlZCB0byBsb2FkLCBzbyBtb3ZlIGl0IHRvIHRoZSBmYWlsZWQgU2V0XG5pZihmaWxlLnN0YXRlPT09Q09OU1QuRklMRV9FUlJPUkVEKXt0aGlzLmZhaWxlZC5zZXQoZmlsZSk7aWYoZmlsZS5saW5rRmlsZSl7dGhpcy5xdWV1ZS5kZWxldGUoZmlsZS5saW5rRmlsZSk7fXJldHVybiB0aGlzLnJlbW92ZUZyb21RdWV1ZShmaWxlKTt9Ly8gIElmIHdlIGdvdCBoZXJlLCB0aGVuIHRoZSBmaWxlIGxvYWRlZFxuLy8gIFNwZWNpYWwgaGFuZGxpbmcgZm9yIG11bHRpLXBhcnQgZmlsZXNcbmlmKGZpbGUubGlua0ZpbGUpe2lmKGZpbGUuc3RhdGU9PT1DT05TVC5GSUxFX0NPTVBMRVRFJiZmaWxlLmxpbmtGaWxlLnN0YXRlPT09Q09OU1QuRklMRV9DT01QTEVURSl7Ly8gIFBhcnRuZXIgaGFzIGxvYWRlZCwgc28gYWRkIHRoZW0gYm90aCB0byBTdG9yYWdlXG50aGlzLnN0b3JhZ2Uuc2V0KHt0eXBlOmZpbGUubGlua1R5cGUsZmlsZUE6ZmlsZSxmaWxlQjpmaWxlLmxpbmtGaWxlfSk7dGhpcy5xdWV1ZS5kZWxldGUoZmlsZS5saW5rRmlsZSk7dGhpcy5yZW1vdmVGcm9tUXVldWUoZmlsZSk7fX1lbHNle3RoaXMuc3RvcmFnZS5zZXQoZmlsZSk7dGhpcy5yZW1vdmVGcm9tUXVldWUoZmlsZSk7fX0scmVtb3ZlRnJvbVF1ZXVlOmZ1bmN0aW9uIHJlbW92ZUZyb21RdWV1ZShmaWxlKXt0aGlzLnF1ZXVlLmRlbGV0ZShmaWxlKTtpZih0aGlzLnF1ZXVlLnNpemU9PT0wJiZ0aGlzLnN0YXRlPT09Q09OU1QuTE9BREVSX1BST0NFU1NJTkcpey8vICBXZSd2ZSBwcm9jZXNzZWQgYWxsIHRoZSBmaWxlcyB3ZSBsb2FkZWRcbnRoaXMucHJvY2Vzc0NvbXBsZXRlKCk7fX0scHJvY2Vzc0NvbXBsZXRlOmZ1bmN0aW9uIHByb2Nlc3NDb21wbGV0ZSgpe2NvbnNvbGUubG9nKHRoaXMuc2NlbmUuc3lzLnNldHRpbmdzLmtleSwnLSBMb2FkZXIgQ29tcGxldGUuIExvYWRlZDonLHRoaXMuc3RvcmFnZS5zaXplLCdGYWlsZWQ6Jyx0aGlzLmZhaWxlZC5zaXplKTt0aGlzLmxpc3QuY2xlYXIoKTt0aGlzLmluZmxpZ2h0LmNsZWFyKCk7dGhpcy5xdWV1ZS5jbGVhcigpO3RoaXMucHJvY2Vzc0NhbGxiYWNrKCk7dGhpcy5zdGF0ZT1DT05TVC5MT0FERVJfQ09NUExFVEU7dGhpcy5ldmVudHMuZGlzcGF0Y2gobmV3IEV2ZW50LkxPQURFUl9DT01QTEVURV9FVkVOVCh0aGlzKSk7fSwvLyAgVGhlIExvYWRlciBoYXMgZmluaXNoZWRcbnByb2Nlc3NDYWxsYmFjazpmdW5jdGlvbiBwcm9jZXNzQ2FsbGJhY2soKXtpZih0aGlzLnN0b3JhZ2Uuc2l6ZT09PTApe3JldHVybjt9Ly8gIFRoZSBnbG9iYWwgVGV4dHVyZSBNYW5hZ2VyXG52YXIgY2FjaGU9dGhpcy5zY2VuZS5zeXMuY2FjaGU7dmFyIHRleHR1cmVzPXRoaXMuc2NlbmUuc3lzLnRleHR1cmVzO3ZhciBhbmltcz10aGlzLnNjZW5lLnN5cy5hbmltczsvLyAgUHJvY2VzcyBtdWx0aWF0bGFzIGdyb3VwcyBmaXJzdFxudmFyIGZpbGU7dmFyIGZpbGVBO3ZhciBmaWxlQjtmb3IodmFyIGtleSBpbiB0aGlzLl9tdWx0aWxpc3Qpe3ZhciBkYXRhPVtdO3ZhciBpbWFnZXM9W107dmFyIGtleXM9dGhpcy5fbXVsdGlsaXN0W2tleV07Zm9yKHZhciBpPTA7aTxrZXlzLmxlbmd0aDtpKyspe2ZpbGU9dGhpcy5zdG9yYWdlLmdldCgna2V5JyxrZXlzW2ldKTtpZihmaWxlKXtpZihmaWxlLnR5cGU9PT0naW1hZ2UnKXtpbWFnZXMucHVzaChmaWxlLmRhdGEpO31lbHNlIGlmKGZpbGUudHlwZT09PSdqc29uJyl7ZGF0YS5wdXNoKGZpbGUuZGF0YSk7fXRoaXMuc3RvcmFnZS5kZWxldGUoZmlsZSk7fX0vLyAgRG8gd2UgaGF2ZSBldmVyeXRoaW5nIG5lZWRlZD9cbmlmKGltYWdlcy5sZW5ndGgrZGF0YS5sZW5ndGg9PT1rZXlzLmxlbmd0aCl7Ly8gIFl1cCwgYWRkIHRoZW0gdG8gdGhlIFRleHR1cmUgTWFuYWdlclxuLy8gIElzIHRoZSBkYXRhIEpTT04gSGFzaCBvciBKU09OIEFycmF5P1xuaWYoQXJyYXkuaXNBcnJheShkYXRhWzBdLmZyYW1lcykpe3RleHR1cmVzLmFkZEF0bGFzSlNPTkFycmF5KGtleSxpbWFnZXMsZGF0YSk7fWVsc2V7dGV4dHVyZXMuYWRkQXRsYXNKU09OSGFzaChrZXksaW1hZ2VzLGRhdGEpO319fS8vICBQcm9jZXNzIGFsbCBvZiB0aGUgZmlsZXNcbi8vICBCZWNhdXNlIEFuaW1hdGlvbkpTT04gbWF5IHJlcXVpcmUgaW1hZ2VzIHRvIGJlIGxvYWRlZCBmaXJzdCwgd2UgcHJvY2VzcyB0aGVtIGxhc3RcbnZhciBhbmltSlNPTj1bXTt0aGlzLnN0b3JhZ2UuZWFjaChmdW5jdGlvbihmaWxlKXtzd2l0Y2goZmlsZS50eXBlKXtjYXNlJ2FuaW1hdGlvbkpTT04nOmFuaW1KU09OLnB1c2goZmlsZSk7YnJlYWs7Y2FzZSdpbWFnZSc6Y2FzZSdzdmcnOmNhc2UnaHRtbCc6dGV4dHVyZXMuYWRkSW1hZ2UoZmlsZS5rZXksZmlsZS5kYXRhKTticmVhaztjYXNlJ2F0bGFzanNvbic6ZmlsZUE9ZmlsZS5maWxlQTtmaWxlQj1maWxlLmZpbGVCO2lmKGZpbGVBLnR5cGU9PT0naW1hZ2UnKXt0ZXh0dXJlcy5hZGRBdGxhcyhmaWxlQS5rZXksZmlsZUEuZGF0YSxmaWxlQi5kYXRhKTt9ZWxzZXt0ZXh0dXJlcy5hZGRBdGxhcyhmaWxlQi5rZXksZmlsZUIuZGF0YSxmaWxlQS5kYXRhKTt9YnJlYWs7Y2FzZSdiaXRtYXBmb250JzpmaWxlQT1maWxlLmZpbGVBO2ZpbGVCPWZpbGUuZmlsZUI7aWYoZmlsZUEudHlwZT09PSdpbWFnZScpe2NhY2hlLmJpdG1hcEZvbnQuYWRkKGZpbGVCLmtleSx7ZGF0YTpQYXJzZVhNTEJpdG1hcEZvbnQoZmlsZUIuZGF0YSksdGV4dHVyZTpmaWxlQS5rZXksZnJhbWU6bnVsbH0pO3RleHR1cmVzLmFkZEltYWdlKGZpbGVBLmtleSxmaWxlQS5kYXRhKTt9ZWxzZXtjYWNoZS5iaXRtYXBGb250LmFkZChmaWxlQS5rZXkse2RhdGE6UGFyc2VYTUxCaXRtYXBGb250KGZpbGVBLmRhdGEpLHRleHR1cmU6ZmlsZUIua2V5LGZyYW1lOm51bGx9KTt0ZXh0dXJlcy5hZGRJbWFnZShmaWxlQi5rZXksZmlsZUIuZGF0YSk7fWJyZWFrO2Nhc2Unc3ByaXRlc2hlZXQnOnRleHR1cmVzLmFkZFNwcml0ZVNoZWV0KGZpbGUua2V5LGZpbGUuZGF0YSxmaWxlLmNvbmZpZyk7YnJlYWs7Y2FzZSdqc29uJzpjYWNoZS5qc29uLmFkZChmaWxlLmtleSxmaWxlLmRhdGEpO2JyZWFrO2Nhc2UneG1sJzpjYWNoZS54bWwuYWRkKGZpbGUua2V5LGZpbGUuZGF0YSk7YnJlYWs7Y2FzZSd0ZXh0JzpjYWNoZS50ZXh0LmFkZChmaWxlLmtleSxmaWxlLmRhdGEpO2JyZWFrO2Nhc2UnYmluYXJ5JzpjYWNoZS5iaW5hcnkuYWRkKGZpbGUua2V5LGZpbGUuZGF0YSk7YnJlYWs7Y2FzZSdzb3VuZCc6Y2FjaGUuc291bmQuYWRkKGZpbGUua2V5LGZpbGUuZGF0YSk7YnJlYWs7Y2FzZSdnbHNsJzpjYWNoZS5zaGFkZXIuYWRkKGZpbGUua2V5LGZpbGUuZGF0YSk7YnJlYWs7fX0pO2FuaW1KU09OLmZvckVhY2goZnVuY3Rpb24oZmlsZSl7YW5pbXMuZnJvbUpTT04oZmlsZS5kYXRhKTt9KTt0aGlzLnN0b3JhZ2UuY2xlYXIoKTt9LHJlc2V0OmZ1bmN0aW9uIHJlc2V0KCl7dGhpcy5saXN0LmNsZWFyKCk7dGhpcy5pbmZsaWdodC5jbGVhcigpO3RoaXMuZmFpbGVkLmNsZWFyKCk7dGhpcy5xdWV1ZS5jbGVhcigpO3RoaXMuc3RvcmFnZS5jbGVhcigpO3RoaXMuZXZlbnRzLnJlbW92ZUFsbCgnTE9BREVSX1NUQVJUX0VWRU5UJyk7dGhpcy5ldmVudHMucmVtb3ZlQWxsKCdMT0FERVJfQ09NUExFVEVfRVZFTlQnKTt0aGlzLnRhZz0nJzt0aGlzLnBhdGg9Jyc7dGhpcy5iYXNlVVJMPScnO3RoaXMuc3RhdGU9Q09OU1QuTE9BREVSX0lETEU7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt0aGlzLnJlc2V0KCk7dGhpcy5zdGF0ZT1DT05TVC5MT0FERVJfREVTVFJPWUVEO319KTttb2R1bGUuZXhwb3J0cz1CYXNlTG9hZGVyOy8qKiovfSwvKiA2NTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtMT0FERVJfU1RBUlRfRVZFTlQ6X193ZWJwYWNrX3JlcXVpcmVfXyg2NTIpLExPQURFUl9DT01QTEVURV9FVkVOVDpfX3dlYnBhY2tfcmVxdWlyZV9fKDY1Myl9Oy8qKiovfSwvKiA2NTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBFdmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpO3ZhciBMb2FkZXJTdGFydEV2ZW50PW5ldyBDbGFzcyh7RXh0ZW5kczpFdmVudCxpbml0aWFsaXplOmZ1bmN0aW9uIExvYWRlclN0YXJ0RXZlbnQobG9hZGVyKXtFdmVudC5jYWxsKHRoaXMsJ0xPQURFUl9TVEFSVF9FVkVOVCcpO3RoaXMubG9hZGVyPWxvYWRlcjt9fSk7bW9kdWxlLmV4cG9ydHM9TG9hZGVyU3RhcnRFdmVudDsvKioqL30sLyogNjUzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXZlbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxKTt2YXIgTG9hZGVyQ29tcGxldGVFdmVudD1uZXcgQ2xhc3Moe0V4dGVuZHM6RXZlbnQsaW5pdGlhbGl6ZTpmdW5jdGlvbiBMb2FkZXJDb21wbGV0ZUV2ZW50KGxvYWRlcil7RXZlbnQuY2FsbCh0aGlzLCdMT0FERVJfQ09NUExFVEVfRVZFTlQnKTt0aGlzLmxvYWRlcj1sb2FkZXI7fX0pO21vZHVsZS5leHBvcnRzPUxvYWRlckNvbXBsZXRlRXZlbnQ7LyoqKi99LC8qIDY1NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEpTT05GaWxlPV9fd2VicGFja19yZXF1aXJlX18oODgpO3ZhciBBbmltYXRpb25KU09ORmlsZT1mdW5jdGlvbiBBbmltYXRpb25KU09ORmlsZShrZXksdXJsLHBhdGgseGhyU2V0dGluZ3Mpe3ZhciBqc29uPW5ldyBKU09ORmlsZShrZXksdXJsLHBhdGgseGhyU2V0dGluZ3MpOy8vICBPdmVycmlkZSB0aGUgRmlsZSB0eXBlXG5qc29uLnR5cGU9J2FuaW1hdGlvbkpTT04nO3JldHVybiBqc29uO307QW5pbWF0aW9uSlNPTkZpbGUuY3JlYXRlPWZ1bmN0aW9uKGxvYWRlcixrZXksdXJsLHhoclNldHRpbmdzKXtpZihBcnJheS5pc0FycmF5KGtleSkpe2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspey8vICBJZiBpdCdzIGFuIGFycmF5IGl0IGhhcyB0byBiZSBhbiBhcnJheSBvZiBPYmplY3RzLCBzbyB3ZSBnZXQgZXZlcnl0aGluZyBvdXQgb2YgdGhlICdrZXknIG9iamVjdFxubG9hZGVyLmFkZEZpbGUobmV3IEFuaW1hdGlvbkpTT05GaWxlKGtleVtpXSx1cmwsbG9hZGVyLnBhdGgseGhyU2V0dGluZ3MpKTt9fWVsc2V7bG9hZGVyLmFkZEZpbGUobmV3IEFuaW1hdGlvbkpTT05GaWxlKGtleSx1cmwsbG9hZGVyLnBhdGgseGhyU2V0dGluZ3MpKTt9Ly8gIEZvciBtZXRob2QgY2hhaW5pbmdcbnJldHVybiBsb2FkZXI7fTttb2R1bGUuZXhwb3J0cz1BbmltYXRpb25KU09ORmlsZTsvKioqL30sLyogNjU1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldFVSTD1mdW5jdGlvbiBHZXRVUkwoZmlsZSxiYXNlVVJMKXtpZighZmlsZS51cmwpe3JldHVybiBmYWxzZTt9aWYoZmlsZS51cmwubWF0Y2goL14oPzpibG9iOnxkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98XFwvXFwvKS8pKXtyZXR1cm4gZmlsZS51cmw7fWVsc2V7cmV0dXJuIGJhc2VVUkwrZmlsZS51cmw7fX07bW9kdWxlLmV4cG9ydHM9R2V0VVJMOy8qKiovfSwvKiA2NTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNZXJnZVhIUlNldHRpbmdzPV9fd2VicGFja19yZXF1aXJlX18oMTgxKTt2YXIgWEhSTG9hZGVyPWZ1bmN0aW9uIFhIUkxvYWRlcihmaWxlLGdsb2JhbFhIUlNldHRpbmdzKXt2YXIgY29uZmlnPU1lcmdlWEhSU2V0dGluZ3MoZ2xvYmFsWEhSU2V0dGluZ3MsZmlsZS54aHJTZXR0aW5ncyk7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3QoKTt4aHIub3BlbignR0VUJyxmaWxlLnNyYyxjb25maWcuYXN5bmMsY29uZmlnLnVzZXIsY29uZmlnLnBhc3N3b3JkKTt4aHIucmVzcG9uc2VUeXBlPWZpbGUueGhyU2V0dGluZ3MucmVzcG9uc2VUeXBlO3hoci50aW1lb3V0PWNvbmZpZy50aW1lb3V0O2lmKGNvbmZpZy5oZWFkZXImJmNvbmZpZy5oZWFkZXJWYWx1ZSl7eGhyLnNldFJlcXVlc3RIZWFkZXIoY29uZmlnLmhlYWRlcixjb25maWcuaGVhZGVyVmFsdWUpO31pZihjb25maWcub3ZlcnJpZGVNaW1lVHlwZSl7eGhyLm92ZXJyaWRlTWltZVR5cGUoY29uZmlnLm92ZXJyaWRlTWltZVR5cGUpO30vLyBBZnRlciBhIHN1Y2Nlc3NmdWwgcmVxdWVzdCwgdGhlIHhoci5yZXNwb25zZSBwcm9wZXJ0eSB3aWxsIGNvbnRhaW4gdGhlIHJlcXVlc3RlZCBkYXRhIGFzIGEgRE9NU3RyaW5nLCBBcnJheUJ1ZmZlciwgQmxvYiwgb3IgRG9jdW1lbnQgKGRlcGVuZGluZyBvbiB3aGF0IHdhcyBzZXQgZm9yIHJlc3BvbnNlVHlwZS4pXG54aHIub25sb2FkPWZpbGUub25Mb2FkLmJpbmQoZmlsZSk7eGhyLm9uZXJyb3I9ZmlsZS5vbkVycm9yLmJpbmQoZmlsZSk7eGhyLm9ucHJvZ3Jlc3M9ZmlsZS5vblByb2dyZXNzLmJpbmQoZmlsZSk7Ly8gIFRoaXMgaXMgdGhlIG9ubHkgc3RhbmRhcmQgbWV0aG9kLCB0aGUgb25lcyBhYm92ZSBhcmUgYnJvd3NlciBhZGRpdGlvbnMgKG1heWJlIG5vdCB1bml2ZXJzYWw/KVxuLy8geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZVxueGhyLnNlbmQoKTtyZXR1cm4geGhyO307bW9kdWxlLmV4cG9ydHM9WEhSTG9hZGVyOy8qKiovfSwvKiA2NTcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBJbWFnZUZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0Nyk7dmFyIEpTT05GaWxlPV9fd2VicGFja19yZXF1aXJlX18oODgpO3ZhciBBdGxhc0pTT05GaWxlPWZ1bmN0aW9uIEF0bGFzSlNPTkZpbGUoa2V5LHRleHR1cmVVUkwsYXRsYXNVUkwscGF0aCx0ZXh0dXJlWGhyU2V0dGluZ3MsYXRsYXNYaHJTZXR0aW5ncyl7dmFyIGltYWdlPW5ldyBJbWFnZUZpbGUoa2V5LHRleHR1cmVVUkwscGF0aCx0ZXh0dXJlWGhyU2V0dGluZ3MpO3ZhciBkYXRhPW5ldyBKU09ORmlsZShrZXksYXRsYXNVUkwscGF0aCxhdGxhc1hoclNldHRpbmdzKTsvLyAgTGluayB0aGVtIHRvZ2V0aGVyXG5pbWFnZS5saW5rRmlsZT1kYXRhO2RhdGEubGlua0ZpbGU9aW1hZ2U7Ly8gIFNldCB0aGUgdHlwZVxuaW1hZ2UubGlua1R5cGU9J2F0bGFzanNvbic7ZGF0YS5saW5rVHlwZT0nYXRsYXNqc29uJztyZXR1cm57dGV4dHVyZTppbWFnZSxkYXRhOmRhdGF9O307bW9kdWxlLmV4cG9ydHM9QXRsYXNKU09ORmlsZTsvKioqL30sLyogNjU4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMik7dmFyIEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXygyMyk7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpOy8vICBQaGFzZXIuTG9hZGVyLkZpbGVUeXBlcy5CaW5hcnlGaWxlXG52YXIgQmluYXJ5RmlsZT1uZXcgQ2xhc3Moe0V4dGVuZHM6RmlsZSxpbml0aWFsaXplOmZ1bmN0aW9uIEJpbmFyeUZpbGUoa2V5LHVybCxwYXRoLHhoclNldHRpbmdzKXt2YXIgZmlsZUtleT10eXBlb2Yga2V5PT09J3N0cmluZyc/a2V5OkdldEZhc3RWYWx1ZShrZXksJ2tleScsJycpO3ZhciBmaWxlQ29uZmlnPXt0eXBlOidiaW5hcnknLGV4dGVuc2lvbjpHZXRGYXN0VmFsdWUoa2V5LCdleHRlbnNpb24nLCdiaW4nKSxyZXNwb25zZVR5cGU6J2FycmF5YnVmZmVyJyxrZXk6ZmlsZUtleSx1cmw6R2V0RmFzdFZhbHVlKGtleSwnZmlsZScsdXJsKSxwYXRoOnBhdGgseGhyU2V0dGluZ3M6R2V0RmFzdFZhbHVlKGtleSwneGhyJyx4aHJTZXR0aW5ncyl9O0ZpbGUuY2FsbCh0aGlzLGZpbGVDb25maWcpO30sb25Qcm9jZXNzOmZ1bmN0aW9uIG9uUHJvY2VzcyhjYWxsYmFjayl7dGhpcy5zdGF0ZT1DT05TVC5GSUxFX1BST0NFU1NJTkc7dGhpcy5kYXRhPXRoaXMueGhyTG9hZGVyLnJlc3BvbnNlO3RoaXMub25Db21wbGV0ZSgpO2NhbGxiYWNrKHRoaXMpO319KTtCaW5hcnlGaWxlLmNyZWF0ZT1mdW5jdGlvbihsb2FkZXIsa2V5LHVybCx4aHJTZXR0aW5ncyl7aWYoQXJyYXkuaXNBcnJheShrZXkpKXtmb3IodmFyIGk9MDtpPGtleS5sZW5ndGg7aSsrKXsvLyAgSWYgaXQncyBhbiBhcnJheSBpdCBoYXMgdG8gYmUgYW4gYXJyYXkgb2YgT2JqZWN0cywgc28gd2UgZ2V0IGV2ZXJ5dGhpbmcgb3V0IG9mIHRoZSAna2V5JyBvYmplY3RcbmxvYWRlci5hZGRGaWxlKG5ldyBCaW5hcnlGaWxlKGtleVtpXSx1cmwsbG9hZGVyLnBhdGgseGhyU2V0dGluZ3MpKTt9fWVsc2V7bG9hZGVyLmFkZEZpbGUobmV3IEJpbmFyeUZpbGUoa2V5LHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO30vLyAgRm9yIG1ldGhvZCBjaGFpbmluZ1xucmV0dXJuIGxvYWRlcjt9O21vZHVsZS5leHBvcnRzPUJpbmFyeUZpbGU7LyoqKi99LC8qIDY1OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEltYWdlRmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ3KTt2YXIgWE1MRmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4Mik7dmFyIEJpdG1hcEZvbnRGaWxlPWZ1bmN0aW9uIEJpdG1hcEZvbnRGaWxlKGtleSx0ZXh0dXJlVVJMLHhtbFVSTCxwYXRoLHRleHR1cmVYaHJTZXR0aW5ncyx4bWxYaHJTZXR0aW5ncyl7dmFyIGltYWdlPW5ldyBJbWFnZUZpbGUoa2V5LHRleHR1cmVVUkwscGF0aCx0ZXh0dXJlWGhyU2V0dGluZ3MpO3ZhciBkYXRhPW5ldyBYTUxGaWxlKGtleSx4bWxVUkwscGF0aCx4bWxYaHJTZXR0aW5ncyk7Ly8gIExpbmsgdGhlbSB0b2dldGhlclxuaW1hZ2UubGlua0ZpbGU9ZGF0YTtkYXRhLmxpbmtGaWxlPWltYWdlOy8vICBTZXQgdGhlIHR5cGVcbmltYWdlLmxpbmtUeXBlPSdiaXRtYXBmb250JztkYXRhLmxpbmtUeXBlPSdiaXRtYXBmb250JztyZXR1cm57dGV4dHVyZTppbWFnZSxkYXRhOmRhdGF9O307bW9kdWxlLmV4cG9ydHM9Qml0bWFwRm9udEZpbGU7LyoqKi99LC8qIDY2MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTIpO3ZhciBGaWxlPV9fd2VicGFja19yZXF1aXJlX18oMjMpO3ZhciBHZXRGYXN0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTsvLyAgUGhhc2VyLkxvYWRlci5GaWxlVHlwZXMuR0xTTEZpbGVcbnZhciBHTFNMRmlsZT1uZXcgQ2xhc3Moe0V4dGVuZHM6RmlsZSxpbml0aWFsaXplOmZ1bmN0aW9uIEdMU0xGaWxlKGtleSx1cmwscGF0aCx4aHJTZXR0aW5ncyl7dmFyIGZpbGVLZXk9dHlwZW9mIGtleT09PSdzdHJpbmcnP2tleTpHZXRGYXN0VmFsdWUoa2V5LCdrZXknLCcnKTt2YXIgZmlsZUNvbmZpZz17dHlwZTonZ2xzbCcsZXh0ZW5zaW9uOkdldEZhc3RWYWx1ZShrZXksJ2V4dGVuc2lvbicsJ2dsc2wnKSxyZXNwb25zZVR5cGU6J3RleHQnLGtleTpmaWxlS2V5LHVybDpHZXRGYXN0VmFsdWUoa2V5LCdmaWxlJyx1cmwpLHBhdGg6cGF0aCx4aHJTZXR0aW5nczpHZXRGYXN0VmFsdWUoa2V5LCd4aHInLHhoclNldHRpbmdzKX07RmlsZS5jYWxsKHRoaXMsZmlsZUNvbmZpZyk7fSxvblByb2Nlc3M6ZnVuY3Rpb24gb25Qcm9jZXNzKGNhbGxiYWNrKXt0aGlzLnN0YXRlPUNPTlNULkZJTEVfUFJPQ0VTU0lORzt0aGlzLmRhdGE9dGhpcy54aHJMb2FkZXIucmVzcG9uc2VUZXh0O3RoaXMub25Db21wbGV0ZSgpO2NhbGxiYWNrKHRoaXMpO319KTtHTFNMRmlsZS5jcmVhdGU9ZnVuY3Rpb24obG9hZGVyLGtleSx1cmwseGhyU2V0dGluZ3Mpe2lmKEFycmF5LmlzQXJyYXkoa2V5KSl7Zm9yKHZhciBpPTA7aTxrZXkubGVuZ3RoO2krKyl7Ly8gIElmIGl0J3MgYW4gYXJyYXkgaXQgaGFzIHRvIGJlIGFuIGFycmF5IG9mIE9iamVjdHMsIHNvIHdlIGdldCBldmVyeXRoaW5nIG91dCBvZiB0aGUgJ2tleScgb2JqZWN0XG5sb2FkZXIuYWRkRmlsZShuZXcgR0xTTEZpbGUoa2V5W2ldLHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO319ZWxzZXtsb2FkZXIuYWRkRmlsZShuZXcgR0xTTEZpbGUoa2V5LHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO30vLyAgRm9yIG1ldGhvZCBjaGFpbmluZ1xucmV0dXJuIGxvYWRlcjt9O21vZHVsZS5leHBvcnRzPUdMU0xGaWxlOy8qKiovfSwvKiA2NjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTt2YXIgRmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTt2YXIgR2V0RmFzdFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNyk7Ly8gIFBoYXNlci5Mb2FkZXIuRmlsZVR5cGVzLkhUTUxGaWxlXG52YXIgSFRNTEZpbGU9bmV3IENsYXNzKHtFeHRlbmRzOkZpbGUsaW5pdGlhbGl6ZTpmdW5jdGlvbiBIVE1MRmlsZShrZXksdXJsLHdpZHRoLGhlaWdodCxwYXRoLHhoclNldHRpbmdzKXtpZih3aWR0aD09PXVuZGVmaW5lZCl7d2lkdGg9NTEyO31pZihoZWlnaHQ9PT11bmRlZmluZWQpe2hlaWdodD01MTI7fXZhciBmaWxlS2V5PXR5cGVvZiBrZXk9PT0nc3RyaW5nJz9rZXk6R2V0RmFzdFZhbHVlKGtleSwna2V5JywnJyk7dmFyIGZpbGVDb25maWc9e3R5cGU6J2h0bWwnLGV4dGVuc2lvbjpHZXRGYXN0VmFsdWUoa2V5LCdleHRlbnNpb24nLCdodG1sJykscmVzcG9uc2VUeXBlOid0ZXh0JyxrZXk6ZmlsZUtleSx1cmw6R2V0RmFzdFZhbHVlKGtleSwnZmlsZScsdXJsKSxwYXRoOnBhdGgseGhyU2V0dGluZ3M6R2V0RmFzdFZhbHVlKGtleSwneGhyJyx4aHJTZXR0aW5ncyksY29uZmlnOnt3aWR0aDp3aWR0aCxoZWlnaHQ6aGVpZ2h0fX07RmlsZS5jYWxsKHRoaXMsZmlsZUNvbmZpZyk7fSxvblByb2Nlc3M6ZnVuY3Rpb24gb25Qcm9jZXNzKGNhbGxiYWNrKXt0aGlzLnN0YXRlPUNPTlNULkZJTEVfUFJPQ0VTU0lORzt2YXIgdz10aGlzLmNvbmZpZy53aWR0aDt2YXIgaD10aGlzLmNvbmZpZy5oZWlnaHQ7dmFyIGRhdGE9W107ZGF0YS5wdXNoKCc8c3ZnIHdpZHRoPVwiJyt3KydweFwiIGhlaWdodD1cIicraCsncHhcIiB2aWV3Qm94PVwiMCAwICcrdysnICcraCsnXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPicpO2RhdGEucHVzaCgnPGZvcmVpZ25PYmplY3Qgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPicpO2RhdGEucHVzaCgnPGJvZHkgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI+Jyk7ZGF0YS5wdXNoKHRoaXMueGhyTG9hZGVyLnJlc3BvbnNlVGV4dCk7ZGF0YS5wdXNoKCc8L2JvZHk+Jyk7ZGF0YS5wdXNoKCc8L2ZvcmVpZ25PYmplY3Q+Jyk7ZGF0YS5wdXNoKCc8L3N2Zz4nKTt2YXIgc3ZnPVtkYXRhLmpvaW4oJ1xcbicpXTt2YXIgX3RoaXM9dGhpczt0cnl7dmFyIGJsb2I9bmV3IHdpbmRvdy5CbG9iKHN2Zyx7dHlwZTonaW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04J30pO31jYXRjaChlKXtfdGhpcy5zdGF0ZT1DT05TVC5GSUxFX0VSUk9SRUQ7Y2FsbGJhY2soX3RoaXMpO3JldHVybjt9dGhpcy5kYXRhPW5ldyBJbWFnZSgpO3RoaXMuZGF0YS5jcm9zc09yaWdpbj10aGlzLmNyb3NzT3JpZ2luO3RoaXMuZGF0YS5vbmxvYWQ9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKF90aGlzLmRhdGEuc3JjKTtfdGhpcy5vbkNvbXBsZXRlKCk7Y2FsbGJhY2soX3RoaXMpO307dGhpcy5kYXRhLm9uZXJyb3I9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKF90aGlzLmRhdGEuc3JjKTtfdGhpcy5zdGF0ZT1DT05TVC5GSUxFX0VSUk9SRUQ7Y2FsbGJhY2soX3RoaXMpO307dGhpcy5kYXRhLnNyYz1VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO319KTtIVE1MRmlsZS5jcmVhdGU9ZnVuY3Rpb24obG9hZGVyLGtleSx1cmwsd2lkdGgsaGVpZ2h0LHhoclNldHRpbmdzKXtpZihBcnJheS5pc0FycmF5KGtleSkpe2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspey8vICBJZiBpdCdzIGFuIGFycmF5IGl0IGhhcyB0byBiZSBhbiBhcnJheSBvZiBPYmplY3RzLCBzbyB3ZSBnZXQgZXZlcnl0aGluZyBvdXQgb2YgdGhlICdrZXknIG9iamVjdFxubG9hZGVyLmFkZEZpbGUobmV3IEhUTUxGaWxlKGtleVtpXSx1cmwsd2lkdGgsaGVpZ2h0LGxvYWRlci5wYXRoLHhoclNldHRpbmdzKSk7fX1lbHNle2xvYWRlci5hZGRGaWxlKG5ldyBIVE1MRmlsZShrZXksdXJsLHdpZHRoLGhlaWdodCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO30vLyAgRm9yIG1ldGhvZCBjaGFpbmluZ1xucmV0dXJuIGxvYWRlcjt9O21vZHVsZS5leHBvcnRzPUhUTUxGaWxlOy8qKiovfSwvKiA2NjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBDT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKTt2YXIgRmlsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTt2YXIgR2V0RmFzdFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNyk7Ly8gIFBoYXNlci5Mb2FkZXIuRmlsZVR5cGVzLlNjcmlwdEZpbGVcbnZhciBTY3JpcHRGaWxlPW5ldyBDbGFzcyh7RXh0ZW5kczpGaWxlLGluaXRpYWxpemU6ZnVuY3Rpb24gU2NyaXB0RmlsZShrZXksdXJsLHBhdGgseGhyU2V0dGluZ3Mpe3ZhciBmaWxlS2V5PXR5cGVvZiBrZXk9PT0nc3RyaW5nJz9rZXk6R2V0RmFzdFZhbHVlKGtleSwna2V5JywnJyk7dmFyIGZpbGVDb25maWc9e3R5cGU6J3NjcmlwdCcsZXh0ZW5zaW9uOkdldEZhc3RWYWx1ZShrZXksJ2V4dGVuc2lvbicsJ2pzJykscmVzcG9uc2VUeXBlOid0ZXh0JyxrZXk6ZmlsZUtleSx1cmw6R2V0RmFzdFZhbHVlKGtleSwnZmlsZScsdXJsKSxwYXRoOnBhdGgseGhyU2V0dGluZ3M6R2V0RmFzdFZhbHVlKGtleSwneGhyJyx4aHJTZXR0aW5ncyl9O0ZpbGUuY2FsbCh0aGlzLGZpbGVDb25maWcpO30sb25Qcm9jZXNzOmZ1bmN0aW9uIG9uUHJvY2VzcyhjYWxsYmFjayl7dGhpcy5zdGF0ZT1DT05TVC5GSUxFX1BST0NFU1NJTkc7dGhpcy5kYXRhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO3RoaXMuZGF0YS5sYW5ndWFnZT0namF2YXNjcmlwdCc7dGhpcy5kYXRhLnR5cGU9J3RleHQvamF2YXNjcmlwdCc7dGhpcy5kYXRhLmRlZmVyPWZhbHNlO3RoaXMuZGF0YS50ZXh0PXRoaXMueGhyTG9hZGVyLnJlc3BvbnNlVGV4dDtkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHRoaXMuZGF0YSk7dGhpcy5vbkNvbXBsZXRlKCk7Y2FsbGJhY2sodGhpcyk7fX0pO1NjcmlwdEZpbGUuY3JlYXRlPWZ1bmN0aW9uKGxvYWRlcixrZXksdXJsLHhoclNldHRpbmdzKXtpZihBcnJheS5pc0FycmF5KGtleSkpe2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspey8vICBJZiBpdCdzIGFuIGFycmF5IGl0IGhhcyB0byBiZSBhbiBhcnJheSBvZiBPYmplY3RzLCBzbyB3ZSBnZXQgZXZlcnl0aGluZyBvdXQgb2YgdGhlICdrZXknIG9iamVjdFxubG9hZGVyLmFkZEZpbGUobmV3IFNjcmlwdEZpbGUoa2V5W2ldLHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO319ZWxzZXtsb2FkZXIuYWRkRmlsZShuZXcgU2NyaXB0RmlsZShrZXksdXJsLGxvYWRlci5wYXRoLHhoclNldHRpbmdzKSk7fS8vICBGb3IgbWV0aG9kIGNoYWluaW5nXG5yZXR1cm4gbG9hZGVyO307bW9kdWxlLmV4cG9ydHM9U2NyaXB0RmlsZTsvKioqL30sLyogNjYzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgSW1hZ2VGaWxlPV9fd2VicGFja19yZXF1aXJlX18oNDcpOy8vICBjb25maWcgY2FuIGluY2x1ZGU6IGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0LCBzdGFydEZyYW1lLCBlbmRGcmFtZSwgbWFyZ2luLCBzcGFjaW5nXG52YXIgU3ByaXRlU2hlZXQ9ZnVuY3Rpb24gU3ByaXRlU2hlZXQoa2V5LHVybCxjb25maWcscGF0aCx4aHJTZXR0aW5ncyl7dmFyIGltYWdlPW5ldyBJbWFnZUZpbGUoa2V5LHVybCxwYXRoLHhoclNldHRpbmdzLGNvbmZpZyk7Ly8gIE92ZXJyaWRlIHRoZSBGaWxlIHR5cGVcbmltYWdlLnR5cGU9J3Nwcml0ZXNoZWV0JztyZXR1cm4gaW1hZ2U7fTtTcHJpdGVTaGVldC5jcmVhdGU9ZnVuY3Rpb24obG9hZGVyLGtleSx1cmwsY29uZmlnLHhoclNldHRpbmdzKXtpZihBcnJheS5pc0FycmF5KGtleSkpe2Zvcih2YXIgaT0wO2k8a2V5Lmxlbmd0aDtpKyspey8vICBJZiBpdCdzIGFuIGFycmF5IGl0IGhhcyB0byBiZSBhbiBhcnJheSBvZiBPYmplY3RzLCBzbyB3ZSBnZXQgZXZlcnl0aGluZyBvdXQgb2YgdGhlICdrZXknIG9iamVjdFxubG9hZGVyLmFkZEZpbGUobmV3IFNwcml0ZVNoZWV0KGtleVtpXSx1cmwsbnVsbCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO319ZWxzZXtsb2FkZXIuYWRkRmlsZShuZXcgU3ByaXRlU2hlZXQoa2V5LHVybCxjb25maWcsbG9hZGVyLnBhdGgseGhyU2V0dGluZ3MpKTt9Ly8gIEZvciBtZXRob2QgY2hhaW5pbmdcbnJldHVybiBsb2FkZXI7fTttb2R1bGUuZXhwb3J0cz1TcHJpdGVTaGVldDsvKioqL30sLyogNjY0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMik7dmFyIEZpbGU9X193ZWJwYWNrX3JlcXVpcmVfXygyMyk7dmFyIEdldEZhc3RWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpOy8vICBQaGFzZXIuTG9hZGVyLkZpbGVUeXBlcy5TVkdGaWxlXG52YXIgU1ZHRmlsZT1uZXcgQ2xhc3Moe0V4dGVuZHM6RmlsZSxpbml0aWFsaXplOmZ1bmN0aW9uIFNWR0ZpbGUoa2V5LHVybCxwYXRoLHhoclNldHRpbmdzKXt2YXIgZmlsZUtleT10eXBlb2Yga2V5PT09J3N0cmluZyc/a2V5OkdldEZhc3RWYWx1ZShrZXksJ2tleScsJycpO3ZhciBmaWxlQ29uZmlnPXt0eXBlOidzdmcnLGV4dGVuc2lvbjpHZXRGYXN0VmFsdWUoa2V5LCdleHRlbnNpb24nLCdzdmcnKSxyZXNwb25zZVR5cGU6J3RleHQnLGtleTpmaWxlS2V5LHVybDpHZXRGYXN0VmFsdWUoa2V5LCdmaWxlJyx1cmwpLHBhdGg6cGF0aCx4aHJTZXR0aW5nczpHZXRGYXN0VmFsdWUoa2V5LCd4aHInLHhoclNldHRpbmdzKX07RmlsZS5jYWxsKHRoaXMsZmlsZUNvbmZpZyk7fSxvblByb2Nlc3M6ZnVuY3Rpb24gb25Qcm9jZXNzKGNhbGxiYWNrKXt0aGlzLnN0YXRlPUNPTlNULkZJTEVfUFJPQ0VTU0lORzt2YXIgc3ZnPVt0aGlzLnhockxvYWRlci5yZXNwb25zZVRleHRdO3ZhciBfdGhpcz10aGlzO3RyeXt2YXIgYmxvYj1uZXcgd2luZG93LkJsb2Ioc3ZnLHt0eXBlOidpbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgnfSk7fWNhdGNoKGUpe190aGlzLnN0YXRlPUNPTlNULkZJTEVfRVJST1JFRDtjYWxsYmFjayhfdGhpcyk7cmV0dXJuO310aGlzLmRhdGE9bmV3IEltYWdlKCk7dGhpcy5kYXRhLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW47dmFyIHJldHJ5PWZhbHNlO3RoaXMuZGF0YS5vbmxvYWQ9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKF90aGlzLmRhdGEuc3JjKTtfdGhpcy5vbkNvbXBsZXRlKCk7Y2FsbGJhY2soX3RoaXMpO307dGhpcy5kYXRhLm9uZXJyb3I9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKF90aGlzLmRhdGEuc3JjKTsvLyAgU2FmYXJpIDggcmUtdHJ5XG5pZighcmV0cnkpe3JldHJ5PXRydWU7dmFyIHVybD0nZGF0YTppbWFnZS9zdmcreG1sLCcrZW5jb2RlVVJJQ29tcG9uZW50KHN2Zy5qb2luKCcnKSk7X3RoaXMuZGF0YS5zcmM9VVJMLmNyZWF0ZU9iamVjdFVSTCh1cmwpO31lbHNle190aGlzLnN0YXRlPUNPTlNULkZJTEVfRVJST1JFRDtjYWxsYmFjayhfdGhpcyk7fX07dGhpcy5kYXRhLnNyYz1VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO319KTtTVkdGaWxlLmNyZWF0ZT1mdW5jdGlvbihsb2FkZXIsa2V5LHVybCx4aHJTZXR0aW5ncyl7aWYoQXJyYXkuaXNBcnJheShrZXkpKXtmb3IodmFyIGk9MDtpPGtleS5sZW5ndGg7aSsrKXsvLyAgSWYgaXQncyBhbiBhcnJheSBpdCBoYXMgdG8gYmUgYW4gYXJyYXkgb2YgT2JqZWN0cywgc28gd2UgZ2V0IGV2ZXJ5dGhpbmcgb3V0IG9mIHRoZSAna2V5JyBvYmplY3RcbmxvYWRlci5hZGRGaWxlKG5ldyBTVkdGaWxlKGtleVtpXSx1cmwsbG9hZGVyLnBhdGgseGhyU2V0dGluZ3MpKTt9fWVsc2V7bG9hZGVyLmFkZEZpbGUobmV3IFNWR0ZpbGUoa2V5LHVybCxsb2FkZXIucGF0aCx4aHJTZXR0aW5ncykpO30vLyAgRm9yIG1ldGhvZCBjaGFpbmluZ1xucmV0dXJuIGxvYWRlcjt9O21vZHVsZS5leHBvcnRzPVNWR0ZpbGU7LyoqKi99LC8qIDY2NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTIpO3ZhciBGaWxlPV9fd2VicGFja19yZXF1aXJlX18oMjMpOy8vICBQaGFzZXIuTG9hZGVyLkZpbGVUeXBlcy5UZXh0RmlsZVxudmFyIFRleHRGaWxlPW5ldyBDbGFzcyh7RXh0ZW5kczpGaWxlLGluaXRpYWxpemU6ZnVuY3Rpb24gVGV4dEZpbGUoa2V5LHVybCxwYXRoLHhoclNldHRpbmdzKXt2YXIgZmlsZUNvbmZpZz17dHlwZTondGV4dCcsZXh0ZW5zaW9uOid0eHQnLHJlc3BvbnNlVHlwZTondGV4dCcsa2V5OmtleSx1cmw6dXJsLHBhdGg6cGF0aCx4aHJTZXR0aW5nczp4aHJTZXR0aW5nc307RmlsZS5jYWxsKHRoaXMsZmlsZUNvbmZpZyk7fSxvblByb2Nlc3M6ZnVuY3Rpb24gb25Qcm9jZXNzKGNhbGxiYWNrKXt0aGlzLnN0YXRlPUNPTlNULkZJTEVfUFJPQ0VTU0lORzt0aGlzLmRhdGE9dGhpcy54aHJMb2FkZXIucmVzcG9uc2VUZXh0O3RoaXMub25Db21wbGV0ZSgpO2NhbGxiYWNrKHRoaXMpO319KTttb2R1bGUuZXhwb3J0cz1UZXh0RmlsZTsvKioqL30sLyogNjY2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgT2JqZWN0UG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDg5KTt2YXIgU3ByaXRlUG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY2Nyk7dmFyIFBvb2xNYW5hZ2VyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBQb29sTWFuYWdlcihzY2VuZSl7dGhpcy5zY2VuZT1zY2VuZTt0aGlzLl9hY3RpdmU9W107dGhpcy5fcGVuZGluZ0luc2VydGlvbj1bXTt0aGlzLl9wZW5kaW5nUmVtb3ZhbD1bXTt0aGlzLnByb2Nlc3Npbmc9ZmFsc2U7fSxhZGQ6ZnVuY3Rpb24gYWRkKHBvb2wpe2lmKHRoaXMucHJvY2Vzc2luZyl7dGhpcy5fcGVuZGluZ0luc2VydGlvbi5wdXNoKHBvb2wpO31lbHNle3RoaXMuX2FjdGl2ZS5wdXNoKHBvb2wpO31yZXR1cm4gdGhpczt9LGNyZWF0ZVNwcml0ZVBvb2w6ZnVuY3Rpb24gY3JlYXRlU3ByaXRlUG9vbChtYXhTaXplLGtleSxmcmFtZSl7dmFyIHBvb2w9bmV3IFNwcml0ZVBvb2wodGhpcyxtYXhTaXplLGtleSxmcmFtZSk7dGhpcy5hZGQocG9vbCk7cmV0dXJuIHBvb2w7fSxjcmVhdGVPYmplY3RQb29sOmZ1bmN0aW9uIGNyZWF0ZU9iamVjdFBvb2woY2xhc3NUeXBlLG1heFNpemUpe2lmKG1heFNpemU9PT11bmRlZmluZWQpe21heFNpemU9LTE7fXZhciBwb29sPW5ldyBPYmplY3RQb29sKHRoaXMsY2xhc3NUeXBlLG1heFNpemUpO3RoaXMuYWRkKHBvb2wpO3JldHVybiBwb29sO30sYmVnaW46ZnVuY3Rpb24gYmVnaW4oKXt2YXIgdG9SZW1vdmU9dGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoO3ZhciB0b0luc2VydD10aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aDtpZih0b1JlbW92ZT09PTAmJnRvSW5zZXJ0PT09MCl7Ly8gIFF1aWNrIGJhaWxcbnJldHVybjt9dmFyIGk7dmFyIHBvb2w7Ly8gIERlbGV0ZSBvbGQgcG9vbHNcbmZvcihpPTA7aTx0b1JlbW92ZTtpKyspe3Bvb2w9dGhpcy5fcGVuZGluZ1JlbW92YWxbaV07dmFyIGluZGV4PXRoaXMuX2FjdGl2ZS5pbmRleE9mKHBvb2wpO2lmKGluZGV4Pi0xKXt0aGlzLl9hY3RpdmUuc3BsaWNlKGluZGV4LDEpO31wb29sLmRlc3Ryb3koKTt9Ly8gIE1vdmUgcGVuZGluZyB0byBhY3RpdmVcbnRoaXMuX2FjdGl2ZT10aGlzLl9hY3RpdmUuY29uY2F0KHRoaXMuX3BlbmRpbmdJbnNlcnRpb24uc3BsaWNlKDApKTsvLyAgQ2xlYXIgdGhlIGxpc3RzXG50aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGg9MDt0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aD0wO30sdXBkYXRlOmZ1bmN0aW9uIHVwZGF0ZSh0aW1lLGRlbHRhKXt0aGlzLnByb2Nlc3Npbmc9dHJ1ZTtmb3IodmFyIGk9MDtpPHRoaXMuX2FjdGl2ZS5sZW5ndGg7aSsrKXt2YXIgcG9vbD10aGlzLl9hY3RpdmVbaV07cG9vbC51cGRhdGUuY2FsbChwb29sLHRpbWUsZGVsdGEpO310aGlzLnByb2Nlc3Npbmc9ZmFsc2U7fSwvLyAgU2NlbmUgdGhhdCBvd25zIHRoaXMgUG9vbCBpcyBzaHV0dGluZyBkb3duXG5zaHV0ZG93bjpmdW5jdGlvbiBzaHV0ZG93bigpe3ZhciBpO2ZvcihpPTA7aTx0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aDtpKyspe3RoaXMuX3BlbmRpbmdJbnNlcnRpb25baV0uZGVzdHJveSgpO31mb3IoaT0wO2k8dGhpcy5fYWN0aXZlLmxlbmd0aDtpKyspe3RoaXMuX2FjdGl2ZVtpXS5kZXN0cm95KCk7fWZvcihpPTA7aTx0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGg7aSsrKXt0aGlzLl9wZW5kaW5nUmVtb3ZhbFtpXS5kZXN0cm95KCk7fXRoaXMuX2FjdGl2ZS5sZW5ndGg9MDt0aGlzLl9wZW5kaW5nUmVtb3ZhbC5sZW5ndGg9MDt0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uLmxlbmd0aD0wO30sLy8gIEdhbWUgbGV2ZWwgbnVrZVxuZGVzdHJveTpmdW5jdGlvbiBkZXN0cm95KCl7dGhpcy5zaHV0ZG93bigpO3RoaXMuc2NlbmU9dW5kZWZpbmVkO319KTttb2R1bGUuZXhwb3J0cz1Qb29sTWFuYWdlcjsvKioqL30sLyogNjY3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZVBvb2xcbnZhciBDbGFzcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBTcHJpdGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0NSk7dmFyIE9iamVjdFBvb2w9X193ZWJwYWNrX3JlcXVpcmVfXyg4OSk7Ly8gIEFuIE9iamVjdCBQb29sXG52YXIgU3ByaXRlUG9vbD1uZXcgQ2xhc3Moe0V4dGVuZHM6T2JqZWN0UG9vbCxpbml0aWFsaXplOmZ1bmN0aW9uIFNwcml0ZVBvb2wobWFuYWdlcixtYXhTaXplLHF1YW50aXR5LGtleSxmcmFtZSl7T2JqZWN0UG9vbC5jYWxsKHRoaXMsbWFuYWdlcixTcHJpdGUsbWF4U2l6ZSx0aGlzLm1ha2VTcHJpdGUsdGhpcyk7dGhpcy5kZWZhdWx0S2V5PWtleTt0aGlzLmRlZmF1bHRGcmFtZT1mcmFtZTt9LG1ha2VTcHJpdGU6ZnVuY3Rpb24gbWFrZVNwcml0ZSgpe3ZhciBnYW1lT2JqZWN0PW5ldyB0aGlzLmNsYXNzVHlwZSh0aGlzLnNjZW5lLDAsMCx0aGlzLmRlZmF1bHRLZXksdGhpcy5kZWZhdWx0RnJhbWUpO3RoaXMuZGlzcGxheUxpc3QuYWRkKGdhbWVPYmplY3QpO3RoaXMudXBkYXRlTGlzdC5hZGQoZ2FtZU9iamVjdCk7Z2FtZU9iamVjdC5zZXRBY3RpdmUoZmFsc2UpO2dhbWVPYmplY3Quc2V0VmlzaWJsZShmYWxzZSk7cmV0dXJuIGdhbWVPYmplY3Q7fSxnZXQ6ZnVuY3Rpb24gZ2V0KHgseSl7dmFyIGdhbWVPYmplY3Q9dGhpcy5nZXRGcmVlR2FtZU9iamVjdCgpO2dhbWVPYmplY3Quc2V0UG9zaXRpb24oeCx5KTtyZXR1cm4gZ2FtZU9iamVjdDt9fSk7bW9kdWxlLmV4cG9ydHM9U3ByaXRlUG9vbDsvKioqL30sLyogNjY4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg2NjkpO3ZhciBTY2FsZU1vZGVzPV9fd2VicGFja19yZXF1aXJlX18oMjYpO3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBJbmplY3Rpb25NYXA9X193ZWJwYWNrX3JlcXVpcmVfXyg2NzApO3ZhciBTZXR0aW5ncz17Y3JlYXRlOmZ1bmN0aW9uIGNyZWF0ZShjb25maWcpe2lmKHR5cGVvZiBjb25maWc9PT0nc3RyaW5nJyl7Y29uZmlnPXtrZXk6Y29uZmlnfTt9ZWxzZSBpZihjb25maWc9PT11bmRlZmluZWQpey8vICBQYXNzIHRoZSAnaGFzT3duUHJvcGVydHknIGNoZWNrc1xuY29uZmlnPXt9O31yZXR1cm57c3RhdHVzOkNPTlNULlBFTkRJTkcsb3A6Q09OU1QuQk9PVCxrZXk6R2V0VmFsdWUoY29uZmlnLCdrZXknLCcnKSxhY3RpdmU6R2V0VmFsdWUoY29uZmlnLCdhY3RpdmUnLGZhbHNlKSx2aXNpYmxlOkdldFZhbHVlKGNvbmZpZywndmlzaWJsZScsdHJ1ZSksLy8gIExvYWRlciBwYXlsb2FkIGFycmF5XG5kYXRhOnt9LGZpbGVzOkdldFZhbHVlKGNvbmZpZywnZmlsZXMnLGZhbHNlKSwvLyAgQ2FtZXJhc1xuY2FtZXJhczpHZXRWYWx1ZShjb25maWcsJ2NhbWVyYXMnLG51bGwpLC8vICBTY2VuZSBQcm9wZXJ0eSBJbmplY3Rpb24gTWFwXG5tYXA6R2V0VmFsdWUoY29uZmlnLCdtYXAnLEluamVjdGlvbk1hcCksLy8gIFNjZW5lIFJlbmRlciBTZXR0aW5ncyAoYXBwbGllcyBvbmx5IHRvIHRoaXMgU2NlbmUpXG5zY2FsZU1vZGU6R2V0VmFsdWUoY29uZmlnLCdzY2FsZU1vZGUnLFNjYWxlTW9kZXMuREVGQVVMVCkscm91bmRQaXhlbHM6R2V0VmFsdWUoY29uZmlnLCdyb3VuZFBpeGVscycsZmFsc2UpLGRpcnR5UmVuZGVyOkdldFZhbHVlKGNvbmZpZywnZGlydHlSZW5kZXInLGZhbHNlKSxyZW5kZXJUb1RleHR1cmU6R2V0VmFsdWUoY29uZmlnLCdyZW5kZXJUb1RleHR1cmUnLGZhbHNlKSwvLyAgVGhlIGZvbGxvd2luZyBvbmx5IGFwcGx5IGlmIHJlbmRlclRvVGV4dHVyZSBpcyB0cnVlXG5hdXRvUmVzaXplOkdldFZhbHVlKGNvbmZpZywnYXV0b1Jlc2l6ZScsZmFsc2UpfTt9fTttb2R1bGUuZXhwb3J0cz1TZXR0aW5nczsvKioqL30sLyogNjY5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9e1BFTkRJTkc6MCxJTlNUQUxMRUQ6MSxCT09UOjAsSU5JVDoxLFBSRUxPQUQ6MixDUkVBVEU6MyxVUERBVEU6NCxSRU5ERVI6NSxTSFVURE9XTjo2fTsvKioqL30sLyogNjcwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFRoZXNlIHByb3BlcnRpZXMgZ2V0IGluamVjdGVkIGludG8gdGhlIFNjZW5lIGFuZCBtYXAgdG8gbG9jYWwgc3lzdGVtc1xuLy8gIFRoZSBrZXkgaXMgdGhlIGxvY2FsIHN5c3RlbSByZWZlcmVuY2UsIHRoZSB2YWx1ZSBpcyB0aGUgcHJvcGVydHkgdGhhdCBpcyBhZGRlZCB0byB0aGUgU2NlbmVcbi8vICBUaGVzZSBjYW4gYmUgbW9kaWZpZWQgdmlhIHRoZSBjb25maWcgb2JqZWN0XG52YXIgSW5qZWN0aW9uTWFwPXtnYW1lOidnYW1lJyxhbmltczonYW5pbXMnLGNhY2hlOidjYWNoZScscmVnaXN0cnk6J3JlZ2lzdHJ5Jyx0ZXh0dXJlczondGV4dHVyZXMnLGFkZDonYWRkJyxjYW1lcmFzOidjYW1lcmFzJyxkYXRhOidkYXRhJyxkaXNwbGF5TGlzdDonY2hpbGRyZW4nLGV2ZW50czonZXZlbnRzJyxpbnB1dE1hbmFnZXI6J2lucHV0Jyxsb2FkOidsb2FkJyxtYWtlOidtYWtlJyxwb29sOidwb29sJyxzY2VuZU1hbmFnZXI6J3NjZW5lJyx0aW1lOid0aW1lJyx0d2VlbnM6J3R3ZWVucyd9O21vZHVsZS5leHBvcnRzPUluamVjdGlvbk1hcDsvKioqL30sLyogNjcxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyEgc3RhYmxlLmpzIDAuMS42LCBodHRwczovL2dpdGh1Yi5jb20vVHdvLVNjcmVlbi9zdGFibGVcbi8vISDCqSAyMDE3IEFuZ3J5IEJ5dGVzIGFuZCBjb250cmlidXRvcnMuIE1JVCBsaWNlbnNlZC5cbihmdW5jdGlvbigpey8vIEEgc3RhYmxlIGFycmF5IHNvcnQsIGJlY2F1c2UgYEFycmF5I3NvcnQoKWAgaXMgbm90IGd1YXJhbnRlZWQgc3RhYmxlLlxuLy8gVGhpcyBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBtZXJnZSBzb3J0LCB3aXRob3V0IHJlY3Vyc2lvbi5cbnZhciBzdGFibGU9ZnVuY3Rpb24gc3RhYmxlKGFycixjb21wKXtyZXR1cm4gZXhlYyhhcnIuc2xpY2UoKSxjb21wKTt9O3N0YWJsZS5pbnBsYWNlPWZ1bmN0aW9uKGFycixjb21wKXt2YXIgcmVzdWx0PWV4ZWMoYXJyLGNvbXApOy8vIFRoaXMgc2ltcGx5IGNvcGllcyBiYWNrIGlmIHRoZSByZXN1bHQgaXNuJ3QgaW4gdGhlIG9yaWdpbmFsIGFycmF5LFxuLy8gd2hpY2ggaGFwcGVucyBvbiBhbiBvZGQgbnVtYmVyIG9mIHBhc3Nlcy5cbmlmKHJlc3VsdCE9PWFycil7cGFzcyhyZXN1bHQsbnVsbCxhcnIubGVuZ3RoLGFycik7fXJldHVybiBhcnI7fTsvLyBFeGVjdXRlIHRoZSBzb3J0IHVzaW5nIHRoZSBpbnB1dCBhcnJheSBhbmQgYSBzZWNvbmQgYnVmZmVyIGFzIHdvcmsgc3BhY2UuXG4vLyBSZXR1cm5zIG9uZSBvZiB0aG9zZSB0d28sIGNvbnRhaW5pbmcgdGhlIGZpbmFsIHJlc3VsdC5cbmZ1bmN0aW9uIGV4ZWMoYXJyLGNvbXApe2lmKHR5cGVvZiBjb21wIT09J2Z1bmN0aW9uJyl7Y29tcD1mdW5jdGlvbiBjb21wKGEsYil7cmV0dXJuIFN0cmluZyhhKS5sb2NhbGVDb21wYXJlKGIpO307fS8vIFNob3J0LWNpcmN1aXQgd2hlbiB0aGVyZSdzIG5vdGhpbmcgdG8gc29ydC5cbnZhciBsZW49YXJyLmxlbmd0aDtpZihsZW48PTEpe3JldHVybiBhcnI7fS8vIFJhdGhlciB0aGFuIGRpdmlkaW5nIGlucHV0LCBzaW1wbHkgaXRlcmF0ZSBjaHVua3Mgb2YgMSwgMiwgNCwgOCwgZXRjLlxuLy8gQ2h1bmtzIGFyZSB0aGUgc2l6ZSBvZiB0aGUgbGVmdCBvciByaWdodCBoYW5kIGluIG1lcmdlIHNvcnQuXG4vLyBTdG9wIHdoZW4gdGhlIGxlZnQtaGFuZCBjb3ZlcnMgYWxsIG9mIHRoZSBhcnJheS5cbnZhciBidWZmZXI9bmV3IEFycmF5KGxlbik7Zm9yKHZhciBjaGs9MTtjaGs8bGVuO2Noayo9Mil7cGFzcyhhcnIsY29tcCxjaGssYnVmZmVyKTt2YXIgdG1wPWFycjthcnI9YnVmZmVyO2J1ZmZlcj10bXA7fXJldHVybiBhcnI7fS8vIFJ1biBhIHNpbmdsZSBwYXNzIHdpdGggdGhlIGdpdmVuIGNodW5rIHNpemUuXG52YXIgcGFzcz1mdW5jdGlvbiBwYXNzKGFycixjb21wLGNoayxyZXN1bHQpe3ZhciBsZW49YXJyLmxlbmd0aDt2YXIgaT0wOy8vIFN0ZXAgc2l6ZSAvIGRvdWJsZSBjaHVuayBzaXplLlxudmFyIGRibD1jaGsqMjsvLyBCb3VuZHMgb2YgdGhlIGxlZnQgYW5kIHJpZ2h0IGNodW5rcy5cbnZhciBsLHIsZTsvLyBJdGVyYXRvcnMgb3ZlciB0aGUgbGVmdCBhbmQgcmlnaHQgY2h1bmsuXG52YXIgbGkscmk7Ly8gSXRlcmF0ZSBvdmVyIHBhaXJzIG9mIGNodW5rcy5cbmZvcihsPTA7bDxsZW47bCs9ZGJsKXtyPWwrY2hrO2U9citjaGs7aWYocj5sZW4pcj1sZW47aWYoZT5sZW4pZT1sZW47Ly8gSXRlcmF0ZSBib3RoIGNodW5rcyBpbiBwYXJhbGxlbC5cbmxpPWw7cmk9cjt3aGlsZSh0cnVlKXsvLyBDb21wYXJlIHRoZSBjaHVua3MuXG5pZihsaTxyJiZyaTxlKXsvLyBUaGlzIHdvcmtzIGZvciBhIHJlZ3VsYXIgYHNvcnQoKWAgY29tcGF0aWJsZSBjb21wYXJhdG9yLFxuLy8gYnV0IGFsc28gZm9yIGEgc2ltcGxlIGNvbXBhcmF0b3IgbGlrZTogYGEgPiBiYFxuaWYoY29tcChhcnJbbGldLGFycltyaV0pPD0wKXtyZXN1bHRbaSsrXT1hcnJbbGkrK107fWVsc2V7cmVzdWx0W2krK109YXJyW3JpKytdO319Ly8gTm90aGluZyB0byBjb21wYXJlLCBqdXN0IGZsdXNoIHdoYXQncyBsZWZ0LlxuZWxzZSBpZihsaTxyKXtyZXN1bHRbaSsrXT1hcnJbbGkrK107fWVsc2UgaWYocmk8ZSl7cmVzdWx0W2krK109YXJyW3JpKytdO30vLyBCb3RoIGl0ZXJhdG9ycyBhcmUgYXQgdGhlIGNodW5rIGVuZHMuXG5lbHNle2JyZWFrO319fX07Ly8gRXhwb3J0IHVzaW5nIENvbW1vbkpTIG9yIHRvIHRoZSB3aW5kb3cuXG5pZih0cnVlKXttb2R1bGUuZXhwb3J0cz1zdGFibGU7fWVsc2V7d2luZG93LnN0YWJsZT1zdGFibGU7fX0pKCk7LyoqKi99LC8qIDY3MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7Ly8gIEEgcHJveHkgY2xhc3MgdG8gdGhlIEdsb2JhbCBTY2VuZSBNYW5hZ2VyXG52YXIgU2NlbmVNYW5hZ2VyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBTY2VuZU1hbmFnZXIoc2NlbmUsZ2FtZSl7Ly8gIFRoZSBTY2VuZSB0aGF0IG93bnMgdGhpcyBwbHVnaW5cbnRoaXMuc2NlbmU9c2NlbmU7dGhpcy5zZXR0aW5ncz1zY2VuZS5zeXMuc2V0dGluZ3M7dGhpcy5rZXk9c2NlbmUuc3lzLnNldHRpbmdzLmtleTsvLyAgR2xvYmFsU2NlbmVNYW5hZ2VyXG50aGlzLm1hbmFnZXI9Z2FtZS5zY2VuZTsvLyAgUHJpdmF0ZVxudGhpcy5fcXVldWU9W107fSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKCl7dmFyIGxlbj10aGlzLl9xdWV1ZS5sZW5ndGg7aWYobGVuPT09MCl7cmV0dXJuO312YXIgbWFuYWdlcj10aGlzLm1hbmFnZXI7Ly8gIFByb2Nlc3MgdGhlIHF1ZXVlXG5mb3IodmFyIGk9MDtpPGxlbjtpKyspe3ZhciBhY3Rpb249dGhpcy5fcXVldWVbaV07c3dpdGNoKGFjdGlvbi50eXBlKXtjYXNlJ2FkZCc6bWFuYWdlci5hZGQoYWN0aW9uLmtleSxhY3Rpb24uZGF0YSxhY3Rpb24uYXV0b1N0YXJ0KTticmVhaztjYXNlJ3N0YXJ0JzptYW5hZ2VyLnN0b3AodGhpcy5rZXkpO21hbmFnZXIuc3RhcnQoYWN0aW9uLmtleSxhY3Rpb24uZGF0YSk7YnJlYWs7Y2FzZSdsYXVuY2gnOm1hbmFnZXIuc3RhcnQoYWN0aW9uLmtleSxhY3Rpb24uZGF0YSk7YnJlYWs7Y2FzZSdwYXVzZSc6bWFuYWdlci5wYXVzZShhY3Rpb24ua2V5KTticmVhaztjYXNlJ3Jlc3VtZSc6bWFuYWdlci5yZXN1bWUoYWN0aW9uLmtleSk7YnJlYWs7Y2FzZSdzdG9wJzptYW5hZ2VyLnN0b3AoYWN0aW9uLmtleSk7YnJlYWs7Y2FzZSdzd2FwJzptYW5hZ2VyLnN3YXAodGhpcy5rZXksYWN0aW9uLmtleSk7YnJlYWs7Y2FzZSdtb3ZlVXAnOm1hbmFnZXIubW92ZVVwKHRoaXMua2V5KTticmVhaztjYXNlJ21vdmVEb3duJzptYW5hZ2VyLm1vdmVEb3duKHRoaXMua2V5KTticmVhaztjYXNlJ2JyaW5nVG9Ub3AnOm1hbmFnZXIuYnJpbmdUb1RvcCh0aGlzLmtleSk7YnJlYWs7Y2FzZSdzZW5kVG9CYWNrJzptYW5hZ2VyLnNlbmRUb0JhY2sodGhpcy5rZXkpO2JyZWFrO2Nhc2Unc3dhcFBvc2l0aW9uJzptYW5hZ2VyLnN3YXBQb3NpdGlvbih0aGlzLmtleSxhY3Rpb24ua2V5KTticmVhaztjYXNlJ3NsZWVwJzptYW5hZ2VyLnNsZWVwKGFjdGlvbi5rZXkpO2JyZWFrO2Nhc2Und2FrZSc6bWFuYWdlci53YWtlKGFjdGlvbi5rZXkpO2JyZWFrO319dGhpcy5fcXVldWUubGVuZ3RoPTA7fSwvLyAgU2h1dGRvd24gdGhpcyBTY2VuZSBhbmQgcnVuIHRoZSBnaXZlbiBvbmVcbnN0YXJ0OmZ1bmN0aW9uIHN0YXJ0KGtleSxkYXRhKXtpZihrZXk9PT11bmRlZmluZWQpe2tleT10aGlzLmtleTt9dGhpcy5fcXVldWUucHVzaCh7dHlwZTonc3RhcnQnLGtleTprZXksZGF0YTpkYXRhfSk7cmV0dXJuIHRoaXM7fSwvLyAgQWRkIHRoZSBTY2VuZSBpbnRvIHRoZSBTY2VuZSBNYW5hZ2VyIGFuZCBzdGFydCBpdCBpZiAnYXV0b1N0YXJ0JyBpcyB0cnVlIG9yIHRoZSBTY2VuZSBjb25maWcgJ2FjdGl2ZScgcHJvcGVydHkgaXMgc2V0XG5hZGQ6ZnVuY3Rpb24gYWRkKGtleSxzY2VuZUNvbmZpZyxhdXRvU3RhcnQpe3RoaXMuX3F1ZXVlLnB1c2goe3R5cGU6J2FkZCcsa2V5OmtleSxkYXRhOnNjZW5lQ29uZmlnLGF1dG9TdGFydDphdXRvU3RhcnR9KTtyZXR1cm4gdGhpczt9LC8vICBMYXVuY2ggdGhlIGdpdmVuIFNjZW5lIGFuZCBydW4gaXQgaW4gcGFyYWxsZWwgd2l0aCB0aGlzIG9uZVxubGF1bmNoOmZ1bmN0aW9uIGxhdW5jaChrZXksZGF0YSl7aWYoa2V5PT09dW5kZWZpbmVkKXtrZXk9dGhpcy5rZXk7fXRoaXMuX3F1ZXVlLnB1c2goe3R5cGU6J2xhdW5jaCcsa2V5OmtleSxkYXRhOmRhdGF9KTtyZXR1cm4gdGhpczt9LC8vICBQYXVzZSB0aGUgU2NlbmUgLSB0aGlzIHN0b3BzIHRoZSB1cGRhdGUgc3RlcCBmcm9tIGhhcHBlbmluZyBidXQgaXQgc3RpbGwgcmVuZGVyc1xucGF1c2U6ZnVuY3Rpb24gcGF1c2Uoa2V5KXtpZihrZXk9PT11bmRlZmluZWQpe2tleT10aGlzLmtleTt9dGhpcy5fcXVldWUucHVzaCh7dHlwZToncGF1c2UnLGtleTprZXl9KTtyZXR1cm4gdGhpczt9LC8vICBSZXN1bWUgdGhlIFNjZW5lIC0gc3RhcnRzIHRoZSB1cGRhdGUgbG9vcCBhZ2FpblxucmVzdW1lOmZ1bmN0aW9uIHJlc3VtZShrZXkpe2lmKGtleT09PXVuZGVmaW5lZCl7a2V5PXRoaXMua2V5O310aGlzLl9xdWV1ZS5wdXNoKHt0eXBlOidyZXN1bWUnLGtleTprZXl9KTtyZXR1cm4gdGhpczt9LC8vICBNYWtlcyB0aGUgU2NlbmUgc2xlZXAgKG5vIHVwZGF0ZSwgbm8gcmVuZGVyKSBidXQgZG9lc24ndCBzaHV0ZG93blxuc2xlZXA6ZnVuY3Rpb24gc2xlZXAoa2V5KXt0aGlzLl9xdWV1ZS5wdXNoKHt0eXBlOidzbGVlcCcsa2V5OmtleX0pO3JldHVybiB0aGlzO30sLy8gIE1ha2VzIHRoZSBTY2VuZSB3YWtlLXVwIChzdGFydHMgdXBkYXRlIGFuZCByZW5kZXIpXG53YWtlOmZ1bmN0aW9uIHdha2Uoa2V5KXt0aGlzLl9xdWV1ZS5wdXNoKHt0eXBlOid3YWtlJyxrZXk6a2V5fSk7cmV0dXJuIHRoaXM7fSwvLyAgTWFrZXMgdGhpcyBTY2VuZSBzbGVlcCB0aGVuIHN0YXJ0cyB0aGUgU2NlbmUgZ2l2ZW5cbnN3YXA6ZnVuY3Rpb24gc3dhcChrZXkpe3RoaXMuX3F1ZXVlLnB1c2goe3R5cGU6J3N3YXAnLGtleTprZXl9KTtyZXR1cm4gdGhpczt9LC8vICBTaHV0ZG93biB0aGUgU2NlbmUsIGNsZWFyaW5nIGRpc3BsYXkgbGlzdCwgdGltZXJzLCBldGNcbnN0b3A6ZnVuY3Rpb24gc3RvcChrZXkpe2lmKGtleT09PXVuZGVmaW5lZCl7a2V5PXRoaXMua2V5O310aGlzLl9xdWV1ZS5wdXNoKHt0eXBlOidzdG9wJyxrZXk6a2V5fSk7cmV0dXJuIHRoaXM7fSxzZXRWaXNpYmxlOmZ1bmN0aW9uIHNldFZpc2libGUodmFsdWUpe3RoaXMuc2V0dGluZ3MudmlzaWJsZT12YWx1ZTtyZXR1cm4gdGhpczt9LHN3YXBQb3NpdGlvbjpmdW5jdGlvbiBzd2FwUG9zaXRpb24oa2V5KXt0aGlzLl9xdWV1ZS5wdXNoKHt0eXBlOidzd2FwUG9zaXRpb24nLGtleTprZXl9KTt9LG1vdmVVcDpmdW5jdGlvbiBtb3ZlVXAoKXt0aGlzLl9xdWV1ZS5wdXNoKHt0eXBlOidtb3ZlVXAnfSk7fSxtb3ZlRG93bjpmdW5jdGlvbiBtb3ZlRG93bigpe3RoaXMuX3F1ZXVlLnB1c2goe3R5cGU6J21vdmVEb3duJ30pO30sYnJpbmdUb1RvcDpmdW5jdGlvbiBicmluZ1RvVG9wKCl7dGhpcy5fcXVldWUucHVzaCh7dHlwZTonYnJpbmdUb1RvcCd9KTt9LHNlbmRUb0JhY2s6ZnVuY3Rpb24gc2VuZFRvQmFjaygpe3RoaXMuX3F1ZXVlLnB1c2goe3R5cGU6J3NlbmRUb0JhY2snfSk7fSxnZXQ6ZnVuY3Rpb24gZ2V0KGtleSl7cmV0dXJuIHRoaXMubWFuYWdlci5nZXRTY2VuZShrZXkpO30sdHJhbnNpdGlvblRvOmZ1bmN0aW9uIHRyYW5zaXRpb25UbyhrZXksZHVyYXRpb24pe30saXNBY3RpdmU6ZnVuY3Rpb24gaXNBY3RpdmUoa2V5KXtpZihrZXk9PT11bmRlZmluZWQpe2tleT10aGlzLmtleTt9cmV0dXJuIHRoaXMubWFuYWdlci5pc0FjdGl2ZShrZXkpO319KTttb2R1bGUuZXhwb3J0cz1TY2VuZU1hbmFnZXI7LyoqKi99LC8qIDY3MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEV2ZW50RGlzcGF0Y2hlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTt2YXIgVHdlZW5CdWlsZGVyPV9fd2VicGFja19yZXF1aXJlX18oNjc0KTt2YXIgVHdlZW5NYW5hZ2VyPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBUd2Vlbk1hbmFnZXIoc2NlbmUpey8vICBUaGUgU2NlbmUgdGhlIFR3ZWVuIE1hbmFnZXIgYmVsb25ncyB0byAodHdlZW5zIGFyZSBTY2VuZSBzcGVjaWZpYywgbm90IEdhbWUgZ2xvYmFsKVxudGhpcy5zY2VuZT1zY2VuZTt0aGlzLmV2ZW50cz1uZXcgRXZlbnREaXNwYXRjaGVyKCk7Ly8gc2hvdWxkIHVzZSBTY2VuZSBldmVudCBkaXNwYXRjaGVyP1xuLy8gIFRPRE86XG4vLyAgQWRkIF9wb29sIGFycmF5IGFuZCBtYWtlIHRoZSBxdWV1ZSByZS11c2Ugb2JqZWN0cyB3aXRoaW4gaXQuXG4vLyAgQWRkIGEgcG9vbCBtYXggc2l6ZS5cbnRoaXMuX2FkZD1bXTt0aGlzLl9wZW5kaW5nPVtdO3RoaXMuX2FjdGl2ZT1bXTt0aGlzLl9kZXN0cm95PVtdO3RoaXMuX3RvUHJvY2Vzcz0wO30sYm9vdDpmdW5jdGlvbiBib290KCl7Ly8gIFNjZW5lIGlzIHN0YXJ0aW5nIHVwXG59LGFkZDpmdW5jdGlvbiBhZGQoY29uZmlnKXt2YXIgdHdlZW49VHdlZW5CdWlsZGVyKHRoaXMsY29uZmlnKTt0aGlzLl9hZGQucHVzaCh0d2Vlbik7dGhpcy5fdG9Qcm9jZXNzKys7cmV0dXJuIHR3ZWVuO30sdGltZWxpbmU6ZnVuY3Rpb24gdGltZWxpbmUoKXsvLyByZXR1cm4gbmV3IFRpbWVsaW5lKHRoaXMpO1xufSwvLyAgQWRkIGEgJ3RvJyBHU0FQIGVxdWl2YWxlbnQ/XG5leGlzdHM6ZnVuY3Rpb24gZXhpc3RzKHR3ZWVuKXt9LGdldDpmdW5jdGlvbiBnZXQodGFyZ2V0KXt9LGJlZ2luOmZ1bmN0aW9uIGJlZ2luKCl7aWYodGhpcy5fdG9Qcm9jZXNzPT09MCl7Ly8gIFF1aWNrIGJhaWxcbnJldHVybjt9dmFyIGxpc3Q9dGhpcy5fZGVzdHJveTt2YXIgYWN0aXZlPXRoaXMuX2FjdGl2ZTt2YXIgaTt2YXIgdHdlZW47Ly8gIENsZWFyIHRoZSAnZGVzdHJveScgbGlzdFxuZm9yKGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7dHdlZW49bGlzdFtpXTsvLyAgUmVtb3ZlIGZyb20gdGhlICdhY3RpdmUnIGFycmF5XG52YXIgaWR4PWFjdGl2ZS5pbmRleE9mKHR3ZWVuKTtpZihpZHghPT0tMSl7YWN0aXZlLnNwbGljZShpZHgsMSk7fX1saXN0Lmxlbmd0aD0wOy8vICBQcm9jZXNzIHRoZSBhZGRpdGlvbiBsaXN0XG4vLyAgVGhpcyBzdG9wcyBjYWxsYmFja3MgYW5kIG91dCBvZiBzeW5jIGV2ZW50cyBmcm9tIHBvcHVsYXRpbmcgdGhlIGFjdGl2ZSBhcnJheSBtaWQtd2F5IGR1cmluZyB0aGUgdXBkYXRlXG5saXN0PXRoaXMuX2FkZDtmb3IoaT0wO2k8bGlzdC5sZW5ndGg7aSsrKXt0d2Vlbj1saXN0W2ldOy8vICBSZXR1cm4gdHJ1ZSBpZiB0aGUgVHdlZW4gc2hvdWxkIGJlIHN0YXJ0ZWQgcmlnaHQgYXdheSwgb3RoZXJ3aXNlIGZhbHNlXG5pZih0d2Vlbi5pbml0KCkpe3R3ZWVuLnBsYXkoKTt0aGlzLl9hY3RpdmUucHVzaCh0d2Vlbik7fWVsc2V7dGhpcy5fcGVuZGluZy5wdXNoKHR3ZWVuKTt9fWxpc3QubGVuZ3RoPTA7dGhpcy5fdG9Qcm9jZXNzPTA7fSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKHRpbWVzdGFtcCxkZWx0YSl7Ly8gIFByb2Nlc3MgYWN0aXZlIHR3ZWVuc1xudmFyIGxpc3Q9dGhpcy5fYWN0aXZlO3ZhciB0d2Vlbjtmb3IodmFyIGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7dHdlZW49bGlzdFtpXTsvLyAgSWYgVHdlZW4udXBkYXRlIHJldHVybnMgJ3RydWUnIHRoZW4gaXQgbWVhbnMgaXQgaGFzIGNvbXBsZXRlZCxcbi8vICBzbyBtb3ZlIGl0IHRvIHRoZSBkZXN0cm95IGxpc3RcbmlmKHR3ZWVuLnVwZGF0ZSh0aW1lc3RhbXAsZGVsdGEpKXt0aGlzLl9kZXN0cm95LnB1c2godHdlZW4pO3RoaXMuX3RvUHJvY2VzcysrO319fSxtYWtlQWN0aXZlOmZ1bmN0aW9uIG1ha2VBY3RpdmUodHdlZW4pe3ZhciBpZHg9dGhpcy5fcGVuZGluZy5pbmRleE9mKHR3ZWVuKTtpZihpZHghPT0tMSl7dGhpcy5fcGVuZGluZy5zcGxpY2UoaWR4LDEpO310aGlzLl9hZGQucHVzaCh0d2Vlbik7dGhpcy5fdG9Qcm9jZXNzKys7fSxnbG9iYWxUaW1lU2NhbGU6ZnVuY3Rpb24gZ2xvYmFsVGltZVNjYWxlKCl7fSxnZXRBbGxUd2VlbnM6ZnVuY3Rpb24gZ2V0QWxsVHdlZW5zKCl7fSxnZXRUd2VlbnNPZjpmdW5jdGlvbiBnZXRUd2VlbnNPZih0YXJnZXQpe30saXNUd2VlbmluZzpmdW5jdGlvbiBpc1R3ZWVuaW5nKHRhcmdldCl7fSxraWxsOmZ1bmN0aW9uIGtpbGwodmFycyx0YXJnZXQpe30sa2lsbEFsbDpmdW5jdGlvbiBraWxsQWxsKCl7fSxraWxsVHdlZW5zT2Y6ZnVuY3Rpb24ga2lsbFR3ZWVuc09mKHRhcmdldCl7fSxwYXVzZUFsbDpmdW5jdGlvbiBwYXVzZUFsbCgpe30scmVzdW1lQWxsOmZ1bmN0aW9uIHJlc3VtZUFsbCgpe30sZGVsYXllZENhbGw6ZnVuY3Rpb24gZGVsYXllZENhbGwoKXt9LC8qKlxuICAgICogUGFzc2VzIGFsbCBUd2VlbnMgdG8gdGhlIGdpdmVuIGNhbGxiYWNrLlxuICAgICpcbiAgICAqIEBtZXRob2QgZWFjaFxuICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGhpc0FyZ10gLSBWYWx1ZSB0byB1c2UgYXMgYHRoaXNgIHdoZW4gZXhlY3V0aW5nIGNhbGxiYWNrLlxuICAgICogQHBhcmFtIHsuLi4qfSBbYXJndW1lbnRzXSAtIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRoYXQgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrLCBhZnRlciB0aGUgY2hpbGQuXG4gICAgKi9lYWNoOmZ1bmN0aW9uIGVhY2goY2FsbGJhY2ssdGhpc0FyZyl7dmFyIGFyZ3M9W251bGxdO2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe2FyZ3MucHVzaChhcmd1bWVudHNbaV0pO31mb3IodmFyIHRleHR1cmUgaW4gdGhpcy5saXN0KXthcmdzWzBdPXRoaXMubGlzdFt0ZXh0dXJlXTtjYWxsYmFjay5hcHBseSh0aGlzQXJnLGFyZ3MpO319LC8vICBTY2VuZSB0aGF0IG93bnMgdGhpcyBtYW5hZ2VyIGlzIHNodXR0aW5nIGRvd25cbnNodXRkb3duOmZ1bmN0aW9uIHNodXRkb3duKCl7fSwvLyAgR2FtZSBsZXZlbCBudWtlXG5kZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt9fSk7bW9kdWxlLmV4cG9ydHM9VHdlZW5NYW5hZ2VyOy8qKiovfSwvKiA2NzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRBZHZhbmNlZFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oNSk7dmFyIEdldEVhc2VGdW5jdGlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY3NSk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIFJFU0VSVkVEPV9fd2VicGFja19yZXF1aXJlX18oNjc3KTt2YXIgVHdlZW49X193ZWJwYWNrX3JlcXVpcmVfXyg2NzgpO3ZhciBUd2VlbkRhdGE9X193ZWJwYWNrX3JlcXVpcmVfXyg2OTEpO3ZhciBHZXRUYXJnZXRzPWZ1bmN0aW9uIEdldFRhcmdldHMoY29uZmlnKXt2YXIgdGFyZ2V0cz1HZXRWYWx1ZShjb25maWcsJ3RhcmdldHMnLG51bGwpO2lmKHR5cGVvZiB0YXJnZXRzPT09J2Z1bmN0aW9uJyl7dGFyZ2V0cz10YXJnZXRzLmNhbGwoKTt9aWYoIUFycmF5LmlzQXJyYXkodGFyZ2V0cykpe3RhcmdldHM9W3RhcmdldHNdO31yZXR1cm4gdGFyZ2V0czt9O3ZhciBHZXRQcm9wcz1mdW5jdGlvbiBHZXRQcm9wcyhjb25maWcpe3ZhciBrZXk7dmFyIGtleXM9W107Ly8gIEZpcnN0IHNlZSBpZiB3ZSBoYXZlIGEgcHJvcHMgb2JqZWN0XG5pZihjb25maWcuaGFzT3duUHJvcGVydHkoJ3Byb3BzJykpe2ZvcihrZXkgaW4gY29uZmlnLnByb3BzKXtrZXlzLnB1c2goe2tleTprZXksdmFsdWU6Y29uZmlnLnByb3BzW2tleV19KTt9fWVsc2V7Zm9yKGtleSBpbiBjb25maWcpe2lmKFJFU0VSVkVELmluZGV4T2Yoa2V5KT09PS0xKXtrZXlzLnB1c2goe2tleTprZXksdmFsdWU6Y29uZmlnW2tleV19KTt9fX1yZXR1cm4ga2V5czt9O3ZhciBHZXRWYWx1ZU9wPWZ1bmN0aW9uIEdldFZhbHVlT3Aoa2V5LHZhbHVlKXt2YXIgdmFsdWVDYWxsYmFjazt2YXIgdD10eXBlb2YgdmFsdWU9PT0ndW5kZWZpbmVkJz8ndW5kZWZpbmVkJzpfdHlwZW9mKHZhbHVlKTtpZih0PT09J251bWJlcicpey8vIHByb3BzOiB7XG4vLyAgICAgeDogNDAwLFxuLy8gICAgIHk6IDMwMFxuLy8gfVxudmFsdWVDYWxsYmFjaz1mdW5jdGlvbiB2YWx1ZUNhbGxiYWNrKCl7cmV0dXJuIHZhbHVlO307fWVsc2UgaWYodD09PSdzdHJpbmcnKXsvLyBwcm9wczoge1xuLy8gICAgIHg6ICcrPTQwMCcsXG4vLyAgICAgeTogJy09MzAwJyxcbi8vICAgICB6OiAnKj0yJyxcbi8vICAgICB3OiAnLz0yJ1xuLy8gfVxudmFyIG9wPXZhbHVlWzBdO3ZhciBudW09cGFyc2VGbG9hdCh2YWx1ZS5zdWJzdHIoMikpO3N3aXRjaChvcCl7Y2FzZScrJzp2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soaSl7cmV0dXJuIGkrbnVtO307YnJlYWs7Y2FzZSctJzp2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soaSl7cmV0dXJuIGktbnVtO307YnJlYWs7Y2FzZScqJzp2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soaSl7cmV0dXJuIGkqbnVtO307YnJlYWs7Y2FzZScvJzp2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soaSl7cmV0dXJuIGkvbnVtO307YnJlYWs7ZGVmYXVsdDp2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soKXtyZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7fTt9fWVsc2UgaWYodD09PSdmdW5jdGlvbicpey8vIHByb3BzOiB7XG4vLyAgICAgeDogZnVuY3Rpb24gKHN0YXJ0VmFsdWUsIHRhcmdldCwgaW5kZXgsIHRvdGFsVGFyZ2V0cykgeyByZXR1cm4gc3RhcnRWYWx1ZSArIChpbmRleCAqIDUwKTsgfSxcbi8vIH1cbnZhbHVlQ2FsbGJhY2s9ZnVuY3Rpb24gdmFsdWVDYWxsYmFjayhzdGFydFZhbHVlLHRhcmdldCxpbmRleCx0b3RhbCl7cmV0dXJuIHZhbHVlKHN0YXJ0VmFsdWUsdGFyZ2V0LGluZGV4LHRvdGFsKTt9O31lbHNlIGlmKHZhbHVlLmhhc093blByb3BlcnR5KCd2YWx1ZScpKXsvLyAgVmFsdWUgbWF5IHN0aWxsIGJlIGEgc3RyaW5nLCBmdW5jdGlvbiBvciBhIG51bWJlclxuLy8gcHJvcHM6IHtcbi8vICAgICB4OiB7IHZhbHVlOiA0MDAsIC4uLiB9LFxuLy8gICAgIHk6IHsgdmFsdWU6IDMwMCwgLi4uIH1cbi8vIH1cbnZhbHVlQ2FsbGJhY2s9R2V0VmFsdWVPcChrZXksdmFsdWUudmFsdWUpO31yZXR1cm4gdmFsdWVDYWxsYmFjazt9O3ZhciBHZXRCb29sZWFuPWZ1bmN0aW9uIEdldEJvb2xlYW4oc291cmNlLGtleSxkZWZhdWx0VmFsdWUpe2lmKCFzb3VyY2Upe3JldHVybiBkZWZhdWx0VmFsdWU7fWVsc2UgaWYoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpe3JldHVybiBzb3VyY2Vba2V5XTt9ZWxzZXtyZXR1cm4gZGVmYXVsdFZhbHVlO319O3ZhciBHZXROZXdWYWx1ZT1mdW5jdGlvbiBHZXROZXdWYWx1ZShzb3VyY2Usa2V5LGRlZmF1bHRWYWx1ZSl7dmFyIHZhbHVlQ2FsbGJhY2s7aWYoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpe3ZhciB0PV90eXBlb2Yoc291cmNlW2tleV0pO2lmKHQ9PT0nZnVuY3Rpb24nKXt2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soaW5kZXgsdG90YWxUYXJnZXRzLHRhcmdldCl7cmV0dXJuIHNvdXJjZVtrZXldKGluZGV4LHRvdGFsVGFyZ2V0cyx0YXJnZXQpO307fWVsc2V7dmFsdWVDYWxsYmFjaz1mdW5jdGlvbiB2YWx1ZUNhbGxiYWNrKCl7cmV0dXJuIHNvdXJjZVtrZXldO307fX1lbHNlIGlmKHR5cGVvZiBkZWZhdWx0VmFsdWU9PT0nZnVuY3Rpb24nKXt2YWx1ZUNhbGxiYWNrPWRlZmF1bHRWYWx1ZTt9ZWxzZXt2YWx1ZUNhbGxiYWNrPWZ1bmN0aW9uIHZhbHVlQ2FsbGJhY2soKXtyZXR1cm4gZGVmYXVsdFZhbHVlO307fXJldHVybiB2YWx1ZUNhbGxiYWNrO307dmFyIFR3ZWVuQnVpbGRlcj1mdW5jdGlvbiBUd2VlbkJ1aWxkZXIobWFuYWdlcixjb25maWcpey8vICBDcmVhdGUgYXJyYXlzIG9mIHRoZSBUYXJnZXRzIGFuZCB0aGUgUHJvcGVydGllc1xudmFyIHRhcmdldHM9R2V0VGFyZ2V0cyhjb25maWcpO3ZhciBwcm9wcz1HZXRQcm9wcyhjb25maWcpOy8vICBEZWZhdWx0IFR3ZWVuIHZhbHVlc1xudmFyIGVhc2VQYXJhbXM9R2V0VmFsdWUoY29uZmlnLCdlYXNlUGFyYW1zJyxudWxsKTt2YXIgZWFzZT1HZXRFYXNlRnVuY3Rpb24oR2V0VmFsdWUoY29uZmlnLCdlYXNlJywnUG93ZXIwJyksZWFzZVBhcmFtcyk7dmFyIGR1cmF0aW9uPUdldE5ld1ZhbHVlKGNvbmZpZywnZHVyYXRpb24nLDEwMDApO3ZhciB5b3lvPUdldEJvb2xlYW4oY29uZmlnLCd5b3lvJyxmYWxzZSk7dmFyIGhvbGQ9R2V0TmV3VmFsdWUoY29uZmlnLCdob2xkJywwKTt2YXIgcmVwZWF0PUdldE5ld1ZhbHVlKGNvbmZpZywncmVwZWF0JywwKTt2YXIgcmVwZWF0RGVsYXk9R2V0TmV3VmFsdWUoY29uZmlnLCdyZXBlYXREZWxheScsMCk7dmFyIGRlbGF5PUdldE5ld1ZhbHVlKGNvbmZpZywnZGVsYXknLDApO3ZhciBzdGFydEF0PUdldE5ld1ZhbHVlKGNvbmZpZywnc3RhcnRBdCcsbnVsbCk7dmFyIGRhdGE9W107Ly8gIExvb3AgdGhyb3VnaCBldmVyeSBwcm9wZXJ0eSBkZWZpbmVkIGluIHRoZSBUd2VlbiwgaS5lLjogcHJvcHMgeyB4LCB5LCBhbHBoYSB9XG5mb3IodmFyIHA9MDtwPHByb3BzLmxlbmd0aDtwKyspe3ZhciBrZXk9cHJvcHNbcF0ua2V5O3ZhciB2YWx1ZT1wcm9wc1twXS52YWx1ZTsvLyBjb25zb2xlLmxvZyhrZXksIHZhbHVlKTtcbmZvcih2YXIgdD0wO3Q8dGFyZ2V0cy5sZW5ndGg7dCsrKXsvLyAgU3dhcCBmb3IgZmFzdGVyIGdldHRlcnMsIGlmIHRoZXkgd2FudCBBZHZhbmNlZCBWYWx1ZSBzdHlsZSB0aGluZ3MsIHRoZXkgY2FuIGRvIGl0IHZpYSB0aGVpciBvd24gZnVuY3Rpb25zXG52YXIgdHdlZW5EYXRhPVR3ZWVuRGF0YSh0YXJnZXRzW3RdLGtleSxHZXRWYWx1ZU9wKGtleSx2YWx1ZSksR2V0RWFzZUZ1bmN0aW9uKEdldFZhbHVlKHZhbHVlLCdlYXNlJyxlYXNlKSxlYXNlUGFyYW1zKSxHZXROZXdWYWx1ZSh2YWx1ZSwnZGVsYXknLGRlbGF5KSxHZXROZXdWYWx1ZSh2YWx1ZSwnZHVyYXRpb24nLGR1cmF0aW9uKSxHZXRCb29sZWFuKHZhbHVlLCd5b3lvJyx5b3lvKSxHZXROZXdWYWx1ZSh2YWx1ZSwnaG9sZCcsaG9sZCksR2V0TmV3VmFsdWUodmFsdWUsJ3JlcGVhdCcscmVwZWF0KSxHZXROZXdWYWx1ZSh2YWx1ZSwncmVwZWF0RGVsYXknLHJlcGVhdERlbGF5KSxHZXROZXdWYWx1ZSh2YWx1ZSwnc3RhcnRBdCcsc3RhcnRBdCkpOy8vICBUT0RPOiBDYWxjdWxhdGUgdG90YWwgZHVyYXRpb25cbmRhdGEucHVzaCh0d2VlbkRhdGEpO319dmFyIHR3ZWVuPW5ldyBUd2VlbihtYW5hZ2VyLGRhdGEpO3R3ZWVuLnRvdGFsVGFyZ2V0cz10YXJnZXRzLmxlbmd0aDt0d2Vlbi51c2VGcmFtZXM9R2V0Qm9vbGVhbihjb25maWcsJ3VzZUZyYW1lcycsZmFsc2UpO3R3ZWVuLmxvb3A9R2V0Qm9vbGVhbihjb25maWcsJ2xvb3AnLDApO3R3ZWVuLmxvb3BEZWxheT1HZXRBZHZhbmNlZFZhbHVlKGNvbmZpZywnbG9vcERlbGF5JywwKTt0d2Vlbi5jb21wbGV0ZURlbGF5PUdldEFkdmFuY2VkVmFsdWUoY29uZmlnLCdjb21wbGV0ZURlbGF5JywwKTt0d2Vlbi5wYXVzZWQ9R2V0Qm9vbGVhbihjb25maWcsJ3BhdXNlZCcsZmFsc2UpO3JldHVybiB0d2Vlbjt9O21vZHVsZS5leHBvcnRzPVR3ZWVuQnVpbGRlcjsvKioqL30sLyogNjc1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgRWFzZU1hcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDY3Nik7dmFyIEdldEVhc2VGdW5jdGlvbj1mdW5jdGlvbiBHZXRFYXNlRnVuY3Rpb24oZWFzZSxlYXNlUGFyYW1zKXtpZih0eXBlb2YgZWFzZT09PSdzdHJpbmcnJiZFYXNlTWFwLmhhc093blByb3BlcnR5KGVhc2UpKXtpZihlYXNlUGFyYW1zKXt2YXIgY2xvbmVQYXJhbXM9ZWFzZVBhcmFtcy5zbGljZSgwKTtjbG9uZVBhcmFtcy51bnNoaWZ0KDApO3JldHVybiBmdW5jdGlvbih2KXtjbG9uZVBhcmFtc1swXT12O3JldHVybiBFYXNlTWFwW2Vhc2VdLmFwcGx5KHRoaXMsY2xvbmVQYXJhbXMpO307fWVsc2V7Ly8gIFN0cmluZyBiYXNlZCBsb29rLXVwXG5yZXR1cm4gRWFzZU1hcFtlYXNlXTt9fWVsc2UgaWYodHlwZW9mIGVhc2U9PT0nZnVuY3Rpb24nKXsvLyAgQ3VzdG9tIGZ1bmN0aW9uXG5yZXR1cm4gZWFzZTt9ZWxzZSBpZihBcnJheS5pc0FycmF5KGVhc2UpJiZlYXNlLmxlbmd0aD09PTQpey8vICBCZXppZXIgZnVuY3Rpb24gKFRPRE8pXG59cmV0dXJuIEVhc2VNYXAuUG93ZXIwO307bW9kdWxlLmV4cG9ydHM9R2V0RWFzZUZ1bmN0aW9uOy8qKiovfSwvKiA2NzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBCYWNrPV9fd2VicGFja19yZXF1aXJlX18oMTMxKTt2YXIgQm91bmNlPV9fd2VicGFja19yZXF1aXJlX18oMTMyKTt2YXIgQ2lyY3VsYXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMzMpO3ZhciBDdWJpYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7dmFyIEVsYXN0aWM9X193ZWJwYWNrX3JlcXVpcmVfXygxMzUpO3ZhciBFeHBvPV9fd2VicGFja19yZXF1aXJlX18oMTM2KTt2YXIgTGluZWFyPV9fd2VicGFja19yZXF1aXJlX18oMTM3KTt2YXIgUXVhZHJhdGljPV9fd2VicGFja19yZXF1aXJlX18oMTM4KTt2YXIgUXVhcnRpYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzOSk7dmFyIFF1aW50aWM9X193ZWJwYWNrX3JlcXVpcmVfXygxNDApO3ZhciBTaW5lPV9fd2VicGFja19yZXF1aXJlX18oMTQxKTsvLyAgRWFzZU1hcFxubW9kdWxlLmV4cG9ydHM9e1Bvd2VyMDpMaW5lYXIsUG93ZXIxOlF1YWRyYXRpYy5PdXQsUG93ZXIyOkN1YmljLk91dCxQb3dlcjM6UXVhcnRpYy5PdXQsUG93ZXI0OlF1aW50aWMuT3V0LExpbmVhcjpMaW5lYXIsUXVhZDpRdWFkcmF0aWMuT3V0LEN1YmljOkN1YmljLk91dCxRdWFydDpRdWFydGljLk91dCxRdWludDpRdWludGljLk91dCxTaW5lOlNpbmUuT3V0LEV4cG86RXhwby5PdXQsQ2lyYzpDaXJjdWxhci5PdXQsRWxhc3RpYzpFbGFzdGljLk91dCxCYWNrOkJhY2suT3V0LEJvdW5jZTpCb3VuY2UuT3V0LCdRdWFkLmVhc2VJbic6UXVhZHJhdGljLkluLCdDdWJpYy5lYXNlSW4nOkN1YmljLkluLCdRdWFydC5lYXNlSW4nOlF1YXJ0aWMuSW4sJ1F1aW50LmVhc2VJbic6UXVpbnRpYy5JbiwnU2luZS5lYXNlSW4nOlNpbmUuSW4sJ0V4cG8uZWFzZUluJzpFeHBvLkluLCdDaXJjLmVhc2VJbic6Q2lyY3VsYXIuSW4sJ0VsYXN0aWMuZWFzZUluJzpFbGFzdGljLkluLCdCYWNrLmVhc2VJbic6QmFjay5JbiwnQm91bmNlLmVhc2VJbic6Qm91bmNlLkluLCdRdWFkLmVhc2VPdXQnOlF1YWRyYXRpYy5PdXQsJ0N1YmljLmVhc2VPdXQnOkN1YmljLk91dCwnUXVhcnQuZWFzZU91dCc6UXVhcnRpYy5PdXQsJ1F1aW50LmVhc2VPdXQnOlF1aW50aWMuT3V0LCdTaW5lLmVhc2VPdXQnOlNpbmUuT3V0LCdFeHBvLmVhc2VPdXQnOkV4cG8uT3V0LCdDaXJjLmVhc2VPdXQnOkNpcmN1bGFyLk91dCwnRWxhc3RpYy5lYXNlT3V0JzpFbGFzdGljLk91dCwnQmFjay5lYXNlT3V0JzpCYWNrLk91dCwnQm91bmNlLmVhc2VPdXQnOkJvdW5jZS5PdXQsJ1F1YWQuZWFzZUluT3V0JzpRdWFkcmF0aWMuSW5PdXQsJ0N1YmljLmVhc2VJbk91dCc6Q3ViaWMuSW5PdXQsJ1F1YXJ0LmVhc2VJbk91dCc6UXVhcnRpYy5Jbk91dCwnUXVpbnQuZWFzZUluT3V0JzpRdWludGljLkluT3V0LCdTaW5lLmVhc2VJbk91dCc6U2luZS5Jbk91dCwnRXhwby5lYXNlSW5PdXQnOkV4cG8uSW5PdXQsJ0NpcmMuZWFzZUluT3V0JzpDaXJjdWxhci5Jbk91dCwnRWxhc3RpYy5lYXNlSW5PdXQnOkVsYXN0aWMuSW5PdXQsJ0JhY2suZWFzZUluT3V0JzpCYWNrLkluT3V0LCdCb3VuY2UuZWFzZUluT3V0JzpCb3VuY2UuSW5PdXR9Oy8qKiovfSwvKiA2NzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgUkVTRVJWRUQgcHJvcGVydGllcyB0aGF0IGEgVHdlZW4gY29uZmlnIG9iamVjdCB1c2VzXG5tb2R1bGUuZXhwb3J0cz1bJ2NvbXBsZXRlRGVsYXknLCdkZWxheScsJ2R1cmF0aW9uJywnZWFzZScsJ2Vhc2VQYXJhbXMnLCdob2xkJywnbG9vcCcsJ2xvb3BEZWxheScsJ29mZnNldCcsJ3BhdXNlZCcsJ3Byb3BzJywncmVwZWF0JywncmVwZWF0RGVsYXknLCdzdGFydEF0JywndGFyZ2V0cycsJ3VzZUZyYW1lcycsJ3lveW8nXTsvKioqL30sLyogNjc4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgVFdFRU5fQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7dmFyIFR3ZWVuPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBUd2VlbihtYW5hZ2VyLGRhdGEpe3RoaXMubWFuYWdlcj1tYW5hZ2VyOy8vICBBbiBhcnJheSBvZiBUd2VlbkRhdGEgb2JqZWN0cywgZWFjaCBjb250YWluaW5nIGEgdW5pcXVlIHByb3BlcnR5IGFuZCB0YXJnZXQgYmVpbmcgdHdlZW5lZC5cbnRoaXMuZGF0YT1kYXRhOy8vICBkYXRhIGFycmF5IGRvZXNuJ3QgY2hhbmdlLCBzbyB3ZSBjYW4gY2FjaGUgdGhlIGxlbmd0aFxudGhpcy50b3RhbERhdGE9ZGF0YS5sZW5ndGg7Ly8gIENhY2hlZCB0YXJnZXQgdG90YWwgKG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBhcyB0aGUgZGF0YSB0b3RhbClcbnRoaXMudG90YWxUYXJnZXRzPTA7Ly8gIElmIHRydWUgdGhlbiBkdXJhdGlvbiwgZGVsYXksIGV0YyB2YWx1ZXMgYXJlIGFsbCBmcmFtZSB0b3RhbHNcbnRoaXMudXNlRnJhbWVzPWZhbHNlOy8vICBMb29wIHRoaXMgdHdlZW4/IENhbiBiZSAtMSBmb3IgYW4gaW5maW5pdGUgbG9vcCwgb3IgYW4gaW50ZWdlci5cbi8vICBXaGVuIGVuYWJsZWQgaXQgd2lsbCBwbGF5IHRocm91Z2ggQUxMIFR3ZWVuRGF0YXMgYWdhaW4gKHVzZSBUd2VlbkRhdGEucmVwZWF0IHRvIGxvb3AgYSBzaW5nbGUgVEQpXG50aGlzLmxvb3A9MDsvLyAgVGltZSBpbiBtcy9mcmFtZXMgYmVmb3JlIHRoZSB0d2VlbiBsb29wcy5cbnRoaXMubG9vcERlbGF5PTA7Ly8gIEhvdyBtYW55IGxvb3BzIGFyZSBsZWZ0IHRvIHJ1bj9cbnRoaXMubG9vcENvdW50ZXI9MDsvLyAgVGltZSBpbiBtcy9mcmFtZXMgYmVmb3JlIHRoZSAnb25Db21wbGV0ZScgZXZlbnQgZmlyZXMuIFRoaXMgbmV2ZXIgZmlyZXMgaWYgbG9vcCA9IHRydWUgKGFzIGl0IG5ldmVyIGNvbXBsZXRlcylcbnRoaXMuY29tcGxldGVEZWxheT0wOy8vICBDb3VudGRvd24gdGltZXIgKHVzZWQgYnkgbG9vcERlbGF5IGFuZCBjb21wbGV0ZURlbGF5KVxudGhpcy5jb3VudGRvd249MDsvLyAgVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHR3ZWVuXG50aGlzLnN0YXRlPVRXRUVOX0NPTlNULlBFTkRJTkdfQUREOy8vICBUaGUgc3RhdGUgb2YgdGhlIHR3ZWVuIHdoZW4gaXQgd2FzIHBhdXNlZCAodXNlZCBieSBSZXN1bWUpXG50aGlzLl9wYXVzZWRTdGF0ZT1UV0VFTl9DT05TVC5QRU5ESU5HX0FERDsvLyAgRG9lcyB0aGUgVHdlZW4gc3RhcnQgb2ZmIHBhdXNlZD8gKGlmIHNvIGl0IG5lZWRzIHRvIGJlIHN0YXJ0ZWQgd2l0aCBUd2Vlbi5wbGF5KVxudGhpcy5wYXVzZWQ9ZmFsc2U7Ly8gIEVsYXBzZWQgdGltZSBpbiBtcy9mcmFtZXMgb2YgdGhpcyBydW4gdGhyb3VnaCB0aGUgVHdlZW4uXG50aGlzLmVsYXBzZWQ9MDsvLyAgVG90YWwgZWxhcHNlZCB0aW1lIGluIG1zL2ZyYW1lcyBvZiB0aGUgZW50aXJlIFR3ZWVuLCBpbmNsdWRpbmcgbG9vcGluZy5cbnRoaXMudG90YWxFbGFwc2VkPTA7Ly8gIFRpbWUgaW4gbXMvZnJhbWVzIGZvciB0aGUgd2hvbGUgVHdlZW4gdG8gcGxheSB0aHJvdWdoIG9uY2UsIGV4Y2x1ZGluZyBsb29wIGFtb3VudHMgYW5kIGxvb3AgZGVsYXlzXG50aGlzLmR1cmF0aW9uPTA7Ly8gIFZhbHVlIGJldHdlZW4gMCBhbmQgMS4gVGhlIGFtb3VudCB0aHJvdWdoIHRoZSBUd2VlbiwgZXhjbHVkaW5nIGxvb3BzLlxudGhpcy5wcm9ncmVzcz0wOy8vICBUaW1lIGluIG1zL2ZyYW1lcyBmb3IgdGhlIFR3ZWVuIHRvIGNvbXBsZXRlIChpbmNsdWRpbmcgbG9vcGluZylcbnRoaXMudG90YWxEdXJhdGlvbj0wOy8vICBWYWx1ZSBiZXR3ZWVuIDAgYW5kIDEuIFRoZSBhbW91bnQgdGhyb3VnaCB0aGUgZW50aXJlIFR3ZWVuLCBpbmNsdWRpbmcgbG9vcGluZy5cbnRoaXMudG90YWxQcm9ncmVzcz0wO3RoaXMuY2FsbGJhY2tzPXtvblN0YXJ0OntjYWxsYmFjazpudWxsLHNjb3BlOm51bGwscGFyYW1zOm51bGx9LG9uVXBkYXRlOntjYWxsYmFjazpudWxsLHNjb3BlOm51bGwscGFyYW1zOm51bGx9LG9uUmVwZWF0OntjYWxsYmFjazpudWxsLHNjb3BlOm51bGwscGFyYW1zOm51bGx9LG9uTG9vcDp7Y2FsbGJhY2s6bnVsbCxzY29wZTpudWxsLHBhcmFtczpudWxsfSxvbkNvbXBsZXRlOntjYWxsYmFjazpudWxsLHNjb3BlOm51bGwscGFyYW1zOm51bGx9fTt0aGlzLmNhbGxiYWNrU2NvcGU7fSxjYWxjRHVyYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg2NzkpLGluaXQ6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODApLGxvYWRWYWx1ZXM6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODEpLG5leHRTdGF0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDY4MikscGF1c2U6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODMpLHBsYXk6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODQpLHJlc2V0VHdlZW5EYXRhOl9fd2VicGFja19yZXF1aXJlX18oNjg1KSxyZXN1bWU6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODYpLHNlZWs6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODcpLHNldEV2ZW50Q2FsbGJhY2s6X193ZWJwYWNrX3JlcXVpcmVfXyg2ODgpLHVwZGF0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDY4OSl9KTttb2R1bGUuZXhwb3J0cz1Ud2VlbjsvKioqL30sLyogNjc5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENhbGNEdXJhdGlvbj1mdW5jdGlvbiBDYWxjRHVyYXRpb24oKXt2YXIgbWF4PTA7dmFyIGRhdGE9dGhpcy5kYXRhO2Zvcih2YXIgaT0wO2k8dGhpcy50b3RhbERhdGE7aSsrKXt2YXIgdHdlZW5EYXRhPWRhdGFbaV07Ly8gIFNldCB0MSAoZHVyYXRpb24gKyBob2xkICsgeW95bylcbnR3ZWVuRGF0YS50MT10d2VlbkRhdGEuZHVyYXRpb24rdHdlZW5EYXRhLmhvbGQ7aWYodHdlZW5EYXRhLnlveW8pe3R3ZWVuRGF0YS50MSs9dHdlZW5EYXRhLmR1cmF0aW9uO30vLyAgU2V0IHQyIChyZXBlYXREZWxheSArIGR1cmF0aW9uICsgaG9sZCArIHlveW8pXG50d2VlbkRhdGEudDI9dHdlZW5EYXRhLnQxK3R3ZWVuRGF0YS5yZXBlYXREZWxheTsvLyAgVG90YWwgRHVyYXRpb25cbnR3ZWVuRGF0YS50b3RhbER1cmF0aW9uPXR3ZWVuRGF0YS5kZWxheSt0d2VlbkRhdGEudDE7dHdlZW5EYXRhLnRvdGFsRHVyYXRpb24rPXR3ZWVuRGF0YS50MioodHdlZW5EYXRhLnJlcGVhdD09PS0xKT85OTk5OTk5OTk5OTk6dHdlZW5EYXRhLnJlcGVhdDtpZih0d2VlbkRhdGEudG90YWxEdXJhdGlvbj5tYXgpe21heD10d2VlbkRhdGEudG90YWxEdXJhdGlvbjt9fS8vICBFeGNsdWRlcyBsb29wIHZhbHVlc1xudGhpcy5kdXJhdGlvbj1tYXg7dGhpcy5sb29wQ291bnRlcj10aGlzLmxvb3A9PT0tMT85OTk5OTk5OTk5OTk6dGhpcy5sb29wO2lmKHRoaXMubG9vcENvdW50ZXI+MCl7dGhpcy50b3RhbER1cmF0aW9uPXRoaXMuZHVyYXRpb24rdGhpcy5jb21wbGV0ZURlbGF5Kyh0aGlzLmR1cmF0aW9uK3RoaXMubG9vcERlbGF5KSp0aGlzLmxvb3BDb3VudGVyO31lbHNle3RoaXMudG90YWxEdXJhdGlvbj10aGlzLmR1cmF0aW9uK3RoaXMuY29tcGxldGVEZWxheTt9fTttb2R1bGUuZXhwb3J0cz1DYWxjRHVyYXRpb247LyoqKi99LC8qIDY4MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFRXRUVOX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMjQpOy8vICBSZXR1cm4gdHJ1ZSBpZiB0aGlzIFR3ZWVuIHNob3VsZCBiZSBtb3ZlZCBmcm9tIHRoZSBwZW5kaW5nIGxpc3QgdG8gdGhlIGFjdGl2ZSBsaXN0XG52YXIgSW5pdD1mdW5jdGlvbiBJbml0KCl7dmFyIGRhdGE9dGhpcy5kYXRhO3ZhciB0b3RhbFRhcmdldHM9dGhpcy50b3RhbFRhcmdldHM7Zm9yKHZhciBpPTA7aTx0aGlzLnRvdGFsRGF0YTtpKyspe3ZhciB0d2VlbkRhdGE9ZGF0YVtpXTt2YXIgdGFyZ2V0PXR3ZWVuRGF0YS50YXJnZXQ7dmFyIGdlbj10d2VlbkRhdGEuZ2VuO3R3ZWVuRGF0YS5kZWxheT1nZW4uZGVsYXkoaSx0b3RhbFRhcmdldHMsdGFyZ2V0KTt0d2VlbkRhdGEuZHVyYXRpb249Z2VuLmR1cmF0aW9uKGksdG90YWxUYXJnZXRzLHRhcmdldCk7dHdlZW5EYXRhLmhvbGQ9Z2VuLmhvbGQoaSx0b3RhbFRhcmdldHMsdGFyZ2V0KTt0d2VlbkRhdGEucmVwZWF0PWdlbi5yZXBlYXQoaSx0b3RhbFRhcmdldHMsdGFyZ2V0KTt0d2VlbkRhdGEucmVwZWF0RGVsYXk9Z2VuLnJlcGVhdERlbGF5KGksdG90YWxUYXJnZXRzLHRhcmdldCk7fXRoaXMuY2FsY0R1cmF0aW9uKCk7dGhpcy5wcm9ncmVzcz0wO3RoaXMudG90YWxQcm9ncmVzcz0wOy8vIGNvbnNvbGUubG9nKCdUd2VlbiBkdXJhdGlvbicsIHRoaXMuZHVyYXRpb24sICd0b3RhbER1cmF0aW9uJywgdGhpcy50b3RhbER1cmF0aW9uKTtcbmlmKHRoaXMucGF1c2VkKXt0aGlzLnN0YXRlPVRXRUVOX0NPTlNULlBBVVNFRDtyZXR1cm4gZmFsc2U7fWVsc2V7cmV0dXJuIHRydWU7fX07bW9kdWxlLmV4cG9ydHM9SW5pdDsvKioqL30sLyogNjgxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIENhbGN1bGF0ZSB0aGUgc3RhcnQgYW5kIGVuZCB2YWx1ZXMgYW5kIHN0b3JlIHRoZW0gaW50byB0aGUgVHdlZW5UYXJnZXQgb2JqZWN0c1xudmFyIExvYWRWYWx1ZXM9ZnVuY3Rpb24gTG9hZFZhbHVlcyh0d2VlbkRhdGEpe3ZhciB0YXJnZXRzPXRoaXMudGFyZ2V0czt2YXIgcHJvcD10d2VlbkRhdGEua2V5Oy8vIGNvbnNvbGUubG9nKCctLT4gTG9hZFZhbHVlcycsIHByb3ApO1xuLy8gIFRhcmdldHMgYXJyYXk6XG4vLyAgMDpcbi8vICAgICAgcmVmOiBHYW1lT2JqZWN0LFxuLy8gICAgICBrZXlzOiB7XG4vLyAgICAgICAgICB4OiB7XG4vLyAgICAgICAgICAgICAgc3RhcnQsXG4vLyAgICAgICAgICAgICAgY3VycmVudCxcbi8vICAgICAgICAgICAgICBlbmQsXG4vLyAgICAgICAgICAgICAgc3RhcnRDYWNoZSxcbi8vICAgICAgICAgICAgICBlbmRDYWNoZVxuLy8gICAgICAgICAgfSxcbi8vICAgICAgICAgIHk6IHtcbi8vICAgICAgICAgICAgICBzdGFydCxcbi8vICAgICAgICAgICAgICBjdXJyZW50LFxuLy8gICAgICAgICAgICAgIGVuZCxcbi8vICAgICAgICAgICAgICBzdGFydENhY2hlLFxuLy8gICAgICAgICAgICAgIGVuZENhY2hlXG4vLyAgICAgICAgICB9XG4vLyAgICAgIH1cbmZvcih2YXIgaT0wO2k8dGhpcy50b3RhbFRhcmdldHM7aSsrKXt2YXIga2V5cz10YXJnZXRzW2ldLmtleXM7dmFyIGVudHJ5PWtleXNbcHJvcF07dmFyIGdhbWVPYmplY3Q9dGFyZ2V0c1tpXS5yZWY7aWYoZW50cnkuc3RhcnRDYWNoZT09PW51bGwpe2VudHJ5LnN0YXJ0PWdhbWVPYmplY3RbcHJvcF07ZW50cnkuY3VycmVudD1lbnRyeS5zdGFydDtlbnRyeS5lbmQ9dHdlZW5EYXRhLnZhbHVlKGVudHJ5LnN0YXJ0KTsvLyAgQ2FjaGUgdGhlIHN0YXJ0IGFuZCBlbmQgdmFsdWVzIHNvIHdlIG9ubHkgZG8gdGhpcyBvbmNlIChuZWVkZWQ/KVxuZW50cnkuc3RhcnRDYWNoZT1lbnRyeS5zdGFydDtlbnRyeS5lbmRDYWNoZT1lbnRyeS5lbmQ7fWVsc2V7ZW50cnkuc3RhcnQ9ZW50cnkuc3RhcnRDYWNoZTtlbnRyeS5jdXJyZW50PWVudHJ5LnN0YXJ0O2VudHJ5LmVuZD1lbnRyeS5lbmRDYWNoZTtnYW1lT2JqZWN0W3Byb3BdPWVudHJ5LnN0YXJ0O30vLyBjb25zb2xlLmxvZygndGFyZ2V0JywgZ2FtZU9iamVjdC5uYW1lLCAna2V5JywgcHJvcCwgJ3N0YXJ0JywgZW50cnkuc3RhcnQsICdlbmQnLCBlbnRyeS5lbmQpO1xufX07bW9kdWxlLmV4cG9ydHM9TG9hZFZhbHVlczsvKioqL30sLyogNjgyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVFdFRU5fQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7dmFyIE5leHRTdGF0ZT1mdW5jdGlvbiBOZXh0U3RhdGUoKXtpZih0aGlzLmxvb3BDb3VudGVyPjApe3RoaXMucmVzZXRUd2VlbkRhdGEodHJ1ZSk7dGhpcy5lbGFwc2VkPTA7dGhpcy5wcm9ncmVzcz0wO3RoaXMubG9vcENvdW50ZXItLTtpZih0aGlzLmxvb3BEZWxheT4wKXt0aGlzLmNvdW50ZG93bj10aGlzLmxvb3BEZWxheTt0aGlzLnN0YXRlPVRXRUVOX0NPTlNULkxPT1BfREVMQVk7fWVsc2V7dGhpcy5zdGF0ZT1UV0VFTl9DT05TVC5BQ1RJVkU7fX1lbHNlIGlmKHRoaXMuY29tcGxldGVEZWxheT4wKXt0aGlzLmNvdW50ZG93bj10aGlzLmNvbXBsZXRlRGVsYXk7dGhpcy5zdGF0ZT1UV0VFTl9DT05TVC5DT01QTEVURV9ERUxBWTt9ZWxzZXt0aGlzLnN0YXRlPVRXRUVOX0NPTlNULlBFTkRJTkdfUkVNT1ZFO319O21vZHVsZS5leHBvcnRzPU5leHRTdGF0ZTsvKioqL30sLyogNjgzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVFdFRU5fQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7dmFyIFBhdXNlPWZ1bmN0aW9uIFBhdXNlKCl7aWYodGhpcy5zdGF0ZT09PVRXRUVOX0NPTlNULlBBVVNFRCl7cmV0dXJuO310aGlzLnBhdXNlZD10cnVlO3RoaXMuX3BhdXNlZFN0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1UV0VFTl9DT05TVC5QQVVTRUQ7cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1QYXVzZTsvKioqL30sLyogNjg0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVFdFRU5fQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7dmFyIFBsYXk9ZnVuY3Rpb24gUGxheSgpe2lmKHRoaXMuc3RhdGU9PT1UV0VFTl9DT05TVC5BQ1RJVkUpe3JldHVybjt9aWYodGhpcy5wYXVzZWQpe3RoaXMucGF1c2VkPWZhbHNlO3RoaXMubWFuYWdlci5tYWtlQWN0aXZlKHRoaXMpO31lbHNley8vICBSZXNldCB0aGUgVHdlZW5EYXRhXG50aGlzLnJlc2V0VHdlZW5EYXRhKCk7dGhpcy5zdGF0ZT1UV0VFTl9DT05TVC5BQ1RJVkU7fX07bW9kdWxlLmV4cG9ydHM9UGxheTsvKioqL30sLyogNjg1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVFdFRU5fQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7dmFyIFJlc2V0VHdlZW5EYXRhPWZ1bmN0aW9uIFJlc2V0VHdlZW5EYXRhKHJlc2V0RnJvbUxvb3Ape3ZhciBkYXRhPXRoaXMuZGF0YTtmb3IodmFyIGk9MDtpPHRoaXMudG90YWxEYXRhO2krKyl7dmFyIHR3ZWVuRGF0YT1kYXRhW2ldO3R3ZWVuRGF0YS5wcm9ncmVzcz0wO3R3ZWVuRGF0YS5lbGFwc2VkPTA7dHdlZW5EYXRhLnJlcGVhdENvdW50ZXI9dHdlZW5EYXRhLnJlcGVhdD09PS0xPzk5OTk5OTk5OTk5OTp0d2VlbkRhdGEucmVwZWF0O2lmKHJlc2V0RnJvbUxvb3Ape3R3ZWVuRGF0YS5zdGFydD10d2VlbkRhdGEuc3RhcnRDYWNoZTt0d2VlbkRhdGEuY3VycmVudD10d2VlbkRhdGEuc3RhcnQ7dHdlZW5EYXRhLmVuZD10d2VlbkRhdGEuZW5kQ2FjaGU7dHdlZW5EYXRhLnN0YXRlPVRXRUVOX0NPTlNULlBMQVlJTkdfRk9SV0FSRDt9ZWxzZSBpZih0d2VlbkRhdGEuZGVsYXk+MCl7dHdlZW5EYXRhLmVsYXBzZWQ9dHdlZW5EYXRhLmRlbGF5O3R3ZWVuRGF0YS5zdGF0ZT1UV0VFTl9DT05TVC5ERUxBWTt9ZWxzZXt0d2VlbkRhdGEuc3RhdGU9VFdFRU5fQ09OU1QuUEVORElOR19SRU5ERVI7fX19O21vZHVsZS5leHBvcnRzPVJlc2V0VHdlZW5EYXRhOy8qKiovfSwvKiA2ODYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUV0VFTl9DT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTt2YXIgUGF1c2U9ZnVuY3Rpb24gUGF1c2UoKXtpZih0aGlzLnN0YXRlPT09VFdFRU5fQ09OU1QuUEFVU0VEKXt0aGlzLnBhdXNlZD1mYWxzZTt0aGlzLnN0YXRlPXRoaXMuX3BhdXNlZFN0YXRlO31yZXR1cm4gdGhpczt9O21vZHVsZS5leHBvcnRzPVBhdXNlOy8qKiovfSwvKiA2ODcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyB2YXIgVFdFRU5fQ09OU1QgPSByZXF1aXJlKCcuLi9jb25zdCcpO1xuLy8gIEZvciBub3cgcHJvZ3Jlc3MgPSAwIHRvIDFcbnZhciBTZWVrPWZ1bmN0aW9uIFNlZWsodG9Qb3NpdGlvbil7dmFyIGRhdGE9dGhpcy5kYXRhO2Zvcih2YXIgaT0wO2k8dGhpcy50b3RhbERhdGE7aSsrKXsvLyAgVGhpcyB3b24ndCB3b3JrIHdpdGggbG9vcCA+IDAgeWV0XG52YXIgbXM9dGhpcy50b3RhbER1cmF0aW9uKnRvUG9zaXRpb247dmFyIHR3ZWVuRGF0YT1kYXRhW2ldO3ZhciBwcm9ncmVzcz0wO3ZhciBlbGFwc2VkPTA7aWYobXM8PXR3ZWVuRGF0YS5kZWxheSl7cHJvZ3Jlc3M9MDtlbGFwc2VkPTA7fWVsc2UgaWYobXM+PXR3ZWVuRGF0YS50b3RhbER1cmF0aW9uKXtwcm9ncmVzcz0xO2VsYXBzZWQ9dHdlZW5EYXRhLmR1cmF0aW9uO31lbHNlIGlmKG1zPnR3ZWVuRGF0YS5kZWxheSYmbXM8PXR3ZWVuRGF0YS50MSl7Ly8gIEtlZXAgaXQgemVybyBib3VuZFxubXM9TWF0aC5tYXgoMCxtcy10d2VlbkRhdGEuZGVsYXkpOy8vICBTb21ld2hlcmUgaW4gdGhlIGZpcnN0IHBsYXl0aHJ1IHJhbmdlXG5wcm9ncmVzcz1tcy90d2VlbkRhdGEudDE7ZWxhcHNlZD10d2VlbkRhdGEuZHVyYXRpb24qcHJvZ3Jlc3M7fWVsc2UgaWYobXM+dHdlZW5EYXRhLnQxJiZtczx0d2VlbkRhdGEudG90YWxEdXJhdGlvbil7Ly8gIFNvbWV3aGVyZSBpbiByZXBlYXQgbGFuZFxubXMtPXR3ZWVuRGF0YS5kZWxheTttcy09dHdlZW5EYXRhLnQxO3ZhciByZXBlYXRzPU1hdGguZmxvb3IobXMvdHdlZW5EYXRhLnQyKTsvLyAgcmVtYWluZGVyXG5tcz1tcy90d2VlbkRhdGEudDIlMSp0d2VlbkRhdGEudDI7aWYobXM+dHdlZW5EYXRhLnJlcGVhdERlbGF5KXtwcm9ncmVzcz1tcy90d2VlbkRhdGEudDE7ZWxhcHNlZD10d2VlbkRhdGEuZHVyYXRpb24qcHJvZ3Jlc3M7fX10d2VlbkRhdGEucHJvZ3Jlc3M9cHJvZ3Jlc3M7dHdlZW5EYXRhLmVsYXBzZWQ9ZWxhcHNlZDt2YXIgdj10d2VlbkRhdGEuZWFzZSh0d2VlbkRhdGEucHJvZ3Jlc3MpO3R3ZWVuRGF0YS5jdXJyZW50PXR3ZWVuRGF0YS5zdGFydCsodHdlZW5EYXRhLmVuZC10d2VlbkRhdGEuc3RhcnQpKnY7Ly8gY29uc29sZS5sb2codHdlZW5EYXRhLmtleSwgJ1NlZWsnLCB0d2VlbkRhdGEudGFyZ2V0W3R3ZWVuRGF0YS5rZXldLCAndG8nLCB0d2VlbkRhdGEuY3VycmVudCwgJ3BybycsIHR3ZWVuRGF0YS5wcm9ncmVzcywgJ21hcmtlcicsIG1hcmtlciwgcHJvZ3Jlc3MpO1xudHdlZW5EYXRhLnRhcmdldFt0d2VlbkRhdGEua2V5XT10d2VlbkRhdGEuY3VycmVudDt9fTttb2R1bGUuZXhwb3J0cz1TZWVrOy8qKiovfSwvKiA2ODggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2V0RXZlbnRDYWxsYmFjaz1mdW5jdGlvbiBTZXRFdmVudENhbGxiYWNrKHR5cGUsY2FsbGJhY2sscGFyYW1zLHNjb3BlKXt2YXIgdHlwZXM9WydvblN0YXJ0Jywnb25VcGRhdGUnLCdvblJlcGVhdCcsJ29uTG9vcCcsJ29uQ29tcGxldGUnXTtpZih0eXBlcy5pbmRleE9mKHR5cGUpIT09LTEpe3RoaXMuY2FsbGJhY2tzW3R5cGVdPXtjYWxsYmFjazpjYWxsYmFjayxzY29wZTpzY29wZSxwYXJhbXM6cGFyYW1zfTt9cmV0dXJuIHRoaXM7fTttb2R1bGUuZXhwb3J0cz1TZXRFdmVudENhbGxiYWNrOy8qKiovfSwvKiA2ODkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUV0VFTl9DT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTt2YXIgVXBkYXRlVHdlZW5EYXRhPV9fd2VicGFja19yZXF1aXJlX18oNjkwKTt2YXIgVXBkYXRlPWZ1bmN0aW9uIFVwZGF0ZSh0aW1lc3RhbXAsZGVsdGEpe2lmKHRoaXMudXNlRnJhbWVzKXtkZWx0YT0xO310aGlzLmVsYXBzZWQrPWRlbHRhO3RoaXMucHJvZ3Jlc3M9TWF0aC5taW4odGhpcy5lbGFwc2VkL3RoaXMuZHVyYXRpb24sMSk7dGhpcy50b3RhbEVsYXBzZWQrPWRlbHRhO3RoaXMudG90YWxQcm9ncmVzcz1NYXRoLm1pbih0aGlzLnRvdGFsRWxhcHNlZC90aGlzLnRvdGFsRHVyYXRpb24sMSk7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2UgVFdFRU5fQ09OU1QuQUNUSVZFOnZhciBzdGlsbFJ1bm5pbmc9ZmFsc2U7Zm9yKHZhciBpPTA7aTx0aGlzLnRvdGFsRGF0YTtpKyspe2lmKFVwZGF0ZVR3ZWVuRGF0YSh0aGlzLHRoaXMuZGF0YVtpXSxkZWx0YSkpe3N0aWxsUnVubmluZz10cnVlO319Ly8gIEFueXRoaW5nIHN0aWxsIHJ1bm5pbmc/IElmIG5vdCwgd2UncmUgZG9uZVxuaWYoIXN0aWxsUnVubmluZyl7dGhpcy5uZXh0U3RhdGUoKTt9YnJlYWs7Y2FzZSBUV0VFTl9DT05TVC5MT09QX0RFTEFZOnRoaXMuY291bnRkb3duLT1kZWx0YTtpZih0aGlzLmNvdW50ZG93bjw9MCl7dGhpcy5zdGF0ZT1UV0VFTl9DT05TVC5BQ1RJVkU7fWJyZWFrO2Nhc2UgVFdFRU5fQ09OU1QuQ09NUExFVEVfREVMQVk6dGhpcy5jb3VudGRvd24tPWRlbHRhO2lmKHRoaXMuY291bnRkb3duPD0wKXt0aGlzLnN0YXRlPVRXRUVOX0NPTlNULlBFTkRJTkdfUkVNT1ZFO31icmVhazt9cmV0dXJuIHRoaXMuc3RhdGU9PT1UV0VFTl9DT05TVC5QRU5ESU5HX1JFTU9WRTt9O21vZHVsZS5leHBvcnRzPVVwZGF0ZTsvKioqL30sLyogNjkwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVFdFRU5fQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7dmFyIFNldFN0YXRlRnJvbUVuZD1mdW5jdGlvbiBTZXRTdGF0ZUZyb21FbmQodHdlZW4sdHdlZW5EYXRhKXtpZih0d2VlbkRhdGEueW95byl7Ly8gIFBsYXlpbmcgZm9yd2FyZCBhbmQgd2UgaGF2ZSBhIHlveW9cbnR3ZWVuRGF0YS5wcm9ncmVzcz0wO3R3ZWVuRGF0YS5lbGFwc2VkPTA7cmV0dXJuIFRXRUVOX0NPTlNULlBMQVlJTkdfQkFDS1dBUkQ7fWVsc2UgaWYodHdlZW5EYXRhLnJlcGVhdENvdW50ZXI+MCl7dHdlZW5EYXRhLnJlcGVhdENvdW50ZXItLTt0d2VlbkRhdGEuZWxhcHNlZD0wO3R3ZWVuRGF0YS5wcm9ncmVzcz0wOy8vICBEZWxheT9cbmlmKHR3ZWVuRGF0YS5yZXBlYXREZWxheT4wKXt0d2VlbkRhdGEuZWxhcHNlZD10d2VlbkRhdGEucmVwZWF0RGVsYXk7dHdlZW5EYXRhLmN1cnJlbnQ9dHdlZW5EYXRhLnN0YXJ0O3R3ZWVuRGF0YS50YXJnZXRbdHdlZW5EYXRhLmtleV09dHdlZW5EYXRhLmN1cnJlbnQ7cmV0dXJuIFRXRUVOX0NPTlNULlJFUEVBVF9ERUxBWTt9ZWxzZXtyZXR1cm4gVFdFRU5fQ09OU1QuUExBWUlOR19GT1JXQVJEO319cmV0dXJuIFRXRUVOX0NPTlNULkNPTVBMRVRFO307Ly8gIFdhcyBQTEFZSU5HX0JBQ0tXQVJEIGFuZCBoYXMgaGl0IHRoZSBzdGFydFxudmFyIFNldFN0YXRlRnJvbVN0YXJ0PWZ1bmN0aW9uIFNldFN0YXRlRnJvbVN0YXJ0KHR3ZWVuLHR3ZWVuRGF0YSl7aWYodHdlZW5EYXRhLnJlcGVhdENvdW50ZXI+MCl7dHdlZW5EYXRhLnJlcGVhdENvdW50ZXItLTt0d2VlbkRhdGEuZWxhcHNlZD0wO3R3ZWVuRGF0YS5wcm9ncmVzcz0wOy8vICBEZWxheT9cbmlmKHR3ZWVuRGF0YS5yZXBlYXREZWxheT4wKXt0d2VlbkRhdGEuZWxhcHNlZD10d2VlbkRhdGEucmVwZWF0RGVsYXk7dHdlZW5EYXRhLmN1cnJlbnQ9dHdlZW5EYXRhLnN0YXJ0O3R3ZWVuRGF0YS50YXJnZXRbdHdlZW5EYXRhLmtleV09dHdlZW5EYXRhLmN1cnJlbnQ7cmV0dXJuIFRXRUVOX0NPTlNULlJFUEVBVF9ERUxBWTt9ZWxzZXtyZXR1cm4gVFdFRU5fQ09OU1QuUExBWUlOR19GT1JXQVJEO319cmV0dXJuIFRXRUVOX0NPTlNULkNPTVBMRVRFO307Ly8gIERlbHRhIGlzIGVpdGhlciBhIHZhbHVlIGluIG1zLCBvciAxIGlmIFR3ZWVuLnVzZUZyYW1lcyBpcyB0cnVlXG52YXIgVXBkYXRlVHdlZW5EYXRhPWZ1bmN0aW9uIFVwZGF0ZVR3ZWVuRGF0YSh0d2Vlbix0d2VlbkRhdGEsZGVsdGEpe3N3aXRjaCh0d2VlbkRhdGEuc3RhdGUpe2Nhc2UgVFdFRU5fQ09OU1QuUExBWUlOR19GT1JXQVJEOmNhc2UgVFdFRU5fQ09OU1QuUExBWUlOR19CQUNLV0FSRDp2YXIgZWxhcHNlZD10d2VlbkRhdGEuZWxhcHNlZDt2YXIgZHVyYXRpb249dHdlZW5EYXRhLmR1cmF0aW9uO2VsYXBzZWQrPWRlbHRhO2lmKGVsYXBzZWQ+ZHVyYXRpb24pe2VsYXBzZWQ9ZHVyYXRpb247fXZhciBmb3J3YXJkPXR3ZWVuRGF0YS5zdGF0ZT09PVRXRUVOX0NPTlNULlBMQVlJTkdfRk9SV0FSRDt2YXIgcHJvZ3Jlc3M9ZWxhcHNlZC9kdXJhdGlvbjt2YXIgdjtpZihmb3J3YXJkKXt2PXR3ZWVuRGF0YS5lYXNlKHByb2dyZXNzKTt9ZWxzZXt2PXR3ZWVuRGF0YS5lYXNlKDEtcHJvZ3Jlc3MpO310d2VlbkRhdGEuY3VycmVudD10d2VlbkRhdGEuc3RhcnQrKHR3ZWVuRGF0YS5lbmQtdHdlZW5EYXRhLnN0YXJ0KSp2O3R3ZWVuRGF0YS50YXJnZXRbdHdlZW5EYXRhLmtleV09dHdlZW5EYXRhLmN1cnJlbnQ7dHdlZW5EYXRhLmVsYXBzZWQ9ZWxhcHNlZDt0d2VlbkRhdGEucHJvZ3Jlc3M9cHJvZ3Jlc3M7aWYocHJvZ3Jlc3M9PT0xKXtpZihmb3J3YXJkKXtpZih0d2VlbkRhdGEuaG9sZD4wKXt0d2VlbkRhdGEuZWxhcHNlZD10d2VlbkRhdGEuaG9sZDt0d2VlbkRhdGEuc3RhdGU9VFdFRU5fQ09OU1QuSE9MRF9ERUxBWTt9ZWxzZXt0d2VlbkRhdGEuc3RhdGU9U2V0U3RhdGVGcm9tRW5kKHR3ZWVuLHR3ZWVuRGF0YSk7fX1lbHNle3R3ZWVuRGF0YS5zdGF0ZT1TZXRTdGF0ZUZyb21TdGFydCh0d2Vlbix0d2VlbkRhdGEpO319YnJlYWs7Y2FzZSBUV0VFTl9DT05TVC5ERUxBWTp0d2VlbkRhdGEuZWxhcHNlZC09ZGVsdGE7aWYodHdlZW5EYXRhLmVsYXBzZWQ8PTApey8vICBUT0RPIC0gTW92ZSBlbGFwc2VkIGJsb2NrIGJlbG93IHN3aXRjaCBzdGF0ZW1lbnQgc28gdGhhdCBjYWxscyB0byByZW5kZXIgYW5kIHBsYXkgaGFwcGVuIHRoaXMgZnJhbWUsIG5vdCB0aGUgbmV4dCBvbmU/XG50d2VlbkRhdGEuZWxhcHNlZD1NYXRoLmFicyh0d2VlbkRhdGEuZWxhcHNlZCk7dHdlZW5EYXRhLnN0YXRlPVRXRUVOX0NPTlNULlBFTkRJTkdfUkVOREVSO31icmVhaztjYXNlIFRXRUVOX0NPTlNULlJFUEVBVF9ERUxBWTp0d2VlbkRhdGEuZWxhcHNlZC09ZGVsdGE7aWYodHdlZW5EYXRhLmVsYXBzZWQ8PTApe3R3ZWVuRGF0YS5lbGFwc2VkPU1hdGguYWJzKHR3ZWVuRGF0YS5lbGFwc2VkKTt0d2VlbkRhdGEuc3RhdGU9VFdFRU5fQ09OU1QuUExBWUlOR19GT1JXQVJEO31icmVhaztjYXNlIFRXRUVOX0NPTlNULkhPTERfREVMQVk6dHdlZW5EYXRhLmVsYXBzZWQtPWRlbHRhO2lmKHR3ZWVuRGF0YS5lbGFwc2VkPD0wKXt0d2VlbkRhdGEuc3RhdGU9U2V0U3RhdGVGcm9tRW5kKHR3ZWVuLHR3ZWVuRGF0YSk7fWJyZWFrO2Nhc2UgVFdFRU5fQ09OU1QuUEVORElOR19SRU5ERVI6dHdlZW5EYXRhLnN0YXJ0PXR3ZWVuRGF0YS50YXJnZXRbdHdlZW5EYXRhLmtleV07dHdlZW5EYXRhLmN1cnJlbnQ9dHdlZW5EYXRhLnN0YXJ0O3R3ZWVuRGF0YS5lbmQ9dHdlZW5EYXRhLnZhbHVlKHR3ZWVuRGF0YS5zdGFydCk7dHdlZW5EYXRhLnN0YXJ0Q2FjaGU9dHdlZW5EYXRhLnN0YXJ0O3R3ZWVuRGF0YS5lbmRDYWNoZT10d2VlbkRhdGEuZW5kO3R3ZWVuRGF0YS50YXJnZXRbdHdlZW5EYXRhLmtleV09dHdlZW5EYXRhLmN1cnJlbnQ7dHdlZW5EYXRhLnN0YXRlPVRXRUVOX0NPTlNULlBMQVlJTkdfRk9SV0FSRDticmVhazt9Ly8gIFJldHVybiBUUlVFIGlmIHRoaXMgVHdlZW5EYXRhIHN0aWxsIHBsYXlpbmcsIG90aGVyd2lzZSByZXR1cm4gRkFMU0VcbnJldHVybiB0d2VlbkRhdGEuc3RhdGUhPT1UV0VFTl9DT05TVC5DT01QTEVURTt9O21vZHVsZS5leHBvcnRzPVVwZGF0ZVR3ZWVuRGF0YTsvKioqL30sLyogNjkxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFR3ZWVuRGF0YT1mdW5jdGlvbiBUd2VlbkRhdGEodGFyZ2V0LGtleSx2YWx1ZSxlYXNlLGRlbGF5LGR1cmF0aW9uLHlveW8saG9sZCxyZXBlYXQscmVwZWF0RGVsYXksc3RhcnRBdCl7cmV0dXJuey8vICBUaGUgdGFyZ2V0IHRvIHR3ZWVuXG50YXJnZXQ6dGFyZ2V0LC8vICBUaGUgcHJvcGVydHkgb2YgdGhlIHRhcmdldCB0byB0d2Vlblxua2V5OmtleSwvLyAgQSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gc3RhcnRpbmcgdGhlIHR3ZWVuLCBwb3B1bGF0ZXMgdGhlICdzdGFydCcgYW5kICdlbmQnIHZhbHVlc1xudmFsdWU6dmFsdWUsLy8gIFRoZSBlYXNlIGZ1bmN0aW9uIHRoaXMgdHdlZW4gdXNlcy5cbmVhc2U6ZWFzZSwvLyAgRHVyYXRpb24gb2YgdGhlIHR3ZWVuIGluIG1zL2ZyYW1lcywgZXhjbHVkZXMgdGltZSBmb3IgeW95byBvciByZXBlYXRzLlxuZHVyYXRpb246MCwvLyAgVGhlIHRvdGFsIGNhbGN1bGF0ZWQgZHVyYXRpb24gb2YgdGhpcyBUd2VlbkRhdGEgKGJhc2VkIG9uIGR1cmF0aW9uLCByZXBlYXQsIGRlbGF5IGFuZCB5b3lvKVxudG90YWxEdXJhdGlvbjowLC8vICBUaW1lIGluIG1zL2ZyYW1lcyBiZWZvcmUgdHdlZW4gd2lsbCBzdGFydC5cbmRlbGF5OjAsLy8gIENhdXNlIHRoZSB0d2VlbiB0byByZXR1cm4gYmFjayB0byBpdHMgc3RhcnQgdmFsdWUgYWZ0ZXIgaG9sZCBoYXMgZXhwaXJlZC5cbnlveW86eW95bywvLyAgVGltZSBpbiBtcy9mcmFtZXMgdGhlIHR3ZWVuIHdpbGwgcGF1c2UgYmVmb3JlIHJ1bm5pbmcgdGhlIHlveW8gb3Igc3RhcnRpbmcgYSByZXBlYXQuXG5ob2xkOjAsLy8gIE51bWJlciBvZiB0aW1lcyB0byByZXBlYXQgdGhlIHR3ZWVuLiBUaGUgdHdlZW4gd2lsbCBhbHdheXMgcnVuIG9uY2UgcmVnYXJkbGVzcywgc28gYSByZXBlYXQgdmFsdWUgb2YgJzEnIHdpbGwgcGxheSB0aGUgdHdlZW4gdHdpY2UuXG5yZXBlYXQ6MCwvLyAgVGltZSBpbiBtcy9mcmFtZXMgYmVmb3JlIHRoZSByZXBlYXQgd2lsbCBzdGFydC5cbnJlcGVhdERlbGF5OjAsLy8gIENoYW5nZXMgdGhlIHByb3BlcnR5IHRvIGJlIHRoaXMgdmFsdWUgYmVmb3JlIHN0YXJ0aW5nIHRoZSB0d2Vlbi5cbnN0YXJ0QXQ6c3RhcnRBdCwvLyAgQmV0d2VlbiAwIGFuZCAxIHNob3dpbmcgY29tcGxldGlvbiBvZiB0aGlzIFR3ZWVuRGF0YS5cbnByb2dyZXNzOjAsLy8gIERlbHRhIGNvdW50ZXIuXG5lbGFwc2VkOjAsLy8gIEhvdyBtYW55IHJlcGVhdHMgYXJlIGxlZnQgdG8gcnVuP1xucmVwZWF0Q291bnRlcjowLC8vICBFYXNlIFZhbHVlIERhdGE6XG5zdGFydDowLGN1cnJlbnQ6MCxlbmQ6MCxzdGFydENhY2hlOjAsZW5kQ2FjaGU6MCwvLyAgVGltZSBEdXJhdGlvbnNcbnQxOjAsdDI6MCwvLyAgTG9hZFZhbHVlIGdlbmVyYXRpb24gZnVuY3Rpb25zXG5nZW46e2RlbGF5OmRlbGF5LGR1cmF0aW9uOmR1cmF0aW9uLGhvbGQ6aG9sZCxyZXBlYXQ6cmVwZWF0LHJlcGVhdERlbGF5OnJlcGVhdERlbGF5fSwvLyAgVFdFRU5fQ09OU1QuQ1JFQVRFRFxuc3RhdGU6MH07fTttb2R1bGUuZXhwb3J0cz1Ud2VlbkRhdGE7LyoqKi99LC8qIDY5MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIFVwZGF0ZUxpc3Q9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFVwZGF0ZUxpc3Qoc2NlbmUpe3RoaXMuc2NlbmU9c2NlbmU7dGhpcy5fbGlzdD1bXTt0aGlzLl9wZW5kaW5nSW5zZXJ0aW9uPVtdO3RoaXMuX3BlbmRpbmdSZW1vdmFsPVtdO30sYWRkOmZ1bmN0aW9uIGFkZChjaGlsZCl7dGhpcy5fcGVuZGluZ0luc2VydGlvbi5wdXNoKGNoaWxkKTt9LGJlZ2luOmZ1bmN0aW9uIGJlZ2luKCl7dmFyIHRvUmVtb3ZlPXRoaXMuX3BlbmRpbmdSZW1vdmFsLmxlbmd0aDt2YXIgdG9JbnNlcnQ9dGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg7aWYodG9SZW1vdmU9PT0wJiZ0b0luc2VydD09PTApey8vICBRdWljayBiYWlsXG5yZXR1cm47fXZhciBpO3ZhciBnYW1lT2JqZWN0Oy8vICBEZWxldGUgb2xkIGdhbWVPYmplY3RzXG5mb3IoaT0wO2k8dG9SZW1vdmU7aSsrKXtnYW1lT2JqZWN0PXRoaXMuX3BlbmRpbmdSZW1vdmFsW2ldO3ZhciBpbmRleD10aGlzLl9saXN0LmluZGV4T2YoZ2FtZU9iamVjdCk7aWYoaW5kZXg+LTEpe3RoaXMuX2xpc3Quc3BsaWNlKGluZGV4LDEpO30vLyAgUG9vbCB0aGVtP1xuLy8gZ2FtZU9iamVjdC5kZXN0cm95KCk7XG59Ly8gIE1vdmUgcGVuZGluZyB0byBhY3RpdmVcbnRoaXMuX2xpc3Q9dGhpcy5fbGlzdC5jb25jYXQodGhpcy5fcGVuZGluZ0luc2VydGlvbi5zcGxpY2UoMCkpOy8vICBDbGVhciB0aGUgbGlzdHNcbnRoaXMuX3BlbmRpbmdSZW1vdmFsLmxlbmd0aD0wO3RoaXMuX3BlbmRpbmdJbnNlcnRpb24ubGVuZ3RoPTA7fSx1cGRhdGU6ZnVuY3Rpb24gdXBkYXRlKHRpbWUsZGVsdGEpe2Zvcih2YXIgaT0wO2k8dGhpcy5fbGlzdC5sZW5ndGg7aSsrKXt2YXIgZ2FtZU9iamVjdD10aGlzLl9saXN0W2ldO2lmKGdhbWVPYmplY3QuYWN0aXZlKXtnYW1lT2JqZWN0LnByZVVwZGF0ZS5jYWxsKGdhbWVPYmplY3QsdGltZSxkZWx0YSk7fX19LHJlbW92ZTpmdW5jdGlvbiByZW1vdmUoY2hpbGQpe3ZhciBpbmRleD10aGlzLl9saXN0LmluZGV4T2YoY2hpbGQpO2lmKGluZGV4IT09LTEpe3RoaXMuX2xpc3Quc3BsaWNlKGluZGV4LDEpO31yZXR1cm4gY2hpbGQ7fSxyZW1vdmVBbGw6ZnVuY3Rpb24gcmVtb3ZlQWxsKCl7dmFyIGk9dGhpcy5fbGlzdC5sZW5ndGg7d2hpbGUoaS0tKXt0aGlzLnJlbW92ZSh0aGlzLl9saXN0W2ldKTt9cmV0dXJuIHRoaXM7fSwvLyAgU2NlbmUgdGhhdCBvd25zIHRoaXMgQ2xvY2sgaXMgc2h1dHRpbmcgZG93blxuc2h1dGRvd246ZnVuY3Rpb24gc2h1dGRvd24oKXt0aGlzLnJlbW92ZUFsbCgpO3RoaXMuX2xpc3QubGVuZ3RoPTA7dGhpcy5fcGVuZGluZ1JlbW92YWwubGVuZ3RoPTA7dGhpcy5fcGVuZGluZ0luc2VydGlvbi5sZW5ndGg9MDt9LC8vICBHYW1lIGxldmVsIG51a2VcbmRlc3Ryb3k6ZnVuY3Rpb24gZGVzdHJveSgpe3RoaXMuc2h1dGRvd24oKTt0aGlzLnNjZW5lPXVuZGVmaW5lZDt9fSk7bW9kdWxlLmV4cG9ydHM9VXBkYXRlTGlzdDsvKioqL30sLyogNjkzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBCb290IGhhbmRsZXIgaXMgY2FsbGVkIGJ5IFBoYXNlci5HYW1lIHdoZW4gaXQgZmlyc3Qgc3RhcnRzIHVwLlxuKiBUaGUgcmVuZGVyZXIgaXMgYXZhaWxhYmxlIGJ5IG5vdy5cbiovdmFyIEJvb3Q9ZnVuY3Rpb24gQm9vdCgpe3ZhciBpO3ZhciBlbnRyeTtmb3IoaT0wO2k8dGhpcy5fcGVuZGluZy5sZW5ndGg7aSsrKXtlbnRyeT10aGlzLl9wZW5kaW5nW2ldO3RoaXMuYWRkKGVudHJ5LmtleSxlbnRyeS5zY2VuZSxlbnRyeS5hdXRvU3RhcnQpO31mb3IoaT0wO2k8dGhpcy5fc3RhcnQubGVuZ3RoO2krKyl7ZW50cnk9dGhpcy5fc3RhcnRbaV07dGhpcy5zdGFydChlbnRyeSk7fS8vICBDbGVhciB0aGUgcGVuZGluZyBsaXN0c1xudGhpcy5fc3RhcnQ9W107dGhpcy5fcGVuZGluZz1bXTt9O21vZHVsZS5leHBvcnRzPUJvb3Q7LyoqKi99LC8qIDY5NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBCb290U2NlbmU9ZnVuY3Rpb24gQm9vdFNjZW5lKHNjZW5lKXsvLyBjb25zb2xlLmxvZygnYm9vdFNjZW5lJywgc2NlbmUuc3lzLnNldHRpbmdzLmtleSk7XG5pZihzY2VuZS5pbml0KXtzY2VuZS5pbml0LmNhbGwoc2NlbmUsc2NlbmUuc3lzLnNldHRpbmdzLmRhdGEpO312YXIgbG9hZGVyPXNjZW5lLnN5cy5sb2FkO2xvYWRlci5yZXNldCgpO2lmKHNjZW5lLnByZWxvYWQpe3NjZW5lLnByZWxvYWQodGhpcy5nYW1lKTsvLyAgSXMgdGhlIGxvYWRlciBlbXB0eT9cbmlmKGxvYWRlci5saXN0LnNpemU9PT0wKXt0aGlzLmNyZWF0ZShzY2VuZSk7fWVsc2V7Ly8gIFN0YXJ0IHRoZSBsb2FkZXIgZ29pbmcgYXMgd2UgaGF2ZSBzb21ldGhpbmcgaW4gdGhlIHF1ZXVlXG5sb2FkZXIuZXZlbnRzLm9uY2UoJ0xPQURFUl9DT01QTEVURV9FVkVOVCcsdGhpcy5sb2FkQ29tcGxldGUuYmluZCh0aGlzKSk7bG9hZGVyLnN0YXJ0KCk7fX1lbHNley8vICBObyBwcmVsb2FkPyBUaGVuIHRoZXJlIHdhcyBub3RoaW5nIHRvIGxvYWQgZWl0aGVyXG50aGlzLmNyZWF0ZShzY2VuZSk7fX07bW9kdWxlLmV4cG9ydHM9Qm9vdFNjZW5lOy8qKiovfSwvKiA2OTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSWYgdGhlIGFyZ3VtZW50cyBhcmUgc3RyaW5ncyB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlIGtleXMsIG90aGVyd2lzZSB0aGV5IGFyZSBTY2VuZSBvYmplY3RzXG4vLyAgWW91IGNhbiBvbmx5IHN3YXAgdGhlIHBvc2l0aW9ucyBvZiBBY3RpdmUgKHJlbmRlcmluZyAvIHVwZGF0aW5nKSBTY2VuZXMuIElmIGEgU2NlbmUgaXMgbm90IGFjdGl2ZSBpdCBjYW5ub3QgYmUgbW92ZWQuXG52YXIgQnJpbmdUb1RvcD1mdW5jdGlvbiBCcmluZ1RvVG9wKHNjZW5lKXt2YXIgaW5kZXg9dHlwZW9mIHNjZW5lPT09J3N0cmluZyc/dGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4QnlLZXkoc2NlbmUpOnRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleChzY2VuZSk7aWYoaW5kZXg8dGhpcy5hY3RpdmUubGVuZ3RoKXt2YXIgaT0wO3ZhciBlbnRyeT10aGlzLmFjdGl2ZS5zcGxpY2UoaW5kZXgsMSk7Zm9yKGk9MDtpPHRoaXMuYWN0aXZlLmxlbmd0aDtpKyspe3RoaXMuYWN0aXZlW2ldLmluZGV4PWk7fXRoaXMuYWN0aXZlLnB1c2goe2luZGV4Omksc2NlbmU6ZW50cnlbMF0uc2NlbmV9KTt9fTttb2R1bGUuZXhwb3J0cz1CcmluZ1RvVG9wOy8qKiovfSwvKiA2OTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTb3J0U2NlbmVzPV9fd2VicGFja19yZXF1aXJlX18oNTcpO3ZhciBDcmVhdGU9ZnVuY3Rpb24gQ3JlYXRlKHNjZW5lKXsvLyBjb25zb2xlLmxvZygnY3JlYXRlJywgc2NlbmUuc3lzLnNldHRpbmdzLmtleSk7XG4vLyBjb25zb2xlLmxvZyhzY2VuZSk7XG4vLyAgSW5zZXJ0IGF0IHRoZSBjb3JyZWN0IGluZGV4LCBvciBpdCBqdXN0IGFsbCBnb2VzIHdyb25nIDopXG52YXIgaT10aGlzLmdldFNjZW5lSW5kZXgoc2NlbmUpOy8vIGNvbnNvbGUubG9nKCdjcmVhdGUuaW5kZXgnLCBzY2VuZS5zeXMuc2V0dGluZ3Mua2V5LCBpKTtcbnRoaXMuYWN0aXZlLnB1c2goe2luZGV4Omksc2NlbmU6c2NlbmV9KTsvLyAgU29ydCB0aGUgJ2FjdGl2ZScgYXJyYXkgYmFzZWQgb24gdGhlIGluZGV4IHByb3BlcnR5XG50aGlzLmFjdGl2ZS5zb3J0KFNvcnRTY2VuZXMpO2lmKHNjZW5lLmNyZWF0ZSl7c2NlbmUuY3JlYXRlLmNhbGwoc2NlbmUsc2NlbmUuc3lzLnNldHRpbmdzLmRhdGEpO319O21vZHVsZS5leHBvcnRzPUNyZWF0ZTsvKioqL30sLyogNjk3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2FudmFzUG9vbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKTt2YXIgQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0KTt2YXIgR2V0Q29udGV4dD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1OSk7dmFyIENhbnZhc0ludGVycG9sYXRpb249X193ZWJwYWNrX3JlcXVpcmVfXyg2NSk7dmFyIENyZWF0ZVNjZW5lRGlzcGxheT1mdW5jdGlvbiBDcmVhdGVTY2VuZURpc3BsYXkoc2NlbmUpey8vIGNvbnNvbGUubG9nKCdjcmVhdGVTY2VuZURpc3BsYXknLCBzY2VuZS5zeXMuc2V0dGluZ3Mua2V5KTtcbnZhciBzZXR0aW5ncz1zY2VuZS5zeXMuc2V0dGluZ3M7dmFyIHdpZHRoPXNldHRpbmdzLndpZHRoO3ZhciBoZWlnaHQ9c2V0dGluZ3MuaGVpZ2h0O3ZhciBjb25maWc9dGhpcy5nYW1lLmNvbmZpZztpZihjb25maWcucmVuZGVyVHlwZT09PUNPTlNULkNBTlZBUyl7aWYoc2V0dGluZ3MucmVuZGVyVG9UZXh0dXJlKXsvLyBjb25zb2xlLmxvZygncmVuZGVyVG9UZXh0dXJlJywgd2lkdGgsIGhlaWdodCk7XG5zY2VuZS5zeXMuY2FudmFzPUNhbnZhc1Bvb2wuY3JlYXRlKHNjZW5lLHdpZHRoLGhlaWdodCk7c2NlbmUuc3lzLmNvbnRleHQ9R2V0Q29udGV4dChzY2VuZS5zeXMuY2FudmFzKTt9ZWxzZXsvLyBjb25zb2xlLmxvZygndXNpbmcgZ2FtZSBjYW52YXMnKTtcbi8vIHNjZW5lLnN5cy5tYXNrID0gbmV3IFJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbnNjZW5lLnN5cy5jYW52YXM9dGhpcy5nYW1lLmNhbnZhcztzY2VuZS5zeXMuY29udGV4dD10aGlzLmdhbWUuY29udGV4dDt9Ly8gIFBpeGVsIEFydCBtb2RlP1xuaWYoY29uZmlnLnBpeGVsQXJ0KXtDYW52YXNJbnRlcnBvbGF0aW9uLnNldENyaXNwKHNjZW5lLnN5cy5jYW52YXMpO319fTttb2R1bGUuZXhwb3J0cz1DcmVhdGVTY2VuZURpc3BsYXk7LyoqKi99LC8qIDY5OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFNjZW5lPV9fd2VicGFja19yZXF1aXJlX18oNDQpO3ZhciBTeXN0ZW1zPV9fd2VicGFja19yZXF1aXJlX18oMTcwKTt2YXIgTk9PUD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KTt2YXIgQ3JlYXRlU2NlbmVGcm9tRnVuY3Rpb249ZnVuY3Rpb24gQ3JlYXRlU2NlbmVGcm9tRnVuY3Rpb24oa2V5LHNjZW5lKXsvLyBjb25zb2xlLmxvZygnY3JlYXRlU2NlbmVGcm9tRnVuY3Rpb24nLCBrZXkpO1xudmFyIG5ld1NjZW5lPW5ldyBzY2VuZSgpO2lmKG5ld1NjZW5lIGluc3RhbmNlb2YgU2NlbmUpey8vIGNvbnNvbGUubG9nKCdpbnN0YW5jZW9mIFNjZW5lJyk7XG52YXIgY29uZmlnS2V5PW5ld1NjZW5lLnN5cy5zZXR0aW5ncy5rZXk7aWYoY29uZmlnS2V5IT09Jycpe2tleT1jb25maWdLZXk7fWlmKHRoaXMua2V5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKXt0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgYSBTY2VuZSB3aXRoIGR1cGxpY2F0ZSBrZXk6ICcra2V5KTt9cmV0dXJuIHRoaXMuY3JlYXRlU2NlbmVGcm9tSW5zdGFuY2Uoa2V5LG5ld1NjZW5lKTt9ZWxzZXtuZXdTY2VuZS5zeXM9bmV3IFN5c3RlbXMobmV3U2NlbmUpO25ld1NjZW5lLnN5cy5zZXR0aW5ncy5rZXk9a2V5O25ld1NjZW5lLnN5cy5pbml0KHRoaXMuZ2FtZSk7dGhpcy5jcmVhdGVTY2VuZURpc3BsYXkobmV3U2NlbmUpOy8vICBEZWZhdWx0IHJlcXVpcmVkIGZ1bmN0aW9uc1xuaWYoIW5ld1NjZW5lLmluaXQpe25ld1NjZW5lLmluaXQ9Tk9PUDt9aWYoIW5ld1NjZW5lLnByZWxvYWQpe25ld1NjZW5lLnByZWxvYWQ9Tk9PUDt9aWYoIW5ld1NjZW5lLmNyZWF0ZSl7bmV3U2NlbmUuY3JlYXRlPU5PT1A7fWlmKCFuZXdTY2VuZS5zaHV0ZG93bil7bmV3U2NlbmUuc2h1dGRvd249Tk9PUDt9aWYoIW5ld1NjZW5lLnVwZGF0ZSl7bmV3U2NlbmUudXBkYXRlPU5PT1A7fWlmKCFuZXdTY2VuZS5yZW5kZXIpe25ld1NjZW5lLnJlbmRlcj1OT09QO31yZXR1cm4gbmV3U2NlbmU7fX07bW9kdWxlLmV4cG9ydHM9Q3JlYXRlU2NlbmVGcm9tRnVuY3Rpb247LyoqKi99LC8qIDY5OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDcmVhdGVTY2VuZUZyb21JbnN0YW5jZT1mdW5jdGlvbiBDcmVhdGVTY2VuZUZyb21JbnN0YW5jZShrZXksbmV3U2NlbmUpe3ZhciBjb25maWdLZXk9bmV3U2NlbmUuc3lzLnNldHRpbmdzLmtleTtpZihjb25maWdLZXkhPT0nJyl7a2V5PWNvbmZpZ0tleTt9ZWxzZXtuZXdTY2VuZS5zeXMuc2V0dGluZ3Mua2V5PWtleTt9bmV3U2NlbmUuc3lzLmluaXQodGhpcy5nYW1lKTt0aGlzLmNyZWF0ZVNjZW5lRGlzcGxheShuZXdTY2VuZSk7cmV0dXJuIG5ld1NjZW5lO307bW9kdWxlLmV4cG9ydHM9Q3JlYXRlU2NlbmVGcm9tSW5zdGFuY2U7LyoqKi99LC8qIDcwMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFNjZW5lPV9fd2VicGFja19yZXF1aXJlX18oNDQpO3ZhciBDcmVhdGVTY2VuZUZyb21PYmplY3Q9ZnVuY3Rpb24gQ3JlYXRlU2NlbmVGcm9tT2JqZWN0KGtleSxzY2VuZUNvbmZpZyl7dmFyIG5ld1NjZW5lPW5ldyBTY2VuZShzY2VuZUNvbmZpZyk7dmFyIGNvbmZpZ0tleT1uZXdTY2VuZS5zeXMuc2V0dGluZ3Mua2V5O2lmKGNvbmZpZ0tleSE9PScnKXtrZXk9Y29uZmlnS2V5O31lbHNle25ld1NjZW5lLnN5cy5zZXR0aW5ncy5rZXk9a2V5O31uZXdTY2VuZS5zeXMuaW5pdCh0aGlzLmdhbWUpO3RoaXMuY3JlYXRlU2NlbmVEaXNwbGF5KG5ld1NjZW5lKTtyZXR1cm4gdGhpcy5zZXR1cENhbGxiYWNrcyhuZXdTY2VuZSxzY2VuZUNvbmZpZyk7fTttb2R1bGUuZXhwb3J0cz1DcmVhdGVTY2VuZUZyb21PYmplY3Q7LyoqKi99LC8qIDcwMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBHZXRBY3RpdmVTY2VuZT1mdW5jdGlvbiBHZXRBY3RpdmVTY2VuZShrZXkpe3ZhciBzY2VuZT10aGlzLmdldFNjZW5lKGtleSk7Zm9yKHZhciBpPTA7aTx0aGlzLmFjdGl2ZS5sZW5ndGg7aSsrKXtpZih0aGlzLmFjdGl2ZVtpXS5zY2VuZT09PXNjZW5lKXtyZXR1cm4gdGhpcy5hY3RpdmVbaV07fX19O21vZHVsZS5leHBvcnRzPUdldEFjdGl2ZVNjZW5lOy8qKiovfSwvKiA3MDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0QWN0aXZlU2NlbmVJbmRleD1mdW5jdGlvbiBHZXRBY3RpdmVTY2VuZUluZGV4KHNjZW5lKXtmb3IodmFyIGk9MDtpPHRoaXMuYWN0aXZlLmxlbmd0aDtpKyspe2lmKHRoaXMuYWN0aXZlW2ldLnNjZW5lPT09c2NlbmUpe3JldHVybiB0aGlzLmFjdGl2ZVtpXS5pbmRleDt9fXJldHVybi0xO307bW9kdWxlLmV4cG9ydHM9R2V0QWN0aXZlU2NlbmVJbmRleDsvKioqL30sLyogNzAzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldEFjdGl2ZVNjZW5lSW5kZXhCeUtleT1mdW5jdGlvbiBHZXRBY3RpdmVTY2VuZUluZGV4QnlLZXkoa2V5KXt2YXIgc2NlbmU9dGhpcy5rZXlzW2tleV07Zm9yKHZhciBpPTA7aTx0aGlzLmFjdGl2ZS5sZW5ndGg7aSsrKXtpZih0aGlzLmFjdGl2ZVtpXS5zY2VuZT09PXNjZW5lKXtyZXR1cm4gdGhpcy5hY3RpdmVbaV0uaW5kZXg7fX1yZXR1cm4tMTt9O21vZHVsZS5leHBvcnRzPUdldEFjdGl2ZVNjZW5lSW5kZXhCeUtleTsvKioqL30sLyogNzA0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgU2NlbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg0NCk7Ly8gIHByaXZhdGVcbnZhciBHZXRLZXk9ZnVuY3Rpb24gR2V0S2V5KGtleSxzY2VuZUNvbmZpZyl7aWYoIWtleSl7a2V5PSdkZWZhdWx0Jzt9aWYodHlwZW9mIHNjZW5lQ29uZmlnPT09J2Z1bmN0aW9uJyl7cmV0dXJuIGtleTt9ZWxzZSBpZihzY2VuZUNvbmZpZyBpbnN0YW5jZW9mIFNjZW5lKXtrZXk9c2NlbmVDb25maWcuc3lzLnNldHRpbmdzLmtleTt9ZWxzZSBpZigodHlwZW9mIHNjZW5lQ29uZmlnPT09J3VuZGVmaW5lZCc/J3VuZGVmaW5lZCc6X3R5cGVvZihzY2VuZUNvbmZpZykpPT09J29iamVjdCcmJnNjZW5lQ29uZmlnLmhhc093blByb3BlcnR5KCdrZXknKSl7a2V5PXNjZW5lQ29uZmlnLmtleTt9Ly8gIEJ5IHRoaXMgcG9pbnQgaXQncyBlaXRoZXIgJ2RlZmF1bHQnIG9yIGV4dHJhY3RlZCBmcm9tIHRoZSBTY2VuZVxuaWYodGhpcy5rZXlzLmhhc093blByb3BlcnR5KGtleSkpe3Rocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBhIFNjZW5lIHdpdGggZHVwbGljYXRlIGtleTogJytrZXkpO31lbHNle3JldHVybiBrZXk7fX07bW9kdWxlLmV4cG9ydHM9R2V0S2V5Oy8qKiovfSwvKiA3MDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0U2NlbmU9ZnVuY3Rpb24gR2V0U2NlbmUoa2V5KXtyZXR1cm4gdGhpcy5rZXlzW2tleV07fTttb2R1bGUuZXhwb3J0cz1HZXRTY2VuZTsvKioqL30sLyogNzA2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIEdldCdzIHRoZSBBY3RpdmUgc2NlbmUgYXQgdGhlIGdpdmVuIHBvc2l0aW9uXG52YXIgR2V0U2NlbmVBdD1mdW5jdGlvbiBHZXRTY2VuZUF0KGluZGV4KXtpZih0aGlzLmFjdGl2ZVtpbmRleF0pe3JldHVybiB0aGlzLmFjdGl2ZVtpbmRleF0uc2NlbmU7fX07bW9kdWxlLmV4cG9ydHM9R2V0U2NlbmVBdDsvKioqL30sLyogNzA3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldFNjZW5lSW5kZXg9ZnVuY3Rpb24gR2V0U2NlbmVJbmRleChzY2VuZSl7cmV0dXJuIHRoaXMuc2NlbmVzLmluZGV4T2Yoc2NlbmUpO307bW9kdWxlLmV4cG9ydHM9R2V0U2NlbmVJbmRleDsvKioqL30sLyogNzA4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEdldFNjZW5lSW5kZXhCeUtleT1mdW5jdGlvbiBHZXRTY2VuZUluZGV4QnlLZXkoa2V5KXt2YXIgc2NlbmU9dGhpcy5rZXlzW2tleV07cmV0dXJuIHRoaXMuc2NlbmVzLmluZGV4T2Yoc2NlbmUpO307bW9kdWxlLmV4cG9ydHM9R2V0U2NlbmVJbmRleEJ5S2V5Oy8qKiovfSwvKiA3MDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgSXNBY3RpdmU9ZnVuY3Rpb24gSXNBY3RpdmUoa2V5KXt2YXIgc2NlbmU9dGhpcy5nZXRBY3RpdmVTY2VuZShrZXkpO3JldHVybiBzY2VuZSYmc2NlbmUuc3lzLnNldHRpbmdzLmFjdGl2ZTt9O21vZHVsZS5leHBvcnRzPUlzQWN0aXZlOy8qKiovfSwvKiA3MTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgSXNTbGVlcGluZz1mdW5jdGlvbiBJc1NsZWVwaW5nKGtleSl7dmFyIGVudHJ5PXRoaXMuZ2V0QWN0aXZlU2NlbmUoa2V5KTtpZihlbnRyeSl7cmV0dXJuIWVudHJ5LnNjZW5lLnN5cy5zZXR0aW5ncy5hY3RpdmUmJiFlbnRyeS5zY2VuZS5zeXMuc2V0dGluZ3MudmlzaWJsZTt9cmV0dXJuIGZhbHNlO307bW9kdWxlLmV4cG9ydHM9SXNTbGVlcGluZzsvKioqL30sLyogNzExICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIExvYWRDb21wbGV0ZT1mdW5jdGlvbiBMb2FkQ29tcGxldGUoZXZlbnQpe3ZhciBzY2VuZT1ldmVudC5sb2FkZXIuc2NlbmU7Ly8gY29uc29sZS5sb2coJ2xvYWRDb21wbGV0ZScsIHNjZW5lLnN5cy5zZXR0aW5ncy5rZXkpO1xudGhpcy5jcmVhdGUoc2NlbmUpO307bW9kdWxlLmV4cG9ydHM9TG9hZENvbXBsZXRlOy8qKiovfSwvKiA3MTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSWYgdGhlIGFyZ3VtZW50cyBhcmUgc3RyaW5ncyB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlIGtleXMsIG90aGVyd2lzZSB0aGV5IGFyZSBTY2VuZSBvYmplY3RzXG4vLyAgWW91IGNhbiBvbmx5IHN3YXAgdGhlIHBvc2l0aW9ucyBvZiBBY3RpdmUgKHJlbmRlcmluZyAvIHVwZGF0aW5nKSBTY2VuZXMuIElmIGEgU2NlbmUgaXMgbm90IGFjdGl2ZSBpdCBjYW5ub3QgYmUgbW92ZWQuXG52YXIgTW92ZURvd249ZnVuY3Rpb24gTW92ZURvd24oc2NlbmUpe3ZhciBpbmRleD10eXBlb2Ygc2NlbmU9PT0nc3RyaW5nJz90aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXhCeUtleShzY2VuZSk6dGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4KHNjZW5lKTtpZihpbmRleD4wKXt2YXIgc2NlbmVCPXRoaXMuZ2V0U2NlbmVBdChpbmRleC0xKTtpZihzY2VuZUIpe3RoaXMuc3dhcFBvc2l0aW9uKHNjZW5lLHNjZW5lQik7fX19O21vZHVsZS5leHBvcnRzPU1vdmVEb3duOy8qKiovfSwvKiA3MTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSWYgdGhlIGFyZ3VtZW50cyBhcmUgc3RyaW5ncyB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlIGtleXMsIG90aGVyd2lzZSB0aGV5IGFyZSBTY2VuZSBvYmplY3RzXG4vLyAgWW91IGNhbiBvbmx5IHN3YXAgdGhlIHBvc2l0aW9ucyBvZiBBY3RpdmUgKHJlbmRlcmluZyAvIHVwZGF0aW5nKSBTY2VuZXMuIElmIGEgU2NlbmUgaXMgbm90IGFjdGl2ZSBpdCBjYW5ub3QgYmUgbW92ZWQuXG52YXIgTW92ZVVwPWZ1bmN0aW9uIE1vdmVVcChzY2VuZSl7dmFyIGluZGV4PXR5cGVvZiBzY2VuZT09PSdzdHJpbmcnP3RoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleEJ5S2V5KHNjZW5lKTp0aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXgoc2NlbmUpO2lmKGluZGV4IT09LTEmJmluZGV4PHRoaXMuYWN0aXZlLmxlbmd0aC0xKXt2YXIgc2NlbmVCPXRoaXMuZ2V0U2NlbmVBdChpbmRleCsxKTtpZihzY2VuZUIpe3RoaXMuc3dhcFBvc2l0aW9uKHNjZW5lLHNjZW5lQik7fX19O21vZHVsZS5leHBvcnRzPU1vdmVVcDsvKioqL30sLyogNzE0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFBhdXNlPWZ1bmN0aW9uIFBhdXNlKGtleSl7dmFyIGVudHJ5PXRoaXMuZ2V0QWN0aXZlU2NlbmUoa2V5KTtpZihlbnRyeSl7ZW50cnkuc2NlbmUuc3lzLnBhdXNlKCk7fX07bW9kdWxlLmV4cG9ydHM9UGF1c2U7LyoqKi99LC8qIDcxNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQYXlsb2FkQ29tcGxldGU9ZnVuY3Rpb24gUGF5bG9hZENvbXBsZXRlKGV2ZW50KXt2YXIgc2NlbmU9ZXZlbnQubG9hZGVyLnNjZW5lOy8vIGNvbnNvbGUubG9nKCdwYXlsb2FkQ29tcGxldGUnLCBzY2VuZS5zeXMuc2V0dGluZ3Mua2V5KTtcbnRoaXMuYm9vdFNjZW5lKHNjZW5lKTt9O21vZHVsZS5leHBvcnRzPVBheWxvYWRDb21wbGV0ZTsvKioqL30sLyogNzE2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFJlc3VtZT1mdW5jdGlvbiBSZXN1bWUoa2V5KXt2YXIgZW50cnk9dGhpcy5nZXRBY3RpdmVTY2VuZShrZXkpO2lmKGVudHJ5KXtlbnRyeS5zY2VuZS5zeXMucmVzdW1lKCk7fX07bW9kdWxlLmV4cG9ydHM9UmVzdW1lOy8qKiovfSwvKiA3MTcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSWYgdGhlIGFyZ3VtZW50cyBhcmUgc3RyaW5ncyB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlIGtleXMsIG90aGVyd2lzZSB0aGV5IGFyZSBTY2VuZSBvYmplY3RzXG4vLyAgWW91IGNhbiBvbmx5IHN3YXAgdGhlIHBvc2l0aW9ucyBvZiBBY3RpdmUgKHJlbmRlcmluZyAvIHVwZGF0aW5nKSBTY2VuZXMuIElmIGEgU2NlbmUgaXMgbm90IGFjdGl2ZSBpdCBjYW5ub3QgYmUgbW92ZWQuXG52YXIgU2VuZFRvQmFjaz1mdW5jdGlvbiBTZW5kVG9CYWNrKHNjZW5lKXt2YXIgaW5kZXg9dHlwZW9mIHNjZW5lPT09J3N0cmluZyc/dGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4QnlLZXkoc2NlbmUpOnRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleChzY2VuZSk7aWYoaW5kZXg+MCl7dmFyIGVudHJ5PXRoaXMuYWN0aXZlLnNwbGljZShpbmRleCwxKTt0aGlzLmFjdGl2ZS51bnNoaWZ0KHtpbmRleDowLHNjZW5lOmVudHJ5WzBdLnNjZW5lfSk7Zm9yKHZhciBpPTA7aTx0aGlzLmFjdGl2ZS5sZW5ndGg7aSsrKXt0aGlzLmFjdGl2ZVtpXS5pbmRleD1pO319fTttb2R1bGUuZXhwb3J0cz1TZW5kVG9CYWNrOy8qKiovfSwvKiA3MTggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBOT09QPV9fd2VicGFja19yZXF1aXJlX18oMjgpO3ZhciBTZXR1cENhbGxiYWNrcz1mdW5jdGlvbiBTZXR1cENhbGxiYWNrcyhzY2VuZSxzY2VuZUNvbmZpZyl7aWYoc2NlbmVDb25maWc9PT11bmRlZmluZWQpe3NjZW5lQ29uZmlnPXNjZW5lO30vLyAgRXh0cmFjdCBjYWxsYmFja3Mgb3Igc2V0IE5PT1BcbnNjZW5lLmluaXQ9R2V0VmFsdWUoc2NlbmVDb25maWcsJ2luaXQnLE5PT1ApO3NjZW5lLnByZWxvYWQ9R2V0VmFsdWUoc2NlbmVDb25maWcsJ3ByZWxvYWQnLE5PT1ApO3NjZW5lLmNyZWF0ZT1HZXRWYWx1ZShzY2VuZUNvbmZpZywnY3JlYXRlJyxOT09QKTtzY2VuZS5zaHV0ZG93bj1HZXRWYWx1ZShzY2VuZUNvbmZpZywnc2h1dGRvd24nLE5PT1ApOy8vICBHYW1lIExvb3AgbGV2ZWwgY2FsbGJhY2tzXG5zY2VuZS51cGRhdGU9R2V0VmFsdWUoc2NlbmVDb25maWcsJ3VwZGF0ZScsTk9PUCk7c2NlbmUucmVuZGVyPUdldFZhbHVlKHNjZW5lQ29uZmlnLCdyZW5kZXInLE5PT1ApO3JldHVybiBzY2VuZTt9O21vZHVsZS5leHBvcnRzPVNldHVwQ2FsbGJhY2tzOy8qKiovfSwvKiA3MTkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2xlZXA9ZnVuY3Rpb24gU2xlZXAoa2V5KXt2YXIgZW50cnk9dGhpcy5nZXRBY3RpdmVTY2VuZShrZXkpO2lmKGVudHJ5KXtlbnRyeS5zY2VuZS5zeXMuc2xlZXAoKTt9fTttb2R1bGUuZXhwb3J0cz1TbGVlcDsvKioqL30sLyogNzIwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN0YXJ0PWZ1bmN0aW9uIFN0YXJ0KGtleSxkYXRhKXtpZihkYXRhPT09dW5kZWZpbmVkKXtkYXRhPXt9O30vLyBjb25zb2xlLmxvZygnc3RhcnQ6Jywga2V5KTtcbi8vIGNvbnNvbGUuZGlyKGRhdGEpO1xuLy8gIGlmIG5vdCBib290ZWQsIHRoZW4gcHV0IHNjZW5lIGludG8gYSBob2xkaW5nIHBhdHRlcm5cbmlmKCF0aGlzLmdhbWUuaXNCb290ZWQpey8vIGNvbnNvbGUubG9nKCdHbG9iYWxTY2VuZU1hbmFnZXIgbm90IHlldCBib290ZWQsIHNldHRpbmcgYXV0b1N0YXJ0IG9uIHBlbmRpbmcgbGlzdCcpO1xuZm9yKHZhciBpPTA7aTx0aGlzLl9wZW5kaW5nLmxlbmd0aDtpKyspe3ZhciBlbnRyeT10aGlzLl9wZW5kaW5nW2ldO2lmKGVudHJ5LmtleT09PWtleSl7ZW50cnkuYXV0b1N0YXJ0PXRydWU7ZW50cnkuZGF0YT1kYXRhO319cmV0dXJuO312YXIgc2NlbmU9dGhpcy5nZXRTY2VuZShrZXkpOy8vIGNvbnNvbGUubG9nKHNjZW5lKTtcbmlmKHNjZW5lKXsvLyAgQWxyZWFkeSBzdGFydGVkPyBOb3RoaW5nIG1vcmUgdG8gZG8gaGVyZSAuLi5cbmlmKHRoaXMuaXNBY3RpdmUoa2V5KSl7cmV0dXJuO31zY2VuZS5zeXMuc3RhcnQoZGF0YSk7dmFyIGxvYWRlcj1zY2VuZS5zeXMubG9hZDsvLyAgRmlsZXMgcGF5bG9hZD9cbmlmKGxvYWRlciYmQXJyYXkuaXNBcnJheShzY2VuZS5zeXMuc2V0dGluZ3MuZmlsZXMpKXtsb2FkZXIucmVzZXQoKTtpZihsb2FkZXIubG9hZEFycmF5KHNjZW5lLnN5cy5zZXR0aW5ncy5maWxlcykpe2xvYWRlci5ldmVudHMub25jZSgnTE9BREVSX0NPTVBMRVRFX0VWRU5UJyx0aGlzLnBheWxvYWRDb21wbGV0ZS5iaW5kKHRoaXMpKTtsb2FkZXIuc3RhcnQoKTt9ZWxzZXt0aGlzLmJvb3RTY2VuZShzY2VuZSk7fX1lbHNle3RoaXMuYm9vdFNjZW5lKHNjZW5lKTt9fX07bW9kdWxlLmV4cG9ydHM9U3RhcnQ7LyoqKi99LC8qIDcyMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFNvcnRTY2VuZXM9X193ZWJwYWNrX3JlcXVpcmVfXyg1Nyk7dmFyIFN0b3A9ZnVuY3Rpb24gU3RvcChrZXkpe3ZhciBlbnRyeT10aGlzLmdldEFjdGl2ZVNjZW5lKGtleSk7aWYoZW50cnkpe2VudHJ5LnNjZW5lLnN5cy5zaHV0ZG93bigpOy8vICBSZW1vdmUgZnJvbSB0aGUgYWN0aXZlIGxpc3RcbnZhciBpbmRleD10aGlzLmFjdGl2ZS5pbmRleE9mKGVudHJ5KTtpZihpbmRleCE9PS0xKXt0aGlzLmFjdGl2ZS5zcGxpY2UoaW5kZXgsMSk7dGhpcy5hY3RpdmUuc29ydChTb3J0U2NlbmVzKTt9fX07bW9kdWxlLmV4cG9ydHM9U3RvcDsvKioqL30sLyogNzIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN3YXA9ZnVuY3Rpb24gU3dhcChmcm9tLHRvKXt0aGlzLnNsZWVwKGZyb20pO2lmKHRoaXMuaXNTbGVlcGluZyh0bykpe3RoaXMud2FrZSh0byk7fWVsc2V7dGhpcy5zdGFydCh0byk7fX07bW9kdWxlLmV4cG9ydHM9U3dhcDsvKioqL30sLyogNzIzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgU29ydFNjZW5lcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KTsvLyAgSWYgdGhlIGFyZ3VtZW50cyBhcmUgc3RyaW5ncyB0aGV5IGFyZSBhc3N1bWVkIHRvIGJlIGtleXMsIG90aGVyd2lzZSB0aGV5IGFyZSBTY2VuZSBvYmplY3RzXG4vLyAgWW91IGNhbiBvbmx5IHN3YXAgdGhlIHBvc2l0aW9ucyBvZiBBY3RpdmUgKHJlbmRlcmluZyAvIHVwZGF0aW5nKSBTY2VuZXMuIElmIGEgU2NlbmUgaXMgbm90IGFjdGl2ZSBpdCBjYW5ub3QgYmUgbW92ZWQuXG52YXIgU3dhcFBvc2l0aW9uPWZ1bmN0aW9uIFN3YXBQb3NpdGlvbihzY2VuZTEsc2NlbmUyKXtpZihzY2VuZTE9PT1zY2VuZTIpe3JldHVybjt9dmFyIGluZGV4MT10eXBlb2Ygc2NlbmUxPT09J3N0cmluZyc/dGhpcy5nZXRBY3RpdmVTY2VuZUluZGV4QnlLZXkoc2NlbmUxKTp0aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXgoc2NlbmUxKTt2YXIgaW5kZXgyPXR5cGVvZiBzY2VuZTI9PT0nc3RyaW5nJz90aGlzLmdldEFjdGl2ZVNjZW5lSW5kZXhCeUtleShzY2VuZTIpOnRoaXMuZ2V0QWN0aXZlU2NlbmVJbmRleChzY2VuZTIpO2lmKGluZGV4MSE9PS0xJiZpbmRleDIhPT0tMSl7dGhpcy5hY3RpdmVbaW5kZXgxXS5pbmRleD1pbmRleDI7dGhpcy5hY3RpdmVbaW5kZXgyXS5pbmRleD1pbmRleDE7dGhpcy5hY3RpdmUuc29ydChTb3J0U2NlbmVzKTt9fTttb2R1bGUuZXhwb3J0cz1Td2FwUG9zaXRpb247LyoqKi99LC8qIDcyNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBXYWtlPWZ1bmN0aW9uIFdha2Uoa2V5KXt2YXIgZW50cnk9dGhpcy5nZXRBY3RpdmVTY2VuZShrZXkpO2lmKGVudHJ5KXtlbnRyeS5zY2VuZS5zeXMud2FrZSgpO319O21vZHVsZS5leHBvcnRzPVdha2U7LyoqKi99LC8qIDcyNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENhbnZhc1Bvb2w9X193ZWJwYWNrX3JlcXVpcmVfXygxMSk7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENvbG9yPV9fd2VicGFja19yZXF1aXJlX18oMjkpO3ZhciBHZW5lcmF0ZVRleHR1cmU9X193ZWJwYWNrX3JlcXVpcmVfXygxMjQpO3ZhciBHZXRWYWx1ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO3ZhciBQYXJzZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3MjYpO3ZhciBUZXh0dXJlPV9fd2VicGFja19yZXF1aXJlX18oNzM1KTsvKipcbiogVGV4dHVyZXMgYXJlIG1hbmFnZWQgYnkgdGhlIGdsb2JhbCBUZXh0dXJlTWFuYWdlci4gVGhpcyBpcyBhIHNpbmdsZXRvbiBjbGFzcyB0aGF0IGlzXG4qIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyBhbmQgZGVsaXZlcmluZyBUZXh0dXJlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBGcmFtZXMgdG8gR2FtZSBPYmplY3RzLlxuKlxuKiBTcHJpdGVzIGFuZCBvdGhlciBHYW1lIE9iamVjdHMgZ2V0IHRoZSB0ZXh0dXJlIGRhdGEgdGhleSBuZWVkIGZyb20gdGhlIFRleHR1cmVNYW5hZ2VyLlxuKlxuKiBBY2Nlc3MgaXQgdmlhIGBzY2VuZS50ZXh0dXJlc2AuXG4qL3ZhciBUZXh0dXJlTWFuYWdlcj1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gVGV4dHVyZU1hbmFnZXIoZ2FtZSl7dGhpcy5nYW1lPWdhbWU7dGhpcy5saXN0PXt9O3RoaXMuX3RlbXBDYW52YXM9Q2FudmFzUG9vbC5jcmVhdGUyRCh0aGlzLDEsMSk7dGhpcy5fdGVtcENvbnRleHQ9dGhpcy5fdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO3RoaXMuYWRkQmFzZTY0KCdfX0RFRkFVTFQnLGdhbWUuY29uZmlnLmRlZmF1bHRJbWFnZSk7dGhpcy5hZGRCYXNlNjQoJ19fTUlTU0lORycsZ2FtZS5jb25maWcubWlzc2luZ0ltYWdlKTt9LGFkZEJhc2U2NDpmdW5jdGlvbiBhZGRCYXNlNjQoa2V5LGRhdGEpe3ZhciBfdGhpcz10aGlzO3ZhciBpbWFnZT1uZXcgSW1hZ2UoKTtpbWFnZS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdGV4dHVyZT1fdGhpcy5jcmVhdGUoa2V5LGltYWdlKTtQYXJzZXIuSW1hZ2UodGV4dHVyZSwwKTt9O2ltYWdlLnNyYz1kYXRhO30sYWRkSW1hZ2U6ZnVuY3Rpb24gYWRkSW1hZ2Uoa2V5LHNvdXJjZSl7dmFyIHRleHR1cmU9dGhpcy5jcmVhdGUoa2V5LHNvdXJjZSk7UGFyc2VyLkltYWdlKHRleHR1cmUsMCk7cmV0dXJuIHRleHR1cmU7fSxnZW5lcmF0ZTpmdW5jdGlvbiBnZW5lcmF0ZShrZXksY29uZmlnKXt2YXIgY2FudmFzPUNhbnZhc1Bvb2wuY3JlYXRlKHRoaXMsMSwxKTtjb25maWcuY2FudmFzPWNhbnZhcztHZW5lcmF0ZVRleHR1cmUoY29uZmlnKTtyZXR1cm4gdGhpcy5hZGRDYW52YXMoa2V5LGNhbnZhcyk7fSxjcmVhdGVDYW52YXM6ZnVuY3Rpb24gY3JlYXRlQ2FudmFzKGtleSx3aWR0aCxoZWlnaHQpe2lmKHdpZHRoPT09dW5kZWZpbmVkKXt3aWR0aD0yNTY7fWlmKGhlaWdodD09PXVuZGVmaW5lZCl7aGVpZ2h0PTI1Njt9dmFyIGNhbnZhcz1DYW52YXNQb29sLmNyZWF0ZSh0aGlzLHdpZHRoLGhlaWdodCk7cmV0dXJuIHRoaXMuYWRkQ2FudmFzKGtleSxjYW52YXMpO30sYWRkQ2FudmFzOmZ1bmN0aW9uIGFkZENhbnZhcyhrZXksc291cmNlKXt2YXIgdGV4dHVyZT10aGlzLmNyZWF0ZShrZXksc291cmNlKTtQYXJzZXIuQ2FudmFzKHRleHR1cmUsMCk7cmV0dXJuIHRleHR1cmU7fSxhZGRBdGxhczpmdW5jdGlvbiBhZGRBdGxhcyhrZXksc291cmNlLGRhdGEpey8vICBJcyBpdCBhIEhhc2ggb3IgYW4gQXJyYXk/XG5pZihBcnJheS5pc0FycmF5KGRhdGEuZnJhbWVzKSl7cmV0dXJuIHRoaXMuYWRkQXRsYXNKU09OQXJyYXkoa2V5LHNvdXJjZSxkYXRhKTt9ZWxzZXtyZXR1cm4gdGhpcy5hZGRBdGxhc0pTT05IYXNoKGtleSxzb3VyY2UsZGF0YSk7fX0sYWRkQXRsYXNKU09OQXJyYXk6ZnVuY3Rpb24gYWRkQXRsYXNKU09OQXJyYXkoa2V5LHNvdXJjZSxkYXRhKXt2YXIgdGV4dHVyZT10aGlzLmNyZWF0ZShrZXksc291cmNlKTtpZihBcnJheS5pc0FycmF5KGRhdGEpKXtmb3IodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7UGFyc2VyLkpTT05BcnJheSh0ZXh0dXJlLGksZGF0YVtpXSk7fX1lbHNle1BhcnNlci5KU09OQXJyYXkodGV4dHVyZSwwLGRhdGEpO31yZXR1cm4gdGV4dHVyZTt9LGFkZEF0bGFzSlNPTkhhc2g6ZnVuY3Rpb24gYWRkQXRsYXNKU09OSGFzaChrZXksc291cmNlLGRhdGEpe3ZhciB0ZXh0dXJlPXRoaXMuY3JlYXRlKGtleSxzb3VyY2UpO2lmKEFycmF5LmlzQXJyYXkoZGF0YSkpe2Zvcih2YXIgaT0wO2k8ZGF0YS5sZW5ndGg7aSsrKXtQYXJzZXIuSlNPTkhhc2godGV4dHVyZSxpLGRhdGFbaV0pO319ZWxzZXtQYXJzZXIuSlNPTkhhc2godGV4dHVyZSwwLGRhdGEpO31yZXR1cm4gdGV4dHVyZTt9LC8qKlxuICAgICAqIFthZGRTcHJpdGVTaGVldCBkZXNjcmlwdGlvbl1cbiAgICAgKiBAcGFyYW0ge1t0eXBlXX0ga2V5ICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgKiBAcGFyYW0ge1t0eXBlXX0gc291cmNlIFtkZXNjcmlwdGlvbl1cbiAgICAgKiBAcGFyYW0ge1t0eXBlXX0gY29uZmlnIFtkZXNjcmlwdGlvbl1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29uZmlnLmZyYW1lV2lkdGggLSBUaGUgZml4ZWQgd2lkdGggb2YgZWFjaCBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5mcmFtZUhlaWdodF0gLSBUaGUgZml4ZWQgaGVpZ2h0IG9mIGVhY2ggZnJhbWUuIElmIG5vdCBzZXQgaXQgd2lsbCB1c2UgdGhlIGZyYW1lV2lkdGggYXMgdGhlIGhlaWdodC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5zdGFydEZyYW1lPTBdIC0gU2tpcCBhIG51bWJlciBvZiBmcmFtZXMuIFVzZWZ1bCB3aGVuIHRoZXJlIGFyZSBtdWx0aXBsZSBzcHJpdGUgc2hlZXRzIGluIG9uZSBUZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLmVuZEZyYW1lPS0xXSAtIFRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIHRvIGV4dHJhY3QgZnJvbSB0aGUgU3ByaXRlIFNoZWV0LiBUaGUgZGVmYXVsdCB2YWx1ZSBvZiAtMSBtZWFucyBcImV4dHJhY3QgYWxsIGZyYW1lc1wiLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1hcmdpbj0wXSAtIElmIHRoZSBmcmFtZXMgaGF2ZSBiZWVuIGRyYXduIHdpdGggYSBtYXJnaW4sIHNwZWNpZnkgdGhlIGFtb3VudCBoZXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLnNwYWNpbmc9MF0gLSBJZiB0aGUgZnJhbWVzIGhhdmUgYmVlbiBkcmF3biB3aXRoIHNwYWNpbmcgYmV0d2VlbiB0aGVtLCBzcGVjaWZ5IHRoZSBhbW91bnQgaGVyZS5cbiAgICAgKi9hZGRTcHJpdGVTaGVldDpmdW5jdGlvbiBhZGRTcHJpdGVTaGVldChrZXksc291cmNlLGNvbmZpZyl7dmFyIHRleHR1cmU9dGhpcy5jcmVhdGUoa2V5LHNvdXJjZSk7dmFyIHdpZHRoPXRleHR1cmUuc291cmNlWzBdLndpZHRoO3ZhciBoZWlnaHQ9dGV4dHVyZS5zb3VyY2VbMF0uaGVpZ2h0O1BhcnNlci5TcHJpdGVTaGVldCh0ZXh0dXJlLDAsMCwwLHdpZHRoLGhlaWdodCxjb25maWcpO3JldHVybiB0ZXh0dXJlO30sYWRkU3ByaXRlU2hlZXRGcm9tQXRsYXM6ZnVuY3Rpb24gYWRkU3ByaXRlU2hlZXRGcm9tQXRsYXMoa2V5LGNvbmZpZyl7dmFyIGF0bGFzS2V5PUdldFZhbHVlKGNvbmZpZywnYXRsYXMnLG51bGwpO3ZhciBhdGxhc0ZyYW1lPUdldFZhbHVlKGNvbmZpZywnZnJhbWUnLG51bGwpO2lmKCFhdGxhc0tleXx8IWF0bGFzRnJhbWUpe3JldHVybjt9dmFyIGF0bGFzPXRoaXMuZ2V0KGF0bGFzS2V5KTt2YXIgc2hlZXQ9YXRsYXMuZ2V0KGF0bGFzRnJhbWUpO2lmKHNoZWV0KXt2YXIgdGV4dHVyZT10aGlzLmNyZWF0ZShrZXksc2hlZXQuc291cmNlLmltYWdlKTsvLyB7XG4vLyAgICAgXCJmaWxlbmFtZVwiOiBcImV4cGxvc2lvblwiLFxuLy8gICAgIFwiZnJhbWVcIjoge1wieFwiOjIsXCJ5XCI6MixcIndcIjozMTksXCJoXCI6MzEyfSwgPSBjdXRYLCBZLCBXLCBIXG4vLyAgICAgXCJyb3RhdGVkXCI6IGZhbHNlLFxuLy8gICAgIFwidHJpbW1lZFwiOiB0cnVlLFxuLy8gICAgIFwic3ByaXRlU291cmNlU2l6ZVwiOiB7XCJ4XCI6MSxcInlcIjo2LFwid1wiOjMxOSxcImhcIjozMTJ9LFxuLy8gICAgIFwic291cmNlU2l6ZVwiOiB7XCJ3XCI6MzIwLFwiaFwiOjMyMH0sXG4vLyAgICAgXCJwaXZvdFwiOiB7XCJ4XCI6MC41LFwieVwiOjAuNX1cbi8vIH0sXG4vLyAgSWYgdHJpbW1lZCB3ZSBuZWVkIHRvIGhlbHAgdGhlIHBhcnNlciBhZGp1c3RcbmNvbnNvbGUubG9nKHNoZWV0KTtpZihzaGVldC50cmltbWVkKXtQYXJzZXIuU3ByaXRlU2hlZXRGcm9tQXRsYXModGV4dHVyZSxzaGVldCxjb25maWcpO31lbHNle1BhcnNlci5TcHJpdGVTaGVldCh0ZXh0dXJlLDAsc2hlZXQuY3V0WCxzaGVldC5jdXRZLHNoZWV0LmN1dFdpZHRoLHNoZWV0LmN1dEhlaWdodCxjb25maWcpO31yZXR1cm4gdGV4dHVyZTt9fSxhZGRBdGxhc1N0YXJsaW5nWE1MOmZ1bmN0aW9uIGFkZEF0bGFzU3RhcmxpbmdYTUwoa2V5LHNvdXJjZSxkYXRhKXt2YXIgdGV4dHVyZT10aGlzLmNyZWF0ZShrZXksc291cmNlKTtpZihBcnJheS5pc0FycmF5KGRhdGEpKXtmb3IodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7UGFyc2VyLlN0YXJsaW5nWE1MKHRleHR1cmUsaSxkYXRhW2ldKTt9fWVsc2V7UGFyc2VyLlN0YXJsaW5nWE1MKHRleHR1cmUsMCxkYXRhKTt9cmV0dXJuIHRleHR1cmU7fSxhZGRBdGxhc1B5eGVsOmZ1bmN0aW9uIGFkZEF0bGFzUHl4ZWwoa2V5LHNvdXJjZSxkYXRhKXt2YXIgdGV4dHVyZT10aGlzLmNyZWF0ZShrZXksc291cmNlKTtpZihBcnJheS5pc0FycmF5KGRhdGEpKXtmb3IodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7UGFyc2VyLlB5eGVsKHRleHR1cmUsaSxkYXRhW2ldKTt9fWVsc2V7UGFyc2VyLlB5eGVsKHRleHR1cmUsMCxkYXRhKTt9cmV0dXJuIHRleHR1cmU7fSxjcmVhdGU6ZnVuY3Rpb24gY3JlYXRlKGtleSxzb3VyY2Usd2lkdGgsaGVpZ2h0KXt2YXIgdGV4dHVyZT1uZXcgVGV4dHVyZSh0aGlzLGtleSxzb3VyY2Usd2lkdGgsaGVpZ2h0KTt0aGlzLmxpc3Rba2V5XT10ZXh0dXJlO3JldHVybiB0ZXh0dXJlO30sZXhpc3RzOmZ1bmN0aW9uIGV4aXN0cyhrZXkpe3JldHVybiB0aGlzLmxpc3QuaGFzT3duUHJvcGVydHkoa2V5KTt9LGdldDpmdW5jdGlvbiBnZXQoa2V5KXtpZihrZXk9PT11bmRlZmluZWQpe2tleT0nX19ERUZBVUxUJzt9aWYodGhpcy5saXN0W2tleV0pe3JldHVybiB0aGlzLmxpc3Rba2V5XTt9ZWxzZXtyZXR1cm4gdGhpcy5saXN0WydfX01JU1NJTkcnXTt9fSxjbG9uZUZyYW1lOmZ1bmN0aW9uIGNsb25lRnJhbWUoa2V5LGZyYW1lKXtpZih0aGlzLmxpc3Rba2V5XSl7cmV0dXJuIHRoaXMubGlzdFtrZXldLmdldChmcmFtZSkuY2xvbmUoKTt9fSxnZXRGcmFtZTpmdW5jdGlvbiBnZXRGcmFtZShrZXksZnJhbWUpe2lmKHRoaXMubGlzdFtrZXldKXtyZXR1cm4gdGhpcy5saXN0W2tleV0uZ2V0KGZyYW1lKTt9fSxnZXRQaXhlbDpmdW5jdGlvbiBnZXRQaXhlbCh4LHksa2V5LGZyYW1lKXt2YXIgdGV4dHVyZUZyYW1lPXRoaXMuZ2V0RnJhbWUoa2V5LGZyYW1lKTtpZih0ZXh0dXJlRnJhbWUpe3ZhciBzb3VyY2U9dGV4dHVyZUZyYW1lLnNvdXJjZS5pbWFnZTtpZih4Pj0wJiZ4PD1zb3VyY2Uud2lkdGgmJnk+PTAmJnk8PXNvdXJjZS5oZWlnaHQpe3grPXRleHR1cmVGcmFtZS5jdXRYO3krPXRleHR1cmVGcmFtZS5jdXRZOy8vIGlmICh0ZXh0dXJlRnJhbWUudHJpbW1lZClcbi8vIHtcbi8vIHggLT0gdGhpcy5zcHJpdGUudGV4dHVyZS50cmltLng7XG4vLyB5IC09IHRoaXMuc3ByaXRlLnRleHR1cmUudHJpbS55O1xuLy8gfVxudmFyIGNvbnRleHQ9dGhpcy5fdGVtcENvbnRleHQ7Y29udGV4dC5jbGVhclJlY3QoMCwwLDEsMSk7Y29udGV4dC5kcmF3SW1hZ2Uoc291cmNlLHgseSwxLDEsMCwwLDEsMSk7dmFyIHJnYj1jb250ZXh0LmdldEltYWdlRGF0YSgwLDAsMSwxKTtyZXR1cm4gbmV3IENvbG9yKHJnYi5kYXRhWzBdLHJnYi5kYXRhWzFdLHJnYi5kYXRhWzJdLHJnYi5kYXRhWzNdKTt9fXJldHVybiBudWxsO30sc2V0VGV4dHVyZTpmdW5jdGlvbiBzZXRUZXh0dXJlKGdhbWVPYmplY3Qsa2V5LGZyYW1lKXtpZih0aGlzLmxpc3Rba2V5XSl7Z2FtZU9iamVjdC50ZXh0dXJlPXRoaXMubGlzdFtrZXldO2dhbWVPYmplY3QuZnJhbWU9Z2FtZU9iamVjdC50ZXh0dXJlLmdldChmcmFtZSk7fXJldHVybiBnYW1lT2JqZWN0O30sLyoqXG4gICAgKiBQYXNzZXMgYWxsIFRleHR1cmVzIHRvIHRoZSBnaXZlbiBjYWxsYmFjay5cbiAgICAqXG4gICAgKiBAbWV0aG9kIGVhY2hcbiAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAgKiBAcGFyYW0ge29iamVjdH0gW3RoaXNBcmddIC0gVmFsdWUgdG8gdXNlIGFzIGB0aGlzYCB3aGVuIGV4ZWN1dGluZyBjYWxsYmFjay5cbiAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3VtZW50c10gLSBBZGRpdGlvbmFsIGFyZ3VtZW50cyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFjaywgYWZ0ZXIgdGhlIGNoaWxkLlxuICAgICovZWFjaDpmdW5jdGlvbiBlYWNoKGNhbGxiYWNrLHRoaXNBcmcpe3ZhciBhcmdzPVtudWxsXTtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXthcmdzLnB1c2goYXJndW1lbnRzW2ldKTt9Zm9yKHZhciB0ZXh0dXJlIGluIHRoaXMubGlzdCl7YXJnc1swXT10aGlzLmxpc3RbdGV4dHVyZV07Y2FsbGJhY2suYXBwbHkodGhpc0FyZyxhcmdzKTt9fX0pO21vZHVsZS5leHBvcnRzPVRleHR1cmVNYW5hZ2VyOy8qKiovfSwvKiA3MjYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPXtDYW52YXM6X193ZWJwYWNrX3JlcXVpcmVfXyg3MjcpLEltYWdlOl9fd2VicGFja19yZXF1aXJlX18oNzI4KSxKU09OQXJyYXk6X193ZWJwYWNrX3JlcXVpcmVfXyg3MjkpLEpTT05IYXNoOl9fd2VicGFja19yZXF1aXJlX18oNzMwKSxQeXhlbDpfX3dlYnBhY2tfcmVxdWlyZV9fKDczMSksU3ByaXRlU2hlZXQ6X193ZWJwYWNrX3JlcXVpcmVfXyg3MzIpLFNwcml0ZVNoZWV0RnJvbUF0bGFzOl9fd2VicGFja19yZXF1aXJlX18oNzMzKSxTdGFybGluZ1hNTDpfX3dlYnBhY2tfcmVxdWlyZV9fKDczNCl9Oy8qKiovfSwvKiA3MjcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ2FudmFzPWZ1bmN0aW9uIENhbnZhcyh0ZXh0dXJlLHNvdXJjZUluZGV4KXt2YXIgc291cmNlPXRleHR1cmUuc291cmNlW3NvdXJjZUluZGV4XTt0ZXh0dXJlLmFkZCgnX19CQVNFJyxzb3VyY2VJbmRleCwwLDAsc291cmNlLndpZHRoLHNvdXJjZS5oZWlnaHQpO3JldHVybiB0ZXh0dXJlO307bW9kdWxlLmV4cG9ydHM9Q2FudmFzOy8qKiovfSwvKiA3MjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgSW1hZ2U9ZnVuY3Rpb24gSW1hZ2UodGV4dHVyZSxzb3VyY2VJbmRleCl7dmFyIHNvdXJjZT10ZXh0dXJlLnNvdXJjZVtzb3VyY2VJbmRleF07dGV4dHVyZS5hZGQoJ19fQkFTRScsc291cmNlSW5kZXgsMCwwLHNvdXJjZS53aWR0aCxzb3VyY2UuaGVpZ2h0KTtyZXR1cm4gdGV4dHVyZTt9O21vZHVsZS5leHBvcnRzPUltYWdlOy8qKiovfSwvKiA3MjkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgSlNPTkFycmF5PWZ1bmN0aW9uIEpTT05BcnJheSh0ZXh0dXJlLHNvdXJjZUluZGV4LGpzb24pey8vICBNYWxmb3JtZWQ/XG5pZighanNvblsnZnJhbWVzJ10pe2NvbnNvbGUud2FybignSW52YWxpZCBUZXh0dXJlIEF0bGFzIEpTT04gQXJyYXkgZ2l2ZW4sIG1pc3NpbmcgXFwnZnJhbWVzXFwnIGFycmF5Jyk7cmV0dXJuO30vLyAgQWRkIGluIGEgX19CQVNFIGVudHJ5IChmb3IgdGhlIGVudGlyZSBhdGxhcylcbnZhciBzb3VyY2U9dGV4dHVyZS5zb3VyY2Vbc291cmNlSW5kZXhdO3RleHR1cmUuYWRkKCdfX0JBU0UnLHNvdXJjZUluZGV4LDAsMCxzb3VyY2Uud2lkdGgsc291cmNlLmhlaWdodCk7Ly8gIEJ5IHRoaXMgc3RhZ2UgZnJhbWVzIGlzIGEgZnVsbHkgcGFyc2VkIGFycmF5XG52YXIgZnJhbWVzPWpzb25bJ2ZyYW1lcyddO3ZhciBuZXdGcmFtZTtmb3IodmFyIGk9MDtpPGZyYW1lcy5sZW5ndGg7aSsrKXt2YXIgc3JjPWZyYW1lc1tpXTsvLyAgVGhlIGZyYW1lIHZhbHVlcyBhcmUgdGhlIGV4YWN0IGNvb3JkaW5hdGVzIHRvIGN1dCB0aGUgZnJhbWUgb3V0IG9mIHRoZSBhdGxhcyBmcm9tXG5uZXdGcmFtZT10ZXh0dXJlLmFkZChzcmMuZmlsZW5hbWUsc291cmNlSW5kZXgsc3JjLmZyYW1lLngsc3JjLmZyYW1lLnksc3JjLmZyYW1lLncsc3JjLmZyYW1lLmgpOy8vICBUaGVzZSBhcmUgdGhlIG9yaWdpbmFsIChub24tdHJpbW1lZCkgc3ByaXRlIHZhbHVlc1xuaWYoc3JjLnRyaW1tZWQpe25ld0ZyYW1lLnNldFRyaW0oc3JjLnNvdXJjZVNpemUudyxzcmMuc291cmNlU2l6ZS5oLHNyYy5zcHJpdGVTb3VyY2VTaXplLngsc3JjLnNwcml0ZVNvdXJjZVNpemUueSxzcmMuc3ByaXRlU291cmNlU2l6ZS53LHNyYy5zcHJpdGVTb3VyY2VTaXplLmgpO31pZihzcmMucm90YXRlZCl7bmV3RnJhbWUucm90YXRlZD10cnVlO25ld0ZyYW1lLnVwZGF0ZVVWc0ludmVydGVkKCk7fX1yZXR1cm4gdGV4dHVyZTt9O21vZHVsZS5leHBvcnRzPUpTT05BcnJheTsvKioqL30sLyogNzMwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEpTT05IYXNoPWZ1bmN0aW9uIEpTT05IYXNoKHRleHR1cmUsc291cmNlSW5kZXgsanNvbil7Ly8gIE1hbGZvcm1lZD9cbmlmKCFqc29uWydmcmFtZXMnXSl7Y29uc29sZS53YXJuKCdJbnZhbGlkIFRleHR1cmUgQXRsYXMgSlNPTiBIYXNoIGdpdmVuLCBtaXNzaW5nIFxcJ2ZyYW1lc1xcJyBPYmplY3QnKTtyZXR1cm47fS8vICBBZGQgaW4gYSBfX0JBU0UgZW50cnkgKGZvciB0aGUgZW50aXJlIGF0bGFzKVxudmFyIHNvdXJjZT10ZXh0dXJlLnNvdXJjZVtzb3VyY2VJbmRleF07dGV4dHVyZS5hZGQoJ19fQkFTRScsc291cmNlSW5kZXgsMCwwLHNvdXJjZS53aWR0aCxzb3VyY2UuaGVpZ2h0KTsvLyAgQnkgdGhpcyBzdGFnZSBmcmFtZXMgaXMgYSBmdWxseSBwYXJzZWQgT2JqZWN0XG52YXIgZnJhbWVzPWpzb25bJ2ZyYW1lcyddO3ZhciBuZXdGcmFtZTtmb3IodmFyIGtleSBpbiBmcmFtZXMpe3ZhciBzcmM9ZnJhbWVzW2tleV07Ly8gIFRoZSBmcmFtZSB2YWx1ZXMgYXJlIHRoZSBleGFjdCBjb29yZGluYXRlcyB0byBjdXQgdGhlIGZyYW1lIG91dCBvZiB0aGUgYXRsYXMgZnJvbVxubmV3RnJhbWU9dGV4dHVyZS5hZGQoa2V5LHNvdXJjZUluZGV4LHNyYy5mcmFtZS54LHNyYy5mcmFtZS55LHNyYy5mcmFtZS53LHNyYy5mcmFtZS5oKTsvLyAgVGhlc2UgYXJlIHRoZSBvcmlnaW5hbCAobm9uLXRyaW1tZWQpIHNwcml0ZSB2YWx1ZXNcbmlmKHNyYy50cmltbWVkKXtuZXdGcmFtZS5zZXRUcmltKHNyYy5zb3VyY2VTaXplLncsc3JjLnNvdXJjZVNpemUuaCxzcmMuc3ByaXRlU291cmNlU2l6ZS54LHNyYy5zcHJpdGVTb3VyY2VTaXplLnksc3JjLnNwcml0ZVNvdXJjZVNpemUudyxzcmMuc3ByaXRlU291cmNlU2l6ZS5oKTt9aWYoc3JjLnJvdGF0ZWQpe25ld0ZyYW1lLnJvdGF0ZWQ9dHJ1ZTtuZXdGcmFtZS51cGRhdGVVVnNJbnZlcnRlZCgpO319cmV0dXJuIHRleHR1cmU7fTttb2R1bGUuZXhwb3J0cz1KU09OSGFzaDsvKioqL30sLyogNzMxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFB5eGVsPWZ1bmN0aW9uIFB5eGVsKHRleHR1cmUsanNvbil7Ly8gIE1hbGZvcm1lZD8gVGhlcmUgYXJlIGEgZmV3IGtleXMgdG8gY2hlY2sgaGVyZS5cbnZhciBzaWduYXR1cmU9WydsYXllcnMnLCd0aWxld2lkdGgnLCd0aWxlaGVpZ2h0JywndGlsZXN3aWRlJywndGlsZXNoaWdoJ107c2lnbmF0dXJlLmZvckVhY2goZnVuY3Rpb24oa2V5KXtpZighanNvbltrZXldKXsvLyBjb25zb2xlLndhcm4oJ1BoYXNlci5BbmltYXRpb25QYXJzZXIuSlNPTkRhdGFQeXhlbDogSW52YWxpZCBQeXhlbCBUaWxlbWFwIEpTT04gZ2l2ZW4sIG1pc3NpbmcgXCInICsga2V5ICsgJ1wiIGtleS4nKTtcbi8vIGNvbnNvbGUubG9nKGpzb24pO1xucmV0dXJuO319KTsvLyBGb3IgdGhpcyBwdXJwb3NlLCBJIG9ubHkgY2FyZSBhYm91dCBwYXJzaW5nIHRpbGVtYXBzIHdpdGggYSBzaW5nbGUgbGF5ZXIuXG5pZihqc29uWydsYXllcnMnXS5sZW5ndGghPT0xKXsvLyBjb25zb2xlLndhcm4oJ1BoYXNlci5BbmltYXRpb25QYXJzZXIuSlNPTkRhdGFQeXhlbDogVG9vIG1hbnkgbGF5ZXJzLCB0aGlzIHBhcnNlciBvbmx5IHN1cHBvcnRzIGZsYXQgVGlsZW1hcHMuJyk7XG4vLyBjb25zb2xlLmxvZyhqc29uKTtcbnJldHVybjt9dmFyIGRhdGE9bmV3IFBoYXNlci5GcmFtZURhdGEoKTt2YXIgdGlsZWhlaWdodD1qc29uWyd0aWxlaGVpZ2h0J107dmFyIHRpbGV3aWR0aD1qc29uWyd0aWxld2lkdGgnXTt2YXIgZnJhbWVzPWpzb25bJ2xheWVycyddWzBdWyd0aWxlcyddO3ZhciBuZXdGcmFtZTtmb3IodmFyIGk9MDtpPGZyYW1lcy5sZW5ndGg7aSsrKXtuZXdGcmFtZT1kYXRhLmFkZEZyYW1lKG5ldyBQaGFzZXIuRnJhbWUoaSxmcmFtZXNbaV0ueCxmcmFtZXNbaV0ueSx0aWxld2lkdGgsdGlsZWhlaWdodCxcImZyYW1lX1wiK2kvLyBObyBuYW1lcyBhcmUgaW5jbHVkZWQgaW4gcHl4ZWwgdGlsZW1hcCBkYXRhLlxuKSk7Ly8gTm8gdHJpbSBkYXRhIGlzIGluY2x1ZGVkLlxubmV3RnJhbWUuc2V0VHJpbShmYWxzZSk7fXJldHVybiBkYXRhO307bW9kdWxlLmV4cG9ydHM9UHl4ZWw7LyoqKi99LC8qIDczMiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIFNwcml0ZVNoZWV0PWZ1bmN0aW9uIFNwcml0ZVNoZWV0KHRleHR1cmUsc291cmNlSW5kZXgseCx5LHdpZHRoLGhlaWdodCxjb25maWcpe3ZhciBmcmFtZVdpZHRoPUdldFZhbHVlKGNvbmZpZywnZnJhbWVXaWR0aCcsbnVsbCk7dmFyIGZyYW1lSGVpZ2h0PUdldFZhbHVlKGNvbmZpZywnZnJhbWVIZWlnaHQnLGZyYW1lV2lkdGgpOy8vICBJZiBtaXNzaW5nIHdlIGNhbid0IHByb2NlZWRcbmlmKGZyYW1lV2lkdGg9PT1udWxsKXt0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmVNYW5hZ2VyLlNwcml0ZVNoZWV0OiBJbnZhbGlkIGZyYW1lV2lkdGggZ2l2ZW4uJyk7fS8vICBBZGQgaW4gYSBfX0JBU0UgZW50cnkgKGZvciB0aGUgZW50aXJlIGF0bGFzKVxudmFyIHNvdXJjZT10ZXh0dXJlLnNvdXJjZVtzb3VyY2VJbmRleF07dGV4dHVyZS5hZGQoJ19fQkFTRScsc291cmNlSW5kZXgsMCwwLHNvdXJjZS53aWR0aCxzb3VyY2UuaGVpZ2h0KTt2YXIgc3RhcnRGcmFtZT1HZXRWYWx1ZShjb25maWcsJ3N0YXJ0RnJhbWUnLDApO3ZhciBlbmRGcmFtZT1HZXRWYWx1ZShjb25maWcsJ2VuZEZyYW1lJywtMSk7dmFyIG1hcmdpbj1HZXRWYWx1ZShjb25maWcsJ21hcmdpbicsMCk7dmFyIHNwYWNpbmc9R2V0VmFsdWUoY29uZmlnLCdzcGFjaW5nJywwKTt2YXIgcm93PU1hdGguZmxvb3IoKHdpZHRoLW1hcmdpbikvKGZyYW1lV2lkdGgrc3BhY2luZykpO3ZhciBjb2x1bW49TWF0aC5mbG9vcigoaGVpZ2h0LW1hcmdpbikvKGZyYW1lSGVpZ2h0K3NwYWNpbmcpKTt2YXIgdG90YWw9cm93KmNvbHVtbjtpZihzdGFydEZyYW1lPnRvdGFsfHxzdGFydEZyYW1lPC10b3RhbCl7c3RhcnRGcmFtZT0wO31pZihzdGFydEZyYW1lPDApey8vICBBbGxvdyBuZWdhdGl2ZSBza2lwZnJhbWVzLlxuc3RhcnRGcmFtZT10b3RhbCtzdGFydEZyYW1lO31pZihlbmRGcmFtZSE9PS0xKXt0b3RhbD1zdGFydEZyYW1lKyhlbmRGcmFtZSsxKTt9dmFyIGZ4PW1hcmdpbjt2YXIgZnk9bWFyZ2luO3ZhciBheD0wO3ZhciBheT0wO2Zvcih2YXIgaT0wO2k8dG90YWw7aSsrKXtheD0wO2F5PTA7dmFyIHc9ZngrZnJhbWVXaWR0aDt2YXIgaD1meStmcmFtZUhlaWdodDtpZih3PndpZHRoKXtheD13LXdpZHRoO31pZihoPmhlaWdodCl7YXk9aC1oZWlnaHQ7fXRleHR1cmUuYWRkKGksc291cmNlSW5kZXgseCtmeCx5K2Z5LGZyYW1lV2lkdGgtYXgsZnJhbWVIZWlnaHQtYXkpO2Z4Kz1mcmFtZVdpZHRoK3NwYWNpbmc7aWYoZngrZnJhbWVXaWR0aD53aWR0aCl7Zng9bWFyZ2luO2Z5Kz1mcmFtZUhlaWdodCtzcGFjaW5nO319cmV0dXJuIHRleHR1cmU7fTttb2R1bGUuZXhwb3J0cz1TcHJpdGVTaGVldDsvKioqL30sLyogNzMzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgU3ByaXRlU2hlZXRGcm9tQXRsYXM9ZnVuY3Rpb24gU3ByaXRlU2hlZXRGcm9tQXRsYXModGV4dHVyZSxmcmFtZSxjb25maWcpe3ZhciBmcmFtZVdpZHRoPUdldFZhbHVlKGNvbmZpZywnZnJhbWVXaWR0aCcsbnVsbCk7dmFyIGZyYW1lSGVpZ2h0PUdldFZhbHVlKGNvbmZpZywnZnJhbWVIZWlnaHQnLGZyYW1lV2lkdGgpOy8vICBJZiBtaXNzaW5nIHdlIGNhbid0IHByb2NlZWRcbmlmKCFmcmFtZVdpZHRoKXt0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmVNYW5hZ2VyLlNwcml0ZVNoZWV0RnJvbUF0bGFzOiBJbnZhbGlkIGZyYW1lV2lkdGggZ2l2ZW4uJyk7fS8vICBBZGQgaW4gYSBfX0JBU0UgZW50cnkgKGZvciB0aGUgZW50aXJlIGF0bGFzKVxuLy8gdmFyIHNvdXJjZSA9IHRleHR1cmUuc291cmNlWzBdO1xuLy8gdGV4dHVyZS5hZGQoJ19fQkFTRScsIDAsIDAsIDAsIHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCk7XG52YXIgc3RhcnRGcmFtZT1HZXRWYWx1ZShjb25maWcsJ3N0YXJ0RnJhbWUnLDApO3ZhciBlbmRGcmFtZT1HZXRWYWx1ZShjb25maWcsJ2VuZEZyYW1lJywtMSk7dmFyIG1hcmdpbj1HZXRWYWx1ZShjb25maWcsJ21hcmdpbicsMCk7dmFyIHNwYWNpbmc9R2V0VmFsdWUoY29uZmlnLCdzcGFjaW5nJywwKTt2YXIgeD1mcmFtZS5jdXRYO3ZhciB5PWZyYW1lLmN1dFk7dmFyIGN1dFdpZHRoPWZyYW1lLmN1dFdpZHRoO3ZhciBjdXRIZWlnaHQ9ZnJhbWUuY3V0SGVpZ2h0O3ZhciBzaGVldFdpZHRoPWZyYW1lLnJlYWxXaWR0aDt2YXIgc2hlZXRIZWlnaHQ9ZnJhbWUucmVhbEhlaWdodDt2YXIgcm93PU1hdGguZmxvb3IoKHNoZWV0V2lkdGgtbWFyZ2luKS8oZnJhbWVXaWR0aCtzcGFjaW5nKSk7dmFyIGNvbHVtbj1NYXRoLmZsb29yKChzaGVldEhlaWdodC1tYXJnaW4pLyhmcmFtZUhlaWdodCtzcGFjaW5nKSk7dmFyIHRvdGFsPXJvdypjb2x1bW47Y29uc29sZS5sb2coJ3NwbGl0IHNoZWV0IGludG8gcm93cy9jb2xzOicscm93LGNvbHVtbiwndG90YWwgZnJhbWVzOicsdG90YWwpO2lmKHN0YXJ0RnJhbWU+dG90YWx8fHN0YXJ0RnJhbWU8LXRvdGFsKXtzdGFydEZyYW1lPTA7fWlmKHN0YXJ0RnJhbWU8MCl7Ly8gIEFsbG93IG5lZ2F0aXZlIHNraXBmcmFtZXMuXG5zdGFydEZyYW1lPXRvdGFsK3N0YXJ0RnJhbWU7fWlmKGVuZEZyYW1lIT09LTEpe3RvdGFsPXN0YXJ0RnJhbWUrKGVuZEZyYW1lKzEpO312YXIgZng9bWFyZ2luO3ZhciBmeT1tYXJnaW47dmFyIGF4PTA7dmFyIGF5PTA7dmFyIHNoZWV0RnJhbWU7Zm9yKHZhciBpPTA7aTx0b3RhbDtpKyspe2F4PTA7YXk9MDt2YXIgdz1meCtmcmFtZVdpZHRoO3ZhciBoPWZ5K2ZyYW1lSGVpZ2h0O2lmKHc+d2lkdGgpe2F4PXctd2lkdGg7fWlmKGg+aGVpZ2h0KXtheT1oLWhlaWdodDt9c2hlZXRGcmFtZT10ZXh0dXJlLmFkZChpLHNvdXJjZUluZGV4LHgrZngseStmeSxmcmFtZVdpZHRoLWF4LGZyYW1lSGVpZ2h0LWF5KTsvLyBzaGVldEZyYW1lLnNldFRyaW0oc2hlZXRXaWR0aCwgc2hlZXRIZWlnaHQsIClcbi8vIHNldFRyaW06IGZ1bmN0aW9uIChhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0LCBkZXN0WCwgZGVzdFksIGRlc3RXaWR0aCwgZGVzdEhlaWdodClcbmZ4Kz1mcmFtZVdpZHRoK3NwYWNpbmc7aWYoZngrZnJhbWVXaWR0aD53aWR0aCl7Zng9bWFyZ2luO2Z5Kz1mcmFtZUhlaWdodCtzcGFjaW5nO319cmV0dXJuIHRleHR1cmU7fTttb2R1bGUuZXhwb3J0cz1TcHJpdGVTaGVldEZyb21BdGxhczsvKioqL30sLyogNzM0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN0YXJsaW5nWE1MPWZ1bmN0aW9uIFN0YXJsaW5nWE1MKHRleHR1cmUseG1sKXsvLyAgTWFsZm9ybWVkP1xuaWYoIXhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnVGV4dHVyZUF0bGFzJykpey8vIGNvbnNvbGUud2FybihcIlBoYXNlci5BbmltYXRpb25QYXJzZXIuWE1MRGF0YTogSW52YWxpZCBUZXh0dXJlIEF0bGFzIFhNTCBnaXZlbiwgbWlzc2luZyA8VGV4dHVyZUF0bGFzPiB0YWdcIik7XG5yZXR1cm47fS8vICBMZXQncyBjcmVhdGUgc29tZSBmcmFtZXMgdGhlblxudmFyIGRhdGE9bmV3IFBoYXNlci5GcmFtZURhdGEoKTt2YXIgZnJhbWVzPXhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU3ViVGV4dHVyZScpO3ZhciBuZXdGcmFtZTt2YXIgbmFtZTt2YXIgZnJhbWU7dmFyIHg7dmFyIHk7dmFyIHdpZHRoO3ZhciBoZWlnaHQ7dmFyIGZyYW1lWDt2YXIgZnJhbWVZO3ZhciBmcmFtZVdpZHRoO3ZhciBmcmFtZUhlaWdodDtmb3IodmFyIGk9MDtpPGZyYW1lcy5sZW5ndGg7aSsrKXtmcmFtZT1mcmFtZXNbaV0uYXR0cmlidXRlcztuYW1lPWZyYW1lLm5hbWUudmFsdWU7eD1wYXJzZUludChmcmFtZS54LnZhbHVlLDEwKTt5PXBhcnNlSW50KGZyYW1lLnkudmFsdWUsMTApO3dpZHRoPXBhcnNlSW50KGZyYW1lLndpZHRoLnZhbHVlLDEwKTtoZWlnaHQ9cGFyc2VJbnQoZnJhbWUuaGVpZ2h0LnZhbHVlLDEwKTtmcmFtZVg9bnVsbDtmcmFtZVk9bnVsbDtpZihmcmFtZS5mcmFtZVgpe2ZyYW1lWD1NYXRoLmFicyhwYXJzZUludChmcmFtZS5mcmFtZVgudmFsdWUsMTApKTtmcmFtZVk9TWF0aC5hYnMocGFyc2VJbnQoZnJhbWUuZnJhbWVZLnZhbHVlLDEwKSk7ZnJhbWVXaWR0aD1wYXJzZUludChmcmFtZS5mcmFtZVdpZHRoLnZhbHVlLDEwKTtmcmFtZUhlaWdodD1wYXJzZUludChmcmFtZS5mcmFtZUhlaWdodC52YWx1ZSwxMCk7fW5ld0ZyYW1lPWRhdGEuYWRkRnJhbWUobmV3IFBoYXNlci5GcmFtZShpLHgseSx3aWR0aCxoZWlnaHQsbmFtZSkpOy8vICBUcmltbWVkP1xuaWYoZnJhbWVYIT09bnVsbHx8ZnJhbWVZIT09bnVsbCl7bmV3RnJhbWUuc2V0VHJpbSh0cnVlLHdpZHRoLGhlaWdodCxmcmFtZVgsZnJhbWVZLGZyYW1lV2lkdGgsZnJhbWVIZWlnaHQpO319cmV0dXJuIGRhdGE7fTttb2R1bGUuZXhwb3J0cz1TdGFybGluZ1hNTDsvKioqL30sLyogNzM1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRnJhbWU9X193ZWJwYWNrX3JlcXVpcmVfXyg3MzYpO3ZhciBUZXh0dXJlU291cmNlPV9fd2VicGFja19yZXF1aXJlX18oNzM3KTsvKipcbiogQSBUZXh0dXJlIGNvbnNpc3RzIG9mIGEgc291cmNlLCB1c3VhbGx5IGFuIEltYWdlIGZyb20gdGhlIENhY2hlLCBvciBhIENhbnZhcywgYW5kIGEgY29sbGVjdGlvblxuKiBvZiBGcmFtZXMuIFRoZSBGcmFtZXMgcmVwcmVzZW50IHRoZSBkaWZmZXJlbnQgYXJlYXMgb2YgdGhlIFRleHR1cmUuIEZvciBleGFtcGxlIGEgdGV4dHVyZSBhdGxhc1xuKiBtYXkgaGF2ZSBtYW55IEZyYW1lcywgb25lIGZvciBlYWNoIGVsZW1lbnQgd2l0aGluIHRoZSBhdGxhcy4gV2hlcmUtYXMgYSBzaW5nbGUgaW1hZ2Ugd291bGQgaGF2ZVxuKiBqdXN0IG9uZSBmcmFtZSwgdGhhdCBlbmNvbXBhc3NlcyB0aGUgd2hvbGUgaW1hZ2UuXG4qXG4qIFRleHR1cmVzIGFyZSBtYW5hZ2VkIGJ5IHRoZSBnbG9iYWwgVGV4dHVyZU1hbmFnZXIuIFRoaXMgaXMgYSBzaW5nbGV0b24gY2xhc3MgdGhhdCBpc1xuKiByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYW5kIGRlbGl2ZXJpbmcgVGV4dHVyZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgRnJhbWVzIHRvIEdhbWUgT2JqZWN0cy5cbipcbiogU3ByaXRlcyBhbmQgb3RoZXIgR2FtZSBPYmplY3RzIGdldCB0aGUgdGV4dHVyZSBkYXRhIHRoZXkgbmVlZCBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiovdmFyIFRleHR1cmU9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFRleHR1cmUobWFuYWdlcixrZXksc291cmNlLHdpZHRoLGhlaWdodCl7dGhpcy5tYW5hZ2VyPW1hbmFnZXI7aWYoIUFycmF5LmlzQXJyYXkoc291cmNlKSl7c291cmNlPVtzb3VyY2VdO310aGlzLmtleT1rZXk7LyoqXG4gICAgICAgICogVGhlIHNvdXJjZSB0aGF0IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlLlxuICAgICAgICAqIFVzdWFsbHkgYW4gSW1hZ2UsIGJ1dCBjYW4gYWxzbyBiZSBhIENhbnZhcy5cbiAgICAgICAgKi90aGlzLnNvdXJjZT1bXTt0aGlzLmZyYW1lcz17fTt0aGlzLmZpcnN0RnJhbWU9J19fQkFTRSc7dGhpcy5mcmFtZVRvdGFsPTA7Ly8gIExvYWQgdGhlIFNvdXJjZXNcbmZvcih2YXIgaT0wO2k8c291cmNlLmxlbmd0aDtpKyspe3RoaXMuc291cmNlLnB1c2gobmV3IFRleHR1cmVTb3VyY2UodGhpcyxzb3VyY2VbaV0sd2lkdGgsaGVpZ2h0KSk7fX0sYWRkOmZ1bmN0aW9uIGFkZChuYW1lLHNvdXJjZUluZGV4LHgseSx3aWR0aCxoZWlnaHQpe3ZhciBmcmFtZT1uZXcgRnJhbWUodGhpcyxuYW1lLHNvdXJjZUluZGV4LHgseSx3aWR0aCxoZWlnaHQpO3RoaXMuZnJhbWVzW25hbWVdPWZyYW1lOy8vICBTZXQgdGhlIGZpcnN0IGZyYW1lIG9mIHRoZSBUZXh0dXJlIChvdGhlciB0aGFuIF9fQkFTRSlcbi8vICBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHdlIGRvbid0IHNwYW0gdGhlIGRpc3BsYXkgd2l0aCBlbnRpcmVcbi8vICBhdGxhc2VzIG9mIHNwcml0ZSBzaGVldHMsIGJ1dCBpbnN0ZWFkIGp1c3QgdGhlIGZpcnN0IGZyYW1lIG9mIHRoZW1cbi8vICBzaG91bGQgdGhlIGRldiBpbmNvcnJlY3RseSBzcGVjaWZ5IHRoZSBmcmFtZSBpbmRleFxuaWYodGhpcy5mcmFtZVRvdGFsPT09MSl7dGhpcy5maXJzdEZyYW1lPW5hbWU7fXRoaXMuZnJhbWVUb3RhbCsrO3JldHVybiBmcmFtZTt9LGhhczpmdW5jdGlvbiBoYXMobmFtZSl7cmV0dXJuIHRoaXMuZnJhbWVzW25hbWVdO30sZ2V0OmZ1bmN0aW9uIGdldChuYW1lKXtpZihuYW1lPT09dW5kZWZpbmVkfHxuYW1lPT09bnVsbCl7bmFtZT10aGlzLmZyYW1lVG90YWw9PT0xPydfX0JBU0UnOnRoaXMuZmlyc3RGcmFtZTt9dmFyIGZyYW1lPXRoaXMuZnJhbWVzW25hbWVdO2lmKCFmcmFtZSl7Y29uc29sZS53YXJuKCdObyBUZXh0dXJlLmZyYW1lIGZvdW5kIHdpdGggbmFtZSAnK25hbWUpO3JldHVybiB0aGlzLmZyYW1lc1snX19CQVNFJ107fWVsc2V7cmV0dXJuIGZyYW1lO319LGdldEZyYW1lTmFtZXM6ZnVuY3Rpb24gZ2V0RnJhbWVOYW1lcyhpbmNsdWRlQmFzZSl7aWYoaW5jbHVkZUJhc2U9PT11bmRlZmluZWQpe2luY2x1ZGVCYXNlPWZhbHNlO312YXIgb3V0PU9iamVjdC5rZXlzKHRoaXMuZnJhbWVzKTtpZighaW5jbHVkZUJhc2Upe3ZhciBpZHg9b3V0LmluZGV4T2YoJ19fQkFTRScpO2lmKGlkeCE9PS0xKXtvdXQuc3BsaWNlKGlkeCwxKTt9fXJldHVybiBvdXQ7fSxnZXRTb3VyY2VJbWFnZTpmdW5jdGlvbiBnZXRTb3VyY2VJbWFnZShuYW1lKXtpZihuYW1lPT09dW5kZWZpbmVkfHxuYW1lPT09bnVsbHx8dGhpcy5mcmFtZVRvdGFsPT09MSl7bmFtZT0nX19CQVNFJzt9dmFyIGZyYW1lPXRoaXMuZnJhbWVzW25hbWVdO2lmKCFmcmFtZSl7Y29uc29sZS53YXJuKCdObyBUZXh0dXJlLmZyYW1lIGZvdW5kIHdpdGggbmFtZSAnK25hbWUpO3JldHVybiB0aGlzLmZyYW1lc1snX19CQVNFJ10uc291cmNlLmltYWdlO31lbHNle3JldHVybiBmcmFtZS5zb3VyY2UuaW1hZ2U7fX0sc2V0RmlsdGVyOmZ1bmN0aW9uIHNldEZpbHRlcihmaWx0ZXJNb2RlKXtmb3IodmFyIGk9MDtpPHRoaXMuc291cmNlLmxlbmd0aDtpKyspe3RoaXMuc291cmNlW2ldLnNldEZpbHRlcihmaWx0ZXJNb2RlKTt9fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt9fSk7bW9kdWxlLmV4cG9ydHM9VGV4dHVyZTsvKioqL30sLyogNzM2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgRXh0ZW5kPV9fd2VicGFja19yZXF1aXJlX18oNjApOy8qKlxuKiBBIEZyYW1lIGlzIGEgc2VjdGlvbiBvZiBhIFRleHR1cmUuXG4qL3ZhciBGcmFtZT1uZXcgQ2xhc3Moe2luaXRpYWxpemU6ZnVuY3Rpb24gRnJhbWUodGV4dHVyZSxuYW1lLHNvdXJjZUluZGV4LHgseSx3aWR0aCxoZWlnaHQpey8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7UGhhc2VyLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0aGlzIGZyYW1lIGJlbG9uZ3MgdG8uXG4gICAgICAgICovdGhpcy50ZXh0dXJlPXRleHR1cmU7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGlzIGZyYW1lIHdpdGhpbiB0aGUgVGV4dHVyZS5cbiAgICAgICAgKi90aGlzLm5hbWU9bmFtZTt0aGlzLnNvdXJjZT10ZXh0dXJlLnNvdXJjZVtzb3VyY2VJbmRleF07dGhpcy5zb3VyY2VJbmRleD1zb3VyY2VJbmRleDsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gY3V0WCAtIFggcG9zaXRpb24gd2l0aGluIHRoZSBzb3VyY2UgaW1hZ2UgdG8gY3V0IGZyb20uXG4gICAgICAgICovdGhpcy5jdXRYPXg7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGN1dFkgLSBZIHBvc2l0aW9uIHdpdGhpbiB0aGUgc291cmNlIGltYWdlIHRvIGN1dCBmcm9tLlxuICAgICAgICAqL3RoaXMuY3V0WT15Oy8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjdXRXaWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgYXJlYSBpbiB0aGUgc291cmNlIGltYWdlIHRvIGN1dC5cbiAgICAgICAgKi90aGlzLmN1dFdpZHRoPXdpZHRoOy8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjdXRIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBhcmVhIGluIHRoZSBzb3VyY2UgaW1hZ2UgdG8gY3V0LlxuICAgICAgICAqL3RoaXMuY3V0SGVpZ2h0PWhlaWdodDsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0geCAtIFRoZSBYIHJlbmRlcmluZyBvZmZzZXQgb2YgdGhpcyBGcmFtZSwgdGFraW5nIHRyaW0gaW50byBhY2NvdW50LlxuICAgICAgICAqL3RoaXMueD0wOy8qKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB5IC0gVGhlIFkgcmVuZGVyaW5nIG9mZnNldCBvZiB0aGlzIEZyYW1lLCB0YWtpbmcgdHJpbSBpbnRvIGFjY291bnQuXG4gICAgICAgICovdGhpcy55PTA7LyoqXG4gICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gVGhlIHJlbmRlcmluZyB3aWR0aCBvZiB0aGlzIEZyYW1lLCB0YWtpbmcgdHJpbSBpbnRvIGFjY291bnQuXG4gICAgICAgICovdGhpcy53aWR0aD13aWR0aDsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gVGhlIHJlbmRlcmluZyBoZWlnaHQgb2YgdGhpcyBGcmFtZSwgdGFraW5nIHRyaW0gaW50byBhY2NvdW50LlxuICAgICAgICAqL3RoaXMuaGVpZ2h0PWhlaWdodDsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBUaGUgcmVuZGVyaW5nIHdpZHRoIG9mIHRoaXMgRnJhbWUsIHRha2luZyB0cmltIGludG8gYWNjb3VudC5cbiAgICAgICAgKi90aGlzLmNlbnRlclg9TWF0aC5mbG9vcih3aWR0aC8yKTsvKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0IC0gVGhlIHJlbmRlcmluZyBoZWlnaHQgb2YgdGhpcyBGcmFtZSwgdGFraW5nIHRyaW0gaW50byBhY2NvdW50LlxuICAgICAgICAqL3RoaXMuY2VudGVyWT1NYXRoLmZsb29yKGhlaWdodC8yKTsvKipcbiAgICAgICAgKiBJcyB0aGlzIGZyYW1lIGlzIHJvdGF0ZWQgb3Igbm90IGluIHRoZSBUZXh0dXJlP1xuICAgICAgICAqIFJvdGF0aW9uIGFsbG93cyB5b3UgdG8gdXNlIHJvdGF0ZWQgZnJhbWVzIGluIHRleHR1cmUgYXRsYXMgcGFja2luZy5cbiAgICAgICAgKiBJdCBoYXMgbm90aGluZyB0byBkbyB3aXRoIFNwcml0ZSByb3RhdGlvbi5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm90YXRlZFxuICAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgICovdGhpcy5yb3RhdGVkPWZhbHNlOy8vICBPdmVyLXJpZGVzIHRoZSBSZW5kZXJlciBzZXR0aW5nPyAtMSA9IHVzZSBSZW5kZXJlciBTZXR0aW5nLCAwID0gTm8gcm91bmRpbmcsIDEgPSBSb3VuZFxudGhpcy5hdXRvUm91bmQ9LTE7LyoqXG4gICAgICAgICogVGhlIHVuLW1vZGlmaWVkIHNvdXJjZSBmcmFtZSwgdHJpbSBhbmQgVVYgZGF0YS5cbiAgICAgICAgKlxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGFcbiAgICAgICAgKi90aGlzLmRhdGE9e2N1dDp7eDp4LHk6eSx3OndpZHRoLGg6aGVpZ2h0LHI6eCt3aWR0aCxiOnkraGVpZ2h0fSx0cmltOmZhbHNlLHNvdXJjZVNpemU6e3c6d2lkdGgsaDpoZWlnaHR9LHNwcml0ZVNvdXJjZVNpemU6e3g6MCx5OjAsdzp3aWR0aCxoOmhlaWdodH0sdXZzOnt4MDowLHkwOjAseDE6MCx5MTowLHgyOjAseTI6MCx4MzowLHkzOjB9LHJhZGl1czowLjUqTWF0aC5zcXJ0KHdpZHRoKndpZHRoK2hlaWdodCpoZWlnaHQpLGRyYXdJbWFnZTp7c3g6eCxzeTp5LHNXaWR0aDp3aWR0aCxzSGVpZ2h0OmhlaWdodCxkV2lkdGg6d2lkdGgsZEhlaWdodDpoZWlnaHR9fTt0aGlzLnVwZGF0ZVVWcygpO30sLyoqXG4gICAgKiBJZiB0aGUgZnJhbWUgd2FzIHRyaW1tZWQgd2hlbiBhZGRlZCB0byB0aGUgVGV4dHVyZSBBdGxhcywgdGhpcyByZWNvcmRzIHRoZSB0cmltIGFuZCBzb3VyY2UgZGF0YS5cbiAgICAqXG4gICAgKiBAbWV0aG9kIFBoYXNlci5UZXh0dXJlRnJhbWUjc2V0VHJpbVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFjdHVhbFdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBmcmFtZSBiZWZvcmUgYmVpbmcgdHJpbW1lZC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBhY3R1YWxIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBmcmFtZSBiZWZvcmUgYmVpbmcgdHJpbW1lZC5cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXN0WCAtIFRoZSBkZXN0aW5hdGlvbiBYIHBvc2l0aW9uIG9mIHRoZSB0cmltbWVkIGZyYW1lIGZvciBkaXNwbGF5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc3RZIC0gVGhlIGRlc3RpbmF0aW9uIFkgcG9zaXRpb24gb2YgdGhlIHRyaW1tZWQgZnJhbWUgZm9yIGRpc3BsYXkuXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZGVzdFdpZHRoIC0gVGhlIGRlc3RpbmF0aW9uIHdpZHRoIG9mIHRoZSB0cmltbWVkIGZyYW1lIGZvciBkaXNwbGF5LlxuICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc3RIZWlnaHQgLSBUaGUgZGVzdGluYXRpb24gaGVpZ2h0IG9mIHRoZSB0cmltbWVkIGZyYW1lIGZvciBkaXNwbGF5LlxuICAgICovc2V0VHJpbTpmdW5jdGlvbiBzZXRUcmltKGFjdHVhbFdpZHRoLGFjdHVhbEhlaWdodCxkZXN0WCxkZXN0WSxkZXN0V2lkdGgsZGVzdEhlaWdodCl7dmFyIGRhdGE9dGhpcy5kYXRhO3ZhciBzcz1kYXRhLnNwcml0ZVNvdXJjZVNpemU7Ly8gIFN0b3JlIGFjdHVhbCB2YWx1ZXNcbmRhdGEudHJpbT10cnVlO2RhdGEuc291cmNlU2l6ZS53PWFjdHVhbFdpZHRoO2RhdGEuc291cmNlU2l6ZS5oPWFjdHVhbEhlaWdodDtzcy54PWRlc3RYO3NzLnk9ZGVzdFk7c3Mudz1kZXN0V2lkdGg7c3MuaD1kZXN0SGVpZ2h0Oy8vICBBZGp1c3QgcHJvcGVydGllc1xudGhpcy54PWRlc3RYO3RoaXMueT1kZXN0WTt0aGlzLndpZHRoPWRlc3RXaWR0aDt0aGlzLmhlaWdodD1kZXN0SGVpZ2h0O3RoaXMuY2VudGVyWD1NYXRoLmZsb29yKGRlc3RXaWR0aC8yKTt0aGlzLmNlbnRlclk9TWF0aC5mbG9vcihkZXN0SGVpZ2h0LzIpO3RoaXMudXBkYXRlVVZzKCk7cmV0dXJuIHRoaXM7fSwvKipcbiAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlVVZzXG4gICAgKiBAcHJpdmF0ZVxuICAgICovdXBkYXRlVVZzOmZ1bmN0aW9uIHVwZGF0ZVVWcygpe3ZhciB0dz10aGlzLnNvdXJjZS53aWR0aDt2YXIgdGg9dGhpcy5zb3VyY2UuaGVpZ2h0O3ZhciB1dnM9dGhpcy5kYXRhLnV2czt1dnMueDA9dGhpcy5jdXRYL3R3O3V2cy55MD10aGlzLmN1dFkvdGg7dXZzLngxPXRoaXMuY3V0WC90dzt1dnMueTE9KHRoaXMuY3V0WSt0aGlzLmN1dEhlaWdodCkvdGg7dXZzLngyPSh0aGlzLmN1dFgrdGhpcy5jdXRXaWR0aCkvdHc7dXZzLnkyPSh0aGlzLmN1dFkrdGhpcy5jdXRIZWlnaHQpL3RoO3V2cy54Mz0odGhpcy5jdXRYK3RoaXMuY3V0V2lkdGgpL3R3O3V2cy55Mz10aGlzLmN1dFkvdGg7cmV0dXJuIHRoaXM7fSwvKipcbiAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLlxuICAgICpcbiAgICAqIEBtZXRob2QgdXBkYXRlVVZzSW52ZXJ0ZWRcbiAgICAqIEBwcml2YXRlXG4gICAgKi91cGRhdGVVVnNJbnZlcnRlZDpmdW5jdGlvbiB1cGRhdGVVVnNJbnZlcnRlZCgpe3ZhciB0dz10aGlzLnNvdXJjZS53aWR0aDt2YXIgdGg9dGhpcy5zb3VyY2UuaGVpZ2h0O3ZhciB1dnM9dGhpcy5kYXRhLnV2czt1dnMueDM9KHRoaXMuY3V0WCt0aGlzLmN1dEhlaWdodCkvdHc7dXZzLnkzPSh0aGlzLmN1dFkrdGhpcy5jdXRXaWR0aCkvdGg7dXZzLngyPXRoaXMuY3V0WC90dzt1dnMueTI9KHRoaXMuY3V0WSt0aGlzLmN1dFdpZHRoKS90aDt1dnMueDE9dGhpcy5jdXRYL3R3O3V2cy55MT10aGlzLmN1dFkvdGg7dXZzLngwPSh0aGlzLmN1dFgrdGhpcy5jdXRIZWlnaHQpL3R3O3V2cy55MD10aGlzLmN1dFkvdGg7cmV0dXJuIHRoaXM7fSxjbG9uZTpmdW5jdGlvbiBjbG9uZSgpe3ZhciBjbG9uZT1uZXcgRnJhbWUodGhpcy50ZXh0dXJlLHRoaXMubmFtZSx0aGlzLnNvdXJjZUluZGV4KTtjbG9uZS5jdXRYPXRoaXMuY3V0WDtjbG9uZS5jdXRZPXRoaXMuY3V0WTtjbG9uZS5jdXRXaWR0aD10aGlzLmN1dFdpZHRoO2Nsb25lLmN1dEhlaWdodD10aGlzLmN1dEhlaWdodDtjbG9uZS54PXRoaXMueDtjbG9uZS55PXRoaXMueTtjbG9uZS53aWR0aD10aGlzLndpZHRoO2Nsb25lLmhlaWdodD10aGlzLmhlaWdodDtjbG9uZS5jZW50ZXJYPXRoaXMuY2VudGVyWDtjbG9uZS5jZW50ZXJZPXRoaXMuY2VudGVyWTtjbG9uZS5yb3RhdGVkPXRoaXMucm90YXRlZDtjbG9uZS5kYXRhPUV4dGVuZCh0cnVlLGNsb25lLmRhdGEsdGhpcy5kYXRhKTtjbG9uZS51cGRhdGVVVnMoKTtyZXR1cm4gY2xvbmU7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt9LC8qKlxuICAgICogVGhlIHdpZHRoIG9mIHRoZSBGcmFtZSBpbiBpdHMgdW4tdHJpbW1lZCwgdW4tcGFkZGVkIHN0YXRlLCBhcyBwcmVwYXJlZCBpbiB0aGUgYXJ0IHBhY2thZ2UsXG4gICAgKiBiZWZvcmUgYmVpbmcgcGFja2VkLlxuICAgICpcbiAgICAqIEBuYW1lIFBoYXNlci5UZXh0dXJlRnJhbWUjcmVhbFdpZHRoXG4gICAgKiBAcHJvcGVydHkge2FueX0gcmVhbFdpZHRoXG4gICAgKi9yZWFsV2lkdGg6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5kYXRhLnNvdXJjZVNpemUudzt9fSwvKipcbiAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIEZyYW1lIGluIGl0cyB1bi10cmltbWVkLCB1bi1wYWRkZWQgc3RhdGUsIGFzIHByZXBhcmVkIGluIHRoZSBhcnQgcGFja2FnZSxcbiAgICAqIGJlZm9yZSBiZWluZyBwYWNrZWQuXG4gICAgKlxuICAgICogQG5hbWUgUGhhc2VyLlRleHR1cmVGcmFtZSNyZWFsSGVpZ2h0XG4gICAgKiBAcHJvcGVydHkge2FueX0gcmVhbEhlaWdodFxuICAgICovcmVhbEhlaWdodDp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmRhdGEuc291cmNlU2l6ZS5oO319LC8qKlxuICAgICogVVZzXG4gICAgKlxuICAgICogQG5hbWUgUGhhc2VyLlRleHR1cmVGcmFtZSN1dnNcbiAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB1dnNcbiAgICAqL3V2czp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmRhdGEudXZzO319LC8qKlxuICAgICogVGhlIHJhZGl1cyBvZiB0aGUgRnJhbWUgKGRlcml2ZWQgZnJvbSBzcXJ0KHcgKiB3ICsgaCAqIGgpIC8gMilcbiAgICAqIEBuYW1lIFBoYXNlci5UZXh0dXJlRnJhbWUjcmFkaXVzXG4gICAgKiBAcHJvcGVydHkge251bWJlcn0gcmFkaXVzXG4gICAgKi9yYWRpdXM6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5kYXRhLnJhZGl1czt9fSwvKipcbiAgICAqIElzIHRoZSBGcmFtZSB0cmltbWVkP1xuICAgICogQG5hbWUgUGhhc2VyLlRleHR1cmVGcmFtZSN0cmltbWVkXG4gICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyaW1tZWRcbiAgICAqL3RyaW1tZWQ6e2dldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gdGhpcy5kYXRhLnRyaW07fX0sLyoqXG4gICAgKiBDYW52YXMgRHJhdyBJbWFnZSBkYXRhXG4gICAgKlxuICAgICogQG5hbWUgUGhhc2VyLlRleHR1cmVGcmFtZSNjYW52YXNEYXRhXG4gICAgKiBAcHJvcGVydHkge09iamVjdH0gY2FudmFzRGF0YVxuICAgICovY2FudmFzRGF0YTp7Z2V0OmZ1bmN0aW9uIGdldCgpe3JldHVybiB0aGlzLmRhdGEuZHJhd0ltYWdlO319fSk7bW9kdWxlLmV4cG9ydHM9RnJhbWU7LyoqKi99LC8qIDczNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIENPTlNUPV9fd2VicGFja19yZXF1aXJlX18oNCk7dmFyIElzU2l6ZVBvd2VyT2ZUd289X193ZWJwYWNrX3JlcXVpcmVfXyg2Nyk7dmFyIFNjYWxlTW9kZXM9X193ZWJwYWNrX3JlcXVpcmVfXygyNik7dmFyIFRleHR1cmVTb3VyY2U9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFRleHR1cmVTb3VyY2UodGV4dHVyZSxzb3VyY2Usd2lkdGgsaGVpZ2h0KXt0aGlzLnRleHR1cmU9dGV4dHVyZTt0aGlzLmltYWdlPXNvdXJjZTt0aGlzLmNvbXByZXNzaW9uQWxnb3JpdGhtPW51bGw7dGhpcy5yZXNvbHV0aW9uPTE7dGhpcy53aWR0aD13aWR0aHx8c291cmNlLm5hdHVyYWxXaWR0aHx8c291cmNlLndpZHRofHwwO3RoaXMuaGVpZ2h0PWhlaWdodHx8c291cmNlLm5hdHVyYWxIZWlnaHR8fHNvdXJjZS5oZWlnaHR8fDA7dGhpcy5zY2FsZU1vZGU9U2NhbGVNb2Rlcy5ERUZBVUxUO3RoaXMuaXNQb3dlck9mMj1Jc1NpemVQb3dlck9mVHdvKHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO3RoaXMuZ2xUZXh0dXJlPW51bGw7dmFyIGdhbWU9dGV4dHVyZS5tYW5hZ2VyLmdhbWU7aWYoZ2FtZS5jb25maWcucmVuZGVyVHlwZT09PUNPTlNULldFQkdMKXtnYW1lLnJlbmRlcmVyLmNyZWF0ZVRleHR1cmUodGhpcyx3aWR0aCxoZWlnaHQpO31pZihnYW1lLmNvbmZpZy5waXhlbEFydCl7dGhpcy5zZXRGaWx0ZXIoMSk7fX0sc2V0RmlsdGVyOmZ1bmN0aW9uIHNldEZpbHRlcihmaWx0ZXJNb2RlKXt2YXIgZ2FtZT10aGlzLnRleHR1cmUubWFuYWdlci5nYW1lO2lmKGdhbWUuY29uZmlnLnJlbmRlclR5cGU9PT1DT05TVC5XRUJHTCl7Z2FtZS5yZW5kZXJlci5zZXRUZXh0dXJlRmlsdGVyTW9kZSh0aGlzLmdsVGV4dHVyZSxmaWx0ZXJNb2RlKTt9fX0pO21vZHVsZS5leHBvcnRzPVRleHR1cmVTb3VyY2U7LyoqKi99LC8qIDczOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYXNzPV9fd2VicGFja19yZXF1aXJlX18oMCk7dmFyIEdldFZhbHVlPV9fd2VicGFja19yZXF1aXJlX18oMik7dmFyIE5PT1A9X193ZWJwYWNrX3JlcXVpcmVfXygyOCk7dmFyIFJlcXVlc3RBbmltYXRpb25GcmFtZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSk7Ly8gIEZyYW1lIFJhdGUgY29uZmlnXG4vLyAgICAgIGZwczoge1xuLy8gICAgICAgICAgbWluOiAxMCxcbi8vICAgICAgICAgIHRhcmdldDogNjAsXG4vLyAgICAgICAgICBmb3JjZVNldFRpbWVPdXQ6IGZhbHNlLFxuLy8gICAgICAgICAgZGVsdGFIaXN0b3J5OiAxMCxcbi8vICAgICAgICAgIHBhbmljTWF4OiAxMjBcbi8vICAgICB9XG4vLyBodHRwOi8vd3d3LnRlc3R1Zm8uY29tLyN0ZXN0PWFuaW1hdGlvbi10aW1lLWdyYXBoXG52YXIgVGltZVN0ZXA9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIFRpbWVTdGVwKGdhbWUsY29uZmlnKXt0aGlzLmdhbWU9Z2FtZTt0aGlzLnJhZj1uZXcgUmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7dGhpcy5zdGFydGVkPWZhbHNlO3RoaXMucnVubmluZz1mYWxzZTt0aGlzLm1pbkZwcz1HZXRWYWx1ZShjb25maWcsJ21pbicsNSk7dGhpcy50YXJnZXRGcHM9R2V0VmFsdWUoY29uZmlnLCd0YXJnZXQnLDYwKTt0aGlzLl9taW49MTAwMC90aGlzLm1pbkZwczsvLyAgMjAwbXMgYmV0d2VlbiBmcmFtZXMgKGkuZS4gc3VwZXIgc2xvdyEpXG50aGlzLl90YXJnZXQ9MTAwMC90aGlzLnRhcmdldEZwczsvLyAgMTYuNjY2bXMgYmV0d2VlbiBmcmFtZXMgKGkuZS4gbm9ybWFsKVxuLy8gIDIwMCAvIDEwMDAgPSAwLjIgKDVmcHMpXG4vLyAgOC4zMzMgLyAxMDAwID0gMC4wMDgzMzMgKDEyMGZwcylcbi8vICAxNi42NjYgLyAxMDAwID0gMC4wMTY2NiAoNjBmcHMpXG4vKipcbiAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gZnBzIC0gQW4gZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIGZyYW1lcyBwZXIgc2Vjb25kLlxuICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAqL3RoaXMuYWN0dWFsRnBzPXRoaXMudGFyZ2V0RnBzO3RoaXMubmV4dEZwc1VwZGF0ZT0wO3RoaXMuZnJhbWVzVGhpc1NlY29uZD0wO3RoaXMuY2FsbGJhY2s9Tk9PUDt0aGlzLmZvcmNlU2V0VGltZU91dD1HZXRWYWx1ZShjb25maWcsJ2ZvcmNlU2V0VGltZU91dCcsZmFsc2UpO3RoaXMudGltZT0wO3RoaXMuc3RhcnRUaW1lPTA7dGhpcy5sYXN0VGltZT0wO3RoaXMuZnJhbWU9MDt0aGlzLmluRm9jdXM9dHJ1ZTt0aGlzLl9wYXVzZVRpbWU9MDt0aGlzLl9jb29sRG93bj0wO3RoaXMuZGVsdGE9MDt0aGlzLmRlbHRhSW5kZXg9MDt0aGlzLmRlbHRhSGlzdG9yeT1bXTt0aGlzLmRlbHRhU21vb3RoaW5nTWF4PUdldFZhbHVlKGNvbmZpZywnZGVsdGFIaXN0b3J5JywxMCk7dGhpcy5wYW5pY01heD1HZXRWYWx1ZShjb25maWcsJ3BhbmljTWF4JywxMjApOy8vICBUaGUgYWN0dWFsIGVsYXBzZWQgdGltZSBpbiBtcyBiZXR3ZWVuIG9uZSB1cGRhdGUgYW5kIHRoZSBuZXh0LlxuLy8gIE5vIHNtb290aGluZywgbm8gY2FwcGluZywgbm8gYXZlcmFnaW5nLiBTbyBwbGVhc2UgYmUgYXdhcmUgb2YgdGhpcyB3aGVuIHVzaW5nIHRoZSBjb250ZW50cyBvZiB0aGlzIHByb3BlcnR5LlxudGhpcy5yYXdEZWx0YT0wO30sLy8gIENhbGxlZCB3aGVuIHRoZSBET00gd2luZG93Lm9uQmx1ciBldmVudCB0cmlnZ2Vyc1xuYmx1cjpmdW5jdGlvbiBibHVyKCl7dGhpcy5pbkZvY3VzPWZhbHNlOy8vIGNvbnNvbGUubG9nKCdUaW1lU3RlcC5ibHVyJyk7XG59LC8vICBDYWxsZWQgd2hlbiB0aGUgRE9NIHdpbmRvdy5vbkZvY3VzIGV2ZW50IHRyaWdnZXJzXG5mb2N1czpmdW5jdGlvbiBmb2N1cygpe3RoaXMuaW5Gb2N1cz10cnVlOy8vIGNvbnNvbGUubG9nKCdUaW1lU3RlcC5mb2N1cycpO1xudGhpcy5yZXNldERlbHRhKCk7fSwvLyAgQ2FsbGVkIHdoZW4gdGhlIHZpc2liaWxpdHkgQVBJIHNheXMgdGhlIGdhbWUgaXMgJ2hpZGRlbicgKHRhYiBzd2l0Y2gsIGV0YylcbnBhdXNlOmZ1bmN0aW9uIHBhdXNlKCl7Ly8gY29uc29sZS5sb2coJ1RpbWVTdGVwLnBhdXNlJyk7XG50aGlzLl9wYXVzZVRpbWU9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpO30sLy8gIENhbGxlZCB3aGVuIHRoZSB2aXNpYmlsaXR5IEFQSSBzYXlzIHRoZSBnYW1lIGlzICd2aXNpYmxlJyBhZ2FpbiAodGFiIHN3aXRjaCwgZXRjKVxucmVzdW1lOmZ1bmN0aW9uIHJlc3VtZSgpe3RoaXMucmVzZXREZWx0YSgpO3RoaXMuc3RhcnRUaW1lKz10aGlzLnRpbWUtdGhpcy5fcGF1c2VUaW1lOy8vIGNvbnNvbGUubG9nKCdUaW1lU3RlcC5yZXN1bWUgLSBwYXVzZWQgZm9yJywgKHRoaXMudGltZSAtIHRoaXMuX3BhdXNlVGltZSkpO1xufSxyZXNldERlbHRhOmZ1bmN0aW9uIHJlc2V0RGVsdGEoKXt2YXIgbm93PXdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTt0aGlzLnRpbWU9bm93O3RoaXMubGFzdFRpbWU9bm93O3RoaXMubmV4dEZwc1VwZGF0ZT1ub3crMTAwMDt0aGlzLmZyYW1lc1RoaXNTZWNvbmQ9MDt0aGlzLmZyYW1lPTA7Ly8gIFByZS1wb3B1bGF0ZSBzbW9vdGhpbmcgYXJyYXlcbmZvcih2YXIgaT0wO2k8dGhpcy5kZWx0YVNtb290aGluZ01heDtpKyspe3RoaXMuZGVsdGFIaXN0b3J5W2ldPU1hdGgubWluKHRoaXMuX3RhcmdldCx0aGlzLmRlbHRhSGlzdG9yeVtpXSk7fXRoaXMuZGVsdGE9MDt0aGlzLmRlbHRhSW5kZXg9MDt0aGlzLl9jb29sRG93bj10aGlzLnBhbmljTWF4O30sc3RhcnQ6ZnVuY3Rpb24gc3RhcnQoY2FsbGJhY2spe2lmKHRoaXMuc3RhcnRlZCl7cmV0dXJuIHRoaXM7fXRoaXMuc3RhcnRlZD10cnVlO3RoaXMucnVubmluZz10cnVlO2Zvcih2YXIgaT0wO2k8dGhpcy5kZWx0YVNtb290aGluZ01heDtpKyspe3RoaXMuZGVsdGFIaXN0b3J5W2ldPXRoaXMuX3RhcmdldDt9dGhpcy5yZXNldERlbHRhKCk7dGhpcy5zdGFydFRpbWU9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpO3RoaXMuY2FsbGJhY2s9Y2FsbGJhY2s7dGhpcy5yYWYuc3RhcnQodGhpcy5zdGVwLmJpbmQodGhpcyksdGhpcy5mb3JjZVNldFRpbWVPdXQpO30sLy8gIHRpbWUgY29tZXMgZnJvbSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYW5kIGlzIGVpdGhlciBhIGhpZ2ggcmVzIHRpbWUgdmFsdWUsXG4vLyAgb3IgRGF0ZS5ub3cgaWYgdXNpbmcgc2V0VGltZW91dFxuc3RlcDpmdW5jdGlvbiBzdGVwKHRpbWUpey8vICBEZWJ1ZyBvbmx5XG4vLyB2YXIgZGVidWcgPSAwO1xuLy8gdmFyIGR1bXAgPSBbXTtcbnRoaXMuZnJhbWUrKzt0aGlzLnJhd0RlbHRhPXRpbWUtdGhpcy5sYXN0VGltZTt2YXIgaWR4PXRoaXMuZGVsdGFJbmRleDt2YXIgaGlzdG9yeT10aGlzLmRlbHRhSGlzdG9yeTt2YXIgbWF4PXRoaXMuZGVsdGFTbW9vdGhpbmdNYXg7Ly8gIGRlbHRhIHRpbWUgKHRpbWUgaXMgaW4gbXMpXG52YXIgZHQ9dGltZS10aGlzLmxhc3RUaW1lOy8vICBXaGVuIGEgYnJvd3NlciBzd2l0Y2hlcyB0YWIsIHRoZW4gY29tZXMgYmFjayBhZ2FpbiwgaXQgdGFrZXMgYXJvdW5kIDEwIGZyYW1lcyBiZWZvcmVcbi8vICB0aGUgZGVsdGEgdGltZSBzZXR0bGVzIGRvd24gc28gd2UgZW1wbG95IGEgJ2Nvb2xpbmcgZG93bicgcGVyaW9kIGJlZm9yZSB3ZSBzdGFydFxuLy8gIHRydXN0aW5nIHRoZSBkZWx0YSB2YWx1ZXMgYWdhaW4sIHRvIGF2b2lkIHNwaWtlcyBmbG9vZGluZyB0aHJvdWdoIG91ciBkZWx0YSBhdmVyYWdlXG5pZih0aGlzLl9jb29sRG93bj4wfHwhdGhpcy5pbkZvY3VzKXt0aGlzLl9jb29sRG93bi0tO2R0PU1hdGgubWluKGR0LHRoaXMuX3RhcmdldCk7Ly8gZGVidWcgPSAodGltZSAtIHRoaXMubGFzdFRpbWUpO1xufWlmKGR0PnRoaXMuX21pbil7Ly8gIFByb2JhYmx5IHN1cGVyIGJhZCBzdGFydCB0aW1lIG9yIGJyb3dzZXIgdGFiIGNvbnRleHQgbG9zcyxcbi8vICBzbyB1c2UgdGhlIGxhc3QgJ3NhbmUnIGR0IHZhbHVlXG4vLyBkZWJ1ZyA9IGR0O1xuZHQ9aGlzdG9yeVtpZHhdOy8vICBDbGFtcCBkZWx0YSB0byBtaW4gKGluIGNhc2UgaGlzdG9yeSBoYXMgYmVjb21lIGNvcnJ1cHRlZCBzb21laG93KVxuZHQ9TWF0aC5taW4oZHQsdGhpcy5fbWluKTt9Ly8gIFNtb290aCBvdXQgdGhlIGRlbHRhIG92ZXIgdGhlIHByZXZpb3VzIFggZnJhbWVzXG4vLyAgYWRkIHRoZSBkZWx0YSB0byB0aGUgc21vb3RoaW5nIGFycmF5XG5oaXN0b3J5W2lkeF09ZHQ7Ly8gIGFkanVzdHMgdGhlIGRlbHRhIGhpc3RvcnkgYXJyYXkgaW5kZXggYmFzZWQgb24gdGhlIHNtb290aGluZyBjb3VudFxuLy8gIHRoaXMgc3RvcHMgdGhlIGFycmF5IGdyb3dpbmcgYmV5b25kIHRoZSBzaXplIG9mIGRlbHRhU21vb3RoaW5nTWF4XG50aGlzLmRlbHRhSW5kZXgrKztpZih0aGlzLmRlbHRhSW5kZXg+bWF4KXt0aGlzLmRlbHRhSW5kZXg9MDt9Ly8gIERlbHRhIEF2ZXJhZ2VcbnZhciBhdmc9MDsvLyAgTG9vcCB0aGUgaGlzdG9yeSBhcnJheSwgYWRkaW5nIHRoZSBkZWx0YSB2YWx1ZXMgdG9nZXRoZXJcbmZvcih2YXIgaT0wO2k8bWF4O2krKyl7Ly8gICBEZWJ1Z1xuLy8gaWYgKGhpc3RvcnlbaV0gPCAxNiB8fCBoaXN0b3J5W2ldID4gMTcpXG4vLyB7XG4vLyAgICAgZHVtcC5wdXNoKHsgaTogaSwgZHQ6IGhpc3RvcnlbaV0gfSk7XG4vLyB9XG5hdmcrPWhpc3RvcnlbaV07fS8vICBUaGVuIGRpdmlkZSBieSB0aGUgYXJyYXkgbGVuZ3RoIHRvIGdldCB0aGUgYXZlcmFnZSBkZWx0YVxuYXZnLz1tYXg7Ly8gIFNldCBhcyB0aGUgd29ybGQgZGVsdGEgdmFsdWVcbnRoaXMuZGVsdGE9YXZnOy8vICBSZWFsLXdvcmxkIHRpbWVyIGFkdmFuY2Vcbi8vIHRoaXMudGltZSArPSBhdmc7XG50aGlzLnRpbWUrPXRoaXMucmF3RGVsdGE7Ly8gVXBkYXRlIHRoZSBlc3RpbWF0ZSBvZiB0aGUgZnJhbWUgcmF0ZSwgYGZwc2AuIEV2ZXJ5IHNlY29uZCwgdGhlIG51bWJlclxuLy8gb2YgZnJhbWVzIHRoYXQgb2NjdXJyZWQgaW4gdGhhdCBzZWNvbmQgYXJlIGluY2x1ZGVkIGluIGFuIGV4cG9uZW50aWFsXG4vLyBtb3ZpbmcgYXZlcmFnZSBvZiBhbGwgZnJhbWVzIHBlciBzZWNvbmQsIHdpdGggYW4gYWxwaGEgb2YgMC4yNS4gVGhpc1xuLy8gbWVhbnMgdGhhdCBtb3JlIHJlY2VudCBzZWNvbmRzIGFmZmVjdCB0aGUgZXN0aW1hdGVkIGZyYW1lIHJhdGUgbW9yZSB0aGFuXG4vLyBvbGRlciBzZWNvbmRzLlxuLy9cbi8vIFdoZW4gYSBicm93c2VyIHdpbmRvdyBpcyBOT1QgbWluaW1pemVkLCBidXQgaXMgY292ZXJlZCB1cCAoaS5lLiB5b3UncmUgdXNpbmdcbi8vIGFub3RoZXIgYXBwIHdoaWNoIGhhcyBzcGF3bmVkIGEgd2luZG93IG92ZXIgdGhlIHRvcCBvZiB0aGUgYnJvd3NlciksIHRoZW4gaXRcbi8vIHdpbGwgc3RhcnQgdG8gdGhyb3R0bGUgdGhlIHJhZiBjYWxsYmFjayB0aW1lLiBJdCB3YWl0cyBmb3IgYSB3aGlsZSwgYW5kIHRoZW5cbi8vIHN0YXJ0cyB0byBkcm9wIHRoZSBmcmFtZSByYXRlIGF0IDEgZnJhbWUgcGVyIHNlY29uZCB1bnRpbCBpdCdzIGRvd24gdG8ganVzdCBvdmVyIDFmcHMuXG4vLyBTbyBpZiB0aGUgZ2FtZSB3YXMgcnVubmluZyBhdCA2MGZwcywgYW5kIHRoZSBwbGF5ZXIgb3BlbnMgYSBuZXcgd2luZG93LCB0aGVuXG4vLyBhZnRlciA2MCBzZWNvbmRzICgrIHRoZSAnYnVmZmVyIHRpbWUnKSBpdCdsbCBiZSBkb3duIHRvIDFmcHMsIHNvIHJhZmluJ2cgYXQgMUh6LlxuLy9cbi8vIFdoZW4gdGhleSBtYWtlIHRoZSBnYW1lIHZpc2libGUgYWdhaW4sIHRoZSBmcmFtZSByYXRlIGlzIGluY3JlYXNlZCBhdCBhIHJhdGUgb2Zcbi8vIGFwcHJveC4gOGZwcywgYmFjayB1cCB0byA2MGZwcyAob3IgdGhlIG1heCBpdCBjYW4gb2J0YWluKVxuLy9cbi8vIFRoZXJlIGlzIG5vIGVhc3kgd2F5IHRvIGRldGVybWluZSBpZiB0aGlzIGRyb3AgaW4gZnJhbWUgcmF0ZSBpcyBiZWNhdXNlIHRoZVxuLy8gYnJvd3NlciBpcyB0aHJvdHRsaW5nIHJhZiwgb3IgYmVjYXVzZSB0aGUgZ2FtZSBpcyBzdHJ1Z2dsaW5nIHdpdGggcGVyZm9ybWFuY2Vcbi8vIGJlY2F1c2UgeW91J3JlIGFza2luZyBpdCB0byBkbyB0b28gbXVjaCBvbiB0aGUgZGV2aWNlLlxuaWYodGltZT50aGlzLm5leHRGcHNVcGRhdGUpey8vICBDb21wdXRlIHRoZSBuZXcgZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugd2l0aCBhbiBhbHBoYSBvZiAwLjI1LlxudGhpcy5hY3R1YWxGcHM9MC4yNSp0aGlzLmZyYW1lc1RoaXNTZWNvbmQrMC43NSp0aGlzLmFjdHVhbEZwczt0aGlzLm5leHRGcHNVcGRhdGU9dGltZSsxMDAwO3RoaXMuZnJhbWVzVGhpc1NlY29uZD0wOy8vIGlmICh0aGlzLmFjdHVhbEZwcyA8IDU2KVxuLy8ge1xuLy8gICAgIGNvbnNvbGUubG9nKHRoaXMuYWN0dWFsRnBzKTtcbi8vICAgICBjb25zb2xlLmxvZygnRicsIHRoaXMuZnJhbWUsICdBdmcnLCBhdmcsICdEdCcsIGRlYnVnLCAnUGFuaWMnLCB0aGlzLl9jb29sRG93bik7XG4vLyB9XG59dGhpcy5mcmFtZXNUaGlzU2Vjb25kKys7Ly8gIEludGVycG9sYXRpb24gLSBob3cgZmFyIGJldHdlZW4gd2hhdCBpcyBleHBlY3RlZCBhbmQgd2hlcmUgd2UgYXJlP1xudmFyIGludGVycG9sYXRpb249YXZnL3RoaXMuX3RhcmdldDt0aGlzLmNhbGxiYWNrKHRpbWUsYXZnLGludGVycG9sYXRpb24pOy8vICBTaGlmdCB0aW1lIHZhbHVlIG92ZXJcbnRoaXMubGFzdFRpbWU9dGltZTsvLyBpZiAoZGVidWcgIT09IDApXG4vLyB7XG4vLyAgICAgY29uc29sZS5sb2coJ0YnLCB0aGlzLmZyYW1lLCAnQXZnJywgYXZnLCAnRHQnLCBkZWJ1ZywgJ1BhbmljJywgdGhpcy5fY29vbERvd24pO1xuLy8gfVxuLypcbiAgICAgICAgaWYgKGRlYnVnICE9PSAwIHx8IGR1bXAubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwKCdGcmFtZSAnICsgdGhpcy5mcmFtZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSW50ZXJwb2xhdGlvbicsIGludGVycG9sYXRpb24sICclJyk7XG5cbiAgICAgICAgICAgIGlmIChkZWJ1ZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRWxhcHNlZCcsIGRlYnVnLCAnbXMnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0ZyYW1lJywgdGhpcy5mcmFtZSwgJ0RlbHRhJywgYXZnLCAnKGF2ZXJhZ2UpJywgZGVidWcsICcobm93KScpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVsdGEnLCBhdmcsICcoYXZlcmFnZSknKTtcblxuICAgICAgICAgICAgaWYgKGR1bXAubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUudGFibGUoZHVtcCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICAqL30sdGljazpmdW5jdGlvbiB0aWNrKCl7dGhpcy5zdGVwKHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSk7fSxzbGVlcDpmdW5jdGlvbiBzbGVlcCgpe2lmKHRoaXMucnVubmluZyl7dGhpcy5yYWYuc3RvcCgpO3RoaXMucnVubmluZz1mYWxzZTt9fSx3YWtlOmZ1bmN0aW9uIHdha2Uoc2VhbWxlc3Mpe2lmKHRoaXMucnVubmluZyl7dGhpcy5zbGVlcCgpO31lbHNlIGlmKHNlYW1sZXNzKXt0aGlzLnN0YXJ0VGltZSs9LXRoaXMubGFzdFRpbWUrKHRoaXMubGFzdFRpbWU9d2luZG93LnBlcmZvcm1hbmNlLm5vdygpKTt9dGhpcy5yYWYuc3RhcnQodGhpcy5zdGVwLmJpbmQodGhpcyksdGhpcy51c2VSQUYpO3RoaXMucnVubmluZz10cnVlO3RoaXMuc3RlcCh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpO30sc2V0RnBzOmZ1bmN0aW9uIHNldEZwcyh2YWx1ZSl7dGhpcy5mcHM9dmFsdWU7dGhpcy53YWtlKCk7fSxnZXRGcHM6ZnVuY3Rpb24gZ2V0RnBzKCl7cmV0dXJuIHRoaXMuZnBzO30sc3RvcDpmdW5jdGlvbiBzdG9wKCl7dGhpcy5ydW5uaW5nPWZhbHNlO3RoaXMuc3RhcnRlZD1mYWxzZTt0aGlzLnJhZi5zdG9wKCk7cmV0dXJuIHRoaXM7fSxkZXN0cm95OmZ1bmN0aW9uIGRlc3Ryb3koKXt9fSk7bW9kdWxlLmV4cG9ydHM9VGltZVN0ZXA7LyoqKi99LC8qIDczOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5HZW9tXG5tb2R1bGUuZXhwb3J0cz17Q2lyY2xlOl9fd2VicGFja19yZXF1aXJlX18oNzQwKSxFbGxpcHNlOl9fd2VicGFja19yZXF1aXJlX18oNzUyKSxJbnRlcnNlY3RzOl9fd2VicGFja19yZXF1aXJlX18oNzYzKSxMaW5lOl9fd2VicGFja19yZXF1aXJlX18oNzc0KSxQb2ludDpfX3dlYnBhY2tfcmVxdWlyZV9fKDc5NCksUG9seWdvbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDgxNCksUmVjdGFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oODE5KSxUcmlhbmdsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDg0NSl9Oy8qKiovfSwvKiA3NDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR2VvbS5DaXJjbGVcbnZhciBDaXJjbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0OCk7Q2lyY2xlLkFyZWE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NDEpO0NpcmNsZS5DaXJjdW1mZXJlbmNlPV9fd2VicGFja19yZXF1aXJlX18oNzQyKTtDaXJjbGUuQ2lyY3VtZmVyZW5jZVBvaW50PV9fd2VicGFja19yZXF1aXJlX18oNzQzKTtDaXJjbGUuQ2xvbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg3NDQpO0NpcmNsZS5Db250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTtDaXJjbGUuQ29udGFpbnNQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0NSk7Q2lyY2xlLkNvbnRhaW5zUmVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0Nik7Q2lyY2xlLkNvcHlGcm9tPV9fd2VicGFja19yZXF1aXJlX18oNzQ3KTtDaXJjbGUuRXF1YWxzPV9fd2VicGFja19yZXF1aXJlX18oNzQ4KTtDaXJjbGUuR2V0Qm91bmRzPV9fd2VicGFja19yZXF1aXJlX18oNzQ5KTtDaXJjbGUuT2Zmc2V0PV9fd2VicGFja19yZXF1aXJlX18oNzUwKTtDaXJjbGUuT2Zmc2V0UG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3NTEpO0NpcmNsZS5SYW5kb209X193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO21vZHVsZS5leHBvcnRzPUNpcmNsZTsvKioqL30sLyogNzQxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEFyZWE9ZnVuY3Rpb24gQXJlYShjaXJjbGUpe3JldHVybiBjaXJjbGUucmFkaXVzPjA/TWF0aC5QSSpjaXJjbGUucmFkaXVzKmNpcmNsZS5yYWRpdXM6MDt9O21vZHVsZS5leHBvcnRzPUFyZWE7LyoqKi99LC8qIDc0MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDaXJjdW1mZXJlbmNlPWZ1bmN0aW9uIENpcmN1bWZlcmVuY2UoY2lyY2xlKXtyZXR1cm4gMiooTWF0aC5QSSpjaXJjbGUucmFkaXVzKTt9O21vZHVsZS5leHBvcnRzPUNpcmN1bWZlcmVuY2U7LyoqKi99LC8qIDc0MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBSZXR1cm5zIGEgUG9pbnQgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIGEgcG9pbnQgb24gdGhlIGNpcmN1bWZlcmVuY2Ugb2YgdGhlIENpcmNsZSBiYXNlZCBvbiB0aGUgZ2l2ZW4gYW5nbGUuXG4qL3ZhciBDaXJjdW1mZXJlbmNlUG9pbnQ9ZnVuY3Rpb24gQ2lyY3VtZmVyZW5jZVBvaW50KGNpcmNsZSxhbmdsZSxvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PXt4OjAseTowfTt9b3V0Lng9Y2lyY2xlLngrY2lyY2xlLnJhZGl1cypNYXRoLmNvcyhhbmdsZSk7b3V0Lnk9Y2lyY2xlLnkrY2lyY2xlLnJhZGl1cypNYXRoLnNpbihhbmdsZSk7cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUNpcmN1bWZlcmVuY2VQb2ludDsvKioqL30sLyogNzQ0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ2lyY2xlPV9fd2VicGFja19yZXF1aXJlX18oNDgpO3ZhciBDbG9uZT1mdW5jdGlvbiBDbG9uZShzb3VyY2Upe3JldHVybiBuZXcgQ2lyY2xlKHNvdXJjZS54LHNvdXJjZS55LHNvdXJjZS5yYWRpdXMpO307bW9kdWxlLmV4cG9ydHM9Q2xvbmU7LyoqKi99LC8qIDc0NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oMzYpO3ZhciBDb250YWluc1BvaW50PWZ1bmN0aW9uIENvbnRhaW5zUG9pbnQoY2lyY2xlLHBvaW50KXtyZXR1cm4gQ29udGFpbnMoY2lyY2xlLHBvaW50LngscG9pbnQueSk7fTttb2R1bGUuZXhwb3J0cz1Db250YWluc1BvaW50Oy8qKiovfSwvKiA3NDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDb250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM2KTt2YXIgQ29udGFpbnNSZWN0PWZ1bmN0aW9uIENvbnRhaW5zUmVjdChjaXJjbGUscmVjdCl7cmV0dXJuIENvbnRhaW5zKGNpcmNsZSxyZWN0LngscmVjdC55KSYmQ29udGFpbnMoY2lyY2xlLHJlY3QucmlnaHQscmVjdC55KSYmQ29udGFpbnMoY2lyY2xlLHJlY3QueCxyZWN0LmJvdHRvbSkmJkNvbnRhaW5zKGNpcmNsZSxyZWN0LnJpZ2h0LHJlY3QuYm90dG9tKTt9O21vZHVsZS5leHBvcnRzPUNvbnRhaW5zUmVjdDsvKioqL30sLyogNzQ3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIENvcGllcyB0aGUgeCwgeSBhbmQgZGlhbWV0ZXIgcHJvcGVydGllcyBmcm9tIGFueSBnaXZlbiBvYmplY3QgdG8gdGhpcyBDaXJjbGUuXG4qL3ZhciBDb3B5RnJvbT1mdW5jdGlvbiBDb3B5RnJvbShzb3VyY2UsZGVzdCl7cmV0dXJuIGRlc3Quc2V0VG8oc291cmNlLngsc291cmNlLnksc291cmNlLnJhZGl1cyk7fTttb2R1bGUuZXhwb3J0cz1Db3B5RnJvbTsvKioqL30sLyogNzQ4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEVxdWFscz1mdW5jdGlvbiBFcXVhbHMoY2lyY2xlLHRvQ29tcGFyZSl7cmV0dXJuIGNpcmNsZS54PT09dG9Db21wYXJlLngmJmNpcmNsZS55PT09dG9Db21wYXJlLnkmJmNpcmNsZS5yYWRpdXM9PT10b0NvbXBhcmUucmFkaXVzO307bW9kdWxlLmV4cG9ydHM9RXF1YWxzOy8qKiovfSwvKiA3NDkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBSZWN0YW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxNCk7dmFyIEdldEJvdW5kcz1mdW5jdGlvbiBHZXRCb3VuZHMoY2lyY2xlLG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9bmV3IFJlY3RhbmdsZSgpO31vdXQueD1jaXJjbGUubGVmdDtvdXQueT1jaXJjbGUudG9wO291dC53aWR0aD1jaXJjbGUuZGlhbWV0ZXI7b3V0LmhlaWdodD1jaXJjbGUuZGlhbWV0ZXI7cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUdldEJvdW5kczsvKioqL30sLyogNzUwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE9mZnNldD1mdW5jdGlvbiBPZmZzZXQoY2lyY2xlLHgseSl7Y2lyY2xlLngrPXg7Y2lyY2xlLnkrPXk7cmV0dXJuIGNpcmNsZTt9O21vZHVsZS5leHBvcnRzPU9mZnNldDsvKioqL30sLyogNzUxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIE9mZnNldFBvaW50PWZ1bmN0aW9uIE9mZnNldFBvaW50KGNpcmNsZSxwb2ludCl7Y2lyY2xlLngrPXBvaW50Lng7Y2lyY2xlLnkrPXBvaW50Lnk7cmV0dXJuIGNpcmNsZTt9O21vZHVsZS5leHBvcnRzPU9mZnNldFBvaW50Oy8qKiovfSwvKiA3NTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR2VvbS5FbGxpcHNlXG52YXIgRWxsaXBzZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg2KTtFbGxpcHNlLkFyZWE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NTMpO0VsbGlwc2UuQ2lyY3VtZmVyZW5jZVBvaW50PV9fd2VicGFja19yZXF1aXJlX18oNzU0KTtFbGxpcHNlLkNsb25lPV9fd2VicGFja19yZXF1aXJlX18oNzU1KTtFbGxpcHNlLkNvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oNTYpO0VsbGlwc2UuQ29udGFpbnNQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1Nik7RWxsaXBzZS5Db250YWluc1JlY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg3NTcpO0VsbGlwc2UuQ29weUZyb209X193ZWJwYWNrX3JlcXVpcmVfXyg3NTgpO0VsbGlwc2UuRXF1YWxzPV9fd2VicGFja19yZXF1aXJlX18oNzU5KTtFbGxpcHNlLkdldEJvdW5kcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDc2MCk7RWxsaXBzZS5PZmZzZXQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3NjEpO0VsbGlwc2UuT2Zmc2V0UG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3NjIpO0VsbGlwc2UuUmFuZG9tPV9fd2VicGFja19yZXF1aXJlX18oMTE4KTttb2R1bGUuZXhwb3J0cz1FbGxpcHNlOy8qKiovfSwvKiA3NTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQXJlYT1mdW5jdGlvbiBBcmVhKGVsbGlwc2Upe2lmKGVsbGlwc2UuaXNFbXB0eSgpKXtyZXR1cm4gMDt9Ly8gIHVuaXRzIHNxdWFyZWRcbnJldHVybiBlbGxpcHNlLmdldE1ham9yUmFkaXVzKCkqZWxsaXBzZS5nZXRNaW5vclJhZGl1cygpKk1hdGguUEk7fTttb2R1bGUuZXhwb3J0cz1BcmVhOy8qKiovfSwvKiA3NTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogUmV0dXJucyBhIFBvaW50IG9iamVjdCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiBhIHBvaW50IG9uIHRoZSBjaXJjdW1mZXJlbmNlIG9mIHRoZSBFbGxpcHNlIGJhc2VkIG9uIHRoZSBnaXZlbiBhbmdsZS5cbiovdmFyIENpcmN1bWZlcmVuY2VQb2ludD1mdW5jdGlvbiBDaXJjdW1mZXJlbmNlUG9pbnQoZWxsaXBzZSxhbmdsZSxvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PXt4OjAseTowfTt9dmFyIGE9ZWxsaXBzZS53aWR0aC8yO3ZhciBiPWVsbGlwc2UuaGVpZ2h0LzI7b3V0Lng9ZWxsaXBzZS54K2EqTWF0aC5jb3MoYW5nbGUpO291dC55PWVsbGlwc2UueStiKk1hdGguc2luKGFuZ2xlKTtyZXR1cm4gb3V0O307bW9kdWxlLmV4cG9ydHM9Q2lyY3VtZmVyZW5jZVBvaW50Oy8qKiovfSwvKiA3NTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBFbGxpcHNlPV9fd2VicGFja19yZXF1aXJlX18oODYpO3ZhciBDbG9uZT1mdW5jdGlvbiBDbG9uZShzb3VyY2Upe3JldHVybiBuZXcgRWxsaXBzZShzb3VyY2UueCxzb3VyY2UueSxzb3VyY2Uud2lkdGgsc291cmNlLmhlaWdodCk7fTttb2R1bGUuZXhwb3J0cz1DbG9uZTsvKioqL30sLyogNzU2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7dmFyIENvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24gQ29udGFpbnNQb2ludChlbGxpcHNlLHBvaW50KXtyZXR1cm4gQ29udGFpbnMoZWxsaXBzZSxwb2ludC54LHBvaW50LnkpO307bW9kdWxlLmV4cG9ydHM9Q29udGFpbnNQb2ludDsvKioqL30sLyogNzU3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXyg1Nik7dmFyIENvbnRhaW5zUmVjdD1mdW5jdGlvbiBDb250YWluc1JlY3QoZWxsaXBzZSxyZWN0KXtyZXR1cm4gQ29udGFpbnMoZWxsaXBzZSxyZWN0LngscmVjdC55KSYmQ29udGFpbnMoZWxsaXBzZSxyZWN0LnJpZ2h0LHJlY3QueSkmJkNvbnRhaW5zKGVsbGlwc2UscmVjdC54LHJlY3QuYm90dG9tKSYmQ29udGFpbnMoZWxsaXBzZSxyZWN0LnJpZ2h0LHJlY3QuYm90dG9tKTt9O21vZHVsZS5leHBvcnRzPUNvbnRhaW5zUmVjdDsvKioqL30sLyogNzU4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENvcHlGcm9tPWZ1bmN0aW9uIENvcHlGcm9tKHNvdXJjZSxkZXN0KXtyZXR1cm4gZGVzdC5zZXRUbyhzb3VyY2UueCxzb3VyY2UueSxzb3VyY2Uud2lkdGgsc291cmNlLmhlaWdodCk7fTttb2R1bGUuZXhwb3J0cz1Db3B5RnJvbTsvKioqL30sLyogNzU5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEVxdWFscz1mdW5jdGlvbiBFcXVhbHMoZWxsaXBzZSx0b0NvbXBhcmUpe3JldHVybiBlbGxpcHNlLng9PT10b0NvbXBhcmUueCYmZWxsaXBzZS55PT09dG9Db21wYXJlLnkmJmVsbGlwc2Uud2lkdGg9PT10b0NvbXBhcmUud2lkdGgmJmVsbGlwc2UuaGVpZ2h0PT09dG9Db21wYXJlLmhlaWdodDt9O21vZHVsZS5leHBvcnRzPUVxdWFsczsvKioqL30sLyogNzYwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUmVjdGFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oMTQpO3ZhciBHZXRCb3VuZHM9ZnVuY3Rpb24gR2V0Qm91bmRzKGVsbGlwc2Usb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD1uZXcgUmVjdGFuZ2xlKCk7fW91dC54PWVsbGlwc2UueC1lbGxpcHNlLndpZHRoO291dC55PWVsbGlwc2UueS1lbGxpcHNlLmhlaWdodDtvdXQud2lkdGg9ZWxsaXBzZS53aWR0aDtvdXQuaGVpZ2h0PWVsbGlwc2UuaGVpZ2h0O3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1HZXRCb3VuZHM7LyoqKi99LC8qIDc2MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBPZmZzZXQ9ZnVuY3Rpb24gT2Zmc2V0KGVsbGlwc2UseCx5KXtlbGxpcHNlLngrPXg7ZWxsaXBzZS55Kz15O3JldHVybiBlbGxpcHNlO307bW9kdWxlLmV4cG9ydHM9T2Zmc2V0Oy8qKiovfSwvKiA3NjIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgT2Zmc2V0UG9pbnQ9ZnVuY3Rpb24gT2Zmc2V0UG9pbnQoZWxsaXBzZSxwb2ludCl7ZWxsaXBzZS54Kz1wb2ludC54O2VsbGlwc2UueSs9cG9pbnQueTtyZXR1cm4gZWxsaXBzZTt9O21vZHVsZS5leHBvcnRzPU9mZnNldFBvaW50Oy8qKiovfSwvKiA3NjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR2VvbS5JbnRlcnNlY3RzXG5tb2R1bGUuZXhwb3J0cz17Q2lyY2xlVG9DaXJjbGU6X193ZWJwYWNrX3JlcXVpcmVfXyg3NjQpLENpcmNsZVRvUmVjdGFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oNzY1KSxHZXRSZWN0YW5nbGVJbnRlcnNlY3Rpb246X193ZWJwYWNrX3JlcXVpcmVfXyg3NjYpLExpbmVUb0NpcmNsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCksTGluZVRvTGluZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDU4KSxMaW5lVG9SZWN0YW5nbGU6X193ZWJwYWNrX3JlcXVpcmVfXyg3NjcpLFBvaW50VG9MaW5lOl9fd2VicGFja19yZXF1aXJlX18oMTg1KSxQb2ludFRvTGluZVNlZ21lbnQ6X193ZWJwYWNrX3JlcXVpcmVfXyg3NjgpLFJlY3RhbmdsZVRvUmVjdGFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oMTgzKSxSZWN0YW5nbGVUb1RyaWFuZ2xlOl9fd2VicGFja19yZXF1aXJlX18oNzY5KSxSZWN0YW5nbGVUb1ZhbHVlczpfX3dlYnBhY2tfcmVxdWlyZV9fKDc3MCksVHJpYW5nbGVUb0NpcmNsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDc3MSksVHJpYW5nbGVUb0xpbmU6X193ZWJwYWNrX3JlcXVpcmVfXyg3NzIpLFRyaWFuZ2xlVG9UcmlhbmdsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDc3Myl9Oy8qKiovfSwvKiA3NjQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBEaXN0YW5jZUJldHdlZW49X193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7dmFyIENpcmNsZVRvQ2lyY2xlPWZ1bmN0aW9uIENpcmNsZVRvQ2lyY2xlKGNpcmNsZUEsY2lyY2xlQil7cmV0dXJuIERpc3RhbmNlQmV0d2VlbihjaXJjbGVBLngsY2lyY2xlQS55LGNpcmNsZUIueCxjaXJjbGVCLnkpPD1jaXJjbGVBLnJhZGl1cytjaXJjbGVCLnJhZGl1czt9O21vZHVsZS5leHBvcnRzPUNpcmNsZVRvQ2lyY2xlOy8qKiovfSwvKiA3NjUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ2lyY2xlVG9SZWN0YW5nbGU9ZnVuY3Rpb24gQ2lyY2xlVG9SZWN0YW5nbGUoY2lyY2xlLHJlY3Qpe3ZhciBoYWxmV2lkdGg9cmVjdC53aWR0aC8yO3ZhciBoYWxmSGVpZ2h0PXJlY3QuaGVpZ2h0LzI7dmFyIGN4PU1hdGguYWJzKGNpcmNsZS54LXJlY3QueC1oYWxmV2lkdGgpO3ZhciB4RGlzdD1oYWxmV2lkdGgrY2lyY2xlLnJhZGl1cztpZihjeDw9aGFsZldpZHRofHxjeD54RGlzdCl7cmV0dXJuIGZhbHNlO312YXIgY3k9TWF0aC5hYnMoY2lyY2xlLnktcmVjdC55LWhhbGZIZWlnaHQpO3ZhciB5RGlzdD1oYWxmSGVpZ2h0K2NpcmNsZS5yYWRpdXM7aWYoY3k8PWhhbGZIZWlnaHR8fGN5PnlEaXN0KXtyZXR1cm4gZmFsc2U7fXZhciB4Q29ybmVyRGlzdD1jeC1oYWxmV2lkdGg7dmFyIHlDb3JuZXJEaXN0PWN5LWhhbGZIZWlnaHQ7dmFyIHhDb3JuZXJEaXN0U3E9eENvcm5lckRpc3QqeENvcm5lckRpc3Q7dmFyIHlDb3JuZXJEaXN0U3E9eUNvcm5lckRpc3QqeUNvcm5lckRpc3Q7dmFyIG1heENvcm5lckRpc3RTcT1jaXJjbGUucmFkaXVzKmNpcmNsZS5yYWRpdXM7cmV0dXJuIHhDb3JuZXJEaXN0U3EreUNvcm5lckRpc3RTcTw9bWF4Q29ybmVyRGlzdFNxO307bW9kdWxlLmV4cG9ydHM9Q2lyY2xlVG9SZWN0YW5nbGU7LyoqKi99LC8qIDc2NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJlY3RhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTt2YXIgUmVjdGFuZ2xlVG9SZWN0YW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxODMpO3ZhciBHZXRSZWN0YW5nbGVJbnRlcnNlY3Rpb249ZnVuY3Rpb24gR2V0UmVjdGFuZ2xlSW50ZXJzZWN0aW9uKHJlY3RBLHJlY3RCLG91dHB1dCl7aWYob3V0cHV0PT09dW5kZWZpbmVkKXtvdXRwdXQ9bmV3IFJlY3RhbmdsZSgpO31pZihSZWN0YW5nbGVUb1JlY3RhbmdsZShyZWN0QSxyZWN0Qikpe291dHB1dC54PU1hdGgubWF4KHJlY3RBLngscmVjdEIueCk7b3V0cHV0Lnk9TWF0aC5tYXgocmVjdEEueSxyZWN0Qi55KTtvdXRwdXQud2lkdGg9TWF0aC5taW4ocmVjdEEucmlnaHQscmVjdEIucmlnaHQpLW91dHB1dC54O291dHB1dC5oZWlnaHQ9TWF0aC5taW4ocmVjdEEuYm90dG9tLHJlY3RCLmJvdHRvbSktb3V0cHV0Lnk7fXJldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1HZXRSZWN0YW5nbGVJbnRlcnNlY3Rpb247LyoqKi99LC8qIDc2NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBDaGVja3MgZm9yIGludGVyc2VjdGlvbiBiZXR3ZWVuIHRoZSBMaW5lIGFuZCBhIFJlY3RhbmdsZSBzaGFwZSwgb3IgYSByZWN0YW5nbGUtbGlrZVxuKiBvYmplY3QsIHdpdGggcHVibGljIGB4YCwgYHlgLCBgcmlnaHRgIGFuZCBgYm90dG9tYCBwcm9wZXJ0aWVzLCBzdWNoIGFzIGEgU3ByaXRlIG9yIEJvZHkuXG4qXG4qIEFuIGludGVyc2VjdGlvbiBpcyBjb25zaWRlcmVkIHZhbGlkIGlmOlxuKlxuKiBUaGUgbGluZSBzdGFydHMgd2l0aGluLCBvciBlbmRzIHdpdGhpbiwgdGhlIFJlY3RhbmdsZS5cbiogVGhlIGxpbmUgc2VnbWVudCBpbnRlcnNlY3RzIG9uZSBvZiB0aGUgNCByZWN0YW5nbGUgZWRnZXMuXG4qXG4qIFRoZSBmb3IgdGhlIHB1cnBvc2VzIG9mIHRoaXMgZnVuY3Rpb24gcmVjdGFuZ2xlcyBhcmUgY29uc2lkZXJlZCAnc29saWQnLlxuKi92YXIgTGluZVRvUmVjdGFuZ2xlPWZ1bmN0aW9uIExpbmVUb1JlY3RhbmdsZShsaW5lLHJlY3Qpe3ZhciB4MT1saW5lLngxO3ZhciB5MT1saW5lLnkyO3ZhciB4Mj1saW5lLngyO3ZhciB5Mj1saW5lLnkyO3ZhciBieDE9cmVjdC54O3ZhciBieTE9cmVjdC55O3ZhciBieDI9cmVjdC5yaWdodDt2YXIgYnkyPXJlY3QuYm90dG9tO3ZhciB0PTA7Ly8gIElmIHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGxpbmUgaXMgaW5zaWRlIHRoZSByZWN0IHRoZW4gd2UgYXNzdW1lXG4vLyAgY29sbGlzaW9uLCBhcyByZWN0cyBhcmUgc29saWQgZm9yIG91ciB1c2UtY2FzZS5cbmlmKHgxPj1ieDEmJngxPD1ieDImJnkxPj1ieTEmJnkxPD1ieTJ8fHgyPj1ieDEmJngyPD1ieDImJnkyPj1ieTEmJnkyPD1ieTIpe3JldHVybiB0cnVlO31pZih4MTxieDEmJngyPj1ieDEpey8vICBMZWZ0IGVkZ2VcbnQ9eTErKHkyLXkxKSooYngxLXgxKS8oeDIteDEpO2lmKHQ+YnkxJiZ0PD1ieTIpe3JldHVybiB0cnVlO319ZWxzZSBpZih4MT5ieDImJngyPD1ieDIpey8vICBSaWdodCBlZGdlXG50PXkxKyh5Mi15MSkqKGJ4Mi14MSkvKHgyLXgxKTtpZih0Pj1ieTEmJnQ8PWJ5Mil7cmV0dXJuIHRydWU7fX1pZih5MTxieTEmJnkyPj1ieTEpey8vICBUb3AgZWRnZVxudD14MSsoeDIteDEpKihieTEteTEpLyh5Mi15MSk7aWYodD49YngxJiZ0PD1ieDIpe3JldHVybiB0cnVlO319ZWxzZSBpZih5MT5ieTImJnkyPD1ieTIpey8vICBCb3R0b20gZWRnZVxudD14MSsoeDIteDEpKihieTIteTEpLyh5Mi15MSk7aWYodD49YngxJiZ0PD1ieDIpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307bW9kdWxlLmV4cG9ydHM9TGluZVRvUmVjdGFuZ2xlOy8qKiovfSwvKiA3NjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQb2ludFRvTGluZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4NSk7dmFyIFBvaW50VG9MaW5lU2VnbWVudD1mdW5jdGlvbiBQb2ludFRvTGluZVNlZ21lbnQocG9pbnQsbGluZSl7aWYoIVBvaW50VG9MaW5lKHBvaW50LGxpbmUpKXtyZXR1cm4gZmFsc2U7fXZhciB4TWluPU1hdGgubWluKGxpbmUueDEsbGluZS54Mik7dmFyIHhNYXg9TWF0aC5tYXgobGluZS54MSxsaW5lLngyKTt2YXIgeU1pbj1NYXRoLm1pbihsaW5lLnkxLGxpbmUueTIpO3ZhciB5TWF4PU1hdGgubWF4KGxpbmUueTEsbGluZS55Mik7cmV0dXJuIHBvaW50Lng+PXhNaW4mJnBvaW50Lng8PXhNYXgmJnBvaW50Lnk+PXlNaW4mJnBvaW50Lnk8PXlNYXg7fTttb2R1bGUuZXhwb3J0cz1Qb2ludFRvTGluZVNlZ21lbnQ7LyoqKi99LC8qIDc2OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIExpbmVUb0xpbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg1OCk7dmFyIENvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oMjcpO3ZhciBDb250YWluc0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oOTApO3ZhciBEZWNvbXBvc2U9X193ZWJwYWNrX3JlcXVpcmVfXygxODYpO3ZhciBSZWN0YW5nbGVUb1RyaWFuZ2xlPWZ1bmN0aW9uIFJlY3RhbmdsZVRvVHJpYW5nbGUocmVjdCx0cmlhbmdsZSl7Ly8gIEZpcnN0IHRoZSBjaGVhcGVzdCBvbmVzOlxuaWYodHJpYW5nbGUubGVmdD5yZWN0LnJpZ2h0fHx0cmlhbmdsZS5yaWdodDxyZWN0LmxlZnR8fHRyaWFuZ2xlLnRvcD5yZWN0LmJvdHRvbXx8dHJpYW5nbGUuYm90dG9tPHJlY3QudG9wKXtyZXR1cm4gZmFsc2U7fXZhciB0cmlBPXRyaWFuZ2xlLmdldExpbmVBKCk7dmFyIHRyaUI9dHJpYW5nbGUuZ2V0TGluZUIoKTt2YXIgdHJpQz10cmlhbmdsZS5nZXRMaW5lQygpOy8vICBBcmUgYW55IG9mIHRoZSB0cmlhbmdsZSBwb2ludHMgd2l0aGluIHRoZSByZWN0YW5nbGU/XG5pZihDb250YWlucyhyZWN0LHRyaUEueDEsdHJpQS55MSl8fENvbnRhaW5zKHJlY3QsdHJpQS54Mix0cmlBLnkyKSl7cmV0dXJuIHRydWU7fWlmKENvbnRhaW5zKHJlY3QsdHJpQi54MSx0cmlCLnkxKXx8Q29udGFpbnMocmVjdCx0cmlCLngyLHRyaUIueTIpKXtyZXR1cm4gdHJ1ZTt9aWYoQ29udGFpbnMocmVjdCx0cmlDLngxLHRyaUMueTEpfHxDb250YWlucyhyZWN0LHRyaUMueDIsdHJpQy55Mikpe3JldHVybiB0cnVlO30vLyAgQ2hlYXAgdGVzdHMgb3Zlciwgbm93IHRvIHNlZSBpZiBhbnkgb2YgdGhlIGxpbmVzIGludGVyc2VjdCAuLi5cbnZhciByZWN0QT1yZWN0LmdldExpbmVBKCk7dmFyIHJlY3RCPXJlY3QuZ2V0TGluZUIoKTt2YXIgcmVjdEM9cmVjdC5nZXRMaW5lQygpO3ZhciByZWN0RD1yZWN0LmdldExpbmVEKCk7aWYoTGluZVRvTGluZSh0cmlBLHJlY3RBKXx8TGluZVRvTGluZSh0cmlBLHJlY3RCKXx8TGluZVRvTGluZSh0cmlBLHJlY3RDKXx8TGluZVRvTGluZSh0cmlBLHJlY3REKSl7cmV0dXJuIHRydWU7fWlmKExpbmVUb0xpbmUodHJpQixyZWN0QSl8fExpbmVUb0xpbmUodHJpQixyZWN0Qil8fExpbmVUb0xpbmUodHJpQixyZWN0Qyl8fExpbmVUb0xpbmUodHJpQixyZWN0RCkpe3JldHVybiB0cnVlO31pZihMaW5lVG9MaW5lKHRyaUMscmVjdEEpfHxMaW5lVG9MaW5lKHRyaUMscmVjdEIpfHxMaW5lVG9MaW5lKHRyaUMscmVjdEMpfHxMaW5lVG9MaW5lKHRyaUMscmVjdEQpKXtyZXR1cm4gdHJ1ZTt9Ly8gIE5vbmUgb2YgdGhlIGxpbmVzIGludGVyc2VjdCwgc28gYXJlIGFueSByZWN0YW5nbGUgcG9pbnRzIHdpdGhpbiB0aGUgdHJpYW5nbGU/XG52YXIgcG9pbnRzPURlY29tcG9zZShyZWN0KTt2YXIgd2l0aGluPUNvbnRhaW5zQXJyYXkodHJpYW5nbGUscG9pbnRzLHRydWUpO3JldHVybiB3aXRoaW4ubGVuZ3RoPjA7fTttb2R1bGUuZXhwb3J0cz1SZWN0YW5nbGVUb1RyaWFuZ2xlOy8qKiovfSwvKiA3NzAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUmVjdGFuZ2xlVG9WYWx1ZXM9ZnVuY3Rpb24gUmVjdGFuZ2xlVG9WYWx1ZXMocmVjdCxsZWZ0LHJpZ2h0LHRvcCxib3R0b20sdG9sZXJhbmNlKXtpZih0b2xlcmFuY2U9PT11bmRlZmluZWQpe3RvbGVyYW5jZT0wO31yZXR1cm4hKGxlZnQ+cmVjdC5yaWdodCt0b2xlcmFuY2V8fHJpZ2h0PHJlY3QubGVmdC10b2xlcmFuY2V8fHRvcD5yZWN0LmJvdHRvbSt0b2xlcmFuY2V8fGJvdHRvbTxyZWN0LnRvcC10b2xlcmFuY2UpO307bW9kdWxlLmV4cG9ydHM9UmVjdGFuZ2xlVG9WYWx1ZXM7LyoqKi99LC8qIDc3MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIExpbmVUb0NpcmNsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4NCk7dmFyIENvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oNDYpO3ZhciBUcmlhbmdsZVRvQ2lyY2xlPWZ1bmN0aW9uIFRyaWFuZ2xlVG9DaXJjbGUodHJpYW5nbGUsY2lyY2xlKXsvLyAgRmlyc3QgdGhlIGNoZWFwZXN0IG9uZXM6XG5pZih0cmlhbmdsZS5sZWZ0PmNpcmNsZS5yaWdodHx8dHJpYW5nbGUucmlnaHQ8Y2lyY2xlLmxlZnR8fHRyaWFuZ2xlLnRvcD5jaXJjbGUuYm90dG9tfHx0cmlhbmdsZS5ib3R0b208Y2lyY2xlLnRvcCl7cmV0dXJuIGZhbHNlO31pZihDb250YWlucyh0cmlhbmdsZSxjaXJjbGUueCxjaXJjbGUueSkpe3JldHVybiB0cnVlO31pZihMaW5lVG9DaXJjbGUodHJpYW5nbGUuZ2V0TGluZUEoKSxjaXJjbGUpKXtyZXR1cm4gdHJ1ZTt9aWYoTGluZVRvQ2lyY2xlKHRyaWFuZ2xlLmdldExpbmVCKCksY2lyY2xlKSl7cmV0dXJuIHRydWU7fWlmKExpbmVUb0NpcmNsZSh0cmlhbmdsZS5nZXRMaW5lQygpLGNpcmNsZSkpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTttb2R1bGUuZXhwb3J0cz1UcmlhbmdsZVRvQ2lyY2xlOy8qKiovfSwvKiA3NzIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBMaW5lVG9MaW5lPV9fd2VicGFja19yZXF1aXJlX18oNTgpO3ZhciBDb250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTt2YXIgVHJpYW5nbGVUb0xpbmU9ZnVuY3Rpb24gVHJpYW5nbGVUb0xpbmUodHJpYW5nbGUsbGluZSl7Ly8gIElmIHRoZSBUcmlhbmdsZSBjb250YWlucyBlaXRoZXIgdGhlIHN0YXJ0IG9yIGVuZCBwb2ludCBvZiB0aGUgbGluZSwgaXQgaW50ZXJzZWN0c1xuaWYoQ29udGFpbnModHJpYW5nbGUsbGluZS5nZXRQb2ludEEoKSl8fENvbnRhaW5zKHRyaWFuZ2xlLGxpbmUuZ2V0UG9pbnRCKCkpKXtyZXR1cm4gdHJ1ZTt9Ly8gIE5vdyBjaGVjayB0aGUgbGluZSBhZ2FpbnN0IGVhY2ggbGluZSBvZiB0aGUgVHJpYW5nbGVcbmlmKExpbmVUb0xpbmUodHJpYW5nbGUuZ2V0TGluZUEoKSxsaW5lKSl7cmV0dXJuIHRydWU7fWlmKExpbmVUb0xpbmUodHJpYW5nbGUuZ2V0TGluZUIoKSxsaW5lKSl7cmV0dXJuIHRydWU7fWlmKExpbmVUb0xpbmUodHJpYW5nbGUuZ2V0TGluZUMoKSxsaW5lKSl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O21vZHVsZS5leHBvcnRzPVRyaWFuZ2xlVG9MaW5lOy8qKiovfSwvKiA3NzMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBMaW5lVG9MaW5lPV9fd2VicGFja19yZXF1aXJlX18oNTgpO3ZhciBDb250YWluc0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oOTApO3ZhciBEZWNvbXBvc2U9X193ZWJwYWNrX3JlcXVpcmVfXygxODcpO3ZhciBUcmlhbmdsZVRvVHJpYW5nbGU9ZnVuY3Rpb24gVHJpYW5nbGVUb1RyaWFuZ2xlKHRyaWFuZ2xlQSx0cmlhbmdsZUIpey8vICBGaXJzdCB0aGUgY2hlYXBlc3Qgb25lczpcbmlmKHRyaWFuZ2xlQS5sZWZ0PnRyaWFuZ2xlQi5yaWdodHx8dHJpYW5nbGVBLnJpZ2h0PHRyaWFuZ2xlQi5sZWZ0fHx0cmlhbmdsZUEudG9wPnRyaWFuZ2xlQi5ib3R0b218fHRyaWFuZ2xlQS5ib3R0b208dHJpYW5nbGVCLnRvcCl7cmV0dXJuIGZhbHNlO312YXIgbGluZUFBPXRyaWFuZ2xlQS5nZXRMaW5lQSgpO3ZhciBsaW5lQUI9dHJpYW5nbGVBLmdldExpbmVCKCk7dmFyIGxpbmVBQz10cmlhbmdsZUEuZ2V0TGluZUMoKTt2YXIgbGluZUJBPXRyaWFuZ2xlQi5nZXRMaW5lQSgpO3ZhciBsaW5lQkI9dHJpYW5nbGVCLmdldExpbmVCKCk7dmFyIGxpbmVCQz10cmlhbmdsZUIuZ2V0TGluZUMoKTsvLyAgTm93IGNoZWNrIHRoZSBsaW5lcyBhZ2FpbnN0IGVhY2ggbGluZSBvZiBUcmlhbmdsZUJcbmlmKExpbmVUb0xpbmUobGluZUFBLGxpbmVCQSl8fExpbmVUb0xpbmUobGluZUFBLGxpbmVCQil8fExpbmVUb0xpbmUobGluZUFBLGxpbmVCQykpe3JldHVybiB0cnVlO31pZihMaW5lVG9MaW5lKGxpbmVBQixsaW5lQkEpfHxMaW5lVG9MaW5lKGxpbmVBQixsaW5lQkIpfHxMaW5lVG9MaW5lKGxpbmVBQixsaW5lQkMpKXtyZXR1cm4gdHJ1ZTt9aWYoTGluZVRvTGluZShsaW5lQUMsbGluZUJBKXx8TGluZVRvTGluZShsaW5lQUMsbGluZUJCKXx8TGluZVRvTGluZShsaW5lQUMsbGluZUJDKSl7cmV0dXJuIHRydWU7fS8vICBOb3BlLCBzbyBjaGVjayB0byBzZWUgaWYgYW55IG9mIHRoZSBwb2ludHMgb2YgdHJpYW5nbGVBIGFyZSB3aXRoaW4gdHJpYW5nbGVCXG52YXIgcG9pbnRzPURlY29tcG9zZSh0cmlhbmdsZUEpO3ZhciB3aXRoaW49Q29udGFpbnNBcnJheSh0cmlhbmdsZUIscG9pbnRzLHRydWUpO2lmKHdpdGhpbi5sZW5ndGg+MCl7cmV0dXJuIHRydWU7fS8vICBGaW5hbGx5IGNoZWNrIHRvIHNlZSBpZiBhbnkgb2YgdGhlIHBvaW50cyBvZiB0cmlhbmdsZUIgYXJlIHdpdGhpbiB0cmlhbmdsZUFcbnBvaW50cz1EZWNvbXBvc2UodHJpYW5nbGVCKTt3aXRoaW49Q29udGFpbnNBcnJheSh0cmlhbmdsZUEscG9pbnRzLHRydWUpO2lmKHdpdGhpbi5sZW5ndGg+MCl7cmV0dXJuIHRydWU7fXJldHVybiBmYWxzZTt9O21vZHVsZS5leHBvcnRzPVRyaWFuZ2xlVG9UcmlhbmdsZTsvKioqL30sLyogNzc0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdlb20uTGluZVxudmFyIExpbmU9X193ZWJwYWNrX3JlcXVpcmVfXygxODgpO0xpbmUuQW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MSk7TGluZS5DZW50ZXJPbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc3NSk7TGluZS5DbG9uZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc3Nik7TGluZS5Db3B5RnJvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc3Nyk7TGluZS5FcXVhbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg3NzgpO0xpbmUuR2V0TWlkUG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3NzkpO0xpbmUuR2V0Tm9ybWFsPV9fd2VicGFja19yZXF1aXJlX18oNzgwKTtMaW5lLkdldFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oNzgxKTtMaW5lLkdldFBvaW50c09uTGluZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtMaW5lLkhlaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4Mik7TGluZS5MZW5ndGg9X193ZWJwYWNrX3JlcXVpcmVfXyg3ODMpO0xpbmUuTm9ybWFsQW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxODkpO0xpbmUuTm9ybWFsWD1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4NCk7TGluZS5Ob3JtYWxZPV9fd2VicGFja19yZXF1aXJlX18oNzg1KTtMaW5lLk9mZnNldD1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4Nik7TGluZS5QZXJwU2xvcGU9X193ZWJwYWNrX3JlcXVpcmVfXyg3ODcpO0xpbmUuUmFuZG9tPV9fd2VicGFja19yZXF1aXJlX18oMTE5KTtMaW5lLlJlZmxlY3RBbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc4OCk7TGluZS5Sb3RhdGU9X193ZWJwYWNrX3JlcXVpcmVfXyg3ODkpO0xpbmUuUm90YXRlQXJvdW5kUG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3OTApO0xpbmUuUm90YXRlQXJvdW5kWFk9X193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7TGluZS5TZXRUb0FuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oNzkxKTtMaW5lLlNsb3BlPV9fd2VicGFja19yZXF1aXJlX18oNzkyKTtMaW5lLldpZHRoPV9fd2VicGFja19yZXF1aXJlX18oNzkzKTttb2R1bGUuZXhwb3J0cz1MaW5lOy8qKiovfSwvKiA3NzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ2VudGVyT249ZnVuY3Rpb24gQ2VudGVyT24obGluZSx4LHkpe3ZhciB0eD14LShsaW5lLngxK2xpbmUueDIpLzI7dmFyIHR5PXktKGxpbmUueTErbGluZS55MikvMjtsaW5lLngxKz10eDtsaW5lLnkxKz10eTtsaW5lLngyKz10eDtsaW5lLnkyKz10eTtyZXR1cm4gbGluZTt9O21vZHVsZS5leHBvcnRzPUNlbnRlck9uOy8qKiovfSwvKiA3NzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBMaW5lPV9fd2VicGFja19yZXF1aXJlX18oMTg4KTt2YXIgQ2xvbmU9ZnVuY3Rpb24gQ2xvbmUoc291cmNlKXtyZXR1cm4gbmV3IExpbmUoc291cmNlLngxLHNvdXJjZS55MSxzb3VyY2UueDIsc291cmNlLnkyKTt9O21vZHVsZS5leHBvcnRzPUNsb25lOy8qKiovfSwvKiA3NzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ29weUZyb209ZnVuY3Rpb24gQ29weUZyb20oc291cmNlLGRlc3Qpe3JldHVybiBkZXN0LnNldFRvKHNvdXJjZS54MSxzb3VyY2UueTEsc291cmNlLngyLHNvdXJjZS55Mik7fTttb2R1bGUuZXhwb3J0cz1Db3B5RnJvbTsvKioqL30sLyogNzc4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEVxdWFscz1mdW5jdGlvbiBFcXVhbHMobGluZSx0b0NvbXBhcmUpe3JldHVybiBsaW5lLngxPT09dG9Db21wYXJlLngxJiZsaW5lLnkxPT09dG9Db21wYXJlLnkxJiZsaW5lLngyPT09dG9Db21wYXJlLngyJiZsaW5lLnkyPT09dG9Db21wYXJlLnkyO307bW9kdWxlLmV4cG9ydHM9RXF1YWxzOy8qKiovfSwvKiA3NzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBHZXRNaWRQb2ludD1mdW5jdGlvbiBHZXRNaWRQb2ludChsaW5lLG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9bmV3IFBvaW50KCk7fW91dC54PShsaW5lLngxK2xpbmUueDIpLzI7b3V0Lnk9KGxpbmUueTErbGluZS55MikvMjtyZXR1cm4gb3V0O307bW9kdWxlLmV4cG9ydHM9R2V0TWlkUG9pbnQ7LyoqKi99LC8qIDc4MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIE1BVEhfQ09OU1Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7dmFyIEFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oNDEpO3ZhciBQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBHZXROb3JtYWw9ZnVuY3Rpb24gR2V0Tm9ybWFsKGxpbmUsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD1uZXcgUG9pbnQoKTt9dmFyIGE9QW5nbGUobGluZSktTUFUSF9DT05TVC5UQVU7b3V0Lng9TWF0aC5jb3MoYSk7b3V0Lnk9TWF0aC5zaW4oYSk7cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUdldE5vcm1hbDsvKioqL30sLyogNzgxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIEdldCBhIHBvaW50IG9uIHRoZSBnaXZlbiBsaW5lICdwcm9ncmVzcycgcGVyY2VudGFnZSBhbG9uZyBpdHMgbGVuZ3RoLlxuLy8gIHByb2dyZXNzIGlzIGEgdmFsdWUgYmV0d2VlbiAwIGFuZCAxLlxudmFyIEdldFBvaW50PWZ1bmN0aW9uIEdldFBvaW50KGxpbmUscHJvZ3Jlc3Mpe3ZhciB4PWxpbmUueDErKGxpbmUueDItbGluZS54MSkqcHJvZ3Jlc3M7dmFyIHk9bGluZS55MSsobGluZS55Mi1saW5lLnkxKSpwcm9ncmVzcztyZXR1cm57eDp4LHk6eX07fTttb2R1bGUuZXhwb3J0cz1HZXRQb2ludDsvKioqL30sLyogNzgyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEhlaWdodD1mdW5jdGlvbiBIZWlnaHQobGluZSl7cmV0dXJuIE1hdGguYWJzKGxpbmUueTEtbGluZS55Mik7fTttb2R1bGUuZXhwb3J0cz1IZWlnaHQ7LyoqKi99LC8qIDc4MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBMZW5ndGg9ZnVuY3Rpb24gTGVuZ3RoKGxpbmUpe3JldHVybiBNYXRoLnNxcnQoKGxpbmUueDItbGluZS54MSkqKGxpbmUueDItbGluZS54MSkrKGxpbmUueTItbGluZS55MSkqKGxpbmUueTItbGluZS55MSkpO307bW9kdWxlLmV4cG9ydHM9TGVuZ3RoOy8qKiovfSwvKiA3ODQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNQVRIX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTApO3ZhciBBbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTt2YXIgTm9ybWFsWD1mdW5jdGlvbiBOb3JtYWxYKGxpbmUpe3JldHVybiBNYXRoLmNvcyhBbmdsZShsaW5lKS1NQVRIX0NPTlNULlRBVSk7fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWxYOy8qKiovfSwvKiA3ODUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBNQVRIX0NPTlNUPV9fd2VicGFja19yZXF1aXJlX18oMTApO3ZhciBBbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQxKTt2YXIgTm9ybWFsWT1mdW5jdGlvbiBOb3JtYWxZKGxpbmUpe3JldHVybiBNYXRoLnNpbihBbmdsZShsaW5lKS1NQVRIX0NPTlNULlRBVSk7fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWxZOy8qKiovfSwvKiA3ODYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgT2Zmc2V0PWZ1bmN0aW9uIE9mZnNldChsaW5lLHgseSl7bGluZS54MSs9eDtsaW5lLnkxKz15O2xpbmUueDIrPXg7bGluZS55Mis9eTtyZXR1cm4gbGluZTt9O21vZHVsZS5leHBvcnRzPU9mZnNldDsvKioqL30sLyogNzg3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFBlcnBTbG9wZT1mdW5jdGlvbiBQZXJwU2xvcGUobGluZSl7cmV0dXJuLSgobGluZS54Mi1saW5lLngxKS8obGluZS55Mi1saW5lLnkxKSk7fTttb2R1bGUuZXhwb3J0cz1QZXJwU2xvcGU7LyoqKi99LC8qIDc4OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oNDEpO3ZhciBOb3JtYWxBbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4OSk7LyoqXG4qIFJldHVybnMgdGhlIHJlZmxlY3RlZCBhbmdsZSBiZXR3ZWVuIHR3byBsaW5lcy5cbiogVGhpcyBpcyB0aGUgb3V0Z29pbmcgYW5nbGUgYmFzZWQgb24gdGhlIGFuZ2xlIG9mIExpbmUgMSBhbmQgdGhlIG5vcm1hbEFuZ2xlIG9mIExpbmUgMi5cbiovdmFyIFJlZmxlY3RBbmdsZT1mdW5jdGlvbiBSZWZsZWN0QW5nbGUobGluZUEsbGluZUIpe3JldHVybiAyKk5vcm1hbEFuZ2xlKGxpbmVCKS1NYXRoLlBJLUFuZ2xlKGxpbmVBKTt9O21vZHVsZS5leHBvcnRzPVJlZmxlY3RBbmdsZTsvKioqL30sLyogNzg5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUm90YXRlQXJvdW5kWFk9X193ZWJwYWNrX3JlcXVpcmVfXyg5MSk7dmFyIFJvdGF0ZT1mdW5jdGlvbiBSb3RhdGUobGluZSxhbmdsZSl7dmFyIHg9KGxpbmUueDErbGluZS54MikvMjt2YXIgeT0obGluZS55MStsaW5lLnkyKS8yO3JldHVybiBSb3RhdGVBcm91bmRYWShsaW5lLHgseSxhbmdsZSk7fTttb2R1bGUuZXhwb3J0cz1Sb3RhdGU7LyoqKi99LC8qIDc5MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJvdGF0ZUFyb3VuZFhZPV9fd2VicGFja19yZXF1aXJlX18oOTEpO3ZhciBSb3RhdGVBcm91bmRQb2ludD1mdW5jdGlvbiBSb3RhdGVBcm91bmRQb2ludChsaW5lLHBvaW50LGFuZ2xlKXtyZXR1cm4gUm90YXRlQXJvdW5kWFkobGluZSxwb2ludC54LHBvaW50LnksYW5nbGUpO307bW9kdWxlLmV4cG9ydHM9Um90YXRlQXJvdW5kUG9pbnQ7LyoqKi99LC8qIDc5MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXRUb0FuZ2xlPWZ1bmN0aW9uIFNldFRvQW5nbGUobGluZSx4LHksYW5nbGUsbGVuZ3RoKXtsaW5lLngxPXg7bGluZS55MT15O2xpbmUueDI9eCtNYXRoLmNvcyhhbmdsZSkqbGVuZ3RoO2xpbmUueTI9eStNYXRoLnNpbihhbmdsZSkqbGVuZ3RoO3JldHVybiBsaW5lO307bW9kdWxlLmV4cG9ydHM9U2V0VG9BbmdsZTsvKioqL30sLyogNzkyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFNsb3BlPWZ1bmN0aW9uIFNsb3BlKGxpbmUpe3JldHVybihsaW5lLnkyLWxpbmUueTEpLyhsaW5lLngyLWxpbmUueDEpO307bW9kdWxlLmV4cG9ydHM9U2xvcGU7LyoqKi99LC8qIDc5MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBXaWR0aD1mdW5jdGlvbiBXaWR0aChsaW5lKXtyZXR1cm4gTWF0aC5hYnMobGluZS54MS1saW5lLngyKTt9O21vZHVsZS5leHBvcnRzPVdpZHRoOy8qKiovfSwvKiA3OTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR2VvbS5Qb2ludFxudmFyIFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oOCk7UG9pbnQuQWRkPV9fd2VicGFja19yZXF1aXJlX18oNzk1KTtQb2ludC5DZWlsPV9fd2VicGFja19yZXF1aXJlX18oNzk2KTtQb2ludC5DbG9uZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc5Nyk7UG9pbnQuQ29weUZyb209X193ZWJwYWNrX3JlcXVpcmVfXyg3OTgpO1BvaW50LkNyb3NzPV9fd2VicGFja19yZXF1aXJlX18oNzk5KTtQb2ludC5EaXZpZGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4MDApO1BvaW50LkRvdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTtQb2ludC5FcXVhbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4MDEpO1BvaW50LkZsb29yPV9fd2VicGFja19yZXF1aXJlX18oODAyKTtQb2ludC5HZXRDZW50cm9pZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwMyk7UG9pbnQuR2V0TWFnbml0dWRlPV9fd2VicGFja19yZXF1aXJlX18oMTkwKTtQb2ludC5HZXRNYWduaXR1ZGVTcT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5MSk7UG9pbnQuSW50ZXJwb2xhdGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4MDQpO1BvaW50LkludmVydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwNSk7UG9pbnQuTXVsdGlwbHk9X193ZWJwYWNrX3JlcXVpcmVfXygxOTIpO1BvaW50Lk5lZ2F0aXZlPV9fd2VicGFja19yZXF1aXJlX18oODA2KTtQb2ludC5Ob3JtYWxpemU9X193ZWJwYWNrX3JlcXVpcmVfXygxOTMpO1BvaW50Lk5vcm1hbGl6ZVJpZ2h0SGFuZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwNyk7UG9pbnQuUGVycD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwOCk7UG9pbnQuUHJvamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgwOSk7UG9pbnQuUHJvamVjdFVuaXQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4MTApO1BvaW50LlJQZXJwPV9fd2VicGFja19yZXF1aXJlX18oODExKTtQb2ludC5TZXRNYWduaXR1ZGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4MTIpO1BvaW50LlN1YnRyYWN0PV9fd2VicGFja19yZXF1aXJlX18oODEzKTttb2R1bGUuZXhwb3J0cz1Qb2ludDsvKioqL30sLyogNzk1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEFkZD1mdW5jdGlvbiBBZGQocG9pbnQseCx5KXtwb2ludC54Kz14O3BvaW50LnkrPXk7cmV0dXJuIHBvaW50O307bW9kdWxlLmV4cG9ydHM9QWRkOy8qKiovfSwvKiA3OTYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ2VpbD1mdW5jdGlvbiBDZWlsKHBvaW50KXtyZXR1cm4gcG9pbnQuc2V0VG8oTWF0aC5jZWlsKHBvaW50LngpLE1hdGguY2VpbChwb2ludC55KSk7fTttb2R1bGUuZXhwb3J0cz1DZWlsOy8qKiovfSwvKiA3OTcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBDbG9uZT1mdW5jdGlvbiBDbG9uZShzb3VyY2Upe3JldHVybiBuZXcgUG9pbnQoc291cmNlLngsc291cmNlLnkpO307bW9kdWxlLmV4cG9ydHM9Q2xvbmU7LyoqKi99LC8qIDc5OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBDb3BpZXMgdGhlIHgsIHkgYW5kIGRpYW1ldGVyIHByb3BlcnRpZXMgZnJvbSBhbnkgZ2l2ZW4gb2JqZWN0IHRvIHRoaXMgQ2lyY2xlLlxuKiBAbWV0aG9kIFBoYXNlci5DaXJjbGUjY29weUZyb21cbiogQHBhcmFtIHthbnl9IHNvdXJjZSAtIFRoZSBvYmplY3QgdG8gY29weSBmcm9tLlxuKiBAcmV0dXJuIHtDaXJjbGV9IFRoaXMgQ2lyY2xlIG9iamVjdC5cbiovdmFyIENvcHlGcm9tPWZ1bmN0aW9uIENvcHlGcm9tKHNvdXJjZSxkZXN0KXtyZXR1cm4gZGVzdC5zZXRUbyhzb3VyY2UueCxzb3VyY2UueSk7fTttb2R1bGUuZXhwb3J0cz1Db3B5RnJvbTsvKioqL30sLyogNzk5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENyb3NzPWZ1bmN0aW9uIENyb3NzKHBvaW50QSxwb2ludEIpe3JldHVybiBwb2ludEEueCpwb2ludEIueS1wb2ludEEueSpwb2ludEIueDt9O21vZHVsZS5leHBvcnRzPUNyb3NzOy8qKiovfSwvKiA4MDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRGl2aWRlPWZ1bmN0aW9uIERpdmlkZShwb2ludCx4LHkpe3BvaW50LngvPXg7cG9pbnQueS89eTtyZXR1cm4gcG9pbnQ7fTttb2R1bGUuZXhwb3J0cz1EaXZpZGU7LyoqKi99LC8qIDgwMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBFcXVhbHM9ZnVuY3Rpb24gRXF1YWxzKHBvaW50LHRvQ29tcGFyZSl7cmV0dXJuIHBvaW50Lng9PT10b0NvbXBhcmUueCYmcG9pbnQueT09PXRvQ29tcGFyZS55O307bW9kdWxlLmV4cG9ydHM9RXF1YWxzOy8qKiovfSwvKiA4MDIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRmxvb3I9ZnVuY3Rpb24gRmxvb3IocG9pbnQpe3JldHVybiBwb2ludC5zZXRUbyhNYXRoLmZsb29yKHBvaW50LngpLE1hdGguZmxvb3IocG9pbnQueSkpO307bW9kdWxlLmV4cG9ydHM9Rmxvb3I7LyoqKi99LC8qIDgwMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oOCk7dmFyIEdldENlbnRyb2lkPWZ1bmN0aW9uIEdldENlbnRyb2lkKHBvaW50cyxvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PW5ldyBQb2ludCgpO31pZighQXJyYXkuaXNBcnJheShwb2ludHMpKXt0aHJvdyBuZXcgRXJyb3IoJ0dldENlbnRyb2lkIHBvaW50cyBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5Jyk7fXZhciBsZW49cG9pbnRzLmxlbmd0aDtpZihsZW48MSl7dGhyb3cgbmV3IEVycm9yKCdHZXRDZW50cm9pZCBwb2ludHMgYXJyYXkgbXVzdCBub3QgYmUgZW1wdHknKTt9ZWxzZSBpZihsZW49PT0xKXtvdXQueD1wb2ludHNbMF0ueDtvdXQueT1wb2ludHNbMF0ueTt9ZWxzZXtmb3IodmFyIGk9MDtpPGxlbjtpKyspe291dC54Kz1wb2ludHNbaV0ueDtvdXQueSs9cG9pbnRzW2ldLnk7fW91dC54Lz1sZW47b3V0LnkvPWxlbjt9cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUdldENlbnRyb2lkOy8qKiovfSwvKiA4MDQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBJbnRlcnBvbGF0ZT1mdW5jdGlvbiBJbnRlcnBvbGF0ZShwb2ludEEscG9pbnRCLHQsb3V0KXtpZih0PT09dW5kZWZpbmVkKXt0PTA7fWlmKG91dD09PXVuZGVmaW5lZCl7b3V0PW5ldyBQb2ludCgpO31vdXQueD1wb2ludEEueCsocG9pbnRCLngtcG9pbnRBLngpKnQ7b3V0Lnk9cG9pbnRBLnkrKHBvaW50Qi55LXBvaW50QS55KSp0O3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1JbnRlcnBvbGF0ZTsvKioqL30sLyogODA1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEludmVydD1mdW5jdGlvbiBJbnZlcnQocG9pbnQpe3JldHVybiBwb2ludC5zZXRUbyhwb2ludC55LHBvaW50LngpO307bW9kdWxlLmV4cG9ydHM9SW52ZXJ0Oy8qKiovfSwvKiA4MDYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpO3ZhciBOZWdhdGl2ZT1mdW5jdGlvbiBOZWdhdGl2ZShwb2ludCxvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PW5ldyBQb2ludCgpO31yZXR1cm4gb3V0LnNldFRvKC1wb2ludC54LC1wb2ludC55KTt9O21vZHVsZS5leHBvcnRzPU5lZ2F0aXZlOy8qKiovfSwvKiA4MDcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgTm9ybWFsaXplUmlnaHRIYW5kPWZ1bmN0aW9uIE5vcm1hbGl6ZVJpZ2h0SGFuZChwb2ludCl7cmV0dXJuIHBvaW50LnNldFRvKHBvaW50LnkqLTEscG9pbnQueCk7fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWxpemVSaWdodEhhbmQ7LyoqKi99LC8qIDgwOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBQZXJwPWZ1bmN0aW9uIFBlcnAocG9pbnQpe3JldHVybiBwb2ludC5zZXRUbygtcG9pbnQueSxwb2ludC54KTt9O21vZHVsZS5leHBvcnRzPVBlcnA7LyoqKi99LC8qIDgwOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIERvdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkyKTt2YXIgUG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4KTt2YXIgR2V0TWFnbml0dWRlU3E9X193ZWJwYWNrX3JlcXVpcmVfXygxOTEpO3ZhciBQcm9qZWN0PWZ1bmN0aW9uIFByb2plY3QocG9pbnRBLHBvaW50QixvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PW5ldyBQb2ludCgpO312YXIgYW10PURvdChwb2ludEEscG9pbnRCKS9HZXRNYWduaXR1ZGVTcShwb2ludEIpO2lmKGFtdCE9PTApe291dC54PWFtdCpwb2ludEIueDtvdXQueT1hbXQqcG9pbnRCLnk7fXJldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1Qcm9qZWN0Oy8qKiovfSwvKiA4MTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBEb3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5Mik7dmFyIFBvaW50PV9fd2VicGFja19yZXF1aXJlX18oOCk7dmFyIFByb2plY3RVbml0PWZ1bmN0aW9uIFByb2plY3RVbml0KHBvaW50QSxwb2ludEIsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD1uZXcgUG9pbnQoKTt9dmFyIGFtdD1Eb3QocG9pbnRBLHBvaW50Qik7aWYoYW10IT09MCl7b3V0Lng9YW10KnBvaW50Qi54O291dC55PWFtdCpwb2ludEIueTt9cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPVByb2plY3RVbml0Oy8qKiovfSwvKiA4MTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgUlBlcnA9ZnVuY3Rpb24gUlBlcnAocG9pbnQpe3JldHVybiBwb2ludC5zZXRUbyhwb2ludC55LC1wb2ludC54KTt9O21vZHVsZS5leHBvcnRzPVJQZXJwOy8qKiovfSwvKiA4MTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBOb3JtYWxpemU9X193ZWJwYWNrX3JlcXVpcmVfXygxOTMpO3ZhciBNdWx0aXBseT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5Mik7dmFyIFNldE1hZ25pdHVkZT1mdW5jdGlvbiBTZXRNYWduaXR1ZGUocG9pbnQsbWFnbml0dWRlKXtOb3JtYWxpemUocG9pbnQpO3JldHVybiBNdWx0aXBseShwb2ludCxtYWduaXR1ZGUsbWFnbml0dWRlKTt9O21vZHVsZS5leHBvcnRzPVNldE1hZ25pdHVkZTsvKioqL30sLyogODEzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIFN1YnRyYWN0PWZ1bmN0aW9uIFN1YnRyYWN0KHBvaW50LHgseSl7cG9pbnQueC09eDtwb2ludC55LT15O3JldHVybiBwb2ludDt9O21vZHVsZS5leHBvcnRzPVN1YnRyYWN0Oy8qKiovfSwvKiA4MTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR2VvbS5Qb2x5Z29uXG52YXIgUG9seWdvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5NCk7UG9seWdvbi5DbG9uZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgxNSk7UG9seWdvbi5Db250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5NSk7UG9seWdvbi5Db250YWluc1BvaW50PV9fd2VicGFja19yZXF1aXJlX18oODE2KTtQb2x5Z29uLkdldEFBQkI9X193ZWJwYWNrX3JlcXVpcmVfXyg4MTcpO1BvbHlnb24uR2V0TnVtYmVyQXJyYXk9X193ZWJwYWNrX3JlcXVpcmVfXyg4MTgpO21vZHVsZS5leHBvcnRzPVBvbHlnb247LyoqKi99LC8qIDgxNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFBvbHlnb249X193ZWJwYWNrX3JlcXVpcmVfXygxOTQpO3ZhciBDbG9uZT1mdW5jdGlvbiBDbG9uZShwb2x5Z29uKXtyZXR1cm4gbmV3IFBvbHlnb24ocG9seWdvbi5wb2ludHMpO307bW9kdWxlLmV4cG9ydHM9Q2xvbmU7LyoqKi99LC8qIDgxNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENvbnRhaW5zPV9fd2VicGFja19yZXF1aXJlX18oMTk1KTt2YXIgQ29udGFpbnNQb2ludD1mdW5jdGlvbiBDb250YWluc1BvaW50KHBvbHlnb24scG9pbnQpe3JldHVybiBDb250YWlucyhwb2x5Z29uLHBvaW50LngscG9pbnQueSk7fTttb2R1bGUuZXhwb3J0cz1Db250YWluc1BvaW50Oy8qKiovfSwvKiA4MTcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgR2V0QUFCQj1mdW5jdGlvbiBHZXRBQUJCKHBvbHlnb24pe3ZhciBtaW5YPUluZmluaXR5O3ZhciBtaW5ZPUluZmluaXR5O3ZhciBtYXhYPS1taW5YO3ZhciBtYXhZPS1taW5ZO3ZhciBwO2Zvcih2YXIgaT0wO2k8cG9seWdvbi5wb2ludHMubGVuZ3RoO2krKyl7cD1wb2x5Z29uLnBvaW50c1tpXTttaW5YPU1hdGgubWluKG1pblgscC54KTttaW5ZPU1hdGgubWluKG1pblkscC55KTttYXhYPU1hdGgubWF4KG1heFgscC54KTttYXhZPU1hdGgubWF4KG1heFkscC55KTt9cmV0dXJue3g6bWluWCx5Om1pblksd2lkdGg6bWF4WC1taW5YLGhlaWdodDptYXhZLW1pbll9O307bW9kdWxlLmV4cG9ydHM9R2V0QUFCQjsvKioqL30sLyogODE4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4gKiBFeHBvcnQgdGhlIHBvaW50cyBhcyBhbiBhcnJheSBvZiBmbGF0IG51bWJlcnMsIGZvbGxvd2luZyB0aGUgc2VxdWVuY2UgWyB4LHksIHgseSwgeCx5IF1cbiAqL3ZhciBHZXROdW1iZXJBcnJheT1mdW5jdGlvbiBHZXROdW1iZXJBcnJheShwb2x5Z29uLG91dHB1dCl7aWYob3V0cHV0PT09dW5kZWZpbmVkKXtvdXRwdXQ9W107fWZvcih2YXIgaT0wO2k8cG9seWdvbi5wb2ludHMubGVuZ3RoO2krKyl7b3V0cHV0LnB1c2gocG9seWdvbi5wb2ludHNbaV0ueCk7b3V0cHV0LnB1c2gocG9seWdvbi5wb2ludHNbaV0ueSk7fXJldHVybiBvdXRwdXQ7fTttb2R1bGUuZXhwb3J0cz1HZXROdW1iZXJBcnJheTsvKioqL30sLyogODE5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdlb20uUmVjdGFuZ2xlXG52YXIgUmVjdGFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oMTQpO1JlY3RhbmdsZS5BcmVhPV9fd2VicGFja19yZXF1aXJlX18oODIwKTtSZWN0YW5nbGUuQ2VpbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDgyMSk7UmVjdGFuZ2xlLkNlaWxBbGw9X193ZWJwYWNrX3JlcXVpcmVfXyg4MjIpO1JlY3RhbmdsZS5DZW50ZXJPbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgyMyk7UmVjdGFuZ2xlLkNsb25lPV9fd2VicGFja19yZXF1aXJlX18oODI0KTtSZWN0YW5nbGUuQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXygyNyk7UmVjdGFuZ2xlLkNvbnRhaW5zUG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4MjUpO1JlY3RhbmdsZS5Db250YWluc1JlY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg4MjYpO1JlY3RhbmdsZS5Db3B5RnJvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgyNyk7UmVjdGFuZ2xlLkRlY29tcG9zZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4Nik7UmVjdGFuZ2xlLkVxdWFscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgyOCk7UmVjdGFuZ2xlLkZpdEluc2lkZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgyOSk7UmVjdGFuZ2xlLkZpdE91dHNpZGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4MzApO1JlY3RhbmdsZS5GbG9vcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgzMSk7UmVjdGFuZ2xlLkZsb29yQWxsPV9fd2VicGFja19yZXF1aXJlX18oODMyKTtSZWN0YW5nbGUuR2V0QXNwZWN0UmF0aW89X193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7UmVjdGFuZ2xlLkdldENlbnRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDgzMyk7UmVjdGFuZ2xlLkdldFNpemU9X193ZWJwYWNrX3JlcXVpcmVfXyg4MzQpO1JlY3RhbmdsZS5JbmZsYXRlPV9fd2VicGFja19yZXF1aXJlX18oODM1KTtSZWN0YW5nbGUuTWFyY2hpbmdBbnRzPV9fd2VicGFja19yZXF1aXJlX18oMTEzKTtSZWN0YW5nbGUuTWVyZ2VQb2ludHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4MzYpO1JlY3RhbmdsZS5NZXJnZVJlY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg4MzcpO1JlY3RhbmdsZS5NZXJnZVhZPV9fd2VicGFja19yZXF1aXJlX18oODM4KTtSZWN0YW5nbGUuT2Zmc2V0PV9fd2VicGFja19yZXF1aXJlX18oODM5KTtSZWN0YW5nbGUuT2Zmc2V0UG9pbnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4NDApO1JlY3RhbmdsZS5PdmVybGFwcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDg0MSk7UmVjdGFuZ2xlLlBlcmltZXRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExNCk7UmVjdGFuZ2xlLlBlcmltZXRlclBvaW50PV9fd2VicGFja19yZXF1aXJlX18oODQyKTtSZWN0YW5nbGUuUmFuZG9tPV9fd2VicGFja19yZXF1aXJlX18oMTIwKTtSZWN0YW5nbGUuU2NhbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4NDMpO1JlY3RhbmdsZS5Vbmlvbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDg0NCk7bW9kdWxlLmV4cG9ydHM9UmVjdGFuZ2xlOy8qKiovfSwvKiA4MjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQXJlYT1mdW5jdGlvbiBBcmVhKHJlY3Qpe3JldHVybiByZWN0LndpZHRoKnJlY3QuaGVpZ2h0O307bW9kdWxlLmV4cG9ydHM9QXJlYTsvKioqL30sLyogODIxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENlaWw9ZnVuY3Rpb24gQ2VpbChyZWN0KXtyZWN0Lng9TWF0aC5jZWlsKHJlY3QueCk7cmVjdC55PU1hdGguY2VpbChyZWN0LnkpO3JldHVybiByZWN0O307bW9kdWxlLmV4cG9ydHM9Q2VpbDsvKioqL30sLyogODIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIENlaWxBbGw9ZnVuY3Rpb24gQ2VpbEFsbChyZWN0KXtyZWN0Lng9TWF0aC5jZWlsKHJlY3QueCk7cmVjdC55PU1hdGguY2VpbChyZWN0LnkpO3JlY3Qud2lkdGg9TWF0aC5jZWlsKHJlY3Qud2lkdGgpO3JlY3QuaGVpZ2h0PU1hdGguY2VpbChyZWN0LmhlaWdodCk7cmV0dXJuIHJlY3Q7fTttb2R1bGUuZXhwb3J0cz1DZWlsQWxsOy8qKiovfSwvKiA4MjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogQ2VudGVycyB0aGlzIFJlY3RhbmdsZSBzbyB0aGF0IHRoZSBjZW50ZXIgY29vcmRpbmF0ZXMgbWF0Y2ggdGhlIGdpdmVuIHggYW5kIHkgdmFsdWVzLlxuKi92YXIgQ2VudGVyT249ZnVuY3Rpb24gQ2VudGVyT24ocmVjdCx4LHkpe3JlY3QueD14LXJlY3Qud2lkdGgvMjtyZWN0Lnk9eS1yZWN0LmhlaWdodC8yO3JldHVybiByZWN0O307bW9kdWxlLmV4cG9ydHM9Q2VudGVyT247LyoqKi99LC8qIDgyNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJlY3RhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTt2YXIgQ2xvbmU9ZnVuY3Rpb24gQ2xvbmUoc291cmNlKXtyZXR1cm4gbmV3IFJlY3RhbmdsZShzb3VyY2UueCxzb3VyY2UueSxzb3VyY2Uud2lkdGgsc291cmNlLmhlaWdodCk7fTttb2R1bGUuZXhwb3J0cz1DbG9uZTsvKioqL30sLyogODI1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXygyNyk7dmFyIENvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24gQ29udGFpbnNQb2ludChyZWN0LHBvaW50KXtyZXR1cm4gQ29udGFpbnMocmVjdCxwb2ludC54LHBvaW50LnkpO307bW9kdWxlLmV4cG9ydHM9Q29udGFpbnNQb2ludDsvKioqL30sLyogODI2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIENoZWNrcyBpZiByZWN0QiBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIHJlY3RBXG52YXIgQ29udGFpbnNSZWN0PWZ1bmN0aW9uIENvbnRhaW5zUmVjdChyZWN0QSxyZWN0Qil7Ly8gIFZvbHVtZSBjaGVjayAoaWYgcmVjdEIgdm9sdW1lID4gcmVjdEEgdGhlbiByZWN0QSBjYW5ub3QgY29udGFpbiBpdClcbmlmKHJlY3RCLndpZHRoKnJlY3RCLmhlaWdodD5yZWN0QS53aWR0aCpyZWN0QS5oZWlnaHQpe3JldHVybiBmYWxzZTt9cmV0dXJuIHJlY3RCLng+cmVjdEEueCYmcmVjdEIueDxyZWN0QS5yaWdodCYmcmVjdEIucmlnaHQ+cmVjdEEueCYmcmVjdEIucmlnaHQ8cmVjdEEucmlnaHQmJnJlY3RCLnk+cmVjdEEueSYmcmVjdEIueTxyZWN0QS5ib3R0b20mJnJlY3RCLmJvdHRvbT5yZWN0QS55JiZyZWN0Qi5ib3R0b208cmVjdEEuYm90dG9tO307bW9kdWxlLmV4cG9ydHM9Q29udGFpbnNSZWN0Oy8qKiovfSwvKiA4MjcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgQ29weUZyb209ZnVuY3Rpb24gQ29weUZyb20oc291cmNlLGRlc3Qpe3JldHVybiBkZXN0LnNldFRvKHNvdXJjZS54LHNvdXJjZS55LHNvdXJjZS53aWR0aCxzb3VyY2UuaGVpZ2h0KTt9O21vZHVsZS5leHBvcnRzPUNvcHlGcm9tOy8qKiovfSwvKiA4MjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgRXF1YWxzPWZ1bmN0aW9uIEVxdWFscyhyZWN0LHRvQ29tcGFyZSl7cmV0dXJuIHJlY3QueD09PXRvQ29tcGFyZS54JiZyZWN0Lnk9PT10b0NvbXBhcmUueSYmcmVjdC53aWR0aD09PXRvQ29tcGFyZS53aWR0aCYmcmVjdC5oZWlnaHQ9PT10b0NvbXBhcmUuaGVpZ2h0O307bW9kdWxlLmV4cG9ydHM9RXF1YWxzOy8qKiovfSwvKiA4MjkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRBc3BlY3RSYXRpbz1fX3dlYnBhY2tfcmVxdWlyZV9fKDkzKTsvLyAgRml0cyB0aGUgdGFyZ2V0IHJlY3RhbmdsZSBpbnRvIHRoZSBzb3VyY2UgcmVjdGFuZ2xlLlxuLy8gIFByZXNlcnZlcyBhc3BlY3QgcmF0aW8uXG4vLyAgU2NhbGVzIGFuZCBjZW50ZXJzIHRoZSB0YXJnZXQgcmVjdGFuZ2xlIHRvIHRoZSBzb3VyY2UgcmVjdGFuZ2xlXG52YXIgRml0SW5zaWRlPWZ1bmN0aW9uIEZpdEluc2lkZSh0YXJnZXQsc291cmNlKXt2YXIgcmF0aW89R2V0QXNwZWN0UmF0aW8odGFyZ2V0KTtpZihyYXRpbzxHZXRBc3BlY3RSYXRpbyhzb3VyY2UpKXsvLyAgVGFsbGVyIHRoYW4gV2lkZVxudGFyZ2V0LnNldFNpemUoc291cmNlLmhlaWdodCpyYXRpbyxzb3VyY2UuaGVpZ2h0KTt9ZWxzZXsvLyAgV2lkZXIgdGhhbiBUYWxsXG50YXJnZXQuc2V0U2l6ZShzb3VyY2Uud2lkdGgsc291cmNlLndpZHRoKnJhdGlvKTt9cmV0dXJuIHRhcmdldC5zZXRQb3NpdGlvbihzb3VyY2UucmlnaHQvMi10YXJnZXQud2lkdGgvMixzb3VyY2UuYm90dG9tLzItdGFyZ2V0LmhlaWdodC8yKTt9O21vZHVsZS5leHBvcnRzPUZpdEluc2lkZTsvKioqL30sLyogODMwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0QXNwZWN0UmF0aW89X193ZWJwYWNrX3JlcXVpcmVfXyg5Myk7Ly8gIEZpdHMgdGhlIHRhcmdldCByZWN0YW5nbGUgYXJvdW5kIHRoZSBzb3VyY2UgcmVjdGFuZ2xlLlxuLy8gIFByZXNlcnZlcyBhc3BlY3QgcmF0aW9uLlxuLy8gIFNjYWxlcyBhbmQgY2VudGVycyB0aGUgdGFyZ2V0IHJlY3RhbmdsZSB0byB0aGUgc291cmNlIHJlY3RhbmdsZVxudmFyIEZpdE91dHNpZGU9ZnVuY3Rpb24gRml0T3V0c2lkZSh0YXJnZXQsc291cmNlKXt2YXIgcmF0aW89R2V0QXNwZWN0UmF0aW8odGFyZ2V0KTtpZihyYXRpbz5HZXRBc3BlY3RSYXRpbyhzb3VyY2UpKXsvLyAgV2lkZXIgdGhhbiBUYWxsXG50YXJnZXQuc2V0U2l6ZShzb3VyY2UuaGVpZ2h0KnJhdGlvLHNvdXJjZS5oZWlnaHQpO31lbHNley8vICBUYWxsZXIgdGhhbiBXaWRlXG50YXJnZXQuc2V0U2l6ZShzb3VyY2Uud2lkdGgsc291cmNlLndpZHRoKnJhdGlvKTt9cmV0dXJuIHRhcmdldC5zZXRQb3NpdGlvbihzb3VyY2UucmlnaHQvMi10YXJnZXQud2lkdGgvMixzb3VyY2UuYm90dG9tLzItdGFyZ2V0LmhlaWdodC8yKTt9O21vZHVsZS5leHBvcnRzPUZpdE91dHNpZGU7LyoqKi99LC8qIDgzMSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBGbG9vcj1mdW5jdGlvbiBGbG9vcihyZWN0KXtyZWN0Lng9TWF0aC5mbG9vcihyZWN0LngpO3JlY3QueT1NYXRoLmZsb29yKHJlY3QueSk7cmV0dXJuIHJlY3Q7fTttb2R1bGUuZXhwb3J0cz1GbG9vcjsvKioqL30sLyogODMyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEZsb29yQWxsPWZ1bmN0aW9uIEZsb29yQWxsKHJlY3Qpe3JlY3QueD1NYXRoLmZsb29yKHJlY3QueCk7cmVjdC55PU1hdGguZmxvb3IocmVjdC55KTtyZWN0LndpZHRoPU1hdGguZmxvb3IocmVjdC53aWR0aCk7cmVjdC5oZWlnaHQ9TWF0aC5mbG9vcihyZWN0LmhlaWdodCk7cmV0dXJuIHJlY3Q7fTttb2R1bGUuZXhwb3J0cz1GbG9vckFsbDsvKioqL30sLyogODMzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIFRoZSBjZW50ZXIgb2YgdGhlIFJlY3RhbmdsZSBvYmplY3QsIGV4cHJlc3NlZCBhcyBhIFBvaW50IG9iamVjdCBcbnZhciBHZXRDZW50ZXI9ZnVuY3Rpb24gR2V0Q2VudGVyKHJlY3Qsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD17eDowLHk6MH07fW91dC54PXJlY3QucmlnaHQvMjtvdXQueT1yZWN0LmJvdHRvbS8yO3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1HZXRDZW50ZXI7LyoqKi99LC8qIDgzNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBUaGUgc2l6ZSBvZiB0aGUgUmVjdGFuZ2xlIG9iamVjdCwgZXhwcmVzc2VkIGFzIGEgUG9pbnQgb2JqZWN0IFxuLy8gIHdpdGggdGhlIHZhbHVlcyBvZiB0aGUgd2lkdGggYW5kIGhlaWdodCBwcm9wZXJ0aWVzLlxudmFyIEdldFNpemU9ZnVuY3Rpb24gR2V0U2l6ZShyZWN0LG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9e3g6MCx5OjB9O31vdXQueD1yZWN0LndpZHRoO291dC55PXJlY3QuaGVpZ2h0O3JldHVybiBvdXQ7fTttb2R1bGUuZXhwb3J0cz1HZXRTaXplOy8qKiovfSwvKiA4MzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgSW5jcmVhc2VzIHRoZSBzaXplIG9mIHRoZSBSZWN0YW5nbGUgb2JqZWN0IGJ5IHRoZSBzcGVjaWZpZWQgYW1vdW50cy5cbi8vICBUaGUgY2VudGVyIHBvaW50IG9mIHRoZSBSZWN0YW5nbGUgb2JqZWN0IHN0YXlzIHRoZSBzYW1lLCBhbmQgaXRzIHNpemUgaW5jcmVhc2VzIFxuLy8gIHRvIHRoZSBsZWZ0IGFuZCByaWdodCBieSB0aGUgeCB2YWx1ZSwgYW5kIHRvIHRoZSB0b3AgYW5kIHRoZSBib3R0b20gYnkgdGhlIHkgdmFsdWUuXG52YXIgSW5mbGF0ZT1mdW5jdGlvbiBJbmZsYXRlKHJlY3QseCx5KXsvLyAgR2V0IHRoZSBjdXJyZW50IGNlbnRlclxudmFyIGN4PXJlY3QueCtyZWN0LndpZHRoLzI7dmFyIGN5PXJlY3QueStyZWN0LmhlaWdodC8yOy8vICBJbmZsYXRlXG5yZWN0LndpZHRoPTIqeDtyZWN0LmhlaWdodD0yKnk7cmVjdC54PXgtcmVjdC53aWR0aC8yO3JlY3QueT15LXJlY3QuaGVpZ2h0LzI7cmV0dXJuIHJlY3Q7fTttb2R1bGUuZXhwb3J0cz1JbmZsYXRlOy8qKiovfSwvKiA4MzYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgTWVyZ2VzIHRoZSB0YXJnZXQgUmVjdGFuZ2xlIHdpdGggYSBsaXN0IG9mIHBvaW50cy5cbi8vICBUaGUgcG9pbnRzIGlzIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCBwdWJsaWMgeC95IHByb3BlcnRpZXMuXG52YXIgTWVyZ2VQb2ludHM9ZnVuY3Rpb24gTWVyZ2VQb2ludHModGFyZ2V0LHBvaW50cyl7dmFyIG1pblg9dGFyZ2V0Lng7dmFyIG1heFg9dGFyZ2V0LnJpZ2h0O3ZhciBtaW5ZPXRhcmdldC55O3ZhciBtYXhZPXRhcmdldC5ib3R0b207Zm9yKHZhciBpPTA7aTxwb2ludHMubGVuZ3RoO2krKyl7bWluWD1NYXRoLm1pbihtaW5YLHBvaW50c1tpXS54KTttYXhYPU1hdGgubWF4KG1heFgscG9pbnRzW2ldLngpO21pblk9TWF0aC5taW4obWluWSxwb2ludHNbaV0ueSk7bWF4WT1NYXRoLm1heChtYXhZLHBvaW50c1tpXS55KTt9dGFyZ2V0Lng9bWluWDt0YXJnZXQueT1taW5ZO3RhcmdldC53aWR0aD1tYXhYLW1pblg7dGFyZ2V0LmhlaWdodD1tYXhZLW1pblk7cmV0dXJuIHRhcmdldDt9O21vZHVsZS5leHBvcnRzPU1lcmdlUG9pbnRzOy8qKiovfSwvKiA4MzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyAgTWVyZ2VzIHNvdXJjZSByZWN0YW5nbGUgaW50byB0YXJnZXQgcmVjdGFuZ2xlIGFuZCByZXR1cm5zIHRhcmdldFxuLy8gIE5laXRoZXIgcmVjdCBzaG91bGQgaGF2ZSBuZWdhdGl2ZSB3aWR0aHMgb3IgaGVpZ2h0c1xudmFyIE1lcmdlUmVjdD1mdW5jdGlvbiBNZXJnZVJlY3QodGFyZ2V0LHNvdXJjZSl7dmFyIG1pblg9TWF0aC5taW4odGFyZ2V0Lngsc291cmNlLngpO3ZhciBtYXhYPU1hdGgubWF4KHRhcmdldC5yaWdodCxzb3VyY2UucmlnaHQpO3RhcmdldC54PW1pblg7dGFyZ2V0LndpZHRoPW1heFgtbWluWDt2YXIgbWluWT1NYXRoLm1pbih0YXJnZXQueSxzb3VyY2UueSk7dmFyIG1heFk9TWF0aC5tYXgodGFyZ2V0LmJvdHRvbSxzb3VyY2UuYm90dG9tKTt0YXJnZXQueT1taW5ZO3RhcmdldC5oZWlnaHQ9bWF4WS1taW5ZO3JldHVybiB0YXJnZXQ7fTttb2R1bGUuZXhwb3J0cz1NZXJnZVJlY3Q7LyoqKi99LC8qIDgzOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBNZXJnZVhZPWZ1bmN0aW9uIE1lcmdlWFkodGFyZ2V0LHgseSl7dmFyIG1pblg9TWF0aC5taW4odGFyZ2V0LngseCk7dmFyIG1heFg9TWF0aC5tYXgodGFyZ2V0LnJpZ2h0LHgpO3RhcmdldC54PW1pblg7dGFyZ2V0LndpZHRoPW1heFgtbWluWDt2YXIgbWluWT1NYXRoLm1pbih0YXJnZXQueSx5KTt2YXIgbWF4WT1NYXRoLm1heCh0YXJnZXQuYm90dG9tLHkpO3RhcmdldC55PW1pblk7dGFyZ2V0LmhlaWdodD1tYXhZLW1pblk7cmV0dXJuIHRhcmdldDt9O21vZHVsZS5leHBvcnRzPU1lcmdlWFk7LyoqKi99LC8qIDgzOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBPZmZzZXQ9ZnVuY3Rpb24gT2Zmc2V0KHJlY3QseCx5KXtyZWN0LngrPXg7cmVjdC55Kz15O3JldHVybiByZWN0O307bW9kdWxlLmV4cG9ydHM9T2Zmc2V0Oy8qKiovfSwvKiA4NDAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgT2Zmc2V0UG9pbnQ9ZnVuY3Rpb24gT2Zmc2V0UG9pbnQocmVjdCxwb2ludCl7cmVjdC54Kz1wb2ludC54O3JlY3QueSs9cG9pbnQueTtyZXR1cm4gcmVjdDt9O21vZHVsZS5leHBvcnRzPU9mZnNldFBvaW50Oy8qKiovfSwvKiA4NDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgT3ZlcmxhcHM9ZnVuY3Rpb24gT3ZlcmxhcHMocmVjdEEscmVjdEIpe3JldHVybiByZWN0QS54PHJlY3RCLnJpZ2h0JiZyZWN0QS5yaWdodD5yZWN0Qi54JiZyZWN0QS55PHJlY3RCLmJvdHRvbSYmcmVjdEEuYm90dG9tPnJlY3RCLnk7fTttb2R1bGUuZXhwb3J0cz1PdmVybGFwczsvKioqL30sLyogODQyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgTUFUSF9DT05TVD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTsvLyAgZGVnID0gZGVncmVlcyAoMC0zNjApXG52YXIgUGVyaW1ldGVyUG9pbnQ9ZnVuY3Rpb24gUGVyaW1ldGVyUG9pbnQocmVjdCxkZWcsb3V0KXtpZihvdXQ9PT11bmRlZmluZWQpe291dD17eDowLHk6MH07fXZhciB0aGV0YT1kZWcqTUFUSF9DT05TVC5ERUdfVE9fUkFEO3doaWxlKHRoZXRhPC1NYXRoLlBJKXt0aGV0YSs9TUFUSF9DT05TVC5QSTI7fXdoaWxlKHRoZXRhPk1hdGguUEkpe3RoZXRhLT1NQVRIX0NPTlNULlBJMjt9dmFyIHJlY3RBdGFuPU1hdGguYXRhbjIocmVjdC5oZWlnaHQscmVjdC53aWR0aCk7dmFyIHRhblRoZXRhPU1hdGgudGFuKHRoZXRhKTt2YXIgdGhldGFCb3VuZHM9TWF0aC5QSS1yZWN0QXRhbjt2YXIgcmVnaW9uO3ZhciB4RmFjdG9yPTE7dmFyIHlGYWN0b3I9MTtpZih0aGV0YT4tcmVjdEF0YW4mJnRoZXRhPD1yZWN0QXRhbil7cmVnaW9uPTE7eUZhY3Rvcj0tMTt9ZWxzZSBpZih0aGV0YT5yZWN0QXRhbiYmdGhldGE8PXRoZXRhQm91bmRzKXtyZWdpb249Mjt5RmFjdG9yPS0xO31lbHNlIGlmKHRoZXRhPnRoZXRhQm91bmRzfHx0aGV0YTw9LXRoZXRhQm91bmRzKXtyZWdpb249Mzt4RmFjdG9yPS0xO31lbHNle3JlZ2lvbj00O3hGYWN0b3I9LTE7fW91dC54PXJlY3QueCtyZWN0LndpZHRoLzI7b3V0Lnk9cmVjdC55K3JlY3QuaGVpZ2h0LzI7aWYocmVnaW9uPT09MXx8cmVnaW9uPT09Myl7b3V0LngrPXhGYWN0b3IqKHJlY3Qud2lkdGgvMik7Ly8gXCJaMFwiXG5vdXQueSs9eUZhY3RvcioocmVjdC53aWR0aC8yKSp0YW5UaGV0YTt9ZWxzZXtvdXQueCs9eEZhY3RvcioocmVjdC5oZWlnaHQvKDIqdGFuVGhldGEpKTsvLyBcIloxXCJcbm91dC55Kz15RmFjdG9yKihyZWN0LmhlaWdodC8yKTt9cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPVBlcmltZXRlclBvaW50Oy8qKiovfSwvKiA4NDMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogU2NhbGVzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoaXMgUmVjdGFuZ2xlIGJ5IHRoZSBnaXZlbiBhbW91bnRzLlxuKi92YXIgU2NhbGU9ZnVuY3Rpb24gU2NhbGUocmVjdCx4LHkpe2lmKHk9PT11bmRlZmluZWQpe3k9eDt9cmVjdC53aWR0aCo9eDtyZWN0LmhlaWdodCo9eTtyZXR1cm4gcmVjdDt9O21vZHVsZS5leHBvcnRzPVNjYWxlOy8qKiovfSwvKiA4NDQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBSZWN0YW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXygxNCk7dmFyIFVuaW9uPWZ1bmN0aW9uIFVuaW9uKHJlY3RBLHJlY3RCLG91dHB1dCl7aWYob3V0cHV0PT09dW5kZWZpbmVkKXtvdXRwdXQ9UmVjdGFuZ2xlKCk7fXZhciB4PU1hdGgubWluKHJlY3RBLngscmVjdEIueCk7dmFyIHk9TWF0aC5taW4ocmVjdEEueSxyZWN0Qi55KTtyZXR1cm4gb3V0cHV0LnNldCh4LHksTWF0aC5tYXgocmVjdEEucmlnaHQscmVjdEIucmlnaHQpLXgsTWF0aC5tYXgocmVjdEEuYm90dG9tLHJlY3RCLmJvdHRvbSkteSk7fTttb2R1bGUuZXhwb3J0cz1VbmlvbjsvKioqL30sLyogODQ1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdlb20uVHJpYW5nbGVcbnZhciBUcmlhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTtUcmlhbmdsZS5BcmVhPV9fd2VicGFja19yZXF1aXJlX18oODQ2KTtUcmlhbmdsZS5CdWlsZEVxdWlsYXRlcmFsPV9fd2VicGFja19yZXF1aXJlX18oODQ3KTtUcmlhbmdsZS5CdWlsZEZyb21Qb2x5Z29uPV9fd2VicGFja19yZXF1aXJlX18oODQ4KTtUcmlhbmdsZS5CdWlsZFJpZ2h0PV9fd2VicGFja19yZXF1aXJlX18oODQ5KTtUcmlhbmdsZS5DZW50ZXJPbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1MCk7VHJpYW5nbGUuQ2VudHJvaWQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOTYpO1RyaWFuZ2xlLkNpcmN1bUNlbnRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1MSk7VHJpYW5nbGUuQ2lyY3VtQ2lyY2xlPV9fd2VicGFja19yZXF1aXJlX18oODUyKTtUcmlhbmdsZS5DbG9uZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1Myk7VHJpYW5nbGUuQ29udGFpbnM9X193ZWJwYWNrX3JlcXVpcmVfXyg0Nik7VHJpYW5nbGUuQ29udGFpbnNBcnJheT1fX3dlYnBhY2tfcmVxdWlyZV9fKDkwKTtUcmlhbmdsZS5Db250YWluc1BvaW50PV9fd2VicGFja19yZXF1aXJlX18oODU0KTtUcmlhbmdsZS5Db3B5RnJvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1NSk7VHJpYW5nbGUuRGVjb21wb3NlPV9fd2VicGFja19yZXF1aXJlX18oMTg3KTtUcmlhbmdsZS5FcXVhbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4NTYpO1RyaWFuZ2xlLkluQ2VudGVyPV9fd2VicGFja19yZXF1aXJlX18oMTk4KTtUcmlhbmdsZS5PZmZzZXQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOTcpO1RyaWFuZ2xlLlJhbmRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7VHJpYW5nbGUuUm90YXRlPV9fd2VicGFja19yZXF1aXJlX18oODU3KTtUcmlhbmdsZS5Sb3RhdGVBcm91bmRQb2ludD1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1OCk7VHJpYW5nbGUuUm90YXRlQXJvdW5kWFk9X193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7bW9kdWxlLmV4cG9ydHM9VHJpYW5nbGU7LyoqKi99LC8qIDg0NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vIFRoZSAyRCBhcmVhIG9mIGEgdHJpYW5nbGUuIFRoZSBhcmVhIHZhbHVlIGlzIGFsd2F5cyBub24tbmVnYXRpdmUuXG52YXIgQXJlYT1mdW5jdGlvbiBBcmVhKHRyaWFuZ2xlKXt2YXIgeDE9dHJpYW5nbGUueDE7dmFyIHkxPXRyaWFuZ2xlLnkxO3ZhciB4Mj10cmlhbmdsZS54Mjt2YXIgeTI9dHJpYW5nbGUueTI7dmFyIHgzPXRyaWFuZ2xlLngzO3ZhciB5Mz10cmlhbmdsZS55MztyZXR1cm4gTWF0aC5hYnMoKCh4My14MSkqKHkyLXkxKS0oeDIteDEpKih5My15MSkpLzIpO307bW9kdWxlLmV4cG9ydHM9QXJlYTsvKioqL30sLyogODQ3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVHJpYW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7Ly8gQnVpbGRzIGFuIGVxdWlsYXRlcmFsIHRyaWFuZ2xlLlxuLy8gSW4gdGhlIGVxdWlsYXRlcmFsIHRyaWFuZ2xlLCBhbGwgdGhlIHNpZGVzIGFyZSB0aGUgc2FtZSBsZW5ndGggKGNvbmdydWVudClcbi8vIGFuZCBhbGwgdGhlIGFuZ2xlcyBhcmUgdGhlIHNhbWUgc2l6ZSAoY29uZ3J1ZW50KS5cbi8vICBUaGUgeC95IHNwZWNpZmllcyB0aGUgdG9wLW1pZGRsZSBvZiB0aGUgdHJpYW5nbGUgKHgxL3kxKSBhbmQgbGVuZ3RoXG4vLyAgaXMgdGhlIGxlbmd0aCBvZiBlYWNoIHNpZGVcbnZhciBCdWlsZEVxdWlsYXRlcmFsPWZ1bmN0aW9uIEJ1aWxkRXF1aWxhdGVyYWwoeCx5LGxlbmd0aCl7dmFyIGhlaWdodD1sZW5ndGgqKE1hdGguc3FydCgzKS8yKTt2YXIgeDE9eDt2YXIgeTE9eTt2YXIgeDI9eCtsZW5ndGgvMjt2YXIgeTI9eStoZWlnaHQ7dmFyIHgzPXgtbGVuZ3RoLzI7dmFyIHkzPXkraGVpZ2h0O3JldHVybiBuZXcgVHJpYW5nbGUoeDEseTEseDIseTIseDMseTMpO307bW9kdWxlLmV4cG9ydHM9QnVpbGRFcXVpbGF0ZXJhbDsvKioqL30sLyogODQ4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgRWFyQ3V0PV9fd2VicGFja19yZXF1aXJlX18oMTYxKTt2YXIgVHJpYW5nbGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCk7dmFyIEJ1aWxkRnJvbVBvbHlnb249ZnVuY3Rpb24gQnVpbGRGcm9tUG9seWdvbihkYXRhLGhvbGVzLHNjYWxlWCxzY2FsZVksb3V0KXtpZihob2xlcz09PXVuZGVmaW5lZCl7aG9sZXM9bnVsbDt9aWYoc2NhbGVYPT09dW5kZWZpbmVkKXtzY2FsZVg9MTt9aWYoc2NhbGVZPT09dW5kZWZpbmVkKXtzY2FsZVk9MTt9aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9W107fXZhciB0cmlzPUVhckN1dChkYXRhLGhvbGVzKTt2YXIgYTt2YXIgYjt2YXIgYzt2YXIgeDE7dmFyIHkxO3ZhciB4Mjt2YXIgeTI7dmFyIHgzO3ZhciB5Mztmb3IodmFyIGk9MDtpPHRyaXMubGVuZ3RoO2krPTMpe2E9dHJpc1tpXTtiPXRyaXNbaSsxXTtjPXRyaXNbaSsyXTt4MT1kYXRhW2EqMl0qc2NhbGVYO3kxPWRhdGFbYSoyKzFdKnNjYWxlWTt4Mj1kYXRhW2IqMl0qc2NhbGVYO3kyPWRhdGFbYioyKzFdKnNjYWxlWTt4Mz1kYXRhW2MqMl0qc2NhbGVYO3kzPWRhdGFbYyoyKzFdKnNjYWxlWTtvdXQucHVzaChuZXcgVHJpYW5nbGUoeDEseTEseDIseTIseDMseTMpKTt9cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUJ1aWxkRnJvbVBvbHlnb247LyoqKi99LC8qIDg0OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFRyaWFuZ2xlPV9fd2VicGFja19yZXF1aXJlX18oNDApOy8vICBCdWlsZHMgYSByaWdodCB0cmlhbmdsZSwgd2l0aCBvbmUgOTAgZGVncmVlIGFuZ2xlIGFuZCB0d28gYWN1dGUgYW5nbGVzXG4vLyAgVGhlIHgveSBpcyB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgOTAgZGVncmVlIGFuZ2xlIChhbmQgd2lsbCBtYXAgdG8geDEveTEgaW4gdGhlIHJlc3VsdGluZyBUcmlhbmdsZSlcbi8vICB3L2ggY2FuIGJlIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGFuZCByZXByZXNlbnQgdGhlIGxlbmd0aCBvZiBlYWNoIHNpZGVcbnZhciBCdWlsZFJpZ2h0PWZ1bmN0aW9uIEJ1aWxkUmlnaHQoeCx5LHdpZHRoLGhlaWdodCl7aWYoaGVpZ2h0PT09dW5kZWZpbmVkKXtoZWlnaHQ9d2lkdGg7fS8vICA5MCBkZWdyZWUgYW5nbGVcbnZhciB4MT14O3ZhciB5MT15O3ZhciB4Mj14O3ZhciB5Mj15LWhlaWdodDt2YXIgeDM9eCt3aWR0aDt2YXIgeTM9eTtyZXR1cm4gbmV3IFRyaWFuZ2xlKHgxLHkxLHgyLHkyLHgzLHkzKTt9O21vZHVsZS5leHBvcnRzPUJ1aWxkUmlnaHQ7LyoqKi99LC8qIDg1MCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENlbnRyb2lkPV9fd2VicGFja19yZXF1aXJlX18oMTk2KTt2YXIgT2Zmc2V0PV9fd2VicGFja19yZXF1aXJlX18oMTk3KTt2YXIgQ2VudGVyT249ZnVuY3Rpb24gQ2VudGVyT24odHJpYW5nbGUseCx5LGNlbnRlckZ1bmMpe2lmKGNlbnRlckZ1bmM9PT11bmRlZmluZWQpe2NlbnRlckZ1bmM9Q2VudHJvaWQ7fS8vICBHZXQgdGhlIGNlbnRlciBvZiB0aGUgdHJpYW5nbGVcbnZhciBjZW50ZXI9Y2VudGVyRnVuYyh0cmlhbmdsZSk7Ly8gIERpZmZlcmVuY2VcbnZhciBkaWZmWD14LWNlbnRlci54O3ZhciBkaWZmWT15LWNlbnRlci55O3JldHVybiBPZmZzZXQodHJpYW5nbGUsZGlmZlgsZGlmZlkpO307bW9kdWxlLmV4cG9ydHM9Q2VudGVyT247LyoqKi99LC8qIDg1MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8vICBBZGFwdGVkIGZyb20gaHR0cDovL2Jqb3JuaGFycnRlbGwuZ2l0aHViLmlvL2pzdHMvZG9jL2FwaS9qc3RzX2dlb21fVHJpYW5nbGUuanMuaHRtbFxuLyoqXG4gKiBDb21wdXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSAyeDIgbWF0cml4LiBVc2VzIHN0YW5kYXJkIGRvdWJsZS1wcmVjaXNpb25cbiAqIGFyaXRobWV0aWMsIHNvIGlzIHN1c2NlcHRpYmxlIHRvIHJvdW5kLW9mZiBlcnJvci5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn1cbiAqICAgICAgICAgIG0wMCB0aGUgWzAsMF0gZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAqIEBwYXJhbSB7TnVtYmVyfVxuICogICAgICAgICAgbTAxIHRoZSBbMCwxXSBlbnRyeSBvZiB0aGUgbWF0cml4LlxuICogQHBhcmFtIHtOdW1iZXJ9XG4gKiAgICAgICAgICBtMTAgdGhlIFsxLDBdIGVudHJ5IG9mIHRoZSBtYXRyaXguXG4gKiBAcGFyYW0ge051bWJlcn1cbiAqICAgICAgICAgIG0xMSB0aGUgWzEsMV0gZW50cnkgb2YgdGhlIG1hdHJpeC5cbiAqIEByZXR1cm4ge051bWJlcn0gdGhlIGRldGVybWluYW50LlxuICovZnVuY3Rpb24gZGV0KG0wMCxtMDEsbTEwLG0xMSl7cmV0dXJuIG0wMCptMTEtbTAxKm0xMDt9LyoqXG4gKiBDb21wdXRlcyB0aGUgY2lyY3VtY2VudHJlIG9mIGEgdHJpYW5nbGUuIFRoZSBjaXJjdW1jZW50cmUgaXMgdGhlIGNlbnRyZSBvZlxuICogdGhlIGNpcmN1bWNpcmNsZSwgdGhlIHNtYWxsZXN0IGNpcmNsZSB3aGljaCBlbmNsb3NlcyB0aGUgdHJpYW5nbGUuIEl0IGlzIGFsc29cbiAqIHRoZSBjb21tb24gaW50ZXJzZWN0aW9uIHBvaW50IG9mIHRoZSBwZXJwZW5kaWN1bGFyIGJpc2VjdG9ycyBvZiB0aGUgc2lkZXMgb2ZcbiAqIHRoZSB0cmlhbmdsZSwgYW5kIGlzIHRoZSBvbmx5IHBvaW50IHdoaWNoIGhhcyBlcXVhbCBkaXN0YW5jZSB0byBhbGwgdGhyZWVcbiAqIHZlcnRpY2VzIG9mIHRoZSB0cmlhbmdsZS5cbiAqIDxwPlxuICogVGhpcyBtZXRob2QgdXNlcyBhbiBhbGdvcml0aG0gZHVlIHRvIEouUi5TaGV3Y2h1ayB3aGljaCB1c2VzIG5vcm1hbGl6YXRpb24gdG9cbiAqIHRoZSBvcmlnaW4gdG8gaW1wcm92ZSB0aGUgYWNjdXJhY3kgb2YgY29tcHV0YXRpb24uIChTZWUgPGk+TGVjdHVyZSBOb3RlcyBvblxuICogR2VvbWV0cmljIFJvYnVzdG5lc3M8L2k+LCBKb25hdGhhbiBSaWNoYXJkIFNoZXdjaHVrLCAxOTk5KS5cbiAqL3ZhciBDaXJjdW1DZW50ZXI9ZnVuY3Rpb24gQ2lyY3VtQ2VudGVyKHRyaWFuZ2xlLG91dCl7aWYob3V0PT09dW5kZWZpbmVkKXtvdXQ9e3g6MCx5OjB9O312YXIgY3g9dHJpYW5nbGUueDM7dmFyIGN5PXRyaWFuZ2xlLnkzO3ZhciBheD10cmlhbmdsZS54MS1jeDt2YXIgYXk9dHJpYW5nbGUueTEtY3k7dmFyIGJ4PXRyaWFuZ2xlLngyLWN4O3ZhciBieT10cmlhbmdsZS55Mi1jeTt2YXIgZGVub209MipkZXQoYXgsYXksYngsYnkpO3ZhciBudW14PWRldChheSxheCpheCtheSpheSxieSxieCpieCtieSpieSk7dmFyIG51bXk9ZGV0KGF4LGF4KmF4K2F5KmF5LGJ4LGJ4KmJ4K2J5KmJ5KTtvdXQueD1jeC1udW14L2Rlbm9tO291dC55PWN5K251bXkvZGVub207cmV0dXJuIG91dDt9O21vZHVsZS5leHBvcnRzPUNpcmN1bUNlbnRlcjsvKioqL30sLyogODUyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7Ly8gIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9tdXRvby81NjE3NjkxXG52YXIgQ2lyY3VtQ2lyY2xlPWZ1bmN0aW9uIENpcmN1bUNpcmNsZSh0cmlhbmdsZSxvdXQpe2lmKG91dD09PXVuZGVmaW5lZCl7b3V0PXt4OjAseTowLHJhZGl1czowfTt9Ly8gIEFcbnZhciB4MT10cmlhbmdsZS54MTt2YXIgeTE9dHJpYW5nbGUueTE7Ly8gIEJcbnZhciB4Mj10cmlhbmdsZS54Mjt2YXIgeTI9dHJpYW5nbGUueTI7Ly8gIENcbnZhciB4Mz10cmlhbmdsZS54Mzt2YXIgeTM9dHJpYW5nbGUueTM7dmFyIEE9eDIteDE7dmFyIEI9eTIteTE7dmFyIEM9eDMteDE7dmFyIEQ9eTMteTE7dmFyIEU9QSooeDEreDIpK0IqKHkxK3kyKTt2YXIgRj1DKih4MSt4MykrRCooeTEreTMpO3ZhciBHPTIqKEEqKHkzLXkyKS1CKih4My14MikpO3ZhciBkeDt2YXIgZHk7Ly8gIElmIHRoZSBwb2ludHMgb2YgdGhlIHRyaWFuZ2xlIGFyZSBjb2xsaW5lYXIsIHRoZW4ganVzdCBmaW5kIHRoZVxuLy8gIGV4dHJlbWVzIGFuZCB1c2UgdGhlIG1pZHBvaW50IGFzIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmN1bWNpcmNsZS5cbmlmKE1hdGguYWJzKEcpPDAuMDAwMDAxKXt2YXIgbWluWD1NYXRoLm1pbih4MSx4Mix4Myk7dmFyIG1pblk9TWF0aC5taW4oeTEseTIseTMpO2R4PShNYXRoLm1heCh4MSx4Mix4MyktbWluWCkqMC41O2R5PShNYXRoLm1heCh5MSx5Mix5MyktbWluWSkqMC41O291dC54PW1pblgrZHg7b3V0Lnk9bWluWStkeTtvdXQucmFkaXVzPU1hdGguc3FydChkeCpkeCtkeSpkeSk7fWVsc2V7b3V0Lng9KEQqRS1CKkYpL0c7b3V0Lnk9KEEqRi1DKkUpL0c7ZHg9b3V0LngteDE7ZHk9b3V0LnkteTE7b3V0LnJhZGl1cz1NYXRoLnNxcnQoZHgqZHgrZHkqZHkpO31yZXR1cm4gb3V0O307bW9kdWxlLmV4cG9ydHM9Q2lyY3VtQ2lyY2xlOy8qKiovfSwvKiA4NTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBUcmlhbmdsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQwKTt2YXIgQ2xvbmU9ZnVuY3Rpb24gQ2xvbmUoc291cmNlKXtyZXR1cm4gbmV3IFRyaWFuZ2xlKHNvdXJjZS54MSxzb3VyY2UueTEsc291cmNlLngyLHNvdXJjZS55Mixzb3VyY2UueDMsc291cmNlLnkzKTt9O21vZHVsZS5leHBvcnRzPUNsb25lOy8qKiovfSwvKiA4NTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDb250YWlucz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KTt2YXIgQ29udGFpbnNQb2ludD1mdW5jdGlvbiBDb250YWluc1BvaW50KHRyaWFuZ2xlLHBvaW50KXtyZXR1cm4gQ29udGFpbnModHJpYW5nbGUscG9pbnQueCxwb2ludC55KTt9O21vZHVsZS5leHBvcnRzPUNvbnRhaW5zUG9pbnQ7LyoqKi99LC8qIDg1NSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDb3B5RnJvbT1mdW5jdGlvbiBDb3B5RnJvbShzb3VyY2UsZGVzdCl7cmV0dXJuIGRlc3Quc2V0VG8oc291cmNlLngxLHNvdXJjZS55MSxzb3VyY2UueDIsc291cmNlLnkyLHNvdXJjZS54Myxzb3VyY2UueTMpO307bW9kdWxlLmV4cG9ydHM9Q29weUZyb207LyoqKi99LC8qIDg1NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBFcXVhbHM9ZnVuY3Rpb24gRXF1YWxzKHRyaWFuZ2xlLHRvQ29tcGFyZSl7cmV0dXJuIHRyaWFuZ2xlLngxPT09dG9Db21wYXJlLngxJiZ0cmlhbmdsZS55MT09PXRvQ29tcGFyZS55MSYmdHJpYW5nbGUueDI9PT10b0NvbXBhcmUueDImJnRyaWFuZ2xlLnkyPT09dG9Db21wYXJlLnkyJiZ0cmlhbmdsZS54Mz09PXRvQ29tcGFyZS54MyYmdHJpYW5nbGUueTM9PT10b0NvbXBhcmUueTM7fTttb2R1bGUuZXhwb3J0cz1FcXVhbHM7LyoqKi99LC8qIDg1NyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJvdGF0ZUFyb3VuZFhZPV9fd2VicGFja19yZXF1aXJlX18oOTQpO3ZhciBJbkNlbnRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5OCk7dmFyIFJvdGF0ZT1mdW5jdGlvbiBSb3RhdGUodHJpYW5nbGUsYW5nbGUpe3ZhciBwb2ludD1JbkNlbnRlcih0cmlhbmdsZSk7cmV0dXJuIFJvdGF0ZUFyb3VuZFhZKHRyaWFuZ2xlLHBvaW50LngscG9pbnQueSxhbmdsZSk7fTttb2R1bGUuZXhwb3J0cz1Sb3RhdGU7LyoqKi99LC8qIDg1OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJvdGF0ZUFyb3VuZFhZPV9fd2VicGFja19yZXF1aXJlX18oOTQpO3ZhciBSb3RhdGVBcm91bmRQb2ludD1mdW5jdGlvbiBSb3RhdGVBcm91bmRQb2ludCh0cmlhbmdsZSxwb2ludCxhbmdsZSl7cmV0dXJuIFJvdGF0ZUFyb3VuZFhZKHRyaWFuZ2xlLHBvaW50LngscG9pbnQueSxhbmdsZSk7fTttb2R1bGUuZXhwb3J0cz1Sb3RhdGVBcm91bmRQb2ludDsvKioqL30sLyogODU5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdyYXBoaWNzXG5tb2R1bGUuZXhwb3J0cz17QmxlbmRNb2RlczpfX3dlYnBhY2tfcmVxdWlyZV9fKDg2MCksQ29sb3I6X193ZWJwYWNrX3JlcXVpcmVfXyg4NzUpfTsvKioqL30sLyogODYwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdyYXBoaWNzLkJsZW5kTW9kZXNcbm1vZHVsZS5leHBvcnRzPXtBZGQ6X193ZWJwYWNrX3JlcXVpcmVfXygxOTkpLEF2ZXJhZ2U6X193ZWJwYWNrX3JlcXVpcmVfXyg4NjEpLENvbG9yQnVybjpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMCksQ29sb3JEb2RnZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwMSksRGFya2VuOl9fd2VicGFja19yZXF1aXJlX18oMjAyKSxEaWZmZXJlbmNlOl9fd2VicGFja19yZXF1aXJlX18oODYyKSxFeGNsdXNpb246X193ZWJwYWNrX3JlcXVpcmVfXyg4NjMpLEdsb3c6X193ZWJwYWNrX3JlcXVpcmVfXyg4NjQpLEhhcmRMaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg2NSksSGFyZE1peDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg2NiksTGlnaHRlbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNiksTGluZWFyQnVybjpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNyksTGluZWFyRG9kZ2U6X193ZWJwYWNrX3JlcXVpcmVfXygyMDkpLExpbmVhckxpZ2h0Ol9fd2VicGFja19yZXF1aXJlX18oODY3KSxNdWx0aXBseTpfX3dlYnBhY2tfcmVxdWlyZV9fKDg2OCksTmVnYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg4NjkpLE5vcm1hbDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg3MCksT3ZlcmxheTpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNCksUGhvZW5peDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg3MSksUGluTGlnaHQ6X193ZWJwYWNrX3JlcXVpcmVfXyg4NzIpLFJlZmxlY3Q6X193ZWJwYWNrX3JlcXVpcmVfXygyMDMpLFNjcmVlbjpfX3dlYnBhY2tfcmVxdWlyZV9fKDg3MyksU29mdExpZ2h0Ol9fd2VicGFja19yZXF1aXJlX18oODc0KSxTdWJ0cmFjdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwOCksVml2aWRMaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNSl9Oy8qKiovfSwvKiA4NjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogVGFrZXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHNvdXJjZSBhbmQgYmFja2Ryb3AgY29sb3JzLlxuKi92YXIgQXZlcmFnZT1mdW5jdGlvbiBBdmVyYWdlKGEsYil7cmV0dXJuKGErYikvMjt9O21vZHVsZS5leHBvcnRzPUF2ZXJhZ2U7LyoqKi99LC8qIDg2MiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBTdWJ0cmFjdHMgdGhlIGRhcmtlciBvZiB0aGUgdHdvIGNvbnN0aXR1ZW50IGNvbG9ycyBmcm9tIHRoZSBsaWdodGVyLlxuKiBcbiogUGFpbnRpbmcgd2l0aCB3aGl0ZSBpbnZlcnRzIHRoZSBiYWNrZHJvcCBjb2xvcjsgcGFpbnRpbmcgd2l0aCBibGFjayBwcm9kdWNlcyBubyBjaGFuZ2UuIFxuKi92YXIgRGlmZmVyZW5jZT1mdW5jdGlvbiBEaWZmZXJlbmNlKGEsYil7cmV0dXJuIE1hdGguYWJzKGEtYik7fTttb2R1bGUuZXhwb3J0cz1EaWZmZXJlbmNlOy8qKiovfSwvKiA4NjMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogUHJvZHVjZXMgYW4gZWZmZWN0IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgRGlmZmVyZW5jZSBtb2RlLCBidXQgbG93ZXIgaW4gY29udHJhc3QuIFxuKiBQYWludGluZyB3aXRoIHdoaXRlIGludmVydHMgdGhlIGJhY2tkcm9wIGNvbG9yOyBwYWludGluZyB3aXRoIGJsYWNrIHByb2R1Y2VzIG5vIGNoYW5nZS4gXG4qL3ZhciBFeGNsdXNpb249ZnVuY3Rpb24gRXhjbHVzaW9uKGEsYil7cmV0dXJuIGErYi0yKmEqYi8yNTU7fTttb2R1bGUuZXhwb3J0cz1FeGNsdXNpb247LyoqKi99LC8qIDg2NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIFJlZmxlY3Q9X193ZWJwYWNrX3JlcXVpcmVfXygyMDMpOy8qKlxuKiBHbG93IGJsZW5kIG1vZGUuIFRoaXMgbW9kZSBpcyBhIHZhcmlhdGlvbiBvZiByZWZsZWN0IG1vZGUgd2l0aCB0aGUgc291cmNlIGFuZCBiYWNrZHJvcCBjb2xvcnMgc3dhcHBlZC5cbiovdmFyIEdsb3c9ZnVuY3Rpb24gR2xvdyhhLGIpe3JldHVybiBSZWZsZWN0KGIsYSk7fTttb2R1bGUuZXhwb3J0cz1HbG93Oy8qKiovfSwvKiA4NjUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBPdmVybGF5PV9fd2VicGFja19yZXF1aXJlX18oMjA0KTsvKipcbiogTXVsdGlwbGllcyBvciBzY3JlZW5zIHRoZSBjb2xvcnMsIGRlcGVuZGluZyBvbiB0aGUgc291cmNlIGNvbG9yIHZhbHVlLiBcbiogXG4qIElmIHRoZSBzb3VyY2UgY29sb3IgaXMgbGlnaHRlciB0aGFuIDAuNSwgdGhlIGJhY2tkcm9wIGlzIGxpZ2h0ZW5lZCwgYXMgaWYgaXQgd2VyZSBzY3JlZW5lZDsgXG4qIHRoaXMgaXMgdXNlZnVsIGZvciBhZGRpbmcgaGlnaGxpZ2h0cyB0byBhIHNjZW5lLiBcbiogXG4qIElmIHRoZSBzb3VyY2UgY29sb3IgaXMgZGFya2VyIHRoYW4gMC41LCB0aGUgYmFja2Ryb3AgaXMgZGFya2VuZWQsIGFzIGlmIGl0IHdlcmUgbXVsdGlwbGllZDsgXG4qIHRoaXMgaXMgdXNlZnVsIGZvciBhZGRpbmcgc2hhZG93cyB0byBhIHNjZW5lLiBcbiogXG4qIFRoZSBkZWdyZWUgb2YgbGlnaHRlbmluZyBvciBkYXJrZW5pbmcgaXMgcHJvcG9ydGlvbmFsIHRvIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHNvdXJjZSBjb2xvciBhbmQgMC41OyBcbiogaWYgaXQgaXMgZXF1YWwgdG8gMC41LCB0aGUgYmFja2Ryb3AgaXMgdW5jaGFuZ2VkLlxuKiBcbiogUGFpbnRpbmcgd2l0aCBwdXJlIGJsYWNrIG9yIHdoaXRlIHByb2R1Y2VzIHB1cmUgYmxhY2sgb3Igd2hpdGUuIFRoZSBlZmZlY3QgaXMgc2ltaWxhciB0byBzaGluaW5nIGEgaGFyc2ggc3BvdGxpZ2h0IG9uIHRoZSBiYWNrZHJvcC4gXG4qL3ZhciBIYXJkTGlnaHQ9ZnVuY3Rpb24gSGFyZExpZ2h0KGEsYil7cmV0dXJuIE92ZXJsYXkoYixhKTt9O21vZHVsZS5leHBvcnRzPUhhcmRMaWdodDsvKioqL30sLyogODY2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgVml2aWRMaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwNSk7LyoqXG4qIFJ1bnMgYmxlbmRWaXZpZExpZ2h0IG9uIHRoZSBzb3VyY2UgYW5kIGJhY2tkcm9wIGNvbG9ycy5cbiogSWYgdGhlIHJlc3VsdGluZyBjb2xvciBpcyAxMjggb3IgbW9yZSwgaXQgcmVjZWl2ZXMgYSB2YWx1ZSBvZiAyNTU7IGlmIGxlc3MgdGhhbiAxMjgsIGEgdmFsdWUgb2YgMC5cbiogVGhlcmVmb3JlLCBhbGwgYmxlbmRlZCBwaXhlbHMgaGF2ZSByZWQsIGdyZWVuLCBhbmQgYmx1ZSBjaGFubmVsIHZhbHVlcyBvZiBlaXRoZXIgMCBvciAyNTUuXG4qIFRoaXMgY2hhbmdlcyBhbGwgcGl4ZWxzIHRvIHByaW1hcnkgYWRkaXRpdmUgY29sb3JzIChyZWQsIGdyZWVuLCBvciBibHVlKSwgd2hpdGUsIG9yIGJsYWNrLlxuKi92YXIgSGFyZE1peD1mdW5jdGlvbiBIYXJkTWl4KGEsYil7cmV0dXJuIFZpdmlkTGlnaHQoYSxiKTwxMjg/MDoyNTU7fTttb2R1bGUuZXhwb3J0cz1IYXJkTWl4Oy8qKiovfSwvKiA4NjcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBMaW5lYXJCdXJuPV9fd2VicGFja19yZXF1aXJlX18oMjA3KTt2YXIgTGluZWFyRG9kZ2U9X193ZWJwYWNrX3JlcXVpcmVfXygyMDkpOy8qKlxuKiBUaGlzIGJsZW5kIG1vZGUgY29tYmluZXMgTGluZWFyIERvZGdlIGFuZCBMaW5lYXIgQnVybiAocmVzY2FsZWQgc28gdGhhdCBuZXV0cmFsIGNvbG9ycyBiZWNvbWUgbWlkZGxlIGdyYXkpLlxuKiBEb2RnZSBhcHBsaWVzIHRvIHZhbHVlcyBvZiB0b3AgbGF5ZXIgbGlnaHRlciB0aGFuIG1pZGRsZSBncmF5LCBhbmQgYnVybiB0byBkYXJrZXIgdmFsdWVzLlxuKiBUaGUgY2FsY3VsYXRpb24gc2ltcGxpZmllcyB0byB0aGUgc3VtIG9mIGJvdHRvbSBsYXllciBhbmQgdHdpY2UgdGhlIHRvcCBsYXllciwgc3VidHJhY3QgMTI4LiBUaGUgY29udHJhc3QgZGVjcmVhc2VzLlxuKi92YXIgTGluZWFyTGlnaHQ9ZnVuY3Rpb24gTGluZWFyTGlnaHQoYSxiKXtyZXR1cm4gYjwxMjg/TGluZWFyQnVybihhLDIqYik6TGluZWFyRG9kZ2UoYSwyKihiLTEyOCkpO307bW9kdWxlLmV4cG9ydHM9TGluZWFyTGlnaHQ7LyoqKi99LC8qIDg2OCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBNdWx0aXBsaWVzIHRoZSBiYWNrZHJvcCBhbmQgc291cmNlIGNvbG9yIHZhbHVlcy5cbiogVGhlIHJlc3VsdCBjb2xvciBpcyBhbHdheXMgYXQgbGVhc3QgYXMgZGFyayBhcyBlaXRoZXIgb2YgdGhlIHR3byBjb25zdGl0dWVudFxuKiBjb2xvcnMuIE11bHRpcGx5aW5nIGFueSBjb2xvciB3aXRoIGJsYWNrIHByb2R1Y2VzIGJsYWNrO1xuKiBtdWx0aXBseWluZyB3aXRoIHdoaXRlIGxlYXZlcyB0aGUgb3JpZ2luYWwgY29sb3IgdW5jaGFuZ2VkLlxuKi92YXIgTXVsdGlwbHk9ZnVuY3Rpb24gTXVsdGlwbHkoYSxiKXtyZXR1cm4gYSpiLzI1NTt9O21vZHVsZS5leHBvcnRzPU11bHRpcGx5Oy8qKiovfSwvKiA4NjkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogTmVnYXRpb24gYmxlbmQgbW9kZS5cbiovdmFyIE5lZ2F0aW9uPWZ1bmN0aW9uIE5lZ2F0aW9uKGEsYil7cmV0dXJuIDI1NS1NYXRoLmFicygyNTUtYS1iKTt9O21vZHVsZS5leHBvcnRzPU5lZ2F0aW9uOy8qKiovfSwvKiA4NzAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogQmxlbmRzIHRoZSBzb3VyY2UgY29sb3IsIGlnbm9yaW5nIHRoZSBiYWNrZHJvcC5cbiovdmFyIE5vcm1hbD1mdW5jdGlvbiBOb3JtYWwoYSl7cmV0dXJuIGE7fTttb2R1bGUuZXhwb3J0cz1Ob3JtYWw7LyoqKi99LC8qIDg3MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBQaG9lbml4IGJsZW5kIG1vZGUuIFRoaXMgc3VidHJhY3RzIHRoZSBsaWdodGVyIGNvbG9yIGZyb20gdGhlIGRhcmtlciBjb2xvciwgYW5kIGFkZHMgMjU1LCBnaXZpbmcgYSBicmlnaHQgcmVzdWx0LlxuKi92YXIgUGhvZW5peD1mdW5jdGlvbiBQaG9lbml4KGEsYil7cmV0dXJuIE1hdGgubWluKGEsYiktTWF0aC5tYXgoYSxiKSsyNTU7fTttb2R1bGUuZXhwb3J0cz1QaG9lbml4Oy8qKiovfSwvKiA4NzIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBEYXJrZW49X193ZWJwYWNrX3JlcXVpcmVfXygyMDIpO3ZhciBMaWdodGVuPV9fd2VicGFja19yZXF1aXJlX18oMjA2KTsvKipcbiogSWYgdGhlIGJhY2tkcm9wIGNvbG9yIChsaWdodCBzb3VyY2UpIGlzIGxpZ2h0ZXIgdGhhbiA1MCUsIHRoZSBibGVuZERhcmtlbiBtb2RlIGlzIHVzZWQsIGFuZCBjb2xvcnMgbGlnaHRlciB0aGFuIHRoZSBiYWNrZHJvcCBjb2xvciBkbyBub3QgY2hhbmdlLlxuKiBJZiB0aGUgYmFja2Ryb3AgY29sb3IgaXMgZGFya2VyIHRoYW4gNTAlIGdyYXksIGNvbG9ycyBsaWdodGVyIHRoYW4gdGhlIGJsZW5kIGNvbG9yIGFyZSByZXBsYWNlZCwgYW5kIGNvbG9ycyBkYXJrZXIgdGhhbiB0aGUgYmxlbmQgY29sb3IgZG8gbm90IGNoYW5nZS5cbiovdmFyIFBpbkxpZ2h0PWZ1bmN0aW9uIFBpbkxpZ2h0KGEsYil7cmV0dXJuIGI8MTI4P0RhcmtlbihhLDIqYik6TGlnaHRlbihhLDIqKGItMTI4KSk7fTttb2R1bGUuZXhwb3J0cz1QaW5MaWdodDsvKioqL30sLyogODczICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIE11bHRpcGxpZXMgdGhlIGNvbXBsZW1lbnRzIG9mIHRoZSBiYWNrZHJvcCBhbmQgc291cmNlIGNvbG9yIHZhbHVlcywgdGhlbiBjb21wbGVtZW50cyB0aGUgcmVzdWx0LlxuKiBUaGUgcmVzdWx0IGNvbG9yIGlzIGFsd2F5cyBhdCBsZWFzdCBhcyBsaWdodCBhcyBlaXRoZXIgb2YgdGhlIHR3byBjb25zdGl0dWVudCBjb2xvcnMuIFxuKiBTY3JlZW5pbmcgYW55IGNvbG9yIHdpdGggd2hpdGUgcHJvZHVjZXMgd2hpdGU7IHNjcmVlbmluZyB3aXRoIGJsYWNrIGxlYXZlcyB0aGUgb3JpZ2luYWwgY29sb3IgdW5jaGFuZ2VkLiBcbiovdmFyIFNjcmVlbj1mdW5jdGlvbiBTY3JlZW4oYSxiKXtyZXR1cm4gMjU1LSgoMjU1LWEpKigyNTUtYik+PjgpO307bW9kdWxlLmV4cG9ydHM9U2NyZWVuOy8qKiovfSwvKiA4NzQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogRGFya2VucyBvciBsaWdodGVucyB0aGUgY29sb3JzLCBkZXBlbmRpbmcgb24gdGhlIHNvdXJjZSBjb2xvciB2YWx1ZS4gXG4qIFxuKiBJZiB0aGUgc291cmNlIGNvbG9yIGlzIGxpZ2h0ZXIgdGhhbiAwLjUsIHRoZSBiYWNrZHJvcCBpcyBsaWdodGVuZWQsIGFzIGlmIGl0IHdlcmUgZG9kZ2VkOyBcbiogdGhpcyBpcyB1c2VmdWwgZm9yIGFkZGluZyBoaWdobGlnaHRzIHRvIGEgc2NlbmUuIFxuKiBcbiogSWYgdGhlIHNvdXJjZSBjb2xvciBpcyBkYXJrZXIgdGhhbiAwLjUsIHRoZSBiYWNrZHJvcCBpcyBkYXJrZW5lZCwgYXMgaWYgaXQgd2VyZSBidXJuZWQgaW4uIFxuKiBUaGUgZGVncmVlIG9mIGxpZ2h0ZW5pbmcgb3IgZGFya2VuaW5nIGlzIHByb3BvcnRpb25hbCB0byB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBzb3VyY2UgY29sb3IgYW5kIDAuNTsgXG4qIGlmIGl0IGlzIGVxdWFsIHRvIDAuNSwgdGhlIGJhY2tkcm9wIGlzIHVuY2hhbmdlZC5cbiogXG4qIFBhaW50aW5nIHdpdGggcHVyZSBibGFjayBvciB3aGl0ZSBwcm9kdWNlcyBhIGRpc3RpbmN0bHkgZGFya2VyIG9yIGxpZ2h0ZXIgYXJlYSwgYnV0IGRvZXMgbm90IHJlc3VsdCBpbiBwdXJlIGJsYWNrIG9yIHdoaXRlLiBcbiogVGhlIGVmZmVjdCBpcyBzaW1pbGFyIHRvIHNoaW5pbmcgYSBkaWZmdXNlZCBzcG90bGlnaHQgb24gdGhlIGJhY2tkcm9wLiBcbiovdmFyIFNvZnRMaWdodD1mdW5jdGlvbiBTb2Z0TGlnaHQoYSxiKXtyZXR1cm4gYjwxMjg/MiooKGE+PjEpKzY0KSooYi8yNTUpOjI1NS0yKigyNTUtKChhPj4xKSs2NCkpKigyNTUtYikvMjU1O307bW9kdWxlLmV4cG9ydHM9U29mdExpZ2h0Oy8qKiovfSwvKiA4NzUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuR3JhcGhpY3MuQ29sb3JcbnZhciBDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtDb2xvci5Db2xvclRvUkdCQT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg3Nik7Q29sb3IuQ29tcG9uZW50VG9IZXg9X193ZWJwYWNrX3JlcXVpcmVfXygyMTApO0NvbG9yLkNTU1RvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXyg4NzcpO0NvbG9yLkdldENvbG9yPV9fd2VicGFja19yZXF1aXJlX18oNjkpO0NvbG9yLkdldENvbG9yMzI9X193ZWJwYWNrX3JlcXVpcmVfXygxNDkpO0NvbG9yLkhleFN0cmluZ1RvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXygxNTApO0NvbG9yLkhTTFRvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXyg4NzgpO0NvbG9yLkhTVkNvbG9yV2hlZWw9X193ZWJwYWNrX3JlcXVpcmVfXyg4ODApO0NvbG9yLkhTVlRvUkdCPV9fd2VicGFja19yZXF1aXJlX18oMjEyKTtDb2xvci5IdWVUb0NvbXBvbmVudD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxMSk7Q29sb3IuSW50ZWdlclRvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO0NvbG9yLkludGVnZXJUb1JHQj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Mik7Q29sb3IuSW50ZXJwb2xhdGU9X193ZWJwYWNrX3JlcXVpcmVfXyg4ODEpO0NvbG9yLlJhbmRvbVJHQj1fX3dlYnBhY2tfcmVxdWlyZV9fKDg4Mik7Q29sb3IuUkdCU3RyaW5nVG9Db2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0OCk7Q29sb3IuUkdCVG9IU1Y9X193ZWJwYWNrX3JlcXVpcmVfXyg4ODMpO0NvbG9yLlJHQlRvU3RyaW5nPV9fd2VicGFja19yZXF1aXJlX18oODg0KTtDb2xvci5WYWx1ZVRvQ29sb3I9X193ZWJwYWNrX3JlcXVpcmVfXyg1Mik7bW9kdWxlLmV4cG9ydHM9Q29sb3I7LyoqKi99LC8qIDg3NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBDb2xvclRvUkdCQT1mdW5jdGlvbiBDb2xvclRvUkdCQShjb2xvcil7dmFyIG91dHB1dD17cjpjb2xvcj4+MTYmMHhGRixnOmNvbG9yPj44JjB4RkYsYjpjb2xvciYweEZGLGE6MjU1fTtpZihjb2xvcj4xNjc3NzIxNSl7b3V0cHV0LmE9Y29sb3I+Pj4yNDt9cmV0dXJuIG91dHB1dDt9O21vZHVsZS5leHBvcnRzPUNvbG9yVG9SR0JBOy8qKiovfSwvKiA4NzcgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTt2YXIgQ1NTTWFwPXthbGljZWJsdWU6WzI0MCwyNDgsMjQ1XSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1XSxhcXVhOlswLDI1NSwyNTVdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyXSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmlzcXVlOlsyNTUsMjI4LDE5Nl0sYmxhY2s6WzAsMCwwXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDVdLGJsdWU6WzAsMCwyNTVdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjZdLGJyb3duOlsxNjUsNDIsNDJdLGJ1cmx5d29vZDpbMjIyLDE4NCwzNV0sY2FkZXRibHVlOls5NSwxNTgsMTYwXSxjaGFydHJldXNlOlsxMjcsMjU1LDBdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMF0sY29yYWw6WzI1NSwxMjcsODBdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzN10sY29ybnNpbGs6WzI1NSwyNDgsMjIwXSxjcmltc29uOlsyMjAsMjAsNjBdLGRhcmtibHVlOlswLDAsMTM5XSxkYXJrY3lhbjpbMCwxMzksMTM5XSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjldLGRhcmtncmVlbjpbMCwxMDAsMF0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJra2hha2k6WzE4OSwxODMsMTA3XSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5XSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3XSxkYXJrb3JhbmdlOlsyNTUsMTQwLDBdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDRdLGRhcmtyZWQ6WzEzOSwwLDBdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzldLGRhcmtzbGF0ZWdyYXk6WzQ3LDc5LDc5XSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5XSxkYXJrdmlvbGV0OlsxNDgsMCwyMTFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3XSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1XSxkaW1ncmF5OlsxMDUsMTA1LDEwNV0sZGltZ3JleTpbMTA1LDEwNSwxMDVdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTVdLGZpcmVicmljazpbMTc4LDM0LDM0XSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDBdLGZvcmVzdGdyZWVuOlszNCwxMzksMzRdLGZ1Y2hzaWE6WzI1NSwwLDI1NV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMF0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTVdLGdvbGQ6WzI1NSwyMTUsMF0sZ29sZGVucm9kOlsyMTgsMTY1LDMyXSxncmF5OlsxMjgsMTI4LDEyOF0sZ3JlZW46WzAsMTI4LDBdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3XSxncmV5OlsxMjgsMTI4LDEyOF0saG9uZXlkZXc6WzI0MCwyNTUsMjQwXSxob3RwaW5rOlsyNTUsMTA1LDE4MF0saW5kaWFucmVkOlsyMDUsOTIsOTJdLGluZGlnbzpbNzUsMCwxMzBdLGl2b3J5OlsyNTUsMjU1LDI0MF0sa2hha2k6WzI0MCwyMzAsMTQwXSxsYXZlbmRlcjpbMjMwLDIzMCwyNTBdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1XSxsYXduZ3JlZW46WzEyNCwyNTIsMF0sbGVtb25jaGlmZm9uOlsyNTUsMjUwLDIwNV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMF0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjhdLGxpZ2h0Y3lhbjpbMjI0LDI1NSwyNTVdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMF0sbGlnaHRncmF5OlsyMTEsMjExLDIxMV0sbGlnaHRncmVlbjpbMTQ0LDIzOCwxNDRdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTNdLGxpZ2h0c2FsbW9uOlsyNTUsMTYwLDEyMl0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MF0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MF0sbGlnaHRzbGF0ZWdyYXk6WzExOSwxMzYsMTUzXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTNdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMl0sbGlnaHR5ZWxsb3c6WzI1NSwyNTUsMjI0XSxsaW1lOlswLDI1NSwwXSxsaW1lZ3JlZW46WzUwLDIwNSw1MF0sbGluZW46WzI1MCwyNDAsMjMwXSxtYXJvb246WzEyOCwwLDBdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwXSxtZWRpdW1ibHVlOlswLDAsMjA1XSxtZWRpdW1vcmNoaWQ6WzE4Niw4NSwyMTFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTldLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzXSxtZWRpdW1zbGF0ZWJsdWU6WzEyMywxMDQsMjM4XSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0XSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDRdLG1lZGl1bXZpb2xldHJlZDpbMTk5LDIxLDEzM10sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTJdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTBdLG1pc3R5cm9zZTpbMjU1LDIyOCwyMjVdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczXSxuYXZ5OlswLDAsMTI4XSxvbGRsYWNlOlsyNTMsMjQ1LDIzMF0sb2xpdmU6WzEyOCwxMjgsMF0sb2xpdmVkcmFiOlsxMDcsMTQyLDM1XSxvcmFuZ2U6WzI1NSwxNjUsMF0sb3JhbmdlcmVkOlsyNTUsNjksMF0sb3JjaGlkOlsyMTgsMTEyLDIxNF0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzBdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTJdLHBhbGV0dXJxdW9pc2U6WzE3NSwyMzgsMjM4XSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0N10scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTNdLHBlYWNocHVmZjpbMjU1LDIxOCwxODVdLHBlcnU6WzIwNSwxMzMsNjNdLHBpbms6WzI1NSwxOTIsMjAzXSxwbHVtOlsyMjEsMTYwLDIyMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzBdLHB1cnBsZTpbMTI4LDAsMTI4XSxyZWJlY2NhcHVycGxlOlsxMDIsNTEsMTUzXSxyZWQ6WzI1NSwwLDBdLHJvc3licm93bjpbMTg4LDE0MywxNDNdLHJveWFsYmx1ZTpbNjUsMTA1LDIyNV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOV0sc2FsbW9uOlsyNTAsMTI4LDExNF0sc2FuZHlicm93bjpbMjQ0LDE2NCw5Nl0sc2VhZ3JlZW46WzQ2LDEzOSw4N10sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4XSxzaWVubmE6WzE2MCw4Miw0NV0sc2lsdmVyOlsxOTIsMTkyLDEyOV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzVdLHNsYXRlYmx1ZTpbMTA2LDkwLDIwNV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NF0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NF0sc25vdzpbMjU1LDI1MCwyNTBdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjddLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MF0sdGFuOlsyMTAsMTgwLDE0MF0sdGVhbDpbMCwxMjgsMTI4XSx0aGlzdGxlOlsyMTYsMTkxLDIxNl0sdG9tYXRvOlsyNTUsOTksNzFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOF0sdmlvbGV0OlsyMzgsMTMwLDIzOF0sd2hlYXQ6WzI0NSwyMjIsMTc5XSx3aGl0ZTpbMjU1LDI1NSwyNTVdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1XSx5ZWxsb3c6WzI1NSwyNTUsMF0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTBdfTt2YXIgQ1NTVG9Db2xvcj1mdW5jdGlvbiBDU1NUb0NvbG9yKG5hbWUpe25hbWU9bmFtZS50b0xvd2VyQ2FzZSgpO3ZhciBjb2xvcj1uZXcgQ29sb3IoKTt2YXIgZW50cnk9Q1NTTWFwW25hbWVdO2lmKGVudHJ5KXtjb2xvci5zZXRUbyhlbnRyeVswXSxlbnRyeVsxXSxlbnRyeVsyXSwyNTUpO31yZXR1cm4gY29sb3I7fTttb2R1bGUuZXhwb3J0cz1DU1NUb0NvbG9yOy8qKiovfSwvKiA4NzggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBDb2xvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTt2YXIgSHVlVG9Db21wb25lbnQ9X193ZWJwYWNrX3JlcXVpcmVfXygyMTEpO3ZhciBIU0xUb0NvbG9yPWZ1bmN0aW9uIEhTTFRvQ29sb3IoaCxzLGwpey8vIGFjaHJvbWF0aWMgYnkgZGVmYXVsdFxudmFyIHI9bDt2YXIgZz1sO3ZhciBiPWw7aWYocyE9PTApe3ZhciBxPWw8MC41P2wqKDErcyk6bCtzLWwqczt2YXIgcD0yKmwtcTtyPUh1ZVRvQ29tcG9uZW50KHAscSxoKzEvMyk7Zz1IdWVUb0NvbXBvbmVudChwLHEsaCk7Yj1IdWVUb0NvbXBvbmVudChwLHEsaC0xLzMpO312YXIgY29sb3I9bmV3IENvbG9yKCk7cmV0dXJuIGNvbG9yLnNldEdMVG8ocixnLGIsMSk7fTttb2R1bGUuZXhwb3J0cz1IU0xUb0NvbG9yOy8qKiovfSwvKiA4NzkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihtb2R1bGUpe2lmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKXttb2R1bGUuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fTttb2R1bGUucGF0aHM9W107Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5pZighbW9kdWxlLmNoaWxkcmVuKW1vZHVsZS5jaGlsZHJlbj1bXTtPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLFwibG9hZGVkXCIse2VudW1lcmFibGU6dHJ1ZSxnZXQ6ZnVuY3Rpb24gZ2V0KCl7cmV0dXJuIG1vZHVsZS5sO319KTtPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLFwiaWRcIix7ZW51bWVyYWJsZTp0cnVlLGdldDpmdW5jdGlvbiBnZXQoKXtyZXR1cm4gbW9kdWxlLmk7fX0pO21vZHVsZS53ZWJwYWNrUG9seWZpbGw9MTt9cmV0dXJuIG1vZHVsZTt9Oy8qKiovfSwvKiA4ODAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBIU1ZUb1JHQj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxMik7LyoqXG4qIEdldCBIU1YgY29sb3Igd2hlZWwgdmFsdWVzIGluIGFuIGFycmF5IHdoaWNoIHdpbGwgYmUgMzYwIGVsZW1lbnRzIGluIHNpemUuXG4qL3ZhciBIU1ZDb2xvcldoZWVsPWZ1bmN0aW9uIEhTVkNvbG9yV2hlZWwocyx2KXtpZihzPT09dW5kZWZpbmVkKXtzPTE7fWlmKHY9PT11bmRlZmluZWQpe3Y9MTt9dmFyIGNvbG9ycz1bXTtmb3IodmFyIGM9MDtjPD0zNTk7YysrKXtjb2xvcnMucHVzaChIU1ZUb1JHQihjLzM1OSxzLHYpKTt9cmV0dXJuIGNvbG9yczt9O21vZHVsZS5leHBvcnRzPUhTVkNvbG9yV2hlZWw7LyoqKi99LC8qIDg4MSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIExpbmVhcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSk7dmFyIFJHQldpdGhSR0I9ZnVuY3Rpb24gUkdCV2l0aFJHQihyMSxnMSxiMSxyMixnMixiMixsZW5ndGgsaW5kZXgpe2lmKGxlbmd0aD09PXVuZGVmaW5lZCl7bGVuZ3RoPTEwMDt9aWYoaW5kZXg9PT11bmRlZmluZWQpe2luZGV4PTA7fXZhciB0PWluZGV4L2xlbmd0aDtyZXR1cm57cjpMaW5lYXIocjEscjIsdCksZzpMaW5lYXIoZzEsZzIsdCksYjpMaW5lYXIoYjEsYjIsdCl9O307dmFyIENvbG9yV2l0aENvbG9yPWZ1bmN0aW9uIENvbG9yV2l0aENvbG9yKGNvbG9yMSxjb2xvcjIsbGVuZ3RoLGluZGV4KXtpZihsZW5ndGg9PT11bmRlZmluZWQpe2xlbmd0aD0xMDA7fWlmKGluZGV4PT09dW5kZWZpbmVkKXtpbmRleD0wO31yZXR1cm4gUkdCV2l0aFJHQihjb2xvcjEucixjb2xvcjEuZyxjb2xvcjEuYixjb2xvcjIucixjb2xvcjIuZyxjb2xvcjIuYixsZW5ndGgsaW5kZXgpO307dmFyIENvbG9yV2l0aFJHQj1mdW5jdGlvbiBDb2xvcldpdGhSR0IoY29sb3IscixnLGIsbGVuZ3RoLGluZGV4KXtpZihsZW5ndGg9PT11bmRlZmluZWQpe2xlbmd0aD0xMDA7fWlmKGluZGV4PT09dW5kZWZpbmVkKXtpbmRleD0wO31yZXR1cm4gUkdCV2l0aFJHQihjb2xvci5yLGNvbG9yLmcsY29sb3IuYixyLGcsYixsZW5ndGgsaW5kZXgpO307bW9kdWxlLmV4cG9ydHM9e1JHQldpdGhSR0I6UkdCV2l0aFJHQixDb2xvcldpdGhSR0I6Q29sb3JXaXRoUkdCLENvbG9yV2l0aENvbG9yOkNvbG9yV2l0aENvbG9yfTsvKioqL30sLyogODgyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmV0d2Vlbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTt2YXIgUmFuZG9tUkdCPWZ1bmN0aW9uIFJhbmRvbVJHQihtaW4sbWF4KXtpZihtaW49PT11bmRlZmluZWQpe21pbj0wO31pZihtYXg9PT11bmRlZmluZWQpe21heD0yNTU7fXJldHVybntyOkJldHdlZW4obWluLG1heCksZzpCZXR3ZWVuKG1pbixtYXgpLGI6QmV0d2VlbihtaW4sbWF4KX07fTttb2R1bGUuZXhwb3J0cz1SYW5kb21SR0I7LyoqKi99LC8qIDg4MyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNWIChodWUsIHNhdHVyYXRpb24gYW5kIHZhbHVlKS5cbiogQ29udmVyc2lvbiBmb3J1bWxhIGZyb20gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IU0xfY29sb3Jfc3BhY2UuXG4qIEFzc3VtZXMgUkdCIHZhbHVlcyBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV0gYW5kIHJldHVybnMgaCwgcyBhbmQgdiBpbiB0aGUgc2V0IFswLCAxXS5cbiogQmFzZWQgb24gY29kZSBieSBNaWNoYWVsIEphY2tzb24gKGh0dHBzOi8vZ2l0aHViLmNvbS9tamlqYWNrc29uKVxuKi92YXIgUkdCVG9IU1Y9ZnVuY3Rpb24gUkdCVG9IU1YocixnLGIpe3IvPTI1NTtnLz0yNTU7Yi89MjU1O3ZhciBtaW49TWF0aC5taW4ocixnLGIpO3ZhciBtYXg9TWF0aC5tYXgocixnLGIpO3ZhciBkPW1heC1taW47Ly8gYWNocm9tYXRpYyBieSBkZWZhdWx0XG52YXIgaD0wO3ZhciBzPW1heD09PTA/MDpkL21heDt2YXIgdj1tYXg7aWYobWF4IT09bWluKXtpZihtYXg9PT1yKXtoPShnLWIpL2QrKGc8Yj82OjApO31lbHNlIGlmKG1heD09PWcpe2g9KGItcikvZCsyO31lbHNlIGlmKG1heD09PWIpe2g9KHItZykvZCs0O31oLz02O31yZXR1cm57aDpoLHM6cyx2OnZ9O307bW9kdWxlLmV4cG9ydHM9UkdCVG9IU1Y7LyoqKi99LC8qIDg4NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENvbXBvbmVudFRvSGV4PV9fd2VicGFja19yZXF1aXJlX18oMjEwKTt2YXIgUkdCVG9TdHJpbmc9ZnVuY3Rpb24gUkdCVG9TdHJpbmcocixnLGIsYSxwcmVmaXgpe2lmKGE9PT11bmRlZmluZWQpe2E9MjU1O31pZihwcmVmaXg9PT11bmRlZmluZWQpe3ByZWZpeD0nIyc7fWlmKHByZWZpeD09PScjJyl7cmV0dXJuJyMnKygoMTw8MjQpKyhyPDwxNikrKGc8PDgpK2IpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTt9ZWxzZXtyZXR1cm4nMHgnK0NvbXBvbmVudFRvSGV4KGEpK0NvbXBvbmVudFRvSGV4KHIpK0NvbXBvbmVudFRvSGV4KGcpK0NvbXBvbmVudFRvSGV4KGIpO319O21vZHVsZS5leHBvcnRzPVJHQlRvU3RyaW5nOy8qKiovfSwvKiA4ODUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuSW5wdXRcbm1vZHVsZS5leHBvcnRzPXtLZXlib2FyZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg4NiksTW91c2U6X193ZWJwYWNrX3JlcXVpcmVfXyg4OTEpfTsvKioqL30sLyogODg2ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLklucHV0LktleWJvYXJkXG5tb2R1bGUuZXhwb3J0cz17S2V5Ym9hcmRNYW5hZ2VyOl9fd2VicGFja19yZXF1aXJlX18oMTY0KSxLZXk6X193ZWJwYWNrX3JlcXVpcmVfXygxNjUpLEtleUNvZGVzOl9fd2VicGFja19yZXF1aXJlX18oNzEpLEtleUNvbWJvOl9fd2VicGFja19yZXF1aXJlX18oMTY2KSxKdXN0RG93bjpfX3dlYnBhY2tfcmVxdWlyZV9fKDg4NyksSnVzdFVwOl9fd2VicGFja19yZXF1aXJlX18oODg4KSxEb3duRHVyYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg4ODkpLFVwRHVyYXRpb246X193ZWJwYWNrX3JlcXVpcmVfXyg4OTApfTsvKioqL30sLyogODg3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBqdXN0RG93biB2YWx1ZSBhbGxvd3MgeW91IHRvIHRlc3QgaWYgdGhpcyBLZXkgaGFzIGp1c3QgYmVlbiBwcmVzc2VkIGRvd24gb3Igbm90LlxuKiBXaGVuIHlvdSBjaGVjayB0aGlzIHZhbHVlIGl0IHdpbGwgcmV0dXJuIGB0cnVlYCBpZiB0aGUgS2V5IGlzIGRvd24sIG90aGVyd2lzZSBgZmFsc2VgLlxuKiBZb3UgY2FuIG9ubHkgY2FsbCBqdXN0RG93biBvbmNlIHBlciBrZXkgcHJlc3MuIEl0IHdpbGwgb25seSByZXR1cm4gYHRydWVgIG9uY2UsIHVudGlsIHRoZSBLZXkgaXMgcmVsZWFzZWQgYW5kIHByZXNzZWQgZG93biBhZ2Fpbi5cbiogVGhpcyBhbGxvd3MgeW91IHRvIHVzZSBpdCBpbiBzaXR1YXRpb25zIHdoZXJlIHlvdSB3YW50IHRvIGNoZWNrIGlmIHRoaXMga2V5IGlzIGRvd24gd2l0aG91dCB1c2luZyBhIFNpZ25hbCwgc3VjaCBhcyBpbiBhIGNvcmUgZ2FtZSBsb29wLlxuKi92YXIgSnVzdERvd249ZnVuY3Rpb24gSnVzdERvd24oa2V5KXt2YXIgY3VycmVudD1mYWxzZTtpZihrZXkuaXNEb3duKXtjdXJyZW50PWtleS5fanVzdERvd247a2V5Ll9qdXN0RG93bj1mYWxzZTt9cmV0dXJuIGN1cnJlbnQ7fTttb2R1bGUuZXhwb3J0cz1KdXN0RG93bjsvKioqL30sLyogODg4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFRoZSBqdXN0VXAgdmFsdWUgYWxsb3dzIHlvdSB0byB0ZXN0IGlmIHRoaXMgS2V5IGhhcyBqdXN0IGJlZW4gcmVsZWFzZWQgb3Igbm90LlxuKiBXaGVuIHlvdSBjaGVjayB0aGlzIHZhbHVlIGl0IHdpbGwgcmV0dXJuIGB0cnVlYCBpZiB0aGUgS2V5IGlzIHVwLCBvdGhlcndpc2UgYGZhbHNlYC5cbiogWW91IGNhbiBvbmx5IGNhbGwganVzdFVwIG9uY2UgcGVyIGtleSByZWxlYXNlLiBJdCB3aWxsIG9ubHkgcmV0dXJuIGB0cnVlYCBvbmNlLCB1bnRpbCB0aGUgS2V5IGlzIHByZXNzZWQgZG93biBhbmQgcmVsZWFzZWQgYWdhaW4uXG4qIFRoaXMgYWxsb3dzIHlvdSB0byB1c2UgaXQgaW4gc2l0dWF0aW9ucyB3aGVyZSB5b3Ugd2FudCB0byBjaGVjayBpZiB0aGlzIGtleSBpcyB1cCB3aXRob3V0IHVzaW5nIGEgU2lnbmFsLCBzdWNoIGFzIGluIGEgY29yZSBnYW1lIGxvb3AuXG4qL3ZhciBKdXN0VXA9ZnVuY3Rpb24gSnVzdFVwKGtleSl7dmFyIGN1cnJlbnQ9ZmFsc2U7aWYoa2V5LmlzRG93bil7Y3VycmVudD1rZXkuX2p1c3RVcDtrZXkuX2p1c3RVcD1mYWxzZTt9cmV0dXJuIGN1cnJlbnQ7fTttb2R1bGUuZXhwb3J0cz1KdXN0VXA7LyoqKi99LC8qIDg4OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgS2V5IHdhcyBwcmVzc2VkIGRvd24gd2l0aGluIHRoZSBgZHVyYXRpb25gIHZhbHVlIGdpdmVuLCBvciBgZmFsc2VgIGlmIGl0IGVpdGhlciBpc24ndCBkb3duLFxuKiBvciB3YXMgcHJlc3NlZCBkb3duIGxvbmdlciBhZ28gdGhhbiB0aGVuIGdpdmVuIGR1cmF0aW9uLlxuKi92YXIgRG93bkR1cmF0aW9uPWZ1bmN0aW9uIERvd25EdXJhdGlvbihrZXksZHVyYXRpb24pe2lmKGR1cmF0aW9uPT09dW5kZWZpbmVkKXtkdXJhdGlvbj01MDt9cmV0dXJuIGtleS5pc0Rvd24mJmtleS5kdXJhdGlvbjxkdXJhdGlvbjt9O21vZHVsZS5leHBvcnRzPURvd25EdXJhdGlvbjsvKioqL30sLyogODkwICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7LyoqXG4qIFJldHVybnMgYHRydWVgIGlmIHRoZSBLZXkgd2FzIHJlbGVhc2VkIHdpdGhpbiB0aGUgYGR1cmF0aW9uYCB2YWx1ZSBnaXZlbiwgb3IgYGZhbHNlYCBpZiBpdCBlaXRoZXIgaXNuJ3QgdXAsXG4qIG9yIHdhcyByZWxlYXNlZCBsb25nZXIgYWdvIHRoYW4gdGhlbiBnaXZlbiBkdXJhdGlvbi5cbiovdmFyIFVwRHVyYXRpb249ZnVuY3Rpb24gVXBEdXJhdGlvbihrZXksZHVyYXRpb24pe2lmKGR1cmF0aW9uPT09dW5kZWZpbmVkKXtkdXJhdGlvbj01MDt9cmV0dXJuIGtleS5pc1VwJiZrZXkuZHVyYXRpb248ZHVyYXRpb247fTttb2R1bGUuZXhwb3J0cz1VcER1cmF0aW9uOy8qKiovfSwvKiA4OTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuSW5wdXQuTW91c2Vcbm1vZHVsZS5leHBvcnRzPXtNb3VzZU1hbmFnZXI6X193ZWJwYWNrX3JlcXVpcmVfXygxNjgpfTsvKioqL30sLyogODkyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLkdhbWVPYmplY3RzXG5tb2R1bGUuZXhwb3J0cz17Q29tcG9uZW50czpfX3dlYnBhY2tfcmVxdWlyZV9fKDMpLEJpdG1hcFRleHQ6X193ZWJwYWNrX3JlcXVpcmVfXyg4MiksQmxpdHRlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDcyKSxEeW5hbWljQml0bWFwVGV4dDpfX3dlYnBhY2tfcmVxdWlyZV9fKDczKSxFZmZlY3RMYXllcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDc1KSxMaWdodExheWVyOl9fd2VicGFja19yZXF1aXJlX18oMTc3KSxHcmFwaGljczpfX3dlYnBhY2tfcmVxdWlyZV9fKDc2KSxHcm91cDpfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KSxJbWFnZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDc5KSxNZXNoOl9fd2VicGFja19yZXF1aXJlX18oNTUpLE9iamVjdFBvb2w6X193ZWJwYWNrX3JlcXVpcmVfXyg4OSksUXVhZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKSxSZW5kZXJQYXNzOl9fd2VicGFja19yZXF1aXJlX18oODEpLFNwcml0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDQ1KSxTdGF0aWNUaWxlbWFwOl9fd2VicGFja19yZXF1aXJlX18oODMpLFRleHQ6X193ZWJwYWNrX3JlcXVpcmVfXyg4NCksVGlsZW1hcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDc0KSxUaWxlU3ByaXRlOl9fd2VicGFja19yZXF1aXJlX18oODUpLFpvbmU6X193ZWJwYWNrX3JlcXVpcmVfXyg2MSl9Oy8qKiovfSwvKiA4OTMgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuU291bmRcbm1vZHVsZS5leHBvcnRzPXtEeW5hbWljOl9fd2VicGFja19yZXF1aXJlX18oODk0KX07LyoqKi99LC8qIDg5NCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5Tb3VuZC5EeW5hbWljXG5tb2R1bGUuZXhwb3J0cz17Rlg6X193ZWJwYWNrX3JlcXVpcmVfXyg4OTUpfTsvKioqL30sLyogODk1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgQmV0d2Vlbj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY4KTt2YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTsvLyAgUGhhc2VyLlNvdW5kLkR5bmFtaWMuRlhcbi8vICBCYXNlZCBvbiBTb3VuZC5qcyBieSBLaXR0eUthdEF0dGFja1xuLy8gIGh0dHBzOi8vZ2l0aHViLmNvbS9raXR0eWthdGF0dGFjay9zb3VuZC5qc1xuLy8gZnJlcXVlbmN5LCAgICAgIC8vVGhlIHNvdW5kJ3MgZmVxdWVuY3kgcGl0Y2ggaW4gSGVydHpcbi8vIGF0dGFjaywgICAgICAgICAgICAgIC8vVGhlIHRpbWUsIGluIHNlY29uZHMsIHRvIGZhZGUgdGhlIHNvdW5kIGluXG4vLyBkZWNheSwgICAgICAgICAgICAgICAvL1RoZSB0aW1lLCBpbiBzZWNvbmRzLCB0byBmYWRlIHRoZSBzb3VuZCBvdXRcbi8vIHR5cGUsICAgICAgICAgICAgICAgIC8vd2F2ZWZvcm0gdHlwZTogXCJzaW5lXCIsIFwidHJpYW5nbGVcIiwgXCJzcXVhcmVcIiwgXCJzYXd0b290aFwiXG4vLyB2b2x1bWUsICAgICAgICAgLy9UaGUgc291bmQncyBtYXhpbXVtIHZvbHVtZVxuLy8gcGFuVmFsdWUsICAgICAgICAgICAgLy9UaGUgc3BlYWtlciBwYW4uIGxlZnQ6IC0xLCBtaWRkbGU6IDAsIHJpZ2h0OiAxXG4vLyB3YWl0LCAgICAgICAgICAgICAgICAvL1RoZSB0aW1lLCBpbiBzZWNvbmRzLCB0byB3YWl0IGJlZm9yZSBwbGF5aW5nIHRoZSBzb3VuZFxuLy8gcGl0Y2hCZW5kLCAgICAgLy9UaGUgbnVtYmVyIG9mIEh6IGluIHdoaWNoIHRvIGJlbmQgdGhlIHNvdW5kJ3MgcGl0Y2ggZG93blxuLy8gcmV2ZXJzZSwgICAgICAgICAgICAgLy9JZiBgcmV2ZXJzZWAgaXMgdHJ1ZSB0aGUgcGl0Y2ggd2lsbCBiZW5kIHVwXG4vLyByYW5kb20sICAgICAgICAgLy9BIHJhbmdlLCBpbiBIeiwgd2l0aGluIHdoaWNoIHRvIHJhbmRvbWl6ZSB0aGUgcGl0Y2hcbi8vIGRpc3NvbmFuY2UsICAgICAgICAgIC8vQSB2YWx1ZSBpbiBIei4gSXQgY3JlYXRlcyAyIGRpc3NvbmFudCBmcmVxdWVuY2llcyBhYm92ZSBhbmQgYmVsb3cgdGhlIHRhcmdldCBwaXRjaFxuLy8gZWNobywgICAgICAgICAgICAgICAgLy9BbiBhcnJheTogW2RlbGF5VGltZUluU2Vjb25kcywgZmVlZGJhY2tUaW1lSW5TZWNvbmRzLCBmaWx0ZXJWYWx1ZUluSHpdXG4vLyByZXZlcmIsICAgICAgICAgICAgICAvL0FuIGFycmF5OiBbZHVyYXRpb25JblNlY29uZHMsIGRlY2F5UmF0ZUluU2Vjb25kcywgcmV2ZXJzZV1cbi8vIHRpbWVvdXQgICAgICAgICAgICAgIC8vQSBudW1iZXIsIGluIHNlY29uZHMsIHdoaWNoIGlzIHRoZSBtYXhpbXVtIGR1cmF0aW9uIGZvciBzb3VuZCBlZmZlY3RzXG52YXIgRlg9bmV3IENsYXNzKHtpbml0aWFsaXplOmZ1bmN0aW9uIEZYKGN0eCxjb25maWcpe3RoaXMuYXVkaW9Db250ZXh0PWN0eDt0aGlzLmZyZXF1ZW5jeVZhbHVlPUdldFZhbHVlKGNvbmZpZywnZnJlcXVlbmN5JywyMDApO3RoaXMuYXR0YWNrPUdldFZhbHVlKGNvbmZpZywnYXR0YWNrJywwKTt0aGlzLmRlY2F5PUdldFZhbHVlKGNvbmZpZywnZGVjYXknLDEpO3RoaXMudHlwZT1HZXRWYWx1ZShjb25maWcsJ3R5cGUnLCdzaW5lJyk7dGhpcy52b2x1bWVWYWx1ZT1HZXRWYWx1ZShjb25maWcsJ3ZvbHVtZScsMSk7dGhpcy5wYW5WYWx1ZT1HZXRWYWx1ZShjb25maWcsJ3BhbicsMCk7dGhpcy53YWl0PUdldFZhbHVlKGNvbmZpZywnd2FpdCcsMCk7dGhpcy5waXRjaEJlbmRBbW91bnQ9R2V0VmFsdWUoY29uZmlnLCdwaXRjaEJlbmQnLDApO3RoaXMucmV2ZXJzZT1HZXRWYWx1ZShjb25maWcsJ3JldmVyc2UnLGZhbHNlKTt0aGlzLnJhbmRvbVZhbHVlPUdldFZhbHVlKGNvbmZpZywncmFuZG9tJywwKTt0aGlzLmRpc3NvbmFuY2U9R2V0VmFsdWUoY29uZmlnLCdkaXNzb25hbmNlJywwKTt0aGlzLmVjaG89R2V0VmFsdWUoY29uZmlnLCdlY2hvJyxmYWxzZSk7dGhpcy5lY2hvRGVsYXk9R2V0VmFsdWUoY29uZmlnLCdlY2hvLmRlbGF5JywwKTt0aGlzLmVjaG9GZWVkYmFjaz1HZXRWYWx1ZShjb25maWcsJ2VjaG8uZmVlZGJhY2snLDApO3RoaXMuZWNob0ZpbHRlcj1HZXRWYWx1ZShjb25maWcsJ2VjaG8uZmlsdGVyJywwKTt0aGlzLnJldmVyYj1HZXRWYWx1ZShjb25maWcsJ3JldmVyYicsZmFsc2UpO3RoaXMucmV2ZXJiRHVyYXRpb249R2V0VmFsdWUoY29uZmlnLCdyZXZlcmIuZHVyYXRpb24nLDApO3RoaXMucmV2ZXJiRGVjYXk9R2V0VmFsdWUoY29uZmlnLCdyZXZlcmIuZGVjYXknLDApO3RoaXMucmV2ZXJiUmV2ZXJzZT1HZXRWYWx1ZShjb25maWcsJ3JldmVyYi5yZXZlcnNlJyxmYWxzZSk7dGhpcy50aW1lb3V0PUdldFZhbHVlKGNvbmZpZywndGltZW91dCcsZmFsc2UpO3RoaXMudm9sdW1lPWN0eC5jcmVhdGVHYWluKCk7dGhpcy5wYW49IWN0eC5jcmVhdGVTdGVyZW9QYW5uZXI/Y3R4LmNyZWF0ZVBhbm5lcigpOmN0eC5jcmVhdGVTdGVyZW9QYW5uZXIoKTt0aGlzLnZvbHVtZS5jb25uZWN0KHRoaXMucGFuKTt0aGlzLnBhbi5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7Ly8gIFNldCB0aGUgdmFsdWVzXG50aGlzLnZvbHVtZS5nYWluLnZhbHVlPXRoaXMudm9sdW1lVmFsdWU7aWYoIWN0eC5jcmVhdGVTdGVyZW9QYW5uZXIpe3RoaXMucGFuLnNldFBvc2l0aW9uKHRoaXMucGFuVmFsdWUsMCwxLU1hdGguYWJzKHRoaXMucGFuVmFsdWUpKTt9ZWxzZXt0aGlzLnBhbi5wYW4udmFsdWU9dGhpcy5wYW5WYWx1ZTt9Ly8gIENyZWF0ZSBhbiBvc2NpbGxhdG9yLCBnYWluIGFuZCBwYW4gbm9kZXMsIGFuZCBjb25uZWN0IHRoZW0gdG9nZXRoZXIgdG8gdGhlIGRlc3RpbmF0aW9uXG52YXIgb3NjaWxsYXRvcj1jdHguY3JlYXRlT3NjaWxsYXRvcigpO29zY2lsbGF0b3IuY29ubmVjdCh0aGlzLnZvbHVtZSk7b3NjaWxsYXRvci50eXBlPXRoaXMudHlwZTsvLyAgT3B0aW9uYWxseSByYW5kb21pemUgdGhlIHBpdGNoIGlmIGByYW5kb21WYWx1ZWAgPiAwLlxuLy8gIEEgcmFuZG9tIHBpdGNoIGlzIHNlbGVjdGVkIHRoYXQncyB3aXRoaW4gdGhlIHJhbmdlIHNwZWNpZmllZCBieSBgZnJlcXVlbmN5VmFsdWVgLlxuLy8gIFRoZSByYW5kb20gcGl0Y2ggd2lsbCBiZSBlaXRoZXIgYWJvdmUgb3IgYmVsb3cgdGhlIHRhcmdldCBmcmVxdWVuY3kuXG5pZih0aGlzLnJhbmRvbVZhbHVlPjApe29zY2lsbGF0b3IuZnJlcXVlbmN5LnZhbHVlPUJldHdlZW4odGhpcy5mcmVxdWVuY3lWYWx1ZS10aGlzLnJhbmRvbVZhbHVlLzIsdGhpcy5mcmVxdWVuY3lWYWx1ZSt0aGlzLnJhbmRvbVZhbHVlLzIpO31lbHNle29zY2lsbGF0b3IuZnJlcXVlbmN5LnZhbHVlPXRoaXMuZnJlcXVlbmN5VmFsdWU7fS8vICBBcHBseSBlZmZlY3RzXG5pZih0aGlzLmF0dGFjaz4wKXt0aGlzLmZhZGVJbih0aGlzLnZvbHVtZSk7fXRoaXMuZmFkZU91dCh0aGlzLnZvbHVtZSk7aWYodGhpcy5waXRjaEJlbmRBbW91bnQ+MCl7dGhpcy5waXRjaEJlbmQob3NjaWxsYXRvcik7fWlmKHRoaXMuZWNobyl7dGhpcy5hZGRFY2hvKHRoaXMudm9sdW1lKTt9aWYodGhpcy5yZXZlcmIpe3RoaXMuYWRkUmV2ZXJiKHRoaXMudm9sdW1lKTt9aWYodGhpcy5kaXNzb25hbmNlPjApe3RoaXMuYWRkRGlzc29uYW5jZSgpO310aGlzLnBsYXkob3NjaWxsYXRvcik7dmFyIF90aGlzPXRoaXM7b3NjaWxsYXRvci5vbmVuZGVkPWZ1bmN0aW9uKCl7X3RoaXMucGFuLmRpc2Nvbm5lY3QoKTtfdGhpcy52b2x1bWUuZGlzY29ubmVjdCgpO307fSxwbGF5OmZ1bmN0aW9uIHBsYXkob3NjaWxsYXRvcil7b3NjaWxsYXRvci5zdGFydCh0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSt0aGlzLndhaXQpOy8vT3NjaWxsYXRvcnMgaGF2ZSB0byBiZSBzdG9wcGVkIG90aGVyd2lzZSB0aGV5IGFjY3VtdWxhdGUgaW4gXG4vL21lbW9yeSBhbmQgdGF4IHRoZSBDUFUuIFRoZXknbGwgYmUgc3RvcHBlZCBhZnRlciBhIGRlZmF1bHRcbi8vdGltZW91dCBvZiAyIHNlY29uZHMsIHdoaWNoIHNob3VsZCBiZSBlbm91Z2ggZm9yIG1vc3Qgc291bmQgXG4vL2VmZmVjdHMuIE92ZXJyaWRlIHRoaXMgaW4gdGhlIGBzb3VuZEVmZmVjdGAgcGFyYW1ldGVycyBpZiB5b3Vcbi8vbmVlZCBhIGxvbmdlciBzb3VuZFxub3NjaWxsYXRvci5zdG9wKHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lK3RoaXMud2FpdCsyKTt9LGZhZGVJbjpmdW5jdGlvbiBmYWRlSW4odm9sdW1lKXt2b2x1bWUuZ2Fpbi52YWx1ZT0wO3ZvbHVtZS5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUrdGhpcy53YWl0KTt2b2x1bWUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLnZvbHVtZVZhbHVlLHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lK3RoaXMud2FpdCt0aGlzLmF0dGFjayk7fSxmYWRlT3V0OmZ1bmN0aW9uIGZhZGVPdXQodm9sdW1lKXt2b2x1bWUuZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSh0aGlzLnZvbHVtZVZhbHVlLHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lK3RoaXMud2FpdCt0aGlzLmF0dGFjayk7dm9sdW1lLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCx0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSt0aGlzLndhaXQrdGhpcy5hdHRhY2srdGhpcy5kZWNheSk7fSxhZGRSZXZlcmI6ZnVuY3Rpb24gYWRkUmV2ZXJiKHZvbHVtZSl7dmFyIGNvbnZvbHZlcj10aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVDb252b2x2ZXIoKTtjb252b2x2ZXIuYnVmZmVyPXRoaXMuaW1wdWxzZVJlc3BvbnNlKHRoaXMucmV2ZXJiRHVyYXRpb24sdGhpcy5yZXZlcmJEZWNheSx0aGlzLnJldmVyYlJldmVyc2UsdGhpcy5hdWRpb0NvbnRleHQpO3ZvbHVtZS5jb25uZWN0KGNvbnZvbHZlcik7Y29udm9sdmVyLmNvbm5lY3QodGhpcy5wYW4pO30sYWRkRWNobzpmdW5jdGlvbiBhZGRFY2hvKHZvbHVtZSl7dmFyIGZlZWRiYWNrPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTt2YXIgZGVsYXk9dGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlRGVsYXkoKTt2YXIgZmlsdGVyPXRoaXMuYXVkaW9Db250ZXh0LmNyZWF0ZUJpcXVhZEZpbHRlcigpOy8vICBTZXQgdGhlIG5vZGUgdmFsdWVzXG5mZWVkYmFjay5nYWluLnZhbHVlPXRoaXMuZWNob0ZlZWRiYWNrO2RlbGF5LmRlbGF5VGltZS52YWx1ZT10aGlzLmVjaG9EZWxheTtpZih0aGlzLmVjaG9GaWx0ZXIpe2ZpbHRlci5mcmVxdWVuY3kudmFsdWU9dGhpcy5lY2hvRmlsdGVyO30vLyAgQ3JlYXRlIHRoZSBkZWxheSBmZWVkYmFjayBsb29wICh3aXRoIG9wdGlvbmFsIGZpbHRlcmluZylcbmRlbGF5LmNvbm5lY3QoZmVlZGJhY2spO2lmKHRoaXMuZWNob0ZpbHRlcil7ZmVlZGJhY2suY29ubmVjdChmaWx0ZXIpO2ZpbHRlci5jb25uZWN0KGRlbGF5KTt9ZWxzZXtmZWVkYmFjay5jb25uZWN0KGRlbGF5KTt9Ly8gIENvbm5lY3QgdGhlIGRlbGF5IG5vZGUgdG8gdGhlIG9zY2lsbGF0b3Igdm9sdW1lIG5vZGVcbnZvbHVtZS5jb25uZWN0KGRlbGF5KTsvLyAgQ29ubmVjdCB0aGUgZGVsYXkgbm9kZSB0byB0aGUgbWFpbiBzb3VuZCBjaGFpbnMgcGFuIG5vZGUsXG4vLyAgc28gdGhhdCB0aGUgZWNobyBlZmZlY3QgaXMgZGlyZWN0ZWQgdG8gdGhlIGNvcnJlY3Qgc3BlYWtlclxuZGVsYXkuY29ubmVjdCh0aGlzLnBhbik7fSxwaXRjaEJlbmQ6ZnVuY3Rpb24gcGl0Y2hCZW5kKG9zY2lsbGF0b3Ipe3ZhciBmcmVxdWVuY3k9b3NjaWxsYXRvci5mcmVxdWVuY3kudmFsdWU7aWYoIXRoaXMucmV2ZXJzZSl7Ly8gIElmIHJldmVyc2UgaXMgZmFsc2UsIG1ha2UgdGhlIHNvdW5kIGRyb3AgaW4gcGl0Y2hcbm9zY2lsbGF0b3IuZnJlcXVlbmN5LmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGZyZXF1ZW5jeSx0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSt0aGlzLndhaXQpO29zY2lsbGF0b3IuZnJlcXVlbmN5LmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKGZyZXF1ZW5jeS10aGlzLnBpdGNoQmVuZEFtb3VudCx0aGlzLmF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSt0aGlzLndhaXQrdGhpcy5hdHRhY2srdGhpcy5kZWNheSk7fWVsc2V7Ly8gIElmIHJldmVyc2UgaXMgdHJ1ZSwgbWFrZSB0aGUgc291bmQgcmlzZSBpbiBwaXRjaFxub3NjaWxsYXRvci5mcmVxdWVuY3kubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZnJlcXVlbmN5LHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lK3RoaXMud2FpdCk7b3NjaWxsYXRvci5mcmVxdWVuY3kubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoZnJlcXVlbmN5K3RoaXMucGl0Y2hCZW5kQW1vdW50LHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lK3RoaXMud2FpdCt0aGlzLmF0dGFjayt0aGlzLmRlY2F5KTt9fSxhZGREaXNzb25hbmNlOmZ1bmN0aW9uIGFkZERpc3NvbmFuY2UoKXsvLyAgQ3JlYXRlIHR3byBtb3JlIG9zY2lsbGF0b3JzIGFuZCBnYWluIG5vZGVzXG52YXIgY3R4PXRoaXMuYXVkaW9Db250ZXh0O3ZhciBkMT1jdHguY3JlYXRlT3NjaWxsYXRvcigpO3ZhciBkMj1jdHguY3JlYXRlT3NjaWxsYXRvcigpO3ZhciBkMVZvbHVtZT1jdHguY3JlYXRlR2FpbigpO3ZhciBkMlZvbHVtZT1jdHguY3JlYXRlR2FpbigpOy8vICBTZXQgdGhlIHZvbHVtZSB0byB0aGUgYHZvbHVtZVZhbHVlYFxuZDFWb2x1bWUuZ2Fpbi52YWx1ZT10aGlzLnZvbHVtZVZhbHVlO2QyVm9sdW1lLmdhaW4udmFsdWU9dGhpcy52b2x1bWVWYWx1ZTsvLyAgQ29ubmVjdCB0aGUgb3NjaWxsYXRvcnMgdG8gdGhlIGdhaW4gYW5kIGRlc3RpbmF0aW9uIG5vZGVzXG5kMS5jb25uZWN0KGQxVm9sdW1lKTtkMi5jb25uZWN0KGQyVm9sdW1lKTtkMVZvbHVtZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7ZDJWb2x1bWUuY29ubmVjdChjdHguZGVzdGluYXRpb24pOy8vICBTZXQgdGhlIHdhdmVmb3JtIHRvIFwic2F3dG9vdGhcIiBmb3IgYSBoYXJzaCBlZmZlY3RcbmQxLnR5cGU9J3Nhd3Rvb3RoJztkMi50eXBlPSdzYXd0b290aCc7Ly8gIE1ha2UgdGhlIHR3byBvc2NpbGxhdG9ycyBwbGF5IGF0IGZyZXF1ZW5jaWVzIGFib3ZlIGFuZCBiZWxvdyB0aGUgbWFpbiBzb3VuZCdzIGZyZXF1ZW5jeS5cbi8vICBVc2Ugd2hhdGV2ZXIgdmFsdWUgd2FzIHN1cHBsaWVkIGJ5IHRoZSBgZGlzc29uYW5jZWAgYXJndW1lbnRcbmQxLmZyZXF1ZW5jeS52YWx1ZT10aGlzLmZyZXF1ZW5jeVZhbHVlK3RoaXMuZGlzc29uYW5jZTtkMi5mcmVxdWVuY3kudmFsdWU9dGhpcy5mcmVxdWVuY3lWYWx1ZS10aGlzLmRpc3NvbmFuY2U7Ly8gIEZhZGUgaW4gLyBvdXQsIHBpdGNoIGJlbmQgYW5kIHBsYXkgdGhlIG9zY2lsbGF0b3JzIHRvIG1hdGNoIHRoZSBtYWluIHNvdW5kXG5pZih0aGlzLmF0dGFjaz4wKXt0aGlzLmZhZGVJbihkMVZvbHVtZSk7dGhpcy5mYWRlSW4oZDJWb2x1bWUpO31pZih0aGlzLmRlY2F5PjApe3RoaXMuZmFkZU91dChkMVZvbHVtZSk7dGhpcy5mYWRlT3V0KGQyVm9sdW1lKTt9aWYodGhpcy5waXRjaEJlbmRBbW91bnQ+MCl7dGhpcy5waXRjaEJlbmQoZDEpO3RoaXMucGl0Y2hCZW5kKGQyKTt9aWYodGhpcy5lY2hvKXt0aGlzLmFkZEVjaG8oZDFWb2x1bWUpO3RoaXMuYWRkRWNobyhkMlZvbHVtZSk7fWlmKHRoaXMucmV2ZXJiKXt0aGlzLmFkZFJldmVyYihkMVZvbHVtZSk7dGhpcy5hZGRSZXZlcmIoZDJWb2x1bWUpO310aGlzLnBsYXkoZDEpO3RoaXMucGxheShkMik7fSxpbXB1bHNlUmVzcG9uc2U6ZnVuY3Rpb24gaW1wdWxzZVJlc3BvbnNlKGR1cmF0aW9uLGRlY2F5LHJldmVyc2Upey8vICBUaGUgbGVuZ3RoIG9mIHRoZSBidWZmZXIuXG52YXIgbGVuZ3RoPXRoaXMuYXVkaW9Db250ZXh0LnNhbXBsZVJhdGUqZHVyYXRpb247Ly8gIENyZWF0ZSBhbiBhdWRpbyBidWZmZXIgKGFuIGVtcHR5IHNvdW5kIGNvbnRhaW5lcikgdG8gc3RvcmUgdGhlIHJldmVyYiBlZmZlY3QuXG52YXIgaW1wdWxzZT10aGlzLmF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXIoMixsZW5ndGgsdGhpcy5hdWRpb0NvbnRleHQuc2FtcGxlUmF0ZSk7Ly8gIFVzZSBgZ2V0Q2hhbm5lbERhdGFgIHRvIGluaXRpYWxpemUgZW1wdHkgYXJyYXlzIHRvIHN0b3JlIHNvdW5kIGRhdGEgZm9yIHRoZSBsZWZ0IGFuZCByaWdodCBjaGFubmVscy5cbnZhciBsZWZ0PWltcHVsc2UuZ2V0Q2hhbm5lbERhdGEoMCk7dmFyIHJpZ2h0PWltcHVsc2UuZ2V0Q2hhbm5lbERhdGEoMSk7Ly8gIExvb3AgdGhyb3VnaCBlYWNoIHNhbXBsZS1mcmFtZSBhbmQgZmlsbCB0aGUgY2hhbm5lbCBkYXRhIHdpdGggcmFuZG9tIG5vaXNlLlxuZm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXsvLyAgQXBwbHkgdGhlIHJldmVyc2UgZWZmZWN0LCBpZiBgcmV2ZXJzZWAgaXMgYHRydWVgLlxudmFyIG49cmV2ZXJzZT9sZW5ndGgtaTppOy8vICBGaWxsIHRoZSBsZWZ0IGFuZCByaWdodCBjaGFubmVscyB3aXRoIHJhbmRvbSB3aGl0ZSBub2lzZSB3aGljaCBkZWNheXMgZXhwb25lbnRpYWxseS5cbmxlZnRbaV09KE1hdGgucmFuZG9tKCkqMi0xKSpNYXRoLnBvdygxLW4vbGVuZ3RoLGRlY2F5KTtyaWdodFtpXT0oTWF0aC5yYW5kb20oKSoyLTEpKk1hdGgucG93KDEtbi9sZW5ndGgsZGVjYXkpO30vLyAgUmV0dXJuIHRoZSBgaW1wdWxzZWAuXG5yZXR1cm4gaW1wdWxzZTt9fSk7bW9kdWxlLmV4cG9ydHM9Rlg7LyoqKi99LC8qIDg5NiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5TdHJ1Y3RzXG5tb2R1bGUuZXhwb3J0cz17TWFwOl9fd2VicGFja19yZXF1aXJlX18oMTU4KSxSVHJlZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDg5NyksU2V0Ol9fd2VicGFja19yZXF1aXJlX18oNTQpfTsvKioqL30sLyogODk3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgcXVpY2tzZWxlY3Q9X193ZWJwYWNrX3JlcXVpcmVfXygyMTMpOy8vICBQaGFzZXIuU3RydWN0cy5SVHJlZVxuLyoqXG4gKiBSQnVzaCBpcyBhIGhpZ2gtcGVyZm9ybWFuY2UgSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciAyRCBzcGF0aWFsIGluZGV4aW5nIG9mIHBvaW50cyBhbmQgcmVjdGFuZ2xlcy5cbiAqIEl0J3MgYmFzZWQgb24gYW4gb3B0aW1pemVkIFItdHJlZSBkYXRhIHN0cnVjdHVyZSB3aXRoIGJ1bGsgaW5zZXJ0aW9uIHN1cHBvcnQuXG4gKlxuICogU3BhdGlhbCBpbmRleCBpcyBhIHNwZWNpYWwgZGF0YSBzdHJ1Y3R1cmUgZm9yIHBvaW50cyBhbmQgcmVjdGFuZ2xlcyB0aGF0IGFsbG93cyB5b3UgdG8gcGVyZm9ybSBxdWVyaWVzIGxpa2VcbiAqIFwiYWxsIGl0ZW1zIHdpdGhpbiB0aGlzIGJvdW5kaW5nIGJveFwiIHZlcnkgZWZmaWNpZW50bHkgKGUuZy4gaHVuZHJlZHMgb2YgdGltZXMgZmFzdGVyIHRoYW4gbG9vcGluZyBvdmVyIGFsbCBpdGVtcykuXG4gKi9mdW5jdGlvbiByYnVzaChtYXhFbnRyaWVzLGZvcm1hdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgcmJ1c2gpKXJldHVybiBuZXcgcmJ1c2gobWF4RW50cmllcyxmb3JtYXQpOy8vIG1heCBlbnRyaWVzIGluIGEgbm9kZSBpcyA5IGJ5IGRlZmF1bHQ7IG1pbiBub2RlIGZpbGwgaXMgNDAlIGZvciBiZXN0IHBlcmZvcm1hbmNlXG50aGlzLl9tYXhFbnRyaWVzPU1hdGgubWF4KDQsbWF4RW50cmllc3x8OSk7dGhpcy5fbWluRW50cmllcz1NYXRoLm1heCgyLE1hdGguY2VpbCh0aGlzLl9tYXhFbnRyaWVzKjAuNCkpO2lmKGZvcm1hdCl7dGhpcy5faW5pdEZvcm1hdChmb3JtYXQpO310aGlzLmNsZWFyKCk7fXJidXNoLnByb3RvdHlwZT17YWxsOmZ1bmN0aW9uIGFsbCgpe3JldHVybiB0aGlzLl9hbGwodGhpcy5kYXRhLFtdKTt9LHNlYXJjaDpmdW5jdGlvbiBzZWFyY2goYmJveCl7dmFyIG5vZGU9dGhpcy5kYXRhLHJlc3VsdD1bXSx0b0JCb3g9dGhpcy50b0JCb3g7aWYoIWludGVyc2VjdHMoYmJveCxub2RlKSlyZXR1cm4gcmVzdWx0O3ZhciBub2Rlc1RvU2VhcmNoPVtdLGksbGVuLGNoaWxkLGNoaWxkQkJveDt3aGlsZShub2RlKXtmb3IoaT0wLGxlbj1ub2RlLmNoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspe2NoaWxkPW5vZGUuY2hpbGRyZW5baV07Y2hpbGRCQm94PW5vZGUubGVhZj90b0JCb3goY2hpbGQpOmNoaWxkO2lmKGludGVyc2VjdHMoYmJveCxjaGlsZEJCb3gpKXtpZihub2RlLmxlYWYpcmVzdWx0LnB1c2goY2hpbGQpO2Vsc2UgaWYoY29udGFpbnMoYmJveCxjaGlsZEJCb3gpKXRoaXMuX2FsbChjaGlsZCxyZXN1bHQpO2Vsc2Ugbm9kZXNUb1NlYXJjaC5wdXNoKGNoaWxkKTt9fW5vZGU9bm9kZXNUb1NlYXJjaC5wb3AoKTt9cmV0dXJuIHJlc3VsdDt9LGNvbGxpZGVzOmZ1bmN0aW9uIGNvbGxpZGVzKGJib3gpe3ZhciBub2RlPXRoaXMuZGF0YSx0b0JCb3g9dGhpcy50b0JCb3g7aWYoIWludGVyc2VjdHMoYmJveCxub2RlKSlyZXR1cm4gZmFsc2U7dmFyIG5vZGVzVG9TZWFyY2g9W10saSxsZW4sY2hpbGQsY2hpbGRCQm94O3doaWxlKG5vZGUpe2ZvcihpPTAsbGVuPW5vZGUuY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKyl7Y2hpbGQ9bm9kZS5jaGlsZHJlbltpXTtjaGlsZEJCb3g9bm9kZS5sZWFmP3RvQkJveChjaGlsZCk6Y2hpbGQ7aWYoaW50ZXJzZWN0cyhiYm94LGNoaWxkQkJveCkpe2lmKG5vZGUubGVhZnx8Y29udGFpbnMoYmJveCxjaGlsZEJCb3gpKXJldHVybiB0cnVlO25vZGVzVG9TZWFyY2gucHVzaChjaGlsZCk7fX1ub2RlPW5vZGVzVG9TZWFyY2gucG9wKCk7fXJldHVybiBmYWxzZTt9LGxvYWQ6ZnVuY3Rpb24gbG9hZChkYXRhKXtpZighKGRhdGEmJmRhdGEubGVuZ3RoKSlyZXR1cm4gdGhpcztpZihkYXRhLmxlbmd0aDx0aGlzLl9taW5FbnRyaWVzKXtmb3IodmFyIGk9MCxsZW49ZGF0YS5sZW5ndGg7aTxsZW47aSsrKXt0aGlzLmluc2VydChkYXRhW2ldKTt9cmV0dXJuIHRoaXM7fS8vIHJlY3Vyc2l2ZWx5IGJ1aWxkIHRoZSB0cmVlIHdpdGggdGhlIGdpdmVuIGRhdGEgZnJvbSBzY3JhdGNoIHVzaW5nIE9NVCBhbGdvcml0aG1cbnZhciBub2RlPXRoaXMuX2J1aWxkKGRhdGEuc2xpY2UoKSwwLGRhdGEubGVuZ3RoLTEsMCk7aWYoIXRoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGgpey8vIHNhdmUgYXMgaXMgaWYgdHJlZSBpcyBlbXB0eVxudGhpcy5kYXRhPW5vZGU7fWVsc2UgaWYodGhpcy5kYXRhLmhlaWdodD09PW5vZGUuaGVpZ2h0KXsvLyBzcGxpdCByb290IGlmIHRyZWVzIGhhdmUgdGhlIHNhbWUgaGVpZ2h0XG50aGlzLl9zcGxpdFJvb3QodGhpcy5kYXRhLG5vZGUpO31lbHNle2lmKHRoaXMuZGF0YS5oZWlnaHQ8bm9kZS5oZWlnaHQpey8vIHN3YXAgdHJlZXMgaWYgaW5zZXJ0ZWQgb25lIGlzIGJpZ2dlclxudmFyIHRtcE5vZGU9dGhpcy5kYXRhO3RoaXMuZGF0YT1ub2RlO25vZGU9dG1wTm9kZTt9Ly8gaW5zZXJ0IHRoZSBzbWFsbCB0cmVlIGludG8gdGhlIGxhcmdlIHRyZWUgYXQgYXBwcm9wcmlhdGUgbGV2ZWxcbnRoaXMuX2luc2VydChub2RlLHRoaXMuZGF0YS5oZWlnaHQtbm9kZS5oZWlnaHQtMSx0cnVlKTt9cmV0dXJuIHRoaXM7fSxpbnNlcnQ6ZnVuY3Rpb24gaW5zZXJ0KGl0ZW0pe2lmKGl0ZW0pdGhpcy5faW5zZXJ0KGl0ZW0sdGhpcy5kYXRhLmhlaWdodC0xKTtyZXR1cm4gdGhpczt9LGNsZWFyOmZ1bmN0aW9uIGNsZWFyKCl7dGhpcy5kYXRhPWNyZWF0ZU5vZGUoW10pO3JldHVybiB0aGlzO30scmVtb3ZlOmZ1bmN0aW9uIHJlbW92ZShpdGVtLGVxdWFsc0ZuKXtpZighaXRlbSlyZXR1cm4gdGhpczt2YXIgbm9kZT10aGlzLmRhdGEsYmJveD10aGlzLnRvQkJveChpdGVtKSxwYXRoPVtdLGluZGV4ZXM9W10saSxwYXJlbnQsaW5kZXgsZ29pbmdVcDsvLyBkZXB0aC1maXJzdCBpdGVyYXRpdmUgdHJlZSB0cmF2ZXJzYWxcbndoaWxlKG5vZGV8fHBhdGgubGVuZ3RoKXtpZighbm9kZSl7Ly8gZ28gdXBcbm5vZGU9cGF0aC5wb3AoKTtwYXJlbnQ9cGF0aFtwYXRoLmxlbmd0aC0xXTtpPWluZGV4ZXMucG9wKCk7Z29pbmdVcD10cnVlO31pZihub2RlLmxlYWYpey8vIGNoZWNrIGN1cnJlbnQgbm9kZVxuaW5kZXg9ZmluZEl0ZW0oaXRlbSxub2RlLmNoaWxkcmVuLGVxdWFsc0ZuKTtpZihpbmRleCE9PS0xKXsvLyBpdGVtIGZvdW5kLCByZW1vdmUgdGhlIGl0ZW0gYW5kIGNvbmRlbnNlIHRyZWUgdXB3YXJkc1xubm9kZS5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsMSk7cGF0aC5wdXNoKG5vZGUpO3RoaXMuX2NvbmRlbnNlKHBhdGgpO3JldHVybiB0aGlzO319aWYoIWdvaW5nVXAmJiFub2RlLmxlYWYmJmNvbnRhaW5zKG5vZGUsYmJveCkpey8vIGdvIGRvd25cbnBhdGgucHVzaChub2RlKTtpbmRleGVzLnB1c2goaSk7aT0wO3BhcmVudD1ub2RlO25vZGU9bm9kZS5jaGlsZHJlblswXTt9ZWxzZSBpZihwYXJlbnQpey8vIGdvIHJpZ2h0XG5pKys7bm9kZT1wYXJlbnQuY2hpbGRyZW5baV07Z29pbmdVcD1mYWxzZTt9ZWxzZSBub2RlPW51bGw7Ly8gbm90aGluZyBmb3VuZFxufXJldHVybiB0aGlzO30sdG9CQm94OmZ1bmN0aW9uIHRvQkJveChpdGVtKXtyZXR1cm4gaXRlbTt9LGNvbXBhcmVNaW5YOmNvbXBhcmVOb2RlTWluWCxjb21wYXJlTWluWTpjb21wYXJlTm9kZU1pblksdG9KU09OOmZ1bmN0aW9uIHRvSlNPTigpe3JldHVybiB0aGlzLmRhdGE7fSxmcm9tSlNPTjpmdW5jdGlvbiBmcm9tSlNPTihkYXRhKXt0aGlzLmRhdGE9ZGF0YTtyZXR1cm4gdGhpczt9LF9hbGw6ZnVuY3Rpb24gX2FsbChub2RlLHJlc3VsdCl7dmFyIG5vZGVzVG9TZWFyY2g9W107d2hpbGUobm9kZSl7aWYobm9kZS5sZWFmKXJlc3VsdC5wdXNoLmFwcGx5KHJlc3VsdCxub2RlLmNoaWxkcmVuKTtlbHNlIG5vZGVzVG9TZWFyY2gucHVzaC5hcHBseShub2Rlc1RvU2VhcmNoLG5vZGUuY2hpbGRyZW4pO25vZGU9bm9kZXNUb1NlYXJjaC5wb3AoKTt9cmV0dXJuIHJlc3VsdDt9LF9idWlsZDpmdW5jdGlvbiBfYnVpbGQoaXRlbXMsbGVmdCxyaWdodCxoZWlnaHQpe3ZhciBOPXJpZ2h0LWxlZnQrMSxNPXRoaXMuX21heEVudHJpZXMsbm9kZTtpZihOPD1NKXsvLyByZWFjaGVkIGxlYWYgbGV2ZWw7IHJldHVybiBsZWFmXG5ub2RlPWNyZWF0ZU5vZGUoaXRlbXMuc2xpY2UobGVmdCxyaWdodCsxKSk7Y2FsY0JCb3gobm9kZSx0aGlzLnRvQkJveCk7cmV0dXJuIG5vZGU7fWlmKCFoZWlnaHQpey8vIHRhcmdldCBoZWlnaHQgb2YgdGhlIGJ1bGstbG9hZGVkIHRyZWVcbmhlaWdodD1NYXRoLmNlaWwoTWF0aC5sb2coTikvTWF0aC5sb2coTSkpOy8vIHRhcmdldCBudW1iZXIgb2Ygcm9vdCBlbnRyaWVzIHRvIG1heGltaXplIHN0b3JhZ2UgdXRpbGl6YXRpb25cbk09TWF0aC5jZWlsKE4vTWF0aC5wb3coTSxoZWlnaHQtMSkpO31ub2RlPWNyZWF0ZU5vZGUoW10pO25vZGUubGVhZj1mYWxzZTtub2RlLmhlaWdodD1oZWlnaHQ7Ly8gc3BsaXQgdGhlIGl0ZW1zIGludG8gTSBtb3N0bHkgc3F1YXJlIHRpbGVzXG52YXIgTjI9TWF0aC5jZWlsKE4vTSksTjE9TjIqTWF0aC5jZWlsKE1hdGguc3FydChNKSksaSxqLHJpZ2h0MixyaWdodDM7bXVsdGlTZWxlY3QoaXRlbXMsbGVmdCxyaWdodCxOMSx0aGlzLmNvbXBhcmVNaW5YKTtmb3IoaT1sZWZ0O2k8PXJpZ2h0O2krPU4xKXtyaWdodDI9TWF0aC5taW4oaStOMS0xLHJpZ2h0KTttdWx0aVNlbGVjdChpdGVtcyxpLHJpZ2h0MixOMix0aGlzLmNvbXBhcmVNaW5ZKTtmb3Ioaj1pO2o8PXJpZ2h0MjtqKz1OMil7cmlnaHQzPU1hdGgubWluKGorTjItMSxyaWdodDIpOy8vIHBhY2sgZWFjaCBlbnRyeSByZWN1cnNpdmVseVxubm9kZS5jaGlsZHJlbi5wdXNoKHRoaXMuX2J1aWxkKGl0ZW1zLGoscmlnaHQzLGhlaWdodC0xKSk7fX1jYWxjQkJveChub2RlLHRoaXMudG9CQm94KTtyZXR1cm4gbm9kZTt9LF9jaG9vc2VTdWJ0cmVlOmZ1bmN0aW9uIF9jaG9vc2VTdWJ0cmVlKGJib3gsbm9kZSxsZXZlbCxwYXRoKXt2YXIgaSxsZW4sY2hpbGQsdGFyZ2V0Tm9kZSxhcmVhLGVubGFyZ2VtZW50LG1pbkFyZWEsbWluRW5sYXJnZW1lbnQ7d2hpbGUodHJ1ZSl7cGF0aC5wdXNoKG5vZGUpO2lmKG5vZGUubGVhZnx8cGF0aC5sZW5ndGgtMT09PWxldmVsKWJyZWFrO21pbkFyZWE9bWluRW5sYXJnZW1lbnQ9SW5maW5pdHk7Zm9yKGk9MCxsZW49bm9kZS5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKXtjaGlsZD1ub2RlLmNoaWxkcmVuW2ldO2FyZWE9YmJveEFyZWEoY2hpbGQpO2VubGFyZ2VtZW50PWVubGFyZ2VkQXJlYShiYm94LGNoaWxkKS1hcmVhOy8vIGNob29zZSBlbnRyeSB3aXRoIHRoZSBsZWFzdCBhcmVhIGVubGFyZ2VtZW50XG5pZihlbmxhcmdlbWVudDxtaW5FbmxhcmdlbWVudCl7bWluRW5sYXJnZW1lbnQ9ZW5sYXJnZW1lbnQ7bWluQXJlYT1hcmVhPG1pbkFyZWE/YXJlYTptaW5BcmVhO3RhcmdldE5vZGU9Y2hpbGQ7fWVsc2UgaWYoZW5sYXJnZW1lbnQ9PT1taW5FbmxhcmdlbWVudCl7Ly8gb3RoZXJ3aXNlIGNob29zZSBvbmUgd2l0aCB0aGUgc21hbGxlc3QgYXJlYVxuaWYoYXJlYTxtaW5BcmVhKXttaW5BcmVhPWFyZWE7dGFyZ2V0Tm9kZT1jaGlsZDt9fX1ub2RlPXRhcmdldE5vZGV8fG5vZGUuY2hpbGRyZW5bMF07fXJldHVybiBub2RlO30sX2luc2VydDpmdW5jdGlvbiBfaW5zZXJ0KGl0ZW0sbGV2ZWwsaXNOb2RlKXt2YXIgdG9CQm94PXRoaXMudG9CQm94LGJib3g9aXNOb2RlP2l0ZW06dG9CQm94KGl0ZW0pLGluc2VydFBhdGg9W107Ly8gZmluZCB0aGUgYmVzdCBub2RlIGZvciBhY2NvbW1vZGF0aW5nIHRoZSBpdGVtLCBzYXZpbmcgYWxsIG5vZGVzIGFsb25nIHRoZSBwYXRoIHRvb1xudmFyIG5vZGU9dGhpcy5fY2hvb3NlU3VidHJlZShiYm94LHRoaXMuZGF0YSxsZXZlbCxpbnNlcnRQYXRoKTsvLyBwdXQgdGhlIGl0ZW0gaW50byB0aGUgbm9kZVxubm9kZS5jaGlsZHJlbi5wdXNoKGl0ZW0pO2V4dGVuZChub2RlLGJib3gpOy8vIHNwbGl0IG9uIG5vZGUgb3ZlcmZsb3c7IHByb3BhZ2F0ZSB1cHdhcmRzIGlmIG5lY2Vzc2FyeVxud2hpbGUobGV2ZWw+PTApe2lmKGluc2VydFBhdGhbbGV2ZWxdLmNoaWxkcmVuLmxlbmd0aD50aGlzLl9tYXhFbnRyaWVzKXt0aGlzLl9zcGxpdChpbnNlcnRQYXRoLGxldmVsKTtsZXZlbC0tO31lbHNlIGJyZWFrO30vLyBhZGp1c3QgYmJveGVzIGFsb25nIHRoZSBpbnNlcnRpb24gcGF0aFxudGhpcy5fYWRqdXN0UGFyZW50QkJveGVzKGJib3gsaW5zZXJ0UGF0aCxsZXZlbCk7fSwvLyBzcGxpdCBvdmVyZmxvd2VkIG5vZGUgaW50byB0d29cbl9zcGxpdDpmdW5jdGlvbiBfc3BsaXQoaW5zZXJ0UGF0aCxsZXZlbCl7dmFyIG5vZGU9aW5zZXJ0UGF0aFtsZXZlbF0sTT1ub2RlLmNoaWxkcmVuLmxlbmd0aCxtPXRoaXMuX21pbkVudHJpZXM7dGhpcy5fY2hvb3NlU3BsaXRBeGlzKG5vZGUsbSxNKTt2YXIgc3BsaXRJbmRleD10aGlzLl9jaG9vc2VTcGxpdEluZGV4KG5vZGUsbSxNKTt2YXIgbmV3Tm9kZT1jcmVhdGVOb2RlKG5vZGUuY2hpbGRyZW4uc3BsaWNlKHNwbGl0SW5kZXgsbm9kZS5jaGlsZHJlbi5sZW5ndGgtc3BsaXRJbmRleCkpO25ld05vZGUuaGVpZ2h0PW5vZGUuaGVpZ2h0O25ld05vZGUubGVhZj1ub2RlLmxlYWY7Y2FsY0JCb3gobm9kZSx0aGlzLnRvQkJveCk7Y2FsY0JCb3gobmV3Tm9kZSx0aGlzLnRvQkJveCk7aWYobGV2ZWwpaW5zZXJ0UGF0aFtsZXZlbC0xXS5jaGlsZHJlbi5wdXNoKG5ld05vZGUpO2Vsc2UgdGhpcy5fc3BsaXRSb290KG5vZGUsbmV3Tm9kZSk7fSxfc3BsaXRSb290OmZ1bmN0aW9uIF9zcGxpdFJvb3Qobm9kZSxuZXdOb2RlKXsvLyBzcGxpdCByb290IG5vZGVcbnRoaXMuZGF0YT1jcmVhdGVOb2RlKFtub2RlLG5ld05vZGVdKTt0aGlzLmRhdGEuaGVpZ2h0PW5vZGUuaGVpZ2h0KzE7dGhpcy5kYXRhLmxlYWY9ZmFsc2U7Y2FsY0JCb3godGhpcy5kYXRhLHRoaXMudG9CQm94KTt9LF9jaG9vc2VTcGxpdEluZGV4OmZ1bmN0aW9uIF9jaG9vc2VTcGxpdEluZGV4KG5vZGUsbSxNKXt2YXIgaSxiYm94MSxiYm94MixvdmVybGFwLGFyZWEsbWluT3ZlcmxhcCxtaW5BcmVhLGluZGV4O21pbk92ZXJsYXA9bWluQXJlYT1JbmZpbml0eTtmb3IoaT1tO2k8PU0tbTtpKyspe2Jib3gxPWRpc3RCQm94KG5vZGUsMCxpLHRoaXMudG9CQm94KTtiYm94Mj1kaXN0QkJveChub2RlLGksTSx0aGlzLnRvQkJveCk7b3ZlcmxhcD1pbnRlcnNlY3Rpb25BcmVhKGJib3gxLGJib3gyKTthcmVhPWJib3hBcmVhKGJib3gxKStiYm94QXJlYShiYm94Mik7Ly8gY2hvb3NlIGRpc3RyaWJ1dGlvbiB3aXRoIG1pbmltdW0gb3ZlcmxhcFxuaWYob3ZlcmxhcDxtaW5PdmVybGFwKXttaW5PdmVybGFwPW92ZXJsYXA7aW5kZXg9aTttaW5BcmVhPWFyZWE8bWluQXJlYT9hcmVhOm1pbkFyZWE7fWVsc2UgaWYob3ZlcmxhcD09PW1pbk92ZXJsYXApey8vIG90aGVyd2lzZSBjaG9vc2UgZGlzdHJpYnV0aW9uIHdpdGggbWluaW11bSBhcmVhXG5pZihhcmVhPG1pbkFyZWEpe21pbkFyZWE9YXJlYTtpbmRleD1pO319fXJldHVybiBpbmRleDt9LC8vIHNvcnRzIG5vZGUgY2hpbGRyZW4gYnkgdGhlIGJlc3QgYXhpcyBmb3Igc3BsaXRcbl9jaG9vc2VTcGxpdEF4aXM6ZnVuY3Rpb24gX2Nob29zZVNwbGl0QXhpcyhub2RlLG0sTSl7dmFyIGNvbXBhcmVNaW5YPW5vZGUubGVhZj90aGlzLmNvbXBhcmVNaW5YOmNvbXBhcmVOb2RlTWluWCxjb21wYXJlTWluWT1ub2RlLmxlYWY/dGhpcy5jb21wYXJlTWluWTpjb21wYXJlTm9kZU1pblkseE1hcmdpbj10aGlzLl9hbGxEaXN0TWFyZ2luKG5vZGUsbSxNLGNvbXBhcmVNaW5YKSx5TWFyZ2luPXRoaXMuX2FsbERpc3RNYXJnaW4obm9kZSxtLE0sY29tcGFyZU1pblkpOy8vIGlmIHRvdGFsIGRpc3RyaWJ1dGlvbnMgbWFyZ2luIHZhbHVlIGlzIG1pbmltYWwgZm9yIHgsIHNvcnQgYnkgbWluWCxcbi8vIG90aGVyd2lzZSBpdCdzIGFscmVhZHkgc29ydGVkIGJ5IG1pbllcbmlmKHhNYXJnaW48eU1hcmdpbilub2RlLmNoaWxkcmVuLnNvcnQoY29tcGFyZU1pblgpO30sLy8gdG90YWwgbWFyZ2luIG9mIGFsbCBwb3NzaWJsZSBzcGxpdCBkaXN0cmlidXRpb25zIHdoZXJlIGVhY2ggbm9kZSBpcyBhdCBsZWFzdCBtIGZ1bGxcbl9hbGxEaXN0TWFyZ2luOmZ1bmN0aW9uIF9hbGxEaXN0TWFyZ2luKG5vZGUsbSxNLGNvbXBhcmUpe25vZGUuY2hpbGRyZW4uc29ydChjb21wYXJlKTt2YXIgdG9CQm94PXRoaXMudG9CQm94LGxlZnRCQm94PWRpc3RCQm94KG5vZGUsMCxtLHRvQkJveCkscmlnaHRCQm94PWRpc3RCQm94KG5vZGUsTS1tLE0sdG9CQm94KSxtYXJnaW49YmJveE1hcmdpbihsZWZ0QkJveCkrYmJveE1hcmdpbihyaWdodEJCb3gpLGksY2hpbGQ7Zm9yKGk9bTtpPE0tbTtpKyspe2NoaWxkPW5vZGUuY2hpbGRyZW5baV07ZXh0ZW5kKGxlZnRCQm94LG5vZGUubGVhZj90b0JCb3goY2hpbGQpOmNoaWxkKTttYXJnaW4rPWJib3hNYXJnaW4obGVmdEJCb3gpO31mb3IoaT1NLW0tMTtpPj1tO2ktLSl7Y2hpbGQ9bm9kZS5jaGlsZHJlbltpXTtleHRlbmQocmlnaHRCQm94LG5vZGUubGVhZj90b0JCb3goY2hpbGQpOmNoaWxkKTttYXJnaW4rPWJib3hNYXJnaW4ocmlnaHRCQm94KTt9cmV0dXJuIG1hcmdpbjt9LF9hZGp1c3RQYXJlbnRCQm94ZXM6ZnVuY3Rpb24gX2FkanVzdFBhcmVudEJCb3hlcyhiYm94LHBhdGgsbGV2ZWwpey8vIGFkanVzdCBiYm94ZXMgYWxvbmcgdGhlIGdpdmVuIHRyZWUgcGF0aFxuZm9yKHZhciBpPWxldmVsO2k+PTA7aS0tKXtleHRlbmQocGF0aFtpXSxiYm94KTt9fSxfY29uZGVuc2U6ZnVuY3Rpb24gX2NvbmRlbnNlKHBhdGgpey8vIGdvIHRocm91Z2ggdGhlIHBhdGgsIHJlbW92aW5nIGVtcHR5IG5vZGVzIGFuZCB1cGRhdGluZyBiYm94ZXNcbmZvcih2YXIgaT1wYXRoLmxlbmd0aC0xLHNpYmxpbmdzO2k+PTA7aS0tKXtpZihwYXRoW2ldLmNoaWxkcmVuLmxlbmd0aD09PTApe2lmKGk+MCl7c2libGluZ3M9cGF0aFtpLTFdLmNoaWxkcmVuO3NpYmxpbmdzLnNwbGljZShzaWJsaW5ncy5pbmRleE9mKHBhdGhbaV0pLDEpO31lbHNlIHRoaXMuY2xlYXIoKTt9ZWxzZSBjYWxjQkJveChwYXRoW2ldLHRoaXMudG9CQm94KTt9fSxfaW5pdEZvcm1hdDpmdW5jdGlvbiBfaW5pdEZvcm1hdChmb3JtYXQpey8vIGRhdGEgZm9ybWF0IChtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZIGFjY2Vzc29ycylcbi8vIHVzZXMgZXZhbC10eXBlIGZ1bmN0aW9uIGNvbXBpbGF0aW9uIGluc3RlYWQgb2YganVzdCBhY2NlcHRpbmcgYSB0b0JCb3ggZnVuY3Rpb25cbi8vIGJlY2F1c2UgdGhlIGFsZ29yaXRobXMgYXJlIHZlcnkgc2Vuc2l0aXZlIHRvIHNvcnRpbmcgZnVuY3Rpb25zIHBlcmZvcm1hbmNlLFxuLy8gc28gdGhleSBzaG91bGQgYmUgZGVhZCBzaW1wbGUgYW5kIHdpdGhvdXQgaW5uZXIgY2FsbHNcbnZhciBjb21wYXJlQXJyPVsncmV0dXJuIGEnLCcgLSBiJywnOyddO3RoaXMuY29tcGFyZU1pblg9bmV3IEZ1bmN0aW9uKCdhJywnYicsY29tcGFyZUFyci5qb2luKGZvcm1hdFswXSkpO3RoaXMuY29tcGFyZU1pblk9bmV3IEZ1bmN0aW9uKCdhJywnYicsY29tcGFyZUFyci5qb2luKGZvcm1hdFsxXSkpO3RoaXMudG9CQm94PW5ldyBGdW5jdGlvbignYScsJ3JldHVybiB7bWluWDogYScrZm9ybWF0WzBdKycsIG1pblk6IGEnK2Zvcm1hdFsxXSsnLCBtYXhYOiBhJytmb3JtYXRbMl0rJywgbWF4WTogYScrZm9ybWF0WzNdKyd9OycpO319O2Z1bmN0aW9uIGZpbmRJdGVtKGl0ZW0saXRlbXMsZXF1YWxzRm4pe2lmKCFlcXVhbHNGbilyZXR1cm4gaXRlbXMuaW5kZXhPZihpdGVtKTtmb3IodmFyIGk9MDtpPGl0ZW1zLmxlbmd0aDtpKyspe2lmKGVxdWFsc0ZuKGl0ZW0saXRlbXNbaV0pKXJldHVybiBpO31yZXR1cm4tMTt9Ly8gY2FsY3VsYXRlIG5vZGUncyBiYm94IGZyb20gYmJveGVzIG9mIGl0cyBjaGlsZHJlblxuZnVuY3Rpb24gY2FsY0JCb3gobm9kZSx0b0JCb3gpe2Rpc3RCQm94KG5vZGUsMCxub2RlLmNoaWxkcmVuLmxlbmd0aCx0b0JCb3gsbm9kZSk7fS8vIG1pbiBib3VuZGluZyByZWN0YW5nbGUgb2Ygbm9kZSBjaGlsZHJlbiBmcm9tIGsgdG8gcC0xXG5mdW5jdGlvbiBkaXN0QkJveChub2RlLGsscCx0b0JCb3gsZGVzdE5vZGUpe2lmKCFkZXN0Tm9kZSlkZXN0Tm9kZT1jcmVhdGVOb2RlKG51bGwpO2Rlc3ROb2RlLm1pblg9SW5maW5pdHk7ZGVzdE5vZGUubWluWT1JbmZpbml0eTtkZXN0Tm9kZS5tYXhYPS1JbmZpbml0eTtkZXN0Tm9kZS5tYXhZPS1JbmZpbml0eTtmb3IodmFyIGk9ayxjaGlsZDtpPHA7aSsrKXtjaGlsZD1ub2RlLmNoaWxkcmVuW2ldO2V4dGVuZChkZXN0Tm9kZSxub2RlLmxlYWY/dG9CQm94KGNoaWxkKTpjaGlsZCk7fXJldHVybiBkZXN0Tm9kZTt9ZnVuY3Rpb24gZXh0ZW5kKGEsYil7YS5taW5YPU1hdGgubWluKGEubWluWCxiLm1pblgpO2EubWluWT1NYXRoLm1pbihhLm1pblksYi5taW5ZKTthLm1heFg9TWF0aC5tYXgoYS5tYXhYLGIubWF4WCk7YS5tYXhZPU1hdGgubWF4KGEubWF4WSxiLm1heFkpO3JldHVybiBhO31mdW5jdGlvbiBjb21wYXJlTm9kZU1pblgoYSxiKXtyZXR1cm4gYS5taW5YLWIubWluWDt9ZnVuY3Rpb24gY29tcGFyZU5vZGVNaW5ZKGEsYil7cmV0dXJuIGEubWluWS1iLm1pblk7fWZ1bmN0aW9uIGJib3hBcmVhKGEpe3JldHVybihhLm1heFgtYS5taW5YKSooYS5tYXhZLWEubWluWSk7fWZ1bmN0aW9uIGJib3hNYXJnaW4oYSl7cmV0dXJuIGEubWF4WC1hLm1pblgrKGEubWF4WS1hLm1pblkpO31mdW5jdGlvbiBlbmxhcmdlZEFyZWEoYSxiKXtyZXR1cm4oTWF0aC5tYXgoYi5tYXhYLGEubWF4WCktTWF0aC5taW4oYi5taW5YLGEubWluWCkpKihNYXRoLm1heChiLm1heFksYS5tYXhZKS1NYXRoLm1pbihiLm1pblksYS5taW5ZKSk7fWZ1bmN0aW9uIGludGVyc2VjdGlvbkFyZWEoYSxiKXt2YXIgbWluWD1NYXRoLm1heChhLm1pblgsYi5taW5YKSxtaW5ZPU1hdGgubWF4KGEubWluWSxiLm1pblkpLG1heFg9TWF0aC5taW4oYS5tYXhYLGIubWF4WCksbWF4WT1NYXRoLm1pbihhLm1heFksYi5tYXhZKTtyZXR1cm4gTWF0aC5tYXgoMCxtYXhYLW1pblgpKk1hdGgubWF4KDAsbWF4WS1taW5ZKTt9ZnVuY3Rpb24gY29udGFpbnMoYSxiKXtyZXR1cm4gYS5taW5YPD1iLm1pblgmJmEubWluWTw9Yi5taW5ZJiZiLm1heFg8PWEubWF4WCYmYi5tYXhZPD1hLm1heFk7fWZ1bmN0aW9uIGludGVyc2VjdHMoYSxiKXtyZXR1cm4gYi5taW5YPD1hLm1heFgmJmIubWluWTw9YS5tYXhZJiZiLm1heFg+PWEubWluWCYmYi5tYXhZPj1hLm1pblk7fWZ1bmN0aW9uIGNyZWF0ZU5vZGUoY2hpbGRyZW4pe3JldHVybntjaGlsZHJlbjpjaGlsZHJlbixoZWlnaHQ6MSxsZWFmOnRydWUsbWluWDpJbmZpbml0eSxtaW5ZOkluZmluaXR5LG1heFg6LUluZmluaXR5LG1heFk6LUluZmluaXR5fTt9Ly8gc29ydCBhbiBhcnJheSBzbyB0aGF0IGl0ZW1zIGNvbWUgaW4gZ3JvdXBzIG9mIG4gdW5zb3J0ZWQgaXRlbXMsIHdpdGggZ3JvdXBzIHNvcnRlZCBiZXR3ZWVuIGVhY2ggb3RoZXI7XG4vLyBjb21iaW5lcyBzZWxlY3Rpb24gYWxnb3JpdGhtIHdpdGggYmluYXJ5IGRpdmlkZSAmIGNvbnF1ZXIgYXBwcm9hY2hcbmZ1bmN0aW9uIG11bHRpU2VsZWN0KGFycixsZWZ0LHJpZ2h0LG4sY29tcGFyZSl7dmFyIHN0YWNrPVtsZWZ0LHJpZ2h0XSxtaWQ7d2hpbGUoc3RhY2subGVuZ3RoKXtyaWdodD1zdGFjay5wb3AoKTtsZWZ0PXN0YWNrLnBvcCgpO2lmKHJpZ2h0LWxlZnQ8PW4pY29udGludWU7bWlkPWxlZnQrTWF0aC5jZWlsKChyaWdodC1sZWZ0KS9uLzIpKm47cXVpY2tzZWxlY3QoYXJyLG1pZCxsZWZ0LHJpZ2h0LGNvbXBhcmUpO3N0YWNrLnB1c2gobGVmdCxtaWQsbWlkLHJpZ2h0KTt9fW1vZHVsZS5leHBvcnRzPXJidXNoOy8qKiovfSwvKiA4OTggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pey8vICBQaGFzZXIuUGh5c2ljc1xubW9kdWxlLmV4cG9ydHM9e0ltcGFjdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDg5OSksUG9seURlY29tcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkwNyl9Oy8qXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBJbXBhY3Q6IHJlcXVpcmUoJy4vaW1wYWN0JyksXG4gICAgUG9seURlY29tcDogcmVxdWlyZSgnLi9wb2x5LWRlY29tcC8nKSxcbiAgICBNYXR0ZXJKUzogcmVxdWlyZSgnLi9tYXR0ZXItanMvbW9kdWxlL21haW4nKVxufTtcbiovLyoqKi99LC8qIDg5OSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5QaHlzaWNzLkltcGFjdFxuLy8gIEFuIEltcGFjdC5qcyBjb21wYXRpYmxlIHBoeXNpY3Mgd29ybGQsIGJvZHkgYW5kIHNvbHZlciwgZm9yIHRob3NlIHdobyBhcmUgdXNlZFxuLy8gIHRvIHRoZSBJbXBhY3Qgd2F5IG9mIGRlZmluaW5nIGFuZCBjb250cm9sbGluZyBwaHlzaWNzIGJvZGllcy4gQWxzbyB3b3JrcyB3aXRoXG4vLyAgdGhlIG5ldyBMb2FkZXIgc3VwcG9ydCBmb3IgV2VsdG1laXN0ZXIgbWFwIGRhdGEuXG4vL1xuLy8gIFdvcmxkIHVwZGF0ZWQgdG8gcnVuIG9mZiB0aGUgUGhhc2VyIG1haW4gbG9vcC5cbi8vICBCb2R5IGV4dGVuZGVkIHRvIHN1cHBvcnQgYWRkaXRpb25hbCBzZXR0ZXIgZnVuY3Rpb25zLlxuLy9cbi8vICBUbyBjcmVhdGUgdGhlIG1hcCBkYXRhIHlvdSdsbCBuZWVkIFdlbHRtZWlzdGVyLCB3aGljaCBjb21lcyB3aXRoIEltcGFjdFxuLy8gIGFuZCBjYW4gYmUgcHVyY2hhc2VkIGZyb20gaHR0cDovL2ltcGFjdGpzLmNvbVxuLy9cbi8vICBNeSB0aGFua3MgdG8gRG9taW5pYyBTemFibGV3c2tpIGZvciBoaXMgcGVybWlzc2lvbiB0byBzdXBwb3J0IEltcGFjdCBpbiBQaGFzZXIuXG5tb2R1bGUuZXhwb3J0cz17Qm9keTpfX3dlYnBhY2tfcmVxdWlyZV9fKDIxNCksQ09MTElERVM6X193ZWJwYWNrX3JlcXVpcmVfXyg1OSksQ29sbGlzaW9uTWFwOl9fd2VicGFja19yZXF1aXJlX18oMjE1KSxUWVBFOl9fd2VicGFja19yZXF1aXJlX18oOTUpLFdvcmxkOl9fd2VicGFja19yZXF1aXJlX18oOTAzKX07LyoqKi99LC8qIDkwMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIENsYW1wPV9fd2VicGFja19yZXF1aXJlX18oNDkpO3ZhciBHZXRWZWxvY2l0eT1mdW5jdGlvbiBHZXRWZWxvY2l0eShkZWx0YSx2ZWwsYWNjZWwsZnJpY3Rpb24sbWF4KXtpZihhY2NlbCl7cmV0dXJuIENsYW1wKHZlbCthY2NlbCpkZWx0YSwtbWF4LG1heCk7fWVsc2UgaWYoZnJpY3Rpb24pe3ZhciBmcmljdGlvbkRlbHRhPWZyaWN0aW9uKmRlbHRhO2lmKHZlbC1mcmljdGlvbkRlbHRhPjApe3JldHVybiB2ZWwtZnJpY3Rpb25EZWx0YTt9ZWxzZSBpZih2ZWwrZnJpY3Rpb25EZWx0YTwwKXtyZXR1cm4gdmVsK2ZyaWN0aW9uRGVsdGE7fWVsc2V7cmV0dXJuIDA7fX1yZXR1cm4gQ2xhbXAodmVsLC1tYXgsbWF4KTt9O21vZHVsZS5leHBvcnRzPUdldFZlbG9jaXR5Oy8qKiovfSwvKiA5MDEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvLyBTZXQgdXAgdGhlIHRyYWNlLXJlc3VsdFxuLy8gdmFyIHJlcyA9IHtcbi8vICAgICBjb2xsaXNpb246IHt4OiBmYWxzZSwgeTogZmFsc2UsIHNsb3BlOiBmYWxzZX0sXG4vLyAgICAgcG9zOiB7eDogeCwgeTogeX0sXG4vLyAgICAgdGlsZToge3g6IDAsIHk6IDB9XG4vLyB9O1xudmFyIFVwZGF0ZU1vdGlvbj1mdW5jdGlvbiBVcGRhdGVNb3Rpb24oYm9keSxyZXMpe2JvZHkuc3RhbmRpbmc9ZmFsc2U7Ly8gIFlcbmlmKHJlcy5jb2xsaXNpb24ueSl7aWYoYm9keS5ib3VuY2luZXNzPjAmJk1hdGguYWJzKGJvZHkudmVsLnkpPmJvZHkubWluQm91bmNlVmVsb2NpdHkpe2JvZHkudmVsLnkqPS1ib2R5LmJvdW5jaW5lc3M7fWVsc2V7aWYoYm9keS52ZWwueT4wKXtib2R5LnN0YW5kaW5nPXRydWU7fWJvZHkudmVsLnk9MDt9fS8vICBYXG5pZihyZXMuY29sbGlzaW9uLngpe2lmKGJvZHkuYm91bmNpbmVzcz4wJiZNYXRoLmFicyhib2R5LnZlbC54KT5ib2R5Lm1pbkJvdW5jZVZlbG9jaXR5KXtib2R5LnZlbC54Kj0tYm9keS5ib3VuY2luZXNzO31lbHNle2JvZHkudmVsLng9MDt9fS8vICBTTE9QRVxuaWYocmVzLmNvbGxpc2lvbi5zbG9wZSl7dmFyIHM9cmVzLmNvbGxpc2lvbi5zbG9wZTtpZihib2R5LmJvdW5jaW5lc3M+MCl7dmFyIHByb2o9Ym9keS52ZWwueCpzLm54K2JvZHkudmVsLnkqcy5ueTtib2R5LnZlbC54PShib2R5LnZlbC54LXMubngqcHJvaioyKSpib2R5LmJvdW5jaW5lc3M7Ym9keS52ZWwueT0oYm9keS52ZWwueS1zLm55KnByb2oqMikqYm9keS5ib3VuY2luZXNzO31lbHNle3ZhciBsZW5ndGhTcXVhcmVkPXMueCpzLngrcy55KnMueTt2YXIgZG90PShib2R5LnZlbC54KnMueCtib2R5LnZlbC55KnMueSkvbGVuZ3RoU3F1YXJlZDtib2R5LnZlbC54PXMueCpkb3Q7Ym9keS52ZWwueT1zLnkqZG90O3ZhciBhbmdsZT1NYXRoLmF0YW4yKHMueCxzLnkpO2lmKGFuZ2xlPmJvZHkuc2xvcGVTdGFuZGluZy5taW4mJmFuZ2xlPGJvZHkuc2xvcGVTdGFuZGluZy5tYXgpe2JvZHkuc3RhbmRpbmc9dHJ1ZTt9fWlmKHdpbmRvdy5kdW1waXQpe2NvbnNvbGUuZ3JvdXAoJ3Nsb3BlJyk7Y29uc29sZS5sb2cocyk7Y29uc29sZS5sb2coJ3BvcycscmVzLnBvcy54LHJlcy5wb3MueSk7Y29uc29sZS5sb2coJ3ZlbCcsYm9keS52ZWwueCxib2R5LnZlbC55KTtjb25zb2xlLmdyb3VwRW5kKCk7fX0vLyBib2R5LnBvcyA9IHJlcy5wb3M7XG5ib2R5LnBvcy54PXJlcy5wb3MueDtib2R5LnBvcy55PXJlcy5wb3MueTt9O21vZHVsZS5leHBvcnRzPVVwZGF0ZU1vdGlvbjsvKioqL30sLyogOTAyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIEg9MC41O3ZhciBOPTEvMzt2YXIgTT0yLzM7Ly8gIFRpbGUgSUQgdG8gU2xvcGUgZGVmcy5cbi8vICBGaXJzdCA0IGVsZW1lbnRzID0gbGluZSBkYXRhLCBmaW5hbCA9IHNvbGlkIG9yIG5vbi1zb2xpZCBiZWhpbmQgdGhlIGxpbmVcbm1vZHVsZS5leHBvcnRzPXsyOlswLDEsMSwwLHRydWVdLDM6WzAsMSwxLEgsdHJ1ZV0sNDpbMCxILDEsMCx0cnVlXSw1OlswLDEsMSxNLHRydWVdLDY6WzAsTSwxLE4sdHJ1ZV0sNzpbMCxOLDEsMCx0cnVlXSw4OltILDEsMCwwLHRydWVdLDk6WzEsMCxILDEsdHJ1ZV0sMTA6W0gsMSwxLDAsdHJ1ZV0sMTE6WzAsMCxILDEsdHJ1ZV0sMTI6WzAsMCwxLDAsZmFsc2VdLDEzOlsxLDEsMCwwLHRydWVdLDE0OlsxLEgsMCwwLHRydWVdLDE1OlsxLDEsMCxILHRydWVdLDE2OlsxLE4sMCwwLHRydWVdLDE3OlsxLE0sMCxOLHRydWVdLDE4OlsxLDEsMCxNLHRydWVdLDE5OlsxLDEsSCwwLHRydWVdLDIwOltILDAsMCwxLHRydWVdLDIxOlswLDEsSCwwLHRydWVdLDIyOltILDAsMSwxLHRydWVdLDIzOlsxLDEsMCwxLGZhbHNlXSwyNDpbMCwwLDEsMSx0cnVlXSwyNTpbMCwwLDEsSCx0cnVlXSwyNjpbMCxILDEsMSx0cnVlXSwyNzpbMCwwLDEsTix0cnVlXSwyODpbMCxOLDEsTSx0cnVlXSwyOTpbMCxNLDEsMSx0cnVlXSwzMDpbTiwxLDAsMCx0cnVlXSwzMTpbMSwwLE0sMSx0cnVlXSwzMjpbTSwxLDEsMCx0cnVlXSwzMzpbMCwwLE4sMSx0cnVlXSwzNDpbMSwwLDEsMSxmYWxzZV0sMzU6WzEsMCwwLDEsdHJ1ZV0sMzY6WzEsSCwwLDEsdHJ1ZV0sMzc6WzEsMCwwLEgsdHJ1ZV0sMzg6WzEsTSwwLDEsdHJ1ZV0sMzk6WzEsTiwwLE0sdHJ1ZV0sNDA6WzEsMCwwLE4sdHJ1ZV0sNDE6W00sMSxOLDAsdHJ1ZV0sNDI6W00sMCxOLDEsdHJ1ZV0sNDM6W04sMSxNLDAsdHJ1ZV0sNDQ6W04sMCxNLDEsdHJ1ZV0sNDU6WzAsMSwwLDAsZmFsc2VdLDUyOlsxLDEsTSwwLHRydWVdLDUzOltOLDAsMCwxLHRydWVdLDU0OlswLDEsTiwwLHRydWVdLDU1OltNLDAsMSwxLHRydWVdfTsvKioqL30sLyogOTAzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLlBoeXNpY3MuSW1wYWN0LldvcmxkXG52YXIgQ2xhc3M9X193ZWJwYWNrX3JlcXVpcmVfXygwKTt2YXIgU2V0PV9fd2VicGFja19yZXF1aXJlX18oNTQpO3ZhciBCb2R5PV9fd2VicGFja19yZXF1aXJlX18oMjE0KTt2YXIgU29sdmVyPV9fd2VicGFja19yZXF1aXJlX18oOTA0KTt2YXIgQ29sbGlzaW9uTWFwPV9fd2VicGFja19yZXF1aXJlX18oMjE1KTt2YXIgQ09MTElERVM9X193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7dmFyIFRZUEU9X193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7dmFyIFdvcmxkPW5ldyBDbGFzcyh7aW5pdGlhbGl6ZTpmdW5jdGlvbiBXb3JsZChncmF2aXR5LGNlbGxTaXplKXtpZihncmF2aXR5PT09dW5kZWZpbmVkKXtncmF2aXR5PTA7fWlmKGNlbGxTaXplPT09dW5kZWZpbmVkKXtjZWxsU2l6ZT02NDt9dGhpcy5ib2RpZXM9bmV3IFNldCgpO3RoaXMuZ3Jhdml0eT1ncmF2aXR5Oy8vICBTcGF0aWFsIGhhc2ggY2VsbCBkaW1lbnNpb25zXG50aGlzLmNlbGxTaXplPWNlbGxTaXplO3RoaXMuY29sbGlzaW9uTWFwPW5ldyBDb2xsaXNpb25NYXAoKTt0aGlzLmRlbHRhPTA7fSxjcmVhdGU6ZnVuY3Rpb24gY3JlYXRlKHgseSxzaXplWCxzaXplWSl7dmFyIGJvZHk9bmV3IEJvZHkodGhpcyx4LHksc2l6ZVgsc2l6ZVkpO3RoaXMuYm9kaWVzLnNldChib2R5KTtyZXR1cm4gYm9keTt9LHVwZGF0ZTpmdW5jdGlvbiB1cGRhdGUodGltZSxkZWx0YSl7aWYodGhpcy5ib2RpZXMuc2l6ZT09PTApe3JldHVybjt9Ly8gIEltcGFjdCB1c2VzIGEgZGl2aWRlZCBkZWx0YSB2YWx1ZVxuZGVsdGEvPTEwMDA7dGhpcy5kZWx0YT1kZWx0YTsvLyAgVXBkYXRlIGFsbCBib2RpZXNcbnRoaXMuYm9kaWVzLml0ZXJhdGUoZnVuY3Rpb24oYm9keSl7aWYoYm9keS5lbmFibGVkKXtib2R5LnVwZGF0ZShkZWx0YSk7fX0pOy8vICBSdW4gY29sbGlzaW9uIGFnYWluc3QgdGhlbSBhbGxcbnZhciBoYXNoPXt9O3ZhciBzaXplPXRoaXMuY2VsbFNpemU7dmFyIGJvZGllcz10aGlzLmJvZGllcy5lbnRyaWVzO2Zvcih2YXIgaT0wO2k8Ym9kaWVzLmxlbmd0aDtpKyspe3ZhciBib2R5PWJvZGllc1tpXTtpZihib2R5LnNraXBIYXNoKCkpe2NvbnRpbnVlO31lbHNle3RoaXMuY2hlY2tIYXNoKGJvZHksaGFzaCxzaXplKTt9fX0sLy8gIENoZWNrIHRoZSBib2R5IGFnYWluc3QgdGhlIHNwYXRpYWwgaGFzaFxuY2hlY2tIYXNoOmZ1bmN0aW9uIGNoZWNrSGFzaChib2R5LGhhc2gsc2l6ZSl7Ly8gY29uc29sZS5sb2coJ2NoZWNrSGFzaCcpO1xudmFyIGNoZWNrZWQ9e307dmFyIHhtaW49TWF0aC5mbG9vcihib2R5LnBvcy54L3NpemUpO3ZhciB5bWluPU1hdGguZmxvb3IoYm9keS5wb3MueS9zaXplKTt2YXIgeG1heD1NYXRoLmZsb29yKChib2R5LnBvcy54K2JvZHkuc2l6ZS54KS9zaXplKSsxO3ZhciB5bWF4PU1hdGguZmxvb3IoKGJvZHkucG9zLnkrYm9keS5zaXplLnkpL3NpemUpKzE7Zm9yKHZhciB4PXhtaW47eDx4bWF4O3grKyl7Zm9yKHZhciB5PXltaW47eTx5bWF4O3krKyl7aWYoIWhhc2hbeF0pe2hhc2hbeF09e307aGFzaFt4XVt5XT1bYm9keV07fWVsc2UgaWYoIWhhc2hbeF1beV0pe2hhc2hbeF1beV09W2JvZHldO31lbHNle3ZhciBjZWxsPWhhc2hbeF1beV07Zm9yKHZhciBjPTA7YzxjZWxsLmxlbmd0aDtjKyspe2lmKGJvZHkudG91Y2hlcyhjZWxsW2NdKSYmIWNoZWNrZWRbY2VsbFtjXS5pZF0pe2NoZWNrZWRbY2VsbFtjXS5pZF09dHJ1ZTt0aGlzLmNoZWNrQm9kaWVzKGJvZHksY2VsbFtjXSk7fX1jZWxsLnB1c2goYm9keSk7fX19fSxjaGVja0JvZGllczpmdW5jdGlvbiBjaGVja0JvZGllcyhib2R5QSxib2R5Qil7Ly8gIGJpdHdpc2UgY2hlY2tzXG5pZihib2R5QS5jaGVja0FnYWluc3QmYm9keUIudHlwZSl7Ym9keUEuY2hlY2soYm9keUIpO31pZihib2R5Qi5jaGVja0FnYWluc3QmYm9keUEudHlwZSl7Ym9keUIuY2hlY2soYm9keUEpO31pZihib2R5QS5jb2xsaWRlcyYmYm9keUIuY29sbGlkZXMmJmJvZHlBLmNvbGxpZGVzK2JvZHlCLmNvbGxpZGVzPkNPTExJREVTLkFDVElWRSl7Ly8gY29uc29sZS5sb2coJ3NvbHZlJyk7XG5Tb2x2ZXIodGhpcyxib2R5QSxib2R5Qik7fX19KTttb2R1bGUuZXhwb3J0cz1Xb3JsZDsvKioqL30sLyogOTA0ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgU2VwZXJhdGVYPV9fd2VicGFja19yZXF1aXJlX18oOTA1KTt2YXIgU2VwZXJhdGVZPV9fd2VicGFja19yZXF1aXJlX18oOTA2KTt2YXIgQ09MTElERVM9X193ZWJwYWNrX3JlcXVpcmVfXyg1OSk7Ly8gIEltcGFjdCBQaHlzaWNzIFNvbHZlclxudmFyIFNvbHZlcj1mdW5jdGlvbiBTb2x2ZXIod29ybGQsYm9keUEsYm9keUIpe3ZhciB3ZWFrPW51bGw7aWYoYm9keUEuY29sbGlkZXM9PT1DT0xMSURFUy5MSVRFfHxib2R5Qi5jb2xsaWRlcz09PUNPTExJREVTLkZJWEVEKXt3ZWFrPWJvZHlBO31lbHNlIGlmKGJvZHlCLmNvbGxpZGVzPT09Q09MTElERVMuTElURXx8Ym9keUEuY29sbGlkZXM9PT1DT0xMSURFUy5GSVhFRCl7d2Vhaz1ib2R5Qjt9aWYoYm9keUEubGFzdC54K2JvZHlBLnNpemUueD5ib2R5Qi5sYXN0LngmJmJvZHlBLmxhc3QueDxib2R5Qi5sYXN0LngrYm9keUIuc2l6ZS54KXtpZihib2R5QS5sYXN0Lnk8Ym9keUIubGFzdC55KXtTZXBlcmF0ZVkod29ybGQsYm9keUEsYm9keUIsd2Vhayk7fWVsc2V7U2VwZXJhdGVZKHdvcmxkLGJvZHlCLGJvZHlBLHdlYWspO31ib2R5QS5jb2xsaWRlV2l0aChib2R5QiwneScpO2JvZHlCLmNvbGxpZGVXaXRoKGJvZHlBLCd5Jyk7fWVsc2UgaWYoYm9keUEubGFzdC55K2JvZHlBLnNpemUueT5ib2R5Qi5sYXN0LnkmJmJvZHlBLmxhc3QueTxib2R5Qi5sYXN0LnkrYm9keUIuc2l6ZS55KXtpZihib2R5QS5sYXN0Lng8Ym9keUIubGFzdC54KXtTZXBlcmF0ZVgod29ybGQsYm9keUEsYm9keUIsd2Vhayk7fWVsc2V7U2VwZXJhdGVYKHdvcmxkLGJvZHlCLGJvZHlBLHdlYWspO31ib2R5QS5jb2xsaWRlV2l0aChib2R5QiwneCcpO2JvZHlCLmNvbGxpZGVXaXRoKGJvZHlBLCd4Jyk7fX07bW9kdWxlLmV4cG9ydHM9U29sdmVyOy8qKiovfSwvKiA5MDUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt2YXIgU2VwZXJhdGVYPWZ1bmN0aW9uIFNlcGVyYXRlWCh3b3JsZCxsZWZ0LHJpZ2h0LHdlYWspe3ZhciBudWRnZT1sZWZ0LnBvcy54K2xlZnQuc2l6ZS54LXJpZ2h0LnBvcy54Oy8vIFdlIGhhdmUgYSB3ZWFrIGVudGl0eSwgc28ganVzdCBtb3ZlIHRoaXMgb25lXG5pZih3ZWFrKXt2YXIgc3Ryb25nPWxlZnQ9PT13ZWFrP3JpZ2h0OmxlZnQ7d2Vhay52ZWwueD0td2Vhay52ZWwueCp3ZWFrLmJvdW5jaW5lc3Mrc3Ryb25nLnZlbC54O3ZhciByZXNXZWFrPXdvcmxkLmNvbGxpc2lvbk1hcC50cmFjZSh3ZWFrLnBvcy54LHdlYWsucG9zLnksd2Vhaz09PWxlZnQ/LW51ZGdlOm51ZGdlLDAsd2Vhay5zaXplLngsd2Vhay5zaXplLnkpO3dlYWsucG9zLng9cmVzV2Vhay5wb3MueDt9ZWxzZXt2YXIgdjI9KGxlZnQudmVsLngtcmlnaHQudmVsLngpLzI7bGVmdC52ZWwueD0tdjI7cmlnaHQudmVsLng9djI7dmFyIHJlc0xlZnQ9d29ybGQuY29sbGlzaW9uTWFwLnRyYWNlKGxlZnQucG9zLngsbGVmdC5wb3MueSwtbnVkZ2UvMiwwLGxlZnQuc2l6ZS54LGxlZnQuc2l6ZS55KTtsZWZ0LnBvcy54PU1hdGguZmxvb3IocmVzTGVmdC5wb3MueCk7dmFyIHJlc1JpZ2h0PXdvcmxkLmNvbGxpc2lvbk1hcC50cmFjZShyaWdodC5wb3MueCxyaWdodC5wb3MueSxudWRnZS8yLDAscmlnaHQuc2l6ZS54LHJpZ2h0LnNpemUueSk7cmlnaHQucG9zLng9TWF0aC5jZWlsKHJlc1JpZ2h0LnBvcy54KTt9fTttb2R1bGUuZXhwb3J0cz1TZXBlcmF0ZVg7LyoqKi99LC8qIDkwNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBTZXBlcmF0ZVk9ZnVuY3Rpb24gU2VwZXJhdGVZKHdvcmxkLHRvcCxib3R0b20sd2Vhayl7dmFyIG51ZGdlPXRvcC5wb3MueSt0b3Auc2l6ZS55LWJvdHRvbS5wb3MueTt2YXIgbnVkZ2VYO3ZhciByZXNUb3A7aWYod2Vhayl7dmFyIHN0cm9uZz10b3A9PT13ZWFrP2JvdHRvbTp0b3A7d2Vhay52ZWwueT0td2Vhay52ZWwueSp3ZWFrLmJvdW5jaW5lc3Mrc3Ryb25nLnZlbC55Oy8vIFJpZGluZyBvbiBhIHBsYXRmb3JtP1xubnVkZ2VYPTA7aWYod2Vhaz09PXRvcCYmTWF0aC5hYnMod2Vhay52ZWwueS1zdHJvbmcudmVsLnkpPHdlYWsubWluQm91bmNlVmVsb2NpdHkpe3dlYWsuc3RhbmRpbmc9dHJ1ZTtudWRnZVg9c3Ryb25nLnZlbC54KndvcmxkLmRlbHRhO312YXIgcmVzV2Vhaz13b3JsZC5jb2xsaXNpb25NYXAudHJhY2Uod2Vhay5wb3MueCx3ZWFrLnBvcy55LG51ZGdlWCx3ZWFrPT09dG9wPy1udWRnZTpudWRnZSx3ZWFrLnNpemUueCx3ZWFrLnNpemUueSk7d2Vhay5wb3MueT1yZXNXZWFrLnBvcy55O3dlYWsucG9zLng9cmVzV2Vhay5wb3MueDt9ZWxzZSBpZih3b3JsZC5ncmF2aXR5JiYoYm90dG9tLnN0YW5kaW5nfHx0b3AudmVsLnk+MCkpe3Jlc1RvcD13b3JsZC5jb2xsaXNpb25NYXAudHJhY2UodG9wLnBvcy54LHRvcC5wb3MueSwwLC0odG9wLnBvcy55K3RvcC5zaXplLnktYm90dG9tLnBvcy55KSx0b3Auc2l6ZS54LHRvcC5zaXplLnkpO3RvcC5wb3MueT1yZXNUb3AucG9zLnk7aWYodG9wLmJvdW5jaW5lc3M+MCYmdG9wLnZlbC55PnRvcC5taW5Cb3VuY2VWZWxvY2l0eSl7dG9wLnZlbC55Kj0tdG9wLmJvdW5jaW5lc3M7fWVsc2V7dG9wLnN0YW5kaW5nPXRydWU7dG9wLnZlbC55PTA7fX1lbHNle3ZhciB2Mj0odG9wLnZlbC55LWJvdHRvbS52ZWwueSkvMjt0b3AudmVsLnk9LXYyO2JvdHRvbS52ZWwueT12MjtudWRnZVg9Ym90dG9tLnZlbC54KndvcmxkLmRlbHRhO3Jlc1RvcD13b3JsZC5jb2xsaXNpb25NYXAudHJhY2UodG9wLnBvcy54LHRvcC5wb3MueSxudWRnZVgsLW51ZGdlLzIsdG9wLnNpemUueCx0b3Auc2l6ZS55KTt0b3AucG9zLnk9cmVzVG9wLnBvcy55O3ZhciByZXNCb3R0b209d29ybGQuY29sbGlzaW9uTWFwLnRyYWNlKGJvdHRvbS5wb3MueCxib3R0b20ucG9zLnksMCxudWRnZS8yLGJvdHRvbS5zaXplLngsYm90dG9tLnNpemUueSk7Ym90dG9tLnBvcy55PXJlc0JvdHRvbS5wb3MueTt9fTttb2R1bGUuZXhwb3J0cz1TZXBlcmF0ZVk7LyoqKi99LC8qIDkwNyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPXtkZWNvbXA6cG9seWdvbkRlY29tcCxxdWlja0RlY29tcDpwb2x5Z29uUXVpY2tEZWNvbXAsaXNTaW1wbGU6cG9seWdvbklzU2ltcGxlLHJlbW92ZUNvbGxpbmVhclBvaW50czpwb2x5Z29uUmVtb3ZlQ29sbGluZWFyUG9pbnRzLG1ha2VDQ1c6cG9seWdvbk1ha2VDQ1d9Oy8qKlxuICogQ29tcHV0ZSB0aGUgaW50ZXJzZWN0aW9uIGJldHdlZW4gdHdvIGxpbmVzLlxuICogQHN0YXRpY1xuICogQG1ldGhvZCBsaW5lSW50XG4gKiBAcGFyYW0gIHtBcnJheX0gIGwxICAgICAgICAgIExpbmUgdmVjdG9yIDFcbiAqIEBwYXJhbSAge0FycmF5fSAgbDIgICAgICAgICAgTGluZSB2ZWN0b3IgMlxuICogQHBhcmFtICB7TnVtYmVyfSBwcmVjaXNpb24gICBQcmVjaXNpb24gdG8gdXNlIHdoZW4gY2hlY2tpbmcgaWYgdGhlIGxpbmVzIGFyZSBwYXJhbGxlbFxuICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgICBUaGUgaW50ZXJzZWN0aW9uIHBvaW50LlxuICovZnVuY3Rpb24gbGluZUludChsMSxsMixwcmVjaXNpb24pe3ByZWNpc2lvbj1wcmVjaXNpb258fDA7dmFyIGk9WzAsMF07Ly8gcG9pbnRcbnZhciBhMSxiMSxjMSxhMixiMixjMixkZXQ7Ly8gc2NhbGFyc1xuYTE9bDFbMV1bMV0tbDFbMF1bMV07YjE9bDFbMF1bMF0tbDFbMV1bMF07YzE9YTEqbDFbMF1bMF0rYjEqbDFbMF1bMV07YTI9bDJbMV1bMV0tbDJbMF1bMV07YjI9bDJbMF1bMF0tbDJbMV1bMF07YzI9YTIqbDJbMF1bMF0rYjIqbDJbMF1bMV07ZGV0PWExKmIyLWEyKmIxO2lmKCFzY2FsYXJfZXEoZGV0LDAscHJlY2lzaW9uKSl7Ly8gbGluZXMgYXJlIG5vdCBwYXJhbGxlbFxuaVswXT0oYjIqYzEtYjEqYzIpL2RldDtpWzFdPShhMSpjMi1hMipjMSkvZGV0O31yZXR1cm4gaTt9LyoqXG4gKiBDaGVja3MgaWYgdHdvIGxpbmUgc2VnbWVudHMgaW50ZXJzZWN0cy5cbiAqIEBtZXRob2Qgc2VnbWVudHNJbnRlcnNlY3RcbiAqIEBwYXJhbSB7QXJyYXl9IHAxIFRoZSBzdGFydCB2ZXJ0ZXggb2YgdGhlIGZpcnN0IGxpbmUgc2VnbWVudC5cbiAqIEBwYXJhbSB7QXJyYXl9IHAyIFRoZSBlbmQgdmVydGV4IG9mIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQuXG4gKiBAcGFyYW0ge0FycmF5fSBxMSBUaGUgc3RhcnQgdmVydGV4IG9mIHRoZSBzZWNvbmQgbGluZSBzZWdtZW50LlxuICogQHBhcmFtIHtBcnJheX0gcTIgVGhlIGVuZCB2ZXJ0ZXggb2YgdGhlIHNlY29uZCBsaW5lIHNlZ21lbnQuXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB0d28gbGluZSBzZWdtZW50cyBpbnRlcnNlY3RcbiAqL2Z1bmN0aW9uIGxpbmVTZWdtZW50c0ludGVyc2VjdChwMSxwMixxMSxxMil7dmFyIGR4PXAyWzBdLXAxWzBdO3ZhciBkeT1wMlsxXS1wMVsxXTt2YXIgZGE9cTJbMF0tcTFbMF07dmFyIGRiPXEyWzFdLXExWzFdOy8vIHNlZ21lbnRzIGFyZSBwYXJhbGxlbFxuaWYoZGEqZHktZGIqZHg9PT0wKXtyZXR1cm4gZmFsc2U7fXZhciBzPShkeCoocTFbMV0tcDFbMV0pK2R5KihwMVswXS1xMVswXSkpLyhkYSpkeS1kYipkeCk7dmFyIHQ9KGRhKihwMVsxXS1xMVsxXSkrZGIqKHExWzBdLXAxWzBdKSkvKGRiKmR4LWRhKmR5KTtyZXR1cm4gcz49MCYmczw9MSYmdD49MCYmdDw9MTt9LyoqXG4gKiBHZXQgdGhlIGFyZWEgb2YgYSB0cmlhbmdsZSBzcGFubmVkIGJ5IHRoZSB0aHJlZSBnaXZlbiBwb2ludHMuIE5vdGUgdGhhdCB0aGUgYXJlYSB3aWxsIGJlIG5lZ2F0aXZlIGlmIHRoZSBwb2ludHMgYXJlIG5vdCBnaXZlbiBpbiBjb3VudGVyLWNsb2Nrd2lzZSBvcmRlci5cbiAqIEBzdGF0aWNcbiAqIEBtZXRob2QgYXJlYVxuICogQHBhcmFtICB7QXJyYXl9IGFcbiAqIEBwYXJhbSAge0FycmF5fSBiXG4gKiBAcGFyYW0gIHtBcnJheX0gY1xuICogQHJldHVybiB7TnVtYmVyfVxuICovZnVuY3Rpb24gdHJpYW5nbGVBcmVhKGEsYixjKXtyZXR1cm4oYlswXS1hWzBdKSooY1sxXS1hWzFdKS0oY1swXS1hWzBdKSooYlsxXS1hWzFdKTt9ZnVuY3Rpb24gaXNMZWZ0KGEsYixjKXtyZXR1cm4gdHJpYW5nbGVBcmVhKGEsYixjKT4wO31mdW5jdGlvbiBpc0xlZnRPbihhLGIsYyl7cmV0dXJuIHRyaWFuZ2xlQXJlYShhLGIsYyk+PTA7fWZ1bmN0aW9uIGlzUmlnaHQoYSxiLGMpe3JldHVybiB0cmlhbmdsZUFyZWEoYSxiLGMpPDA7fWZ1bmN0aW9uIGlzUmlnaHRPbihhLGIsYyl7cmV0dXJuIHRyaWFuZ2xlQXJlYShhLGIsYyk8PTA7fXZhciB0bXBQb2ludDE9W10sdG1wUG9pbnQyPVtdOy8qKlxuICogQ2hlY2sgaWYgdGhyZWUgcG9pbnRzIGFyZSBjb2xsaW5lYXJcbiAqIEBtZXRob2QgY29sbGluZWFyXG4gKiBAcGFyYW0gIHtBcnJheX0gYVxuICogQHBhcmFtICB7QXJyYXl9IGJcbiAqIEBwYXJhbSAge0FycmF5fSBjXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFt0aHJlc2hvbGRBbmdsZT0wXSBUaHJlc2hvbGQgYW5nbGUgdG8gdXNlIHdoZW4gY29tcGFyaW5nIHRoZSB2ZWN0b3JzLiBUaGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdHJ1ZSBpZiB0aGUgYW5nbGUgYmV0d2VlbiB0aGUgcmVzdWx0aW5nIHZlY3RvcnMgaXMgbGVzcyB0aGFuIHRoaXMgdmFsdWUuIFVzZSB6ZXJvIGZvciBtYXggcHJlY2lzaW9uLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL2Z1bmN0aW9uIGNvbGxpbmVhcihhLGIsYyx0aHJlc2hvbGRBbmdsZSl7aWYoIXRocmVzaG9sZEFuZ2xlKXtyZXR1cm4gdHJpYW5nbGVBcmVhKGEsYixjKT09PTA7fWVsc2V7dmFyIGFiPXRtcFBvaW50MSxiYz10bXBQb2ludDI7YWJbMF09YlswXS1hWzBdO2FiWzFdPWJbMV0tYVsxXTtiY1swXT1jWzBdLWJbMF07YmNbMV09Y1sxXS1iWzFdO3ZhciBkb3Q9YWJbMF0qYmNbMF0rYWJbMV0qYmNbMV0sbWFnQT1NYXRoLnNxcnQoYWJbMF0qYWJbMF0rYWJbMV0qYWJbMV0pLG1hZ0I9TWF0aC5zcXJ0KGJjWzBdKmJjWzBdK2JjWzFdKmJjWzFdKSxhbmdsZT1NYXRoLmFjb3MoZG90LyhtYWdBKm1hZ0IpKTtyZXR1cm4gYW5nbGU8dGhyZXNob2xkQW5nbGU7fX1mdW5jdGlvbiBzcWRpc3QoYSxiKXt2YXIgZHg9YlswXS1hWzBdO3ZhciBkeT1iWzFdLWFbMV07cmV0dXJuIGR4KmR4K2R5KmR5O30vKipcbiAqIEdldCBhIHZlcnRleCBhdCBwb3NpdGlvbiBpLiBJdCBkb2VzIG5vdCBtYXR0ZXIgaWYgaSBpcyBvdXQgb2YgYm91bmRzLCB0aGlzIGZ1bmN0aW9uIHdpbGwganVzdCBjeWNsZS5cbiAqIEBtZXRob2QgYXRcbiAqIEBwYXJhbSAge051bWJlcn0gaVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9mdW5jdGlvbiBwb2x5Z29uQXQocG9seWdvbixpKXt2YXIgcz1wb2x5Z29uLmxlbmd0aDtyZXR1cm4gcG9seWdvbltpPDA/aSVzK3M6aSVzXTt9LyoqXG4gKiBDbGVhciB0aGUgcG9seWdvbiBkYXRhXG4gKiBAbWV0aG9kIGNsZWFyXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL2Z1bmN0aW9uIHBvbHlnb25DbGVhcihwb2x5Z29uKXtwb2x5Z29uLmxlbmd0aD0wO30vKipcbiAqIEFwcGVuZCBwb2ludHMgXCJmcm9tXCIgdG8gXCJ0b1wiLTEgZnJvbSBhbiBvdGhlciBwb2x5Z29uIFwicG9seVwiIG9udG8gdGhpcyBvbmUuXG4gKiBAbWV0aG9kIGFwcGVuZFxuICogQHBhcmFtIHtQb2x5Z29ufSBwb2x5IFRoZSBwb2x5Z29uIHRvIGdldCBwb2ludHMgZnJvbS5cbiAqIEBwYXJhbSB7TnVtYmVyfSAgZnJvbSBUaGUgdmVydGV4IGluZGV4IGluIFwicG9seVwiLlxuICogQHBhcmFtIHtOdW1iZXJ9ICB0byBUaGUgZW5kIHZlcnRleCBpbmRleCBpbiBcInBvbHlcIi4gTm90ZSB0aGF0IHRoaXMgdmVydGV4IGlzIE5PVCBpbmNsdWRlZCB3aGVuIGFwcGVuZGluZy5cbiAqIEByZXR1cm4ge0FycmF5fVxuICovZnVuY3Rpb24gcG9seWdvbkFwcGVuZChwb2x5Z29uLHBvbHksZnJvbSx0byl7Zm9yKHZhciBpPWZyb207aTx0bztpKyspe3BvbHlnb24ucHVzaChwb2x5W2ldKTt9fS8qKlxuICogTWFrZSBzdXJlIHRoYXQgdGhlIHBvbHlnb24gdmVydGljZXMgYXJlIG9yZGVyZWQgY291bnRlci1jbG9ja3dpc2UuXG4gKiBAbWV0aG9kIG1ha2VDQ1dcbiAqL2Z1bmN0aW9uIHBvbHlnb25NYWtlQ0NXKHBvbHlnb24pe3ZhciBicj0wLHY9cG9seWdvbjsvLyBmaW5kIGJvdHRvbSByaWdodCBwb2ludFxuZm9yKHZhciBpPTE7aTxwb2x5Z29uLmxlbmd0aDsrK2kpe2lmKHZbaV1bMV08dlticl1bMV18fHZbaV1bMV09PT12W2JyXVsxXSYmdltpXVswXT52W2JyXVswXSl7YnI9aTt9fS8vIHJldmVyc2UgcG9seSBpZiBjbG9ja3dpc2VcbmlmKCFpc0xlZnQocG9seWdvbkF0KHBvbHlnb24sYnItMSkscG9seWdvbkF0KHBvbHlnb24sYnIpLHBvbHlnb25BdChwb2x5Z29uLGJyKzEpKSl7cG9seWdvblJldmVyc2UocG9seWdvbik7fX0vKipcbiAqIFJldmVyc2UgdGhlIHZlcnRpY2VzIGluIHRoZSBwb2x5Z29uXG4gKiBAbWV0aG9kIHJldmVyc2VcbiAqL2Z1bmN0aW9uIHBvbHlnb25SZXZlcnNlKHBvbHlnb24pe3ZhciB0bXA9W107dmFyIE49cG9seWdvbi5sZW5ndGg7Zm9yKHZhciBpPTA7aSE9PU47aSsrKXt0bXAucHVzaChwb2x5Z29uLnBvcCgpKTt9Zm9yKHZhciBpPTA7aSE9PU47aSsrKXtwb2x5Z29uW2ldPXRtcFtpXTt9fS8qKlxuICogQ2hlY2sgaWYgYSBwb2ludCBpbiB0aGUgcG9seWdvbiBpcyBhIHJlZmxleCBwb2ludFxuICogQG1ldGhvZCBpc1JlZmxleFxuICogQHBhcmFtICB7TnVtYmVyfSAgaVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL2Z1bmN0aW9uIHBvbHlnb25Jc1JlZmxleChwb2x5Z29uLGkpe3JldHVybiBpc1JpZ2h0KHBvbHlnb25BdChwb2x5Z29uLGktMSkscG9seWdvbkF0KHBvbHlnb24saSkscG9seWdvbkF0KHBvbHlnb24saSsxKSk7fXZhciB0bXBMaW5lMT1bXSx0bXBMaW5lMj1bXTsvKipcbiAqIENoZWNrIGlmIHR3byB2ZXJ0aWNlcyBpbiB0aGUgcG9seWdvbiBjYW4gc2VlIGVhY2ggb3RoZXJcbiAqIEBtZXRob2QgY2FuU2VlXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGEgVmVydGV4IGluZGV4IDFcbiAqIEBwYXJhbSAge051bWJlcn0gYiBWZXJ0ZXggaW5kZXggMlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL2Z1bmN0aW9uIHBvbHlnb25DYW5TZWUocG9seWdvbixhLGIpe3ZhciBwLGRpc3QsbDE9dG1wTGluZTEsbDI9dG1wTGluZTI7aWYoaXNMZWZ0T24ocG9seWdvbkF0KHBvbHlnb24sYSsxKSxwb2x5Z29uQXQocG9seWdvbixhKSxwb2x5Z29uQXQocG9seWdvbixiKSkmJmlzUmlnaHRPbihwb2x5Z29uQXQocG9seWdvbixhLTEpLHBvbHlnb25BdChwb2x5Z29uLGEpLHBvbHlnb25BdChwb2x5Z29uLGIpKSl7cmV0dXJuIGZhbHNlO31kaXN0PXNxZGlzdChwb2x5Z29uQXQocG9seWdvbixhKSxwb2x5Z29uQXQocG9seWdvbixiKSk7Zm9yKHZhciBpPTA7aSE9PXBvbHlnb24ubGVuZ3RoOysraSl7Ly8gZm9yIGVhY2ggZWRnZVxuaWYoKGkrMSklcG9seWdvbi5sZW5ndGg9PT1hfHxpPT09YSl7Ly8gaWdub3JlIGluY2lkZW50IGVkZ2VzXG5jb250aW51ZTt9aWYoaXNMZWZ0T24ocG9seWdvbkF0KHBvbHlnb24sYSkscG9seWdvbkF0KHBvbHlnb24sYikscG9seWdvbkF0KHBvbHlnb24saSsxKSkmJmlzUmlnaHRPbihwb2x5Z29uQXQocG9seWdvbixhKSxwb2x5Z29uQXQocG9seWdvbixiKSxwb2x5Z29uQXQocG9seWdvbixpKSkpey8vIGlmIGRpYWcgaW50ZXJzZWN0cyBhbiBlZGdlXG5sMVswXT1wb2x5Z29uQXQocG9seWdvbixhKTtsMVsxXT1wb2x5Z29uQXQocG9seWdvbixiKTtsMlswXT1wb2x5Z29uQXQocG9seWdvbixpKTtsMlsxXT1wb2x5Z29uQXQocG9seWdvbixpKzEpO3A9bGluZUludChsMSxsMik7aWYoc3FkaXN0KHBvbHlnb25BdChwb2x5Z29uLGEpLHApPGRpc3Qpey8vIGlmIGVkZ2UgaXMgYmxvY2tpbmcgdmlzaWJpbGl0eSB0byBiXG5yZXR1cm4gZmFsc2U7fX19cmV0dXJuIHRydWU7fS8qKlxuICogQ29weSB0aGUgcG9seWdvbiBmcm9tIHZlcnRleCBpIHRvIHZlcnRleCBqLlxuICogQG1ldGhvZCBjb3B5XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGlcbiAqIEBwYXJhbSAge051bWJlcn0galxuICogQHBhcmFtICB7UG9seWdvbn0gW3RhcmdldFBvbHldICAgT3B0aW9uYWwgdGFyZ2V0IHBvbHlnb24gdG8gc2F2ZSBpbi5cbiAqIEByZXR1cm4ge1BvbHlnb259ICAgICAgICAgICAgICAgIFRoZSByZXN1bHRpbmcgY29weS5cbiAqL2Z1bmN0aW9uIHBvbHlnb25Db3B5KHBvbHlnb24saSxqLHRhcmdldFBvbHkpe3ZhciBwPXRhcmdldFBvbHl8fFtdO3BvbHlnb25DbGVhcihwKTtpZihpPGopey8vIEluc2VydCBhbGwgdmVydGljZXMgZnJvbSBpIHRvIGpcbmZvcih2YXIgaz1pO2s8PWo7aysrKXtwLnB1c2gocG9seWdvbltrXSk7fX1lbHNley8vIEluc2VydCB2ZXJ0aWNlcyAwIHRvIGpcbmZvcih2YXIgaz0wO2s8PWo7aysrKXtwLnB1c2gocG9seWdvbltrXSk7fS8vIEluc2VydCB2ZXJ0aWNlcyBpIHRvIGVuZFxuZm9yKHZhciBrPWk7azxwb2x5Z29uLmxlbmd0aDtrKyspe3AucHVzaChwb2x5Z29uW2tdKTt9fXJldHVybiBwO30vKipcbiAqIERlY29tcG9zZXMgdGhlIHBvbHlnb24gaW50byBjb252ZXggcGllY2VzLiBSZXR1cm5zIGEgbGlzdCBvZiBlZGdlcyBbW3AxLHAyXSxbcDIscDNdLC4uLl0gdGhhdCBjdXRzIHRoZSBwb2x5Z29uLlxuICogTm90ZSB0aGF0IHRoaXMgYWxnb3JpdGhtIGhhcyBjb21wbGV4aXR5IE8oTl40KSBhbmQgd2lsbCBiZSB2ZXJ5IHNsb3cgZm9yIHBvbHlnb25zIHdpdGggbWFueSB2ZXJ0aWNlcy5cbiAqIEBtZXRob2QgZ2V0Q3V0RWRnZXNcbiAqIEByZXR1cm4ge0FycmF5fVxuICovZnVuY3Rpb24gcG9seWdvbkdldEN1dEVkZ2VzKHBvbHlnb24pe3ZhciBtaW49W10sdG1wMT1bXSx0bXAyPVtdLHRtcFBvbHk9W107dmFyIG5EaWFncz1OdW1iZXIuTUFYX1ZBTFVFO2Zvcih2YXIgaT0wO2k8cG9seWdvbi5sZW5ndGg7KytpKXtpZihwb2x5Z29uSXNSZWZsZXgocG9seWdvbixpKSl7Zm9yKHZhciBqPTA7ajxwb2x5Z29uLmxlbmd0aDsrK2ope2lmKHBvbHlnb25DYW5TZWUocG9seWdvbixpLGopKXt0bXAxPXBvbHlnb25HZXRDdXRFZGdlcyhwb2x5Z29uQ29weShwb2x5Z29uLGksaix0bXBQb2x5KSk7dG1wMj1wb2x5Z29uR2V0Q3V0RWRnZXMocG9seWdvbkNvcHkocG9seWdvbixqLGksdG1wUG9seSkpO2Zvcih2YXIgaz0wO2s8dG1wMi5sZW5ndGg7aysrKXt0bXAxLnB1c2godG1wMltrXSk7fWlmKHRtcDEubGVuZ3RoPG5EaWFncyl7bWluPXRtcDE7bkRpYWdzPXRtcDEubGVuZ3RoO21pbi5wdXNoKFtwb2x5Z29uQXQocG9seWdvbixpKSxwb2x5Z29uQXQocG9seWdvbixqKV0pO319fX19cmV0dXJuIG1pbjt9LyoqXG4gKiBEZWNvbXBvc2VzIHRoZSBwb2x5Z29uIGludG8gb25lIG9yIG1vcmUgY29udmV4IHN1Yi1Qb2x5Z29ucy5cbiAqIEBtZXRob2QgZGVjb21wXG4gKiBAcmV0dXJuIHtBcnJheX0gQW4gYXJyYXkgb3IgUG9seWdvbiBvYmplY3RzLlxuICovZnVuY3Rpb24gcG9seWdvbkRlY29tcChwb2x5Z29uKXt2YXIgZWRnZXM9cG9seWdvbkdldEN1dEVkZ2VzKHBvbHlnb24pO2lmKGVkZ2VzLmxlbmd0aD4wKXtyZXR1cm4gcG9seWdvblNsaWNlKHBvbHlnb24sZWRnZXMpO31lbHNle3JldHVybltwb2x5Z29uXTt9fS8qKlxuICogU2xpY2VzIHRoZSBwb2x5Z29uIGdpdmVuIG9uZSBvciBtb3JlIGN1dCBlZGdlcy4gSWYgZ2l2ZW4gb25lLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHR3byBwb2x5Z29ucyAoZmFsc2Ugb24gZmFpbHVyZSkuIElmIG1hbnksIGFuIGFycmF5IG9mIHBvbHlnb25zLlxuICogQG1ldGhvZCBzbGljZVxuICogQHBhcmFtIHtBcnJheX0gY3V0RWRnZXMgQSBsaXN0IG9mIGVkZ2VzLCBhcyByZXR1cm5lZCBieSAuZ2V0Q3V0RWRnZXMoKVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9mdW5jdGlvbiBwb2x5Z29uU2xpY2UocG9seWdvbixjdXRFZGdlcyl7aWYoY3V0RWRnZXMubGVuZ3RoPT09MCl7cmV0dXJuW3BvbHlnb25dO31pZihjdXRFZGdlcyBpbnN0YW5jZW9mIEFycmF5JiZjdXRFZGdlcy5sZW5ndGgmJmN1dEVkZ2VzWzBdaW5zdGFuY2VvZiBBcnJheSYmY3V0RWRnZXNbMF0ubGVuZ3RoPT09MiYmY3V0RWRnZXNbMF1bMF1pbnN0YW5jZW9mIEFycmF5KXt2YXIgcG9seXM9W3BvbHlnb25dO2Zvcih2YXIgaT0wO2k8Y3V0RWRnZXMubGVuZ3RoO2krKyl7dmFyIGN1dEVkZ2U9Y3V0RWRnZXNbaV07Ly8gQ3V0IGFsbCBwb2x5c1xuZm9yKHZhciBqPTA7ajxwb2x5cy5sZW5ndGg7aisrKXt2YXIgcG9seT1wb2x5c1tqXTt2YXIgcmVzdWx0PXBvbHlnb25TbGljZShwb2x5LGN1dEVkZ2UpO2lmKHJlc3VsdCl7Ly8gRm91bmQgcG9seSEgQ3V0IGFuZCBxdWl0XG5wb2x5cy5zcGxpY2UoaiwxKTtwb2x5cy5wdXNoKHJlc3VsdFswXSxyZXN1bHRbMV0pO2JyZWFrO319fXJldHVybiBwb2x5czt9ZWxzZXsvLyBXYXMgZ2l2ZW4gb25lIGVkZ2VcbnZhciBjdXRFZGdlPWN1dEVkZ2VzO3ZhciBpPXBvbHlnb24uaW5kZXhPZihjdXRFZGdlWzBdKTt2YXIgaj1wb2x5Z29uLmluZGV4T2YoY3V0RWRnZVsxXSk7aWYoaSE9PS0xJiZqIT09LTEpe3JldHVybltwb2x5Z29uQ29weShwb2x5Z29uLGksaikscG9seWdvbkNvcHkocG9seWdvbixqLGkpXTt9ZWxzZXtyZXR1cm4gZmFsc2U7fX19LyoqXG4gKiBDaGVja3MgdGhhdCB0aGUgbGluZSBzZWdtZW50cyBvZiB0aGlzIHBvbHlnb24gZG8gbm90IGludGVyc2VjdCBlYWNoIG90aGVyLlxuICogQG1ldGhvZCBpc1NpbXBsZVxuICogQHBhcmFtICB7QXJyYXl9IHBhdGggQW4gYXJyYXkgb2YgdmVydGljZXMgZS5nLiBbWzAsMF0sWzAsMV0sLi4uXVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEB0b2RvIFNob3VsZCBpdCBjaGVjayBhbGwgc2VnbWVudHMgd2l0aCBhbGwgb3RoZXJzP1xuICovZnVuY3Rpb24gcG9seWdvbklzU2ltcGxlKHBvbHlnb24pe3ZhciBwYXRoPXBvbHlnb24saTsvLyBDaGVja1xuZm9yKGk9MDtpPHBhdGgubGVuZ3RoLTE7aSsrKXtmb3IodmFyIGo9MDtqPGktMTtqKyspe2lmKGxpbmVTZWdtZW50c0ludGVyc2VjdChwYXRoW2ldLHBhdGhbaSsxXSxwYXRoW2pdLHBhdGhbaisxXSkpe3JldHVybiBmYWxzZTt9fX0vLyBDaGVjayB0aGUgc2VnbWVudCBiZXR3ZWVuIHRoZSBsYXN0IGFuZCB0aGUgZmlyc3QgcG9pbnQgdG8gYWxsIG90aGVyc1xuZm9yKGk9MTtpPHBhdGgubGVuZ3RoLTI7aSsrKXtpZihsaW5lU2VnbWVudHNJbnRlcnNlY3QocGF0aFswXSxwYXRoW3BhdGgubGVuZ3RoLTFdLHBhdGhbaV0scGF0aFtpKzFdKSl7cmV0dXJuIGZhbHNlO319cmV0dXJuIHRydWU7fWZ1bmN0aW9uIGdldEludGVyc2VjdGlvblBvaW50KHAxLHAyLHExLHEyLGRlbHRhKXtkZWx0YT1kZWx0YXx8MDt2YXIgYTE9cDJbMV0tcDFbMV07dmFyIGIxPXAxWzBdLXAyWzBdO3ZhciBjMT1hMSpwMVswXStiMSpwMVsxXTt2YXIgYTI9cTJbMV0tcTFbMV07dmFyIGIyPXExWzBdLXEyWzBdO3ZhciBjMj1hMipxMVswXStiMipxMVsxXTt2YXIgZGV0PWExKmIyLWEyKmIxO2lmKCFzY2FsYXJfZXEoZGV0LDAsZGVsdGEpKXtyZXR1cm5bKGIyKmMxLWIxKmMyKS9kZXQsKGExKmMyLWEyKmMxKS9kZXRdO31lbHNle3JldHVyblswLDBdO319LyoqXG4gKiBRdWlja2x5IGRlY29tcG9zZSB0aGUgUG9seWdvbiBpbnRvIGNvbnZleCBzdWItcG9seWdvbnMuXG4gKiBAbWV0aG9kIHF1aWNrRGVjb21wXG4gKiBAcGFyYW0gIHtBcnJheX0gcmVzdWx0XG4gKiBAcGFyYW0gIHtBcnJheX0gW3JlZmxleFZlcnRpY2VzXVxuICogQHBhcmFtICB7QXJyYXl9IFtzdGVpbmVyUG9pbnRzXVxuICogQHBhcmFtICB7TnVtYmVyfSBbZGVsdGFdXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IFttYXhsZXZlbF1cbiAqIEBwYXJhbSAge051bWJlcn0gW2xldmVsXVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9mdW5jdGlvbiBwb2x5Z29uUXVpY2tEZWNvbXAocG9seWdvbixyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCl7bWF4bGV2ZWw9bWF4bGV2ZWx8fDEwMDtsZXZlbD1sZXZlbHx8MDtkZWx0YT1kZWx0YXx8MjU7cmVzdWx0PXR5cGVvZiByZXN1bHQhPT1cInVuZGVmaW5lZFwiP3Jlc3VsdDpbXTtyZWZsZXhWZXJ0aWNlcz1yZWZsZXhWZXJ0aWNlc3x8W107c3RlaW5lclBvaW50cz1zdGVpbmVyUG9pbnRzfHxbXTt2YXIgdXBwZXJJbnQ9WzAsMF0sbG93ZXJJbnQ9WzAsMF0scD1bMCwwXTsvLyBQb2ludHNcbnZhciB1cHBlckRpc3Q9MCxsb3dlckRpc3Q9MCxkPTAsY2xvc2VzdERpc3Q9MDsvLyBzY2FsYXJzXG52YXIgdXBwZXJJbmRleD0wLGxvd2VySW5kZXg9MCxjbG9zZXN0SW5kZXg9MDsvLyBJbnRlZ2Vyc1xudmFyIGxvd2VyUG9seT1bXSx1cHBlclBvbHk9W107Ly8gcG9seWdvbnNcbnZhciBwb2x5PXBvbHlnb24sdj1wb2x5Z29uO2lmKHYubGVuZ3RoPDMpe3JldHVybiByZXN1bHQ7fWxldmVsKys7aWYobGV2ZWw+bWF4bGV2ZWwpe2NvbnNvbGUud2FybihcInF1aWNrRGVjb21wOiBtYXggbGV2ZWwgKFwiK21heGxldmVsK1wiKSByZWFjaGVkLlwiKTtyZXR1cm4gcmVzdWx0O31mb3IodmFyIGk9MDtpPHBvbHlnb24ubGVuZ3RoOysraSl7aWYocG9seWdvbklzUmVmbGV4KHBvbHksaSkpe3JlZmxleFZlcnRpY2VzLnB1c2gocG9seVtpXSk7dXBwZXJEaXN0PWxvd2VyRGlzdD1OdW1iZXIuTUFYX1ZBTFVFO2Zvcih2YXIgaj0wO2o8cG9seWdvbi5sZW5ndGg7KytqKXtpZihpc0xlZnQocG9seWdvbkF0KHBvbHksaS0xKSxwb2x5Z29uQXQocG9seSxpKSxwb2x5Z29uQXQocG9seSxqKSkmJmlzUmlnaHRPbihwb2x5Z29uQXQocG9seSxpLTEpLHBvbHlnb25BdChwb2x5LGkpLHBvbHlnb25BdChwb2x5LGotMSkpKXsvLyBpZiBsaW5lIGludGVyc2VjdHMgd2l0aCBhbiBlZGdlXG5wPWdldEludGVyc2VjdGlvblBvaW50KHBvbHlnb25BdChwb2x5LGktMSkscG9seWdvbkF0KHBvbHksaSkscG9seWdvbkF0KHBvbHksaikscG9seWdvbkF0KHBvbHksai0xKSk7Ly8gZmluZCB0aGUgcG9pbnQgb2YgaW50ZXJzZWN0aW9uXG5pZihpc1JpZ2h0KHBvbHlnb25BdChwb2x5LGkrMSkscG9seWdvbkF0KHBvbHksaSkscCkpey8vIG1ha2Ugc3VyZSBpdCdzIGluc2lkZSB0aGUgcG9seVxuZD1zcWRpc3QocG9seVtpXSxwKTtpZihkPGxvd2VyRGlzdCl7Ly8ga2VlcCBvbmx5IHRoZSBjbG9zZXN0IGludGVyc2VjdGlvblxubG93ZXJEaXN0PWQ7bG93ZXJJbnQ9cDtsb3dlckluZGV4PWo7fX19aWYoaXNMZWZ0KHBvbHlnb25BdChwb2x5LGkrMSkscG9seWdvbkF0KHBvbHksaSkscG9seWdvbkF0KHBvbHksaisxKSkmJmlzUmlnaHRPbihwb2x5Z29uQXQocG9seSxpKzEpLHBvbHlnb25BdChwb2x5LGkpLHBvbHlnb25BdChwb2x5LGopKSl7cD1nZXRJbnRlcnNlY3Rpb25Qb2ludChwb2x5Z29uQXQocG9seSxpKzEpLHBvbHlnb25BdChwb2x5LGkpLHBvbHlnb25BdChwb2x5LGopLHBvbHlnb25BdChwb2x5LGorMSkpO2lmKGlzTGVmdChwb2x5Z29uQXQocG9seSxpLTEpLHBvbHlnb25BdChwb2x5LGkpLHApKXtkPXNxZGlzdChwb2x5W2ldLHApO2lmKGQ8dXBwZXJEaXN0KXt1cHBlckRpc3Q9ZDt1cHBlckludD1wO3VwcGVySW5kZXg9ajt9fX19Ly8gaWYgdGhlcmUgYXJlIG5vIHZlcnRpY2VzIHRvIGNvbm5lY3QgdG8sIGNob29zZSBhIHBvaW50IGluIHRoZSBtaWRkbGVcbmlmKGxvd2VySW5kZXg9PT0odXBwZXJJbmRleCsxKSVwb2x5Z29uLmxlbmd0aCl7Ly9jb25zb2xlLmxvZyhcIkNhc2UgMTogVmVydGV4KFwiK2krXCIpLCBsb3dlckluZGV4KFwiK2xvd2VySW5kZXgrXCIpLCB1cHBlckluZGV4KFwiK3VwcGVySW5kZXgrXCIpLCBwb2x5LnNpemUoXCIrcG9seWdvbi5sZW5ndGgrXCIpXCIpO1xucFswXT0obG93ZXJJbnRbMF0rdXBwZXJJbnRbMF0pLzI7cFsxXT0obG93ZXJJbnRbMV0rdXBwZXJJbnRbMV0pLzI7c3RlaW5lclBvaW50cy5wdXNoKHApO2lmKGk8dXBwZXJJbmRleCl7Ly9sb3dlclBvbHkuaW5zZXJ0KGxvd2VyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpICsgaSwgcG9seS5iZWdpbigpICsgdXBwZXJJbmRleCArIDEpO1xucG9seWdvbkFwcGVuZChsb3dlclBvbHkscG9seSxpLHVwcGVySW5kZXgrMSk7bG93ZXJQb2x5LnB1c2gocCk7dXBwZXJQb2x5LnB1c2gocCk7aWYobG93ZXJJbmRleCE9PTApey8vdXBwZXJQb2x5Lmluc2VydCh1cHBlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGxvd2VySW5kZXgsIHBvbHkuZW5kKCkpO1xucG9seWdvbkFwcGVuZCh1cHBlclBvbHkscG9seSxsb3dlckluZGV4LHBvbHkubGVuZ3RoKTt9Ly91cHBlclBvbHkuaW5zZXJ0KHVwcGVyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpLCBwb2x5LmJlZ2luKCkgKyBpICsgMSk7XG5wb2x5Z29uQXBwZW5kKHVwcGVyUG9seSxwb2x5LDAsaSsxKTt9ZWxzZXtpZihpIT09MCl7Ly9sb3dlclBvbHkuaW5zZXJ0KGxvd2VyUG9seS5lbmQoKSwgcG9seS5iZWdpbigpICsgaSwgcG9seS5lbmQoKSk7XG5wb2x5Z29uQXBwZW5kKGxvd2VyUG9seSxwb2x5LGkscG9seS5sZW5ndGgpO30vL2xvd2VyUG9seS5pbnNlcnQobG93ZXJQb2x5LmVuZCgpLCBwb2x5LmJlZ2luKCksIHBvbHkuYmVnaW4oKSArIHVwcGVySW5kZXggKyAxKTtcbnBvbHlnb25BcHBlbmQobG93ZXJQb2x5LHBvbHksMCx1cHBlckluZGV4KzEpO2xvd2VyUG9seS5wdXNoKHApO3VwcGVyUG9seS5wdXNoKHApOy8vdXBwZXJQb2x5Lmluc2VydCh1cHBlclBvbHkuZW5kKCksIHBvbHkuYmVnaW4oKSArIGxvd2VySW5kZXgsIHBvbHkuYmVnaW4oKSArIGkgKyAxKTtcbnBvbHlnb25BcHBlbmQodXBwZXJQb2x5LHBvbHksbG93ZXJJbmRleCxpKzEpO319ZWxzZXsvLyBjb25uZWN0IHRvIHRoZSBjbG9zZXN0IHBvaW50IHdpdGhpbiB0aGUgdHJpYW5nbGVcbi8vY29uc29sZS5sb2coXCJDYXNlIDI6IFZlcnRleChcIitpK1wiKSwgY2xvc2VzdEluZGV4KFwiK2Nsb3Nlc3RJbmRleCtcIiksIHBvbHkuc2l6ZShcIitwb2x5Z29uLmxlbmd0aCtcIilcXG5cIik7XG5pZihsb3dlckluZGV4PnVwcGVySW5kZXgpe3VwcGVySW5kZXgrPXBvbHlnb24ubGVuZ3RoO31jbG9zZXN0RGlzdD1OdW1iZXIuTUFYX1ZBTFVFO2lmKHVwcGVySW5kZXg8bG93ZXJJbmRleCl7cmV0dXJuIHJlc3VsdDt9Zm9yKHZhciBqPWxvd2VySW5kZXg7ajw9dXBwZXJJbmRleDsrK2ope2lmKGlzTGVmdE9uKHBvbHlnb25BdChwb2x5LGktMSkscG9seWdvbkF0KHBvbHksaSkscG9seWdvbkF0KHBvbHksaikpJiZpc1JpZ2h0T24ocG9seWdvbkF0KHBvbHksaSsxKSxwb2x5Z29uQXQocG9seSxpKSxwb2x5Z29uQXQocG9seSxqKSkpe2Q9c3FkaXN0KHBvbHlnb25BdChwb2x5LGkpLHBvbHlnb25BdChwb2x5LGopKTtpZihkPGNsb3Nlc3REaXN0KXtjbG9zZXN0RGlzdD1kO2Nsb3Nlc3RJbmRleD1qJXBvbHlnb24ubGVuZ3RoO319fWlmKGk8Y2xvc2VzdEluZGV4KXtwb2x5Z29uQXBwZW5kKGxvd2VyUG9seSxwb2x5LGksY2xvc2VzdEluZGV4KzEpO2lmKGNsb3Nlc3RJbmRleCE9PTApe3BvbHlnb25BcHBlbmQodXBwZXJQb2x5LHBvbHksY2xvc2VzdEluZGV4LHYubGVuZ3RoKTt9cG9seWdvbkFwcGVuZCh1cHBlclBvbHkscG9seSwwLGkrMSk7fWVsc2V7aWYoaSE9PTApe3BvbHlnb25BcHBlbmQobG93ZXJQb2x5LHBvbHksaSx2Lmxlbmd0aCk7fXBvbHlnb25BcHBlbmQobG93ZXJQb2x5LHBvbHksMCxjbG9zZXN0SW5kZXgrMSk7cG9seWdvbkFwcGVuZCh1cHBlclBvbHkscG9seSxjbG9zZXN0SW5kZXgsaSsxKTt9fS8vIHNvbHZlIHNtYWxsZXN0IHBvbHkgZmlyc3RcbmlmKGxvd2VyUG9seS5sZW5ndGg8dXBwZXJQb2x5Lmxlbmd0aCl7cG9seWdvblF1aWNrRGVjb21wKGxvd2VyUG9seSxyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7cG9seWdvblF1aWNrRGVjb21wKHVwcGVyUG9seSxyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7fWVsc2V7cG9seWdvblF1aWNrRGVjb21wKHVwcGVyUG9seSxyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7cG9seWdvblF1aWNrRGVjb21wKGxvd2VyUG9seSxyZXN1bHQscmVmbGV4VmVydGljZXMsc3RlaW5lclBvaW50cyxkZWx0YSxtYXhsZXZlbCxsZXZlbCk7fXJldHVybiByZXN1bHQ7fX1yZXN1bHQucHVzaChwb2x5Z29uKTtyZXR1cm4gcmVzdWx0O30vKipcbiAqIFJlbW92ZSBjb2xsaW5lYXIgcG9pbnRzIGluIHRoZSBwb2x5Z29uLlxuICogQG1ldGhvZCByZW1vdmVDb2xsaW5lYXJQb2ludHNcbiAqIEBwYXJhbSAge051bWJlcn0gW3ByZWNpc2lvbl0gVGhlIHRocmVzaG9sZCBhbmdsZSB0byB1c2Ugd2hlbiBkZXRlcm1pbmluZyB3aGV0aGVyIHR3byBlZGdlcyBhcmUgY29sbGluZWFyLiBVc2UgemVybyBmb3IgZmluZXN0IHByZWNpc2lvbi5cbiAqIEByZXR1cm4ge051bWJlcn0gICAgICAgICAgIFRoZSBudW1iZXIgb2YgcG9pbnRzIHJlbW92ZWRcbiAqL2Z1bmN0aW9uIHBvbHlnb25SZW1vdmVDb2xsaW5lYXJQb2ludHMocG9seWdvbixwcmVjaXNpb24pe3ZhciBudW09MDtmb3IodmFyIGk9cG9seWdvbi5sZW5ndGgtMTtwb2x5Z29uLmxlbmd0aD4zJiZpPj0wOy0taSl7aWYoY29sbGluZWFyKHBvbHlnb25BdChwb2x5Z29uLGktMSkscG9seWdvbkF0KHBvbHlnb24saSkscG9seWdvbkF0KHBvbHlnb24saSsxKSxwcmVjaXNpb24pKXsvLyBSZW1vdmUgdGhlIG1pZGRsZSBwb2ludFxucG9seWdvbi5zcGxpY2UoaSVwb2x5Z29uLmxlbmd0aCwxKTtudW0rKzt9fXJldHVybiBudW07fS8qKlxuICogQ2hlY2sgaWYgdHdvIHNjYWxhcnMgYXJlIGVxdWFsXG4gKiBAc3RhdGljXG4gKiBAbWV0aG9kIGVxXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGFcbiAqIEBwYXJhbSAge051bWJlcn0gYlxuICogQHBhcmFtICB7TnVtYmVyfSBbcHJlY2lzaW9uXVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL2Z1bmN0aW9uIHNjYWxhcl9lcShhLGIscHJlY2lzaW9uKXtwcmVjaXNpb249cHJlY2lzaW9ufHwwO3JldHVybiBNYXRoLmFicyhhLWIpPHByZWNpc2lvbjt9LyoqKi99LC8qIDkwOCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5VdGlsc1xubW9kdWxlLmV4cG9ydHM9e0FsaWduOl9fd2VicGFja19yZXF1aXJlX18oOTA5KSxBcnJheTpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyMiksQm91bmRzOl9fd2VicGFja19yZXF1aXJlX18oOTI3KSxPYmplY3RzOl9fd2VicGFja19yZXF1aXJlX18oOTMwKSxTdHJpbmc6X193ZWJwYWNrX3JlcXVpcmVfXyg5MzQpfTsvKioqL30sLyogOTA5ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLlV0aWxzLkFsaWduXG5tb2R1bGUuZXhwb3J0cz17SW5Cb3R0b21DZW50ZXI6X193ZWJwYWNrX3JlcXVpcmVfXygxMDEpLEluQm90dG9tTGVmdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMiksSW5Cb3R0b21SaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyksSW5DZW50ZXI6X193ZWJwYWNrX3JlcXVpcmVfXygxMDQpLEluTGVmdENlbnRlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNiksSW5SaWdodENlbnRlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyksSW5Ub3BDZW50ZXI6X193ZWJwYWNrX3JlcXVpcmVfXygxMDgpLEluVG9wTGVmdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOSksSW5Ub3BSaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDExMCksVG9Cb3R0b21DZW50ZXI6X193ZWJwYWNrX3JlcXVpcmVfXyg5MTApLFRvQm90dG9tTGVmdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkxMSksVG9Cb3R0b21SaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkxMiksVG9MZWZ0Qm90dG9tOl9fd2VicGFja19yZXF1aXJlX18oOTEzKSxUb0xlZnRDZW50ZXI6X193ZWJwYWNrX3JlcXVpcmVfXyg5MTQpLFRvTGVmdFRvcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkxNSksVG9SaWdodEJvdHRvbTpfX3dlYnBhY2tfcmVxdWlyZV9fKDkxNiksVG9SaWdodENlbnRlcjpfX3dlYnBhY2tfcmVxdWlyZV9fKDkxNyksVG9SaWdodFRvcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkxOCksVG9Ub3BDZW50ZXI6X193ZWJwYWNrX3JlcXVpcmVfXyg5MTkpLFRvVG9wTGVmdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyMCksVG9Ub3BSaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyMSl9Oy8qKiovfSwvKiA5MTAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRDZW50ZXJYPV9fd2VicGFja19yZXF1aXJlX18oMzIpO3ZhciBHZXRCb3R0b209X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFNldENlbnRlclg9X193ZWJwYWNrX3JlcXVpcmVfXygzMyk7dmFyIFNldFRvcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTt2YXIgVG9Cb3R0b21DZW50ZXI9ZnVuY3Rpb24gVG9Cb3R0b21DZW50ZXIoZ2FtZU9iamVjdCxwYXJlbnQsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0Q2VudGVyWChnYW1lT2JqZWN0LEdldENlbnRlclgocGFyZW50KStvZmZzZXRYKTtTZXRUb3AoZ2FtZU9iamVjdCxHZXRCb3R0b20ocGFyZW50KStvZmZzZXRZKTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPVRvQm90dG9tQ2VudGVyOy8qKiovfSwvKiA5MTEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRMZWZ0PV9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBHZXRCb3R0b209X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFNldExlZnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOCk7dmFyIFNldFRvcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTt2YXIgVG9Cb3R0b21MZWZ0PWZ1bmN0aW9uIFRvQm90dG9tTGVmdChnYW1lT2JqZWN0LHBhcmVudCxvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31TZXRMZWZ0KGdhbWVPYmplY3QsR2V0TGVmdChwYXJlbnQpLW9mZnNldFgpO1NldFRvcChnYW1lT2JqZWN0LEdldEJvdHRvbShwYXJlbnQpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9Cb3R0b21MZWZ0Oy8qKiovfSwvKiA5MTIgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTt2YXIgR2V0Qm90dG9tPV9fd2VicGFja19yZXF1aXJlX18oMTUpO3ZhciBTZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTt2YXIgU2V0VG9wPV9fd2VicGFja19yZXF1aXJlX18oMjIpO3ZhciBUb0JvdHRvbVJpZ2h0PWZ1bmN0aW9uIFRvQm90dG9tUmlnaHQoZ2FtZU9iamVjdCxwYXJlbnQsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0UmlnaHQoZ2FtZU9iamVjdCxHZXRSaWdodChwYXJlbnQpK29mZnNldFgpO1NldFRvcChnYW1lT2JqZWN0LEdldEJvdHRvbShwYXJlbnQpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9Cb3R0b21SaWdodDsvKioqL30sLyogOTEzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0TGVmdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTt2YXIgR2V0Qm90dG9tPV9fd2VicGFja19yZXF1aXJlX18oMTUpO3ZhciBTZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTt2YXIgU2V0Qm90dG9tPV9fd2VicGFja19yZXF1aXJlX18oMTYpO3ZhciBUb0xlZnRCb3R0b209ZnVuY3Rpb24gVG9MZWZ0Qm90dG9tKGdhbWVPYmplY3QscGFyZW50LG9mZnNldFgsb2Zmc2V0WSl7aWYob2Zmc2V0WD09PXVuZGVmaW5lZCl7b2Zmc2V0WD0wO31pZihvZmZzZXRZPT09dW5kZWZpbmVkKXtvZmZzZXRZPTA7fVNldFJpZ2h0KGdhbWVPYmplY3QsR2V0TGVmdChwYXJlbnQpLW9mZnNldFgpO1NldEJvdHRvbShnYW1lT2JqZWN0LEdldEJvdHRvbShwYXJlbnQpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9MZWZ0Qm90dG9tOy8qKiovfSwvKiA5MTQgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRMZWZ0PV9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBHZXRDZW50ZXJZPV9fd2VicGFja19yZXF1aXJlX18oMzQpO3ZhciBTZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTt2YXIgU2V0Q2VudGVyWT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTt2YXIgVG9MZWZ0Q2VudGVyPWZ1bmN0aW9uIFRvTGVmdENlbnRlcihnYW1lT2JqZWN0LHBhcmVudCxvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31TZXRSaWdodChnYW1lT2JqZWN0LEdldExlZnQocGFyZW50KS1vZmZzZXRYKTtTZXRDZW50ZXJZKGdhbWVPYmplY3QsR2V0Q2VudGVyWShwYXJlbnQpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9MZWZ0Q2VudGVyOy8qKiovfSwvKiA5MTUgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRMZWZ0PV9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBHZXRUb3A9X193ZWJwYWNrX3JlcXVpcmVfXygyMSk7dmFyIFNldFJpZ2h0PV9fd2VicGFja19yZXF1aXJlX18oMjApO3ZhciBTZXRUb3A9X193ZWJwYWNrX3JlcXVpcmVfXygyMik7dmFyIFRvTGVmdFRvcD1mdW5jdGlvbiBUb0xlZnRUb3AoZ2FtZU9iamVjdCxwYXJlbnQsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0UmlnaHQoZ2FtZU9iamVjdCxHZXRMZWZ0KHBhcmVudCktb2Zmc2V0WCk7U2V0VG9wKGdhbWVPYmplY3QsR2V0VG9wKHBhcmVudCktb2Zmc2V0WSk7cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1Ub0xlZnRUb3A7LyoqKi99LC8qIDkxNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIEdldFJpZ2h0PV9fd2VicGFja19yZXF1aXJlX18oMTkpO3ZhciBHZXRCb3R0b209X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFNldExlZnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOCk7dmFyIFNldEJvdHRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTt2YXIgVG9SaWdodEJvdHRvbT1mdW5jdGlvbiBUb1JpZ2h0Qm90dG9tKGdhbWVPYmplY3QscGFyZW50LG9mZnNldFgsb2Zmc2V0WSl7aWYob2Zmc2V0WD09PXVuZGVmaW5lZCl7b2Zmc2V0WD0wO31pZihvZmZzZXRZPT09dW5kZWZpbmVkKXtvZmZzZXRZPTA7fVNldExlZnQoZ2FtZU9iamVjdCxHZXRSaWdodChwYXJlbnQpK29mZnNldFgpO1NldEJvdHRvbShnYW1lT2JqZWN0LEdldEJvdHRvbShwYXJlbnQpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9SaWdodEJvdHRvbTsvKioqL30sLyogOTE3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0UmlnaHQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOSk7dmFyIEdldENlbnRlclk9X193ZWJwYWNrX3JlcXVpcmVfXygzNCk7dmFyIFNldExlZnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOCk7dmFyIFNldENlbnRlclk9X193ZWJwYWNrX3JlcXVpcmVfXygzNSk7dmFyIFRvUmlnaHRUb3A9ZnVuY3Rpb24gVG9SaWdodFRvcChnYW1lT2JqZWN0LHBhcmVudCxvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31TZXRMZWZ0KGdhbWVPYmplY3QsR2V0UmlnaHQocGFyZW50KStvZmZzZXRYKTtTZXRDZW50ZXJZKGdhbWVPYmplY3QsR2V0Q2VudGVyWShwYXJlbnQpK29mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9SaWdodFRvcDsvKioqL30sLyogOTE4ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0UmlnaHQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOSk7dmFyIEdldFRvcD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTt2YXIgU2V0TGVmdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTt2YXIgU2V0VG9wPV9fd2VicGFja19yZXF1aXJlX18oMjIpO3ZhciBUb1JpZ2h0VG9wPWZ1bmN0aW9uIFRvUmlnaHRUb3AoZ2FtZU9iamVjdCxwYXJlbnQsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0TGVmdChnYW1lT2JqZWN0LEdldFJpZ2h0KHBhcmVudCkrb2Zmc2V0WCk7U2V0VG9wKGdhbWVPYmplY3QsR2V0VG9wKHBhcmVudCktb2Zmc2V0WSk7cmV0dXJuIGdhbWVPYmplY3Q7fTttb2R1bGUuZXhwb3J0cz1Ub1JpZ2h0VG9wOy8qKiovfSwvKiA5MTkgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRDZW50ZXJYPV9fd2VicGFja19yZXF1aXJlX18oMzIpO3ZhciBHZXRUb3A9X193ZWJwYWNrX3JlcXVpcmVfXygyMSk7dmFyIFNldENlbnRlclg9X193ZWJwYWNrX3JlcXVpcmVfXygzMyk7dmFyIFNldEJvdHRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTt2YXIgVG9Ub3BDZW50ZXI9ZnVuY3Rpb24gVG9Ub3BDZW50ZXIoZ2FtZU9iamVjdCxwYXJlbnQsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0Q2VudGVyWChnYW1lT2JqZWN0LEdldENlbnRlclgocGFyZW50KStvZmZzZXRYKTtTZXRCb3R0b20oZ2FtZU9iamVjdCxHZXRUb3AocGFyZW50KS1vZmZzZXRZKTtyZXR1cm4gZ2FtZU9iamVjdDt9O21vZHVsZS5leHBvcnRzPVRvVG9wQ2VudGVyOy8qKiovfSwvKiA5MjAgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRMZWZ0PV9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBHZXRUb3A9X193ZWJwYWNrX3JlcXVpcmVfXygyMSk7dmFyIFNldExlZnQ9X193ZWJwYWNrX3JlcXVpcmVfXygxOCk7dmFyIFNldEJvdHRvbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTt2YXIgVG9Ub3BMZWZ0PWZ1bmN0aW9uIFRvVG9wTGVmdChnYW1lT2JqZWN0LHBhcmVudCxvZmZzZXRYLG9mZnNldFkpe2lmKG9mZnNldFg9PT11bmRlZmluZWQpe29mZnNldFg9MDt9aWYob2Zmc2V0WT09PXVuZGVmaW5lZCl7b2Zmc2V0WT0wO31TZXRMZWZ0KGdhbWVPYmplY3QsR2V0TGVmdChwYXJlbnQpLW9mZnNldFgpO1NldEJvdHRvbShnYW1lT2JqZWN0LEdldFRvcChwYXJlbnQpLW9mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9Ub3BMZWZ0Oy8qKiovfSwvKiA5MjEgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBHZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KTt2YXIgR2V0VG9wPV9fd2VicGFja19yZXF1aXJlX18oMjEpO3ZhciBTZXRSaWdodD1fX3dlYnBhY2tfcmVxdWlyZV9fKDIwKTt2YXIgU2V0Qm90dG9tPV9fd2VicGFja19yZXF1aXJlX18oMTYpO3ZhciBUb1RvcFJpZ2h0PWZ1bmN0aW9uIFRvVG9wUmlnaHQoZ2FtZU9iamVjdCxwYXJlbnQsb2Zmc2V0WCxvZmZzZXRZKXtpZihvZmZzZXRYPT09dW5kZWZpbmVkKXtvZmZzZXRYPTA7fWlmKG9mZnNldFk9PT11bmRlZmluZWQpe29mZnNldFk9MDt9U2V0UmlnaHQoZ2FtZU9iamVjdCxHZXRSaWdodChwYXJlbnQpK29mZnNldFgpO1NldEJvdHRvbShnYW1lT2JqZWN0LEdldFRvcChwYXJlbnQpLW9mZnNldFkpO3JldHVybiBnYW1lT2JqZWN0O307bW9kdWxlLmV4cG9ydHM9VG9Ub3BSaWdodDsvKioqL30sLyogOTIyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLlV0aWxzLkFycmF5XG5tb2R1bGUuZXhwb3J0cz17RmluZENsb3Nlc3RJblNvcnRlZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyMyksR2V0UmFuZG9tRWxlbWVudDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyNCksTnVtYmVyQXJyYXk6X193ZWJwYWNrX3JlcXVpcmVfXygxODApLE51bWJlckFycmF5U3RlcDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyNSksUXVpY2tTZWxlY3Q6X193ZWJwYWNrX3JlcXVpcmVfXygyMTMpLFJhbmdlOl9fd2VicGFja19yZXF1aXJlX18oMTc0KSxSZW1vdmVSYW5kb21FbGVtZW50Ol9fd2VicGFja19yZXF1aXJlX18oOTI2KSxSb3RhdGVMZWZ0Ol9fd2VicGFja19yZXF1aXJlX18oMTE1KSxSb3RhdGVSaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDExNiksU2h1ZmZsZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSksU3BsaWNlT25lOl9fd2VicGFja19yZXF1aXJlX18oMjE2KX07LyoqKi99LC8qIDkyMyAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBTbmFwcyBhIHZhbHVlIHRvIHRoZSBuZWFyZXN0IHZhbHVlIGluIGFuIGFycmF5LlxuKiBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGluIHRoZSByYW5nZSBgW2ZpcnN0X3ZhbHVlLCBsYXN0X3ZhbHVlXWAuXG4qXG4qIEBtZXRob2RcbiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIHNlYXJjaCB2YWx1ZVxuKiBAcGFyYW0ge251bWJlcltdfSBhcnIgLSBUaGUgaW5wdXQgYXJyYXkgd2hpY2ggX211c3RfIGJlIHNvcnRlZC5cbiogQHJldHVybiB7bnVtYmVyfSBUaGUgbmVhcmVzdCB2YWx1ZSBmb3VuZC5cbiovdmFyIEZpbmRDbG9zZXN0SW5Tb3J0ZWQ9ZnVuY3Rpb24gRmluZENsb3Nlc3RJblNvcnRlZCh2YWx1ZSxhcnJheSl7aWYoIWFycmF5Lmxlbmd0aCl7cmV0dXJuIE5hTjt9ZWxzZSBpZihhcnJheS5sZW5ndGg9PT0xfHx2YWx1ZTxhcnJheVswXSl7cmV0dXJuIGFycmF5WzBdO312YXIgaT0xO3doaWxlKGFycmF5W2ldPHZhbHVlKXtpKys7fXZhciBsb3c9YXJyYXlbaS0xXTt2YXIgaGlnaD1pPGFycmF5Lmxlbmd0aD9hcnJheVtpXTpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7cmV0dXJuIGhpZ2gtdmFsdWU8PXZhbHVlLWxvdz9oaWdoOmxvdzt9O21vZHVsZS5leHBvcnRzPUZpbmRDbG9zZXN0SW5Tb3J0ZWQ7LyoqKi99LC8qIDkyNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBGZXRjaCBhIHJhbmRvbSBlbnRyeSBmcm9tIHRoZSBnaXZlbiBhcnJheS5cbipcbiogV2lsbCByZXR1cm4gbnVsbCBpZiB0aGVyZSBhcmUgbm8gYXJyYXkgaXRlbXMgdGhhdCBmYWxsIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHJhbmdlXG4qIG9yIGlmIHRoZXJlIGlzIG5vIGl0ZW0gZm9yIHRoZSByYW5kb21seSBjaG9zZW4gaW5kZXguXG4qXG4qIEBtZXRob2RcbiogQHBhcmFtIHthbnlbXX0gb2JqZWN0cyAtIEFuIGFycmF5IG9mIG9iamVjdHMuXG4qIEBwYXJhbSB7aW50ZWdlcn0gc3RhcnRJbmRleCAtIE9wdGlvbmFsIG9mZnNldCBvZmYgdGhlIGZyb250IG9mIHRoZSBhcnJheS4gRGVmYXVsdCB2YWx1ZSBpcyAwLCBvciB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheS5cbiogQHBhcmFtIHtpbnRlZ2VyfSBsZW5ndGggLSBPcHRpb25hbCByZXN0cmljdGlvbiBvbiB0aGUgbnVtYmVyIG9mIHZhbHVlcyB5b3Ugd2FudCB0byByYW5kb21seSBzZWxlY3QgZnJvbS5cbiogQHJldHVybiB7b2JqZWN0fSBUaGUgcmFuZG9tIG9iamVjdCB0aGF0IHdhcyBzZWxlY3RlZC5cbiovdmFyIEdldFJhbmRvbUVsZW1lbnQ9ZnVuY3Rpb24gR2V0UmFuZG9tRWxlbWVudChhcnJheSxzdGFydCxsZW5ndGgpe2lmKHN0YXJ0PT09dW5kZWZpbmVkKXtzdGFydD0wO31pZihsZW5ndGg9PT11bmRlZmluZWQpe2xlbmd0aD1hcnJheS5sZW5ndGg7fXZhciByYW5kb21JbmRleD1zdGFydCtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGVuZ3RoKTtyZXR1cm4gYXJyYXlbcmFuZG9tSW5kZXhdPT09dW5kZWZpbmVkP251bGw6YXJyYXlbcmFuZG9tSW5kZXhdO307bW9kdWxlLmV4cG9ydHM9R2V0UmFuZG9tRWxlbWVudDsvKioqL30sLyogOTI1ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgUm91bmRBd2F5RnJvbVplcm89X193ZWJwYWNrX3JlcXVpcmVfXygxNDcpOy8qKlxuKiBDcmVhdGUgYW4gYXJyYXkgb2YgbnVtYmVycyAocG9zaXRpdmUgYW5kL29yIG5lZ2F0aXZlKSBwcm9ncmVzc2luZyBmcm9tIGBzdGFydGBcbiogdXAgdG8gYnV0IG5vdCBpbmNsdWRpbmcgYGVuZGAgYnkgYWR2YW5jaW5nIGJ5IGBzdGVwYC5cbipcbiogSWYgYHN0YXJ0YCBpcyBsZXNzIHRoYW4gYGVuZGAgYSB6ZXJvLWxlbmd0aCByYW5nZSBpcyBjcmVhdGVkIHVubGVzcyBhIG5lZ2F0aXZlIGBzdGVwYCBpcyBzcGVjaWZpZWQuXG4qXG4qIENlcnRhaW4gdmFsdWVzIGZvciBgc3RhcnRgIGFuZCBgZW5kYCAoZWcuIE5hTi91bmRlZmluZWQvbnVsbCkgYXJlIGN1cnJlbnRseSBjb2VyY2VkIHRvIDA7XG4qIGZvciBmb3J3YXJkIGNvbXBhdGliaWxpdHkgbWFrZSBzdXJlIHRvIHBhc3MgaW4gYWN0dWFsIG51bWJlcnMuXG4qXG4qIEBtZXRob2QgUGhhc2VyLkFycmF5VXRpbHMjbnVtYmVyQXJyYXlTdGVwXG4qIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4qIEBwYXJhbSB7bnVtYmVyfSBbZW5kXSAtIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gLSBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgbnVtYmVycy5cbiogQGV4YW1wbGVcbiogTnVtYmVyQXJyYXlTdGVwKDQpO1xuKiAvLyA9PiBbMCwgMSwgMiwgM11cbipcbiogTnVtYmVyQXJyYXlTdGVwKDEsIDUpO1xuKiAvLyA9PiBbMSwgMiwgMywgNF1cbipcbiogTnVtYmVyQXJyYXlTdGVwKDAsIDIwLCA1KTtcbiogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbipcbiogTnVtYmVyQXJyYXlTdGVwKDAsIC00LCAtMSk7XG4qIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuKlxuKiBOdW1iZXJBcnJheVN0ZXAoMSwgNCwgMCk7XG4qIC8vID0+IFsxLCAxLCAxXVxuKlxuKiBOdW1iZXJBcnJheVN0ZXAoMCk7XG4qIC8vID0+IFtdXG4qL3ZhciBOdW1iZXJBcnJheVN0ZXA9ZnVuY3Rpb24gTnVtYmVyQXJyYXlTdGVwKHN0YXJ0LGVuZCxzdGVwKXtpZihzdGFydD09PXVuZGVmaW5lZCl7c3RhcnQ9MDt9aWYoZW5kPT09dW5kZWZpbmVkKXtlbmQ9bnVsbDt9aWYoc3RlcD09PXVuZGVmaW5lZCl7c3RlcD0xO31pZihlbmQ9PT1udWxsKXtlbmQ9c3RhcnQ7c3RhcnQ9MDt9dmFyIHJlc3VsdD1bXTt2YXIgdG90YWw9TWF0aC5tYXgoUm91bmRBd2F5RnJvbVplcm8oKGVuZC1zdGFydCkvKHN0ZXB8fDEpKSwwKTtmb3IodmFyIGk9MDtpPHRvdGFsO2krKyl7cmVzdWx0LnB1c2goc3RhcnQpO3N0YXJ0Kz1zdGVwO31yZXR1cm4gcmVzdWx0O307bW9kdWxlLmV4cG9ydHM9TnVtYmVyQXJyYXlTdGVwOy8qKiovfSwvKiA5MjYgKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBTcGxpY2VPbmU9X193ZWJwYWNrX3JlcXVpcmVfXygyMTYpOy8qKlxuKiBSZW1vdmVzIGEgcmFuZG9tIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBhcnJheSBhbmQgcmV0dXJucyBpdC5cbipcbiogV2lsbCByZXR1cm4gbnVsbCBpZiB0aGVyZSBhcmUgbm8gYXJyYXkgaXRlbXMgdGhhdCBmYWxsIHdpdGhpbiB0aGUgc3BlY2lmaWVkIHJhbmdlXG4qIG9yIGlmIHRoZXJlIGlzIG5vIGl0ZW0gZm9yIHRoZSByYW5kb21seSBjaG9zZW4gaW5kZXguXG4qXG4qIEBtZXRob2RcbiogQHBhcmFtIHthbnlbXX0gb2JqZWN0cyAtIEFuIGFycmF5IG9mIG9iamVjdHMuXG4qIEBwYXJhbSB7aW50ZWdlcn0gc3RhcnRJbmRleCAtIE9wdGlvbmFsIG9mZnNldCBvZmYgdGhlIGZyb250IG9mIHRoZSBhcnJheS4gRGVmYXVsdCB2YWx1ZSBpcyAwLCBvciB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheS5cbiogQHBhcmFtIHtpbnRlZ2VyfSBsZW5ndGggLSBPcHRpb25hbCByZXN0cmljdGlvbiBvbiB0aGUgbnVtYmVyIG9mIHZhbHVlcyB5b3Ugd2FudCB0byByYW5kb21seSBzZWxlY3QgZnJvbS5cbiogQHJldHVybiB7b2JqZWN0fSBUaGUgcmFuZG9tIG9iamVjdCB0aGF0IHdhcyByZW1vdmVkLlxuKi92YXIgUmVtb3ZlUmFuZG9tRWxlbWVudD1mdW5jdGlvbiBSZW1vdmVSYW5kb21FbGVtZW50KGFycmF5LHN0YXJ0LGxlbmd0aCl7aWYoc3RhcnQ9PT11bmRlZmluZWQpe3N0YXJ0PTA7fWlmKGxlbmd0aD09PXVuZGVmaW5lZCl7bGVuZ3RoPWFycmF5Lmxlbmd0aDt9dmFyIHJhbmRvbUluZGV4PXN0YXJ0K01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpsZW5ndGgpO3JldHVybiBTcGxpY2VPbmUoYXJyYXkscmFuZG9tSW5kZXgpO307bW9kdWxlLmV4cG9ydHM9UmVtb3ZlUmFuZG9tRWxlbWVudDsvKioqL30sLyogOTI3ICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgUGhhc2VyLlV0aWxzLkJvdW5kc1xubW9kdWxlLmV4cG9ydHM9e0NlbnRlck9uOl9fd2VicGFja19yZXF1aXJlX18oMTA1KSxHZXRCb3R0b206X193ZWJwYWNrX3JlcXVpcmVfXygxNSksR2V0Q2VudGVyWDpfX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxHZXRDZW50ZXJZOl9fd2VicGFja19yZXF1aXJlX18oMzQpLEdldExlZnQ6X193ZWJwYWNrX3JlcXVpcmVfXygxNyksR2V0T2Zmc2V0WDpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyOCksR2V0T2Zmc2V0WTpfX3dlYnBhY2tfcmVxdWlyZV9fKDkyOSksR2V0UmlnaHQ6X193ZWJwYWNrX3JlcXVpcmVfXygxOSksR2V0VG9wOl9fd2VicGFja19yZXF1aXJlX18oMjEpLFNldEJvdHRvbTpfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxTZXRDZW50ZXJYOl9fd2VicGFja19yZXF1aXJlX18oMzMpLFNldENlbnRlclk6X193ZWJwYWNrX3JlcXVpcmVfXygzNSksU2V0TGVmdDpfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxTZXRSaWdodDpfX3dlYnBhY2tfcmVxdWlyZV9fKDIwKSxTZXRUb3A6X193ZWJwYWNrX3JlcXVpcmVfXygyMil9Oy8qKiovfSwvKiA5MjggKi8vKioqL2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXsvKipcbiogVGhlIGFtb3VudCB0aGUgR2FtZSBPYmplY3QgaXMgdmlzdWFsbHkgb2Zmc2V0IGZyb20gaXRzIHggY29vcmRpbmF0ZS5cbiogVGhpcyBpcyB0aGUgc2FtZSBhcyBgd2lkdGggKiBvcmlnaW4ueGAuXG4qIEl0IHdpbGwgb25seSBiZSA+IDAgaWYgb3JpZ2luLnggaXMgbm90IGVxdWFsIHRvIHplcm8uXG4qXG4qIEBwcm9wZXJ0eSB7bnVtYmVyfSBvZmZzZXRYXG4qIEByZWFkT25seVxuKi92YXIgR2V0T2Zmc2V0WD1mdW5jdGlvbiBHZXRPZmZzZXRYKGdhbWVPYmplY3Qpe3JldHVybiBnYW1lT2JqZWN0LndpZHRoKmdhbWVPYmplY3Qub3JpZ2luWDt9O21vZHVsZS5leHBvcnRzPUdldE9mZnNldFg7LyoqKi99LC8qIDkyOSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUaGUgYW1vdW50IHRoZSBHYW1lIE9iamVjdCBpcyB2aXN1YWxseSBvZmZzZXQgZnJvbSBpdHMgeCBjb29yZGluYXRlLlxuKiBUaGlzIGlzIHRoZSBzYW1lIGFzIGB3aWR0aCAqIG9yaWdpbi54YC5cbiogSXQgd2lsbCBvbmx5IGJlID4gMCBpZiBvcmlnaW4ueCBpcyBub3QgZXF1YWwgdG8gemVyby5cbipcbiogQHByb3BlcnR5IHtudW1iZXJ9IG9mZnNldFhcbiogQHJlYWRPbmx5XG4qL3ZhciBHZXRPZmZzZXRZPWZ1bmN0aW9uIEdldE9mZnNldFkoZ2FtZU9iamVjdCl7cmV0dXJuIGdhbWVPYmplY3QuaGVpZ2h0KmdhbWVPYmplY3Qub3JpZ2luWTt9O21vZHVsZS5leHBvcnRzPUdldE9mZnNldFk7LyoqKi99LC8qIDkzMCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7Ly8gIFBoYXNlci5VdGlscy5PYmplY3Rcbm1vZHVsZS5leHBvcnRzPXtDbG9uZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KSxFeHRlbmQ6X193ZWJwYWNrX3JlcXVpcmVfXyg2MCksR2V0QWR2YW5jZWRWYWx1ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDUpLEdldEZhc3RWYWx1ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDcpLEdldE1pbk1heFZhbHVlOl9fd2VicGFja19yZXF1aXJlX18oOTMxKSxHZXRWYWx1ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDIpLElzUGxhaW5PYmplY3Q6X193ZWJwYWNrX3JlcXVpcmVfXyg5OCksTWVyZ2U6X193ZWJwYWNrX3JlcXVpcmVfXyg5MzIpLE1lcmdlUmlnaHQ6X193ZWJwYWNrX3JlcXVpcmVfXyg5MzMpfTsvKioqL30sLyogOTMxICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgR2V0VmFsdWU9X193ZWJwYWNrX3JlcXVpcmVfXygyKTt2YXIgQ2xhbXA9X193ZWJwYWNrX3JlcXVpcmVfXyg0OSk7dmFyIEdldE1pbk1heFZhbHVlPWZ1bmN0aW9uIEdldE1pbk1heFZhbHVlKHNvdXJjZSxrZXksbWluLG1heCxkZWZhdWx0VmFsdWUpe2lmKGRlZmF1bHRWYWx1ZT09PXVuZGVmaW5lZCl7ZGVmYXVsdFZhbHVlPW1pbjt9dmFyIHZhbHVlPUdldFZhbHVlKHNvdXJjZSxrZXksZGVmYXVsdFZhbHVlKTtyZXR1cm4gQ2xhbXAodmFsdWUsbWluLG1heCk7fTttb2R1bGUuZXhwb3J0cz1HZXRNaW5NYXhWYWx1ZTsvKioqL30sLyogOTMyICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgQ3JlYXRlcyBhIG5ldyBPYmplY3QgdXNpbmcgYWxsIHZhbHVlcyBmcm9tIG9iajEgYW5kIG9iajIuXG4vLyAgSWYgYSB2YWx1ZSBleGlzdHMgaW4gYm90aCBvYmoxIGFuZCBvYmoyLCB0aGUgdmFsdWUgaW4gb2JqMSBpcyB1c2VkLlxudmFyIENsb25lPV9fd2VicGFja19yZXF1aXJlX18oOTYpO3ZhciBNZXJnZT1mdW5jdGlvbiBNZXJnZShvYmoxLG9iajIpe3ZhciBjbG9uZT1DbG9uZShvYmoxKTtmb3IodmFyIGtleSBpbiBvYmoyKXtpZighY2xvbmUuaGFzT3duUHJvcGVydHkoa2V5KSl7Y2xvbmVba2V5XT1vYmoyW2tleV07fX1yZXR1cm4gY2xvbmU7fTttb2R1bGUuZXhwb3J0cz1NZXJnZTsvKioqL30sLyogOTMzICovLyoqKi9mdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsvLyAgQ3JlYXRlcyBhIG5ldyBPYmplY3QgdXNpbmcgYWxsIHZhbHVlcyBmcm9tIG9iajEuXG4vLyAgXG4vLyAgVGhlbiBzY2FucyBvYmoyLiBJZiBhIHByb3BlcnR5IGlzIGZvdW5kIGluIG9iajIgdGhhdCAqYWxzbyogZXhpc3RzIGluIG9iajEsXG4vLyAgdGhlIHZhbHVlIGZyb20gb2JqMiBpcyB1c2VkLCBvdGhlcndpc2UgdGhlIHByb3BlcnR5IGlzIHNraXBwZWQuXG52YXIgQ2xvbmU9X193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7dmFyIE1lcmdlUmlnaHQ9ZnVuY3Rpb24gTWVyZ2VSaWdodChvYmoxLG9iajIpe3ZhciBjbG9uZT1DbG9uZShvYmoxKTtmb3IodmFyIGtleSBpbiBvYmoyKXtpZihjbG9uZS5oYXNPd25Qcm9wZXJ0eShrZXkpKXtjbG9uZVtrZXldPW9iajJba2V5XTt9fXJldHVybiBjbG9uZTt9O21vZHVsZS5leHBvcnRzPU1lcmdlUmlnaHQ7LyoqKi99LC8qIDkzNCAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9e1BhZDpfX3dlYnBhY2tfcmVxdWlyZV9fKDE1NyksRm9ybWF0Ol9fd2VicGFja19yZXF1aXJlX18oOTM1KSxSZXZlcnNlOl9fd2VicGFja19yZXF1aXJlX18oOTM2KX07LyoqKi99LC8qIDkzNSAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuICogUmVwbGFjZXMgJTEsICUyLCAlMyBldGMgaW4gdGhlIFN0cmluZyB3aXRoIHRoZSB2YWx1ZXNcbiAqIGdpdmVuIGluIHRoZSBhcnJheS4gVmFsdWVzIGFyZSBjYXN0IHRvIHN0cmluZ3MuXG4gKiBJZiBubyB2YWx1ZSBleGlzdHMgYW4gZW1wdHkgc3RyaW5nIGlzIGluc2VydGVkLlxuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gVGhlIHN0cmluZyBjb250YWluaW5nIHRoZSBtYXJrZXJzXG4gKiBAcGFyYW0ge2FycmF5fSB2YWx1ZXMgLSBBbiBhcnJheSBjb250YWluaW5nIHRoZSB2YWx1ZXMgdG8gcmVwbGFjZSB0aGUgbWFya2VycyB3aXRoXG4qL3ZhciBGb3JtYXQ9ZnVuY3Rpb24gRm9ybWF0KHN0cmluZyx2YWx1ZXMpe3N0cmluZy5yZXBsYWNlKC8lKFswLTldKykvZyxmdW5jdGlvbihzLG4pe3JldHVybiB2YWx1ZXNbTnVtYmVyKG4pLTFdO30pO3JldHVybiBzdHJpbmc7fTttb2R1bGUuZXhwb3J0cz1Gb3JtYXQ7LyoqKi99LC8qIDkzNiAqLy8qKiovZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpey8qKlxuKiBUYWtlcyB0aGUgZ2l2ZW4gc3RyaW5nIGFuZCByZXZlcnNlcyBpdCwgcmV0dXJuaW5nIHRoZSByZXZlcnNlZCBzdHJpbmcuXG4qIEZvciBleGFtcGxlIGlmIGdpdmVuIHRoZSBzdHJpbmcgYEF0YXJpIDUyMFNUYCBpdCB3b3VsZCByZXR1cm4gYFRTMDI1IGlyYXRBYC5cbipcbiogQG1ldGhvZCBQaGFzZXIuVXRpbHMucmV2ZXJzZVN0cmluZ1xuKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIC0gVGhlIHN0cmluZyB0byBiZSByZXZlcnNlZC5cbiogQHJldHVybiB7c3RyaW5nfSBUaGUgcmV2ZXJzZWQgc3RyaW5nLlxuKi92YXIgUmV2ZXJzZVN0cmluZz1mdW5jdGlvbiBSZXZlcnNlU3RyaW5nKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpO307bW9kdWxlLmV4cG9ydHM9UmV2ZXJzZVN0cmluZzsvKioqL31dLyoqKioqKi8pKTt9KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy92ZW5kb3IvcGhhc2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},,,function(module,exports){eval('module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, "loaded", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, "id", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanM/YzNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')}]);